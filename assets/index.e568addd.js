function _mergeNamespaces($,_e){return _e.forEach(function(et){et&&typeof et!="string"&&!Array.isArray(et)&&Object.keys(et).forEach(function(tt){if(tt!=="default"&&!(tt in $)){var nt=Object.getOwnPropertyDescriptor(et,tt);Object.defineProperty($,tt,nt.get?nt:{enumerable:!0,get:function(){return et[tt]}})}})}),Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}const p$8=function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const at of nt)if(at.type==="childList")for(const ot of at.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&tt(ot)}).observe(document,{childList:!0,subtree:!0});function et(nt){const at={};return nt.integrity&&(at.integrity=nt.integrity),nt.referrerpolicy&&(at.referrerPolicy=nt.referrerpolicy),nt.crossorigin==="use-credentials"?at.credentials="include":nt.crossorigin==="anonymous"?at.credentials="omit":at.credentials="same-origin",at}function tt(nt){if(nt.ep)return;nt.ep=!0;const at=et(nt);fetch(nt.href,at)}};p$8();var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},client={},reactDom={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$7=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3($){return $===null||typeof $!="object"?null:($=z$3&&$[z$3]||$["@@iterator"],typeof $=="function"?$:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$2($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function($,_e){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_e,"setState")};E$2.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$1(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2($,_e,et){var tt,nt={},at=null,ot=null;if(_e!=null)for(tt in _e.ref!==void 0&&(ot=_e.ref),_e.key!==void 0&&(at=""+_e.key),_e)J.call(_e,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);var it=arguments.length-2;if(it===1)nt.children=et;else if(1<it){for(var st=Array(it),ut=0;ut<it;ut++)st[ut]=arguments[ut+2];nt.children=st}if($&&$.defaultProps)for(tt in it=$.defaultProps,it)nt[tt]===void 0&&(nt[tt]=it[tt]);return{$$typeof:l$5,type:$,key:at,ref:ot,props:nt,_owner:K$1.current}}function N$2($,_e){return{$$typeof:l$5,type:$.type,key:_e,ref:$.ref,props:$.props,_owner:$._owner}}function O$2($){return typeof $=="object"&&$!==null&&$.$$typeof===l$5}function escape($){var _e={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _e[et]})}var P$2=/\/+/g;function Q$2($,_e){return typeof $=="object"&&$!==null&&$.key!=null?escape(""+$.key):_e.toString(36)}function R$2($,_e,et,tt,nt){var at=typeof $;(at==="undefined"||at==="boolean")&&($=null);var ot=!1;if($===null)ot=!0;else switch(at){case"string":case"number":ot=!0;break;case"object":switch($.$$typeof){case l$5:case n$7:ot=!0}}if(ot)return ot=$,nt=nt(ot),$=tt===""?"."+Q$2(ot,0):tt,I$2(nt)?(et="",$!=null&&(et=$.replace(P$2,"$&/")+"/"),R$2(nt,_e,et,"",function(ut){return ut})):nt!=null&&(O$2(nt)&&(nt=N$2(nt,et+(!nt.key||ot&&ot.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+$)),_e.push(nt)),1;if(ot=0,tt=tt===""?".":tt+":",I$2($))for(var it=0;it<$.length;it++){at=$[it];var st=tt+Q$2(at,it);ot+=R$2(at,_e,et,st,nt)}else if(st=A$3($),typeof st=="function")for($=st.call($),it=0;!(at=$.next()).done;)at=at.value,st=tt+Q$2(at,it++),ot+=R$2(at,_e,et,st,nt);else if(at==="object")throw _e=String($),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$2($,_e,et){if($==null)return $;var tt=[],nt=0;return R$2($,tt,"","",function(at){return _e.call(et,at,nt++)}),tt}function T$1($){if($._status===-1){var _e=$._result;_e=_e(),_e.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_e)}if($._status===1)return $._result.default;throw $._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function($,_e,et){S$2($,function(){_e.apply(this,arguments)},et)},count:function($){var _e=0;return S$2($,function(){_e++}),_e},toArray:function($){return S$2($,function(_e){return _e})||[]},only:function($){if(!O$2($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function($,_e,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$1({},$.props),nt=$.key,at=$.ref,ot=$._owner;if(_e!=null){if(_e.ref!==void 0&&(at=_e.ref,ot=K$1.current),_e.key!==void 0&&(nt=""+_e.key),$.type&&$.type.defaultProps)var it=$.type.defaultProps;for(st in _e)J.call(_e,st)&&!L$2.hasOwnProperty(st)&&(tt[st]=_e[st]===void 0&&it!==void 0?it[st]:_e[st])}var st=arguments.length-2;if(st===1)tt.children=et;else if(1<st){it=Array(st);for(var ut=0;ut<st;ut++)it[ut]=arguments[ut+2];tt.children=it}return{$$typeof:l$5,type:$.type,key:nt,ref:at,props:tt,_owner:ot}};react_production_min.createContext=function($){return $={$$typeof:u$4,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$6,_context:$},$.Consumer=$};react_production_min.createElement=M$2;react_production_min.createFactory=function($){var _e=M$2.bind(null,$);return _e.type=$,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$5,render:$}};react_production_min.isValidElement=O$2;react_production_min.lazy=function($){return{$$typeof:y$2,_payload:{_status:-1,_result:$},_init:T$1}};react_production_min.memo=function($,_e){return{$$typeof:x$2,type:$,compare:_e===void 0?null:_e}};react_production_min.startTransition=function($){var _e=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function($,_e){return U$2.current.useCallback($,_e)};react_production_min.useContext=function($){return U$2.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$2.current.useDeferredValue($)};react_production_min.useEffect=function($,_e){return U$2.current.useEffect($,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function($,_e,et){return U$2.current.useImperativeHandle($,_e,et)};react_production_min.useInsertionEffect=function($,_e){return U$2.current.useInsertionEffect($,_e)};react_production_min.useLayoutEffect=function($,_e){return U$2.current.useLayoutEffect($,_e)};react_production_min.useMemo=function($,_e){return U$2.current.useMemo($,_e)};react_production_min.useReducer=function($,_e,et){return U$2.current.useReducer($,_e,et)};react_production_min.useRef=function($){return U$2.current.useRef($)};react_production_min.useState=function($){return U$2.current.useState($)};react_production_min.useSyncExternalStore=function($,_e,et){return U$2.current.useSyncExternalStore($,_e,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var React=react.exports,scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function _e(sr,fr){var yr=sr.length;sr.push(fr);e:for(;0<yr;){var Pr=yr-1>>>1,wr=sr[Pr];if(0<nt(wr,fr))sr[Pr]=fr,sr[yr]=wr,yr=Pr;else break e}}function et(sr){return sr.length===0?null:sr[0]}function tt(sr){if(sr.length===0)return null;var fr=sr[0],yr=sr.pop();if(yr!==fr){sr[0]=yr;e:for(var Pr=0,wr=sr.length,Mr=wr>>>1;Pr<Mr;){var Lr=2*(Pr+1)-1,Br=sr[Lr],qr=Lr+1,Qr=sr[qr];if(0>nt(Br,yr))qr<wr&&0>nt(Qr,Br)?(sr[Pr]=Qr,sr[qr]=yr,Pr=qr):(sr[Pr]=Br,sr[Lr]=yr,Pr=Lr);else if(qr<wr&&0>nt(Qr,yr))sr[Pr]=Qr,sr[qr]=yr,Pr=qr;else break e}}return fr}function nt(sr,fr){var yr=sr.sortIndex-fr.sortIndex;return yr!==0?yr:sr.id-fr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var at=performance;$.unstable_now=function(){return at.now()}}else{var ot=Date,it=ot.now();$.unstable_now=function(){return ot.now()-it}}var st=[],ut=[],ft=1,dt=null,vt=3,gt=!1,yt=!1,xt=!1,Ct=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $t(sr){for(var fr=et(ut);fr!==null;){if(fr.callback===null)tt(ut);else if(fr.startTime<=sr)tt(ut),fr.sortIndex=fr.expirationTime,_e(st,fr);else break;fr=et(ut)}}function It(sr){if(xt=!1,$t(sr),!yt)if(et(st)!==null)yt=!0,nr(Ot);else{var fr=et(ut);fr!==null&&dr(It,fr.startTime-sr)}}function Ot(sr,fr){yt=!1,xt&&(xt=!1,wt(zt),zt=-1),gt=!0;var yr=vt;try{for($t(fr),dt=et(st);dt!==null&&(!(dt.expirationTime>fr)||sr&&!Ut());){var Pr=dt.callback;if(typeof Pr=="function"){dt.callback=null,vt=dt.priorityLevel;var wr=Pr(dt.expirationTime<=fr);fr=$.unstable_now(),typeof wr=="function"?dt.callback=wr:dt===et(st)&&tt(st),$t(fr)}else tt(st);dt=et(st)}if(dt!==null)var Mr=!0;else{var Lr=et(ut);Lr!==null&&dr(It,Lr.startTime-fr),Mr=!1}return Mr}finally{dt=null,vt=yr,gt=!1}}var Lt=!1,Ft=null,zt=-1,Gt=5,jt=-1;function Ut(){return!($.unstable_now()-jt<Gt)}function Kt(){if(Ft!==null){var sr=$.unstable_now();jt=sr;var fr=!0;try{fr=Ft(!0,sr)}finally{fr?Zt():(Lt=!1,Ft=null)}}else Lt=!1}var Zt;if(typeof Et=="function")Zt=function(){Et(Kt)};else if(typeof MessageChannel!="undefined"){var Qt=new MessageChannel,rr=Qt.port2;Qt.port1.onmessage=Kt,Zt=function(){rr.postMessage(null)}}else Zt=function(){Ct(Kt,0)};function nr(sr){Ft=sr,Lt||(Lt=!0,Zt())}function dr(sr,fr){zt=Ct(function(){sr($.unstable_now())},fr)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(sr){sr.callback=null},$.unstable_continueExecution=function(){yt||gt||(yt=!0,nr(Ot))},$.unstable_forceFrameRate=function(sr){0>sr||125<sr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Gt=0<sr?Math.floor(1e3/sr):5},$.unstable_getCurrentPriorityLevel=function(){return vt},$.unstable_getFirstCallbackNode=function(){return et(st)},$.unstable_next=function(sr){switch(vt){case 1:case 2:case 3:var fr=3;break;default:fr=vt}var yr=vt;vt=fr;try{return sr()}finally{vt=yr}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(sr,fr){switch(sr){case 1:case 2:case 3:case 4:case 5:break;default:sr=3}var yr=vt;vt=sr;try{return fr()}finally{vt=yr}},$.unstable_scheduleCallback=function(sr,fr,yr){var Pr=$.unstable_now();switch(typeof yr=="object"&&yr!==null?(yr=yr.delay,yr=typeof yr=="number"&&0<yr?Pr+yr:Pr):yr=Pr,sr){case 1:var wr=-1;break;case 2:wr=250;break;case 5:wr=1073741823;break;case 4:wr=1e4;break;default:wr=5e3}return wr=yr+wr,sr={id:ft++,callback:fr,priorityLevel:sr,startTime:yr,expirationTime:wr,sortIndex:-1},yr>Pr?(sr.sortIndex=yr,_e(ut,sr),et(st)===null&&sr===et(ut)&&(xt?(wt(zt),zt=-1):xt=!0,dr(It,yr-Pr))):(sr.sortIndex=wr,_e(st,sr),yt||gt||(yt=!0,nr(Ot))),sr},$.unstable_shouldYield=Ut,$.unstable_wrapCallback=function(sr){var fr=vt;return function(){var yr=vt;vt=fr;try{return sr.apply(this,arguments)}finally{vt=yr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$6($){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_e+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,_e){ha($,_e),ha($+"Capture",_e)}function ha($,_e){for(ea[$]=_e,$=0;$<_e.length;$++)da.add(_e[$])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,_e,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,_e,et,tt){if(_e===null||typeof _e=="undefined"||pa($,_e,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$4($,_e,et,tt,nt,at,ot){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=$,this.type=_e,this.sanitizeURL=at,this.removeEmptyString=ot}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$2[$]=new v$4($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _e=$[0];z$2[_e]=new v$4(_e,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$2[$]=new v$4($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$2[$]=new v$4($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$2[$]=new v$4($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$2[$]=new v$4($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$2[$]=new v$4($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$2[$]=new v$4($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$2[$]=new v$4($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$2[$]=new v$4($,1,!1,$.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$2[$]=new v$4($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,_e,et,tt){var nt=z$2.hasOwnProperty(_e)?z$2[_e]:null;(nt!==null?nt.type!==0:tt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,et,nt,tt)&&(et=null),tt||nt===null?oa(_e)&&(et===null?$.removeAttribute(_e):$.setAttribute(_e,""+et)):nt.mustUseProperty?$[nt.propertyName]=et===null?nt.type===3?!1:"":et:(_e=nt.attributeName,tt=nt.attributeNamespace,et===null?$.removeAttribute(_e):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_e,et):$.setAttribute(_e,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A$2=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(et){var _e=et.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+$}var Na=!1;function Oa($,_e){if(!$||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ut){var tt=ut}Reflect.construct($,[],_e)}else{try{_e.call()}catch(ut){tt=ut}$.call(_e.prototype)}else{try{throw Error()}catch(ut){tt=ut}$()}}catch(ut){if(ut&&tt&&typeof ut.stack=="string"){for(var nt=ut.stack.split(`
`),at=tt.stack.split(`
`),ot=nt.length-1,it=at.length-1;1<=ot&&0<=it&&nt[ot]!==at[it];)it--;for(;1<=ot&&0<=it;ot--,it--)if(nt[ot]!==at[it]){if(ot!==1||it!==1)do if(ot--,it--,0>it||nt[ot]!==at[it]){var st=`
`+nt[ot].replace(" at new "," at ");return $.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",$.displayName)),st}while(1<=ot&&0<=it);break}}}finally{Na=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var _e=$.render;return $=$.displayName,$||($=_e.displayName||_e.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return _e=$.displayName||null,_e!==null?_e:Qa($.type)||"Memo";case Ha:_e=$._payload,$=$._init;try{return Qa($(_e))}catch{}}return null}function Ra($){var _e=$.type;switch($.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_e.render,$=$.displayName||$.name||"",_e.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var _e=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua($){var _e=Ta($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_e),tt=""+$[_e];if(!$.hasOwnProperty(_e)&&typeof et!="undefined"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,at=et.set;return Object.defineProperty($,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(ot){tt=""+ot,at.call(this,ot)}}),Object.defineProperty($,_e,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(ot){tt=""+ot},stopTracking:function(){$._valueTracker=null,delete $[_e]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var _e=$._valueTracker;if(!_e)return!0;var et=_e.getValue(),tt="";return $&&(tt=Ta($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_e.setValue($),!0):!1}function Xa($){if($=$||(typeof document!="undefined"?document:void 0),typeof $=="undefined")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,_e){var et=_e.checked;return A$2({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et!=null?et:$._wrapperState.initialChecked})}function Za($,_e){var et=_e.defaultValue==null?"":_e.defaultValue,tt=_e.checked!=null?_e.checked:_e.defaultChecked;et=Sa(_e.value!=null?_e.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab($,_e){_e=_e.checked,_e!=null&&ta($,"checked",_e,!1)}function bb($,_e){ab($,_e);var et=Sa(_e.value),tt=_e.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_e.hasOwnProperty("value")?cb($,_e.type,et):_e.hasOwnProperty("defaultValue")&&cb($,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&($.defaultChecked=!!_e.defaultChecked)}function db($,_e,et){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tt=_e.type;if(!(tt!=="submit"&&tt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+$._wrapperState.initialValue,et||_e===$.value||($.value=_e),$.defaultValue=_e}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb($,_e,et){(_e!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb=Array.isArray;function fb($,_e,et,tt){if($=$.options,_e){_e={};for(var nt=0;nt<et.length;nt++)_e["$"+et[nt]]=!0;for(et=0;et<$.length;et++)nt=_e.hasOwnProperty("$"+$[et].value),$[et].selected!==nt&&($[et].selected=nt),nt&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa(et),_e=null,nt=0;nt<$.length;nt++){if($[nt].value===et){$[nt].selected=!0,tt&&($[nt].defaultSelected=!0);return}_e!==null||$[nt].disabled||(_e=$[nt])}_e!==null&&(_e.selected=!0)}}function gb($,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$2({},_e,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,_e){var et=_e.value;if(et==null){if(et=_e.children,_e=_e.defaultValue,et!=null){if(_e!=null)throw Error(p$6(92));if(eb(et)){if(1<et.length)throw Error(p$6(93));et=et[0]}_e=et}_e==null&&(_e=""),et=_e}$._wrapperState={initialValue:Sa(et)}}function ib($,_e){var et=Sa(_e.value),tt=Sa(_e.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_e.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb($){var _e=$.textContent;_e===$._wrapperState.initialValue&&_e!==""&&_e!==null&&($.value=_e)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1($,_e){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(_e):$==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(_e,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return $(_e,et,tt,nt)})}:$}(function($,_e){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_e.firstChild;)$.appendChild(_e.firstChild)}});function ob($,_e){if(_e){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_e;return}}$.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(_e){_e=_e+$.charAt(0).toUpperCase()+$.substring(1),pb[_e]=pb[$]})});function rb$1($,_e,et){return _e==null||typeof _e=="boolean"||_e===""?"":et||typeof _e!="number"||_e===0||pb.hasOwnProperty($)&&pb[$]?(""+_e).trim():_e+"px"}function sb($,_e){$=$.style;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb$1(et,_e[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,nt):$[et]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,_e){if(_e){if(tb[$]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$6(137,$));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$6(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$6(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$6(62))}}function vb($,_e){if($.indexOf("-")===-1)return typeof _e.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$6(280));var _e=$.stateNode;_e&&(_e=Db(_e),yb($.stateNode,$.type,_e))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,_e=Ab;if(Ab=zb=null,Bb($),_e)for($=0;$<_e.length;$++)Bb(_e[$])}}function Gb($,_e){return $(_e)}function Hb(){}var Ib=!1;function Jb($,_e,et){if(Ib)return $(_e,et);Ib=!0;try{return Gb($,_e,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,_e){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$6(231,_e,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,_e,et,tt,nt,at,ot,it,st){var ut=Array.prototype.slice.call(arguments,3);try{_e.apply(et,ut)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,_e,et,tt,nt,at,ot,it,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,_e,et,tt,nt,at,ot,it,st){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=ut)}}function Vb($){var _e=$,et=$;if($.alternate)for(;_e.return;)_e=_e.return;else{$=_e;do _e=$,(_e.flags&4098)!==0&&(et=_e.return),$=_e.return;while($)}return _e.tag===3?et:null}function Wb($){if($.tag===13){var _e=$.memoizedState;if(_e===null&&($=$.alternate,$!==null&&(_e=$.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$6(188))}function Yb($){var _e=$.alternate;if(!_e){if(_e=Vb($),_e===null)throw Error(p$6(188));return _e!==$?null:$}for(var et=$,tt=_e;;){var nt=et.return;if(nt===null)break;var at=nt.alternate;if(at===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===at.child){for(at=nt.child;at;){if(at===et)return Xb(nt),$;if(at===tt)return Xb(nt),_e;at=at.sibling}throw Error(p$6(188))}if(et.return!==tt.return)et=nt,tt=at;else{for(var ot=!1,it=nt.child;it;){if(it===et){ot=!0,et=nt,tt=at;break}if(it===tt){ot=!0,tt=nt,et=at;break}it=it.sibling}if(!ot){for(it=at.child;it;){if(it===et){ot=!0,et=at,tt=nt;break}if(it===tt){ot=!0,tt=at,et=nt;break}it=it.sibling}if(!ot)throw Error(p$6(189))}}if(et.alternate!==tt)throw Error(p$6(190))}if(et.tag!==3)throw Error(p$6(188));return et.stateNode.current===et?$:_e}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _e=$b($);if(_e!==null)return _e;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,_e){var et=$.pendingLanes;if(et===0)return 0;var tt=0,nt=$.suspendedLanes,at=$.pingedLanes,ot=et&268435455;if(ot!==0){var it=ot&~nt;it!==0?tt=tc(it):(at&=ot,at!==0&&(tt=tc(at)))}else ot=et&~nt,ot!==0?tt=tc(ot):at!==0&&(tt=tc(at));if(tt===0)return 0;if(_e!==0&&_e!==tt&&(_e&nt)===0&&(nt=tt&-tt,at=_e&-_e,nt>=at||nt===16&&(at&4194240)!==0))return _e;if((tt&4)!==0&&(tt|=et&16),_e=$.entangledLanes,_e!==0)for($=$.entanglements,_e&=tt;0<_e;)et=31-oc(_e),nt=1<<et,tt|=$[et],_e&=~nt;return tt}function vc($,_e){switch($){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,_e){for(var et=$.suspendedLanes,tt=$.pingedLanes,nt=$.expirationTimes,at=$.pendingLanes;0<at;){var ot=31-oc(at),it=1<<ot,st=nt[ot];st===-1?((it&et)===0||(it&tt)!==0)&&(nt[ot]=vc(it,_e)):st<=_e&&($.expiredLanes|=it),at&=~it}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),$}function zc($){for(var _e=[],et=0;31>et;et++)_e.push($);return _e}function Ac($,_e,et){$.pendingLanes|=_e,_e!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_e=31-oc(_e),$[_e]=et}function Bc($,_e){var et=$.pendingLanes&~_e;$.pendingLanes=_e,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_e,$.mutableReadLanes&=_e,$.entangledLanes&=_e,_e=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var nt=31-oc(et),at=1<<nt;_e[nt]=0,tt[nt]=-1,$[nt]=-1,et&=~at}}function Cc($,_e){var et=$.entangledLanes|=_e;for($=$.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&_e|$[tt]&_e&&($[tt]|=_e),et&=~nt}}var C=0;function Dc($){return $&=-$,1<$?4<$?($&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,_e){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc($,_e,et,tt,nt,at){return $===null||$.nativeEvent!==at?($={blockedOn:_e,domEventName:et,eventSystemFlags:tt,nativeEvent:at,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),$):($.eventSystemFlags|=tt,_e=$.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),$)}function Uc($,_e,et,tt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,$,_e,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,$,_e,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,$,_e,et,tt,nt),!0;case"pointerover":var at=nt.pointerId;return Oc.set(at,Tc(Oc.get(at)||null,$,_e,et,tt,nt)),!0;case"gotpointercapture":return at=nt.pointerId,Pc.set(at,Tc(Pc.get(at)||null,$,_e,et,tt,nt)),!0}return!1}function Vc($){var _e=Wc($.target);if(_e!==null){var et=Vb(_e);if(et!==null){if(_e=et.tag,_e===13){if(_e=Wb(et),_e!==null){$.blockedOn=_e,Ic($.priority,function(){Gc(et)});return}}else if(_e===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var _e=$.targetContainers;0<_e.length;){var et=Yc($.domEventName,$.eventSystemFlags,_e[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _e=Cb(et),_e!==null&&Fc(_e),$.blockedOn=et,!1;_e.shift()}return!0}function Zc($,_e,et){Xc($)&&et.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,_e){$.blockedOn===_e&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function _e(nt){return ad(nt,$)}if(0<Kc.length){ad(Kc[0],$);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(_e),Pc.forEach(_e),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,_e,et,tt){var nt=C,at=cd.transition;cd.transition=null;try{C=1,fd($,_e,et,tt)}finally{C=nt,cd.transition=at}}function gd($,_e,et,tt){var nt=C,at=cd.transition;cd.transition=null;try{C=4,fd($,_e,et,tt)}finally{C=nt,cd.transition=at}}function fd($,_e,et,tt){if(dd){var nt=Yc($,_e,et,tt);if(nt===null)hd($,_e,tt,id$1,et),Sc($,tt);else if(Uc(nt,$,_e,et,tt))tt.stopPropagation();else if(Sc($,tt),_e&4&&-1<Rc.indexOf($)){for(;nt!==null;){var at=Cb(nt);if(at!==null&&Ec(at),at=Yc($,_e,et,tt),at===null&&hd($,_e,tt,id$1,et),at===nt)break;nt=at}nt!==null&&tt.stopPropagation()}else hd($,_e,tt,null,et)}}var id$1=null;function Yc($,_e,et,tt){if(id$1=null,$=xb(tt),$=Wc($),$!==null)if(_e=Vb($),_e===null)$=null;else if(et=_e.tag,et===13){if($=Wb(_e),$!==null)return $;$=null}else if(et===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;$=null}else _e!==$&&($=null);return id$1=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,_e=ld,et=_e.length,tt,nt="value"in kd?kd.value:kd.textContent,at=nt.length;for($=0;$<et&&_e[$]===nt[$];$++);var ot=et-$;for(tt=1;tt<=ot&&_e[et-tt]===nt[at-tt];tt++);return md=nt.slice($,1<tt?1-tt:void 0)}function od($){var _e=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_e===13&&($=13)):$=_e,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function _e(et,tt,nt,at,ot){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=at,this.target=ot,this.currentTarget=null;for(var it in $)$.hasOwnProperty(it)&&(et=$[it],this[it]=et?et(at):at[it]);return this.isDefaultPrevented=(at.defaultPrevented!=null?at.defaultPrevented:at.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState($):($=Od[$])?!!_e[$]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function($){if($.key){var _e=Md[$.key]||$.key;if(_e!=="Unidentified")return _e}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge($,_e){switch($){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,_e){switch($){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return $=_e.data,$===ee&&fe?null:$;default:return null}}function ke($,_e){if(ie)return $==="compositionend"||!ae&&ge($,_e)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e==="input"?!!le[$.type]:_e==="textarea"}function ne($,_e,et,tt){Eb(tt),_e=oe(_e,"onChange"),0<_e.length&&(et=new td("onChange","change",null,et,tt),$.push({event:et,listeners:_e}))}var pe=null,qe=null;function re($){se($,0)}function te($){var _e=ue($);if(Wa(_e))return $}function ve($,_e){if($==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,$,xb($)),Jb(re,_e)}}function Ce($,_e,et){$==="focusin"?(Ae(),pe=_e,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,_e){if($==="click")return te(_e)}function Fe($,_e){if($==="input"||$==="change")return te(_e)}function Ge($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,_e){if(He($,_e))return!0;if(typeof $!="object"||$===null||typeof _e!="object"||_e===null)return!1;var et=Object.keys($),tt=Object.keys(_e);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(_e,nt)||!He($[nt],_e[nt]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_e){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_e&&tt>=_e)return{node:et,offset:_e-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_e){return $&&_e?$===_e?!0:$&&$.nodeType===3?!1:_e&&_e.nodeType===3?Le($,_e.parentNode):"contains"in $?$.contains(_e):$.compareDocumentPosition?!!($.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var $=window,_e=Xa();_e instanceof $.HTMLIFrameElement;){try{var et=typeof _e.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_e.contentWindow;else break;_e=Xa($.document)}return _e}function Ne($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e&&(_e==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_e==="textarea"||$.contentEditable==="true")}function Oe($){var _e=Me(),et=$.focusedElem,tt=$.selectionRange;if(_e!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_e=tt.start,$=tt.end,$===void 0&&($=_e),"selectionStart"in et)et.selectionStart=_e,et.selectionEnd=Math.min($,et.value.length);else if($=(_e=et.ownerDocument||document)&&_e.defaultView||window,$.getSelection){$=$.getSelection();var nt=et.textContent.length,at=Math.min(tt.start,nt);tt=tt.end===void 0?at:Math.min(tt.end,nt),!$.extend&&at>tt&&(nt=tt,tt=at,at=nt),nt=Ke(et,at);var ot=Ke(et,tt);nt&&ot&&($.rangeCount!==1||$.anchorNode!==nt.node||$.anchorOffset!==nt.offset||$.focusNode!==ot.node||$.focusOffset!==ot.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),$.removeAllRanges(),at>tt?($.addRange(_e),$.extend(ot.node,ot.offset)):(_e.setEnd(ot.node,ot.offset),$.addRange(_e)))}}for(_e=[],$=et;$=$.parentNode;)$.nodeType===1&&_e.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_e.length;et++)$=_e[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,_e,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_e=new td("onSelect","select",null,_e,et),$.push({event:_e,listeners:tt}),_e.target=Qe)))}function Ve($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit"+$]="webkit"+_e,et["Moz"+$]="moz"+_e,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _e=We[$],et;for(et in _e)if(_e.hasOwnProperty(et)&&et in Ye)return Xe[$]=_e[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_e){df.set($,_e),fa(_e,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_e,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub(tt,_e,void 0,$),$.currentTarget=null}function se($,_e){_e=(_e&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],nt=tt.event;tt=tt.listeners;e:{var at=void 0;if(_e)for(var ot=tt.length-1;0<=ot;ot--){var it=tt[ot],st=it.instance,ut=it.currentTarget;if(it=it.listener,st!==at&&nt.isPropagationStopped())break e;nf(nt,it,ut),at=st}else for(ot=0;ot<tt.length;ot++){if(it=tt[ot],st=it.instance,ut=it.currentTarget,it=it.listener,st!==at&&nt.isPropagationStopped())break e;nf(nt,it,ut),at=st}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D$1($,_e){var et=_e[of];et===void 0&&(et=_e[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_e,$,2,!1),et.add(tt))}function qf($,_e,et){var tt=0;_e&&(tt|=4),pf(et,$,tt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _e=$.nodeType===9?$:$.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf($,_e,et,tt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,_e,et,$),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),tt?nt!==void 0?$.addEventListener(_e,et,{capture:!0,passive:nt}):$.addEventListener(_e,et,!0):nt!==void 0?$.addEventListener(_e,et,{passive:nt}):$.addEventListener(_e,et,!1)}function hd($,_e,et,tt,nt){var at=tt;if((_e&1)===0&&(_e&2)===0&&tt!==null)e:for(;;){if(tt===null)return;var ot=tt.tag;if(ot===3||ot===4){var it=tt.stateNode.containerInfo;if(it===nt||it.nodeType===8&&it.parentNode===nt)break;if(ot===4)for(ot=tt.return;ot!==null;){var st=ot.tag;if((st===3||st===4)&&(st=ot.stateNode.containerInfo,st===nt||st.nodeType===8&&st.parentNode===nt))return;ot=ot.return}for(;it!==null;){if(ot=Wc(it),ot===null)return;if(st=ot.tag,st===5||st===6){tt=at=ot;continue e}it=it.parentNode}}tt=tt.return}Jb(function(){var ut=at,ft=xb(et),dt=[];e:{var vt=df.get($);if(vt!==void 0){var gt=td,yt=$;switch($){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":gt=Rd;break;case"focusin":yt="focus",gt=Fd;break;case"focusout":yt="blur",gt=Fd;break;case"beforeblur":case"afterblur":gt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Vd;break;case $e:case af:case bf:gt=Hd;break;case cf:gt=Xd;break;case"scroll":gt=vd;break;case"wheel":gt=Zd;break;case"copy":case"cut":case"paste":gt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Td}var xt=(_e&4)!==0,Ct=!xt&&$==="scroll",wt=xt?vt!==null?vt+"Capture":null:vt;xt=[];for(var Et=ut,$t;Et!==null;){$t=Et;var It=$t.stateNode;if($t.tag===5&&It!==null&&($t=It,wt!==null&&(It=Kb(Et,wt),It!=null&&xt.push(tf(Et,It,$t)))),Ct)break;Et=Et.return}0<xt.length&&(vt=new gt(vt,yt,null,et,ft),dt.push({event:vt,listeners:xt}))}}if((_e&7)===0){e:{if(vt=$==="mouseover"||$==="pointerover",gt=$==="mouseout"||$==="pointerout",vt&&et!==wb&&(yt=et.relatedTarget||et.fromElement)&&(Wc(yt)||yt[uf]))break e;if((gt||vt)&&(vt=ft.window===ft?ft:(vt=ft.ownerDocument)?vt.defaultView||vt.parentWindow:window,gt?(yt=et.relatedTarget||et.toElement,gt=ut,yt=yt?Wc(yt):null,yt!==null&&(Ct=Vb(yt),yt!==Ct||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(gt=null,yt=ut),gt!==yt)){if(xt=Bd,It="onMouseLeave",wt="onMouseEnter",Et="mouse",($==="pointerout"||$==="pointerover")&&(xt=Td,It="onPointerLeave",wt="onPointerEnter",Et="pointer"),Ct=gt==null?vt:ue(gt),$t=yt==null?vt:ue(yt),vt=new xt(It,Et+"leave",gt,et,ft),vt.target=Ct,vt.relatedTarget=$t,It=null,Wc(ft)===ut&&(xt=new xt(wt,Et+"enter",yt,et,ft),xt.target=$t,xt.relatedTarget=Ct,It=xt),Ct=It,gt&&yt)t:{for(xt=gt,wt=yt,Et=0,$t=xt;$t;$t=vf($t))Et++;for($t=0,It=wt;It;It=vf(It))$t++;for(;0<Et-$t;)xt=vf(xt),Et--;for(;0<$t-Et;)wt=vf(wt),$t--;for(;Et--;){if(xt===wt||wt!==null&&xt===wt.alternate)break t;xt=vf(xt),wt=vf(wt)}xt=null}else xt=null;gt!==null&&wf(dt,vt,gt,xt,!1),yt!==null&&Ct!==null&&wf(dt,Ct,yt,xt,!0)}}e:{if(vt=ut?ue(ut):window,gt=vt.nodeName&&vt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&vt.type==="file")var Ot=ve;else if(me(vt))if(we)Ot=Fe;else{Ot=De;var Lt=Ce}else(gt=vt.nodeName)&&gt.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(Ot=Ee);if(Ot&&(Ot=Ot($,ut))){ne(dt,Ot,et,ft);break e}Lt&&Lt($,vt,ut),$==="focusout"&&(Lt=vt._wrapperState)&&Lt.controlled&&vt.type==="number"&&cb(vt,"number",vt.value)}switch(Lt=ut?ue(ut):window,$){case"focusin":(me(Lt)||Lt.contentEditable==="true")&&(Qe=Lt,Re=ut,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,et,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,et,ft)}var Ft;if(ae)e:{switch($){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ie?ge($,et)&&(zt="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(zt="onCompositionStart");zt&&(de&&et.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(Ft=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Lt=oe(ut,zt),0<Lt.length&&(zt=new Ld(zt,$,null,et,ft),dt.push({event:zt,listeners:Lt}),Ft?zt.data=Ft:(Ft=he(et),Ft!==null&&(zt.data=Ft)))),(Ft=ce?je($,et):ke($,et))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(ft=new Ld("onBeforeInput","beforeinput",null,et,ft),dt.push({event:ft,listeners:ut}),ft.data=Ft))}se(dt,_e)})}function tf($,_e,et){return{instance:$,listener:_e,currentTarget:et}}function oe($,_e){for(var et=_e+"Capture",tt=[];$!==null;){var nt=$,at=nt.stateNode;nt.tag===5&&at!==null&&(nt=at,at=Kb($,et),at!=null&&tt.unshift(tf($,at,nt)),at=Kb($,_e),at!=null&&tt.push(tf($,at,nt))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_e,et,tt,nt){for(var at=_e._reactName,ot=[];et!==null&&et!==tt;){var it=et,st=it.alternate,ut=it.stateNode;if(st!==null&&st===tt)break;it.tag===5&&ut!==null&&(it=ut,nt?(st=Kb(et,at),st!=null&&ot.unshift(tf(et,st,it))):nt||(st=Kb(et,at),st!=null&&ot.push(tf(et,st,it)))),et=et.return}ot.length!==0&&$.push({event:_e,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_e,et){if(_e=zf(_e),zf($)!==_e&&et)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_e){return $==="textarea"||$==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_e){var et=_e,tt=0;do{var nt=et.nextSibling;if($.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){$.removeChild(nt),bd(_e);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(_e)}function Lf($){for(;$!=null;$=$.nextSibling){var _e=$.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=$.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _e=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_e===0)return $;_e--}else et==="/$"&&_e++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var _e=$[Of];if(_e)return _e;for(var et=$.parentNode;et;){if(_e=et[uf]||et[Of]){if(et=_e.alternate,_e.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _e}$=et,et=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$6(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$1($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1($,_e){Tf++,Sf[Tf]=$.current,$.current=_e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_e){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_e)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},at;for(at in et)nt[at]=_e[at];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$1(Wf),E$1(H$1)}function ag($,_e,et){if(H$1.current!==Vf)throw Error(p$6(168));G$1(H$1,_e),G$1(Wf,et)}function bg($,_e,et){var tt=$.stateNode;if(_e=_e.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _e))throw Error(p$6(108,Ra($)||"Unknown",nt));return A$2({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,$),G$1(Wf,Wf.current),!0}function dg($,_e,et){var tt=$.stateNode;if(!tt)throw Error(p$6(169));et?($=bg($,_e,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E$1(Wf),E$1(H$1),G$1(H$1,$)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_e=C;try{var et=eg;for(C=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),nt}finally{C=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_e){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_e}function ug($,_e,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var at=32-oc(_e)+nt;if(30<at){var ot=nt-nt%5;at=(tt&(1<<ot)-1).toString(32),tt>>=ot,nt-=ot,rg=1<<32-oc(_e)+nt|et<<nt|tt,sg=at+$}else rg=1<<at|et<<nt|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag($,_e){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_e,et.return=$,_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)}function Cg($,_e){switch($.tag){case 5:var et=$.type;return _e=_e.nodeType!==1||et.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=$.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_e,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_e,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$1){var _e=yg;if(_e){var et=_e;if(!Cg($,_e)){if(Dg($))throw Error(p$6(418));_e=Lf(et.nextSibling);var tt=xg;_e&&Cg($,_e)?Ag(tt,et):($.flags=$.flags&-4097|2,I$1=!1,xg=$)}}else{if(Dg($))throw Error(p$6(418));$.flags=$.flags&-4097|2,I$1=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$1)return Fg($),I$1=!0,!1;var _e;if((_e=$.tag!==3)&&!(_e=$.tag!==5)&&(_e=$.type,_e=_e!=="head"&&_e!=="body"&&!Ef($.type,$.memoizedProps)),_e&&(_e=yg)){if(Dg($))throw Hg(),Error(p$6(418));for(;_e;)Ag($,_e),_e=Lf(_e.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$6(317));e:{for($=$.nextSibling,_e=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_e===0){yg=Lf($.nextSibling);break e}_e--}else et!=="$"&&et!=="$!"&&et!=="$?"||_e++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,_e){if($&&$.defaultProps){_e=A$2({},_e),$=$.defaultProps;for(var et in $)_e[et]===void 0&&(_e[et]=$[et]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg($){var _e=Mg.current;E$1(Mg),$._currentValue=_e}function Sg($,_e,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_e)!==_e?($.childLanes|=_e,tt!==null&&(tt.childLanes|=_e)):tt!==null&&(tt.childLanes&_e)!==_e&&(tt.childLanes|=_e),$===et)break;$=$.return}}function Tg($,_e){Ng=$,Pg=Og=null,$=$.dependencies,$!==null&&$.firstContext!==null&&(($.lanes&_e)!==0&&(Ug=!0),$.firstContext=null)}function Vg($){var _e=$._currentValue;if(Pg!==$)if($={context:$,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=$,Ng.dependencies={lanes:0,firstContext:$}}else Og=Og.next=$;return _e}var Wg=null;function Xg($){Wg===null?Wg=[$]:Wg.push($)}function Yg($,_e,et,tt){var nt=_e.interleaved;return nt===null?(et.next=et,Xg(_e)):(et.next=nt.next,nt.next=et),_e.interleaved=et,Zg($,tt)}function Zg($,_e){$.lanes|=_e;var et=$.alternate;for(et!==null&&(et.lanes|=_e),et=$,$=$.return;$!==null;)$.childLanes|=_e,et=$.alternate,et!==null&&(et.childLanes|=_e),et=$,$=$.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh($,_e){$=$.updateQueue,_e.updateQueue===$&&(_e.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function ch($,_e){return{eventTime:$,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh($,_e,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,(K&2)!==0){var nt=tt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),tt.pending=_e,Zg($,et)}return nt=tt.interleaved,nt===null?(_e.next=_e,Xg(tt)):(_e.next=nt.next,nt.next=_e),tt.interleaved=_e,Zg($,et)}function eh($,_e,et){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(et&4194240)!==0)){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}function fh($,_e){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,at=null;if(et=et.firstBaseUpdate,et!==null){do{var ot={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};at===null?nt=at=ot:at=at.next=ot,et=et.next}while(et!==null);at===null?nt=at=_e:at=at.next=_e}else nt=at=_e;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:at,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=_e}function gh($,_e,et,tt){var nt=$.updateQueue;$g=!1;var at=nt.firstBaseUpdate,ot=nt.lastBaseUpdate,it=nt.shared.pending;if(it!==null){nt.shared.pending=null;var st=it,ut=st.next;st.next=null,ot===null?at=ut:ot.next=ut,ot=st;var ft=$.alternate;ft!==null&&(ft=ft.updateQueue,it=ft.lastBaseUpdate,it!==ot&&(it===null?ft.firstBaseUpdate=ut:it.next=ut,ft.lastBaseUpdate=st))}if(at!==null){var dt=nt.baseState;ot=0,ft=ut=st=null,it=at;do{var vt=it.lane,gt=it.eventTime;if((tt&vt)===vt){ft!==null&&(ft=ft.next={eventTime:gt,lane:0,tag:it.tag,payload:it.payload,callback:it.callback,next:null});e:{var yt=$,xt=it;switch(vt=_e,gt=et,xt.tag){case 1:if(yt=xt.payload,typeof yt=="function"){dt=yt.call(gt,dt,vt);break e}dt=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=xt.payload,vt=typeof yt=="function"?yt.call(gt,dt,vt):yt,vt==null)break e;dt=A$2({},dt,vt);break e;case 2:$g=!0}}it.callback!==null&&it.lane!==0&&($.flags|=64,vt=nt.effects,vt===null?nt.effects=[it]:vt.push(it))}else gt={eventTime:gt,lane:vt,tag:it.tag,payload:it.payload,callback:it.callback,next:null},ft===null?(ut=ft=gt,st=dt):ft=ft.next=gt,ot|=vt;if(it=it.next,it===null){if(it=nt.shared.pending,it===null)break;vt=it,it=vt.next,vt.next=null,nt.lastBaseUpdate=vt,nt.shared.pending=null}}while(1);if(ft===null&&(st=dt),nt.baseState=st,nt.firstBaseUpdate=ut,nt.lastBaseUpdate=ft,_e=nt.shared.interleaved,_e!==null){nt=_e;do ot|=nt.lane,nt=nt.next;while(nt!==_e)}else at===null&&(nt.shared.lanes=0);hh|=ot,$.lanes=ot,$.memoizedState=dt}}function ih($,_e,et){if($=_e.effects,_e.effects=null,$!==null)for(_e=0;_e<$.length;_e++){var tt=$[_e],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$6(191,nt));nt.call(tt)}}}var jh=new aa.Component().refs;function kh($,_e,et,tt){_e=$.memoizedState,et=et(tt,_e),et=et==null?_e:A$2({},_e,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var nh={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,_e,et){$=$._reactInternals;var tt=L$1(),nt=lh($),at=ch(tt,nt);at.payload=_e,et!=null&&(at.callback=et),_e=dh($,at,nt),_e!==null&&(mh(_e,$,nt,tt),eh(_e,$,nt))},enqueueReplaceState:function($,_e,et){$=$._reactInternals;var tt=L$1(),nt=lh($),at=ch(tt,nt);at.tag=1,at.payload=_e,et!=null&&(at.callback=et),_e=dh($,at,nt),_e!==null&&(mh(_e,$,nt,tt),eh(_e,$,nt))},enqueueForceUpdate:function($,_e){$=$._reactInternals;var et=L$1(),tt=lh($),nt=ch(et,tt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=dh($,nt,tt),_e!==null&&(mh(_e,$,tt,et),eh(_e,$,tt))}};function oh($,_e,et,tt,nt,at,ot){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,at,ot):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,at):!0}function ph($,_e,et){var tt=!1,nt=Vf,at=_e.contextType;return typeof at=="object"&&at!==null?at=Vg(at):(nt=Zf(_e)?Xf:H$1.current,tt=_e.contextTypes,at=(tt=tt!=null)?Yf($,nt):Vf),_e=new _e(et,at),$.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,$.stateNode=_e,_e._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=nt,$.__reactInternalMemoizedMaskedChildContext=at),_e}function qh($,_e,et,tt){$=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(et,tt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(et,tt),_e.state!==$&&nh.enqueueReplaceState(_e,_e.state,null)}function rh($,_e,et,tt){var nt=$.stateNode;nt.props=et,nt.state=$.memoizedState,nt.refs=jh,ah($);var at=_e.contextType;typeof at=="object"&&at!==null?nt.context=Vg(at):(at=Zf(_e)?Xf:H$1.current,nt.context=Yf($,at)),nt.state=$.memoizedState,at=_e.getDerivedStateFromProps,typeof at=="function"&&(kh($,_e,at,et),nt.state=$.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh($,et,nt,tt),nt.state=$.memoizedState),typeof nt.componentDidMount=="function"&&($.flags|=4194308)}function sh($,_e,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$6(309));var tt=et.stateNode}if(!tt)throw Error(p$6(147,$));var nt=tt,at=""+$;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===at?_e.ref:(_e=function(ot){var it=nt.refs;it===jh&&(it=nt.refs={}),ot===null?delete it[at]:it[at]=ot},_e._stringRef=at,_e)}if(typeof $!="string")throw Error(p$6(284));if(!et._owner)throw Error(p$6(290,$))}return $}function th($,_e){throw $=Object.prototype.toString.call(_e),Error(p$6(31,$==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$))}function uh($){var _e=$._init;return _e($._payload)}function vh($){function _e(wt,Et){if($){var $t=wt.deletions;$t===null?(wt.deletions=[Et],wt.flags|=16):$t.push(Et)}}function et(wt,Et){if(!$)return null;for(;Et!==null;)_e(wt,Et),Et=Et.sibling;return null}function tt(wt,Et){for(wt=new Map;Et!==null;)Et.key!==null?wt.set(Et.key,Et):wt.set(Et.index,Et),Et=Et.sibling;return wt}function nt(wt,Et){return wt=wh(wt,Et),wt.index=0,wt.sibling=null,wt}function at(wt,Et,$t){return wt.index=$t,$?($t=wt.alternate,$t!==null?($t=$t.index,$t<Et?(wt.flags|=2,Et):$t):(wt.flags|=2,Et)):(wt.flags|=1048576,Et)}function ot(wt){return $&&wt.alternate===null&&(wt.flags|=2),wt}function it(wt,Et,$t,It){return Et===null||Et.tag!==6?(Et=xh($t,wt.mode,It),Et.return=wt,Et):(Et=nt(Et,$t),Et.return=wt,Et)}function st(wt,Et,$t,It){var Ot=$t.type;return Ot===ya?ft(wt,Et,$t.props.children,It,$t.key):Et!==null&&(Et.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ha&&uh(Ot)===Et.type)?(It=nt(Et,$t.props),It.ref=sh(wt,Et,$t),It.return=wt,It):(It=yh($t.type,$t.key,$t.props,null,wt.mode,It),It.ref=sh(wt,Et,$t),It.return=wt,It)}function ut(wt,Et,$t,It){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==$t.containerInfo||Et.stateNode.implementation!==$t.implementation?(Et=zh($t,wt.mode,It),Et.return=wt,Et):(Et=nt(Et,$t.children||[]),Et.return=wt,Et)}function ft(wt,Et,$t,It,Ot){return Et===null||Et.tag!==7?(Et=Ah($t,wt.mode,It,Ot),Et.return=wt,Et):(Et=nt(Et,$t),Et.return=wt,Et)}function dt(wt,Et,$t){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Et=xh(""+Et,wt.mode,$t),Et.return=wt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return $t=yh(Et.type,Et.key,Et.props,null,wt.mode,$t),$t.ref=sh(wt,null,Et),$t.return=wt,$t;case wa:return Et=zh(Et,wt.mode,$t),Et.return=wt,Et;case Ha:var It=Et._init;return dt(wt,It(Et._payload),$t)}if(eb(Et)||Ka(Et))return Et=Ah(Et,wt.mode,$t,null),Et.return=wt,Et;th(wt,Et)}return null}function vt(wt,Et,$t,It){var Ot=Et!==null?Et.key:null;if(typeof $t=="string"&&$t!==""||typeof $t=="number")return Ot!==null?null:it(wt,Et,""+$t,It);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return $t.key===Ot?st(wt,Et,$t,It):null;case wa:return $t.key===Ot?ut(wt,Et,$t,It):null;case Ha:return Ot=$t._init,vt(wt,Et,Ot($t._payload),It)}if(eb($t)||Ka($t))return Ot!==null?null:ft(wt,Et,$t,It,null);th(wt,$t)}return null}function gt(wt,Et,$t,It,Ot){if(typeof It=="string"&&It!==""||typeof It=="number")return wt=wt.get($t)||null,it(Et,wt,""+It,Ot);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case va:return wt=wt.get(It.key===null?$t:It.key)||null,st(Et,wt,It,Ot);case wa:return wt=wt.get(It.key===null?$t:It.key)||null,ut(Et,wt,It,Ot);case Ha:var Lt=It._init;return gt(wt,Et,$t,Lt(It._payload),Ot)}if(eb(It)||Ka(It))return wt=wt.get($t)||null,ft(Et,wt,It,Ot,null);th(Et,It)}return null}function yt(wt,Et,$t,It){for(var Ot=null,Lt=null,Ft=Et,zt=Et=0,Gt=null;Ft!==null&&zt<$t.length;zt++){Ft.index>zt?(Gt=Ft,Ft=null):Gt=Ft.sibling;var jt=vt(wt,Ft,$t[zt],It);if(jt===null){Ft===null&&(Ft=Gt);break}$&&Ft&&jt.alternate===null&&_e(wt,Ft),Et=at(jt,Et,zt),Lt===null?Ot=jt:Lt.sibling=jt,Lt=jt,Ft=Gt}if(zt===$t.length)return et(wt,Ft),I$1&&tg(wt,zt),Ot;if(Ft===null){for(;zt<$t.length;zt++)Ft=dt(wt,$t[zt],It),Ft!==null&&(Et=at(Ft,Et,zt),Lt===null?Ot=Ft:Lt.sibling=Ft,Lt=Ft);return I$1&&tg(wt,zt),Ot}for(Ft=tt(wt,Ft);zt<$t.length;zt++)Gt=gt(Ft,wt,zt,$t[zt],It),Gt!==null&&($&&Gt.alternate!==null&&Ft.delete(Gt.key===null?zt:Gt.key),Et=at(Gt,Et,zt),Lt===null?Ot=Gt:Lt.sibling=Gt,Lt=Gt);return $&&Ft.forEach(function(Ut){return _e(wt,Ut)}),I$1&&tg(wt,zt),Ot}function xt(wt,Et,$t,It){var Ot=Ka($t);if(typeof Ot!="function")throw Error(p$6(150));if($t=Ot.call($t),$t==null)throw Error(p$6(151));for(var Lt=Ot=null,Ft=Et,zt=Et=0,Gt=null,jt=$t.next();Ft!==null&&!jt.done;zt++,jt=$t.next()){Ft.index>zt?(Gt=Ft,Ft=null):Gt=Ft.sibling;var Ut=vt(wt,Ft,jt.value,It);if(Ut===null){Ft===null&&(Ft=Gt);break}$&&Ft&&Ut.alternate===null&&_e(wt,Ft),Et=at(Ut,Et,zt),Lt===null?Ot=Ut:Lt.sibling=Ut,Lt=Ut,Ft=Gt}if(jt.done)return et(wt,Ft),I$1&&tg(wt,zt),Ot;if(Ft===null){for(;!jt.done;zt++,jt=$t.next())jt=dt(wt,jt.value,It),jt!==null&&(Et=at(jt,Et,zt),Lt===null?Ot=jt:Lt.sibling=jt,Lt=jt);return I$1&&tg(wt,zt),Ot}for(Ft=tt(wt,Ft);!jt.done;zt++,jt=$t.next())jt=gt(Ft,wt,zt,jt.value,It),jt!==null&&($&&jt.alternate!==null&&Ft.delete(jt.key===null?zt:jt.key),Et=at(jt,Et,zt),Lt===null?Ot=jt:Lt.sibling=jt,Lt=jt);return $&&Ft.forEach(function(Kt){return _e(wt,Kt)}),I$1&&tg(wt,zt),Ot}function Ct(wt,Et,$t,It){if(typeof $t=="object"&&$t!==null&&$t.type===ya&&$t.key===null&&($t=$t.props.children),typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:e:{for(var Ot=$t.key,Lt=Et;Lt!==null;){if(Lt.key===Ot){if(Ot=$t.type,Ot===ya){if(Lt.tag===7){et(wt,Lt.sibling),Et=nt(Lt,$t.props.children),Et.return=wt,wt=Et;break e}}else if(Lt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ha&&uh(Ot)===Lt.type){et(wt,Lt.sibling),Et=nt(Lt,$t.props),Et.ref=sh(wt,Lt,$t),Et.return=wt,wt=Et;break e}et(wt,Lt);break}else _e(wt,Lt);Lt=Lt.sibling}$t.type===ya?(Et=Ah($t.props.children,wt.mode,It,$t.key),Et.return=wt,wt=Et):(It=yh($t.type,$t.key,$t.props,null,wt.mode,It),It.ref=sh(wt,Et,$t),It.return=wt,wt=It)}return ot(wt);case wa:e:{for(Lt=$t.key;Et!==null;){if(Et.key===Lt)if(Et.tag===4&&Et.stateNode.containerInfo===$t.containerInfo&&Et.stateNode.implementation===$t.implementation){et(wt,Et.sibling),Et=nt(Et,$t.children||[]),Et.return=wt,wt=Et;break e}else{et(wt,Et);break}else _e(wt,Et);Et=Et.sibling}Et=zh($t,wt.mode,It),Et.return=wt,wt=Et}return ot(wt);case Ha:return Lt=$t._init,Ct(wt,Et,Lt($t._payload),It)}if(eb($t))return yt(wt,Et,$t,It);if(Ka($t))return xt(wt,Et,$t,It);th(wt,$t)}return typeof $t=="string"&&$t!==""||typeof $t=="number"?($t=""+$t,Et!==null&&Et.tag===6?(et(wt,Et.sibling),Et=nt(Et,$t),Et.return=wt,wt=Et):(et(wt,Et),Et=xh($t,wt.mode,It),Et.return=wt,wt=Et),ot(wt)):et(wt,Et)}return Ct}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh($){if($===Dh)throw Error(p$6(174));return $}function Ih($,_e){switch(G$1(Gh,_e),G$1(Fh,$),G$1(Eh,Dh),$=_e.nodeType,$){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb$1(null,"");break;default:$=$===8?_e.parentNode:_e,_e=$.namespaceURI||null,$=$.tagName,_e=lb$1(_e,$)}E$1(Eh),G$1(Eh,_e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh($){Hh(Gh.current);var _e=Hh(Eh.current),et=lb$1(_e,$.type);_e!==et&&(G$1(Fh,$),G$1(Eh,et))}function Lh($){Fh.current===$&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh($){for(var _e=$;_e!==null;){if(_e.tag===13){var et=_e.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var $=0;$<Nh.length;$++)Nh[$]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$6(321))}function Wh($,_e){if(_e===null)return!1;for(var et=0;et<_e.length&&et<$.length;et++)if(!He($[et],_e[et]))return!1;return!0}function Xh($,_e,et,tt,nt,at){if(Rh=at,N$1=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=$===null||$.memoizedState===null?Yh:Zh,$=et(tt,nt),Th){at=0;do{if(Th=!1,Uh=0,25<=at)throw Error(p$6(301));at+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,$=et(tt,nt)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,_e)throw Error(p$6(300));return $}function bi(){var $=Uh!==0;return Uh=0,$}function ci(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$,P$1}function di(){if(O$1===null){var $=N$1.alternate;$=$!==null?$.memoizedState:null}else $=O$1.next;var _e=P$1===null?N$1.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=$;else{if($===null)throw Error(p$6(310));O$1=$,$={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$}return P$1}function ei($,_e){return typeof _e=="function"?_e($):_e}function fi($){var _e=di(),et=_e.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=$;var tt=O$1,nt=tt.baseQueue,at=et.pending;if(at!==null){if(nt!==null){var ot=nt.next;nt.next=at.next,at.next=ot}tt.baseQueue=nt=at,et.pending=null}if(nt!==null){at=nt.next,tt=tt.baseState;var it=ot=null,st=null,ut=at;do{var ft=ut.lane;if((Rh&ft)===ft)st!==null&&(st=st.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),tt=ut.hasEagerState?ut.eagerState:$(tt,ut.action);else{var dt={lane:ft,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};st===null?(it=st=dt,ot=tt):st=st.next=dt,N$1.lanes|=ft,hh|=ft}ut=ut.next}while(ut!==null&&ut!==at);st===null?ot=tt:st.next=it,He(tt,_e.memoizedState)||(Ug=!0),_e.memoizedState=tt,_e.baseState=ot,_e.baseQueue=st,et.lastRenderedState=tt}if($=et.interleaved,$!==null){nt=$;do at=nt.lane,N$1.lanes|=at,hh|=at,nt=nt.next;while(nt!==$)}else nt===null&&(et.lanes=0);return[_e.memoizedState,et.dispatch]}function gi($){var _e=di(),et=_e.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=$;var tt=et.dispatch,nt=et.pending,at=_e.memoizedState;if(nt!==null){et.pending=null;var ot=nt=nt.next;do at=$(at,ot.action),ot=ot.next;while(ot!==nt);He(at,_e.memoizedState)||(Ug=!0),_e.memoizedState=at,_e.baseQueue===null&&(_e.baseState=at),et.lastRenderedState=at}return[at,tt]}function hi(){}function ii($,_e){var et=N$1,tt=di(),nt=_e(),at=!He(tt.memoizedState,nt);if(at&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,$),[$]),tt.getSnapshot!==_e||at||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,nt,_e),void 0,null),R$1===null)throw Error(p$6(349));(Rh&30)!==0||ni(et,_e,nt)}return nt}function ni($,_e,et){$.flags|=16384,$={getSnapshot:_e,value:et},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.stores=[$]):(et=_e.stores,et===null?_e.stores=[$]:et.push($))}function mi($,_e,et,tt){_e.value=et,_e.getSnapshot=tt,oi(_e)&&pi($)}function ki($,_e,et){return et(function(){oi(_e)&&pi($)})}function oi($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!He($,et)}catch{return!0}}function pi($){var _e=Zg($,1);_e!==null&&mh(_e,$,1,-1)}function qi($){var _e=ci();return typeof $=="function"&&($=$()),_e.memoizedState=_e.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:$},_e.queue=$,$=$.dispatch=ri.bind(null,N$1,$),[_e.memoizedState,$]}function li($,_e,et,tt){return $={tag:$,create:_e,destroy:et,deps:tt,next:null},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.lastEffect=$.next=$):(et=_e.lastEffect,et===null?_e.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_e.lastEffect=$)),$}function si(){return di().memoizedState}function ti($,_e,et,tt){var nt=ci();N$1.flags|=$,nt.memoizedState=li(1|_e,et,void 0,tt===void 0?null:tt)}function ui($,_e,et,tt){var nt=di();tt=tt===void 0?null:tt;var at=void 0;if(O$1!==null){var ot=O$1.memoizedState;if(at=ot.destroy,tt!==null&&Wh(tt,ot.deps)){nt.memoizedState=li(_e,et,at,tt);return}}N$1.flags|=$,nt.memoizedState=li(1|_e,et,at,tt)}function vi($,_e){return ti(8390656,8,$,_e)}function ji($,_e){return ui(2048,8,$,_e)}function wi($,_e){return ui(4,2,$,_e)}function xi($,_e){return ui(4,4,$,_e)}function yi($,_e){if(typeof _e=="function")return $=$(),_e($),function(){_e(null)};if(_e!=null)return $=$(),_e.current=$,function(){_e.current=null}}function zi($,_e,et){return et=et!=null?et.concat([$]):null,ui(4,4,yi.bind(null,_e,$),et)}function Ai(){}function Bi($,_e){var et=di();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Wh(_e,tt[1])?tt[0]:(et.memoizedState=[$,_e],$)}function Ci($,_e){var et=di();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Wh(_e,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_e],$)}function Di($,_e,et){return(Rh&21)===0?($.baseState&&($.baseState=!1,Ug=!0),$.memoizedState=et):(He(et,_e)||(et=yc(),N$1.lanes|=et,hh|=et,$.baseState=!0),_e)}function Ei($,_e){var et=C;C=et!==0&&4>et?et:4,$(!0);var tt=Qh.transition;Qh.transition={};try{$(!1),_e()}finally{C=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi($,_e,et){var tt=lh($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi($))Ii(_e,et);else if(et=Yg($,_e,et,tt),et!==null){var nt=L$1();mh(et,$,tt,nt),Ji(et,_e,tt)}}function ri($,_e,et){var tt=lh($),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi($))Ii(_e,nt);else{var at=$.alternate;if($.lanes===0&&(at===null||at.lanes===0)&&(at=_e.lastRenderedReducer,at!==null))try{var ot=_e.lastRenderedState,it=at(ot,et);if(nt.hasEagerState=!0,nt.eagerState=it,He(it,ot)){var st=_e.interleaved;st===null?(nt.next=nt,Xg(_e)):(nt.next=st.next,st.next=nt),_e.interleaved=nt;return}}catch{}finally{}et=Yg($,_e,nt,tt),et!==null&&(nt=L$1(),mh(et,$,tt,nt),Ji(et,_e,tt))}}function Hi($){var _e=$.alternate;return $===N$1||_e!==null&&_e===N$1}function Ii($,_e){Th=Sh=!0;var et=$.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),$.pending=_e}function Ji($,_e,et){if((et&4194240)!==0){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function($,_e){return ci().memoizedState=[$,_e===void 0?null:_e],$},useContext:Vg,useEffect:vi,useImperativeHandle:function($,_e,et){return et=et!=null?et.concat([$]):null,ti(4194308,4,yi.bind(null,_e,$),et)},useLayoutEffect:function($,_e){return ti(4194308,4,$,_e)},useInsertionEffect:function($,_e){return ti(4,2,$,_e)},useMemo:function($,_e){var et=ci();return _e=_e===void 0?null:_e,$=$(),et.memoizedState=[$,_e],$},useReducer:function($,_e,et){var tt=ci();return _e=et!==void 0?et(_e):_e,tt.memoizedState=tt.baseState=_e,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_e},tt.queue=$,$=$.dispatch=Gi.bind(null,N$1,$),[tt.memoizedState,$]},useRef:function($){var _e=ci();return $={current:$},_e.memoizedState=$},useState:qi,useDebugValue:Ai,useDeferredValue:function($){return ci().memoizedState=$},useTransition:function(){var $=qi(!1),_e=$[0];return $=Ei.bind(null,$[1]),ci().memoizedState=$,[_e,$]},useMutableSource:function(){},useSyncExternalStore:function($,_e,et){var tt=N$1,nt=ci();if(I$1){if(et===void 0)throw Error(p$6(407));et=et()}else{if(et=_e(),R$1===null)throw Error(p$6(349));(Rh&30)!==0||ni(tt,_e,et)}nt.memoizedState=et;var at={value:et,getSnapshot:_e};return nt.queue=at,vi(ki.bind(null,tt,at,$),[$]),tt.flags|=2048,li(9,mi.bind(null,tt,at,et,_e),void 0,null),et},useId:function(){var $=ci(),_e=R$1.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_e=":"+_e+"R"+et,et=Uh++,0<et&&(_e+="H"+et.toString(32)),_e+=":"}else et=Vh++,_e=":"+_e+"r"+et.toString(32)+":";return $.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _e=di();return Di(_e,O$1.memoizedState,$)},useTransition:function(){var $=fi(ei)[0],_e=di().memoizedState;return[$,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _e=di();return O$1===null?_e.memoizedState=$:Di(_e,O$1.memoizedState,$)},useTransition:function(){var $=gi(ei)[0],_e=di().memoizedState;return[$,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki($,_e){try{var et="",tt=_e;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(at){nt=`
Error generating stack: `+at.message+`
`+at.stack}return{value:$,source:_e,stack:nt,digest:null}}function Li($,_e,et){return{value:$,source:null,stack:et!=null?et:null,digest:_e!=null?_e:null}}function Mi($,_e){try{console.error(_e.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi($,_e,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=_e.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi($,_e)},et}function Ri($,_e,et){et=ch(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=_e.value;et.payload=function(){return tt(nt)},et.callback=function(){Mi($,_e)}}var at=$.stateNode;return at!==null&&typeof at.componentDidCatch=="function"&&(et.callback=function(){Mi($,_e),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=_e.stack;this.componentDidCatch(_e.value,{componentStack:ot!==null?ot:""})}),et}function Ti($,_e,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Ni;var nt=new Set;tt.set(_e,nt)}else nt=tt.get(_e),nt===void 0&&(nt=new Set,tt.set(_e,nt));nt.has(et)||(nt.add(et),$=Ui.bind(null,$,_e,et),_e.then($,$))}function Vi($){do{var _e;if((_e=$.tag===13)&&(_e=$.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return $;$=$.return}while($!==null);return null}function Wi($,_e,et,tt,nt){return($.mode&1)===0?($===_e?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_e=ch(-1,1),_e.tag=2,dh(et,_e,1))),et.lanes|=1),$):($.flags|=65536,$.lanes=nt,$)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi($,_e,et,tt){_e.child=$===null?Ch(_e,null,et,tt):Bh(_e,$.child,et,tt)}function Zi($,_e,et,tt,nt){et=et.render;var at=_e.ref;return Tg(_e,nt),tt=Xh($,_e,et,tt,at,nt),et=bi(),$!==null&&!Ug?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,$i($,_e,nt)):(I$1&&et&&vg(_e),_e.flags|=1,Yi($,_e,tt,nt),_e.child)}function aj($,_e,et,tt,nt){if($===null){var at=et.type;return typeof at=="function"&&!bj(at)&&at.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_e.tag=15,_e.type=at,cj($,_e,at,tt,nt)):($=yh(et.type,null,tt,_e,_e.mode,nt),$.ref=_e.ref,$.return=_e,_e.child=$)}if(at=$.child,($.lanes&nt)===0){var ot=at.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(ot,tt)&&$.ref===_e.ref)return $i($,_e,nt)}return _e.flags|=1,$=wh(at,tt),$.ref=_e.ref,$.return=_e,_e.child=$}function cj($,_e,et,tt,nt){if($!==null){var at=$.memoizedProps;if(Ie(at,tt)&&$.ref===_e.ref)if(Ug=!1,_e.pendingProps=tt=at,($.lanes&nt)!==0)($.flags&131072)!==0&&(Ug=!0);else return _e.lanes=$.lanes,$i($,_e,nt)}return dj($,_e,et,tt,nt)}function ej($,_e,et){var tt=_e.pendingProps,nt=tt.children,at=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if((et&1073741824)===0)return $=at!==null?at.baseLanes|et:et,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:$,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=$,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=at!==null?at.baseLanes:et,G$1(fj,gj),gj|=tt}else at!==null?(tt=at.baseLanes|et,_e.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi($,_e,nt,et),_e.child}function hj($,_e){var et=_e.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_e.flags|=512,_e.flags|=2097152)}function dj($,_e,et,tt,nt){var at=Zf(et)?Xf:H$1.current;return at=Yf(_e,at),Tg(_e,nt),et=Xh($,_e,et,tt,at,nt),tt=bi(),$!==null&&!Ug?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,$i($,_e,nt)):(I$1&&tt&&vg(_e),_e.flags|=1,Yi($,_e,et,nt),_e.child)}function ij($,_e,et,tt,nt){if(Zf(et)){var at=!0;cg(_e)}else at=!1;if(Tg(_e,nt),_e.stateNode===null)jj($,_e),ph(_e,et,tt),rh(_e,et,tt,nt),tt=!0;else if($===null){var ot=_e.stateNode,it=_e.memoizedProps;ot.props=it;var st=ot.context,ut=et.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(et)?Xf:H$1.current,ut=Yf(_e,ut));var ft=et.getDerivedStateFromProps,dt=typeof ft=="function"||typeof ot.getSnapshotBeforeUpdate=="function";dt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(it!==tt||st!==ut)&&qh(_e,ot,tt,ut),$g=!1;var vt=_e.memoizedState;ot.state=vt,gh(_e,tt,ot,nt),st=_e.memoizedState,it!==tt||vt!==st||Wf.current||$g?(typeof ft=="function"&&(kh(_e,et,ft,tt),st=_e.memoizedState),(it=$g||oh(_e,et,it,tt,vt,st,ut))?(dt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tt,_e.memoizedState=st),ot.props=tt,ot.state=st,ot.context=ut,tt=it):(typeof ot.componentDidMount=="function"&&(_e.flags|=4194308),tt=!1)}else{ot=_e.stateNode,bh($,_e),it=_e.memoizedProps,ut=_e.type===_e.elementType?it:Lg(_e.type,it),ot.props=ut,dt=_e.pendingProps,vt=ot.context,st=et.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(et)?Xf:H$1.current,st=Yf(_e,st));var gt=et.getDerivedStateFromProps;(ft=typeof gt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(it!==dt||vt!==st)&&qh(_e,ot,tt,st),$g=!1,vt=_e.memoizedState,ot.state=vt,gh(_e,tt,ot,nt);var yt=_e.memoizedState;it!==dt||vt!==yt||Wf.current||$g?(typeof gt=="function"&&(kh(_e,et,gt,tt),yt=_e.memoizedState),(ut=$g||oh(_e,et,ut,tt,vt,yt,st)||!1)?(ft||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(tt,yt,st),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(tt,yt,st)),typeof ot.componentDidUpdate=="function"&&(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof ot.componentDidUpdate!="function"||it===$.memoizedProps&&vt===$.memoizedState||(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||it===$.memoizedProps&&vt===$.memoizedState||(_e.flags|=1024),_e.memoizedProps=tt,_e.memoizedState=yt),ot.props=tt,ot.state=yt,ot.context=st,tt=ut):(typeof ot.componentDidUpdate!="function"||it===$.memoizedProps&&vt===$.memoizedState||(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||it===$.memoizedProps&&vt===$.memoizedState||(_e.flags|=1024),tt=!1)}return kj($,_e,et,tt,at,nt)}function kj($,_e,et,tt,nt,at){hj($,_e);var ot=(_e.flags&128)!==0;if(!tt&&!ot)return nt&&dg(_e,et,!1),$i($,_e,at);tt=_e.stateNode,Xi.current=_e;var it=ot&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _e.flags|=1,$!==null&&ot?(_e.child=Bh(_e,$.child,null,at),_e.child=Bh(_e,null,it,at)):Yi($,_e,it,at),_e.memoizedState=tt.state,nt&&dg(_e,et,!0),_e.child}function lj($){var _e=$.stateNode;_e.pendingContext?ag($,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag($,_e.context,!1),Ih($,_e.containerInfo)}function mj($,_e,et,tt,nt){return Ig(),Jg(nt),_e.flags|=256,Yi($,_e,et,tt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj($){return{baseLanes:$,cachePool:null,transitions:null}}function pj($,_e,et){var tt=_e.pendingProps,nt=M$1.current,at=!1,ot=(_e.flags&128)!==0,it;if((it=ot)||(it=$!==null&&$.memoizedState===null?!1:(nt&2)!==0),it?(at=!0,_e.flags&=-129):($===null||$.memoizedState!==null)&&(nt|=1),G$1(M$1,nt&1),$===null)return Eg(_e),$=_e.memoizedState,$!==null&&($=$.dehydrated,$!==null)?((_e.mode&1)===0?_e.lanes=1:$.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(ot=tt.children,$=tt.fallback,at?(tt=_e.mode,at=_e.child,ot={mode:"hidden",children:ot},(tt&1)===0&&at!==null?(at.childLanes=0,at.pendingProps=ot):at=qj(ot,tt,0,null),$=Ah($,tt,et,null),at.return=_e,$.return=_e,at.sibling=$,_e.child=at,_e.child.memoizedState=oj(et),_e.memoizedState=nj,$):rj(_e,ot));if(nt=$.memoizedState,nt!==null&&(it=nt.dehydrated,it!==null))return sj($,_e,ot,tt,it,nt,et);if(at){at=tt.fallback,ot=_e.mode,nt=$.child,it=nt.sibling;var st={mode:"hidden",children:tt.children};return(ot&1)===0&&_e.child!==nt?(tt=_e.child,tt.childLanes=0,tt.pendingProps=st,_e.deletions=null):(tt=wh(nt,st),tt.subtreeFlags=nt.subtreeFlags&14680064),it!==null?at=wh(it,at):(at=Ah(at,ot,et,null),at.flags|=2),at.return=_e,tt.return=_e,tt.sibling=at,_e.child=tt,tt=at,at=_e.child,ot=$.child.memoizedState,ot=ot===null?oj(et):{baseLanes:ot.baseLanes|et,cachePool:null,transitions:ot.transitions},at.memoizedState=ot,at.childLanes=$.childLanes&~et,_e.memoizedState=nj,tt}return at=$.child,$=at.sibling,tt=wh(at,{mode:"visible",children:tt.children}),(_e.mode&1)===0&&(tt.lanes=et),tt.return=_e,tt.sibling=null,$!==null&&(et=_e.deletions,et===null?(_e.deletions=[$],_e.flags|=16):et.push($)),_e.child=tt,_e.memoizedState=null,tt}function rj($,_e){return _e=qj({mode:"visible",children:_e},$.mode,0,null),_e.return=$,$.child=_e}function tj($,_e,et,tt){return tt!==null&&Jg(tt),Bh(_e,$.child,null,et),$=rj(_e,_e.pendingProps.children),$.flags|=2,_e.memoizedState=null,$}function sj($,_e,et,tt,nt,at,ot){if(et)return _e.flags&256?(_e.flags&=-257,tt=Li(Error(p$6(422))),tj($,_e,ot,tt)):_e.memoizedState!==null?(_e.child=$.child,_e.flags|=128,null):(at=tt.fallback,nt=_e.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),at=Ah(at,nt,ot,null),at.flags|=2,tt.return=_e,at.return=_e,tt.sibling=at,_e.child=tt,(_e.mode&1)!==0&&Bh(_e,$.child,null,ot),_e.child.memoizedState=oj(ot),_e.memoizedState=nj,at);if((_e.mode&1)===0)return tj($,_e,ot,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var it=tt.dgst;return tt=it,at=Error(p$6(419)),tt=Li(at,tt,void 0),tj($,_e,ot,tt)}if(it=(ot&$.childLanes)!==0,Ug||it){if(tt=R$1,tt!==null){switch(ot&-ot){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=(nt&(tt.suspendedLanes|ot))!==0?0:nt,nt!==0&&nt!==at.retryLane&&(at.retryLane=nt,Zg($,nt),mh(tt,$,nt,-1))}return uj(),tt=Li(Error(p$6(421))),tj($,_e,ot,tt)}return nt.data==="$?"?(_e.flags|=128,_e.child=$.child,_e=vj.bind(null,$),nt._reactRetry=_e,null):($=at.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$1=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_e),_e=rj(_e,tt.children),_e.flags|=4096,_e)}function wj($,_e,et){$.lanes|=_e;var tt=$.alternate;tt!==null&&(tt.lanes|=_e),Sg($.return,_e,et)}function xj($,_e,et,tt,nt){var at=$.memoizedState;at===null?$.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(at.isBackwards=_e,at.rendering=null,at.renderingStartTime=0,at.last=tt,at.tail=et,at.tailMode=nt)}function yj($,_e,et){var tt=_e.pendingProps,nt=tt.revealOrder,at=tt.tail;if(Yi($,_e,tt.children,et),tt=M$1.current,(tt&2)!==0)tt=tt&1|2,_e.flags|=128;else{if($!==null&&($.flags&128)!==0)e:for($=_e.child;$!==null;){if($.tag===13)$.memoizedState!==null&&wj($,et,_e);else if($.tag===19)wj($,et,_e);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break e;for(;$.sibling===null;){if($.return===null||$.return===_e)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G$1(M$1,tt),(_e.mode&1)===0)_e.memoizedState=null;else switch(nt){case"forwards":for(et=_e.child,nt=null;et!==null;)$=et.alternate,$!==null&&Mh($)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=_e.child,_e.child=null):(nt=et.sibling,et.sibling=null),xj(_e,!1,nt,et,at);break;case"backwards":for(et=null,nt=_e.child,_e.child=null;nt!==null;){if($=nt.alternate,$!==null&&Mh($)===null){_e.child=nt;break}$=nt.sibling,nt.sibling=et,et=nt,nt=$}xj(_e,!0,et,null,at);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj($,_e){(_e.mode&1)===0&&$!==null&&($.alternate=null,_e.alternate=null,_e.flags|=2)}function $i($,_e,et){if($!==null&&(_e.dependencies=$.dependencies),hh|=_e.lanes,(et&_e.childLanes)===0)return null;if($!==null&&_e.child!==$.child)throw Error(p$6(153));if(_e.child!==null){for($=_e.child,et=wh($,$.pendingProps),_e.child=et,et.return=_e;$.sibling!==null;)$=$.sibling,et=et.sibling=wh($,$.pendingProps),et.return=_e;et.sibling=null}return _e.child}function zj($,_e,et){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var tt=_e.type._context,nt=_e.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=_e.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),_e.flags|=128,null):(et&_e.child.childLanes)!==0?pj($,_e,et):(G$1(M$1,M$1.current&1),$=$i($,_e,et),$!==null?$.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&_e.childLanes)!==0,($.flags&128)!==0){if(tt)return yj($,_e,et);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return _e.lanes=0,ej($,_e,et)}return $i($,_e,et)}var Aj,Bj,Cj,Dj;Aj=function($,_e){for(var et=_e.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function($,_e,et,tt){var nt=$.memoizedProps;if(nt!==tt){$=_e.stateNode,Hh(Eh.current);var at=null;switch(et){case"input":nt=Ya($,nt),tt=Ya($,tt),at=[];break;case"select":nt=A$2({},nt,{value:void 0}),tt=A$2({},tt,{value:void 0}),at=[];break;case"textarea":nt=gb($,nt),tt=gb($,tt),at=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub(et,tt);var ot;et=null;for(ut in nt)if(!tt.hasOwnProperty(ut)&&nt.hasOwnProperty(ut)&&nt[ut]!=null)if(ut==="style"){var it=nt[ut];for(ot in it)it.hasOwnProperty(ot)&&(et||(et={}),et[ot]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?at||(at=[]):(at=at||[]).push(ut,null));for(ut in tt){var st=tt[ut];if(it=nt!=null?nt[ut]:void 0,tt.hasOwnProperty(ut)&&st!==it&&(st!=null||it!=null))if(ut==="style")if(it){for(ot in it)!it.hasOwnProperty(ot)||st&&st.hasOwnProperty(ot)||(et||(et={}),et[ot]="");for(ot in st)st.hasOwnProperty(ot)&&it[ot]!==st[ot]&&(et||(et={}),et[ot]=st[ot])}else et||(at||(at=[]),at.push(ut,et)),et=st;else ut==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,it=it?it.__html:void 0,st!=null&&it!==st&&(at=at||[]).push(ut,st)):ut==="children"?typeof st!="string"&&typeof st!="number"||(at=at||[]).push(ut,""+st):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(st!=null&&ut==="onScroll"&&D$1("scroll",$),at||it===st||(at=[])):(at=at||[]).push(ut,st))}et&&(at=at||[]).push("style",et);var ut=at;(_e.updateQueue=ut)&&(_e.flags|=4)}};Dj=function($,_e,et,tt){et!==tt&&(_e.flags|=4)};function Ej($,_e){if(!I$1)switch($.tailMode){case"hidden":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S$1($){var _e=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_e)for(var nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=$,nt=nt.sibling;else for(nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=$,nt=nt.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_e}function Fj($,_e,et){var tt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return tt=_e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_e)?_e.flags|=4:$===null||$.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj($,_e),S$1(_e),null;case 5:Lh(_e);var nt=Hh(Gh.current);if(et=_e.type,$!==null&&_e.stateNode!=null)Cj($,_e,et,tt,nt),$.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tt){if(_e.stateNode===null)throw Error(p$6(166));return S$1(_e),null}if($=Hh(Eh.current),Gg(_e)){tt=_e.stateNode,et=_e.type;var at=_e.memoizedProps;switch(tt[Of]=_e,tt[Pf]=at,$=(_e.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,at),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!at.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,at),D$1("invalid",tt)}ub(et,at),nt=null;for(var ot in at)if(at.hasOwnProperty(ot)){var it=at[ot];ot==="children"?typeof it=="string"?tt.textContent!==it&&(at.suppressHydrationWarning!==!0&&Af(tt.textContent,it,$),nt=["children",it]):typeof it=="number"&&tt.textContent!==""+it&&(at.suppressHydrationWarning!==!0&&Af(tt.textContent,it,$),nt=["children",""+it]):ea.hasOwnProperty(ot)&&it!=null&&ot==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,at,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof at.onClick=="function"&&(tt.onclick=Bf)}tt=nt,_e.updateQueue=tt,tt!==null&&(_e.flags|=4)}else{ot=nt.nodeType===9?nt:nt.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=ot.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=ot.createElement(et,{is:tt.is}):($=ot.createElement(et),et==="select"&&(ot=$,tt.multiple?ot.multiple=!0:tt.size&&(ot.size=tt.size))):$=ot.createElementNS($,et),$[Of]=_e,$[Pf]=tt,Aj($,_e,!1,!1),_e.stateNode=$;e:{switch(ot=vb(et,tt),et){case"dialog":D$1("cancel",$),D$1("close",$),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",$),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],$);nt=tt;break;case"source":D$1("error",$),nt=tt;break;case"img":case"image":case"link":D$1("error",$),D$1("load",$),nt=tt;break;case"details":D$1("toggle",$),nt=tt;break;case"input":Za($,tt),nt=Ya($,tt),D$1("invalid",$);break;case"option":nt=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},nt=A$2({},tt,{value:void 0}),D$1("invalid",$);break;case"textarea":hb($,tt),nt=gb($,tt),D$1("invalid",$);break;default:nt=tt}ub(et,nt),it=nt;for(at in it)if(it.hasOwnProperty(at)){var st=it[at];at==="style"?sb($,st):at==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb($,st)):at==="children"?typeof st=="string"?(et!=="textarea"||st!=="")&&ob($,st):typeof st=="number"&&ob($,""+st):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?st!=null&&at==="onScroll"&&D$1("scroll",$):st!=null&&ta($,at,st,ot))}switch(et){case"input":Va($),db($,tt,!1);break;case"textarea":Va($),jb($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa(tt.value));break;case"select":$.multiple=!!tt.multiple,at=tt.value,at!=null?fb($,!!tt.multiple,at,!1):tt.defaultValue!=null&&fb($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if($&&_e.stateNode!=null)Dj($,_e,$.memoizedProps,tt);else{if(typeof tt!="string"&&_e.stateNode===null)throw Error(p$6(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(tt=_e.stateNode,et=_e.memoizedProps,tt[Of]=_e,(at=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}at&&(_e.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_e,_e.stateNode=tt}return S$1(_e),null;case 13:if(E$1(M$1),tt=_e.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,at=!1;else if(at=Gg(_e),tt!==null&&tt.dehydrated!==null){if($===null){if(!at)throw Error(p$6(318));if(at=_e.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(p$6(317));at[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),at=!1}else zg!==null&&(Gj(zg),zg=null),at=!0;if(!at)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=et,_e):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_e.child.flags|=8192,(_e.mode&1)!==0&&($===null||(M$1.current&1)!==0?T===0&&(T=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj($,_e),$===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E$1(M$1),at=_e.memoizedState,at===null)return S$1(_e),null;if(tt=(_e.flags&128)!==0,ot=at.rendering,ot===null)if(tt)Ej(at,!1);else{if(T!==0||$!==null&&($.flags&128)!==0)for($=_e.child;$!==null;){if(ot=Mh($),ot!==null){for(_e.flags|=128,Ej(at,!1),tt=ot.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),_e.subtreeFlags=0,tt=et,et=_e.child;et!==null;)at=et,$=tt,at.flags&=14680066,ot=at.alternate,ot===null?(at.childLanes=0,at.lanes=$,at.child=null,at.subtreeFlags=0,at.memoizedProps=null,at.memoizedState=null,at.updateQueue=null,at.dependencies=null,at.stateNode=null):(at.childLanes=ot.childLanes,at.lanes=ot.lanes,at.child=ot.child,at.subtreeFlags=0,at.deletions=null,at.memoizedProps=ot.memoizedProps,at.memoizedState=ot.memoizedState,at.updateQueue=ot.updateQueue,at.type=ot.type,$=ot.dependencies,at.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),_e.child}$=$.sibling}at.tail!==null&&B$1()>Hj&&(_e.flags|=128,tt=!0,Ej(at,!1),_e.lanes=4194304)}else{if(!tt)if($=Mh(ot),$!==null){if(_e.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_e.updateQueue=et,_e.flags|=4),Ej(at,!0),at.tail===null&&at.tailMode==="hidden"&&!ot.alternate&&!I$1)return S$1(_e),null}else 2*B$1()-at.renderingStartTime>Hj&&et!==1073741824&&(_e.flags|=128,tt=!0,Ej(at,!1),_e.lanes=4194304);at.isBackwards?(ot.sibling=_e.child,_e.child=ot):(et=at.last,et!==null?et.sibling=ot:_e.child=ot,at.last=ot)}return at.tail!==null?(_e=at.tail,at.rendering=_e,at.tail=_e.sibling,at.renderingStartTime=B$1(),_e.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),tt=_e.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_e.flags|=8192),tt&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$6(156,_e.tag))}function Jj($,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),$=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),$=_e.flags,($&65536)!==0&&($&128)===0?(_e.flags=$&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$1(M$1),$=_e.memoizedState,$!==null&&$.dehydrated!==null){if(_e.alternate===null)throw Error(p$6(340));Ig()}return $=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj($,_e){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1($,_e,tt)}else et.current=null}function Nj($,_e,et){try{et()}catch(tt){W$1($,_e,tt)}}var Oj=!1;function Pj($,_e){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,at=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,at.nodeType}catch{et=null;break e}var ot=0,it=-1,st=-1,ut=0,ft=0,dt=$,vt=null;t:for(;;){for(var gt;dt!==et||nt!==0&&dt.nodeType!==3||(it=ot+nt),dt!==at||tt!==0&&dt.nodeType!==3||(st=ot+tt),dt.nodeType===3&&(ot+=dt.nodeValue.length),(gt=dt.firstChild)!==null;)vt=dt,dt=gt;for(;;){if(dt===$)break t;if(vt===et&&++ut===nt&&(it=ot),vt===at&&++ft===tt&&(st=ot),(gt=dt.nextSibling)!==null)break;dt=vt,vt=dt.parentNode}dt=gt}et=it===-1||st===-1?null:{start:it,end:st}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd=!1,V=_e;V!==null;)if(_e=V,$=_e.child,(_e.subtreeFlags&1028)!==0&&$!==null)$.return=_e,V=$;else for(;V!==null;){_e=V;try{var yt=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var xt=yt.memoizedProps,Ct=yt.memoizedState,wt=_e.stateNode,Et=wt.getSnapshotBeforeUpdate(_e.elementType===_e.type?xt:Lg(_e.type,xt),Ct);wt.__reactInternalSnapshotBeforeUpdate=Et}break;case 3:var $t=_e.stateNode.containerInfo;$t.nodeType===1?$t.textContent="":$t.nodeType===9&&$t.documentElement&&$t.removeChild($t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(It){W$1(_e,_e.return,It)}if($=_e.sibling,$!==null){$.return=_e.return,V=$;break}V=_e.return}return yt=Oj,Oj=!1,yt}function Qj($,_e,et){var tt=_e.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&$)===$){var at=nt.destroy;nt.destroy=void 0,at!==void 0&&Nj(_e,et,at)}nt=nt.next}while(nt!==tt)}}function Rj($,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_e)}}function Sj($){var _e=$.ref;if(_e!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _e=="function"?_e($):_e.current=$}}function Tj($){var _e=$.alternate;_e!==null&&($.alternate=null,Tj(_e)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_e=$.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Uj($){return $.tag===5||$.tag===3||$.tag===4}function Vj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Uj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Wj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.nodeType===8?et.parentNode.insertBefore($,_e):et.insertBefore($,_e):(et.nodeType===8?(_e=et.parentNode,_e.insertBefore($,et)):(_e=et,_e.appendChild($)),et=et._reactRootContainer,et!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Wj($,_e,et),$=$.sibling;$!==null;)Wj($,_e,et),$=$.sibling}function Xj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.insertBefore($,_e):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Xj($,_e,et),$=$.sibling;$!==null;)Xj($,_e,et),$=$.sibling}var X$1=null,Yj=!1;function Zj($,_e,et){for(et=et.child;et!==null;)ak($,_e,et),et=et.sibling}function ak($,_e,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,_e);case 6:var tt=X$1,nt=Yj;X$1=null,Zj($,_e,et),X$1=tt,Yj=nt,X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd($)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj($,_e,et),X$1=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var at=nt,ot=at.destroy;at=at.tag,ot!==void 0&&((at&2)!==0||(at&4)!==0)&&Nj(et,_e,ot),nt=nt.next}while(nt!==tt)}Zj($,_e,et);break;case 1:if(!U$1&&(Mj(et,_e),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(it){W$1(et,_e,it)}Zj($,_e,et);break;case 21:Zj($,_e,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj($,_e,et),U$1=tt):Zj($,_e,et);break;default:Zj($,_e,et)}}function bk($){var _e=$.updateQueue;if(_e!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Lj),_e.forEach(function(tt){var nt=ck.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function dk($,_e){var et=_e.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var at=$,ot=_e,it=ot;e:for(;it!==null;){switch(it.tag){case 5:X$1=it.stateNode,Yj=!1;break e;case 3:X$1=it.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=it.stateNode.containerInfo,Yj=!0;break e}it=it.return}if(X$1===null)throw Error(p$6(160));ak(at,ot,nt),X$1=null,Yj=!1;var st=nt.alternate;st!==null&&(st.return=null),nt.return=null}catch(ut){W$1(nt,_e,ut)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,$),_e=_e.sibling}function ek($,_e){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(dk(_e,$),fk($),tt&4){try{Qj(3,$,$.return),Rj(3,$)}catch(xt){W$1($,$.return,xt)}try{Qj(5,$,$.return)}catch(xt){W$1($,$.return,xt)}}break;case 1:dk(_e,$),fk($),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(_e,$),fk($),tt&512&&et!==null&&Mj(et,et.return),$.flags&32){var nt=$.stateNode;try{ob(nt,"")}catch(xt){W$1($,$.return,xt)}}if(tt&4&&(nt=$.stateNode,nt!=null)){var at=$.memoizedProps,ot=et!==null?et.memoizedProps:at,it=$.type,st=$.updateQueue;if($.updateQueue=null,st!==null)try{it==="input"&&at.type==="radio"&&at.name!=null&&ab(nt,at),vb(it,ot);var ut=vb(it,at);for(ot=0;ot<st.length;ot+=2){var ft=st[ot],dt=st[ot+1];ft==="style"?sb(nt,dt):ft==="dangerouslySetInnerHTML"?nb(nt,dt):ft==="children"?ob(nt,dt):ta(nt,ft,dt,ut)}switch(it){case"input":bb(nt,at);break;case"textarea":ib(nt,at);break;case"select":var vt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!at.multiple;var gt=at.value;gt!=null?fb(nt,!!at.multiple,gt,!1):vt!==!!at.multiple&&(at.defaultValue!=null?fb(nt,!!at.multiple,at.defaultValue,!0):fb(nt,!!at.multiple,at.multiple?[]:"",!1))}nt[Pf]=at}catch(xt){W$1($,$.return,xt)}}break;case 6:if(dk(_e,$),fk($),tt&4){if($.stateNode===null)throw Error(p$6(162));nt=$.stateNode,at=$.memoizedProps;try{nt.nodeValue=at}catch(xt){W$1($,$.return,xt)}}break;case 3:if(dk(_e,$),fk($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(xt){W$1($,$.return,xt)}break;case 4:dk(_e,$),fk($);break;case 13:dk(_e,$),fk($),nt=$.child,nt.flags&8192&&(at=nt.memoizedState!==null,nt.stateNode.isHidden=at,!at||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk($);break;case 22:if(ft=et!==null&&et.memoizedState!==null,$.mode&1?(U$1=(ut=U$1)||ft,dk(_e,$),U$1=ut):dk(_e,$),fk($),tt&8192){if(ut=$.memoizedState!==null,($.stateNode.isHidden=ut)&&!ft&&($.mode&1)!==0)for(V=$,ft=$.child;ft!==null;){for(dt=V=ft;V!==null;){switch(vt=V,gt=vt.child,vt.tag){case 0:case 11:case 14:case 15:Qj(4,vt,vt.return);break;case 1:Mj(vt,vt.return);var yt=vt.stateNode;if(typeof yt.componentWillUnmount=="function"){tt=vt,et=vt.return;try{_e=tt,yt.props=_e.memoizedProps,yt.state=_e.memoizedState,yt.componentWillUnmount()}catch(xt){W$1(tt,et,xt)}}break;case 5:Mj(vt,vt.return);break;case 22:if(vt.memoizedState!==null){hk(dt);continue}}gt!==null?(gt.return=vt,V=gt):hk(dt)}ft=ft.sibling}e:for(ft=null,dt=$;;){if(dt.tag===5){if(ft===null){ft=dt;try{nt=dt.stateNode,ut?(at=nt.style,typeof at.setProperty=="function"?at.setProperty("display","none","important"):at.display="none"):(it=dt.stateNode,st=dt.memoizedProps.style,ot=st!=null&&st.hasOwnProperty("display")?st.display:null,it.style.display=rb$1("display",ot))}catch(xt){W$1($,$.return,xt)}}}else if(dt.tag===6){if(ft===null)try{dt.stateNode.nodeValue=ut?"":dt.memoizedProps}catch(xt){W$1($,$.return,xt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===$)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===$)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===$)break e;ft===dt&&(ft=null),dt=dt.return}ft===dt&&(ft=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(_e,$),fk($),tt&4&&bk($);break;case 21:break;default:dk(_e,$),fk($)}}function fk($){var _e=$.flags;if(_e&2){try{e:{for(var et=$.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$6(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var at=Vj($);Xj($,at,nt);break;case 3:case 4:var ot=tt.stateNode.containerInfo,it=Vj($);Wj($,it,ot);break;default:throw Error(p$6(161))}}catch(st){W$1($,$.return,st)}$.flags&=-3}_e&4096&&($.flags&=-4097)}function ik($,_e,et){V=$,jk($)}function jk($,_e,et){for(var tt=($.mode&1)!==0;V!==null;){var nt=V,at=nt.child;if(nt.tag===22&&tt){var ot=nt.memoizedState!==null||Kj;if(!ot){var it=nt.alternate,st=it!==null&&it.memoizedState!==null||U$1;it=Kj;var ut=U$1;if(Kj=ot,(U$1=st)&&!ut)for(V=nt;V!==null;)ot=V,st=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(nt):st!==null?(st.return=ot,V=st):kk(nt);for(;at!==null;)V=at,jk(at),at=at.sibling;V=nt,Kj=it,U$1=ut}lk($)}else(nt.subtreeFlags&8772)!==0&&at!==null?(at.return=nt,V=at):lk($)}}function lk($){for(;V!==null;){var _e=V;if((_e.flags&8772)!==0){var et=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var tt=_e.stateNode;if(_e.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var nt=_e.elementType===_e.type?et.memoizedProps:Lg(_e.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var at=_e.updateQueue;at!==null&&ih(_e,at,tt);break;case 3:var ot=_e.updateQueue;if(ot!==null){if(et=null,_e.child!==null)switch(_e.child.tag){case 5:et=_e.child.stateNode;break;case 1:et=_e.child.stateNode}ih(_e,ot,et)}break;case 5:var it=_e.stateNode;if(et===null&&_e.flags&4){et=it;var st=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&et.focus();break;case"img":st.src&&(et.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ut=_e.alternate;if(ut!==null){var ft=ut.memoizedState;if(ft!==null){var dt=ft.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||_e.flags&512&&Sj(_e)}catch(vt){W$1(_e,_e.return,vt)}}if(_e===$){V=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,V=et;break}V=_e.return}}function hk($){for(;V!==null;){var _e=V;if(_e===$){V=null;break}var et=_e.sibling;if(et!==null){et.return=_e.return,V=et;break}V=_e.return}}function kk($){for(;V!==null;){var _e=V;try{switch(_e.tag){case 0:case 11:case 15:var et=_e.return;try{Rj(4,_e)}catch(st){W$1(_e,et,st)}break;case 1:var tt=_e.stateNode;if(typeof tt.componentDidMount=="function"){var nt=_e.return;try{tt.componentDidMount()}catch(st){W$1(_e,nt,st)}}var at=_e.return;try{Sj(_e)}catch(st){W$1(_e,at,st)}break;case 5:var ot=_e.return;try{Sj(_e)}catch(st){W$1(_e,ot,st)}}}catch(st){W$1(_e,_e.return,st)}if(_e===$){V=null;break}var it=_e.sibling;if(it!==null){it.return=_e.return,V=it;break}V=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh($){return($.mode&1)===0?1:(K&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):($=C,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$)}function mh($,_e,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac($,et,tt),((K&2)===0||$!==R$1)&&($===R$1&&((K&2)===0&&(rk|=et),T===4&&Dk($,Z$1)),Ek($,tt),et===1&&K===0&&(_e.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek($,_e){var et=$.callbackNode;wc($,_e);var tt=uc($,$===R$1?Z$1:0);if(tt===0)et!==null&&bc(et),$.callbackNode=null,$.callbackPriority=0;else if(_e=tt&-tt,$.callbackPriority!==_e){if(et!=null&&bc(et),_e===1)$.tag===0?ig(Fk.bind(null,$)):hg(Fk.bind(null,$)),Jf(function(){(K&6)===0&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,$))}$.callbackPriority=_e,$.callbackNode=et}}function Hk($,_e){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p$6(327));var et=$.callbackNode;if(Ik()&&$.callbackNode!==et)return null;var tt=uc($,$===R$1?Z$1:0);if(tt===0)return null;if((tt&30)!==0||(tt&$.expiredLanes)!==0||_e)_e=Jk($,tt);else{_e=tt;var nt=K;K|=2;var at=Kk();(R$1!==$||Z$1!==_e)&&(vk=null,Hj=B$1()+500,Lk($,_e));do try{Mk();break}catch(it){Nk($,it)}while(1);Qg(),nk.current=at,K=nt,Y!==null?_e=0:(R$1=null,Z$1=0,_e=T)}if(_e!==0){if(_e===2&&(nt=xc($),nt!==0&&(tt=nt,_e=Ok($,nt))),_e===1)throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;if(_e===6)Dk($,tt);else{if(nt=$.current.alternate,(tt&30)===0&&!Pk(nt)&&(_e=Jk($,tt),_e===2&&(at=xc($),at!==0&&(tt=at,_e=Ok($,at))),_e===1))throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;switch($.finishedWork=nt,$.finishedLanes=tt,_e){case 0:case 1:throw Error(p$6(345));case 2:Qk($,uk,vk);break;case 3:if(Dk($,tt),(tt&130023424)===tt&&(_e=gk+500-B$1(),10<_e)){if(uc($,0)!==0)break;if(nt=$.suspendedLanes,(nt&tt)!==tt){L$1(),$.pingedLanes|=$.suspendedLanes&nt;break}$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),_e);break}Qk($,uk,vk);break;case 4:if(Dk($,tt),(tt&4194240)===tt)break;for(_e=$.eventTimes,nt=-1;0<tt;){var ot=31-oc(tt);at=1<<ot,ot=_e[ot],ot>nt&&(nt=ot),tt&=~at}if(tt=nt,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),tt);break}Qk($,uk,vk);break;case 5:Qk($,uk,vk);break;default:throw Error(p$6(329))}}}return Ek($,B$1()),$.callbackNode===et?Hk.bind(null,$):null}function Ok($,_e){var et=tk;return $.current.memoizedState.isDehydrated&&(Lk($,_e).flags|=256),$=Jk($,_e),$!==2&&(_e=uk,uk=et,_e!==null&&Gj(_e)),$}function Gj($){uk===null?uk=$:uk.push.apply(uk,$)}function Pk($){for(var _e=$;;){if(_e.flags&16384){var et=_e.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],at=nt.getSnapshot;nt=nt.value;try{if(!He(at(),nt))return!1}catch{return!1}}}if(et=_e.child,_e.subtreeFlags&16384&&et!==null)et.return=_e,_e=et;else{if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk($,_e){for(_e&=~sk,_e&=~rk,$.suspendedLanes|=_e,$.pingedLanes&=~_e,$=$.expirationTimes;0<_e;){var et=31-oc(_e),tt=1<<et;$[et]=-1,_e&=~tt}}function Fk($){if((K&6)!==0)throw Error(p$6(327));Ik();var _e=uc($,0);if((_e&1)===0)return Ek($,B$1()),null;var et=Jk($,_e);if($.tag!==0&&et===2){var tt=xc($);tt!==0&&(_e=tt,et=Ok($,tt))}if(et===1)throw et=qk,Lk($,0),Dk($,_e),Ek($,B$1()),et;if(et===6)throw Error(p$6(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_e,Qk($,uk,vk),Ek($,B$1()),null}function Rk($,_e){var et=K;K|=1;try{return $(_e)}finally{K=et,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk($){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var _e=K;K|=1;var et=pk.transition,tt=C;try{if(pk.transition=null,C=1,$)return $()}finally{C=tt,pk.transition=et,K=_e,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk($,_e){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$1=$,Y=$=wh($.current,null),Z$1=gj=_e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(et=Wg[_e],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,at=et.pending;if(at!==null){var ot=at.next;at.next=nt,tt.next=ot}et.pending=tt}Wg=null}return $}function Nk($,_e){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T=1,qk=_e,Y=null;break}e:{var at=$,ot=et.return,it=et,st=_e;if(_e=Z$1,it.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var ut=st,ft=it,dt=ft.tag;if((ft.mode&1)===0&&(dt===0||dt===11||dt===15)){var vt=ft.alternate;vt?(ft.updateQueue=vt.updateQueue,ft.memoizedState=vt.memoizedState,ft.lanes=vt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var gt=Vi(ot);if(gt!==null){gt.flags&=-257,Wi(gt,ot,it,at,_e),gt.mode&1&&Ti(at,ut,_e),_e=gt,st=ut;var yt=_e.updateQueue;if(yt===null){var xt=new Set;xt.add(st),_e.updateQueue=xt}else yt.add(st);break e}else{if((_e&1)===0){Ti(at,ut,_e),uj();break e}st=Error(p$6(426))}}else if(I$1&&it.mode&1){var Ct=Vi(ot);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Wi(Ct,ot,it,at,_e),Jg(Ki(st,it));break e}}at=st=Ki(st,it),T!==4&&(T=2),tk===null?tk=[at]:tk.push(at),at=ot;do{switch(at.tag){case 3:at.flags|=65536,_e&=-_e,at.lanes|=_e;var wt=Oi(at,st,_e);fh(at,wt);break e;case 1:it=st;var Et=at.type,$t=at.stateNode;if((at.flags&128)===0&&(typeof Et.getDerivedStateFromError=="function"||$t!==null&&typeof $t.componentDidCatch=="function"&&(Si===null||!Si.has($t)))){at.flags|=65536,_e&=-_e,at.lanes|=_e;var It=Ri(at,it,_e);fh(at,It);break e}}at=at.return}while(at!==null)}Tk(et)}catch(Ot){_e=Ot,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Kk(){var $=nk.current;return nk.current=ai,$===null?ai:$}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk($,_e){var et=K;K|=2;var tt=Kk();(R$1!==$||Z$1!==_e)&&(vk=null,Lk($,_e));do try{Uk();break}catch(nt){Nk($,nt)}while(1);if(Qg(),K=et,nk.current=tt,Y!==null)throw Error(p$6(261));return R$1=null,Z$1=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk($){var _e=Wk($.alternate,$,gj);$.memoizedProps=$.pendingProps,_e===null?Tk($):Y=_e,ok.current=null}function Tk($){var _e=$;do{var et=_e.alternate;if($=_e.return,(_e.flags&32768)===0){if(et=Fj(et,_e,gj),et!==null){Y=et;return}}else{if(et=Jj(et,_e),et!==null){et.flags&=32767,Y=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T=6,Y=null;return}}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=$}while(_e!==null);T===0&&(T=5)}function Qk($,_e,et){var tt=C,nt=pk.transition;try{pk.transition=null,C=1,Xk($,_e,et,tt)}finally{pk.transition=nt,C=tt}return null}function Xk($,_e,et,tt){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p$6(327));et=$.finishedWork;var nt=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$6(177));$.callbackNode=null,$.callbackPriority=0;var at=et.lanes|et.childLanes;if(Bc($,at),$===R$1&&(Y=R$1=null,Z$1=0),(et.subtreeFlags&2064)===0&&(et.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),at=(et.flags&15990)!==0,(et.subtreeFlags&15990)!==0||at){at=pk.transition,pk.transition=null;var ot=C;C=1;var it=K;K|=4,ok.current=null,Pj($,et),ek(et,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=et,ik(et),dc(),K=it,C=ot,pk.transition=at}else $.current=et;if(wk&&(wk=!1,xk=$,yk=nt),at=$.pendingLanes,at===0&&(Si=null),mc(et.stateNode),Ek($,B$1()),_e!==null)for(tt=$.onRecoverableError,et=0;et<_e.length;et++)nt=_e[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,$=Qi,Qi=null,$;return(yk&1)!==0&&$.tag!==0&&Ik(),at=$.pendingLanes,(at&1)!==0?$===Ak?zk++:(zk=0,Ak=$):zk=0,jg(),null}function Ik(){if(xk!==null){var $=Dc(yk),_e=pk.transition,et=C;try{if(pk.transition=null,C=16>$?16:$,xk===null)var tt=!1;else{if($=xk,xk=null,yk=0,(K&6)!==0)throw Error(p$6(331));var nt=K;for(K|=4,V=$.current;V!==null;){var at=V,ot=at.child;if((V.flags&16)!==0){var it=at.deletions;if(it!==null){for(var st=0;st<it.length;st++){var ut=it[st];for(V=ut;V!==null;){var ft=V;switch(ft.tag){case 0:case 11:case 15:Qj(8,ft,at)}var dt=ft.child;if(dt!==null)dt.return=ft,V=dt;else for(;V!==null;){ft=V;var vt=ft.sibling,gt=ft.return;if(Tj(ft),ft===ut){V=null;break}if(vt!==null){vt.return=gt,V=vt;break}V=gt}}}var yt=at.alternate;if(yt!==null){var xt=yt.child;if(xt!==null){yt.child=null;do{var Ct=xt.sibling;xt.sibling=null,xt=Ct}while(xt!==null)}}V=at}}if((at.subtreeFlags&2064)!==0&&ot!==null)ot.return=at,V=ot;else e:for(;V!==null;){if(at=V,(at.flags&2048)!==0)switch(at.tag){case 0:case 11:case 15:Qj(9,at,at.return)}var wt=at.sibling;if(wt!==null){wt.return=at.return,V=wt;break e}V=at.return}}var Et=$.current;for(V=Et;V!==null;){ot=V;var $t=ot.child;if((ot.subtreeFlags&2064)!==0&&$t!==null)$t.return=ot,V=$t;else e:for(ot=Et;V!==null;){if(it=V,(it.flags&2048)!==0)try{switch(it.tag){case 0:case 11:case 15:Rj(9,it)}}catch(Ot){W$1(it,it.return,Ot)}if(it===ot){V=null;break e}var It=it.sibling;if(It!==null){It.return=it.return,V=It;break e}V=it.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}tt=!0}return tt}finally{C=et,pk.transition=_e}}return!1}function Yk($,_e,et){_e=Ki(et,_e),_e=Oi($,_e,1),$=dh($,_e,1),_e=L$1(),$!==null&&(Ac($,1,_e),Ek($,_e))}function W$1($,_e,et){if($.tag===3)Yk($,$,et);else for(;_e!==null;){if(_e.tag===3){Yk(_e,$,et);break}else if(_e.tag===1){var tt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){$=Ki(et,$),$=Ri(_e,$,1),_e=dh(_e,$,1),$=L$1(),_e!==null&&(Ac(_e,1,$),Ek(_e,$));break}}_e=_e.return}}function Ui($,_e,et){var tt=$.pingCache;tt!==null&&tt.delete(_e),_e=L$1(),$.pingedLanes|=$.suspendedLanes&et,R$1===$&&(Z$1&et)===et&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk($,0):sk|=et),Ek($,_e)}function Zk($,_e){_e===0&&(($.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var et=L$1();$=Zg($,_e),$!==null&&(Ac($,_e,et),Ek($,et))}function vj($){var _e=$.memoizedState,et=0;_e!==null&&(et=_e.retryLane),Zk($,et)}function ck($,_e){var et=0;switch($.tag){case 13:var tt=$.stateNode,nt=$.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$6(314))}tt!==null&&tt.delete(_e),Zk($,et)}var Wk;Wk=function($,_e,et){if($!==null)if($.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(($.lanes&et)===0&&(_e.flags&128)===0)return Ug=!1,zj($,_e,et);Ug=($.flags&131072)!==0}else Ug=!1,I$1&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tt=_e.type;jj($,_e),$=_e.pendingProps;var nt=Yf(_e,H$1.current);Tg(_e,et),nt=Xh(null,_e,tt,$,nt,et);var at=bi();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tt)?(at=!0,cg(_e)):at=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_e),nt.updater=nh,_e.stateNode=nt,nt._reactInternals=_e,rh(_e,tt,$,et),_e=kj(null,_e,tt,!0,at,et)):(_e.tag=0,I$1&&at&&vg(_e),Yi(null,_e,nt,et),_e=_e.child),_e;case 16:tt=_e.elementType;e:{switch(jj($,_e),$=_e.pendingProps,nt=tt._init,tt=nt(tt._payload),_e.type=tt,nt=_e.tag=$k(tt),$=Lg(tt,$),nt){case 0:_e=dj(null,_e,tt,$,et);break e;case 1:_e=ij(null,_e,tt,$,et);break e;case 11:_e=Zi(null,_e,tt,$,et);break e;case 14:_e=aj(null,_e,tt,Lg(tt.type,$),et);break e}throw Error(p$6(306,tt,""))}return _e;case 0:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Lg(tt,nt),dj($,_e,tt,nt,et);case 1:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Lg(tt,nt),ij($,_e,tt,nt,et);case 3:e:{if(lj(_e),$===null)throw Error(p$6(387));tt=_e.pendingProps,at=_e.memoizedState,nt=at.element,bh($,_e),gh(_e,tt,null,et);var ot=_e.memoizedState;if(tt=ot.element,at.isDehydrated)if(at={element:tt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},_e.updateQueue.baseState=at,_e.memoizedState=at,_e.flags&256){nt=Ki(Error(p$6(423)),_e),_e=mj($,_e,tt,et,nt);break e}else if(tt!==nt){nt=Ki(Error(p$6(424)),_e),_e=mj($,_e,tt,et,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,et=Ch(_e,null,tt,et),_e.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){_e=$i($,_e,et);break e}Yi($,_e,tt,et)}_e=_e.child}return _e;case 5:return Kh(_e),$===null&&Eg(_e),tt=_e.type,nt=_e.pendingProps,at=$!==null?$.memoizedProps:null,ot=nt.children,Ef(tt,nt)?ot=null:at!==null&&Ef(tt,at)&&(_e.flags|=32),hj($,_e),Yi($,_e,ot,et),_e.child;case 6:return $===null&&Eg(_e),null;case 13:return pj($,_e,et);case 4:return Ih(_e,_e.stateNode.containerInfo),tt=_e.pendingProps,$===null?_e.child=Bh(_e,null,tt,et):Yi($,_e,tt,et),_e.child;case 11:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Lg(tt,nt),Zi($,_e,tt,nt,et);case 7:return Yi($,_e,_e.pendingProps,et),_e.child;case 8:return Yi($,_e,_e.pendingProps.children,et),_e.child;case 12:return Yi($,_e,_e.pendingProps.children,et),_e.child;case 10:e:{if(tt=_e.type._context,nt=_e.pendingProps,at=_e.memoizedProps,ot=nt.value,G$1(Mg,tt._currentValue),tt._currentValue=ot,at!==null)if(He(at.value,ot)){if(at.children===nt.children&&!Wf.current){_e=$i($,_e,et);break e}}else for(at=_e.child,at!==null&&(at.return=_e);at!==null;){var it=at.dependencies;if(it!==null){ot=at.child;for(var st=it.firstContext;st!==null;){if(st.context===tt){if(at.tag===1){st=ch(-1,et&-et),st.tag=2;var ut=at.updateQueue;if(ut!==null){ut=ut.shared;var ft=ut.pending;ft===null?st.next=st:(st.next=ft.next,ft.next=st),ut.pending=st}}at.lanes|=et,st=at.alternate,st!==null&&(st.lanes|=et),Sg(at.return,et,_e),it.lanes|=et;break}st=st.next}}else if(at.tag===10)ot=at.type===_e.type?null:at.child;else if(at.tag===18){if(ot=at.return,ot===null)throw Error(p$6(341));ot.lanes|=et,it=ot.alternate,it!==null&&(it.lanes|=et),Sg(ot,et,_e),ot=at.sibling}else ot=at.child;if(ot!==null)ot.return=at;else for(ot=at;ot!==null;){if(ot===_e){ot=null;break}if(at=ot.sibling,at!==null){at.return=ot.return,ot=at;break}ot=ot.return}at=ot}Yi($,_e,nt.children,et),_e=_e.child}return _e;case 9:return nt=_e.type,tt=_e.pendingProps.children,Tg(_e,et),nt=Vg(nt),tt=tt(nt),_e.flags|=1,Yi($,_e,tt,et),_e.child;case 14:return tt=_e.type,nt=Lg(tt,_e.pendingProps),nt=Lg(tt.type,nt),aj($,_e,tt,nt,et);case 15:return cj($,_e,_e.type,_e.pendingProps,et);case 17:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Lg(tt,nt),jj($,_e),_e.tag=1,Zf(tt)?($=!0,cg(_e)):$=!1,Tg(_e,et),ph(_e,tt,nt),rh(_e,tt,nt,et),kj(null,_e,tt,!0,$,et);case 19:return yj($,_e,et);case 22:return ej($,_e,et)}throw Error(p$6(156,_e.tag))};function Gk($,_e){return ac($,_e)}function al($,_e,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_e,et,tt){return new al($,_e,et,tt)}function bj($){return $=$.prototype,!(!$||!$.isReactComponent)}function $k($){if(typeof $=="function")return bj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function wh($,_e){var et=$.alternate;return et===null?(et=Bg($.tag,_e,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_e,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_e=$.dependencies,et.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function yh($,_e,et,tt,nt,at){var ot=2;if(tt=$,typeof $=="function")bj($)&&(ot=1);else if(typeof $=="string")ot=5;else e:switch($){case ya:return Ah(et.children,nt,at,_e);case za:ot=8,nt|=8;break;case Aa:return $=Bg(12,et,_e,nt|2),$.elementType=Aa,$.lanes=at,$;case Ea:return $=Bg(13,et,_e,nt),$.elementType=Ea,$.lanes=at,$;case Fa:return $=Bg(19,et,_e,nt),$.elementType=Fa,$.lanes=at,$;case Ia:return qj(et,nt,at,_e);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,tt=null;break e}throw Error(p$6(130,$==null?$:typeof $,""))}return _e=Bg(ot,et,_e,nt),_e.elementType=$,_e.type=tt,_e.lanes=at,_e}function Ah($,_e,et,tt){return $=Bg(7,$,tt,_e),$.lanes=et,$}function qj($,_e,et,tt){return $=Bg(22,$,tt,_e),$.elementType=Ia,$.lanes=et,$.stateNode={isHidden:!1},$}function xh($,_e,et){return $=Bg(6,$,null,_e),$.lanes=et,$}function zh($,_e,et){return _e=Bg(4,$.children!==null?$.children:[],$.key,_e),_e.lanes=et,_e.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_e}function bl($,_e,et,tt,nt){this.tag=_e,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl($,_e,et,tt,nt,at,ot,it,st){return $=new bl($,_e,et,it,st),_e===1?(_e=1,at===!0&&(_e|=8)):_e=0,at=Bg(3,null,null,_e),$.current=at,at.stateNode=$,at.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(at),$}function dl($,_e,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:$,containerInfo:_e,implementation:et}}function el($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$6(170));var _e=$;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$6(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_e)}return _e}function fl($,_e,et,tt,nt,at,ot,it,st){return $=cl(et,tt,!0,$,nt,at,ot,it,st),$.context=el(null),et=$.current,tt=L$1(),nt=lh(et),at=ch(tt,nt),at.callback=_e!=null?_e:null,dh(et,at,nt),$.current.lanes=nt,Ac($,nt,tt),Ek($,tt),$}function gl($,_e,et,tt){var nt=_e.current,at=L$1(),ot=lh(nt);return et=el(et),_e.context===null?_e.context=et:_e.pendingContext=et,_e=ch(at,ot),_e.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_e.callback=tt),$=dh(nt,_e,ot),$!==null&&(mh($,nt,ot,at),eh($,nt,ot)),ot}function hl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function il($,_e){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_e?et:_e}}function jl($,_e){il($,_e),($=$.alternate)&&il($,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function($){console.error($)};function ml($){this._internalRoot=$}nl.prototype.render=ml.prototype.render=function($){var _e=this._internalRoot;if(_e===null)throw Error(p$6(409));gl($,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _e=$.containerInfo;Sk(function(){gl(null,$,null,null)}),_e[uf]=null}};function nl($){this._internalRoot=$}nl.prototype.unstable_scheduleHydration=function($){if($){var _e=Hc();$={blockedOn:null,target:$,priority:_e};for(var et=0;et<Qc.length&&_e!==0&&_e<Qc[et].priority;et++);Qc.splice(et,0,$),et===0&&Vc($)}};function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function pl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl($,_e,et,tt,nt){if(nt){if(typeof tt=="function"){var at=tt;tt=function(){var ut=hl(ot);at.call(ut)}}var ot=fl(_e,tt,$,0,null,!1,!1,"",ql);return $._reactRootContainer=ot,$[uf]=ot.current,sf($.nodeType===8?$.parentNode:$),Sk(),ot}for(;nt=$.lastChild;)$.removeChild(nt);if(typeof tt=="function"){var it=tt;tt=function(){var ut=hl(st);it.call(ut)}}var st=cl($,0,!1,null,null,!1,!1,"",ql);return $._reactRootContainer=st,$[uf]=st.current,sf($.nodeType===8?$.parentNode:$),Sk(function(){gl(_e,st,et,tt)}),st}function sl($,_e,et,tt,nt){var at=et._reactRootContainer;if(at){var ot=at;if(typeof nt=="function"){var it=nt;nt=function(){var st=hl(ot);it.call(st)}}gl(_e,ot,$,nt)}else ot=rl(et,_e,$,nt,tt);return hl(ot)}Ec=function($){switch($.tag){case 3:var _e=$.stateNode;if(_e.current.memoizedState.isDehydrated){var et=tc(_e.pendingLanes);et!==0&&(Cc(_e,et|1),Ek(_e,B$1()),(K&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg($,1);if(tt!==null){var nt=L$1();mh(tt,$,1,nt)}}),jl($,1)}};Fc=function($){if($.tag===13){var _e=Zg($,134217728);if(_e!==null){var et=L$1();mh(_e,$,134217728,et)}jl($,134217728)}};Gc=function($){if($.tag===13){var _e=lh($),et=Zg($,_e);if(et!==null){var tt=L$1();mh(et,$,_e,tt)}jl($,_e)}};Hc=function(){return C};Ic=function($,_e){var et=C;try{return C=$,_e()}finally{C=et}};yb=function($,_e,et){switch(_e){case"input":if(bb($,et),_e=et.name,et.type==="radio"&&_e!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<et.length;_e++){var tt=et[_e];if(tt!==$&&tt.form===$.form){var nt=Db(tt);if(!nt)throw Error(p$6(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib($,et);break;case"select":_e=et.value,_e!=null&&fb($,!!et.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function($,_e){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$6(200));return dl($,_e,null,et)};reactDom_production_min.createRoot=function($,_e){if(!ol($))throw Error(p$6(299));var et=!1,tt="",nt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(et=!0),_e.identifierPrefix!==void 0&&(tt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=cl($,1,!1,null,null,et,!1,tt,nt),$[uf]=_e.current,sf($.nodeType===8?$.parentNode:$),new ml(_e)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _e=$._reactInternals;if(_e===void 0)throw typeof $.render=="function"?Error(p$6(188)):($=Object.keys($).join(","),Error(p$6(268,$)));return $=Zb(_e),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Sk($)};reactDom_production_min.hydrate=function($,_e,et){if(!pl(_e))throw Error(p$6(200));return sl(null,$,_e,!0,et)};reactDom_production_min.hydrateRoot=function($,_e,et){if(!ol($))throw Error(p$6(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,at="",ot=ll;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(at=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),_e=fl(_e,null,$,1,et!=null?et:null,nt,!1,at,ot),$[uf]=_e.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],nt=et._getVersion,nt=nt(et._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[et,nt]:_e.mutableSourceEagerHydrationData.push(et,nt);return new nl(_e)};reactDom_production_min.render=function($,_e,et){if(!pl(_e))throw Error(p$6(200));return sl(null,$,_e,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!pl($))throw Error(p$6(40));return $._reactRootContainer?(Sk(function(){sl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_e,et,tt){if(!pl(et))throw Error(p$6(200));if($==null||$._reactInternals===void 0)throw Error(p$6(38));return sl($,_e,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports,ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDom.exports]),m$6=reactDom.exports;client.createRoot=m$6.createRoot,client.hydrateRoot=m$6.hydrateRoot;function n$6($){for(var _e=arguments.length,et=Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];throw Error("[Immer] minified error nr: "+$+(et.length?" "+et.map(function(nt){return"'"+nt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$4($){return!!$&&!!$[Q]}function t$5($){return!!$&&(function(_e){if(!_e||typeof _e!="object")return!1;var et=Object.getPrototypeOf(_e);if(et===null)return!0;var tt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;return tt===Object||typeof tt=="function"&&Function.toString.call(tt)===Z}($)||Array.isArray($)||!!$[L]||!!$.constructor[L]||s($)||v$3($))}function i$1($,_e,et){et===void 0&&(et=!1),o($)===0?(et?Object.keys:nn)($).forEach(function(tt){et&&typeof tt=="symbol"||_e(tt,$[tt],$)}):$.forEach(function(tt,nt){return _e(nt,tt,$)})}function o($){var _e=$[Q];return _e?_e.i>3?_e.i-4:_e.i:Array.isArray($)?1:s($)?2:v$3($)?3:0}function u$3($,_e){return o($)===2?$.has(_e):Object.prototype.hasOwnProperty.call($,_e)}function a($,_e){return o($)===2?$.get(_e):$[_e]}function f$3($,_e,et){var tt=o($);tt===2?$.set(_e,et):tt===3?($.delete(_e),$.add(et)):$[_e]=et}function c$2($,_e){return $===_e?$!==0||1/$==1/_e:$!=$&&_e!=_e}function s($){return X&&$ instanceof Map}function v$3($){return q$5&&$ instanceof Set}function p$5($){return $.o||$.t}function l$4($){if(Array.isArray($))return Array.prototype.slice.call($);var _e=rn($);delete _e[Q];for(var et=nn(_e),tt=0;tt<et.length;tt++){var nt=et[tt],at=_e[nt];at.writable===!1&&(at.writable=!0,at.configurable=!0),(at.get||at.set)&&(_e[nt]={configurable:!0,writable:!0,enumerable:at.enumerable,value:$[nt]})}return Object.create(Object.getPrototypeOf($),_e)}function d$2($,_e){return _e===void 0&&(_e=!1),y$1($)||r$4($)||!t$5($)||(o($)>1&&($.set=$.add=$.clear=$.delete=h$4),Object.freeze($),_e&&i$1($,function(et,tt){return d$2(tt,!0)},!0)),$}function h$4(){n$6(2)}function y$1($){return $==null||typeof $!="object"||Object.isFrozen($)}function b$2($){var _e=tn[$];return _e||n$6(18,$),_e}function m$5($,_e){tn[$]||(tn[$]=_e)}function _(){return U}function j($,_e){_e&&(b$2("Patches"),$.u=[],$.s=[],$.v=_e)}function O($){g$2($),$.p.forEach(S),$.p=null}function g$2($){$===U&&(U=$.l)}function w$2($){return U={p:[],l:U,h:$,m:!0,_:0}}function S($){var _e=$[Q];_e.i===0||_e.i===1?_e.j():_e.O=!0}function P($,_e){_e._=_e.p.length;var et=_e.p[0],tt=$!==void 0&&$!==et;return _e.h.g||b$2("ES5").S(_e,$,tt),tt?(et[Q].P&&(O(_e),n$6(4)),t$5($)&&($=M(_e,$),_e.l||x$1(_e,$)),_e.u&&b$2("Patches").M(et[Q].t,$,_e.u,_e.s)):$=M(_e,et,[]),O(_e),_e.u&&_e.v(_e.u,_e.s),$!==H?$:void 0}function M($,_e,et){if(y$1(_e))return _e;var tt=_e[Q];if(!tt)return i$1(_e,function(at,ot){return A$1($,tt,_e,at,ot,et)},!0),_e;if(tt.A!==$)return _e;if(!tt.P)return x$1($,tt.t,!0),tt.t;if(!tt.I){tt.I=!0,tt.A._--;var nt=tt.i===4||tt.i===5?tt.o=l$4(tt.k):tt.o;i$1(tt.i===3?new Set(nt):nt,function(at,ot){return A$1($,tt,nt,at,ot,et)}),x$1($,nt,!1),et&&$.u&&b$2("Patches").R(tt,et,$.u,$.s)}return tt.o}function A$1($,_e,et,tt,nt,at){if(r$4(nt)){var ot=M($,nt,at&&_e&&_e.i!==3&&!u$3(_e.D,tt)?at.concat(tt):void 0);if(f$3(et,tt,ot),!r$4(ot))return;$.m=!1}if(t$5(nt)&&!y$1(nt)){if(!$.h.F&&$._<1)return;M($,nt),_e&&_e.A.l||x$1($,nt)}}function x$1($,_e,et){et===void 0&&(et=!1),$.h.F&&$.m&&d$2(_e,et)}function z$1($,_e){var et=$[Q];return(et?p$5(et):$)[_e]}function I($,_e){if(_e in $)for(var et=Object.getPrototypeOf($);et;){var tt=Object.getOwnPropertyDescriptor(et,_e);if(tt)return tt;et=Object.getPrototypeOf(et)}}function k$5($){$.P||($.P=!0,$.l&&k$5($.l))}function E($){$.o||($.o=l$4($.t))}function R($,_e,et){var tt=s(_e)?b$2("MapSet").N(_e,et):v$3(_e)?b$2("MapSet").T(_e,et):$.g?function(nt,at){var ot=Array.isArray(nt),it={i:ot?1:0,A:at?at.A:_(),P:!1,I:!1,D:{},l:at,t:nt,k:null,o:null,j:null,C:!1},st=it,ut=en;ot&&(st=[it],ut=on);var ft=Proxy.revocable(st,ut),dt=ft.revoke,vt=ft.proxy;return it.k=vt,it.j=dt,vt}(_e,et):b$2("ES5").J(_e,et);return(et?et.A:_()).p.push(tt),tt}function D($){return r$4($)||n$6(22,$),function _e(et){if(!t$5(et))return et;var tt,nt=et[Q],at=o(et);if(nt){if(!nt.P&&(nt.i<4||!b$2("ES5").K(nt)))return nt.t;nt.I=!0,tt=F(et,at),nt.I=!1}else tt=F(et,at);return i$1(tt,function(ot,it){nt&&a(nt.t,ot)===it||f$3(tt,ot,_e(it))}),at===3?new Set(tt):tt}($)}function F($,_e){switch(_e){case 2:return new Map($);case 3:return Array.from($)}return l$4($)}function N(){function $(at,ot){var it=nt[at];return it?it.enumerable=ot:nt[at]=it={configurable:!0,enumerable:ot,get:function(){var st=this[Q];return en.get(st,at)},set:function(st){var ut=this[Q];en.set(ut,at,st)}},it}function _e(at){for(var ot=at.length-1;ot>=0;ot--){var it=at[ot][Q];if(!it.P)switch(it.i){case 5:tt(it)&&k$5(it);break;case 4:et(it)&&k$5(it)}}}function et(at){for(var ot=at.t,it=at.k,st=nn(it),ut=st.length-1;ut>=0;ut--){var ft=st[ut];if(ft!==Q){var dt=ot[ft];if(dt===void 0&&!u$3(ot,ft))return!0;var vt=it[ft],gt=vt&&vt[Q];if(gt?gt.t!==dt:!c$2(vt,dt))return!0}}var yt=!!ot[Q];return st.length!==nn(ot).length+(yt?0:1)}function tt(at){var ot=at.k;if(ot.length!==at.t.length)return!0;var it=Object.getOwnPropertyDescriptor(ot,ot.length-1);if(it&&!it.get)return!0;for(var st=0;st<ot.length;st++)if(!ot.hasOwnProperty(st))return!0;return!1}var nt={};m$5("ES5",{J:function(at,ot){var it=Array.isArray(at),st=function(ft,dt){if(ft){for(var vt=Array(dt.length),gt=0;gt<dt.length;gt++)Object.defineProperty(vt,""+gt,$(gt,!0));return vt}var yt=rn(dt);delete yt[Q];for(var xt=nn(yt),Ct=0;Ct<xt.length;Ct++){var wt=xt[Ct];yt[wt]=$(wt,ft||!!yt[wt].enumerable)}return Object.create(Object.getPrototypeOf(dt),yt)}(it,at),ut={i:it?5:4,A:ot?ot.A:_(),P:!1,I:!1,D:{},l:ot,t:at,k:st,o:null,O:!1,C:!1};return Object.defineProperty(st,Q,{value:ut,writable:!0}),st},S:function(at,ot,it){it?r$4(ot)&&ot[Q].A===at&&_e(at.p):(at.u&&function st(ut){if(ut&&typeof ut=="object"){var ft=ut[Q];if(ft){var dt=ft.t,vt=ft.k,gt=ft.D,yt=ft.i;if(yt===4)i$1(vt,function($t){$t!==Q&&(dt[$t]!==void 0||u$3(dt,$t)?gt[$t]||st(vt[$t]):(gt[$t]=!0,k$5(ft)))}),i$1(dt,function($t){vt[$t]!==void 0||u$3(vt,$t)||(gt[$t]=!1,k$5(ft))});else if(yt===5){if(tt(ft)&&(k$5(ft),gt.length=!0),vt.length<dt.length)for(var xt=vt.length;xt<dt.length;xt++)gt[xt]=!1;else for(var Ct=dt.length;Ct<vt.length;Ct++)gt[Ct]=!0;for(var wt=Math.min(vt.length,dt.length),Et=0;Et<wt;Et++)vt.hasOwnProperty(Et)||(gt[Et]=!0),gt[Et]===void 0&&st(vt[Et])}}}}(at.p[0]),_e(at.p))},K:function(at){return at.i===4?et(at):tt(at)}})}var G,U,W=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",X=typeof Map!="undefined",q$5=typeof Set!="undefined",B=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function($){var _e={};return nn($).forEach(function(et){_e[et]=Object.getOwnPropertyDescriptor($,et)}),_e},tn={},en={get:function($,_e){if(_e===Q)return $;var et=p$5($);if(!u$3(et,_e))return function(nt,at,ot){var it,st=I(at,ot);return st?"value"in st?st.value:(it=st.get)===null||it===void 0?void 0:it.call(nt.k):void 0}($,et,_e);var tt=et[_e];return $.I||!t$5(tt)?tt:tt===z$1($.t,_e)?(E($),$.o[_e]=R($.A.h,tt,$)):tt},has:function($,_e){return _e in p$5($)},ownKeys:function($){return Reflect.ownKeys(p$5($))},set:function($,_e,et){var tt=I(p$5($),_e);if(tt!=null&&tt.set)return tt.set.call($.k,et),!0;if(!$.P){var nt=z$1(p$5($),_e),at=nt==null?void 0:nt[Q];if(at&&at.t===et)return $.o[_e]=et,$.D[_e]=!1,!0;if(c$2(et,nt)&&(et!==void 0||u$3($.t,_e)))return!0;E($),k$5($)}return $.o[_e]===et&&typeof et!="number"&&(et!==void 0||_e in $.o)||($.o[_e]=et,$.D[_e]=!0,!0)},deleteProperty:function($,_e){return z$1($.t,_e)!==void 0||_e in $.t?($.D[_e]=!1,E($),k$5($)):delete $.D[_e],$.o&&delete $.o[_e],!0},getOwnPropertyDescriptor:function($,_e){var et=p$5($),tt=Reflect.getOwnPropertyDescriptor(et,_e);return tt&&{writable:!0,configurable:$.i!==1||_e!=="length",enumerable:tt.enumerable,value:et[_e]}},defineProperty:function(){n$6(11)},getPrototypeOf:function($){return Object.getPrototypeOf($.t)},setPrototypeOf:function(){n$6(12)}},on={};i$1(en,function($,_e){on[$]=function(){return arguments[0]=arguments[0][0],_e.apply(this,arguments)}}),on.deleteProperty=function($,_e){return on.set.call(this,$,_e,void 0)},on.set=function($,_e,et){return en.set.call(this,$[0],_e,et,$[0])};var un=function(){function $(et){var tt=this;this.g=B,this.F=!0,this.produce=function(nt,at,ot){if(typeof nt=="function"&&typeof at!="function"){var it=at;at=nt;var st=tt;return function(xt){var Ct=this;xt===void 0&&(xt=it);for(var wt=arguments.length,Et=Array(wt>1?wt-1:0),$t=1;$t<wt;$t++)Et[$t-1]=arguments[$t];return st.produce(xt,function(It){var Ot;return(Ot=at).call.apply(Ot,[Ct,It].concat(Et))})}}var ut;if(typeof at!="function"&&n$6(6),ot!==void 0&&typeof ot!="function"&&n$6(7),t$5(nt)){var ft=w$2(tt),dt=R(tt,nt,void 0),vt=!0;try{ut=at(dt),vt=!1}finally{vt?O(ft):g$2(ft)}return typeof Promise!="undefined"&&ut instanceof Promise?ut.then(function(xt){return j(ft,ot),P(xt,ft)},function(xt){throw O(ft),xt}):(j(ft,ot),P(ut,ft))}if(!nt||typeof nt!="object"){if((ut=at(nt))===void 0&&(ut=nt),ut===H&&(ut=void 0),tt.F&&d$2(ut,!0),ot){var gt=[],yt=[];b$2("Patches").M(nt,ut,gt,yt),ot(gt,yt)}return ut}n$6(21,nt)},this.produceWithPatches=function(nt,at){if(typeof nt=="function")return function(ut){for(var ft=arguments.length,dt=Array(ft>1?ft-1:0),vt=1;vt<ft;vt++)dt[vt-1]=arguments[vt];return tt.produceWithPatches(ut,function(gt){return nt.apply(void 0,[gt].concat(dt))})};var ot,it,st=tt.produce(nt,at,function(ut,ft){ot=ut,it=ft});return typeof Promise!="undefined"&&st instanceof Promise?st.then(function(ut){return[ut,ot,it]}):[st,ot,it]},typeof(et==null?void 0:et.useProxies)=="boolean"&&this.setUseProxies(et.useProxies),typeof(et==null?void 0:et.autoFreeze)=="boolean"&&this.setAutoFreeze(et.autoFreeze)}var _e=$.prototype;return _e.createDraft=function(et){t$5(et)||n$6(8),r$4(et)&&(et=D(et));var tt=w$2(this),nt=R(this,et,void 0);return nt[Q].C=!0,g$2(tt),nt},_e.finishDraft=function(et,tt){var nt=et&&et[Q],at=nt.A;return j(at,tt),P(void 0,at)},_e.setAutoFreeze=function(et){this.F=et},_e.setUseProxies=function(et){et&&!B&&n$6(20),this.g=et},_e.applyPatches=function(et,tt){var nt;for(nt=tt.length-1;nt>=0;nt--){var at=tt[nt];if(at.path.length===0&&at.op==="replace"){et=at.value;break}}nt>-1&&(tt=tt.slice(nt+1));var ot=b$2("Patches").$;return r$4(et)?ot(et,tt):this.produce(et,function(it){return ot(it,tt)})},$}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function _defineProperty$4($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function ownKeys$3($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2$1($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$3(Object(et),!0).forEach(function(tt){_defineProperty$4($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$3(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function formatProdErrorMessage($){return"Minified Redux error #"+$+"; visit https://redux.js.org/Errors?code="+$+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$2($){if(typeof $!="object"||$===null)return!1;for(var _e=$;Object.getPrototypeOf(_e)!==null;)_e=Object.getPrototypeOf(_e);return Object.getPrototypeOf($)===_e}function createStore($,_e,et){var tt;if(typeof _e=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof _e=="function"&&typeof et=="undefined"&&(et=_e,_e=void 0),typeof et!="undefined"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)($,_e)}if(typeof $!="function")throw new Error(formatProdErrorMessage(2));var nt=$,at=_e,ot=[],it=ot,st=!1;function ut(){it===ot&&(it=ot.slice())}function ft(){if(st)throw new Error(formatProdErrorMessage(3));return at}function dt(xt){if(typeof xt!="function")throw new Error(formatProdErrorMessage(4));if(st)throw new Error(formatProdErrorMessage(5));var Ct=!0;return ut(),it.push(xt),function(){if(!!Ct){if(st)throw new Error(formatProdErrorMessage(6));Ct=!1,ut();var Et=it.indexOf(xt);it.splice(Et,1),ot=null}}}function vt(xt){if(!isPlainObject$2(xt))throw new Error(formatProdErrorMessage(7));if(typeof xt.type=="undefined")throw new Error(formatProdErrorMessage(8));if(st)throw new Error(formatProdErrorMessage(9));try{st=!0,at=nt(at,xt)}finally{st=!1}for(var Ct=ot=it,wt=0;wt<Ct.length;wt++){var Et=Ct[wt];Et()}return xt}function gt(xt){if(typeof xt!="function")throw new Error(formatProdErrorMessage(10));nt=xt,vt({type:ActionTypes.REPLACE})}function yt(){var xt,Ct=dt;return xt={subscribe:function(Et){if(typeof Et!="object"||Et===null)throw new Error(formatProdErrorMessage(11));function $t(){Et.next&&Et.next(ft())}$t();var It=Ct($t);return{unsubscribe:It}}},xt[$$observable]=function(){return this},xt}return vt({type:ActionTypes.INIT}),tt={dispatch:vt,subscribe:dt,getState:ft,replaceReducer:gt},tt[$$observable]=yt,tt}function assertReducerShape($){Object.keys($).forEach(function(_e){var et=$[_e],tt=et(void 0,{type:ActionTypes.INIT});if(typeof tt=="undefined")throw new Error(formatProdErrorMessage(12));if(typeof et(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(formatProdErrorMessage(13))})}function combineReducers($){for(var _e=Object.keys($),et={},tt=0;tt<_e.length;tt++){var nt=_e[tt];typeof $[nt]=="function"&&(et[nt]=$[nt])}var at=Object.keys(et),ot;try{assertReducerShape(et)}catch(it){ot=it}return function(st,ut){if(st===void 0&&(st={}),ot)throw ot;for(var ft=!1,dt={},vt=0;vt<at.length;vt++){var gt=at[vt],yt=et[gt],xt=st[gt],Ct=yt(xt,ut);if(typeof Ct=="undefined")throw ut&&ut.type,new Error(formatProdErrorMessage(14));dt[gt]=Ct,ft=ft||Ct!==xt}return ft=ft||at.length!==Object.keys(st).length,ft?dt:st}}function compose(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return _e.length===0?function(tt){return tt}:_e.length===1?_e[0]:_e.reduce(function(tt,nt){return function(){return tt(nt.apply(void 0,arguments))}})}function applyMiddleware(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return function(tt){return function(){var nt=tt.apply(void 0,arguments),at=function(){throw new Error(formatProdErrorMessage(15))},ot={getState:nt.getState,dispatch:function(){return at.apply(void 0,arguments)}},it=_e.map(function(st){return st(ot)});return at=compose.apply(void 0,it)(nt.dispatch),_objectSpread2$1(_objectSpread2$1({},nt),{},{dispatch:at})}}}function createThunkMiddleware($){var _e=function(tt){var nt=tt.dispatch,at=tt.getState;return function(ot){return function(it){return typeof it=="function"?it(nt,at,$):ot(it)}}};return _e}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;var thunkMiddleware=thunk,__extends$1=globalThis&&globalThis.__extends||function(){var $=function(_e,et){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,nt){tt.__proto__=nt}||function(tt,nt){for(var at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(tt[at]=nt[at])},$(_e,et)};return function(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");$(_e,et);function tt(){this.constructor=_e}_e.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}}(),__generator=globalThis&&globalThis.__generator||function($,_e){var et={label:0,sent:function(){if(at[0]&1)throw at[1];return at[1]},trys:[],ops:[]},tt,nt,at,ot;return ot={next:it(0),throw:it(1),return:it(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function it(ut){return function(ft){return st([ut,ft])}}function st(ut){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,nt&&(at=ut[0]&2?nt.return:ut[0]?nt.throw||((at=nt.return)&&at.call(nt),0):nt.next)&&!(at=at.call(nt,ut[1])).done)return at;switch(nt=0,at&&(ut=[ut[0]&2,at.value]),ut[0]){case 0:case 1:at=ut;break;case 4:return et.label++,{value:ut[1],done:!1};case 5:et.label++,nt=ut[1],ut=[0];continue;case 7:ut=et.ops.pop(),et.trys.pop();continue;default:if(at=et.trys,!(at=at.length>0&&at[at.length-1])&&(ut[0]===6||ut[0]===2)){et=0;continue}if(ut[0]===3&&(!at||ut[1]>at[0]&&ut[1]<at[3])){et.label=ut[1];break}if(ut[0]===6&&et.label<at[1]){et.label=at[1],at=ut;break}if(at&&et.label<at[2]){et.label=at[2],et.ops.push(ut);break}at[2]&&et.ops.pop(),et.trys.pop();continue}ut=_e.call($,et)}catch(ft){ut=[6,ft],nt=0}finally{tt=at=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}},__spreadArray=globalThis&&globalThis.__spreadArray||function($,_e){for(var et=0,tt=_e.length,nt=$.length;et<tt;et++,nt++)$[nt]=_e[et];return $},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function($,_e,et){return _e in $?__defProp($,_e,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_e]=et},__spreadValues=function($,_e){for(var et in _e||(_e={}))__hasOwnProp.call(_e,et)&&__defNormalProp($,et,_e[et]);if(__getOwnPropSymbols)for(var tt=0,nt=__getOwnPropSymbols(_e);tt<nt.length;tt++){var et=nt[tt];__propIsEnum.call(_e,et)&&__defNormalProp($,et,_e[et])}return $},__spreadProps=function($,_e){return __defProps($,__getOwnPropDescs(_e))},__async=function($,_e,et){return new Promise(function(tt,nt){var at=function(st){try{it(et.next(st))}catch(ut){nt(ut)}},ot=function(st){try{it(et.throw(st))}catch(ut){nt(ut)}},it=function(st){return st.done?tt(st.value):Promise.resolve(st.value).then(at,ot)};it((et=et.apply($,_e)).next())})},composeWithDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject$1($){if(typeof $!="object"||$===null)return!1;var _e=Object.getPrototypeOf($);if(_e===null)return!0;for(var et=_e;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return _e===et}var MiddlewareArray=function($){__extends$1(_e,$);function _e(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var nt=$.apply(this,et)||this;return Object.setPrototypeOf(nt,_e.prototype),nt}return Object.defineProperty(_e,Symbol.species,{get:function(){return _e},enumerable:!1,configurable:!0}),_e.prototype.concat=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return $.prototype.concat.apply(this,et)},_e.prototype.prepend=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return et.length===1&&Array.isArray(et[0])?new(_e.bind.apply(_e,__spreadArray([void 0],et[0].concat(this)))):new(_e.bind.apply(_e,__spreadArray([void 0],et.concat(this))))},_e}(Array);function freezeDraftable($){return t$5($)?fn($,function(){}):$}function isBoolean($){return typeof $=="boolean"}function curryGetDefaultMiddleware(){return function(_e){return getDefaultMiddleware(_e)}}function getDefaultMiddleware($){$===void 0&&($={});var _e=$.thunk,et=_e===void 0?!0:_e;$.immutableCheck,$.serializableCheck;var tt=new MiddlewareArray;return et&&(isBoolean(et)?tt.push(thunkMiddleware):tt.push(thunkMiddleware.withExtraArgument(et.extraArgument))),tt}var IS_PRODUCTION=!0;function configureStore($){var _e=curryGetDefaultMiddleware(),et=$||{},tt=et.reducer,nt=tt===void 0?void 0:tt,at=et.middleware,ot=at===void 0?_e():at,it=et.devTools,st=it===void 0?!0:it,ut=et.preloadedState,ft=ut===void 0?void 0:ut,dt=et.enhancers,vt=dt===void 0?void 0:dt,gt;if(typeof nt=="function")gt=nt;else if(isPlainObject$1(nt))gt=combineReducers(nt);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var yt=ot;typeof yt=="function"&&(yt=yt(_e));var xt=applyMiddleware.apply(void 0,yt),Ct=compose;st&&(Ct=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof st=="object"&&st)));var wt=[xt];Array.isArray(vt)?wt=__spreadArray([xt],vt):typeof vt=="function"&&(wt=vt(wt));var Et=Ct.apply(void 0,wt);return createStore(gt,ft,Et)}function createAction($,_e){function et(){for(var tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=arguments[nt];if(_e){var at=_e.apply(void 0,tt);if(!at)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:$,payload:at.payload},"meta"in at&&{meta:at.meta}),"error"in at&&{error:at.error})}return{type:$,payload:tt[0]}}return et.toString=function(){return""+$},et.type=$,et.match=function(tt){return tt.type===$},et}function executeReducerBuilderCallback($){var _e={},et=[],tt,nt={addCase:function(at,ot){var it=typeof at=="string"?at:at.type;if(it in _e)throw new Error("addCase cannot be called with two reducers for the same action type");return _e[it]=ot,nt},addMatcher:function(at,ot){return et.push({matcher:at,reducer:ot}),nt},addDefaultCase:function(at){return tt=at,nt}};return $(nt),[_e,et,tt]}function isStateFunction($){return typeof $=="function"}function createReducer($,_e,et,tt){et===void 0&&(et=[]);var nt=typeof _e=="function"?executeReducerBuilderCallback(_e):[_e,et,tt],at=nt[0],ot=nt[1],it=nt[2],st;if(isStateFunction($))st=function(){return freezeDraftable($())};else{var ut=freezeDraftable($);st=function(){return ut}}function ft(dt,vt){dt===void 0&&(dt=st());var gt=__spreadArray([at[vt.type]],ot.filter(function(yt){var xt=yt.matcher;return xt(vt)}).map(function(yt){var xt=yt.reducer;return xt}));return gt.filter(function(yt){return!!yt}).length===0&&(gt=[it]),gt.reduce(function(yt,xt){if(xt)if(r$4(yt)){var Ct=yt,wt=xt(Ct,vt);return typeof wt=="undefined"?yt:wt}else{if(t$5(yt))return fn(yt,function(Et){return xt(Et,vt)});var wt=xt(yt,vt);if(typeof wt=="undefined"){if(yt===null)return yt;throw Error("A case reducer on a non-draftable value must not return undefined")}return wt}return yt},dt)}return ft.getInitialState=st,ft}function getType2($,_e){return $+"/"+_e}function createSlice($){var _e=$.name;if(!_e)throw new Error("`name` is a required option for createSlice");var et=typeof $.initialState=="function"?$.initialState:freezeDraftable($.initialState),tt=$.reducers||{},nt=Object.keys(tt),at={},ot={},it={};nt.forEach(function(ft){var dt=tt[ft],vt=getType2(_e,ft),gt,yt;"reducer"in dt?(gt=dt.reducer,yt=dt.prepare):gt=dt,at[ft]=gt,ot[vt]=gt,it[ft]=yt?createAction(vt,yt):createAction(vt)});function st(){var ft=typeof $.extraReducers=="function"?executeReducerBuilderCallback($.extraReducers):[$.extraReducers],dt=ft[0],vt=dt===void 0?{}:dt,gt=ft[1],yt=gt===void 0?[]:gt,xt=ft[2],Ct=xt===void 0?void 0:xt,wt=__spreadValues(__spreadValues({},vt),ot);return createReducer(et,wt,yt,Ct)}var ut;return{name:_e,reducer:function(ft,dt){return ut||(ut=st()),ut(ft,dt)},actions:it,caseReducers:at,getInitialState:function(){return ut||(ut=st()),ut.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function($){$===void 0&&($=21);for(var _e="",et=$;et--;)_e+=urlAlphabet[Math.random()*64|0];return _e},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function $(_e,et){this.payload=_e,this.meta=et}return $}(),FulfillWithMeta=function(){function $(_e,et){this.payload=_e,this.meta=et}return $}(),miniSerializeError=function($){if(typeof $=="object"&&$!==null){for(var _e={},et=0,tt=commonProperties;et<tt.length;et++){var nt=tt[et];typeof $[nt]=="string"&&(_e[nt]=$[nt])}return _e}return{message:String($)}};function createAsyncThunk($,_e,et){var tt=createAction($+"/fulfilled",function(st,ut,ft,dt){return{payload:st,meta:__spreadProps(__spreadValues({},dt||{}),{arg:ft,requestId:ut,requestStatus:"fulfilled"})}}),nt=createAction($+"/pending",function(st,ut,ft){return{payload:void 0,meta:__spreadProps(__spreadValues({},ft||{}),{arg:ut,requestId:st,requestStatus:"pending"})}}),at=createAction($+"/rejected",function(st,ut,ft,dt,vt){return{payload:dt,error:(et&&et.serializeError||miniSerializeError)(st||"Rejected"),meta:__spreadProps(__spreadValues({},vt||{}),{arg:ft,requestId:ut,rejectedWithValue:!!dt,requestStatus:"rejected",aborted:(st==null?void 0:st.name)==="AbortError",condition:(st==null?void 0:st.name)==="ConditionError"})}}),ot=typeof AbortController!="undefined"?AbortController:function(){function st(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return st.prototype.abort=function(){},st}();function it(st){return function(ut,ft,dt){var vt=et!=null&&et.idGenerator?et.idGenerator(st):nanoid(),gt=new ot,yt,xt=new Promise(function($t,It){return gt.signal.addEventListener("abort",function(){return It({name:"AbortError",message:yt||"Aborted"})})}),Ct=!1;function wt($t){Ct&&(yt=$t,gt.abort())}var Et=function(){return __async(this,null,function(){var $t,It,Ot,Lt,Ft,zt;return __generator(this,function(Gt){switch(Gt.label){case 0:return Gt.trys.push([0,4,,5]),Lt=($t=et==null?void 0:et.condition)==null?void 0:$t.call(et,st,{getState:ft,extra:dt}),isThenable(Lt)?[4,Lt]:[3,2];case 1:Lt=Gt.sent(),Gt.label=2;case 2:if(Lt===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Ct=!0,ut(nt(vt,st,(It=et==null?void 0:et.getPendingMeta)==null?void 0:It.call(et,{requestId:vt,arg:st},{getState:ft,extra:dt}))),[4,Promise.race([xt,Promise.resolve(_e(st,{dispatch:ut,getState:ft,extra:dt,requestId:vt,signal:gt.signal,rejectWithValue:function(jt,Ut){return new RejectWithValue(jt,Ut)},fulfillWithValue:function(jt,Ut){return new FulfillWithMeta(jt,Ut)}})).then(function(jt){if(jt instanceof RejectWithValue)throw jt;return jt instanceof FulfillWithMeta?tt(jt.payload,vt,st,jt.meta):tt(jt,vt,st)})])];case 3:return Ot=Gt.sent(),[3,5];case 4:return Ft=Gt.sent(),Ot=Ft instanceof RejectWithValue?at(null,vt,st,Ft.payload,Ft.meta):at(Ft,vt,st),[3,5];case 5:return zt=et&&!et.dispatchConditionRejection&&at.match(Ot)&&Ot.meta.condition,zt||ut(Ot),[2,Ot]}})})}();return Object.assign(Et,{abort:wt,requestId:vt,arg:st,unwrap:function(){return Et.then(unwrapResult)}})}}return Object.assign(it,{pending:nt,rejected:at,fulfilled:tt,typePrefix:$})}function unwrapResult($){if($.meta&&$.meta.rejectedWithValue)throw $.payload;if($.error)throw $.error;return $.payload}function isThenable($){return $!==null&&typeof $=="object"&&typeof $.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");N();const getLocalStorage=$=>localStorage.getItem($),setLocalStorage=($,_e)=>localStorage.setItem($,_e),removeLocalStorage=$=>localStorage.removeItem($),getSessionStorage=$=>sessionStorage.getItem($),setSessionStorage=($,_e)=>sessionStorage.setItem($,_e),removeSessionStorage=$=>sessionStorage.removeItem($),local={get:getLocalStorage,set:setLocalStorage,remove:removeLocalStorage},session={get:getSessionStorage,set:setSessionStorage,remove:removeSessionStorage};function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$2.apply(this,arguments)}function _classCallCheck$2($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}function _createClass$2($,_e,et){return _e&&_defineProperties$2($.prototype,_e),et&&_defineProperties$2($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _setPrototypeOf$2($,_e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$2($,_e)}function _inherits$1($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$2($,_e)}function _getPrototypeOf$2($){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$2($)}function _isNativeReflectConstruct$2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _typeof$4($){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$4($)}function _assertThisInitialized$1($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _possibleConstructorReturn$1($,_e){if(_e&&(_typeof$4(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1($)}function _createSuper$1($){var _e=_isNativeReflectConstruct$2();return function(){var tt=_getPrototypeOf$2($),nt;if(_e){var at=_getPrototypeOf$2(this).constructor;nt=Reflect.construct(tt,arguments,at)}else nt=tt.apply(this,arguments);return _possibleConstructorReturn$1(this,nt)}}var classnames={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function($){(function(){var _e={}.hasOwnProperty;function et(){for(var tt=[],nt=0;nt<arguments.length;nt++){var at=arguments[nt];if(!!at){var ot=typeof at;if(ot==="string"||ot==="number")tt.push(at);else if(Array.isArray(at)){if(at.length){var it=et.apply(null,at);it&&tt.push(it)}}else if(ot==="object")if(at.toString===Object.prototype.toString)for(var st in at)_e.call(at,st)&&at[st]&&tt.push(st);else tt.push(at.toString())}}return tt.join(" ")}$.exports?(et.default=et,$.exports=et):window.classNames=et})()})(classnames);var classNames=classnames.exports,reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$4=b$1?Symbol.for("react.fragment"):60107,f$2=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$3=b$1?Symbol.for("react.provider"):60109,k$4=b$1?Symbol.for("react.context"):60110,l$3=b$1?Symbol.for("react.async_mode"):60111,m$4=b$1?Symbol.for("react.concurrent_mode"):60111,n$5=b$1?Symbol.for("react.forward_ref"):60112,p$4=b$1?Symbol.for("react.suspense"):60113,q$4=b$1?Symbol.for("react.suspense_list"):60120,r$3=b$1?Symbol.for("react.memo"):60115,t$4=b$1?Symbol.for("react.lazy"):60116,v$2=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case c$1:switch($=$.type,$){case l$3:case m$4:case e$4:case g$1:case f$2:case p$4:return $;default:switch($=$&&$.$$typeof,$){case k$4:case n$5:case t$4:case r$3:case h$3:return $;default:return _e}}case d$1:return _e}}}function A($){return z($)===m$4}reactIs_production_min$1.AsyncMode=l$3;reactIs_production_min$1.ConcurrentMode=m$4;reactIs_production_min$1.ContextConsumer=k$4;reactIs_production_min$1.ContextProvider=h$3;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$5;reactIs_production_min$1.Fragment=e$4;reactIs_production_min$1.Lazy=t$4;reactIs_production_min$1.Memo=r$3;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$4;reactIs_production_min$1.isAsyncMode=function($){return A($)||z($)===l$3};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function($){return z($)===k$4};reactIs_production_min$1.isContextProvider=function($){return z($)===h$3};reactIs_production_min$1.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function($){return z($)===n$5};reactIs_production_min$1.isFragment=function($){return z($)===e$4};reactIs_production_min$1.isLazy=function($){return z($)===t$4};reactIs_production_min$1.isMemo=function($){return z($)===r$3};reactIs_production_min$1.isPortal=function($){return z($)===d$1};reactIs_production_min$1.isProfiler=function($){return z($)===g$1};reactIs_production_min$1.isStrictMode=function($){return z($)===f$2};reactIs_production_min$1.isSuspense=function($){return z($)===p$4};reactIs_production_min$1.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===e$4||$===m$4||$===g$1||$===f$2||$===p$4||$===q$4||typeof $=="object"&&$!==null&&($.$$typeof===t$4||$.$$typeof===r$3||$.$$typeof===h$3||$.$$typeof===k$4||$.$$typeof===n$5||$.$$typeof===w$1||$.$$typeof===x||$.$$typeof===y||$.$$typeof===v$2)};reactIs_production_min$1.typeOf=z;reactIs$1.exports=reactIs_production_min$1;function toArray$5($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=[];return React.Children.forEach($,function(tt){tt==null&&!_e.keepEmpty||(Array.isArray(tt)?et=et.concat(toArray$5(tt)):reactIs$1.exports.isFragment(tt)&&tt.props?et=et.concat(toArray$5(tt.props.children,_e)):et.push(tt))}),et}var warned={};function warning$2($,_e){}function call($,_e,et){!_e&&!warned[et]&&($(!1,et),warned[et]=!0)}function warningOnce($,_e){call(warning$2,$,_e)}function useMemo($,_e,et){var tt=react.exports.useRef({});return(!("value"in tt.current)||et(tt.current.condition,_e))&&(tt.current.value=$(),tt.current.condition=_e),tt.current.value}function fillRef($,_e){typeof $=="function"?$(_e):_typeof$4($)==="object"&&$&&"current"in $&&($.current=_e)}function composeRef(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];var tt=_e.filter(function(nt){return nt});return tt.length<=1?tt[0]:function(nt){_e.forEach(function(at){fillRef(at,nt)})}}function useComposeRef(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return useMemo(function(){return composeRef.apply(void 0,_e)},_e,function(tt,nt){return tt.length===nt.length&&tt.every(function(at,ot){return at===nt[ot]})})}function supportRef($){var _e,et,tt=reactIs$1.exports.isMemo($)?$.type.type:$.type;return!(typeof tt=="function"&&!(!((_e=tt.prototype)===null||_e===void 0)&&_e.render)||typeof $=="function"&&!(!((et=$.prototype)===null||et===void 0)&&et.render))}function findDOMNode($){return $ instanceof HTMLElement?$:ReactDOM.findDOMNode($)}var MapShim=function(){if(typeof Map!="undefined")return Map;function $(_e,et){var tt=-1;return _e.some(function(nt,at){return nt[0]===et?(tt=at,!0):!1}),tt}return function(){function _e(){this.__entries__=[]}return Object.defineProperty(_e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),_e.prototype.get=function(et){var tt=$(this.__entries__,et),nt=this.__entries__[tt];return nt&&nt[1]},_e.prototype.set=function(et,tt){var nt=$(this.__entries__,et);~nt?this.__entries__[nt][1]=tt:this.__entries__.push([et,tt])},_e.prototype.delete=function(et){var tt=this.__entries__,nt=$(tt,et);~nt&&tt.splice(nt,1)},_e.prototype.has=function(et){return!!~$(this.__entries__,et)},_e.prototype.clear=function(){this.__entries__.splice(0)},_e.prototype.forEach=function(et,tt){tt===void 0&&(tt=null);for(var nt=0,at=this.__entries__;nt<at.length;nt++){var ot=at[nt];et.call(tt,ot[1],ot[0])}},_e}()}(),isBrowser=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,global$1=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function($){return setTimeout(function(){return $(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle$1($,_e){var et=!1,tt=!1,nt=0;function at(){et&&(et=!1,$()),tt&&it()}function ot(){requestAnimationFrame$1$1(at)}function it(){var st=Date.now();if(et){if(st-nt<trailingTimeout)return;tt=!0}else et=!0,tt=!1,setTimeout(ot,_e);nt=st}return it}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver!="undefined",ResizeObserverController=function(){function $(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle$1(this.refresh.bind(this),REFRESH_DELAY)}return $.prototype.addObserver=function(_e){~this.observers_.indexOf(_e)||this.observers_.push(_e),this.connected_||this.connect_()},$.prototype.removeObserver=function(_e){var et=this.observers_,tt=et.indexOf(_e);~tt&&et.splice(tt,1),!et.length&&this.connected_&&this.disconnect_()},$.prototype.refresh=function(){var _e=this.updateObservers_();_e&&this.refresh()},$.prototype.updateObservers_=function(){var _e=this.observers_.filter(function(et){return et.gatherActive(),et.hasActive()});return _e.forEach(function(et){return et.broadcastActive()}),_e.length>0},$.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},$.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},$.prototype.onTransitionEnd_=function(_e){var et=_e.propertyName,tt=et===void 0?"":et,nt=transitionKeys.some(function(at){return!!~tt.indexOf(at)});nt&&this.refresh()},$.getInstance=function(){return this.instance_||(this.instance_=new $),this.instance_},$.instance_=null,$}(),defineConfigurable=function($,_e){for(var et=0,tt=Object.keys(_e);et<tt.length;et++){var nt=tt[et];Object.defineProperty($,nt,{value:_e[nt],enumerable:!1,writable:!1,configurable:!0})}return $},getWindowOf=function($){var _e=$&&$.ownerDocument&&$.ownerDocument.defaultView;return _e||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat($){return parseFloat($)||0}function getBordersSize($){for(var _e=[],et=1;et<arguments.length;et++)_e[et-1]=arguments[et];return _e.reduce(function(tt,nt){var at=$["border-"+nt+"-width"];return tt+toFloat(at)},0)}function getPaddings($){for(var _e=["top","right","bottom","left"],et={},tt=0,nt=_e;tt<nt.length;tt++){var at=nt[tt],ot=$["padding-"+at];et[at]=toFloat(ot)}return et}function getSVGContentRect($){var _e=$.getBBox();return createRectInit(0,0,_e.width,_e.height)}function getHTMLElementContentRect($){var _e=$.clientWidth,et=$.clientHeight;if(!_e&&!et)return emptyRect;var tt=getWindowOf($).getComputedStyle($),nt=getPaddings(tt),at=nt.left+nt.right,ot=nt.top+nt.bottom,it=toFloat(tt.width),st=toFloat(tt.height);if(tt.boxSizing==="border-box"&&(Math.round(it+at)!==_e&&(it-=getBordersSize(tt,"left","right")+at),Math.round(st+ot)!==et&&(st-=getBordersSize(tt,"top","bottom")+ot)),!isDocumentElement($)){var ut=Math.round(it+at)-_e,ft=Math.round(st+ot)-et;Math.abs(ut)!==1&&(it-=ut),Math.abs(ft)!==1&&(st-=ft)}return createRectInit(nt.left,nt.top,it,st)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement!="undefined"?function($){return $ instanceof getWindowOf($).SVGGraphicsElement}:function($){return $ instanceof getWindowOf($).SVGElement&&typeof $.getBBox=="function"}}();function isDocumentElement($){return $===getWindowOf($).document.documentElement}function getContentRect($){return isBrowser?isSVGGraphicsElement($)?getSVGContentRect($):getHTMLElementContentRect($):emptyRect}function createReadOnlyRect($){var _e=$.x,et=$.y,tt=$.width,nt=$.height,at=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,ot=Object.create(at.prototype);return defineConfigurable(ot,{x:_e,y:et,width:tt,height:nt,top:et,right:_e+tt,bottom:nt+et,left:_e}),ot}function createRectInit($,_e,et,tt){return{x:$,y:_e,width:et,height:tt}}var ResizeObservation=function(){function $(_e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=_e}return $.prototype.isActive=function(){var _e=getContentRect(this.target);return this.contentRect_=_e,_e.width!==this.broadcastWidth||_e.height!==this.broadcastHeight},$.prototype.broadcastRect=function(){var _e=this.contentRect_;return this.broadcastWidth=_e.width,this.broadcastHeight=_e.height,_e},$}(),ResizeObserverEntry=function(){function $(_e,et){var tt=createReadOnlyRect(et);defineConfigurable(this,{target:_e,contentRect:tt})}return $}(),ResizeObserverSPI=function(){function $(_e,et,tt){if(this.activeObservations_=[],this.observations_=new MapShim,typeof _e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=_e,this.controller_=et,this.callbackCtx_=tt}return $.prototype.observe=function(_e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(_e instanceof getWindowOf(_e).Element))throw new TypeError('parameter 1 is not of type "Element".');var et=this.observations_;et.has(_e)||(et.set(_e,new ResizeObservation(_e)),this.controller_.addObserver(this),this.controller_.refresh())}},$.prototype.unobserve=function(_e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(_e instanceof getWindowOf(_e).Element))throw new TypeError('parameter 1 is not of type "Element".');var et=this.observations_;!et.has(_e)||(et.delete(_e),et.size||this.controller_.removeObserver(this))}},$.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},$.prototype.gatherActive=function(){var _e=this;this.clearActive(),this.observations_.forEach(function(et){et.isActive()&&_e.activeObservations_.push(et)})},$.prototype.broadcastActive=function(){if(!!this.hasActive()){var _e=this.callbackCtx_,et=this.activeObservations_.map(function(tt){return new ResizeObserverEntry(tt.target,tt.broadcastRect())});this.callback_.call(_e,et,_e),this.clearActive()}},$.prototype.clearActive=function(){this.activeObservations_.splice(0)},$.prototype.hasActive=function(){return this.activeObservations_.length>0},$}(),observers=typeof WeakMap!="undefined"?new WeakMap:new MapShim,ResizeObserver$1=function(){function $(_e){if(!(this instanceof $))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var et=ResizeObserverController.getInstance(),tt=new ResizeObserverSPI(_e,et,this);observers.set(this,tt)}return $}();["observe","unobserve","disconnect"].forEach(function($){ResizeObserver$1.prototype[$]=function(){var _e;return(_e=observers.get(this))[$].apply(_e,arguments)}});var index$7=function(){return typeof global$1.ResizeObserver!="undefined"?global$1.ResizeObserver:ResizeObserver$1}(),elementListeners=new Map;function onResize($){$.forEach(function(_e){var et,tt=_e.target;(et=elementListeners.get(tt))===null||et===void 0||et.forEach(function(nt){return nt(tt)})})}var resizeObserver=new index$7(onResize);function observe($,_e){elementListeners.has($)||(elementListeners.set($,new Set),resizeObserver.observe($)),elementListeners.get($).add(_e)}function unobserve($,_e){elementListeners.has($)&&(elementListeners.get($).delete(_e),elementListeners.get($).size||(resizeObserver.unobserve($),elementListeners.delete($)))}var DomWrapper$1=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){return _classCallCheck$2(this,et),_e.apply(this,arguments)}return _createClass$2(et,[{key:"render",value:function(){return this.props.children}}]),et}(react.exports.Component),CollectionContext=react.exports.createContext(null);function Collection($){var _e=$.children,et=$.onBatchResize,tt=react.exports.useRef(0),nt=react.exports.useRef([]),at=react.exports.useContext(CollectionContext),ot=react.exports.useCallback(function(it,st,ut){tt.current+=1;var ft=tt.current;nt.current.push({size:it,element:st,data:ut}),Promise.resolve().then(function(){ft===tt.current&&(et==null||et(nt.current),nt.current=[])}),at==null||at(it,st,ut)},[et,at]);return react.exports.createElement(CollectionContext.Provider,{value:ot},_e)}function SingleObserver($){var _e=$.children,et=$.disabled,tt=react.exports.useRef(null),nt=react.exports.useRef(null),at=react.exports.useContext(CollectionContext),ot=typeof _e=="function",it=ot?_e(tt):_e,st=react.exports.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),ut=!ot&&react.exports.isValidElement(it)&&supportRef(it),ft=ut?it.ref:null,dt=react.exports.useMemo(function(){return composeRef(ft,tt)},[ft,tt]),vt=react.exports.useRef($);vt.current=$;var gt=react.exports.useCallback(function(yt){var xt=vt.current,Ct=xt.onResize,wt=xt.data,Et=yt.getBoundingClientRect(),$t=Et.width,It=Et.height,Ot=yt.offsetWidth,Lt=yt.offsetHeight,Ft=Math.floor($t),zt=Math.floor(It);if(st.current.width!==Ft||st.current.height!==zt||st.current.offsetWidth!==Ot||st.current.offsetHeight!==Lt){var Gt={width:Ft,height:zt,offsetWidth:Ot,offsetHeight:Lt};st.current=Gt;var jt=Ot===Math.round($t)?$t:Ot,Ut=Lt===Math.round(It)?It:Lt,Kt=_objectSpread2$1(_objectSpread2$1({},Gt),{},{offsetWidth:jt,offsetHeight:Ut});at==null||at(Kt,yt,wt),Ct&&Promise.resolve().then(function(){Ct(Kt,yt)})}},[]);return react.exports.useEffect(function(){var yt=findDOMNode(tt.current)||findDOMNode(nt.current);return yt&&!et&&observe(yt,gt),function(){return unobserve(yt,gt)}},[tt.current,et]),react.exports.createElement(DomWrapper$1,{ref:nt},ut?react.exports.cloneElement(it,{ref:dt}):it)}var INTERNAL_PREFIX_KEY="rc-observer-key";function ResizeObserver($){var _e=$.children,et=typeof _e=="function"?[_e]:toArray$5(_e);return et.map(function(tt,nt){var at=(tt==null?void 0:tt.key)||"".concat(INTERNAL_PREFIX_KEY,"-").concat(nt);return react.exports.createElement(SingleObserver,_extends$2({},$,{key:at}),tt)})}ResizeObserver.Collection=Collection;function omit($,_e){var et=_objectSpread2$1({},$);return Array.isArray(_e)&&_e.forEach(function(tt){delete et[tt]}),et}var IconContext=react.exports.createContext({}),Context$1=IconContext;function _objectWithoutPropertiesLoose$1($,_e){if($==null)return{};var et={},tt=Object.keys($),nt,at;for(at=0;at<tt.length;at++)nt=tt[at],!(_e.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}function _objectWithoutProperties$1($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$1($,_e),tt,nt;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols($);for(nt=0;nt<at.length;nt++)tt=at[nt],!(_e.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,tt)||(et[tt]=$[tt]))}return et}function _arrayLikeToArray$3($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _arrayWithoutHoles($){if(Array.isArray($))return _arrayLikeToArray$3($)}function _iterableToArray($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _unsupportedIterableToArray$3($,_e){if(!!$){if(typeof $=="string")return _arrayLikeToArray$3($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$3($,_e)}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray($){return _arrayWithoutHoles($)||_iterableToArray($)||_unsupportedIterableToArray$3($)||_nonIterableSpread()}var HOOK_MARK="RC_FORM_INTERNAL_HOOKS",warningFunc=function(){warningOnce(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Context=react.exports.createContext({getFieldValue:warningFunc,getFieldsValue:warningFunc,getFieldError:warningFunc,getFieldWarning:warningFunc,getFieldsError:warningFunc,isFieldsTouched:warningFunc,isFieldTouched:warningFunc,isFieldValidating:warningFunc,isFieldsValidating:warningFunc,resetFields:warningFunc,setFields:warningFunc,setFieldsValue:warningFunc,validateFields:warningFunc,submit:warningFunc,getInternalHooks:function(){return warningFunc(),{dispatch:warningFunc,initEntityValue:warningFunc,registerField:warningFunc,useSubscribe:warningFunc,setInitialValues:warningFunc,destroyForm:warningFunc,setCallbacks:warningFunc,registerWatch:warningFunc,getFields:warningFunc,setValidateMessages:warningFunc,setPreserve:warningFunc,getInitialValue:warningFunc}}});function toArray$4($){return $==null?[]:Array.isArray($)?$:[$]}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return $};var $={},_e=Object.prototype,et=_e.hasOwnProperty,tt=typeof Symbol=="function"?Symbol:{},nt=tt.iterator||"@@iterator",at=tt.asyncIterator||"@@asyncIterator",ot=tt.toStringTag||"@@toStringTag";function it(jt,Ut,Kt){return Object.defineProperty(jt,Ut,{value:Kt,enumerable:!0,configurable:!0,writable:!0}),jt[Ut]}try{it({},"")}catch{it=function(Kt,Zt,Qt){return Kt[Zt]=Qt}}function st(jt,Ut,Kt,Zt){var Qt=Ut&&Ut.prototype instanceof dt?Ut:dt,rr=Object.create(Qt.prototype),nr=new Ft(Zt||[]);return rr._invoke=function(dr,sr,fr){var yr="suspendedStart";return function(Pr,wr){if(yr==="executing")throw new Error("Generator is already running");if(yr==="completed"){if(Pr==="throw")throw wr;return Gt()}for(fr.method=Pr,fr.arg=wr;;){var Mr=fr.delegate;if(Mr){var Lr=It(Mr,fr);if(Lr){if(Lr===ft)continue;return Lr}}if(fr.method==="next")fr.sent=fr._sent=fr.arg;else if(fr.method==="throw"){if(yr==="suspendedStart")throw yr="completed",fr.arg;fr.dispatchException(fr.arg)}else fr.method==="return"&&fr.abrupt("return",fr.arg);yr="executing";var Br=ut(dr,sr,fr);if(Br.type==="normal"){if(yr=fr.done?"completed":"suspendedYield",Br.arg===ft)continue;return{value:Br.arg,done:fr.done}}Br.type==="throw"&&(yr="completed",fr.method="throw",fr.arg=Br.arg)}}}(jt,Kt,nr),rr}function ut(jt,Ut,Kt){try{return{type:"normal",arg:jt.call(Ut,Kt)}}catch(Zt){return{type:"throw",arg:Zt}}}$.wrap=st;var ft={};function dt(){}function vt(){}function gt(){}var yt={};it(yt,nt,function(){return this});var xt=Object.getPrototypeOf,Ct=xt&&xt(xt(zt([])));Ct&&Ct!==_e&&et.call(Ct,nt)&&(yt=Ct);var wt=gt.prototype=dt.prototype=Object.create(yt);function Et(jt){["next","throw","return"].forEach(function(Ut){it(jt,Ut,function(Kt){return this._invoke(Ut,Kt)})})}function $t(jt,Ut){function Kt(Qt,rr,nr,dr){var sr=ut(jt[Qt],jt,rr);if(sr.type!=="throw"){var fr=sr.arg,yr=fr.value;return yr&&_typeof$4(yr)=="object"&&et.call(yr,"__await")?Ut.resolve(yr.__await).then(function(Pr){Kt("next",Pr,nr,dr)},function(Pr){Kt("throw",Pr,nr,dr)}):Ut.resolve(yr).then(function(Pr){fr.value=Pr,nr(fr)},function(Pr){return Kt("throw",Pr,nr,dr)})}dr(sr.arg)}var Zt;this._invoke=function(Qt,rr){function nr(){return new Ut(function(dr,sr){Kt(Qt,rr,dr,sr)})}return Zt=Zt?Zt.then(nr,nr):nr()}}function It(jt,Ut){var Kt=jt.iterator[Ut.method];if(Kt===void 0){if(Ut.delegate=null,Ut.method==="throw"){if(jt.iterator.return&&(Ut.method="return",Ut.arg=void 0,It(jt,Ut),Ut.method==="throw"))return ft;Ut.method="throw",Ut.arg=new TypeError("The iterator does not provide a 'throw' method")}return ft}var Zt=ut(Kt,jt.iterator,Ut.arg);if(Zt.type==="throw")return Ut.method="throw",Ut.arg=Zt.arg,Ut.delegate=null,ft;var Qt=Zt.arg;return Qt?Qt.done?(Ut[jt.resultName]=Qt.value,Ut.next=jt.nextLoc,Ut.method!=="return"&&(Ut.method="next",Ut.arg=void 0),Ut.delegate=null,ft):Qt:(Ut.method="throw",Ut.arg=new TypeError("iterator result is not an object"),Ut.delegate=null,ft)}function Ot(jt){var Ut={tryLoc:jt[0]};1 in jt&&(Ut.catchLoc=jt[1]),2 in jt&&(Ut.finallyLoc=jt[2],Ut.afterLoc=jt[3]),this.tryEntries.push(Ut)}function Lt(jt){var Ut=jt.completion||{};Ut.type="normal",delete Ut.arg,jt.completion=Ut}function Ft(jt){this.tryEntries=[{tryLoc:"root"}],jt.forEach(Ot,this),this.reset(!0)}function zt(jt){if(jt){var Ut=jt[nt];if(Ut)return Ut.call(jt);if(typeof jt.next=="function")return jt;if(!isNaN(jt.length)){var Kt=-1,Zt=function Qt(){for(;++Kt<jt.length;)if(et.call(jt,Kt))return Qt.value=jt[Kt],Qt.done=!1,Qt;return Qt.value=void 0,Qt.done=!0,Qt};return Zt.next=Zt}}return{next:Gt}}function Gt(){return{value:void 0,done:!0}}return vt.prototype=gt,it(wt,"constructor",gt),it(gt,"constructor",vt),vt.displayName=it(gt,ot,"GeneratorFunction"),$.isGeneratorFunction=function(jt){var Ut=typeof jt=="function"&&jt.constructor;return!!Ut&&(Ut===vt||(Ut.displayName||Ut.name)==="GeneratorFunction")},$.mark=function(jt){return Object.setPrototypeOf?Object.setPrototypeOf(jt,gt):(jt.__proto__=gt,it(jt,ot,"GeneratorFunction")),jt.prototype=Object.create(wt),jt},$.awrap=function(jt){return{__await:jt}},Et($t.prototype),it($t.prototype,at,function(){return this}),$.AsyncIterator=$t,$.async=function(jt,Ut,Kt,Zt,Qt){Qt===void 0&&(Qt=Promise);var rr=new $t(st(jt,Ut,Kt,Zt),Qt);return $.isGeneratorFunction(Ut)?rr:rr.next().then(function(nr){return nr.done?nr.value:rr.next()})},Et(wt),it(wt,ot,"Generator"),it(wt,nt,function(){return this}),it(wt,"toString",function(){return"[object Generator]"}),$.keys=function(jt){var Ut=[];for(var Kt in jt)Ut.push(Kt);return Ut.reverse(),function Zt(){for(;Ut.length;){var Qt=Ut.pop();if(Qt in jt)return Zt.value=Qt,Zt.done=!1,Zt}return Zt.done=!0,Zt}},$.values=zt,Ft.prototype={constructor:Ft,reset:function(Ut){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Lt),!Ut)for(var Kt in this)Kt.charAt(0)==="t"&&et.call(this,Kt)&&!isNaN(+Kt.slice(1))&&(this[Kt]=void 0)},stop:function(){this.done=!0;var Ut=this.tryEntries[0].completion;if(Ut.type==="throw")throw Ut.arg;return this.rval},dispatchException:function(Ut){if(this.done)throw Ut;var Kt=this;function Zt(fr,yr){return nr.type="throw",nr.arg=Ut,Kt.next=fr,yr&&(Kt.method="next",Kt.arg=void 0),!!yr}for(var Qt=this.tryEntries.length-1;Qt>=0;--Qt){var rr=this.tryEntries[Qt],nr=rr.completion;if(rr.tryLoc==="root")return Zt("end");if(rr.tryLoc<=this.prev){var dr=et.call(rr,"catchLoc"),sr=et.call(rr,"finallyLoc");if(dr&&sr){if(this.prev<rr.catchLoc)return Zt(rr.catchLoc,!0);if(this.prev<rr.finallyLoc)return Zt(rr.finallyLoc)}else if(dr){if(this.prev<rr.catchLoc)return Zt(rr.catchLoc,!0)}else{if(!sr)throw new Error("try statement without catch or finally");if(this.prev<rr.finallyLoc)return Zt(rr.finallyLoc)}}}},abrupt:function(Ut,Kt){for(var Zt=this.tryEntries.length-1;Zt>=0;--Zt){var Qt=this.tryEntries[Zt];if(Qt.tryLoc<=this.prev&&et.call(Qt,"finallyLoc")&&this.prev<Qt.finallyLoc){var rr=Qt;break}}rr&&(Ut==="break"||Ut==="continue")&&rr.tryLoc<=Kt&&Kt<=rr.finallyLoc&&(rr=null);var nr=rr?rr.completion:{};return nr.type=Ut,nr.arg=Kt,rr?(this.method="next",this.next=rr.finallyLoc,ft):this.complete(nr)},complete:function(Ut,Kt){if(Ut.type==="throw")throw Ut.arg;return Ut.type==="break"||Ut.type==="continue"?this.next=Ut.arg:Ut.type==="return"?(this.rval=this.arg=Ut.arg,this.method="return",this.next="end"):Ut.type==="normal"&&Kt&&(this.next=Kt),ft},finish:function(Ut){for(var Kt=this.tryEntries.length-1;Kt>=0;--Kt){var Zt=this.tryEntries[Kt];if(Zt.finallyLoc===Ut)return this.complete(Zt.completion,Zt.afterLoc),Lt(Zt),ft}},catch:function(Ut){for(var Kt=this.tryEntries.length-1;Kt>=0;--Kt){var Zt=this.tryEntries[Kt];if(Zt.tryLoc===Ut){var Qt=Zt.completion;if(Qt.type==="throw"){var rr=Qt.arg;Lt(Zt)}return rr}}throw new Error("illegal catch attempt")},delegateYield:function(Ut,Kt,Zt){return this.delegate={iterator:zt(Ut),resultName:Kt,nextLoc:Zt},this.method==="next"&&(this.arg=void 0),ft}},$}function asyncGeneratorStep($,_e,et,tt,nt,at,ot){try{var it=$[at](ot),st=it.value}catch(ut){et(ut);return}it.done?_e(st):Promise.resolve(st).then(tt,nt)}function _asyncToGenerator($){return function(){var _e=this,et=arguments;return new Promise(function(tt,nt){var at=$.apply(_e,et);function ot(st){asyncGeneratorStep(at,tt,nt,ot,it,"next",st)}function it(st){asyncGeneratorStep(at,tt,nt,ot,it,"throw",st)}ot(void 0)})}}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$1.apply(this,arguments)}function _inheritsLoose($,_e){$.prototype=Object.create(_e.prototype),$.prototype.constructor=$,_setPrototypeOf$1($,_e)}function _getPrototypeOf$1($){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$1($)}function _setPrototypeOf$1($,_e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$1($,_e)}function _isNativeReflectConstruct$1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct($,_e,et){return _isNativeReflectConstruct$1()?_construct=Reflect.construct.bind():_construct=function(nt,at,ot){var it=[null];it.push.apply(it,at);var st=Function.bind.apply(nt,it),ut=new st;return ot&&_setPrototypeOf$1(ut,ot.prototype),ut},_construct.apply(null,arguments)}function _isNativeFunction($){return Function.toString.call($).indexOf("[native code]")!==-1}function _wrapNativeSuper($){var _e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(tt){if(tt===null||!_isNativeFunction(tt))return tt;if(typeof tt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof _e!="undefined"){if(_e.has(tt))return _e.get(tt);_e.set(tt,nt)}function nt(){return _construct(tt,arguments,_getPrototypeOf$1(this).constructor)}return nt.prototype=Object.create(tt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(nt,tt)},_wrapNativeSuper($)}var formatRegExp=/%[sdj%]/g,warning$1=function(){};typeof process!="undefined"&&process.env;function convertFieldsError($){if(!$||!$.length)return null;var _e={};return $.forEach(function(et){var tt=et.field;_e[tt]=_e[tt]||[],_e[tt].push(et)}),_e}function format$1($){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];var nt=0,at=et.length;if(typeof $=="function")return $.apply(null,et);if(typeof $=="string"){var ot=$.replace(formatRegExp,function(it){if(it==="%%")return"%";if(nt>=at)return it;switch(it){case"%s":return String(et[nt++]);case"%d":return Number(et[nt++]);case"%j":try{return JSON.stringify(et[nt++])}catch{return"[Circular]"}break;default:return it}});return ot}return $}function isNativeStringType($){return $==="string"||$==="url"||$==="hex"||$==="email"||$==="date"||$==="pattern"}function isEmptyValue$1($,_e){return!!($==null||_e==="array"&&Array.isArray($)&&!$.length||isNativeStringType(_e)&&typeof $=="string"&&!$)}function asyncParallelArray($,_e,et){var tt=[],nt=0,at=$.length;function ot(it){tt.push.apply(tt,it||[]),nt++,nt===at&&et(tt)}$.forEach(function(it){_e(it,ot)})}function asyncSerialArray($,_e,et){var tt=0,nt=$.length;function at(ot){if(ot&&ot.length){et(ot);return}var it=tt;tt=tt+1,it<nt?_e($[it],at):et([])}at([])}function flattenObjArr($){var _e=[];return Object.keys($).forEach(function(et){_e.push.apply(_e,$[et]||[])}),_e}var AsyncValidationError=function($){_inheritsLoose(_e,$);function _e(et,tt){var nt;return nt=$.call(this,"Async Validation Error")||this,nt.errors=et,nt.fields=tt,nt}return _e}(_wrapNativeSuper(Error));function asyncMap($,_e,et,tt,nt){if(_e.first){var at=new Promise(function(vt,gt){var yt=function(wt){return tt(wt),wt.length?gt(new AsyncValidationError(wt,convertFieldsError(wt))):vt(nt)},xt=flattenObjArr($);asyncSerialArray(xt,et,yt)});return at.catch(function(vt){return vt}),at}var ot=_e.firstFields===!0?Object.keys($):_e.firstFields||[],it=Object.keys($),st=it.length,ut=0,ft=[],dt=new Promise(function(vt,gt){var yt=function(Ct){if(ft.push.apply(ft,Ct),ut++,ut===st)return tt(ft),ft.length?gt(new AsyncValidationError(ft,convertFieldsError(ft))):vt(nt)};it.length||(tt(ft),vt(nt)),it.forEach(function(xt){var Ct=$[xt];ot.indexOf(xt)!==-1?asyncSerialArray(Ct,et,yt):asyncParallelArray(Ct,et,yt)})});return dt.catch(function(vt){return vt}),dt}function isErrorObj($){return!!($&&$.message!==void 0)}function getValue$4($,_e){for(var et=$,tt=0;tt<_e.length;tt++){if(et==null)return et;et=et[_e[tt]]}return et}function complementError($,_e){return function(et){var tt;return $.fullFields?tt=getValue$4(_e,$.fullFields):tt=_e[et.field||$.fullField],isErrorObj(et)?(et.field=et.field||$.fullField,et.fieldValue=tt,et):{message:typeof et=="function"?et():et,fieldValue:tt,field:et.field||$.fullField}}}function deepMerge($,_e){if(_e){for(var et in _e)if(_e.hasOwnProperty(et)){var tt=_e[et];typeof tt=="object"&&typeof $[et]=="object"?$[et]=_extends$1({},$[et],tt):$[et]=tt}}return $}var required$1=function(_e,et,tt,nt,at,ot){_e.required&&(!tt.hasOwnProperty(_e.field)||isEmptyValue$1(et,ot||_e.type))&&nt.push(format$1(at.messages.required,_e.fullField))},whitespace=function(_e,et,tt,nt,at){(/^\s+$/.test(et)||et==="")&&nt.push(format$1(at.messages.whitespace,_e.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var $="[a-fA-F\\d:]",_e=function(It){return It&&It.includeBoundaries?"(?:(?<=\\s|^)(?="+$+")|(?<="+$+")(?=\\s|$))":""},et="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",tt="[a-fA-F\\d]{1,4}",nt=(`
(?:
(?:`+tt+":){7}(?:"+tt+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+tt+":){6}(?:"+et+"|:"+tt+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+tt+":){5}(?::"+et+"|(?::"+tt+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+tt+":){4}(?:(?::"+tt+"){0,1}:"+et+"|(?::"+tt+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+tt+":){3}(?:(?::"+tt+"){0,2}:"+et+"|(?::"+tt+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+tt+":){2}(?:(?::"+tt+"){0,3}:"+et+"|(?::"+tt+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+tt+":){1}(?:(?::"+tt+"){0,4}:"+et+"|(?::"+tt+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+tt+"){0,5}:"+et+"|(?::"+tt+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),at=new RegExp("(?:^"+et+"$)|(?:^"+nt+"$)"),ot=new RegExp("^"+et+"$"),it=new RegExp("^"+nt+"$"),st=function(It){return It&&It.exact?at:new RegExp("(?:"+_e(It)+et+_e(It)+")|(?:"+_e(It)+nt+_e(It)+")","g")};st.v4=function($t){return $t&&$t.exact?ot:new RegExp(""+_e($t)+et+_e($t),"g")},st.v6=function($t){return $t&&$t.exact?it:new RegExp(""+_e($t)+nt+_e($t),"g")};var ut="(?:(?:[a-z]+:)?//)",ft="(?:\\S+(?::\\S*)?@)?",dt=st.v4().source,vt=st.v6().source,gt="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",yt="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",xt="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Ct="(?::\\d{2,5})?",wt='(?:[/?#][^\\s"]*)?',Et="(?:"+ut+"|www\\.)"+ft+"(?:localhost|"+dt+"|"+vt+"|"+gt+yt+xt+")"+Ct+wt;return urlReg=new RegExp("(?:^"+Et+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(_e){return types.number(_e)&&parseInt(_e,10)===_e},float:function(_e){return types.number(_e)&&!types.integer(_e)},array:function(_e){return Array.isArray(_e)},regexp:function(_e){if(_e instanceof RegExp)return!0;try{return!!new RegExp(_e)}catch{return!1}},date:function(_e){return typeof _e.getTime=="function"&&typeof _e.getMonth=="function"&&typeof _e.getYear=="function"&&!isNaN(_e.getTime())},number:function(_e){return isNaN(_e)?!1:typeof _e=="number"},object:function(_e){return typeof _e=="object"&&!types.array(_e)},method:function(_e){return typeof _e=="function"},email:function(_e){return typeof _e=="string"&&_e.length<=320&&!!_e.match(pattern$2.email)},url:function(_e){return typeof _e=="string"&&_e.length<=2048&&!!_e.match(getUrlRegex())},hex:function(_e){return typeof _e=="string"&&!!_e.match(pattern$2.hex)}},type$1=function(_e,et,tt,nt,at){if(_e.required&&et===void 0){required$1(_e,et,tt,nt,at);return}var ot=["integer","float","array","regexp","object","method","email","number","date","url","hex"],it=_e.type;ot.indexOf(it)>-1?types[it](et)||nt.push(format$1(at.messages.types[it],_e.fullField,_e.type)):it&&typeof et!==_e.type&&nt.push(format$1(at.messages.types[it],_e.fullField,_e.type))},range=function(_e,et,tt,nt,at){var ot=typeof _e.len=="number",it=typeof _e.min=="number",st=typeof _e.max=="number",ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ft=et,dt=null,vt=typeof et=="number",gt=typeof et=="string",yt=Array.isArray(et);if(vt?dt="number":gt?dt="string":yt&&(dt="array"),!dt)return!1;yt&&(ft=et.length),gt&&(ft=et.replace(ut,"_").length),ot?ft!==_e.len&&nt.push(format$1(at.messages[dt].len,_e.fullField,_e.len)):it&&!st&&ft<_e.min?nt.push(format$1(at.messages[dt].min,_e.fullField,_e.min)):st&&!it&&ft>_e.max?nt.push(format$1(at.messages[dt].max,_e.fullField,_e.max)):it&&st&&(ft<_e.min||ft>_e.max)&&nt.push(format$1(at.messages[dt].range,_e.fullField,_e.min,_e.max))},ENUM$1="enum",enumerable$1=function(_e,et,tt,nt,at){_e[ENUM$1]=Array.isArray(_e[ENUM$1])?_e[ENUM$1]:[],_e[ENUM$1].indexOf(et)===-1&&nt.push(format$1(at.messages[ENUM$1],_e.fullField,_e[ENUM$1].join(", ")))},pattern$1=function(_e,et,tt,nt,at){if(_e.pattern){if(_e.pattern instanceof RegExp)_e.pattern.lastIndex=0,_e.pattern.test(et)||nt.push(format$1(at.messages.pattern.mismatch,_e.fullField,et,_e.pattern));else if(typeof _e.pattern=="string"){var ot=new RegExp(_e.pattern);ot.test(et)||nt.push(format$1(at.messages.pattern.mismatch,_e.fullField,et,_e.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et,"string")&&!_e.required)return tt();rules.required(_e,et,nt,ot,at,"string"),isEmptyValue$1(et,"string")||(rules.type(_e,et,nt,ot,at),rules.range(_e,et,nt,ot,at),rules.pattern(_e,et,nt,ot,at),_e.whitespace===!0&&rules.whitespace(_e,et,nt,ot,at))}tt(ot)},method=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&rules.type(_e,et,nt,ot,at)}tt(ot)},number=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(et===""&&(et=void 0),isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&(rules.type(_e,et,nt,ot,at),rules.range(_e,et,nt,ot,at))}tt(ot)},_boolean=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&rules.type(_e,et,nt,ot,at)}tt(ot)},regexp$1=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),isEmptyValue$1(et)||rules.type(_e,et,nt,ot,at)}tt(ot)},integer=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&(rules.type(_e,et,nt,ot,at),rules.range(_e,et,nt,ot,at))}tt(ot)},floatFn=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&(rules.type(_e,et,nt,ot,at),rules.range(_e,et,nt,ot,at))}tt(ot)},array=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(et==null&&!_e.required)return tt();rules.required(_e,et,nt,ot,at,"array"),et!=null&&(rules.type(_e,et,nt,ot,at),rules.range(_e,et,nt,ot,at))}tt(ot)},object=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&rules.type(_e,et,nt,ot,at)}tt(ot)},ENUM="enum",enumerable=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),et!==void 0&&rules[ENUM](_e,et,nt,ot,at)}tt(ot)},pattern=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et,"string")&&!_e.required)return tt();rules.required(_e,et,nt,ot,at),isEmptyValue$1(et,"string")||rules.pattern(_e,et,nt,ot,at)}tt(ot)},date=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et,"date")&&!_e.required)return tt();if(rules.required(_e,et,nt,ot,at),!isEmptyValue$1(et,"date")){var st;et instanceof Date?st=et:st=new Date(et),rules.type(_e,st,nt,ot,at),st&&rules.range(_e,st.getTime(),nt,ot,at)}}tt(ot)},required=function(_e,et,tt,nt,at){var ot=[],it=Array.isArray(et)?"array":typeof et;rules.required(_e,et,nt,ot,at,it),tt(ot)},type=function(_e,et,tt,nt,at){var ot=_e.type,it=[],st=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(st){if(isEmptyValue$1(et,ot)&&!_e.required)return tt();rules.required(_e,et,nt,it,at,ot),isEmptyValue$1(et,ot)||rules.type(_e,et,nt,it,at)}tt(it)},any=function(_e,et,tt,nt,at){var ot=[],it=_e.required||!_e.required&&nt.hasOwnProperty(_e.field);if(it){if(isEmptyValue$1(et)&&!_e.required)return tt();rules.required(_e,et,nt,ot,at)}tt(ot)},validators$2={string,method,number,boolean:_boolean,regexp:regexp$1,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var _e=JSON.parse(JSON.stringify(this));return _e.clone=this.clone,_e}}}var messages=newMessages(),Schema=function(){function $(et){this.rules=null,this._messages=messages,this.define(et)}var _e=$.prototype;return _e.define=function(tt){var nt=this;if(!tt)throw new Error("Cannot configure a schema with no rules");if(typeof tt!="object"||Array.isArray(tt))throw new Error("Rules must be an object");this.rules={},Object.keys(tt).forEach(function(at){var ot=tt[at];nt.rules[at]=Array.isArray(ot)?ot:[ot]})},_e.messages=function(tt){return tt&&(this._messages=deepMerge(newMessages(),tt)),this._messages},_e.validate=function(tt,nt,at){var ot=this;nt===void 0&&(nt={}),at===void 0&&(at=function(){});var it=tt,st=nt,ut=at;if(typeof st=="function"&&(ut=st,st={}),!this.rules||Object.keys(this.rules).length===0)return ut&&ut(null,it),Promise.resolve(it);function ft(xt){var Ct=[],wt={};function Et(It){if(Array.isArray(It)){var Ot;Ct=(Ot=Ct).concat.apply(Ot,It)}else Ct.push(It)}for(var $t=0;$t<xt.length;$t++)Et(xt[$t]);Ct.length?(wt=convertFieldsError(Ct),ut(Ct,wt)):ut(null,it)}if(st.messages){var dt=this.messages();dt===messages&&(dt=newMessages()),deepMerge(dt,st.messages),st.messages=dt}else st.messages=this.messages();var vt={},gt=st.keys||Object.keys(this.rules);gt.forEach(function(xt){var Ct=ot.rules[xt],wt=it[xt];Ct.forEach(function(Et){var $t=Et;typeof $t.transform=="function"&&(it===tt&&(it=_extends$1({},it)),wt=it[xt]=$t.transform(wt)),typeof $t=="function"?$t={validator:$t}:$t=_extends$1({},$t),$t.validator=ot.getValidationMethod($t),$t.validator&&($t.field=xt,$t.fullField=$t.fullField||xt,$t.type=ot.getType($t),vt[xt]=vt[xt]||[],vt[xt].push({rule:$t,value:wt,source:it,field:xt}))})});var yt={};return asyncMap(vt,st,function(xt,Ct){var wt=xt.rule,Et=(wt.type==="object"||wt.type==="array")&&(typeof wt.fields=="object"||typeof wt.defaultField=="object");Et=Et&&(wt.required||!wt.required&&xt.value),wt.field=xt.field;function $t(Lt,Ft){return _extends$1({},Ft,{fullField:wt.fullField+"."+Lt,fullFields:wt.fullFields?[].concat(wt.fullFields,[Lt]):[Lt]})}function It(Lt){Lt===void 0&&(Lt=[]);var Ft=Array.isArray(Lt)?Lt:[Lt];!st.suppressWarning&&Ft.length&&$.warning("async-validator:",Ft),Ft.length&&wt.message!==void 0&&(Ft=[].concat(wt.message));var zt=Ft.map(complementError(wt,it));if(st.first&&zt.length)return yt[wt.field]=1,Ct(zt);if(!Et)Ct(zt);else{if(wt.required&&!xt.value)return wt.message!==void 0?zt=[].concat(wt.message).map(complementError(wt,it)):st.error&&(zt=[st.error(wt,format$1(st.messages.required,wt.field))]),Ct(zt);var Gt={};wt.defaultField&&Object.keys(xt.value).map(function(Kt){Gt[Kt]=wt.defaultField}),Gt=_extends$1({},Gt,xt.rule.fields);var jt={};Object.keys(Gt).forEach(function(Kt){var Zt=Gt[Kt],Qt=Array.isArray(Zt)?Zt:[Zt];jt[Kt]=Qt.map($t.bind(null,Kt))});var Ut=new $(jt);Ut.messages(st.messages),xt.rule.options&&(xt.rule.options.messages=st.messages,xt.rule.options.error=st.error),Ut.validate(xt.value,xt.rule.options||st,function(Kt){var Zt=[];zt&&zt.length&&Zt.push.apply(Zt,zt),Kt&&Kt.length&&Zt.push.apply(Zt,Kt),Ct(Zt.length?Zt:null)})}}var Ot;if(wt.asyncValidator)Ot=wt.asyncValidator(wt,xt.value,It,xt.source,st);else if(wt.validator){try{Ot=wt.validator(wt,xt.value,It,xt.source,st)}catch(Lt){console.error==null||console.error(Lt),st.suppressValidatorError||setTimeout(function(){throw Lt},0),It(Lt.message)}Ot===!0?It():Ot===!1?It(typeof wt.message=="function"?wt.message(wt.fullField||wt.field):wt.message||(wt.fullField||wt.field)+" fails"):Ot instanceof Array?It(Ot):Ot instanceof Error&&It(Ot.message)}Ot&&Ot.then&&Ot.then(function(){return It()},function(Lt){return It(Lt)})},function(xt){ft(xt)},it)},_e.getType=function(tt){if(tt.type===void 0&&tt.pattern instanceof RegExp&&(tt.type="pattern"),typeof tt.validator!="function"&&tt.type&&!validators$2.hasOwnProperty(tt.type))throw new Error(format$1("Unknown rule type %s",tt.type));return tt.type||"string"},_e.getValidationMethod=function(tt){if(typeof tt.validator=="function")return tt.validator;var nt=Object.keys(tt),at=nt.indexOf("message");return at!==-1&&nt.splice(at,1),nt.length===1&&nt[0]==="required"?validators$2.required:validators$2[this.getType(tt)]||void 0},$}();Schema.register=function(_e,et){if(typeof et!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators$2[_e]=et};Schema.warning=warning$1;Schema.messages=messages;Schema.validators=validators$2;var typeTemplate$2="'${name}' is not a valid ${type}",defaultValidateMessages={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:typeTemplate$2,method:typeTemplate$2,array:typeTemplate$2,object:typeTemplate$2,number:typeTemplate$2,date:typeTemplate$2,boolean:typeTemplate$2,integer:typeTemplate$2,float:typeTemplate$2,regexp:typeTemplate$2,email:typeTemplate$2,url:typeTemplate$2,hex:typeTemplate$2},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function get$1($,_e){for(var et=$,tt=0;tt<_e.length;tt+=1){if(et==null)return;et=et[_e[tt]]}return et}function _arrayWithHoles$3($){if(Array.isArray($))return $}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toArray($){return _arrayWithHoles$3($)||_iterableToArray($)||_unsupportedIterableToArray$3($)||_nonIterableRest$3()}function internalSet($,_e,et,tt){if(!_e.length)return et;var nt=_toArray(_e),at=nt[0],ot=nt.slice(1),it;return!$&&typeof at=="number"?it=[]:Array.isArray($)?it=_toConsumableArray($):it=_objectSpread2$1({},$),tt&&et===void 0&&ot.length===1?delete it[at][ot[0]]:it[at]=internalSet(it[at],ot,et,tt),it}function set$2($,_e,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return _e.length&&tt&&et===void 0&&!get$1($,_e.slice(0,-1))?$:internalSet($,_e,et,tt)}function cloneDeep($){return Array.isArray($)?cloneArrayDeep($):_typeof$4($)==="object"&&$!==null?cloneObjectDeep($):$}function cloneObjectDeep($){if(Object.getPrototypeOf($)===Object.prototype){var _e={};for(var et in $)_e[et]=cloneDeep($[et]);return _e}return $}function cloneArrayDeep($){return $.map(function(_e){return cloneDeep(_e)})}function getNamePath($){return toArray$4($)}function getValue$3($,_e){var et=get$1($,_e);return et}function setValue($,_e,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,nt=set$2($,_e,et,tt);return nt}function cloneByNamePathList($,_e){var et={};return _e.forEach(function(tt){var nt=getValue$3($,tt);et=setValue(et,tt,nt)}),et}function containsNamePath($,_e){return $&&$.some(function(et){return matchNamePath(et,_e)})}function isObject$a($){return _typeof$4($)==="object"&&$!==null&&Object.getPrototypeOf($)===Object.prototype}function internalSetValues($,_e){var et=Array.isArray($)?_toConsumableArray($):_objectSpread2$1({},$);return _e&&Object.keys(_e).forEach(function(tt){var nt=et[tt],at=_e[tt],ot=isObject$a(nt)&&isObject$a(at);et[tt]=ot?internalSetValues(nt,at||{}):cloneDeep(at)}),et}function setValues($){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];return et.reduce(function(nt,at){return internalSetValues(nt,at)},$)}function matchNamePath($,_e){return!$||!_e||$.length!==_e.length?!1:$.every(function(et,tt){return _e[tt]===et})}function isSimilar($,_e){if($===_e)return!0;if(!$&&_e||$&&!_e||!$||!_e||_typeof$4($)!=="object"||_typeof$4(_e)!=="object")return!1;var et=Object.keys($),tt=Object.keys(_e),nt=new Set([].concat(_toConsumableArray(et),_toConsumableArray(tt)));return _toConsumableArray(nt).every(function(at){var ot=$[at],it=_e[at];return typeof ot=="function"&&typeof it=="function"?!0:ot===it})}function defaultGetValueFromEvent($){var _e=arguments.length<=1?void 0:arguments[1];return _e&&_e.target&&_typeof$4(_e.target)==="object"&&$ in _e.target?_e.target[$]:_e}function move($,_e,et){var tt=$.length;if(_e<0||_e>=tt||et<0||et>=tt)return $;var nt=$[_e],at=_e-et;return at>0?[].concat(_toConsumableArray($.slice(0,et)),[nt],_toConsumableArray($.slice(et,_e)),_toConsumableArray($.slice(_e+1,tt))):at<0?[].concat(_toConsumableArray($.slice(0,_e)),_toConsumableArray($.slice(_e+1,et+1)),[nt],_toConsumableArray($.slice(et+1,tt))):$}var AsyncValidator=Schema;function replaceMessage($,_e){return $.replace(/\$\{\w+\}/g,function(et){var tt=et.slice(2,-1);return _e[tt]})}var CODE_LOGIC_ERROR="CODE_LOGIC_ERROR";function validateRule($,_e,et,tt,nt){return _validateRule.apply(this,arguments)}function _validateRule(){return _validateRule=_asyncToGenerator(_regeneratorRuntime().mark(function $(_e,et,tt,nt,at){var ot,it,st,ut,ft,dt,vt,gt,yt;return _regeneratorRuntime().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return ot=_objectSpread2$1({},tt),delete ot.ruleIndex,ot.validator&&(it=ot.validator,ot.validator=function(){try{return it.apply(void 0,arguments)}catch(wt){return console.error(wt),Promise.reject(CODE_LOGIC_ERROR)}}),st=null,ot&&ot.type==="array"&&ot.defaultField&&(st=ot.defaultField,delete ot.defaultField),ut=new AsyncValidator(_defineProperty$4({},_e,[ot])),ft=setValues({},defaultValidateMessages,nt.validateMessages),ut.messages(ft),dt=[],Ct.prev=9,Ct.next=12,Promise.resolve(ut.validate(_defineProperty$4({},_e,et),_objectSpread2$1({},nt)));case 12:Ct.next=17;break;case 14:Ct.prev=14,Ct.t0=Ct.catch(9),Ct.t0.errors&&(dt=Ct.t0.errors.map(function(wt,Et){var $t=wt.message,It=$t===CODE_LOGIC_ERROR?ft.default:$t;return react.exports.isValidElement(It)?react.exports.cloneElement(It,{key:"error_".concat(Et)}):It}));case 17:if(!(!dt.length&&st)){Ct.next=22;break}return Ct.next=20,Promise.all(et.map(function(wt,Et){return validateRule("".concat(_e,".").concat(Et),wt,st,nt,at)}));case 20:return vt=Ct.sent,Ct.abrupt("return",vt.reduce(function(wt,Et){return[].concat(_toConsumableArray(wt),_toConsumableArray(Et))},[]));case 22:return gt=_objectSpread2$1(_objectSpread2$1({},tt),{},{name:_e,enum:(tt.enum||[]).join(", ")},at),yt=dt.map(function(wt){return typeof wt=="string"?replaceMessage(wt,gt):wt}),Ct.abrupt("return",yt);case 25:case"end":return Ct.stop()}},$,null,[[9,14]])})),_validateRule.apply(this,arguments)}function validateRules($,_e,et,tt,nt,at){var ot=$.join("."),it=et.map(function(ft,dt){var vt=ft.validator,gt=_objectSpread2$1(_objectSpread2$1({},ft),{},{ruleIndex:dt});return vt&&(gt.validator=function(yt,xt,Ct){var wt=!1,Et=function(){for(var Ot=arguments.length,Lt=new Array(Ot),Ft=0;Ft<Ot;Ft++)Lt[Ft]=arguments[Ft];Promise.resolve().then(function(){warningOnce(!wt,"Your validator function has already return a promise. `callback` will be ignored."),wt||Ct.apply(void 0,Lt)})},$t=vt(yt,xt,Et);wt=$t&&typeof $t.then=="function"&&typeof $t.catch=="function",warningOnce(wt,"`callback` is deprecated. Please return a promise instead."),wt&&$t.then(function(){Ct()}).catch(function(It){Ct(It||" ")})}),gt}).sort(function(ft,dt){var vt=ft.warningOnly,gt=ft.ruleIndex,yt=dt.warningOnly,xt=dt.ruleIndex;return!!vt==!!yt?gt-xt:vt?1:-1}),st;if(nt===!0)st=new Promise(function(){var ft=_asyncToGenerator(_regeneratorRuntime().mark(function dt(vt,gt){var yt,xt,Ct;return _regeneratorRuntime().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:yt=0;case 1:if(!(yt<it.length)){Et.next=12;break}return xt=it[yt],Et.next=5,validateRule(ot,_e,xt,tt,at);case 5:if(Ct=Et.sent,!Ct.length){Et.next=9;break}return gt([{errors:Ct,rule:xt}]),Et.abrupt("return");case 9:yt+=1,Et.next=1;break;case 12:vt([]);case 13:case"end":return Et.stop()}},dt)}));return function(dt,vt){return ft.apply(this,arguments)}}());else{var ut=it.map(function(ft){return validateRule(ot,_e,ft,tt,at).then(function(dt){return{errors:dt,rule:ft}})});st=(nt?finishOnFirstFailed(ut):finishOnAllFailed(ut)).then(function(ft){return Promise.reject(ft)})}return st.catch(function(ft){return ft}),st}function finishOnAllFailed($){return _finishOnAllFailed.apply(this,arguments)}function _finishOnAllFailed(){return _finishOnAllFailed=_asyncToGenerator(_regeneratorRuntime().mark(function $(_e){return _regeneratorRuntime().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",Promise.all(_e).then(function(nt){var at,ot=(at=[]).concat.apply(at,_toConsumableArray(nt));return ot}));case 1:case"end":return tt.stop()}},$)})),_finishOnAllFailed.apply(this,arguments)}function finishOnFirstFailed($){return _finishOnFirstFailed.apply(this,arguments)}function _finishOnFirstFailed(){return _finishOnFirstFailed=_asyncToGenerator(_regeneratorRuntime().mark(function $(_e){var et;return _regeneratorRuntime().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return et=0,nt.abrupt("return",new Promise(function(at){_e.forEach(function(ot){ot.then(function(it){it.errors.length&&at([it]),et+=1,et===_e.length&&at([])})})}));case 2:case"end":return nt.stop()}},$)})),_finishOnFirstFailed.apply(this,arguments)}var _excluded$B=["name"],EMPTY_ERRORS=[];function requireUpdate($,_e,et,tt,nt,at){return typeof $=="function"?$(_e,et,"source"in at?{source:at.source}:{}):tt!==nt}var Field=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;if(_classCallCheck$2(this,et),nt=_e.call(this,tt),nt.state={resetCount:0},nt.cancelRegisterFunc=null,nt.mounted=!1,nt.touched=!1,nt.dirty=!1,nt.validatePromise=null,nt.prevValidating=void 0,nt.errors=EMPTY_ERRORS,nt.warnings=EMPTY_ERRORS,nt.cancelRegister=function(){var st=nt.props,ut=st.preserve,ft=st.isListField,dt=st.name;nt.cancelRegisterFunc&&nt.cancelRegisterFunc(ft,ut,getNamePath(dt)),nt.cancelRegisterFunc=null},nt.getNamePath=function(){var st=nt.props,ut=st.name,ft=st.fieldContext,dt=ft.prefixName,vt=dt===void 0?[]:dt;return ut!==void 0?[].concat(_toConsumableArray(vt),_toConsumableArray(ut)):[]},nt.getRules=function(){var st=nt.props,ut=st.rules,ft=ut===void 0?[]:ut,dt=st.fieldContext;return ft.map(function(vt){return typeof vt=="function"?vt(dt):vt})},nt.refresh=function(){!nt.mounted||nt.setState(function(st){var ut=st.resetCount;return{resetCount:ut+1}})},nt.triggerMetaEvent=function(st){var ut=nt.props.onMetaChange;ut==null||ut(_objectSpread2$1(_objectSpread2$1({},nt.getMeta()),{},{destroy:st}))},nt.onStoreChange=function(st,ut,ft){var dt=nt.props,vt=dt.shouldUpdate,gt=dt.dependencies,yt=gt===void 0?[]:gt,xt=dt.onReset,Ct=ft.store,wt=nt.getNamePath(),Et=nt.getValue(st),$t=nt.getValue(Ct),It=ut&&containsNamePath(ut,wt);switch(ft.type==="valueUpdate"&&ft.source==="external"&&Et!==$t&&(nt.touched=!0,nt.dirty=!0,nt.validatePromise=null,nt.errors=EMPTY_ERRORS,nt.warnings=EMPTY_ERRORS,nt.triggerMetaEvent()),ft.type){case"reset":if(!ut||It){nt.touched=!1,nt.dirty=!1,nt.validatePromise=null,nt.errors=EMPTY_ERRORS,nt.warnings=EMPTY_ERRORS,nt.triggerMetaEvent(),xt==null||xt(),nt.refresh();return}break;case"remove":{if(vt){nt.reRender();return}break}case"setField":{if(It){var Ot=ft.data;"touched"in Ot&&(nt.touched=Ot.touched),"validating"in Ot&&!("originRCField"in Ot)&&(nt.validatePromise=Ot.validating?Promise.resolve([]):null),"errors"in Ot&&(nt.errors=Ot.errors||EMPTY_ERRORS),"warnings"in Ot&&(nt.warnings=Ot.warnings||EMPTY_ERRORS),nt.dirty=!0,nt.triggerMetaEvent(),nt.reRender();return}if(vt&&!wt.length&&requireUpdate(vt,st,Ct,Et,$t,ft)){nt.reRender();return}break}case"dependenciesUpdate":{var Lt=yt.map(getNamePath);if(Lt.some(function(Ft){return containsNamePath(ft.relatedFields,Ft)})){nt.reRender();return}break}default:if(It||(!yt.length||wt.length||vt)&&requireUpdate(vt,st,Ct,Et,$t,ft)){nt.reRender();return}break}vt===!0&&nt.reRender()},nt.validateRules=function(st){var ut=nt.getNamePath(),ft=nt.getValue(),dt=Promise.resolve().then(function(){if(!nt.mounted)return[];var vt=nt.props,gt=vt.validateFirst,yt=gt===void 0?!1:gt,xt=vt.messageVariables,Ct=st||{},wt=Ct.triggerName,Et=nt.getRules();wt&&(Et=Et.filter(function(It){var Ot=It.validateTrigger;if(!Ot)return!0;var Lt=toArray$4(Ot);return Lt.includes(wt)}));var $t=validateRules(ut,ft,Et,st,yt,xt);return $t.catch(function(It){return It}).then(function(){var It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EMPTY_ERRORS;if(nt.validatePromise===dt){nt.validatePromise=null;var Ot=[],Lt=[];It.forEach(function(Ft){var zt=Ft.rule.warningOnly,Gt=Ft.errors,jt=Gt===void 0?EMPTY_ERRORS:Gt;zt?Lt.push.apply(Lt,_toConsumableArray(jt)):Ot.push.apply(Ot,_toConsumableArray(jt))}),nt.errors=Ot,nt.warnings=Lt,nt.triggerMetaEvent(),nt.reRender()}}),$t});return nt.validatePromise=dt,nt.dirty=!0,nt.errors=EMPTY_ERRORS,nt.warnings=EMPTY_ERRORS,nt.triggerMetaEvent(),nt.reRender(),dt},nt.isFieldValidating=function(){return!!nt.validatePromise},nt.isFieldTouched=function(){return nt.touched},nt.isFieldDirty=function(){if(nt.dirty||nt.props.initialValue!==void 0)return!0;var st=nt.props.fieldContext,ut=st.getInternalHooks(HOOK_MARK),ft=ut.getInitialValue;return ft(nt.getNamePath())!==void 0},nt.getErrors=function(){return nt.errors},nt.getWarnings=function(){return nt.warnings},nt.isListField=function(){return nt.props.isListField},nt.isList=function(){return nt.props.isList},nt.isPreserve=function(){return nt.props.preserve},nt.getMeta=function(){nt.prevValidating=nt.isFieldValidating();var st={touched:nt.isFieldTouched(),validating:nt.prevValidating,errors:nt.errors,warnings:nt.warnings,name:nt.getNamePath()};return st},nt.getOnlyChild=function(st){if(typeof st=="function"){var ut=nt.getMeta();return _objectSpread2$1(_objectSpread2$1({},nt.getOnlyChild(st(nt.getControlled(),ut,nt.props.fieldContext))),{},{isFunction:!0})}var ft=toArray$5(st);return ft.length!==1||!react.exports.isValidElement(ft[0])?{child:ft,isFunction:!1}:{child:ft[0],isFunction:!1}},nt.getValue=function(st){var ut=nt.props.fieldContext.getFieldsValue,ft=nt.getNamePath();return getValue$3(st||ut(!0),ft)},nt.getControlled=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=nt.props,ft=ut.trigger,dt=ut.validateTrigger,vt=ut.getValueFromEvent,gt=ut.normalize,yt=ut.valuePropName,xt=ut.getValueProps,Ct=ut.fieldContext,wt=dt!==void 0?dt:Ct.validateTrigger,Et=nt.getNamePath(),$t=Ct.getInternalHooks,It=Ct.getFieldsValue,Ot=$t(HOOK_MARK),Lt=Ot.dispatch,Ft=nt.getValue(),zt=xt||function(Kt){return _defineProperty$4({},yt,Kt)},Gt=st[ft],jt=_objectSpread2$1(_objectSpread2$1({},st),zt(Ft));jt[ft]=function(){nt.touched=!0,nt.dirty=!0,nt.triggerMetaEvent();for(var Kt,Zt=arguments.length,Qt=new Array(Zt),rr=0;rr<Zt;rr++)Qt[rr]=arguments[rr];vt?Kt=vt.apply(void 0,Qt):Kt=defaultGetValueFromEvent.apply(void 0,[yt].concat(Qt)),gt&&(Kt=gt(Kt,Ft,It(!0))),Lt({type:"updateValue",namePath:Et,value:Kt}),Gt&&Gt.apply(void 0,Qt)};var Ut=toArray$4(wt||[]);return Ut.forEach(function(Kt){var Zt=jt[Kt];jt[Kt]=function(){Zt&&Zt.apply(void 0,arguments);var Qt=nt.props.rules;Qt&&Qt.length&&Lt({type:"validateField",namePath:Et,triggerName:Kt})}}),jt},tt.fieldContext){var at=tt.fieldContext.getInternalHooks,ot=at(HOOK_MARK),it=ot.initEntityValue;it(_assertThisInitialized$1(nt))}return nt}return _createClass$2(et,[{key:"componentDidMount",value:function(){var nt=this.props,at=nt.shouldUpdate,ot=nt.fieldContext;if(this.mounted=!0,ot){var it=ot.getInternalHooks,st=it(HOOK_MARK),ut=st.registerField;this.cancelRegisterFunc=ut(this)}at===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){!this.mounted||this.forceUpdate()}},{key:"render",value:function(){var nt=this.state.resetCount,at=this.props.children,ot=this.getOnlyChild(at),it=ot.child,st=ot.isFunction,ut;return st?ut=it:react.exports.isValidElement(it)?ut=react.exports.cloneElement(it,this.getControlled(it.props)):(warningOnce(!it,"`children` of Field is not validate ReactElement."),ut=it),react.exports.createElement(react.exports.Fragment,{key:nt},ut)}}]),et}(react.exports.Component);Field.contextType=Context;Field.defaultProps={trigger:"onChange",valuePropName:"value"};function WrapperField($){var _e=$.name,et=_objectWithoutProperties$1($,_excluded$B),tt=react.exports.useContext(Context),nt=_e!==void 0?getNamePath(_e):void 0,at="keep";return et.isListField||(at="_".concat((nt||[]).join("_"))),react.exports.createElement(Field,_extends$2({key:at,name:nt},et,{fieldContext:tt}))}var ListContext=react.exports.createContext(null),List$2=function(_e){var et=_e.name,tt=_e.initialValue,nt=_e.children,at=_e.rules,ot=_e.validateTrigger,it=react.exports.useContext(Context),st=react.exports.useRef({keys:[],id:0}),ut=st.current,ft=react.exports.useMemo(function(){var yt=getNamePath(it.prefixName)||[];return[].concat(_toConsumableArray(yt),_toConsumableArray(getNamePath(et)))},[it.prefixName,et]),dt=react.exports.useMemo(function(){return _objectSpread2$1(_objectSpread2$1({},it),{},{prefixName:ft})},[it,ft]),vt=react.exports.useMemo(function(){return{getKey:function(xt){var Ct=ft.length,wt=xt[Ct];return[ut.keys[wt],xt.slice(Ct+1)]}}},[ft]);if(typeof nt!="function")return warningOnce(!1,"Form.List only accepts function as children."),null;var gt=function(xt,Ct,wt){var Et=wt.source;return Et==="internal"?!1:xt!==Ct};return react.exports.createElement(ListContext.Provider,{value:vt},react.exports.createElement(Context.Provider,{value:dt},react.exports.createElement(WrapperField,{name:[],shouldUpdate:gt,rules:at,validateTrigger:ot,initialValue:tt,isList:!0},function(yt,xt){var Ct=yt.value,wt=Ct===void 0?[]:Ct,Et=yt.onChange,$t=it.getFieldValue,It=function(){var zt=$t(ft||[]);return zt||[]},Ot={add:function(zt,Gt){var jt=It();Gt>=0&&Gt<=jt.length?(ut.keys=[].concat(_toConsumableArray(ut.keys.slice(0,Gt)),[ut.id],_toConsumableArray(ut.keys.slice(Gt))),Et([].concat(_toConsumableArray(jt.slice(0,Gt)),[zt],_toConsumableArray(jt.slice(Gt))))):(ut.keys=[].concat(_toConsumableArray(ut.keys),[ut.id]),Et([].concat(_toConsumableArray(jt),[zt]))),ut.id+=1},remove:function(zt){var Gt=It(),jt=new Set(Array.isArray(zt)?zt:[zt]);jt.size<=0||(ut.keys=ut.keys.filter(function(Ut,Kt){return!jt.has(Kt)}),Et(Gt.filter(function(Ut,Kt){return!jt.has(Kt)})))},move:function(zt,Gt){if(zt!==Gt){var jt=It();zt<0||zt>=jt.length||Gt<0||Gt>=jt.length||(ut.keys=move(ut.keys,zt,Gt),Et(move(jt,zt,Gt)))}}},Lt=wt||[];return Array.isArray(Lt)||(Lt=[]),nt(Lt.map(function(Ft,zt){var Gt=ut.keys[zt];return Gt===void 0&&(ut.keys[zt]=ut.id,Gt=ut.keys[zt],ut.id+=1),{name:zt,key:Gt,isListField:!0}}),Ot,xt)})))};function _iterableToArrayLimit$3($,_e){var et=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt=[],nt=!0,at=!1,ot,it;try{for(et=et.call($);!(nt=(ot=et.next()).done)&&(tt.push(ot.value),!(_e&&tt.length===_e));nt=!0);}catch(st){at=!0,it=st}finally{try{!nt&&et.return!=null&&et.return()}finally{if(at)throw it}}return tt}}function _slicedToArray$3($,_e){return _arrayWithHoles$3($)||_iterableToArrayLimit$3($,_e)||_unsupportedIterableToArray$3($,_e)||_nonIterableRest$3()}function allPromiseFinish($){var _e=!1,et=$.length,tt=[];return $.length?new Promise(function(nt,at){$.forEach(function(ot,it){ot.catch(function(st){return _e=!0,st}).then(function(st){et-=1,tt[it]=st,!(et>0)&&(_e&&at(tt),nt(tt))})})}):Promise.resolve([])}var SPLIT="__@field_split__";function normalize$4($){return $.map(function(_e){return"".concat(_typeof$4(_e),":").concat(_e)}).join(SPLIT)}var NameMap=function(){function $(){_classCallCheck$2(this,$),this.kvs=new Map}return _createClass$2($,[{key:"set",value:function(et,tt){this.kvs.set(normalize$4(et),tt)}},{key:"get",value:function(et){return this.kvs.get(normalize$4(et))}},{key:"update",value:function(et,tt){var nt=this.get(et),at=tt(nt);at?this.set(et,at):this.delete(et)}},{key:"delete",value:function(et){this.kvs.delete(normalize$4(et))}},{key:"map",value:function(et){return _toConsumableArray(this.kvs.entries()).map(function(tt){var nt=_slicedToArray$3(tt,2),at=nt[0],ot=nt[1],it=at.split(SPLIT);return et({key:it.map(function(st){var ut=st.match(/^([^:]*):(.*)$/),ft=_slicedToArray$3(ut,3),dt=ft[1],vt=ft[2];return dt==="number"?Number(vt):vt}),value:ot})})}},{key:"toJSON",value:function(){var et={};return this.map(function(tt){var nt=tt.key,at=tt.value;return et[nt.join(".")]=at,null}),et}}]),$}(),_excluded$A=["name","errors"],FormStore=_createClass$2(function $(_e){var et=this;_classCallCheck$2(this,$),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:et.getFieldValue,getFieldsValue:et.getFieldsValue,getFieldError:et.getFieldError,getFieldWarning:et.getFieldWarning,getFieldsError:et.getFieldsError,isFieldsTouched:et.isFieldsTouched,isFieldTouched:et.isFieldTouched,isFieldValidating:et.isFieldValidating,isFieldsValidating:et.isFieldsValidating,resetFields:et.resetFields,setFields:et.setFields,setFieldsValue:et.setFieldsValue,validateFields:et.validateFields,submit:et.submit,_init:!0,getInternalHooks:et.getInternalHooks}},this.getInternalHooks=function(tt){return tt===HOOK_MARK?(et.formHooked=!0,{dispatch:et.dispatch,initEntityValue:et.initEntityValue,registerField:et.registerField,useSubscribe:et.useSubscribe,setInitialValues:et.setInitialValues,destroyForm:et.destroyForm,setCallbacks:et.setCallbacks,setValidateMessages:et.setValidateMessages,getFields:et.getFields,setPreserve:et.setPreserve,getInitialValue:et.getInitialValue,registerWatch:et.registerWatch}):(warningOnce(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(tt){et.subscribable=tt},this.prevWithoutPreserves=null,this.setInitialValues=function(tt,nt){if(et.initialValues=tt||{},nt){var at,ot=setValues({},tt,et.store);(at=et.prevWithoutPreserves)===null||at===void 0||at.map(function(it){var st=it.key;ot=setValue(ot,st,getValue$3(tt,st))}),et.prevWithoutPreserves=null,et.updateStore(ot)}},this.destroyForm=function(){var tt=new NameMap;et.getFieldEntities(!0).forEach(function(nt){et.isMergedPreserve(nt.isPreserve())||tt.set(nt.getNamePath(),!0)}),et.prevWithoutPreserves=tt},this.getInitialValue=function(tt){var nt=getValue$3(et.initialValues,tt);return tt.length?cloneDeep(nt):nt},this.setCallbacks=function(tt){et.callbacks=tt},this.setValidateMessages=function(tt){et.validateMessages=tt},this.setPreserve=function(tt){et.preserve=tt},this.watchList=[],this.registerWatch=function(tt){return et.watchList.push(tt),function(){et.watchList=et.watchList.filter(function(nt){return nt!==tt})}},this.notifyWatch=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(et.watchList.length){var nt=et.getFieldsValue();et.watchList.forEach(function(at){at(nt,tt)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(tt){et.store=tt},this.getFieldEntities=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return tt?et.fieldEntities.filter(function(nt){return nt.getNamePath().length}):et.fieldEntities},this.getFieldsMap=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,nt=new NameMap;return et.getFieldEntities(tt).forEach(function(at){var ot=at.getNamePath();nt.set(ot,at)}),nt},this.getFieldEntitiesForNamePathList=function(tt){if(!tt)return et.getFieldEntities(!0);var nt=et.getFieldsMap(!0);return tt.map(function(at){var ot=getNamePath(at);return nt.get(ot)||{INVALIDATE_NAME_PATH:getNamePath(at)}})},this.getFieldsValue=function(tt,nt){if(et.warningUnhooked(),tt===!0&&!nt)return et.store;var at=et.getFieldEntitiesForNamePathList(Array.isArray(tt)?tt:null),ot=[];return at.forEach(function(it){var st,ut="INVALIDATE_NAME_PATH"in it?it.INVALIDATE_NAME_PATH:it.getNamePath();if(!(!tt&&((st=it.isListField)===null||st===void 0?void 0:st.call(it))))if(!nt)ot.push(ut);else{var ft="getMeta"in it?it.getMeta():null;nt(ft)&&ot.push(ut)}}),cloneByNamePathList(et.store,ot.map(getNamePath))},this.getFieldValue=function(tt){et.warningUnhooked();var nt=getNamePath(tt);return getValue$3(et.store,nt)},this.getFieldsError=function(tt){et.warningUnhooked();var nt=et.getFieldEntitiesForNamePathList(tt);return nt.map(function(at,ot){return at&&!("INVALIDATE_NAME_PATH"in at)?{name:at.getNamePath(),errors:at.getErrors(),warnings:at.getWarnings()}:{name:getNamePath(tt[ot]),errors:[],warnings:[]}})},this.getFieldError=function(tt){et.warningUnhooked();var nt=getNamePath(tt),at=et.getFieldsError([nt])[0];return at.errors},this.getFieldWarning=function(tt){et.warningUnhooked();var nt=getNamePath(tt),at=et.getFieldsError([nt])[0];return at.warnings},this.isFieldsTouched=function(){et.warningUnhooked();for(var tt=arguments.length,nt=new Array(tt),at=0;at<tt;at++)nt[at]=arguments[at];var ot=nt[0],it=nt[1],st,ut=!1;nt.length===0?st=null:nt.length===1?Array.isArray(ot)?(st=ot.map(getNamePath),ut=!1):(st=null,ut=ot):(st=ot.map(getNamePath),ut=it);var ft=et.getFieldEntities(!0),dt=function(Ct){return Ct.isFieldTouched()};if(!st)return ut?ft.every(dt):ft.some(dt);var vt=new NameMap;st.forEach(function(xt){vt.set(xt,[])}),ft.forEach(function(xt){var Ct=xt.getNamePath();st.forEach(function(wt){wt.every(function(Et,$t){return Ct[$t]===Et})&&vt.update(wt,function(Et){return[].concat(_toConsumableArray(Et),[xt])})})});var gt=function(Ct){return Ct.some(dt)},yt=vt.map(function(xt){var Ct=xt.value;return Ct});return ut?yt.every(gt):yt.some(gt)},this.isFieldTouched=function(tt){return et.warningUnhooked(),et.isFieldsTouched([tt])},this.isFieldsValidating=function(tt){et.warningUnhooked();var nt=et.getFieldEntities();if(!tt)return nt.some(function(ot){return ot.isFieldValidating()});var at=tt.map(getNamePath);return nt.some(function(ot){var it=ot.getNamePath();return containsNamePath(at,it)&&ot.isFieldValidating()})},this.isFieldValidating=function(tt){return et.warningUnhooked(),et.isFieldsValidating([tt])},this.resetWithFieldInitialValue=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=new NameMap,at=et.getFieldEntities(!0);at.forEach(function(st){var ut=st.props.initialValue,ft=st.getNamePath();if(ut!==void 0){var dt=nt.get(ft)||new Set;dt.add({entity:st,value:ut}),nt.set(ft,dt)}});var ot=function(ut){ut.forEach(function(ft){var dt=ft.props.initialValue;if(dt!==void 0){var vt=ft.getNamePath(),gt=et.getInitialValue(vt);if(gt!==void 0)warningOnce(!1,"Form already set 'initialValues' with path '".concat(vt.join("."),"'. Field can not overwrite it."));else{var yt=nt.get(vt);if(yt&&yt.size>1)warningOnce(!1,"Multiple Field with path '".concat(vt.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(yt){var xt=et.getFieldValue(vt);(!tt.skipExist||xt===void 0)&&et.updateStore(setValue(et.store,vt,_toConsumableArray(yt)[0].value))}}}})},it;tt.entities?it=tt.entities:tt.namePathList?(it=[],tt.namePathList.forEach(function(st){var ut=nt.get(st);if(ut){var ft;(ft=it).push.apply(ft,_toConsumableArray(_toConsumableArray(ut).map(function(dt){return dt.entity})))}})):it=at,ot(it)},this.resetFields=function(tt){et.warningUnhooked();var nt=et.store;if(!tt){et.updateStore(setValues({},et.initialValues)),et.resetWithFieldInitialValue(),et.notifyObservers(nt,null,{type:"reset"}),et.notifyWatch();return}var at=tt.map(getNamePath);at.forEach(function(ot){var it=et.getInitialValue(ot);et.updateStore(setValue(et.store,ot,it))}),et.resetWithFieldInitialValue({namePathList:at}),et.notifyObservers(nt,at,{type:"reset"}),et.notifyWatch(at)},this.setFields=function(tt){et.warningUnhooked();var nt=et.store,at=[];tt.forEach(function(ot){var it=ot.name;ot.errors;var st=_objectWithoutProperties$1(ot,_excluded$A),ut=getNamePath(it);at.push(ut),"value"in st&&et.updateStore(setValue(et.store,ut,st.value)),et.notifyObservers(nt,[ut],{type:"setField",data:ot})}),et.notifyWatch(at)},this.getFields=function(){var tt=et.getFieldEntities(!0),nt=tt.map(function(at){var ot=at.getNamePath(),it=at.getMeta(),st=_objectSpread2$1(_objectSpread2$1({},it),{},{name:ot,value:et.getFieldValue(ot)});return Object.defineProperty(st,"originRCField",{value:!0}),st});return nt},this.initEntityValue=function(tt){var nt=tt.props.initialValue;if(nt!==void 0){var at=tt.getNamePath(),ot=getValue$3(et.store,at);ot===void 0&&et.updateStore(setValue(et.store,at,nt))}},this.isMergedPreserve=function(tt){var nt=tt!==void 0?tt:et.preserve;return nt!=null?nt:!0},this.registerField=function(tt){et.fieldEntities.push(tt);var nt=tt.getNamePath();if(et.notifyWatch([nt]),tt.props.initialValue!==void 0){var at=et.store;et.resetWithFieldInitialValue({entities:[tt],skipExist:!0}),et.notifyObservers(at,[tt.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(ot,it){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(et.fieldEntities=et.fieldEntities.filter(function(dt){return dt!==tt}),!et.isMergedPreserve(it)&&(!ot||st.length>1)){var ut=ot?void 0:et.getInitialValue(nt);if(nt.length&&et.getFieldValue(nt)!==ut&&et.fieldEntities.every(function(dt){return!matchNamePath(dt.getNamePath(),nt)})){var ft=et.store;et.updateStore(setValue(ft,nt,ut,!0)),et.notifyObservers(ft,[nt],{type:"remove"}),et.triggerDependenciesUpdate(ft,nt)}}et.notifyWatch([nt])}},this.dispatch=function(tt){switch(tt.type){case"updateValue":{var nt=tt.namePath,at=tt.value;et.updateValue(nt,at);break}case"validateField":{var ot=tt.namePath,it=tt.triggerName;et.validateFields([ot],{triggerName:it});break}}},this.notifyObservers=function(tt,nt,at){if(et.subscribable){var ot=_objectSpread2$1(_objectSpread2$1({},at),{},{store:et.getFieldsValue(!0)});et.getFieldEntities().forEach(function(it){var st=it.onStoreChange;st(tt,nt,ot)})}else et.forceRootUpdate()},this.triggerDependenciesUpdate=function(tt,nt){var at=et.getDependencyChildrenFields(nt);return at.length&&et.validateFields(at),et.notifyObservers(tt,at,{type:"dependenciesUpdate",relatedFields:[nt].concat(_toConsumableArray(at))}),at},this.updateValue=function(tt,nt){var at=getNamePath(tt),ot=et.store;et.updateStore(setValue(et.store,at,nt)),et.notifyObservers(ot,[at],{type:"valueUpdate",source:"internal"}),et.notifyWatch([at]);var it=et.triggerDependenciesUpdate(ot,at),st=et.callbacks.onValuesChange;if(st){var ut=cloneByNamePathList(et.store,[at]);st(ut,et.getFieldsValue())}et.triggerOnFieldsChange([at].concat(_toConsumableArray(it)))},this.setFieldsValue=function(tt){et.warningUnhooked();var nt=et.store;if(tt){var at=setValues(et.store,tt);et.updateStore(at)}et.notifyObservers(nt,null,{type:"valueUpdate",source:"external"}),et.notifyWatch()},this.getDependencyChildrenFields=function(tt){var nt=new Set,at=[],ot=new NameMap;et.getFieldEntities().forEach(function(st){var ut=st.props.dependencies;(ut||[]).forEach(function(ft){var dt=getNamePath(ft);ot.update(dt,function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return vt.add(st),vt})})});var it=function st(ut){var ft=ot.get(ut)||new Set;ft.forEach(function(dt){if(!nt.has(dt)){nt.add(dt);var vt=dt.getNamePath();dt.isFieldDirty()&&vt.length&&(at.push(vt),st(vt))}})};return it(tt),at},this.triggerOnFieldsChange=function(tt,nt){var at=et.callbacks.onFieldsChange;if(at){var ot=et.getFields();if(nt){var it=new NameMap;nt.forEach(function(ut){var ft=ut.name,dt=ut.errors;it.set(ft,dt)}),ot.forEach(function(ut){ut.errors=it.get(ut.name)||ut.errors})}var st=ot.filter(function(ut){var ft=ut.name;return containsNamePath(tt,ft)});at(st,ot)}},this.validateFields=function(tt,nt){et.warningUnhooked();var at=!!tt,ot=at?tt.map(getNamePath):[],it=[];et.getFieldEntities(!0).forEach(function(ft){if(at||ot.push(ft.getNamePath()),(nt==null?void 0:nt.recursive)&&at){var dt=ft.getNamePath();dt.every(function(yt,xt){return tt[xt]===yt||tt[xt]===void 0})&&ot.push(dt)}if(!(!ft.props.rules||!ft.props.rules.length)){var vt=ft.getNamePath();if(!at||containsNamePath(ot,vt)){var gt=ft.validateRules(_objectSpread2$1({validateMessages:_objectSpread2$1(_objectSpread2$1({},defaultValidateMessages),et.validateMessages)},nt));it.push(gt.then(function(){return{name:vt,errors:[],warnings:[]}}).catch(function(yt){var xt=[],Ct=[];return yt.forEach(function(wt){var Et=wt.rule.warningOnly,$t=wt.errors;Et?Ct.push.apply(Ct,_toConsumableArray($t)):xt.push.apply(xt,_toConsumableArray($t))}),xt.length?Promise.reject({name:vt,errors:xt,warnings:Ct}):{name:vt,errors:xt,warnings:Ct}}))}}});var st=allPromiseFinish(it);et.lastValidatePromise=st,st.catch(function(ft){return ft}).then(function(ft){var dt=ft.map(function(vt){var gt=vt.name;return gt});et.notifyObservers(et.store,dt,{type:"validateFinish"}),et.triggerOnFieldsChange(dt,ft)});var ut=st.then(function(){return et.lastValidatePromise===st?Promise.resolve(et.getFieldsValue(ot)):Promise.reject([])}).catch(function(ft){var dt=ft.filter(function(vt){return vt&&vt.errors.length});return Promise.reject({values:et.getFieldsValue(ot),errorFields:dt,outOfDate:et.lastValidatePromise!==st})});return ut.catch(function(ft){return ft}),ut},this.submit=function(){et.warningUnhooked(),et.validateFields().then(function(tt){var nt=et.callbacks.onFinish;if(nt)try{nt(tt)}catch(at){console.error(at)}}).catch(function(tt){var nt=et.callbacks.onFinishFailed;nt&&nt(tt)})},this.forceRootUpdate=_e});function useForm$1($){var _e=react.exports.useRef(),et=react.exports.useState({}),tt=_slicedToArray$3(et,2),nt=tt[1];if(!_e.current)if($)_e.current=$;else{var at=function(){nt({})},ot=new FormStore(at);_e.current=ot.getForm()}return[_e.current]}var FormContext$1=react.exports.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),FormProvider$1=function(_e){var et=_e.validateMessages,tt=_e.onFormChange,nt=_e.onFormFinish,at=_e.children,ot=react.exports.useContext(FormContext$1),it=react.exports.useRef({});return react.exports.createElement(FormContext$1.Provider,{value:_objectSpread2$1(_objectSpread2$1({},ot),{},{validateMessages:_objectSpread2$1(_objectSpread2$1({},ot.validateMessages),et),triggerFormChange:function(ut,ft){tt&&tt(ut,{changedFields:ft,forms:it.current}),ot.triggerFormChange(ut,ft)},triggerFormFinish:function(ut,ft){nt&&nt(ut,{values:ft,forms:it.current}),ot.triggerFormFinish(ut,ft)},registerForm:function(ut,ft){ut&&(it.current=_objectSpread2$1(_objectSpread2$1({},it.current),{},_defineProperty$4({},ut,ft))),ot.registerForm(ut,ft)},unregisterForm:function(ut){var ft=_objectSpread2$1({},it.current);delete ft[ut],it.current=ft,ot.unregisterForm(ut)}})},at)},_excluded$z=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Form$3=function(_e,et){var tt=_e.name,nt=_e.initialValues,at=_e.fields,ot=_e.form,it=_e.preserve,st=_e.children,ut=_e.component,ft=ut===void 0?"form":ut,dt=_e.validateMessages,vt=_e.validateTrigger,gt=vt===void 0?"onChange":vt,yt=_e.onValuesChange,xt=_e.onFieldsChange,Ct=_e.onFinish,wt=_e.onFinishFailed,Et=_objectWithoutProperties$1(_e,_excluded$z),$t=react.exports.useContext(FormContext$1),It=useForm$1(ot),Ot=_slicedToArray$3(It,1),Lt=Ot[0],Ft=Lt.getInternalHooks(HOOK_MARK),zt=Ft.useSubscribe,Gt=Ft.setInitialValues,jt=Ft.setCallbacks,Ut=Ft.setValidateMessages,Kt=Ft.setPreserve,Zt=Ft.destroyForm;react.exports.useImperativeHandle(et,function(){return Lt}),react.exports.useEffect(function(){return $t.registerForm(tt,Lt),function(){$t.unregisterForm(tt)}},[$t,Lt,tt]),Ut(_objectSpread2$1(_objectSpread2$1({},$t.validateMessages),dt)),jt({onValuesChange:yt,onFieldsChange:function(wr){if($t.triggerFormChange(tt,wr),xt){for(var Mr=arguments.length,Lr=new Array(Mr>1?Mr-1:0),Br=1;Br<Mr;Br++)Lr[Br-1]=arguments[Br];xt.apply(void 0,[wr].concat(Lr))}},onFinish:function(wr){$t.triggerFormFinish(tt,wr),Ct&&Ct(wr)},onFinishFailed:wt}),Kt(it);var Qt=react.exports.useRef(null);Gt(nt,!Qt.current),Qt.current||(Qt.current=!0),react.exports.useEffect(function(){return Zt},[]);var rr,nr=typeof st=="function";if(nr){var dr=Lt.getFieldsValue(!0);rr=st(dr,Lt)}else rr=st;zt(!nr);var sr=react.exports.useRef();react.exports.useEffect(function(){isSimilar(sr.current||[],at||[])||Lt.setFields(at||[]),sr.current=at},[at,Lt]);var fr=react.exports.useMemo(function(){return _objectSpread2$1(_objectSpread2$1({},Lt),{},{validateTrigger:gt})},[Lt,gt]),yr=react.exports.createElement(Context.Provider,{value:fr},rr);return ft===!1?yr:react.exports.createElement(ft,_extends$2({},Et,{onSubmit:function(wr){wr.preventDefault(),wr.stopPropagation(),Lt.submit()},onReset:function(wr){var Mr;wr.preventDefault(),Lt.resetFields(),(Mr=Et.onReset)===null||Mr===void 0||Mr.call(Et,wr)}}),yr)};function stringify$1($){try{return JSON.stringify($)}catch{return Math.random()}}function useWatch(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_e=arguments.length>1?arguments[1]:void 0,et=react.exports.useState(),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1],ot=react.exports.useMemo(function(){return stringify$1(nt)},[nt]),it=react.exports.useRef(ot);it.current=ot;var st=react.exports.useContext(Context),ut=_e||st,ft=ut&&ut._init,dt=getNamePath($),vt=react.exports.useRef(dt);return vt.current=dt,react.exports.useEffect(function(){if(!!ft){var gt=ut.getFieldsValue,yt=ut.getInternalHooks,xt=yt(HOOK_MARK),Ct=xt.registerWatch,wt=Ct(function($t){var It=getValue$3($t,vt.current),Ot=stringify$1(It);it.current!==Ot&&(it.current=Ot,at(It))}),Et=getValue$3(gt(),vt.current);return at(Et),wt}},[]),nt}var InternalForm$2=react.exports.forwardRef(Form$3),RefForm=InternalForm$2;RefForm.FormProvider=FormProvider$1;RefForm.Field=WrapperField;RefForm.List=List$2;RefForm.useForm=useForm$1;RefForm.useWatch=useWatch;var safeIsNaN=Number.isNaN||function(_e){return typeof _e=="number"&&_e!==_e};function isEqual$1($,_e){return!!($===_e||safeIsNaN($)&&safeIsNaN(_e))}function areInputsEqual($,_e){if($.length!==_e.length)return!1;for(var et=0;et<$.length;et++)if(!isEqual$1($[et],_e[et]))return!1;return!0}function memoizeOne($,_e){_e===void 0&&(_e=areInputsEqual);var et=null;function tt(){for(var nt=[],at=0;at<arguments.length;at++)nt[at]=arguments[at];if(et&&et.lastThis===this&&_e(nt,et.lastArgs))return et.lastResult;var ot=$.apply(this,nt);return et={lastResult:ot,lastArgs:nt,lastThis:this},ot}return tt.clear=function(){et=null},tt}var enUS$1={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},locale$5={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},locale$4={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},TimePicker$1=locale$4,locale$3={lang:_extends$2({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},locale$5),timePickerLocale:_extends$2({},TimePicker$1)},enUS=locale$3,typeTemplate$1="${label} is not a valid ${type}",localeValues$1={locale:"en",Pagination:enUS$1,DatePicker:enUS,TimePicker:TimePicker$1,Calendar:enUS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate$1,method:typeTemplate$1,array:typeTemplate$1,object:typeTemplate$1,number:typeTemplate$1,date:typeTemplate$1,boolean:typeTemplate$1,integer:typeTemplate$1,float:typeTemplate$1,regexp:typeTemplate$1,email:typeTemplate$1,url:typeTemplate$1,hex:typeTemplate$1},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},defaultLocale=localeValues$1,runtimeLocale=_extends$2({},defaultLocale.Modal);function changeConfirmLocale($){$?runtimeLocale=_extends$2(_extends$2({},runtimeLocale),$):runtimeLocale=_extends$2({},defaultLocale.Modal)}var LocaleContext=react.exports.createContext(void 0),LocaleContext$1=LocaleContext,ANT_MARK="internalMark",LocaleProvider=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;return _classCallCheck$2(this,et),nt=_e.call(this,tt),nt.getMemoizedContextValue=memoizeOne(function(at){return _extends$2(_extends$2({},at),{exist:!0})}),changeConfirmLocale(tt.locale&&tt.locale.Modal),nt}return _createClass$2(et,[{key:"componentDidMount",value:function(){changeConfirmLocale(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(nt){var at=this.props.locale;nt.locale!==at&&changeConfirmLocale(at&&at.Modal)}},{key:"componentWillUnmount",value:function(){changeConfirmLocale()}},{key:"render",value:function(){var nt=this.props,at=nt.locale,ot=nt.children,it=this.getMemoizedContextValue(at);return react.exports.createElement(LocaleContext$1.Provider,{value:it},ot)}}]),et}(react.exports.Component);LocaleProvider.defaultProps={locale:{}};var LocaleReceiver=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){return _classCallCheck$2(this,et),_e.apply(this,arguments)}return _createClass$2(et,[{key:"getLocale",value:function(){var nt=this.props,at=nt.componentName,ot=nt.defaultLocale,it=ot||defaultLocale[at!=null?at:"global"],st=this.context,ut=at&&st?st[at]:{};return _extends$2(_extends$2({},it instanceof Function?it():it),ut||{})}},{key:"getLocaleCode",value:function(){var nt=this.context,at=nt&&nt.locale;return nt&&nt.exist&&!at?defaultLocale.locale:at}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),et}(react.exports.Component);LocaleReceiver.defaultProps={componentName:"global"};LocaleReceiver.contextType=LocaleContext$1;function useLocaleReceiver($,_e){var et=react.exports.useContext(LocaleContext$1),tt=react.exports.useMemo(function(){var nt=_e||defaultLocale[$||"global"],at=$&&et?et[$]:{};return _extends$2(_extends$2({},typeof nt=="function"?nt():nt),at||{})},[$,_e,et]);return[tt]}var CheckCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},CheckCircleFilledSvg=CheckCircleFilled$2;function bound01($,_e){isOnePointZero($)&&($="100%");var et=isPercentage($);return $=_e===360?$:Math.min(_e,Math.max(0,parseFloat($))),et&&($=parseInt(String($*_e),10)/100),Math.abs($-_e)<1e-6?1:(_e===360?$=($<0?$%_e+_e:$%_e)/parseFloat(String(_e)):$=$%_e/parseFloat(String(_e)),$)}function clamp01($){return Math.min(1,Math.max(0,$))}function isOnePointZero($){return typeof $=="string"&&$.indexOf(".")!==-1&&parseFloat($)===1}function isPercentage($){return typeof $=="string"&&$.indexOf("%")!==-1}function boundAlpha($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function convertToPercentage($){return $<=1?"".concat(Number($)*100,"%"):$}function pad2($){return $.length===1?"0"+$:String($)}function rgbToRgb($,_e,et){return{r:bound01($,255)*255,g:bound01(_e,255)*255,b:bound01(et,255)*255}}function rgbToHsl($,_e,et){$=bound01($,255),_e=bound01(_e,255),et=bound01(et,255);var tt=Math.max($,_e,et),nt=Math.min($,_e,et),at=0,ot=0,it=(tt+nt)/2;if(tt===nt)ot=0,at=0;else{var st=tt-nt;switch(ot=it>.5?st/(2-tt-nt):st/(tt+nt),tt){case $:at=(_e-et)/st+(_e<et?6:0);break;case _e:at=(et-$)/st+2;break;case et:at=($-_e)/st+4;break}at/=6}return{h:at,s:ot,l:it}}function hue2rgb($,_e,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?$+(_e-$)*(6*et):et<1/2?_e:et<2/3?$+(_e-$)*(2/3-et)*6:$}function hslToRgb($,_e,et){var tt,nt,at;if($=bound01($,360),_e=bound01(_e,100),et=bound01(et,100),_e===0)nt=et,at=et,tt=et;else{var ot=et<.5?et*(1+_e):et+_e-et*_e,it=2*et-ot;tt=hue2rgb(it,ot,$+1/3),nt=hue2rgb(it,ot,$),at=hue2rgb(it,ot,$-1/3)}return{r:tt*255,g:nt*255,b:at*255}}function rgbToHsv($,_e,et){$=bound01($,255),_e=bound01(_e,255),et=bound01(et,255);var tt=Math.max($,_e,et),nt=Math.min($,_e,et),at=0,ot=tt,it=tt-nt,st=tt===0?0:it/tt;if(tt===nt)at=0;else{switch(tt){case $:at=(_e-et)/it+(_e<et?6:0);break;case _e:at=(et-$)/it+2;break;case et:at=($-_e)/it+4;break}at/=6}return{h:at,s:st,v:ot}}function hsvToRgb($,_e,et){$=bound01($,360)*6,_e=bound01(_e,100),et=bound01(et,100);var tt=Math.floor($),nt=$-tt,at=et*(1-_e),ot=et*(1-nt*_e),it=et*(1-(1-nt)*_e),st=tt%6,ut=[et,ot,at,at,it,et][st],ft=[it,et,et,ot,at,at][st],dt=[at,at,it,et,et,ot][st];return{r:ut*255,g:ft*255,b:dt*255}}function rgbToHex($,_e,et,tt){var nt=[pad2(Math.round($).toString(16)),pad2(Math.round(_e).toString(16)),pad2(Math.round(et).toString(16))];return tt&&nt[0].startsWith(nt[0].charAt(1))&&nt[1].startsWith(nt[1].charAt(1))&&nt[2].startsWith(nt[2].charAt(1))?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0):nt.join("")}function rgbaToHex($,_e,et,tt,nt){var at=[pad2(Math.round($).toString(16)),pad2(Math.round(_e).toString(16)),pad2(Math.round(et).toString(16)),pad2(convertDecimalToHex(tt))];return nt&&at[0].startsWith(at[0].charAt(1))&&at[1].startsWith(at[1].charAt(1))&&at[2].startsWith(at[2].charAt(1))&&at[3].startsWith(at[3].charAt(1))?at[0].charAt(0)+at[1].charAt(0)+at[2].charAt(0)+at[3].charAt(0):at.join("")}function convertDecimalToHex($){return Math.round(parseFloat($)*255).toString(16)}function convertHexToDecimal($){return parseIntFromHex($)/255}function parseIntFromHex($){return parseInt($,16)}function numberInputToObject($){return{r:$>>16,g:($&65280)>>8,b:$&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB($){var _e={r:0,g:0,b:0},et=1,tt=null,nt=null,at=null,ot=!1,it=!1;return typeof $=="string"&&($=stringInputToObject($)),typeof $=="object"&&(isValidCSSUnit($.r)&&isValidCSSUnit($.g)&&isValidCSSUnit($.b)?(_e=rgbToRgb($.r,$.g,$.b),ot=!0,it=String($.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit($.h)&&isValidCSSUnit($.s)&&isValidCSSUnit($.v)?(tt=convertToPercentage($.s),nt=convertToPercentage($.v),_e=hsvToRgb($.h,tt,nt),ot=!0,it="hsv"):isValidCSSUnit($.h)&&isValidCSSUnit($.s)&&isValidCSSUnit($.l)&&(tt=convertToPercentage($.s),at=convertToPercentage($.l),_e=hslToRgb($.h,tt,at),ot=!0,it="hsl"),Object.prototype.hasOwnProperty.call($,"a")&&(et=$.a)),et=boundAlpha(et),{ok:ot,format:$.format||it,r:Math.min(255,Math.max(_e.r,0)),g:Math.min(255,Math.max(_e.g,0)),b:Math.min(255,Math.max(_e.b,0)),a:et}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject($){if($=$.trim().toLowerCase(),$.length===0)return!1;var _e=!1;if(names[$])$=names[$],_e=!0;else if($==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var et=matchers.rgb.exec($);return et?{r:et[1],g:et[2],b:et[3]}:(et=matchers.rgba.exec($),et?{r:et[1],g:et[2],b:et[3],a:et[4]}:(et=matchers.hsl.exec($),et?{h:et[1],s:et[2],l:et[3]}:(et=matchers.hsla.exec($),et?{h:et[1],s:et[2],l:et[3],a:et[4]}:(et=matchers.hsv.exec($),et?{h:et[1],s:et[2],v:et[3]}:(et=matchers.hsva.exec($),et?{h:et[1],s:et[2],v:et[3],a:et[4]}:(et=matchers.hex8.exec($),et?{r:parseIntFromHex(et[1]),g:parseIntFromHex(et[2]),b:parseIntFromHex(et[3]),a:convertHexToDecimal(et[4]),format:_e?"name":"hex8"}:(et=matchers.hex6.exec($),et?{r:parseIntFromHex(et[1]),g:parseIntFromHex(et[2]),b:parseIntFromHex(et[3]),format:_e?"name":"hex"}:(et=matchers.hex4.exec($),et?{r:parseIntFromHex(et[1]+et[1]),g:parseIntFromHex(et[2]+et[2]),b:parseIntFromHex(et[3]+et[3]),a:convertHexToDecimal(et[4]+et[4]),format:_e?"name":"hex8"}:(et=matchers.hex3.exec($),et?{r:parseIntFromHex(et[1]+et[1]),g:parseIntFromHex(et[2]+et[2]),b:parseIntFromHex(et[3]+et[3]),format:_e?"name":"hex"}:!1)))))))))}function isValidCSSUnit($){return Boolean(matchers.CSS_UNIT.exec(String($)))}var TinyColor=function(){function $(_e,et){_e===void 0&&(_e=""),et===void 0&&(et={});var tt;if(_e instanceof $)return _e;typeof _e=="number"&&(_e=numberInputToObject(_e)),this.originalInput=_e;var nt=inputToRGB(_e);this.originalInput=_e,this.r=nt.r,this.g=nt.g,this.b=nt.b,this.a=nt.a,this.roundA=Math.round(100*this.a)/100,this.format=(tt=et.format)!==null&&tt!==void 0?tt:nt.format,this.gradientType=et.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=nt.ok}return $.prototype.isDark=function(){return this.getBrightness()<128},$.prototype.isLight=function(){return!this.isDark()},$.prototype.getBrightness=function(){var _e=this.toRgb();return(_e.r*299+_e.g*587+_e.b*114)/1e3},$.prototype.getLuminance=function(){var _e=this.toRgb(),et,tt,nt,at=_e.r/255,ot=_e.g/255,it=_e.b/255;return at<=.03928?et=at/12.92:et=Math.pow((at+.055)/1.055,2.4),ot<=.03928?tt=ot/12.92:tt=Math.pow((ot+.055)/1.055,2.4),it<=.03928?nt=it/12.92:nt=Math.pow((it+.055)/1.055,2.4),.2126*et+.7152*tt+.0722*nt},$.prototype.getAlpha=function(){return this.a},$.prototype.setAlpha=function(_e){return this.a=boundAlpha(_e),this.roundA=Math.round(100*this.a)/100,this},$.prototype.toHsv=function(){var _e=rgbToHsv(this.r,this.g,this.b);return{h:_e.h*360,s:_e.s,v:_e.v,a:this.a}},$.prototype.toHsvString=function(){var _e=rgbToHsv(this.r,this.g,this.b),et=Math.round(_e.h*360),tt=Math.round(_e.s*100),nt=Math.round(_e.v*100);return this.a===1?"hsv(".concat(et,", ").concat(tt,"%, ").concat(nt,"%)"):"hsva(".concat(et,", ").concat(tt,"%, ").concat(nt,"%, ").concat(this.roundA,")")},$.prototype.toHsl=function(){var _e=rgbToHsl(this.r,this.g,this.b);return{h:_e.h*360,s:_e.s,l:_e.l,a:this.a}},$.prototype.toHslString=function(){var _e=rgbToHsl(this.r,this.g,this.b),et=Math.round(_e.h*360),tt=Math.round(_e.s*100),nt=Math.round(_e.l*100);return this.a===1?"hsl(".concat(et,", ").concat(tt,"%, ").concat(nt,"%)"):"hsla(".concat(et,", ").concat(tt,"%, ").concat(nt,"%, ").concat(this.roundA,")")},$.prototype.toHex=function(_e){return _e===void 0&&(_e=!1),rgbToHex(this.r,this.g,this.b,_e)},$.prototype.toHexString=function(_e){return _e===void 0&&(_e=!1),"#"+this.toHex(_e)},$.prototype.toHex8=function(_e){return _e===void 0&&(_e=!1),rgbaToHex(this.r,this.g,this.b,this.a,_e)},$.prototype.toHex8String=function(_e){return _e===void 0&&(_e=!1),"#"+this.toHex8(_e)},$.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},$.prototype.toRgbString=function(){var _e=Math.round(this.r),et=Math.round(this.g),tt=Math.round(this.b);return this.a===1?"rgb(".concat(_e,", ").concat(et,", ").concat(tt,")"):"rgba(".concat(_e,", ").concat(et,", ").concat(tt,", ").concat(this.roundA,")")},$.prototype.toPercentageRgb=function(){var _e=function(et){return"".concat(Math.round(bound01(et,255)*100),"%")};return{r:_e(this.r),g:_e(this.g),b:_e(this.b),a:this.a}},$.prototype.toPercentageRgbString=function(){var _e=function(et){return Math.round(bound01(et,255)*100)};return this.a===1?"rgb(".concat(_e(this.r),"%, ").concat(_e(this.g),"%, ").concat(_e(this.b),"%)"):"rgba(".concat(_e(this.r),"%, ").concat(_e(this.g),"%, ").concat(_e(this.b),"%, ").concat(this.roundA,")")},$.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var _e="#"+rgbToHex(this.r,this.g,this.b,!1),et=0,tt=Object.entries(names);et<tt.length;et++){var nt=tt[et],at=nt[0],ot=nt[1];if(_e===ot)return at}return!1},$.prototype.toString=function(_e){var et=Boolean(_e);_e=_e!=null?_e:this.format;var tt=!1,nt=this.a<1&&this.a>=0,at=!et&&nt&&(_e.startsWith("hex")||_e==="name");return at?_e==="name"&&this.a===0?this.toName():this.toRgbString():(_e==="rgb"&&(tt=this.toRgbString()),_e==="prgb"&&(tt=this.toPercentageRgbString()),(_e==="hex"||_e==="hex6")&&(tt=this.toHexString()),_e==="hex3"&&(tt=this.toHexString(!0)),_e==="hex4"&&(tt=this.toHex8String(!0)),_e==="hex8"&&(tt=this.toHex8String()),_e==="name"&&(tt=this.toName()),_e==="hsl"&&(tt=this.toHslString()),_e==="hsv"&&(tt=this.toHsvString()),tt||this.toHexString())},$.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},$.prototype.clone=function(){return new $(this.toString())},$.prototype.lighten=function(_e){_e===void 0&&(_e=10);var et=this.toHsl();return et.l+=_e/100,et.l=clamp01(et.l),new $(et)},$.prototype.brighten=function(_e){_e===void 0&&(_e=10);var et=this.toRgb();return et.r=Math.max(0,Math.min(255,et.r-Math.round(255*-(_e/100)))),et.g=Math.max(0,Math.min(255,et.g-Math.round(255*-(_e/100)))),et.b=Math.max(0,Math.min(255,et.b-Math.round(255*-(_e/100)))),new $(et)},$.prototype.darken=function(_e){_e===void 0&&(_e=10);var et=this.toHsl();return et.l-=_e/100,et.l=clamp01(et.l),new $(et)},$.prototype.tint=function(_e){return _e===void 0&&(_e=10),this.mix("white",_e)},$.prototype.shade=function(_e){return _e===void 0&&(_e=10),this.mix("black",_e)},$.prototype.desaturate=function(_e){_e===void 0&&(_e=10);var et=this.toHsl();return et.s-=_e/100,et.s=clamp01(et.s),new $(et)},$.prototype.saturate=function(_e){_e===void 0&&(_e=10);var et=this.toHsl();return et.s+=_e/100,et.s=clamp01(et.s),new $(et)},$.prototype.greyscale=function(){return this.desaturate(100)},$.prototype.spin=function(_e){var et=this.toHsl(),tt=(et.h+_e)%360;return et.h=tt<0?360+tt:tt,new $(et)},$.prototype.mix=function(_e,et){et===void 0&&(et=50);var tt=this.toRgb(),nt=new $(_e).toRgb(),at=et/100,ot={r:(nt.r-tt.r)*at+tt.r,g:(nt.g-tt.g)*at+tt.g,b:(nt.b-tt.b)*at+tt.b,a:(nt.a-tt.a)*at+tt.a};return new $(ot)},$.prototype.analogous=function(_e,et){_e===void 0&&(_e=6),et===void 0&&(et=30);var tt=this.toHsl(),nt=360/et,at=[this];for(tt.h=(tt.h-(nt*_e>>1)+720)%360;--_e;)tt.h=(tt.h+nt)%360,at.push(new $(tt));return at},$.prototype.complement=function(){var _e=this.toHsl();return _e.h=(_e.h+180)%360,new $(_e)},$.prototype.monochromatic=function(_e){_e===void 0&&(_e=6);for(var et=this.toHsv(),tt=et.h,nt=et.s,at=et.v,ot=[],it=1/_e;_e--;)ot.push(new $({h:tt,s:nt,v:at})),at=(at+it)%1;return ot},$.prototype.splitcomplement=function(){var _e=this.toHsl(),et=_e.h;return[this,new $({h:(et+72)%360,s:_e.s,l:_e.l}),new $({h:(et+216)%360,s:_e.s,l:_e.l})]},$.prototype.onBackground=function(_e){var et=this.toRgb(),tt=new $(_e).toRgb();return new $({r:tt.r+(et.r-tt.r)*et.a,g:tt.g+(et.g-tt.g)*et.a,b:tt.b+(et.b-tt.b)*et.a})},$.prototype.triad=function(){return this.polyad(3)},$.prototype.tetrad=function(){return this.polyad(4)},$.prototype.polyad=function(_e){for(var et=this.toHsl(),tt=et.h,nt=[this],at=360/_e,ot=1;ot<_e;ot++)nt.push(new $({h:(tt+ot*at)%360,s:et.s,l:et.l}));return nt},$.prototype.equals=function(_e){return this.toRgbString()===new $(_e).toRgbString()},$}(),hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv($){var _e=$.r,et=$.g,tt=$.b,nt=rgbToHsv(_e,et,tt);return{h:nt.h*360,s:nt.s,v:nt.v}}function toHex($){var _e=$.r,et=$.g,tt=$.b;return"#".concat(rgbToHex(_e,et,tt,!1))}function mix$1($,_e,et){var tt=et/100,nt={r:(_e.r-$.r)*tt+$.r,g:(_e.g-$.g)*tt+$.g,b:(_e.b-$.b)*tt+$.b};return nt}function getHue($,_e,et){var tt;return Math.round($.h)>=60&&Math.round($.h)<=240?tt=et?Math.round($.h)-hueStep*_e:Math.round($.h)+hueStep*_e:tt=et?Math.round($.h)+hueStep*_e:Math.round($.h)-hueStep*_e,tt<0?tt+=360:tt>=360&&(tt-=360),tt}function getSaturation($,_e,et){if($.h===0&&$.s===0)return $.s;var tt;return et?tt=$.s-saturationStep*_e:_e===darkColorCount?tt=$.s+saturationStep:tt=$.s+saturationStep2*_e,tt>1&&(tt=1),et&&_e===lightColorCount&&tt>.1&&(tt=.1),tt<.06&&(tt=.06),Number(tt.toFixed(2))}function getValue$2($,_e,et){var tt;return et?tt=$.v+brightnessStep1*_e:tt=$.v-brightnessStep2*_e,tt>1&&(tt=1),Number(tt.toFixed(2))}function generate$1($){for(var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=[],tt=inputToRGB($),nt=lightColorCount;nt>0;nt-=1){var at=toHsv(tt),ot=toHex(inputToRGB({h:getHue(at,nt,!0),s:getSaturation(at,nt,!0),v:getValue$2(at,nt,!0)}));et.push(ot)}et.push(toHex(tt));for(var it=1;it<=darkColorCount;it+=1){var st=toHsv(tt),ut=toHex(inputToRGB({h:getHue(st,it),s:getSaturation(st,it),v:getValue$2(st,it)}));et.push(ut)}return _e.theme==="dark"?darkColorMap.map(function(ft){var dt=ft.index,vt=ft.opacity,gt=toHex(mix$1(inputToRGB(_e.backgroundColor||"#141414"),inputToRGB(et[dt]),vt*100));return gt}):et}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function($){presetPalettes[$]=generate$1(presetPrimaryColors[$]),presetPalettes[$].primary=presetPalettes[$][5],presetDarkPalettes[$]=generate$1(presetPrimaryColors[$],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[$].primary=presetDarkPalettes[$][5]});function canUseDom(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var MARK_KEY="rc-util-key";function getMark(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=$.mark;return _e?_e.startsWith("data-")?_e:"data-".concat(_e):MARK_KEY}function getContainer$1($){if($.attachTo)return $.attachTo;var _e=document.querySelector("head");return _e||document.body}function injectCSS($){var _e,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var tt=document.createElement("style");if(!((_e=et.csp)===null||_e===void 0)&&_e.nonce){var nt;tt.nonce=(nt=et.csp)===null||nt===void 0?void 0:nt.nonce}tt.innerHTML=$;var at=getContainer$1(et),ot=at.firstChild;return et.prepend&&at.prepend?at.prepend(tt):et.prepend&&ot?at.insertBefore(tt,ot):at.appendChild(tt),tt}var containerCache=new Map;function findExistNode($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=getContainer$1(_e);return Array.from(containerCache.get(et).children).find(function(tt){return tt.tagName==="STYLE"&&tt.getAttribute(getMark(_e))===$})}function updateCSS($,_e){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=getContainer$1(et);if(!containerCache.has(tt)){var nt=injectCSS("",et),at=nt.parentNode;containerCache.set(tt,at),at.removeChild(nt)}var ot=findExistNode(_e,et);if(ot){var it,st;if(((it=et.csp)===null||it===void 0?void 0:it.nonce)&&ot.nonce!==((st=et.csp)===null||st===void 0?void 0:st.nonce)){var ut;ot.nonce=(ut=et.csp)===null||ut===void 0?void 0:ut.nonce}return ot.innerHTML!==$&&(ot.innerHTML=$),ot}var ft=injectCSS($,et);return ft.setAttribute(getMark(et),_e),ft}function warning($,_e){warningOnce($,"[@ant-design/icons] ".concat(_e))}function isIconDefinition($){return _typeof$4($)==="object"&&typeof $.name=="string"&&typeof $.theme=="string"&&(_typeof$4($.icon)==="object"||typeof $.icon=="function")}function normalizeAttrs(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys($).reduce(function(_e,et){var tt=$[et];switch(et){case"class":_e.className=tt,delete _e.class;break;default:_e[et]=tt}return _e},{})}function generate($,_e,et){return et?React.createElement($.tag,_objectSpread2$1(_objectSpread2$1({key:_e},normalizeAttrs($.attrs)),et),($.children||[]).map(function(tt,nt){return generate(tt,"".concat(_e,"-").concat($.tag,"-").concat(nt))})):React.createElement($.tag,_objectSpread2$1({key:_e},normalizeAttrs($.attrs)),($.children||[]).map(function(tt,nt){return generate(tt,"".concat(_e,"-").concat($.tag,"-").concat(nt))}))}function getSecondaryColor($){return generate$1($)[0]}function normalizeTwoToneColors($){return $?Array.isArray($)?$:[$]:[]}var iconStyles=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,useInsertStyles=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iconStyles,et=react.exports.useContext(Context$1),tt=et.csp;react.exports.useEffect(function(){updateCSS(_e,"@ant-design-icons",{prepend:!0,csp:tt})},[])},_excluded$y=["icon","className","onClick","style","primaryColor","secondaryColor"],twoToneColorPalette={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function setTwoToneColors($){var _e=$.primaryColor,et=$.secondaryColor;twoToneColorPalette.primaryColor=_e,twoToneColorPalette.secondaryColor=et||getSecondaryColor(_e),twoToneColorPalette.calculated=!!et}function getTwoToneColors(){return _objectSpread2$1({},twoToneColorPalette)}var IconBase=function(_e){var et=_e.icon,tt=_e.className,nt=_e.onClick,at=_e.style,ot=_e.primaryColor,it=_e.secondaryColor,st=_objectWithoutProperties$1(_e,_excluded$y),ut=twoToneColorPalette;if(ot&&(ut={primaryColor:ot,secondaryColor:it||getSecondaryColor(ot)}),useInsertStyles(),warning(isIconDefinition(et),"icon should be icon definiton, but got ".concat(et)),!isIconDefinition(et))return null;var ft=et;return ft&&typeof ft.icon=="function"&&(ft=_objectSpread2$1(_objectSpread2$1({},ft),{},{icon:ft.icon(ut.primaryColor,ut.secondaryColor)})),generate(ft.icon,"svg-".concat(ft.name),_objectSpread2$1({className:tt,onClick:nt,style:at,"data-icon":ft.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},st))};IconBase.displayName="IconReact";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;var ReactIcon=IconBase;function setTwoToneColor($){var _e=normalizeTwoToneColors($),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1];return ReactIcon.setTwoToneColors({primaryColor:tt,secondaryColor:nt})}function getTwoToneColor(){var $=ReactIcon.getTwoToneColors();return $.calculated?[$.primaryColor,$.secondaryColor]:$.primaryColor}var _excluded$x=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];setTwoToneColor("#1890ff");var Icon$1=react.exports.forwardRef(function($,_e){var et,tt=$.className,nt=$.icon,at=$.spin,ot=$.rotate,it=$.tabIndex,st=$.onClick,ut=$.twoToneColor,ft=_objectWithoutProperties$1($,_excluded$x),dt=react.exports.useContext(Context$1),vt=dt.prefixCls,gt=vt===void 0?"anticon":vt,yt=classNames(gt,(et={},_defineProperty$4(et,"".concat(gt,"-").concat(nt.name),!!nt.name),_defineProperty$4(et,"".concat(gt,"-spin"),!!at||nt.name==="loading"),et),tt),xt=it;xt===void 0&&st&&(xt=-1);var Ct=ot?{msTransform:"rotate(".concat(ot,"deg)"),transform:"rotate(".concat(ot,"deg)")}:void 0,wt=normalizeTwoToneColors(ut),Et=_slicedToArray$3(wt,2),$t=Et[0],It=Et[1];return react.exports.createElement("span",_objectSpread2$1(_objectSpread2$1({role:"img","aria-label":nt.name},ft),{},{ref:_e,tabIndex:xt,onClick:st,className:yt}),react.exports.createElement(ReactIcon,{icon:nt,primaryColor:$t,secondaryColor:It,style:Ct}))});Icon$1.displayName="AntdIcon";Icon$1.getTwoToneColor=getTwoToneColor;Icon$1.setTwoToneColor=setTwoToneColor;var AntdIcon=Icon$1,CheckCircleFilled=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CheckCircleFilledSvg}))};CheckCircleFilled.displayName="CheckCircleFilled";var CheckCircleFilled$1=react.exports.forwardRef(CheckCircleFilled),CloseCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},CloseCircleFilledSvg=CloseCircleFilled$2,CloseCircleFilled=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CloseCircleFilledSvg}))};CloseCircleFilled.displayName="CloseCircleFilled";var CloseCircleFilled$1=react.exports.forwardRef(CloseCircleFilled),ExclamationCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},ExclamationCircleFilledSvg=ExclamationCircleFilled$2,ExclamationCircleFilled=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:ExclamationCircleFilledSvg}))};ExclamationCircleFilled.displayName="ExclamationCircleFilled";var ExclamationCircleFilled$1=react.exports.forwardRef(ExclamationCircleFilled),InfoCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},InfoCircleFilledSvg=InfoCircleFilled$2,InfoCircleFilled=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:InfoCircleFilledSvg}))};InfoCircleFilled.displayName="InfoCircleFilled";var InfoCircleFilled$1=react.exports.forwardRef(InfoCircleFilled),LoadingOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},LoadingOutlinedSvg=LoadingOutlined$2,LoadingOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:LoadingOutlinedSvg}))};LoadingOutlined.displayName="LoadingOutlined";var LoadingOutlined$1=react.exports.forwardRef(LoadingOutlined),fullClone=_objectSpread2$1({},ReactDOM$1),version=fullClone.version,reactRender=fullClone.render,unmountComponentAtNode=fullClone.unmountComponentAtNode,createRoot$1;try{var mainVersion=Number((version||"").split(".")[0]);mainVersion>=18&&(createRoot$1=fullClone.createRoot)}catch{}function toggleWarning($){var _e=fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_e&&_typeof$4(_e)==="object"&&(_e.usingClientEntryPoint=$)}var MARK="__rc_react_root__";function modernRender($,_e){toggleWarning(!0);var et=_e[MARK]||createRoot$1(_e);toggleWarning(!1),et.render($),_e[MARK]=et}function legacyRender($,_e){reactRender($,_e)}function render$1($,_e){if(createRoot$1){modernRender($,_e);return}legacyRender($,_e)}function modernUnmount($){return _modernUnmount.apply(this,arguments)}function _modernUnmount(){return _modernUnmount=_asyncToGenerator(_regeneratorRuntime().mark(function $(_e){return _regeneratorRuntime().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",Promise.resolve().then(function(){var nt;(nt=_e[MARK])===null||nt===void 0||nt.unmount(),delete _e[MARK]}));case 1:case"end":return tt.stop()}},$)})),_modernUnmount.apply(this,arguments)}function legacyUnmount($){unmountComponentAtNode($)}function unmount($){return _unmount.apply(this,arguments)}function _unmount(){return _unmount=_asyncToGenerator(_regeneratorRuntime().mark(function $(_e){return _regeneratorRuntime().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(createRoot$1===void 0){tt.next=2;break}return tt.abrupt("return",modernUnmount(_e));case 2:legacyUnmount(_e);case 3:case"end":return tt.stop()}},$)})),_unmount.apply(this,arguments)}function makePrefixMap($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit".concat($)]="webkit".concat(_e),et["Moz".concat($)]="moz".concat(_e),et["ms".concat($)]="MS".concat(_e),et["O".concat($)]="o".concat(_e.toLowerCase()),et}function getVendorPrefixes($,_e){var et={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return $&&("AnimationEvent"in _e||delete et.animationend.animation,"TransitionEvent"in _e||delete et.transitionend.transition),et}var vendorPrefixes=getVendorPrefixes(canUseDom(),typeof window!="undefined"?window:{}),style={};if(canUseDom()){var _document$createEleme=document.createElement("div");style=_document$createEleme.style}var prefixedEventNames={};function getVendorPrefixedEventName($){if(prefixedEventNames[$])return prefixedEventNames[$];var _e=vendorPrefixes[$];if(_e)for(var et=Object.keys(_e),tt=et.length,nt=0;nt<tt;nt+=1){var at=et[nt];if(Object.prototype.hasOwnProperty.call(_e,at)&&at in style)return prefixedEventNames[$]=_e[at],prefixedEventNames[$]}return""}var internalAnimationEndName=getVendorPrefixedEventName("animationend"),internalTransitionEndName=getVendorPrefixedEventName("transitionend"),supportTransition=!!(internalAnimationEndName&&internalTransitionEndName),animationEndName=internalAnimationEndName||"animationend",transitionEndName=internalTransitionEndName||"transitionend";function getTransitionName$2($,_e){if(!$)return null;if(_typeof$4($)==="object"){var et=_e.replace(/-\w/g,function(tt){return tt[1].toUpperCase()});return $[et]}return"".concat($,"-").concat(_e)}var STATUS_NONE="none",STATUS_APPEAR="appear",STATUS_ENTER="enter",STATUS_LEAVE="leave",STEP_NONE="none",STEP_PREPARE="prepare",STEP_START="start",STEP_ACTIVE="active",STEP_ACTIVATED="end";function useSafeState($){var _e=react.exports.useRef(!1),et=react.exports.useState($),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1];react.exports.useEffect(function(){return _e.current=!1,function(){_e.current=!0}},[]);function ot(it,st){st&&_e.current||at(it)}return[nt,ot]}var raf=function(_e){return+setTimeout(_e,16)},caf=function(_e){return clearTimeout(_e)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(raf=function(_e){return window.requestAnimationFrame(_e)},caf=function(_e){return window.cancelAnimationFrame(_e)});var rafUUID=0,rafIds=new Map;function cleanup($){rafIds.delete($)}function wrapperRaf$1($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rafUUID+=1;var et=rafUUID;function tt(nt){if(nt===0)cleanup(et),$();else{var at=raf(function(){tt(nt-1)});rafIds.set(et,at)}}return tt(_e),et}wrapperRaf$1.cancel=function($){var _e=rafIds.get($);return cleanup(_e),caf(_e)};var useNextFrame=function(){var $=react.exports.useRef(null);function _e(){wrapperRaf$1.cancel($.current)}function et(tt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;_e();var at=wrapperRaf$1(function(){nt<=1?tt({isCanceled:function(){return at!==$.current}}):et(tt,nt-1)});$.current=at}return react.exports.useEffect(function(){return function(){_e()}},[]),[et,_e]},useIsomorphicLayoutEffect$1=canUseDom()?react.exports.useLayoutEffect:react.exports.useEffect,STEP_QUEUE=[STEP_PREPARE,STEP_START,STEP_ACTIVE,STEP_ACTIVATED],SkipStep=!1,DoStep=!0;function isActive($){return $===STEP_ACTIVE||$===STEP_ACTIVATED}var useStepQueue=function($,_e){var et=useSafeState(STEP_NONE),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1],ot=useNextFrame(),it=_slicedToArray$3(ot,2),st=it[0],ut=it[1];function ft(){at(STEP_PREPARE,!0)}return useIsomorphicLayoutEffect$1(function(){if(nt!==STEP_NONE&&nt!==STEP_ACTIVATED){var dt=STEP_QUEUE.indexOf(nt),vt=STEP_QUEUE[dt+1],gt=_e(nt);gt===SkipStep?at(vt,!0):st(function(yt){function xt(){yt.isCanceled()||at(vt,!0)}gt===!0?xt():Promise.resolve(gt).then(xt)})}},[$,nt]),react.exports.useEffect(function(){return function(){ut()}},[]),[ft,nt]},useDomMotionEvents=function($){var _e=react.exports.useRef(),et=react.exports.useRef($);et.current=$;var tt=react.exports.useCallback(function(ot){et.current(ot)},[]);function nt(ot){ot&&(ot.removeEventListener(transitionEndName,tt),ot.removeEventListener(animationEndName,tt))}function at(ot){_e.current&&_e.current!==ot&&nt(_e.current),ot&&ot!==_e.current&&(ot.addEventListener(transitionEndName,tt),ot.addEventListener(animationEndName,tt),_e.current=ot)}return react.exports.useEffect(function(){return function(){nt(_e.current)}},[]),[at,nt]};function useStatus($,_e,et,tt){var nt=tt.motionEnter,at=nt===void 0?!0:nt,ot=tt.motionAppear,it=ot===void 0?!0:ot,st=tt.motionLeave,ut=st===void 0?!0:st,ft=tt.motionDeadline,dt=tt.motionLeaveImmediately,vt=tt.onAppearPrepare,gt=tt.onEnterPrepare,yt=tt.onLeavePrepare,xt=tt.onAppearStart,Ct=tt.onEnterStart,wt=tt.onLeaveStart,Et=tt.onAppearActive,$t=tt.onEnterActive,It=tt.onLeaveActive,Ot=tt.onAppearEnd,Lt=tt.onEnterEnd,Ft=tt.onLeaveEnd,zt=tt.onVisibleChanged,Gt=useSafeState(),jt=_slicedToArray$3(Gt,2),Ut=jt[0],Kt=jt[1],Zt=useSafeState(STATUS_NONE),Qt=_slicedToArray$3(Zt,2),rr=Qt[0],nr=Qt[1],dr=useSafeState(null),sr=_slicedToArray$3(dr,2),fr=sr[0],yr=sr[1],Pr=react.exports.useRef(!1),wr=react.exports.useRef(null);function Mr(){return et()}var Lr=react.exports.useRef(!1);function Br(Rn){var Mn=Mr();if(!(Rn&&!Rn.deadline&&Rn.target!==Mn)){var Fn=Lr.current,Xr;rr===STATUS_APPEAR&&Fn?Xr=Ot==null?void 0:Ot(Mn,Rn):rr===STATUS_ENTER&&Fn?Xr=Lt==null?void 0:Lt(Mn,Rn):rr===STATUS_LEAVE&&Fn&&(Xr=Ft==null?void 0:Ft(Mn,Rn)),rr!==STATUS_NONE&&Fn&&Xr!==!1&&(nr(STATUS_NONE,!0),yr(null,!0))}}var qr=useDomMotionEvents(Br),Qr=_slicedToArray$3(qr,1),Jr=Qr[0],sn=react.exports.useMemo(function(){var Rn,Mn,Fn;switch(rr){case STATUS_APPEAR:return Rn={},_defineProperty$4(Rn,STEP_PREPARE,vt),_defineProperty$4(Rn,STEP_START,xt),_defineProperty$4(Rn,STEP_ACTIVE,Et),Rn;case STATUS_ENTER:return Mn={},_defineProperty$4(Mn,STEP_PREPARE,gt),_defineProperty$4(Mn,STEP_START,Ct),_defineProperty$4(Mn,STEP_ACTIVE,$t),Mn;case STATUS_LEAVE:return Fn={},_defineProperty$4(Fn,STEP_PREPARE,yt),_defineProperty$4(Fn,STEP_START,wt),_defineProperty$4(Fn,STEP_ACTIVE,It),Fn;default:return{}}},[rr]),yn=useStepQueue(rr,function(Rn){if(Rn===STEP_PREPARE){var Mn=sn[STEP_PREPARE];return Mn?Mn(Mr()):SkipStep}if(Sn in sn){var Fn;yr(((Fn=sn[Sn])===null||Fn===void 0?void 0:Fn.call(sn,Mr(),null))||null)}return Sn===STEP_ACTIVE&&(Jr(Mr()),ft>0&&(clearTimeout(wr.current),wr.current=setTimeout(function(){Br({deadline:!0})},ft))),DoStep}),pn=_slicedToArray$3(yn,2),ln=pn[0],Sn=pn[1],cn=isActive(Sn);Lr.current=cn,useIsomorphicLayoutEffect$1(function(){Kt(_e);var Rn=Pr.current;if(Pr.current=!0,!!$){var Mn;!Rn&&_e&&it&&(Mn=STATUS_APPEAR),Rn&&_e&&at&&(Mn=STATUS_ENTER),(Rn&&!_e&&ut||!Rn&&dt&&!_e&&ut)&&(Mn=STATUS_LEAVE),Mn&&(nr(Mn),ln())}},[_e]),react.exports.useEffect(function(){(rr===STATUS_APPEAR&&!it||rr===STATUS_ENTER&&!at||rr===STATUS_LEAVE&&!ut)&&nr(STATUS_NONE)},[it,at,ut]),react.exports.useEffect(function(){return function(){Pr.current=!1,clearTimeout(wr.current)}},[]);var Pn=react.exports.useRef(!1);react.exports.useEffect(function(){Ut&&(Pn.current=!0),Ut!==void 0&&rr===STATUS_NONE&&((Pn.current||Ut)&&(zt==null||zt(Ut)),Pn.current=!0)},[Ut,rr]);var In=fr;return sn[STEP_PREPARE]&&Sn===STEP_START&&(In=_objectSpread2$1({transition:"none"},In)),[rr,Sn,In,Ut!=null?Ut:_e]}var DomWrapper=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){return _classCallCheck$2(this,et),_e.apply(this,arguments)}return _createClass$2(et,[{key:"render",value:function(){return this.props.children}}]),et}(react.exports.Component);function genCSSMotion($){var _e=$;_typeof$4($)==="object"&&(_e=$.transitionSupport);function et(nt){return!!(nt.motionName&&_e)}var tt=react.exports.forwardRef(function(nt,at){var ot=nt.visible,it=ot===void 0?!0:ot,st=nt.removeOnLeave,ut=st===void 0?!0:st,ft=nt.forceRender,dt=nt.children,vt=nt.motionName,gt=nt.leavedClassName,yt=nt.eventProps,xt=et(nt),Ct=react.exports.useRef(),wt=react.exports.useRef();function Et(){try{return Ct.current instanceof HTMLElement?Ct.current:findDOMNode(wt.current)}catch{return null}}var $t=useStatus(xt,it,Et,nt),It=_slicedToArray$3($t,4),Ot=It[0],Lt=It[1],Ft=It[2],zt=It[3],Gt=react.exports.useRef(zt);zt&&(Gt.current=!0);var jt=react.exports.useCallback(function(dr){Ct.current=dr,fillRef(at,dr)},[at]),Ut,Kt=_objectSpread2$1(_objectSpread2$1({},yt),{},{visible:it});if(!dt)Ut=null;else if(Ot===STATUS_NONE||!et(nt))zt?Ut=dt(_objectSpread2$1({},Kt),jt):!ut&&Gt.current?Ut=dt(_objectSpread2$1(_objectSpread2$1({},Kt),{},{className:gt}),jt):ft?Ut=dt(_objectSpread2$1(_objectSpread2$1({},Kt),{},{style:{display:"none"}}),jt):Ut=null;else{var Zt,Qt;Lt===STEP_PREPARE?Qt="prepare":isActive(Lt)?Qt="active":Lt===STEP_START&&(Qt="start"),Ut=dt(_objectSpread2$1(_objectSpread2$1({},Kt),{},{className:classNames(getTransitionName$2(vt,Ot),(Zt={},_defineProperty$4(Zt,getTransitionName$2(vt,"".concat(Ot,"-").concat(Qt)),Qt),_defineProperty$4(Zt,vt,typeof vt=="string"),Zt)),style:Ft}),jt)}if(react.exports.isValidElement(Ut)&&supportRef(Ut)){var rr=Ut,nr=rr.ref;nr||(Ut=react.exports.cloneElement(Ut,{ref:jt}))}return react.exports.createElement(DomWrapper,{ref:wt},Ut)});return tt.displayName="CSSMotion",tt}var CSSMotion=genCSSMotion(supportTransition),STATUS_ADD="add",STATUS_KEEP="keep",STATUS_REMOVE="remove",STATUS_REMOVED="removed";function wrapKeyToObject($){var _e;return $&&_typeof$4($)==="object"&&"key"in $?_e=$:_e={key:$},_objectSpread2$1(_objectSpread2$1({},_e),{},{key:String(_e.key)})}function parseKeys(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.map(wrapKeyToObject)}function diffKeys(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],et=[],tt=0,nt=_e.length,at=parseKeys($),ot=parseKeys(_e);at.forEach(function(ut){for(var ft=!1,dt=tt;dt<nt;dt+=1){var vt=ot[dt];if(vt.key===ut.key){tt<dt&&(et=et.concat(ot.slice(tt,dt).map(function(gt){return _objectSpread2$1(_objectSpread2$1({},gt),{},{status:STATUS_ADD})})),tt=dt),et.push(_objectSpread2$1(_objectSpread2$1({},vt),{},{status:STATUS_KEEP})),tt+=1,ft=!0;break}}ft||et.push(_objectSpread2$1(_objectSpread2$1({},ut),{},{status:STATUS_REMOVE}))}),tt<nt&&(et=et.concat(ot.slice(tt).map(function(ut){return _objectSpread2$1(_objectSpread2$1({},ut),{},{status:STATUS_ADD})})));var it={};et.forEach(function(ut){var ft=ut.key;it[ft]=(it[ft]||0)+1});var st=Object.keys(it).filter(function(ut){return it[ut]>1});return st.forEach(function(ut){et=et.filter(function(ft){var dt=ft.key,vt=ft.status;return dt!==ut||vt!==STATUS_REMOVE}),et.forEach(function(ft){ft.key===ut&&(ft.status=STATUS_KEEP)})}),et}var _excluded$w=["component","children","onVisibleChanged","onAllRemoved"],_excluded2$6=["status"],MOTION_PROP_NAMES=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function genCSSMotionList($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CSSMotion,et=function(tt){_inherits$1(at,tt);var nt=_createSuper$1(at);function at(){var ot;_classCallCheck$2(this,at);for(var it=arguments.length,st=new Array(it),ut=0;ut<it;ut++)st[ut]=arguments[ut];return ot=nt.call.apply(nt,[this].concat(st)),ot.state={keyEntities:[]},ot.removeKey=function(ft){var dt=ot.state.keyEntities,vt=dt.map(function(gt){return gt.key!==ft?gt:_objectSpread2$1(_objectSpread2$1({},gt),{},{status:STATUS_REMOVED})});return ot.setState({keyEntities:vt}),vt.filter(function(gt){var yt=gt.status;return yt!==STATUS_REMOVED}).length},ot}return _createClass$2(at,[{key:"render",value:function(){var it=this,st=this.state.keyEntities,ut=this.props,ft=ut.component,dt=ut.children,vt=ut.onVisibleChanged,gt=ut.onAllRemoved,yt=_objectWithoutProperties$1(ut,_excluded$w),xt=ft||react.exports.Fragment,Ct={};return MOTION_PROP_NAMES.forEach(function(wt){Ct[wt]=yt[wt],delete yt[wt]}),delete yt.keys,react.exports.createElement(xt,yt,st.map(function(wt){var Et=wt.status,$t=_objectWithoutProperties$1(wt,_excluded2$6),It=Et===STATUS_ADD||Et===STATUS_KEEP;return react.exports.createElement(_e,_extends$2({},Ct,{key:$t.key,visible:It,eventProps:$t,onVisibleChanged:function(Lt){if(vt==null||vt(Lt,{key:$t.key}),!Lt){var Ft=it.removeKey($t.key);Ft===0&&gt&&gt()}}}),dt)}))}}],[{key:"getDerivedStateFromProps",value:function(it,st){var ut=it.keys,ft=st.keyEntities,dt=parseKeys(ut),vt=diffKeys(ft,dt);return{keyEntities:vt.filter(function(gt){var yt=ft.find(function(xt){var Ct=xt.key;return gt.key===Ct});return!(yt&&yt.status===STATUS_REMOVED&&gt.status===STATUS_REMOVE)})}}}]),at}(react.exports.Component);return et.defaultProps={component:"div"},et}var CSSMotionList=genCSSMotionList(supportTransition),Notice=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;_classCallCheck$2(this,et);for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return tt=_e.call.apply(_e,[this].concat(at)),tt.closeTimer=null,tt.close=function(it){it&&it.stopPropagation(),tt.clearCloseTimer();var st=tt.props,ut=st.onClose,ft=st.noticeKey;ut&&ut(ft)},tt.startCloseTimer=function(){tt.props.duration&&(tt.closeTimer=window.setTimeout(function(){tt.close()},tt.props.duration*1e3))},tt.clearCloseTimer=function(){tt.closeTimer&&(clearTimeout(tt.closeTimer),tt.closeTimer=null)},tt}return _createClass$2(et,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(nt){(this.props.duration!==nt.duration||this.props.updateMark!==nt.updateMark||this.props.visible!==nt.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var nt=this,at=this.props,ot=at.prefixCls,it=at.className,st=at.closable,ut=at.closeIcon,ft=at.style,dt=at.onClick,vt=at.children,gt=at.holder,yt="".concat(ot,"-notice"),xt=Object.keys(this.props).reduce(function(wt,Et){return(Et.substr(0,5)==="data-"||Et.substr(0,5)==="aria-"||Et==="role")&&(wt[Et]=nt.props[Et]),wt},{}),Ct=react.exports.createElement("div",_extends$2({className:classNames(yt,it,_defineProperty$4({},"".concat(yt,"-closable"),st)),style:ft,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:dt},xt),react.exports.createElement("div",{className:"".concat(yt,"-content")},vt),st?react.exports.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(yt,"-close")},ut||react.exports.createElement("span",{className:"".concat(yt,"-close-x")})):null);return gt?ReactDOM.createPortal(Ct,gt):Ct}}]),et}(react.exports.Component);Notice.defaultProps={onClose:function(){},duration:1.5};function useNotification($){var _e=react.exports.useRef({}),et=react.exports.useState([]),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1];function ot(it){var st=!0;$.add(it,function(ut,ft){var dt=ft.key;if(ut&&(!_e.current[dt]||st)){var vt=react.exports.createElement(Notice,_extends$2({},ft,{holder:ut}));_e.current[dt]=vt,at(function(gt){var yt=gt.findIndex(function(Ct){return Ct.key===ft.key});if(yt===-1)return[].concat(_toConsumableArray(gt),[vt]);var xt=_toConsumableArray(gt);return xt[yt]=vt,xt})}st=!1})}return[ot,react.exports.createElement(react.exports.Fragment,null,nt)]}var _excluded$v=["getContainer"],seed=0,now$2=Date.now();function getUuid(){var $=seed;return seed+=1,"rcNotification_".concat(now$2,"_").concat($)}var Notification=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;_classCallCheck$2(this,et);for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return tt=_e.call.apply(_e,[this].concat(at)),tt.state={notices:[]},tt.hookRefs=new Map,tt.add=function(it,st){var ut=it.key||getUuid(),ft=_objectSpread2$1(_objectSpread2$1({},it),{},{key:ut}),dt=tt.props.maxCount;tt.setState(function(vt){var gt=vt.notices,yt=gt.map(function(Ct){return Ct.notice.key}).indexOf(ut),xt=gt.concat();return yt!==-1?xt.splice(yt,1,{notice:ft,holderCallback:st}):(dt&&gt.length>=dt&&(ft.key=xt[0].notice.key,ft.updateMark=getUuid(),ft.userPassKey=ut,xt.shift()),xt.push({notice:ft,holderCallback:st})),{notices:xt}})},tt.remove=function(it){tt.setState(function(st){var ut=st.notices;return{notices:ut.filter(function(ft){var dt=ft.notice,vt=dt.key,gt=dt.userPassKey,yt=gt||vt;return yt!==it})}})},tt.noticePropsMap={},tt}return _createClass$2(et,[{key:"getTransitionName",value:function(){var nt=this.props,at=nt.prefixCls,ot=nt.animation,it=this.props.transitionName;return!it&&ot&&(it="".concat(at,"-").concat(ot)),it}},{key:"render",value:function(){var nt=this,at=this.state.notices,ot=this.props,it=ot.prefixCls,st=ot.className,ut=ot.closeIcon,ft=ot.style,dt=[];return at.forEach(function(vt,gt){var yt=vt.notice,xt=vt.holderCallback,Ct=gt===at.length-1?yt.updateMark:void 0,wt=yt.key,Et=yt.userPassKey,$t=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({prefixCls:it,closeIcon:ut},yt),yt.props),{},{key:wt,noticeKey:Et||wt,updateMark:Ct,onClose:function(Ot){var Lt;nt.remove(Ot),(Lt=yt.onClose)===null||Lt===void 0||Lt.call(yt)},onClick:yt.onClick,children:yt.content});dt.push(wt),nt.noticePropsMap[wt]={props:$t,holderCallback:xt}}),react.exports.createElement("div",{className:classNames(it,st),style:ft},react.exports.createElement(CSSMotionList,{keys:dt,motionName:this.getTransitionName(),onVisibleChanged:function(gt,yt){var xt=yt.key;gt||delete nt.noticePropsMap[xt]}},function(vt){var gt=vt.key,yt=vt.className,xt=vt.style,Ct=vt.visible,wt=nt.noticePropsMap[gt],Et=wt.props,$t=wt.holderCallback;return $t?react.exports.createElement("div",{key:gt,className:classNames(yt,"".concat(it,"-hook-holder")),style:_objectSpread2$1({},xt),ref:function(Ot){typeof gt!="undefined"&&(Ot?(nt.hookRefs.set(gt,Ot),$t(Ot,Et)):nt.hookRefs.delete(gt))}}):react.exports.createElement(Notice,_extends$2({},Et,{className:classNames(yt,Et==null?void 0:Et.className),style:_objectSpread2$1(_objectSpread2$1({},xt),Et==null?void 0:Et.style),visible:Ct}))}))}}]),et}(react.exports.Component);Notification.newInstance=void 0;Notification.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}};Notification.newInstance=function(_e,et){var tt=_e||{},nt=tt.getContainer,at=_objectWithoutProperties$1(tt,_excluded$v),ot=document.createElement("div");if(nt){var it=nt();it.appendChild(ot)}else document.body.appendChild(ot);var st=!1;function ut(ft){st||(st=!0,et({notice:function(vt){ft.add(vt)},removeNotice:function(vt){ft.remove(vt)},component:ft,destroy:function(){unmount(ot),ot.parentNode&&ot.parentNode.removeChild(ot)},useNotification:function(){return useNotification(ft)}}))}render$1(react.exports.createElement(Notification,_extends$2({},at,{ref:ut})),ot)};function createUseMessage($,_e){var et=function(){var nt,at,ot=null,it={add:function(xt,Ct){ot==null||ot.component.add(xt,Ct)}},st=useNotification(it),ut=_slicedToArray$3(st,2),ft=ut[0],dt=ut[1];function vt(yt){var xt=yt.prefixCls,Ct=nt("message",xt),wt=nt(),Et=yt.key||getKeyThenIncreaseKey(),$t=new Promise(function(Ot){var Lt=function(){return typeof yt.onClose=="function"&&yt.onClose(),Ot(!0)};$(_extends$2(_extends$2({},yt),{prefixCls:Ct,rootPrefixCls:wt,getPopupContainer:at}),function(Ft){var zt=Ft.prefixCls,Gt=Ft.instance;ot=Gt,ft(_e(_extends$2(_extends$2({},yt),{key:Et,onClose:Lt}),zt))})}),It=function(){ot&&ot.removeNotice(Et)};return It.then=function(Ot,Lt){return $t.then(Ot,Lt)},It.promise=$t,It}var gt=react.exports.useRef({});return gt.current.open=vt,typeList.forEach(function(yt){return attachTypeApi(gt.current,yt)}),[gt.current,react.exports.createElement(ConfigConsumer,{key:"holder"},function(yt){return nt=yt.getPrefixCls,at=yt.getPopupContainer,dt})]};return et}var messageInstance,defaultDuration$1=3,defaultTop$1,key=1,localPrefixCls="",transitionName="move-up",hasTransitionName=!1,getContainer,maxCount$1,rtl$1=!1;function getKeyThenIncreaseKey(){return key++}function setMessageConfig($){$.top!==void 0&&(defaultTop$1=$.top,messageInstance=null),$.duration!==void 0&&(defaultDuration$1=$.duration),$.prefixCls!==void 0&&(localPrefixCls=$.prefixCls),$.getContainer!==void 0&&(getContainer=$.getContainer,messageInstance=null),$.transitionName!==void 0&&(transitionName=$.transitionName,messageInstance=null,hasTransitionName=!0),$.maxCount!==void 0&&(maxCount$1=$.maxCount,messageInstance=null),$.rtl!==void 0&&(rtl$1=$.rtl)}function getRCNotificationInstance($,_e){var et=$.prefixCls,tt=$.getPopupContainer,nt=globalConfig(),at=nt.getPrefixCls,ot=nt.getRootPrefixCls,it=nt.getIconPrefixCls,st=at("message",et||localPrefixCls),ut=ot($.rootPrefixCls,st),ft=it();if(messageInstance){_e({prefixCls:st,rootPrefixCls:ut,iconPrefixCls:ft,instance:messageInstance});return}var dt={prefixCls:st,transitionName:hasTransitionName?transitionName:"".concat(ut,"-").concat(transitionName),style:{top:defaultTop$1},getContainer:getContainer||tt,maxCount:maxCount$1};Notification.newInstance(dt,function(vt){if(messageInstance){_e({prefixCls:st,rootPrefixCls:ut,iconPrefixCls:ft,instance:messageInstance});return}messageInstance=vt,_e({prefixCls:st,rootPrefixCls:ut,iconPrefixCls:ft,instance:vt})})}var typeToIcon$1={info:InfoCircleFilled$1,success:CheckCircleFilled$1,error:CloseCircleFilled$1,warning:ExclamationCircleFilled$1,loading:LoadingOutlined$1},typeList=Object.keys(typeToIcon$1);function getRCNoticeProps$1($,_e,et){var tt,nt=$.duration!==void 0?$.duration:defaultDuration$1,at=typeToIcon$1[$.type],ot=classNames("".concat(_e,"-custom-content"),(tt={},_defineProperty$4(tt,"".concat(_e,"-").concat($.type),$.type),_defineProperty$4(tt,"".concat(_e,"-rtl"),rtl$1===!0),tt));return{key:$.key,duration:nt,style:$.style||{},className:$.className,content:react.exports.createElement(ConfigProvider$1,{iconPrefixCls:et},react.exports.createElement("div",{className:ot},$.icon||at&&react.exports.createElement(at,null),react.exports.createElement("span",null,$.content))),onClose:$.onClose,onClick:$.onClick}}function notice$1($){var _e=$.key||getKeyThenIncreaseKey(),et=new Promise(function(nt){var at=function(){return typeof $.onClose=="function"&&$.onClose(),nt(!0)};getRCNotificationInstance($,function(ot){var it=ot.prefixCls,st=ot.iconPrefixCls,ut=ot.instance;ut.notice(getRCNoticeProps$1(_extends$2(_extends$2({},$),{key:_e,onClose:at}),it,st))})}),tt=function(){messageInstance&&messageInstance.removeNotice(_e)};return tt.then=function(nt,at){return et.then(nt,at)},tt.promise=et,tt}function isArgsProps($){return Object.prototype.toString.call($)==="[object Object]"&&!!$.content}var api$3={open:notice$1,config:setMessageConfig,destroy:function(_e){if(messageInstance)if(_e){var et=messageInstance,tt=et.removeNotice;tt(_e)}else{var nt=messageInstance,at=nt.destroy;at(),messageInstance=null}}};function attachTypeApi($,_e){$[_e]=function(et,tt,nt){return isArgsProps(et)?$.open(_extends$2(_extends$2({},et),{type:_e})):(typeof tt=="function"&&(nt=tt,tt=void 0),$.open({content:et,duration:tt,type:_e,onClose:nt}))}}typeList.forEach(function($){return attachTypeApi(api$3,$)});api$3.warn=api$3.warning;api$3.useMessage=createUseMessage(getRCNotificationInstance,getRCNoticeProps$1);var message=api$3,CheckCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},CheckCircleOutlinedSvg=CheckCircleOutlined$2,CheckCircleOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CheckCircleOutlinedSvg}))};CheckCircleOutlined.displayName="CheckCircleOutlined";var CheckCircleOutlined$1=react.exports.forwardRef(CheckCircleOutlined),CloseCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},CloseCircleOutlinedSvg=CloseCircleOutlined$2,CloseCircleOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CloseCircleOutlinedSvg}))};CloseCircleOutlined.displayName="CloseCircleOutlined";var CloseCircleOutlined$1=react.exports.forwardRef(CloseCircleOutlined),CloseOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},CloseOutlinedSvg=CloseOutlined$2,CloseOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CloseOutlinedSvg}))};CloseOutlined.displayName="CloseOutlined";var CloseOutlined$1=react.exports.forwardRef(CloseOutlined),ExclamationCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},ExclamationCircleOutlinedSvg=ExclamationCircleOutlined$2,ExclamationCircleOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:ExclamationCircleOutlinedSvg}))};ExclamationCircleOutlined.displayName="ExclamationCircleOutlined";var ExclamationCircleOutlined$1=react.exports.forwardRef(ExclamationCircleOutlined),InfoCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},InfoCircleOutlinedSvg=InfoCircleOutlined$2,InfoCircleOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:InfoCircleOutlinedSvg}))};InfoCircleOutlined.displayName="InfoCircleOutlined";var InfoCircleOutlined$1=react.exports.forwardRef(InfoCircleOutlined);function createUseNotification($,_e){var et=function(){var nt,at=null,ot={add:function(yt,xt){at==null||at.component.add(yt,xt)}},it=useNotification(ot),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1];function dt(gt){var yt=gt.prefixCls,xt=nt("notification",yt);$(_extends$2(_extends$2({},gt),{prefixCls:xt}),function(Ct){var wt=Ct.prefixCls,Et=Ct.instance;at=Et,ut(_e(gt,wt))})}var vt=react.exports.useRef({});return vt.current.open=dt,["success","info","warning","error"].forEach(function(gt){vt.current[gt]=function(yt){return vt.current.open(_extends$2(_extends$2({},yt),{type:gt}))}}),[vt.current,react.exports.createElement(ConfigConsumer,{key:"holder"},function(gt){return nt=gt.getPrefixCls,ft})]};return et}globalThis&&globalThis.__awaiter;var notificationInstance={},defaultDuration=4.5,defaultTop=24,defaultBottom=24,defaultPrefixCls$1="",defaultPlacement="topRight",defaultGetContainer,defaultCloseIcon,rtl=!1,maxCount;function setNotificationConfig($){var _e=$.duration,et=$.placement,tt=$.bottom,nt=$.top,at=$.getContainer,ot=$.closeIcon,it=$.prefixCls;it!==void 0&&(defaultPrefixCls$1=it),_e!==void 0&&(defaultDuration=_e),et!==void 0?defaultPlacement=et:$.rtl&&(defaultPlacement="topLeft"),tt!==void 0&&(defaultBottom=tt),nt!==void 0&&(defaultTop=nt),at!==void 0&&(defaultGetContainer=at),ot!==void 0&&(defaultCloseIcon=ot),$.rtl!==void 0&&(rtl=$.rtl),$.maxCount!==void 0&&(maxCount=$.maxCount)}function getPlacementStyle($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultTop,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultBottom,tt;switch($){case"top":tt={left:"50%",transform:"translateX(-50%)",right:"auto",top:_e,bottom:"auto"};break;case"topLeft":tt={left:0,top:_e,bottom:"auto"};break;case"topRight":tt={right:0,top:_e,bottom:"auto"};break;case"bottom":tt={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:et};break;case"bottomLeft":tt={left:0,top:"auto",bottom:et};break;default:tt={right:0,top:"auto",bottom:et};break}return tt}function getNotificationInstance($,_e){var et=$.placement,tt=et===void 0?defaultPlacement:et,nt=$.top,at=$.bottom,ot=$.getContainer,it=ot===void 0?defaultGetContainer:ot,st=$.prefixCls,ut=globalConfig(),ft=ut.getPrefixCls,dt=ut.getIconPrefixCls,vt=ft("notification",st||defaultPrefixCls$1),gt=dt(),yt="".concat(vt,"-").concat(tt),xt=notificationInstance[yt];if(xt){Promise.resolve(xt).then(function(wt){_e({prefixCls:"".concat(vt,"-notice"),iconPrefixCls:gt,instance:wt})});return}var Ct=classNames("".concat(vt,"-").concat(tt),_defineProperty$4({},"".concat(vt,"-rtl"),rtl===!0));notificationInstance[yt]=new Promise(function(wt){Notification.newInstance({prefixCls:vt,className:Ct,style:getPlacementStyle(tt,nt,at),getContainer:it,maxCount},function(Et){wt(Et),_e({prefixCls:"".concat(vt,"-notice"),iconPrefixCls:gt,instance:Et})})})}var typeToIcon={success:CheckCircleOutlined$1,info:InfoCircleOutlined$1,error:CloseCircleOutlined$1,warning:ExclamationCircleOutlined$1};function getRCNoticeProps($,_e,et){var tt=$.duration,nt=$.icon,at=$.type,ot=$.description,it=$.message,st=$.btn,ut=$.onClose,ft=$.onClick,dt=$.key,vt=$.style,gt=$.className,yt=$.closeIcon,xt=yt===void 0?defaultCloseIcon:yt,Ct=tt===void 0?defaultDuration:tt,wt=null;nt?wt=react.exports.createElement("span",{className:"".concat(_e,"-icon")},$.icon):at&&(wt=react.exports.createElement(typeToIcon[at]||null,{className:"".concat(_e,"-icon ").concat(_e,"-icon-").concat(at)}));var Et=react.exports.createElement("span",{className:"".concat(_e,"-close-x")},xt||react.exports.createElement(CloseOutlined$1,{className:"".concat(_e,"-close-icon")})),$t=!ot&&wt?react.exports.createElement("span",{className:"".concat(_e,"-message-single-line-auto-margin")}):null;return{content:react.exports.createElement(ConfigProvider$1,{iconPrefixCls:et},react.exports.createElement("div",{className:wt?"".concat(_e,"-with-icon"):"",role:"alert"},wt,react.exports.createElement("div",{className:"".concat(_e,"-message")},$t,it),react.exports.createElement("div",{className:"".concat(_e,"-description")},ot),st?react.exports.createElement("span",{className:"".concat(_e,"-btn")},st):null)),duration:Ct,closable:!0,closeIcon:Et,onClose:ut,onClick:ft,key:dt,style:vt||{},className:classNames(gt,_defineProperty$4({},"".concat(_e,"-").concat(at),!!at))}}function notice($){getNotificationInstance($,function(_e){var et=_e.prefixCls,tt=_e.iconPrefixCls,nt=_e.instance;nt.notice(getRCNoticeProps($,et,tt))})}var api$2={open:notice,close:function(_e){Object.keys(notificationInstance).forEach(function(et){return Promise.resolve(notificationInstance[et]).then(function(tt){tt.removeNotice(_e)})})},config:setNotificationConfig,destroy:function(){Object.keys(notificationInstance).forEach(function(_e){Promise.resolve(notificationInstance[_e]).then(function(et){et.destroy()}),delete notificationInstance[_e]})}};["success","info","warning","error"].forEach(function($){api$2[$]=function(_e){return api$2.open(_extends$2(_extends$2({},_e),{type:$}))}});api$2.warn=api$2.warning;api$2.useNotification=createUseNotification(getNotificationInstance,getRCNoticeProps);var notification=api$2,defaultGetPrefixCls=function(_e,et){return et||(_e?"ant-".concat(_e):"ant")},ConfigContext=react.exports.createContext({getPrefixCls:defaultGetPrefixCls}),ConfigConsumer=ConfigContext.Consumer,dynamicStyleMark="-ant-".concat(Date.now(),"-").concat(Math.random());function getStyle$1($,_e){var et={},tt=function(ft,dt){var vt=ft.clone();return vt=(dt==null?void 0:dt(vt))||vt,vt.toRgbString()},nt=function(ft,dt){var vt=new TinyColor(ft),gt=generate$1(vt.toRgbString());et["".concat(dt,"-color")]=tt(vt),et["".concat(dt,"-color-disabled")]=gt[1],et["".concat(dt,"-color-hover")]=gt[4],et["".concat(dt,"-color-active")]=gt[7],et["".concat(dt,"-color-outline")]=vt.clone().setAlpha(.2).toRgbString(),et["".concat(dt,"-color-deprecated-bg")]=gt[1],et["".concat(dt,"-color-deprecated-border")]=gt[3]};if(_e.primaryColor){nt(_e.primaryColor,"primary");var at=new TinyColor(_e.primaryColor),ot=generate$1(at.toRgbString());ot.forEach(function(ut,ft){et["primary-".concat(ft+1)]=ut}),et["primary-color-deprecated-l-35"]=tt(at,function(ut){return ut.lighten(35)}),et["primary-color-deprecated-l-20"]=tt(at,function(ut){return ut.lighten(20)}),et["primary-color-deprecated-t-20"]=tt(at,function(ut){return ut.tint(20)}),et["primary-color-deprecated-t-50"]=tt(at,function(ut){return ut.tint(50)}),et["primary-color-deprecated-f-12"]=tt(at,function(ut){return ut.setAlpha(ut.getAlpha()*.12)});var it=new TinyColor(ot[0]);et["primary-color-active-deprecated-f-30"]=tt(it,function(ut){return ut.setAlpha(ut.getAlpha()*.3)}),et["primary-color-active-deprecated-d-02"]=tt(it,function(ut){return ut.darken(2)})}_e.successColor&&nt(_e.successColor,"success"),_e.warningColor&&nt(_e.warningColor,"warning"),_e.errorColor&&nt(_e.errorColor,"error"),_e.infoColor&&nt(_e.infoColor,"info");var st=Object.keys(et).map(function(ut){return"--".concat($,"-").concat(ut,": ").concat(et[ut],";")});return`
  :root {
    `.concat(st.join(`
`),`
  }
  `).trim()}function registerTheme$1($,_e){var et=getStyle$1($,_e);canUseDom()&&updateCSS(et,"".concat(dynamicStyleMark,"-dynamic-theme"))}var DisabledContext=react.exports.createContext(!1),DisabledContextProvider=function(_e){var et=_e.children,tt=_e.disabled,nt=react.exports.useContext(DisabledContext);return react.exports.createElement(DisabledContext.Provider,{value:tt||nt},et)},SizeContext=react.exports.createContext(void 0),SizeContextProvider=function(_e){var et=_e.children,tt=_e.size;return react.exports.createElement(SizeContext.Consumer,null,function(nt){return react.exports.createElement(SizeContext.Provider,{value:tt||nt},et)})},SizeContext$1=SizeContext,PASSED_PROPS=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"],defaultPrefixCls="ant",defaultIconPrefixCls="anticon",globalPrefixCls,globalIconPrefixCls;function getGlobalPrefixCls(){return globalPrefixCls||defaultPrefixCls}function getGlobalIconPrefixCls(){return globalIconPrefixCls||defaultIconPrefixCls}var setGlobalConfig=function(_e){var et=_e.prefixCls,tt=_e.iconPrefixCls,nt=_e.theme;et!==void 0&&(globalPrefixCls=et),tt!==void 0&&(globalIconPrefixCls=tt),nt&&registerTheme$1(getGlobalPrefixCls(),nt)},globalConfig=function(){return{getPrefixCls:function(et,tt){return tt||(et?"".concat(getGlobalPrefixCls(),"-").concat(et):getGlobalPrefixCls())},getIconPrefixCls:getGlobalIconPrefixCls,getRootPrefixCls:function(et,tt){return et||globalPrefixCls||(tt&&tt.includes("-")?tt.replace(/^(.*)-[^-]*$/,"$1"):getGlobalPrefixCls())}}},ProviderChildren=function(_e){var et,tt,nt=_e.children,at=_e.csp,ot=_e.autoInsertSpaceInButton,it=_e.form,st=_e.locale,ut=_e.componentSize,ft=_e.direction,dt=_e.space,vt=_e.virtual,gt=_e.dropdownMatchSelectWidth,yt=_e.legacyLocale,xt=_e.parentContext,Ct=_e.iconPrefixCls,wt=_e.componentDisabled,Et=react.exports.useCallback(function(zt,Gt){var jt=_e.prefixCls;if(Gt)return Gt;var Ut=jt||xt.getPrefixCls("");return zt?"".concat(Ut,"-").concat(zt):Ut},[xt.getPrefixCls,_e.prefixCls]),$t=_extends$2(_extends$2({},xt),{csp:at,autoInsertSpaceInButton:ot,locale:st||yt,direction:ft,space:dt,virtual:vt,dropdownMatchSelectWidth:gt,getPrefixCls:Et});PASSED_PROPS.forEach(function(zt){var Gt=_e[zt];Gt&&($t[zt]=Gt)});var It=useMemo(function(){return $t},$t,function(zt,Gt){var jt=Object.keys(zt),Ut=Object.keys(Gt);return jt.length!==Ut.length||jt.some(function(Kt){return zt[Kt]!==Gt[Kt]})}),Ot=react.exports.useMemo(function(){return{prefixCls:Ct,csp:at}},[Ct,at]),Lt=nt,Ft={};return st&&(Ft=((et=st.Form)===null||et===void 0?void 0:et.defaultValidateMessages)||((tt=defaultLocale.Form)===null||tt===void 0?void 0:tt.defaultValidateMessages)||{}),it&&it.validateMessages&&(Ft=_extends$2(_extends$2({},Ft),it.validateMessages)),Object.keys(Ft).length>0&&(Lt=react.exports.createElement(FormProvider$1,{validateMessages:Ft},nt)),st&&(Lt=react.exports.createElement(LocaleProvider,{locale:st,_ANT_MARK__:ANT_MARK},Lt)),(Ct||at)&&(Lt=react.exports.createElement(Context$1.Provider,{value:Ot},Lt)),ut&&(Lt=react.exports.createElement(SizeContextProvider,{size:ut},Lt)),wt!==void 0&&(Lt=react.exports.createElement(DisabledContextProvider,{disabled:wt},Lt)),react.exports.createElement(ConfigContext.Provider,{value:It},Lt)},ConfigProvider=function(_e){return react.exports.useEffect(function(){_e.direction&&(message.config({rtl:_e.direction==="rtl"}),notification.config({rtl:_e.direction==="rtl"}))},[_e.direction]),react.exports.createElement(LocaleReceiver,null,function(et,tt,nt){return react.exports.createElement(ConfigConsumer,null,function(at){return react.exports.createElement(ProviderChildren,_extends$2({parentContext:at,legacyLocale:nt},_e))})})};ConfigProvider.ConfigContext=ConfigContext;ConfigProvider.SizeContext=SizeContext$1;ConfigProvider.config=setGlobalConfig;var ConfigProvider$1=ConfigProvider;function addEventListenerWrap($,_e,et,tt){var nt=ReactDOM.unstable_batchedUpdates?function(ot){ReactDOM.unstable_batchedUpdates(et,ot)}:et;return $.addEventListener&&$.addEventListener(_e,nt,tt),{remove:function(){$.removeEventListener&&$.removeEventListener(_e,nt,tt)}}}function getDataOrAriaProps($){return Object.keys($).reduce(function(_e,et){return(et.startsWith("data-")||et.startsWith("aria-")||et==="role")&&!et.startsWith("data-__")&&(_e[et]=$[et]),_e},{})}var isValidElement=react.exports.isValidElement;function replaceElement($,_e,et){return isValidElement($)?react.exports.cloneElement($,typeof et=="function"?et($.props||{}):et):_e}function cloneElement($,_e){return replaceElement($,$,_e)}function isWindow$1($){return $!=null&&$===$.window}function getScroll$1($,_e){var et;if(typeof window=="undefined")return 0;var tt=_e?"scrollTop":"scrollLeft",nt=0;return isWindow$1($)?nt=$[_e?"pageYOffset":"pageXOffset"]:$ instanceof Document?nt=$.documentElement[tt]:$&&(nt=$[tt]),$&&!isWindow$1($)&&typeof nt!="number"&&(nt=(et=($.ownerDocument||$).documentElement)===null||et===void 0?void 0:et[tt]),nt}function easeInOutCubic($,_e,et,tt){var nt=et-_e;return $/=tt/2,$<1?nt/2*$*$*$+_e:nt/2*(($-=2)*$*$+2)+_e}function scrollTo($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=_e.getContainer,tt=et===void 0?function(){return window}:et,nt=_e.callback,at=_e.duration,ot=at===void 0?450:at,it=tt(),st=getScroll$1(it,!0),ut=Date.now(),ft=function dt(){var vt=Date.now(),gt=vt-ut,yt=easeInOutCubic(gt>ot?ot:gt,st,$,ot);isWindow$1(it)?it.scrollTo(window.pageXOffset,yt):it instanceof HTMLDocument||it.constructor.name==="HTMLDocument"?it.documentElement.scrollTop=yt:it.scrollTop=yt,gt<ot?wrapperRaf$1(dt):typeof nt=="function"&&nt()};wrapperRaf$1(ft)}function useEvent($){var _e=react.exports.useRef();_e.current=$;var et=react.exports.useCallback(function(){for(var tt,nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return(tt=_e.current)===null||tt===void 0?void 0:tt.call.apply(tt,[_e].concat(at))},[]);return et}var useLayoutEffect$1=canUseDom()?react.exports.useLayoutEffect:react.exports.useEffect,useLayoutUpdateEffect=function(_e,et){var tt=react.exports.useRef(!0);useLayoutEffect$1(function(){if(!tt.current)return _e()},et),useLayoutEffect$1(function(){return tt.current=!1,function(){tt.current=!0}},[])},Source;(function($){$[$.INNER=0]="INNER",$[$.PROP=1]="PROP"})(Source||(Source={}));function hasValue($){return $!==void 0}function useMergedState($,_e){var et=_e||{},tt=et.defaultValue,nt=et.value,at=et.onChange,ot=et.postState,it=useSafeState(function(){var Ct=void 0,wt;return hasValue(nt)?(Ct=nt,wt=Source.PROP):hasValue(tt)?(Ct=typeof tt=="function"?tt():tt,wt=Source.PROP):(Ct=typeof $=="function"?$():$,wt=Source.INNER),[Ct,wt,Ct]}),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1],dt=hasValue(nt)?nt:ut[0],vt=ot?ot(dt):dt;useLayoutUpdateEffect(function(){ft(function(Ct){var wt=_slicedToArray$3(Ct,1),Et=wt[0];return[nt,Source.PROP,Et]})},[nt]);var gt=react.exports.useRef(),yt=useEvent(function(Ct,wt){ft(function(Et){var $t=_slicedToArray$3(Et,3),It=$t[0],Ot=$t[1],Lt=$t[2],Ft=typeof Ct=="function"?Ct(It):Ct;if(Ft===It)return Et;var zt=Ot===Source.INNER&&gt.current!==Lt?Lt:It;return[Ft,Source.INNER,zt]},wt)}),xt=useEvent(at);return useLayoutEffect$1(function(){var Ct=_slicedToArray$3(ut,3),wt=Ct[0],Et=Ct[1],$t=Ct[2];wt!==$t&&Et===Source.INNER&&(xt(wt,$t),gt.current=$t)},[ut]),[vt,yt]}var KeyCode={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(_e){var et=_e.keyCode;if(_e.altKey&&!_e.ctrlKey||_e.metaKey||et>=KeyCode.F1&&et<=KeyCode.F12)return!1;switch(et){case KeyCode.ALT:case KeyCode.CAPS_LOCK:case KeyCode.CONTEXT_MENU:case KeyCode.CTRL:case KeyCode.DOWN:case KeyCode.END:case KeyCode.ESC:case KeyCode.HOME:case KeyCode.INSERT:case KeyCode.LEFT:case KeyCode.MAC_FF_META:case KeyCode.META:case KeyCode.NUMLOCK:case KeyCode.NUM_CENTER:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAUSE:case KeyCode.PRINT_SCREEN:case KeyCode.RIGHT:case KeyCode.SHIFT:case KeyCode.UP:case KeyCode.WIN_KEY:case KeyCode.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(_e){if(_e>=KeyCode.ZERO&&_e<=KeyCode.NINE||_e>=KeyCode.NUM_ZERO&&_e<=KeyCode.NUM_MULTIPLY||_e>=KeyCode.A&&_e<=KeyCode.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&_e===0)return!0;switch(_e){case KeyCode.SPACE:case KeyCode.QUESTION_MARK:case KeyCode.NUM_PLUS:case KeyCode.NUM_MINUS:case KeyCode.NUM_PERIOD:case KeyCode.NUM_DIVISION:case KeyCode.SEMICOLON:case KeyCode.DASH:case KeyCode.EQUALS:case KeyCode.COMMA:case KeyCode.PERIOD:case KeyCode.SLASH:case KeyCode.APOSTROPHE:case KeyCode.SINGLE_QUOTE:case KeyCode.OPEN_SQUARE_BRACKET:case KeyCode.BACKSLASH:case KeyCode.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},isMobile=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var $=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test($)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test($==null?void 0:$.substr(0,4)))};function getKey$2($,_e){var et=$.key,tt;return"value"in $&&(tt=$.value),et!=null?et:tt!==void 0?tt:"rc-index-key-".concat(_e)}function fillFieldNames$1($,_e){var et=$||{},tt=et.label,nt=et.value,at=et.options;return{label:tt||(_e?"children":"label"),value:nt||"value",options:at||"options"}}function flattenOptions($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=_e.fieldNames,tt=_e.childrenAsData,nt=[],at=fillFieldNames$1(et,!1),ot=at.label,it=at.value,st=at.options;function ut(ft,dt){ft.forEach(function(vt){var gt=vt[ot];if(dt||!(st in vt)){var yt=vt[it];nt.push({key:getKey$2(vt,nt.length),groupOption:dt,data:vt,label:gt,value:yt})}else{var xt=gt;xt===void 0&&tt&&(xt=vt.label),nt.push({key:getKey$2(vt,nt.length),group:!0,data:vt,label:xt}),ut(vt[st],!0)}})}return ut($,!1),nt}function injectPropsWithOption($){var _e=_objectSpread2$1({},$);return"props"in _e||Object.defineProperty(_e,"props",{get:function(){return warningOnce(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),_e}}),_e}function getSeparatedContent($,_e){if(!_e||!_e.length)return null;var et=!1;function tt(at,ot){var it=_toArray(ot),st=it[0],ut=it.slice(1);if(!st)return[at];var ft=at.split(st);return et=et||ft.length>1,ft.reduce(function(dt,vt){return[].concat(_toConsumableArray(dt),_toConsumableArray(tt(vt,ut)))},[]).filter(function(dt){return dt})}var nt=tt($,_e);return et?nt:null}function contains($,_e){return $?$.contains(_e):!1}var Portal=react.exports.forwardRef(function($,_e){var et=$.didUpdate,tt=$.getContainer,nt=$.children,at=react.exports.useRef(),ot=react.exports.useRef();react.exports.useImperativeHandle(_e,function(){return{}});var it=react.exports.useRef(!1);return!it.current&&canUseDom()&&(ot.current=tt(),at.current=ot.current.parentNode,it.current=!0),react.exports.useEffect(function(){et==null||et($)}),react.exports.useEffect(function(){return ot.current.parentNode===null&&at.current!==null&&at.current.appendChild(ot.current),function(){var st,ut;(st=ot.current)===null||st===void 0||(ut=st.parentNode)===null||ut===void 0||ut.removeChild(ot.current)}},[]),ot.current?ReactDOM.createPortal(nt,ot.current):null});function isPointsEq($,_e,et){return et?$[0]===_e[0]:$[0]===_e[0]&&$[1]===_e[1]}function getAlignFromPlacement($,_e,et){var tt=$[_e]||{};return _objectSpread2$1(_objectSpread2$1({},tt),et)}function getAlignPopupClassName($,_e,et,tt){for(var nt=et.points,at=Object.keys($),ot=0;ot<at.length;ot+=1){var it=at[ot];if(isPointsEq($[it].points,nt,tt))return"".concat(_e,"-placement-").concat(it)}return""}function getMotion$1($){var _e=$.prefixCls,et=$.motion,tt=$.animation,nt=$.transitionName;return et||(tt?{motionName:"".concat(_e,"-").concat(tt)}:nt?{motionName:nt}:null)}function Mask($){var _e=$.prefixCls,et=$.visible,tt=$.zIndex,nt=$.mask,at=$.maskMotion,ot=$.maskAnimation,it=$.maskTransitionName;if(!nt)return null;var st={};return(at||it||ot)&&(st=_objectSpread2$1({motionAppear:!0},getMotion$1({motion:at,prefixCls:_e,transitionName:it,animation:ot}))),react.exports.createElement(CSSMotion,_extends$2({},st,{visible:et,removeOnLeave:!0}),function(ut){var ft=ut.className;return react.exports.createElement("div",{style:{zIndex:tt},className:classNames("".concat(_e,"-mask"),ft)})})}var isVisible=function($){if(!$)return!1;if($.offsetParent)return!0;if($.getBBox){var _e=$.getBBox();if(_e.width||_e.height)return!0}if($.getBoundingClientRect){var et=$.getBoundingClientRect();if(et.width||et.height)return!0}return!1};function ownKeys$2($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty$3($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _typeof$3($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(_e){return typeof _e}:_typeof$3=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$3($)}function _defineProperty$3($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}var vendorPrefix,jsCssMap={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(vendorPrefix!==void 0)return vendorPrefix;vendorPrefix="";var $=document.createElement("p").style,_e="Transform";for(var et in jsCssMap)et+_e in $&&(vendorPrefix=et);return vendorPrefix}function getTransitionName$1(){return getVendorPrefix()?"".concat(getVendorPrefix(),"TransitionProperty"):"transitionProperty"}function getTransformName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"Transform"):"transform"}function setTransitionProperty($,_e){var et=getTransitionName$1();et&&($.style[et]=_e,et!=="transitionProperty"&&($.style.transitionProperty=_e))}function setTransform$1($,_e){var et=getTransformName();et&&($.style[et]=_e,et!=="transform"&&($.style.transform=_e))}function getTransitionProperty($){return $.style.transitionProperty||$.style[getTransitionName$1()]}function getTransformXY($){var _e=window.getComputedStyle($,null),et=_e.getPropertyValue("transform")||_e.getPropertyValue(getTransformName());if(et&&et!=="none"){var tt=et.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(tt[12]||tt[4],0),y:parseFloat(tt[13]||tt[5],0)}}return{x:0,y:0}}var matrix2d=/matrix\((.*)\)/,matrix3d=/matrix3d\((.*)\)/;function setTransformXY($,_e){var et=window.getComputedStyle($,null),tt=et.getPropertyValue("transform")||et.getPropertyValue(getTransformName());if(tt&&tt!=="none"){var nt,at=tt.match(matrix2d);if(at)at=at[1],nt=at.split(",").map(function(it){return parseFloat(it,10)}),nt[4]=_e.x,nt[5]=_e.y,setTransform$1($,"matrix(".concat(nt.join(","),")"));else{var ot=tt.match(matrix3d)[1];nt=ot.split(",").map(function(it){return parseFloat(it,10)}),nt[12]=_e.x,nt[13]=_e.y,setTransform$1($,"matrix3d(".concat(nt.join(","),")"))}}else setTransform$1($,"translateX(".concat(_e.x,"px) translateY(").concat(_e.y,"px) translateZ(0)"))}var RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,getComputedStyleX;function forceRelayout($){var _e=$.style.display;$.style.display="none",$.offsetHeight,$.style.display=_e}function css($,_e,et){var tt=et;if(_typeof$3(_e)==="object"){for(var nt in _e)_e.hasOwnProperty(nt)&&css($,nt,_e[nt]);return}if(typeof tt!="undefined"){typeof tt=="number"&&(tt="".concat(tt,"px")),$.style[_e]=tt;return}return getComputedStyleX($,_e)}function getClientPosition($){var _e,et,tt,nt=$.ownerDocument,at=nt.body,ot=nt&&nt.documentElement;return _e=$.getBoundingClientRect(),et=Math.floor(_e.left),tt=Math.floor(_e.top),et-=ot.clientLeft||at.clientLeft||0,tt-=ot.clientTop||at.clientTop||0,{left:et,top:tt}}function getScroll($,_e){var et=$["page".concat(_e?"Y":"X","Offset")],tt="scroll".concat(_e?"Top":"Left");if(typeof et!="number"){var nt=$.document;et=nt.documentElement[tt],typeof et!="number"&&(et=nt.body[tt])}return et}function getScrollLeft($){return getScroll($)}function getScrollTop($){return getScroll($,!0)}function getOffset$2($){var _e=getClientPosition($),et=$.ownerDocument,tt=et.defaultView||et.parentWindow;return _e.left+=getScrollLeft(tt),_e.top+=getScrollTop(tt),_e}function isWindow($){return $!=null&&$==$.window}function getDocument($){return isWindow($)?$.document:$.nodeType===9?$:$.ownerDocument}function _getComputedStyle($,_e,et){var tt=et,nt="",at=getDocument($);return tt=tt||at.defaultView.getComputedStyle($,null),tt&&(nt=tt.getPropertyValue(_e)||tt[_e]),nt}var _RE_NUM_NO_PX=new RegExp("^(".concat(RE_NUM,")(?!px)[a-z%]+$"),"i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT$1="left",PX="px";function _getComputedStyleIE($,_e){var et=$[CURRENT_STYLE]&&$[CURRENT_STYLE][_e];if(_RE_NUM_NO_PX.test(et)&&!RE_POS.test(_e)){var tt=$.style,nt=tt[LEFT$1],at=$[RUNTIME_STYLE][LEFT$1];$[RUNTIME_STYLE][LEFT$1]=$[CURRENT_STYLE][LEFT$1],tt[LEFT$1]=_e==="fontSize"?"1em":et||0,et=tt.pixelLeft+PX,tt[LEFT$1]=nt,$[RUNTIME_STYLE][LEFT$1]=at}return et===""?"auto":et}typeof window!="undefined"&&(getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);function getOffsetDirection($,_e){return $==="left"?_e.useCssRight?"right":$:_e.useCssBottom?"bottom":$}function oppositeOffsetDirection($){if($==="left")return"right";if($==="right")return"left";if($==="top")return"bottom";if($==="bottom")return"top"}function setLeftTop($,_e,et){css($,"position")==="static"&&($.style.position="relative");var tt=-999,nt=-999,at=getOffsetDirection("left",et),ot=getOffsetDirection("top",et),it=oppositeOffsetDirection(at),st=oppositeOffsetDirection(ot);at!=="left"&&(tt=999),ot!=="top"&&(nt=999);var ut="",ft=getOffset$2($);("left"in _e||"top"in _e)&&(ut=getTransitionProperty($)||"",setTransitionProperty($,"none")),"left"in _e&&($.style[it]="",$.style[at]="".concat(tt,"px")),"top"in _e&&($.style[st]="",$.style[ot]="".concat(nt,"px")),forceRelayout($);var dt=getOffset$2($),vt={};for(var gt in _e)if(_e.hasOwnProperty(gt)){var yt=getOffsetDirection(gt,et),xt=gt==="left"?tt:nt,Ct=ft[gt]-dt[gt];yt===gt?vt[yt]=xt+Ct:vt[yt]=xt-Ct}css($,vt),forceRelayout($),("left"in _e||"top"in _e)&&setTransitionProperty($,ut);var wt={};for(var Et in _e)if(_e.hasOwnProperty(Et)){var $t=getOffsetDirection(Et,et),It=_e[Et]-ft[Et];Et===$t?wt[$t]=vt[$t]+It:wt[$t]=vt[$t]-It}css($,wt)}function setTransform$1$1($,_e){var et=getOffset$2($),tt=getTransformXY($),nt={x:tt.x,y:tt.y};"left"in _e&&(nt.x=tt.x+_e.left-et.left),"top"in _e&&(nt.y=tt.y+_e.top-et.top),setTransformXY($,nt)}function setOffset($,_e,et){if(et.ignoreShake){var tt=getOffset$2($),nt=tt.left.toFixed(0),at=tt.top.toFixed(0),ot=_e.left.toFixed(0),it=_e.top.toFixed(0);if(nt===ot&&at===it)return}et.useCssRight||et.useCssBottom?setLeftTop($,_e,et):et.useCssTransform&&getTransformName()in document.body.style?setTransform$1$1($,_e):setLeftTop($,_e,et)}function each$g($,_e){for(var et=0;et<$.length;et++)_e($[et])}function isBorderBoxFn($){return getComputedStyleX($,"boxSizing")==="border-box"}var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0;function swap($,_e,et){var tt={},nt=$.style,at;for(at in _e)_e.hasOwnProperty(at)&&(tt[at]=nt[at],nt[at]=_e[at]);et.call($);for(at in _e)_e.hasOwnProperty(at)&&(nt[at]=tt[at])}function getPBMWidth($,_e,et){var tt=0,nt,at,ot;for(at=0;at<_e.length;at++)if(nt=_e[at],nt)for(ot=0;ot<et.length;ot++){var it=void 0;nt==="border"?it="".concat(nt).concat(et[ot],"Width"):it=nt+et[ot],tt+=parseFloat(getComputedStyleX($,it))||0}return tt}var domUtils={getParent:function(_e){var et=_e;do et.nodeType===11&&et.host?et=et.host:et=et.parentNode;while(et&&et.nodeType!==1&&et.nodeType!==9);return et}};each$g(["Width","Height"],function($){domUtils["doc".concat($)]=function(_e){var et=_e.document;return Math.max(et.documentElement["scroll".concat($)],et.body["scroll".concat($)],domUtils["viewport".concat($)](et))},domUtils["viewport".concat($)]=function(_e){var et="client".concat($),tt=_e.document,nt=tt.body,at=tt.documentElement,ot=at[et];return tt.compatMode==="CSS1Compat"&&ot||nt&&nt[et]||ot}});function getWH($,_e,et){var tt=et;if(isWindow($))return _e==="width"?domUtils.viewportWidth($):domUtils.viewportHeight($);if($.nodeType===9)return _e==="width"?domUtils.docWidth($):domUtils.docHeight($);var nt=_e==="width"?["Left","Right"]:["Top","Bottom"],at=Math.floor(_e==="width"?$.getBoundingClientRect().width:$.getBoundingClientRect().height),ot=isBorderBoxFn($),it=0;(at==null||at<=0)&&(at=void 0,it=getComputedStyleX($,_e),(it==null||Number(it)<0)&&(it=$.style[_e]||0),it=parseFloat(it)||0),tt===void 0&&(tt=ot?BORDER_INDEX:CONTENT_INDEX);var st=at!==void 0||ot,ut=at||it;return tt===CONTENT_INDEX?st?ut-getPBMWidth($,["border","padding"],nt):it:st?tt===BORDER_INDEX?ut:ut+(tt===PADDING_INDEX?-getPBMWidth($,["border"],nt):getPBMWidth($,["margin"],nt)):it+getPBMWidth($,BOX_MODELS.slice(tt),nt)}var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];var tt,nt=_e[0];return nt.offsetWidth!==0?tt=getWH.apply(void 0,_e):swap(nt,cssShow,function(){tt=getWH.apply(void 0,_e)}),tt}each$g(["width","height"],function($){var _e=$.charAt(0).toUpperCase()+$.slice(1);domUtils["outer".concat(_e)]=function(tt,nt){return tt&&getWHIgnoreDisplay(tt,$,nt?MARGIN_INDEX:BORDER_INDEX)};var et=$==="width"?["Left","Right"]:["Top","Bottom"];domUtils[$]=function(tt,nt){var at=nt;if(at!==void 0){if(tt){var ot=isBorderBoxFn(tt);return ot&&(at+=getPBMWidth(tt,["padding","border"],et)),css(tt,$,at)}return}return tt&&getWHIgnoreDisplay(tt,$,CONTENT_INDEX)}});function mix($,_e){for(var et in _e)_e.hasOwnProperty(et)&&($[et]=_e[et]);return $}var utils$i={getWindow:function(_e){if(_e&&_e.document&&_e.setTimeout)return _e;var et=_e.ownerDocument||_e;return et.defaultView||et.parentWindow},getDocument,offset:function(_e,et,tt){if(typeof et!="undefined")setOffset(_e,et,tt||{});else return getOffset$2(_e)},isWindow,each:each$g,css,clone:function(_e){var et,tt={};for(et in _e)_e.hasOwnProperty(et)&&(tt[et]=_e[et]);var nt=_e.overflow;if(nt)for(et in _e)_e.hasOwnProperty(et)&&(tt.overflow[et]=_e.overflow[et]);return tt},mix,getWindowScrollLeft:function(_e){return getScrollLeft(_e)},getWindowScrollTop:function(_e){return getScrollTop(_e)},merge:function(){for(var _e={},et=0;et<arguments.length;et++)utils$i.mix(_e,et<0||arguments.length<=et?void 0:arguments[et]);return _e},viewportWidth:0,viewportHeight:0};mix(utils$i,domUtils);var getParent=utils$i.getParent;function getOffsetParent($){if(utils$i.isWindow($)||$.nodeType===9)return null;var _e=utils$i.getDocument($),et=_e.body,tt,nt=utils$i.css($,"position"),at=nt==="fixed"||nt==="absolute";if(!at)return $.nodeName.toLowerCase()==="html"?null:getParent($);for(tt=getParent($);tt&&tt!==et&&tt.nodeType!==9;tt=getParent(tt))if(nt=utils$i.css(tt,"position"),nt!=="static")return tt;return null}var getParent$1=utils$i.getParent;function isAncestorFixed($){if(utils$i.isWindow($)||$.nodeType===9)return!1;var _e=utils$i.getDocument($),et=_e.body,tt=null;for(tt=getParent$1($);tt&&tt!==et&&tt!==_e;tt=getParent$1(tt)){var nt=utils$i.css(tt,"position");if(nt==="fixed")return!0}return!1}function getVisibleRectForElement($,_e){for(var et={left:0,right:1/0,top:0,bottom:1/0},tt=getOffsetParent($),nt=utils$i.getDocument($),at=nt.defaultView||nt.parentWindow,ot=nt.body,it=nt.documentElement;tt;){if((navigator.userAgent.indexOf("MSIE")===-1||tt.clientWidth!==0)&&tt!==ot&&tt!==it&&utils$i.css(tt,"overflow")!=="visible"){var st=utils$i.offset(tt);st.left+=tt.clientLeft,st.top+=tt.clientTop,et.top=Math.max(et.top,st.top),et.right=Math.min(et.right,st.left+tt.clientWidth),et.bottom=Math.min(et.bottom,st.top+tt.clientHeight),et.left=Math.max(et.left,st.left)}else if(tt===ot||tt===it)break;tt=getOffsetParent(tt)}var ut=null;if(!utils$i.isWindow($)&&$.nodeType!==9){ut=$.style.position;var ft=utils$i.css($,"position");ft==="absolute"&&($.style.position="fixed")}var dt=utils$i.getWindowScrollLeft(at),vt=utils$i.getWindowScrollTop(at),gt=utils$i.viewportWidth(at),yt=utils$i.viewportHeight(at),xt=it.scrollWidth,Ct=it.scrollHeight,wt=window.getComputedStyle(ot);if(wt.overflowX==="hidden"&&(xt=at.innerWidth),wt.overflowY==="hidden"&&(Ct=at.innerHeight),$.style&&($.style.position=ut),_e||isAncestorFixed($))et.left=Math.max(et.left,dt),et.top=Math.max(et.top,vt),et.right=Math.min(et.right,dt+gt),et.bottom=Math.min(et.bottom,vt+yt);else{var Et=Math.max(xt,dt+gt);et.right=Math.min(et.right,Et);var $t=Math.max(Ct,vt+yt);et.bottom=Math.min(et.bottom,$t)}return et.top>=0&&et.left>=0&&et.bottom>et.top&&et.right>et.left?et:null}function adjustForViewport($,_e,et,tt){var nt=utils$i.clone($),at={width:_e.width,height:_e.height};return tt.adjustX&&nt.left<et.left&&(nt.left=et.left),tt.resizeWidth&&nt.left>=et.left&&nt.left+at.width>et.right&&(at.width-=nt.left+at.width-et.right),tt.adjustX&&nt.left+at.width>et.right&&(nt.left=Math.max(et.right-at.width,et.left)),tt.adjustY&&nt.top<et.top&&(nt.top=et.top),tt.resizeHeight&&nt.top>=et.top&&nt.top+at.height>et.bottom&&(at.height-=nt.top+at.height-et.bottom),tt.adjustY&&nt.top+at.height>et.bottom&&(nt.top=Math.max(et.bottom-at.height,et.top)),utils$i.mix(nt,at)}function getRegion($){var _e,et,tt;if(!utils$i.isWindow($)&&$.nodeType!==9)_e=utils$i.offset($),et=utils$i.outerWidth($),tt=utils$i.outerHeight($);else{var nt=utils$i.getWindow($);_e={left:utils$i.getWindowScrollLeft(nt),top:utils$i.getWindowScrollTop(nt)},et=utils$i.viewportWidth(nt),tt=utils$i.viewportHeight(nt)}return _e.width=et,_e.height=tt,_e}function getAlignOffset($,_e){var et=_e.charAt(0),tt=_e.charAt(1),nt=$.width,at=$.height,ot=$.left,it=$.top;return et==="c"?it+=at/2:et==="b"&&(it+=at),tt==="c"?ot+=nt/2:tt==="r"&&(ot+=nt),{left:ot,top:it}}function getElFuturePos($,_e,et,tt,nt){var at=getAlignOffset(_e,et[1]),ot=getAlignOffset($,et[0]),it=[ot.left-at.left,ot.top-at.top];return{left:Math.round($.left-it[0]+tt[0]-nt[0]),top:Math.round($.top-it[1]+tt[1]-nt[1])}}function isFailX($,_e,et){return $.left<et.left||$.left+_e.width>et.right}function isFailY($,_e,et){return $.top<et.top||$.top+_e.height>et.bottom}function isCompleteFailX($,_e,et){return $.left>et.right||$.left+_e.width<et.left}function isCompleteFailY($,_e,et){return $.top>et.bottom||$.top+_e.height<et.top}function flip($,_e,et){var tt=[];return utils$i.each($,function(nt){tt.push(nt.replace(_e,function(at){return et[at]}))}),tt}function flipOffset($,_e){return $[_e]=-$[_e],$}function convertOffset($,_e){var et;return/%$/.test($)?et=parseInt($.substring(0,$.length-1),10)/100*_e:et=parseInt($,10),et||0}function normalizeOffset($,_e){$[0]=convertOffset($[0],_e.width),$[1]=convertOffset($[1],_e.height)}function doAlign($,_e,et,tt){var nt=et.points,at=et.offset||[0,0],ot=et.targetOffset||[0,0],it=et.overflow,st=et.source||$;at=[].concat(at),ot=[].concat(ot),it=it||{};var ut={},ft=0,dt=!!(it&&it.alwaysByViewport),vt=getVisibleRectForElement(st,dt),gt=getRegion(st);normalizeOffset(at,gt),normalizeOffset(ot,_e);var yt=getElFuturePos(gt,_e,nt,at,ot),xt=utils$i.merge(gt,yt);if(vt&&(it.adjustX||it.adjustY)&&tt){if(it.adjustX&&isFailX(yt,gt,vt)){var Ct=flip(nt,/[lr]/gi,{l:"r",r:"l"}),wt=flipOffset(at,0),Et=flipOffset(ot,0),$t=getElFuturePos(gt,_e,Ct,wt,Et);isCompleteFailX($t,gt,vt)||(ft=1,nt=Ct,at=wt,ot=Et)}if(it.adjustY&&isFailY(yt,gt,vt)){var It=flip(nt,/[tb]/gi,{t:"b",b:"t"}),Ot=flipOffset(at,1),Lt=flipOffset(ot,1),Ft=getElFuturePos(gt,_e,It,Ot,Lt);isCompleteFailY(Ft,gt,vt)||(ft=1,nt=It,at=Ot,ot=Lt)}ft&&(yt=getElFuturePos(gt,_e,nt,at,ot),utils$i.mix(xt,yt));var zt=isFailX(yt,gt,vt),Gt=isFailY(yt,gt,vt);if(zt||Gt){var jt=nt;zt&&(jt=flip(nt,/[lr]/gi,{l:"r",r:"l"})),Gt&&(jt=flip(nt,/[tb]/gi,{t:"b",b:"t"})),nt=jt,at=et.offset||[0,0],ot=et.targetOffset||[0,0]}ut.adjustX=it.adjustX&&zt,ut.adjustY=it.adjustY&&Gt,(ut.adjustX||ut.adjustY)&&(xt=adjustForViewport(yt,gt,vt,ut))}return xt.width!==gt.width&&utils$i.css(st,"width",utils$i.width(st)+xt.width-gt.width),xt.height!==gt.height&&utils$i.css(st,"height",utils$i.height(st)+xt.height-gt.height),utils$i.offset(st,{left:xt.left,top:xt.top},{useCssRight:et.useCssRight,useCssBottom:et.useCssBottom,useCssTransform:et.useCssTransform,ignoreShake:et.ignoreShake}),{points:nt,offset:at,targetOffset:ot,overflow:ut}}function isOutOfVisibleRect($,_e){var et=getVisibleRectForElement($,_e),tt=getRegion($);return!et||tt.left+tt.width<=et.left||tt.top+tt.height<=et.top||tt.left>=et.right||tt.top>=et.bottom}function alignElement($,_e,et){var tt=et.target||_e,nt=getRegion(tt),at=!isOutOfVisibleRect(tt,et.overflow&&et.overflow.alwaysByViewport);return doAlign($,nt,et,at)}alignElement.__getOffsetParent=getOffsetParent;alignElement.__getVisibleRectForElement=getVisibleRectForElement;function alignPoint($,_e,et){var tt,nt,at=utils$i.getDocument($),ot=at.defaultView||at.parentWindow,it=utils$i.getWindowScrollLeft(ot),st=utils$i.getWindowScrollTop(ot),ut=utils$i.viewportWidth(ot),ft=utils$i.viewportHeight(ot);"pageX"in _e?tt=_e.pageX:tt=it+_e.clientX,"pageY"in _e?nt=_e.pageY:nt=st+_e.clientY;var dt={left:tt,top:nt,width:0,height:0},vt=tt>=0&&tt<=it+ut&&nt>=0&&nt<=st+ft,gt=[et.points[0],"cc"];return doAlign($,dt,_objectSpread2(_objectSpread2({},et),{},{points:gt}),vt)}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2($,_e){return $===_e||$!==$&&_e!==_e}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4($,_e){for(var et=$.length;et--;)if(eq$1($[et][0],_e))return et;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto$1=Array.prototype,splice=arrayProto$1.splice;function listCacheDelete$1($){var _e=this.__data__,et=assocIndexOf$3(_e,$);if(et<0)return!1;var tt=_e.length-1;return et==tt?_e.pop():splice.call(_e,et,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$2($){var _e=this.__data__,et=assocIndexOf$2(_e,$);return et<0?void 0:_e[et][1]}var _listCacheGet=listCacheGet$2,assocIndexOf$1=_assocIndexOf;function listCacheHas$1($){return assocIndexOf$1(this.__data__,$)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$2($,_e){var et=this.__data__,tt=assocIndexOf(et,$);return tt<0?(++this.size,et.push([$,_e])):et[tt][1]=_e,this}var _listCacheSet=listCacheSet$2,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet$1=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet$1=_listCacheSet;function ListCache$4($){var _e=-1,et=$==null?0:$.length;for(this.clear();++_e<et;){var tt=$[_e];this.set(tt[0],tt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet$1;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet$1;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1($){var _e=this.__data__,et=_e.delete($);return this.size=_e.size,et}var _stackDelete=stackDelete$1;function stackGet$1($){return this.__data__.get($)}var _stackGet=stackGet$1;function stackHas$1($){return this.__data__.has($)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$5=root$8.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1($){var _e=hasOwnProperty$8.call($,symToStringTag$1),et=$[symToStringTag$1];try{$[symToStringTag$1]=void 0;var tt=!0}catch{}var nt=nativeObjectToString$1.call($);return tt&&(_e?$[symToStringTag$1]=et:delete $[symToStringTag$1]),nt}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1($){return nativeObjectToString.call($)}var _objectToString=objectToString$1,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$5($){return $==null?$===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object($)?getRawTag($):objectToString($)}var _baseGetTag=baseGetTag$5;function isObject$9($){var _e=typeof $;return $!=null&&(_e=="object"||_e=="function")}var isObject_1=isObject$9,baseGetTag$4=_baseGetTag,isObject$8=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4($){if(!isObject$8($))return!1;var _e=baseGetTag$4($);return _e==funcTag$1||_e==genTag||_e==asyncTag||_e==proxyTag}var isFunction_1=isFunction$4,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var $=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}();function isMasked$1($){return!!maskSrcKey&&maskSrcKey in $}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2($){if($!=null){try{return funcToString$1.call($)}catch{}try{return $+""}catch{}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1,isMasked=_isMasked,isObject$7=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1($){if(!isObject$7($)||isMasked($))return!1;var _e=isFunction$3($)?reIsNative:reIsHostCtor;return _e.test(toSource$1($))}var _baseIsNative=baseIsNative$1;function getValue$1($,_e){return $==null?void 0:$[_e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6($,_e){var et=getValue($,_e);return baseIsNative(et)?et:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1($){var _e=this.has($)&&delete this.__data__[$];return this.size-=_e?1:0,_e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashGet$1($){var _e=this.__data__;if(nativeCreate$2){var et=_e[$];return et===HASH_UNDEFINED$2?void 0:et}return hasOwnProperty$6.call(_e,$)?_e[$]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashHas$1($){var _e=this.__data__;return nativeCreate$1?_e[$]!==void 0:hasOwnProperty$5.call(_e,$)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1($,_e){var et=this.__data__;return this.size+=this.has($)?0:1,et[$]=nativeCreate&&_e===void 0?HASH_UNDEFINED$1:_e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1($){var _e=-1,et=$==null?0:$.length;for(this.clear();++_e<et;){var tt=$[_e];this.set(tt[0],tt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1($){var _e=typeof $;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?$!=="__proto__":$===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4($,_e){var et=$.__data__;return isKeyable(_e)?et[typeof _e=="string"?"string":"hash"]:et.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1($){var _e=getMapData$3(this,$).delete($);return this.size-=_e?1:0,_e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1($){return getMapData$2(this,$).get($)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1($){return getMapData$1(this,$).has($)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1($,_e){var et=getMapData(this,$),tt=et.size;return et.set($,_e),this.size+=et.size==tt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2($){var _e=-1,et=$==null?0:$.length;for(this.clear();++_e<et;){var tt=$[_e];this.set(tt[0],tt[1])}}MapCache$2.prototype.clear=mapCacheClear;MapCache$2.prototype.delete=mapCacheDelete;MapCache$2.prototype.get=mapCacheGet;MapCache$2.prototype.has=mapCacheHas;MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1($,_e){var et=this.__data__;if(et instanceof ListCache$1){var tt=et.__data__;if(!Map$2||tt.length<LARGE_ARRAY_SIZE-1)return tt.push([$,_e]),this.size=++et.size,this;et=this.__data__=new MapCache$1(tt)}return et.set($,_e),this.size=et.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1($){var _e=this.__data__=new ListCache($);this.size=_e.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1($){return this.__data__.set($,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1($){return this.__data__.has($)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1($){var _e=-1,et=$==null?0:$.length;for(this.__data__=new MapCache;++_e<et;)this.add($[_e])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1($,_e){for(var et=-1,tt=$==null?0:$.length;++et<tt;)if(_e($[et],et,$))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1($,_e){return $.has(_e)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2($,_e,et,tt,nt,at){var ot=et&COMPARE_PARTIAL_FLAG$3,it=$.length,st=_e.length;if(it!=st&&!(ot&&st>it))return!1;var ut=at.get($),ft=at.get(_e);if(ut&&ft)return ut==_e&&ft==$;var dt=-1,vt=!0,gt=et&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(at.set($,_e),at.set(_e,$);++dt<it;){var yt=$[dt],xt=_e[dt];if(tt)var Ct=ot?tt(xt,yt,dt,_e,$,at):tt(yt,xt,dt,$,_e,at);if(Ct!==void 0){if(Ct)continue;vt=!1;break}if(gt){if(!arraySome(_e,function(wt,Et){if(!cacheHas(gt,Et)&&(yt===wt||nt(yt,wt,et,tt,at)))return gt.push(Et)})){vt=!1;break}}else if(!(yt===xt||nt(yt,xt,et,tt,at))){vt=!1;break}}return at.delete($),at.delete(_e),vt}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1($){var _e=-1,et=Array($.size);return $.forEach(function(tt,nt){et[++_e]=[nt,tt]}),et}var _mapToArray=mapToArray$1;function setToArray$1($){var _e=-1,et=Array($.size);return $.forEach(function(tt){et[++_e]=tt}),et}var _setToArray=setToArray$1,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1($,_e,et,tt,nt,at,ot){switch(et){case dataViewTag$2:if($.byteLength!=_e.byteLength||$.byteOffset!=_e.byteOffset)return!1;$=$.buffer,_e=_e.buffer;case arrayBufferTag$1:return!($.byteLength!=_e.byteLength||!at(new Uint8Array$1($),new Uint8Array$1(_e)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+$,+_e);case errorTag$1:return $.name==_e.name&&$.message==_e.message;case regexpTag$1:case stringTag$1:return $==_e+"";case mapTag$2:var it=mapToArray;case setTag$2:var st=tt&COMPARE_PARTIAL_FLAG$2;if(it||(it=setToArray),$.size!=_e.size&&!st)return!1;var ut=ot.get($);if(ut)return ut==_e;tt|=COMPARE_UNORDERED_FLAG,ot.set($,_e);var ft=equalArrays$1(it($),it(_e),tt,nt,at,ot);return ot.delete($),ft;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call($)==symbolValueOf.call(_e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1($,_e){for(var et=-1,tt=_e.length,nt=$.length;++et<tt;)$[nt+et]=_e[et];return $}var _arrayPush=arrayPush$1,isArray$6=Array.isArray,isArray_1=isArray$6,arrayPush=_arrayPush,isArray$5=isArray_1;function baseGetAllKeys$1($,_e,et){var tt=_e($);return isArray$5($)?tt:arrayPush(tt,et($))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1($,_e){for(var et=-1,tt=$==null?0:$.length,nt=0,at=[];++et<tt;){var ot=$[et];_e(ot,et,$)&&(at[nt++]=ot)}return at}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function($){return $==null?[]:($=Object($),arrayFilter(nativeGetSymbols($),function(_e){return propertyIsEnumerable$1.call($,_e)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1($,_e){for(var et=-1,tt=Array($);++et<$;)tt[et]=_e(et);return tt}var _baseTimes=baseTimes$1;function isObjectLike$5($){return $!=null&&typeof $=="object"}var isObjectLike_1=isObjectLike$5,baseGetTag$3=_baseGetTag,isObjectLike$4=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1($){return isObjectLike$4($)&&baseGetTag$3($)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$3=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function($){return isObjectLike$3($)&&hasOwnProperty$4.call($,"callee")&&!propertyIsEnumerable.call($,"callee")},isArguments_1=isArguments$1,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function($,_e){var et=_root,tt=stubFalse_1,nt=_e&&!_e.nodeType&&_e,at=nt&&!0&&$&&!$.nodeType&&$,ot=at&&at.exports===nt,it=ot?et.Buffer:void 0,st=it?it.isBuffer:void 0,ut=st||tt;$.exports=ut})(isBuffer$3,isBuffer$3.exports);var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1($,_e){var et=typeof $;return _e=_e==null?MAX_SAFE_INTEGER$2:_e,!!_e&&(et=="number"||et!="symbol"&&reIsUint.test($))&&$>-1&&$%1==0&&$<_e}var _isIndex=isIndex$1,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2($){return typeof $=="number"&&$>-1&&$%1==0&&$<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,baseGetTag$2=_baseGetTag,isLength$1=isLength_1,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1($){return isObjectLike$2($)&&isLength$1($.length)&&!!typedArrayTags[baseGetTag$2($)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1($){return function(_e){return $(_e)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};(function($,_e){var et=_freeGlobal,tt=_e&&!_e.nodeType&&_e,nt=tt&&!0&&$&&!$.nodeType&&$,at=nt&&nt.exports===tt,ot=at&&et.process,it=function(){try{var st=nt&&nt.require&&nt.require("util").types;return st||ot&&ot.binding&&ot.binding("util")}catch{}}();$.exports=it})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$4=isArray_1,isBuffer$2=isBuffer$3.exports,isIndex=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1($,_e){var et=isArray$4($),tt=!et&&isArguments($),nt=!et&&!tt&&isBuffer$2($),at=!et&&!tt&&!nt&&isTypedArray$3($),ot=et||tt||nt||at,it=ot?baseTimes($.length,String):[],st=it.length;for(var ut in $)(_e||hasOwnProperty$3.call($,ut))&&!(ot&&(ut=="length"||nt&&(ut=="offset"||ut=="parent")||at&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||isIndex(ut,st)))&&it.push(ut);return it}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1($){var _e=$&&$.constructor,et=typeof _e=="function"&&_e.prototype||objectProto$3;return $===et}var _isPrototype=isPrototype$1;function overArg$1($,_e){return function(et){return $(_e(et))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1($){if(!isPrototype($))return nativeKeys($);var _e=[];for(var et in Object($))hasOwnProperty$2.call($,et)&&et!="constructor"&&_e.push(et);return _e}var _baseKeys=baseKeys$1,isFunction$2=isFunction_1,isLength=isLength_1;function isArrayLike$2($){return $!=null&&isLength($.length)&&!isFunction$2($)}var isArrayLike_1=isArrayLike$2,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$1=isArrayLike_1;function keys$2($){return isArrayLike$1($)?arrayLikeKeys($):baseKeys($)}var keys_1=keys$2,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$1=keys_1;function getAllKeys$1($){return baseGetAllKeys($,keys$1,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1($,_e,et,tt,nt,at){var ot=et&COMPARE_PARTIAL_FLAG$1,it=getAllKeys($),st=it.length,ut=getAllKeys(_e),ft=ut.length;if(st!=ft&&!ot)return!1;for(var dt=st;dt--;){var vt=it[dt];if(!(ot?vt in _e:hasOwnProperty$1.call(_e,vt)))return!1}var gt=at.get($),yt=at.get(_e);if(gt&&yt)return gt==_e&&yt==$;var xt=!0;at.set($,_e),at.set(_e,$);for(var Ct=ot;++dt<st;){vt=it[dt];var wt=$[vt],Et=_e[vt];if(tt)var $t=ot?tt(Et,wt,vt,_e,$,at):tt(wt,Et,vt,$,_e,at);if(!($t===void 0?wt===Et||nt(wt,Et,et,tt,at):$t)){xt=!1;break}Ct||(Ct=vt=="constructor")}if(xt&&!Ct){var It=$.constructor,Ot=_e.constructor;It!=Ot&&"constructor"in $&&"constructor"in _e&&!(typeof It=="function"&&It instanceof It&&typeof Ot=="function"&&Ot instanceof Ot)&&(xt=!1)}return at.delete($),at.delete(_e),xt}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$3=getNative$3(root$4,"DataView"),_DataView=DataView$3,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$4=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$4,DataView$2=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$3=_WeakMap,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$3),getTag$1=baseGetTag$1;(DataView$2&&getTag$1(new DataView$2(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$3&&getTag$1(new WeakMap$3)!=weakMapTag)&&(getTag$1=function($){var _e=baseGetTag$1($),et=_e==objectTag$1?$.constructor:void 0,tt=et?toSource(et):"";if(tt)switch(tt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return _e});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$3=isArray_1,isBuffer$1=isBuffer$3.exports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1($,_e,et,tt,nt,at){var ot=isArray$3($),it=isArray$3(_e),st=ot?arrayTag:getTag($),ut=it?arrayTag:getTag(_e);st=st==argsTag?objectTag:st,ut=ut==argsTag?objectTag:ut;var ft=st==objectTag,dt=ut==objectTag,vt=st==ut;if(vt&&isBuffer$1($)){if(!isBuffer$1(_e))return!1;ot=!0,ft=!1}if(vt&&!ft)return at||(at=new Stack),ot||isTypedArray$2($)?equalArrays($,_e,et,tt,nt,at):equalByTag($,_e,st,et,tt,nt,at);if(!(et&COMPARE_PARTIAL_FLAG)){var gt=ft&&hasOwnProperty.call($,"__wrapped__"),yt=dt&&hasOwnProperty.call(_e,"__wrapped__");if(gt||yt){var xt=gt?$.value():$,Ct=yt?_e.value():_e;return at||(at=new Stack),nt(xt,Ct,et,tt,at)}}return vt?(at||(at=new Stack),equalObjects($,_e,et,tt,nt,at)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$1=isObjectLike_1;function baseIsEqual$1($,_e,et,tt,nt){return $===_e?!0:$==null||_e==null||!isObjectLike$1($)&&!isObjectLike$1(_e)?$!==$&&_e!==_e:baseIsEqualDeep($,_e,et,tt,baseIsEqual$1,nt)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual($,_e){return baseIsEqual($,_e)}var isEqual_1=isEqual;function isSamePoint($,_e){return $===_e?!0:!$||!_e?!1:"pageX"in _e&&"pageY"in _e?$.pageX===_e.pageX&&$.pageY===_e.pageY:"clientX"in _e&&"clientY"in _e?$.clientX===_e.clientX&&$.clientY===_e.clientY:!1}function restoreFocus($,_e){$!==document.activeElement&&contains(_e,$)&&typeof $.focus=="function"&&$.focus()}function monitorResize($,_e){var et=null,tt=null;function nt(ot){var it=_slicedToArray$3(ot,1),st=it[0].target;if(!!document.documentElement.contains(st)){var ut=st.getBoundingClientRect(),ft=ut.width,dt=ut.height,vt=Math.floor(ft),gt=Math.floor(dt);(et!==vt||tt!==gt)&&Promise.resolve().then(function(){_e({width:vt,height:gt})}),et=vt,tt=gt}}var at=new index$7(nt);return $&&at.observe($),function(){at.disconnect()}}var useBuffer=function($,_e){var et=React.useRef(!1),tt=React.useRef(null);function nt(){window.clearTimeout(tt.current)}function at(ot){if(nt(),!et.current||ot===!0){if($()===!1)return;et.current=!0,tt.current=window.setTimeout(function(){et.current=!1},_e)}else tt.current=window.setTimeout(function(){et.current=!1,at()},_e)}return[at,function(){et.current=!1,nt()}]};function getElement($){return typeof $!="function"?null:$()}function getPoint($){return _typeof$4($)!=="object"||!$?null:$}var Align=function(_e,et){var tt=_e.children,nt=_e.disabled,at=_e.target,ot=_e.align,it=_e.onAlign,st=_e.monitorWindowResize,ut=_e.monitorBufferTime,ft=ut===void 0?0:ut,dt=React.useRef({}),vt=React.useRef(),gt=React.Children.only(tt),yt=React.useRef({});yt.current.disabled=nt,yt.current.target=at,yt.current.align=ot,yt.current.onAlign=it;var xt=useBuffer(function(){var Lt=yt.current,Ft=Lt.disabled,zt=Lt.target,Gt=Lt.align,jt=Lt.onAlign;if(!Ft&&zt){var Ut=vt.current,Kt,Zt=getElement(zt),Qt=getPoint(zt);dt.current.element=Zt,dt.current.point=Qt,dt.current.align=Gt;var rr=document,nr=rr.activeElement;return Zt&&isVisible(Zt)?Kt=alignElement(Ut,Zt,Gt):Qt&&(Kt=alignPoint(Ut,Qt,Gt)),restoreFocus(nr,Ut),jt&&Kt&&jt(Ut,Kt),!0}return!1},ft),Ct=_slicedToArray$3(xt,2),wt=Ct[0],Et=Ct[1],$t=React.useRef({cancel:function(){}}),It=React.useRef({cancel:function(){}});React.useEffect(function(){var Lt=getElement(at),Ft=getPoint(at);vt.current!==It.current.element&&(It.current.cancel(),It.current.element=vt.current,It.current.cancel=monitorResize(vt.current,wt)),(dt.current.element!==Lt||!isSamePoint(dt.current.point,Ft)||!isEqual_1(dt.current.align,ot))&&(wt(),$t.current.element!==Lt&&($t.current.cancel(),$t.current.element=Lt,$t.current.cancel=monitorResize(Lt,wt)))}),React.useEffect(function(){nt?Et():wt()},[nt]);var Ot=React.useRef(null);return React.useEffect(function(){st?Ot.current||(Ot.current=addEventListenerWrap(window,"resize",wt)):Ot.current&&(Ot.current.remove(),Ot.current=null)},[st]),React.useEffect(function(){return function(){$t.current.cancel(),It.current.cancel(),Ot.current&&Ot.current.remove(),Et()}},[]),React.useImperativeHandle(et,function(){return{forceAlign:function(){return wt(!0)}}}),React.isValidElement(gt)&&(gt=React.cloneElement(gt,{ref:composeRef(gt.ref,vt)})),gt},RcAlign=React.forwardRef(Align);RcAlign.displayName="Align";var StatusQueue=["measure","alignPre","align",null,"motion"],useVisibleStatus=function($,_e){var et=useSafeState(null),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1],ot=react.exports.useRef();function it(ft){at(ft,!0)}function st(){wrapperRaf$1.cancel(ot.current)}function ut(ft){st(),ot.current=wrapperRaf$1(function(){it(function(dt){switch(nt){case"align":return"motion";case"motion":return"stable"}return dt}),ft==null||ft()})}return react.exports.useEffect(function(){it("measure")},[$]),react.exports.useEffect(function(){switch(nt){case"measure":_e();break}nt&&(ot.current=wrapperRaf$1(_asyncToGenerator(_regeneratorRuntime().mark(function ft(){var dt,vt;return _regeneratorRuntime().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:dt=StatusQueue.indexOf(nt),vt=StatusQueue[dt+1],vt&&dt!==-1&&it(vt);case 3:case"end":return yt.stop()}},ft)}))))},[nt]),react.exports.useEffect(function(){return function(){st()}},[]),[nt,ut]},useStretchStyle=function($){var _e=react.exports.useState({width:0,height:0}),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1];function at(it){nt({width:it.offsetWidth,height:it.offsetHeight})}var ot=react.exports.useMemo(function(){var it={};if($){var st=tt.width,ut=tt.height;$.indexOf("height")!==-1&&ut?it.height=ut:$.indexOf("minHeight")!==-1&&ut&&(it.minHeight=ut),$.indexOf("width")!==-1&&st?it.width=st:$.indexOf("minWidth")!==-1&&st&&(it.minWidth=st)}return it},[$,tt]);return[ot,at]},PopupInner=react.exports.forwardRef(function($,_e){var et=$.visible,tt=$.prefixCls,nt=$.className,at=$.style,ot=$.children,it=$.zIndex,st=$.stretch,ut=$.destroyPopupOnHide,ft=$.forceRender,dt=$.align,vt=$.point,gt=$.getRootDomNode,yt=$.getClassNameFromAlign,xt=$.onAlign,Ct=$.onMouseEnter,wt=$.onMouseLeave,Et=$.onMouseDown,$t=$.onTouchStart,It=$.onClick,Ot=react.exports.useRef(),Lt=react.exports.useRef(),Ft=react.exports.useState(),zt=_slicedToArray$3(Ft,2),Gt=zt[0],jt=zt[1],Ut=useStretchStyle(st),Kt=_slicedToArray$3(Ut,2),Zt=Kt[0],Qt=Kt[1];function rr(){st&&Qt(gt())}var nr=useVisibleStatus(et,rr),dr=_slicedToArray$3(nr,2),sr=dr[0],fr=dr[1],yr=react.exports.useState(0),Pr=_slicedToArray$3(yr,2),wr=Pr[0],Mr=Pr[1],Lr=react.exports.useRef();useLayoutEffect$1(function(){sr==="alignPre"&&Mr(0)},[sr]);function Br(){return vt||gt}function qr(){var Sn;(Sn=Ot.current)===null||Sn===void 0||Sn.forceAlign()}function Qr(Sn,cn){var Pn=yt(cn);Gt!==Pn&&jt(Pn),Mr(function(In){return In+1}),sr==="align"&&(xt==null||xt(Sn,cn))}useLayoutEffect$1(function(){sr==="align"&&(wr<2?qr():fr(function(){var Sn;(Sn=Lr.current)===null||Sn===void 0||Sn.call(Lr)}))},[wr]);var Jr=_objectSpread2$1({},getMotion$1($));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Sn){var cn=Jr[Sn];Jr[Sn]=function(Pn,In){return fr(),cn==null?void 0:cn(Pn,In)}});function sn(){return new Promise(function(Sn){Lr.current=Sn})}react.exports.useEffect(function(){!Jr.motionName&&sr==="motion"&&fr()},[Jr.motionName,sr]),react.exports.useImperativeHandle(_e,function(){return{forceAlign:qr,getElement:function(){return Lt.current}}});var yn=_objectSpread2$1(_objectSpread2$1({},Zt),{},{zIndex:it,opacity:sr==="motion"||sr==="stable"||!et?void 0:0,pointerEvents:!et&&sr!=="stable"?"none":void 0},at),pn=!0;(dt==null?void 0:dt.points)&&(sr==="align"||sr==="stable")&&(pn=!1);var ln=ot;return react.exports.Children.count(ot)>1&&(ln=react.exports.createElement("div",{className:"".concat(tt,"-content")},ot)),react.exports.createElement(CSSMotion,_extends$2({visible:et,ref:Lt,leavedClassName:"".concat(tt,"-hidden")},Jr,{onAppearPrepare:sn,onEnterPrepare:sn,removeOnLeave:ut,forceRender:ft}),function(Sn,cn){var Pn=Sn.className,In=Sn.style,Rn=classNames(tt,nt,Gt,Pn);return react.exports.createElement(RcAlign,{target:Br(),key:"popup",ref:Ot,monitorWindowResize:!0,disabled:pn,align:dt,onAlign:Qr},react.exports.createElement("div",{ref:cn,className:Rn,onMouseEnter:Ct,onMouseLeave:wt,onMouseDownCapture:Et,onTouchStartCapture:$t,onClick:It,style:_objectSpread2$1(_objectSpread2$1({},In),yn)},ln))})});PopupInner.displayName="PopupInner";var MobilePopupInner=react.exports.forwardRef(function($,_e){var et=$.prefixCls,tt=$.visible,nt=$.zIndex,at=$.children,ot=$.mobile;ot=ot===void 0?{}:ot;var it=ot.popupClassName,st=ot.popupStyle,ut=ot.popupMotion,ft=ut===void 0?{}:ut,dt=ot.popupRender,vt=$.onClick,gt=react.exports.useRef();react.exports.useImperativeHandle(_e,function(){return{forceAlign:function(){},getElement:function(){return gt.current}}});var yt=_objectSpread2$1({zIndex:nt},st),xt=at;return react.exports.Children.count(at)>1&&(xt=react.exports.createElement("div",{className:"".concat(et,"-content")},at)),dt&&(xt=dt(xt)),react.exports.createElement(CSSMotion,_extends$2({visible:tt,ref:gt,removeOnLeave:!0},ft),function(Ct,wt){var Et=Ct.className,$t=Ct.style,It=classNames(et,it,Et);return react.exports.createElement("div",{ref:wt,className:It,onClick:vt,style:_objectSpread2$1(_objectSpread2$1({},$t),yt)},xt)})});MobilePopupInner.displayName="MobilePopupInner";var _excluded$u=["visible","mobile"],Popup$1=react.exports.forwardRef(function($,_e){var et=$.visible,tt=$.mobile,nt=_objectWithoutProperties$1($,_excluded$u),at=react.exports.useState(et),ot=_slicedToArray$3(at,2),it=ot[0],st=ot[1],ut=react.exports.useState(!1),ft=_slicedToArray$3(ut,2),dt=ft[0],vt=ft[1],gt=_objectSpread2$1(_objectSpread2$1({},nt),{},{visible:it});react.exports.useEffect(function(){st(et),et&&tt&&vt(isMobile())},[et,tt]);var yt=dt?react.exports.createElement(MobilePopupInner,_extends$2({},gt,{mobile:tt,ref:_e})):react.exports.createElement(PopupInner,_extends$2({},gt,{ref:_e}));return react.exports.createElement("div",null,react.exports.createElement(Mask,gt),yt)});Popup$1.displayName="Popup";var TriggerContext=react.exports.createContext(null);function noop$3(){}function returnEmptyString(){return""}function returnDocument($){return $?$.ownerDocument:window.document}var ALL_HANDLERS=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function generateTrigger($){var _e=function(et){_inherits$1(nt,et);var tt=_createSuper$1(nt);function nt(at){var ot;_classCallCheck$2(this,nt),ot=tt.call(this,at),ot.popupRef=react.exports.createRef(),ot.triggerRef=react.exports.createRef(),ot.portalContainer=void 0,ot.attachId=void 0,ot.clickOutsideHandler=void 0,ot.touchOutsideHandler=void 0,ot.contextMenuOutsideHandler1=void 0,ot.contextMenuOutsideHandler2=void 0,ot.mouseDownTimeout=void 0,ot.focusTime=void 0,ot.preClickTime=void 0,ot.preTouchTime=void 0,ot.delayTimer=void 0,ot.hasPopupMouseDown=void 0,ot.onMouseEnter=function(st){var ut=ot.props.mouseEnterDelay;ot.fireEvents("onMouseEnter",st),ot.delaySetPopupVisible(!0,ut,ut?null:st)},ot.onMouseMove=function(st){ot.fireEvents("onMouseMove",st),ot.setPoint(st)},ot.onMouseLeave=function(st){ot.fireEvents("onMouseLeave",st),ot.delaySetPopupVisible(!1,ot.props.mouseLeaveDelay)},ot.onPopupMouseEnter=function(){ot.clearDelayTimer()},ot.onPopupMouseLeave=function(st){var ut;st.relatedTarget&&!st.relatedTarget.setTimeout&&contains((ut=ot.popupRef.current)===null||ut===void 0?void 0:ut.getElement(),st.relatedTarget)||ot.delaySetPopupVisible(!1,ot.props.mouseLeaveDelay)},ot.onFocus=function(st){ot.fireEvents("onFocus",st),ot.clearDelayTimer(),ot.isFocusToShow()&&(ot.focusTime=Date.now(),ot.delaySetPopupVisible(!0,ot.props.focusDelay))},ot.onMouseDown=function(st){ot.fireEvents("onMouseDown",st),ot.preClickTime=Date.now()},ot.onTouchStart=function(st){ot.fireEvents("onTouchStart",st),ot.preTouchTime=Date.now()},ot.onBlur=function(st){ot.fireEvents("onBlur",st),ot.clearDelayTimer(),ot.isBlurToHide()&&ot.delaySetPopupVisible(!1,ot.props.blurDelay)},ot.onContextMenu=function(st){st.preventDefault(),ot.fireEvents("onContextMenu",st),ot.setPopupVisible(!0,st)},ot.onContextMenuClose=function(){ot.isContextMenuToShow()&&ot.close()},ot.onClick=function(st){if(ot.fireEvents("onClick",st),ot.focusTime){var ut;if(ot.preClickTime&&ot.preTouchTime?ut=Math.min(ot.preClickTime,ot.preTouchTime):ot.preClickTime?ut=ot.preClickTime:ot.preTouchTime&&(ut=ot.preTouchTime),Math.abs(ut-ot.focusTime)<20)return;ot.focusTime=0}ot.preClickTime=0,ot.preTouchTime=0,ot.isClickToShow()&&(ot.isClickToHide()||ot.isBlurToHide())&&st&&st.preventDefault&&st.preventDefault();var ft=!ot.state.popupVisible;(ot.isClickToHide()&&!ft||ft&&ot.isClickToShow())&&ot.setPopupVisible(!ot.state.popupVisible,st)},ot.onPopupMouseDown=function(){if(ot.hasPopupMouseDown=!0,clearTimeout(ot.mouseDownTimeout),ot.mouseDownTimeout=window.setTimeout(function(){ot.hasPopupMouseDown=!1},0),ot.context){var st;(st=ot.context).onPopupMouseDown.apply(st,arguments)}},ot.onDocumentClick=function(st){if(!(ot.props.mask&&!ot.props.maskClosable)){var ut=st.target,ft=ot.getRootDomNode(),dt=ot.getPopupDomNode();(!contains(ft,ut)||ot.isContextMenuOnly())&&!contains(dt,ut)&&!ot.hasPopupMouseDown&&ot.close()}},ot.getRootDomNode=function(){var st=ot.props.getTriggerDOMNode;if(st)return st(ot.triggerRef.current);try{var ut=findDOMNode(ot.triggerRef.current);if(ut)return ut}catch{}return ReactDOM.findDOMNode(_assertThisInitialized$1(ot))},ot.getPopupClassNameFromAlign=function(st){var ut=[],ft=ot.props,dt=ft.popupPlacement,vt=ft.builtinPlacements,gt=ft.prefixCls,yt=ft.alignPoint,xt=ft.getPopupClassNameFromAlign;return dt&&vt&&ut.push(getAlignPopupClassName(vt,gt,st,yt)),xt&&ut.push(xt(st)),ut.join(" ")},ot.getComponent=function(){var st=ot.props,ut=st.prefixCls,ft=st.destroyPopupOnHide,dt=st.popupClassName,vt=st.onPopupAlign,gt=st.popupMotion,yt=st.popupAnimation,xt=st.popupTransitionName,Ct=st.popupStyle,wt=st.mask,Et=st.maskAnimation,$t=st.maskTransitionName,It=st.maskMotion,Ot=st.zIndex,Lt=st.popup,Ft=st.stretch,zt=st.alignPoint,Gt=st.mobile,jt=st.forceRender,Ut=st.onPopupClick,Kt=ot.state,Zt=Kt.popupVisible,Qt=Kt.point,rr=ot.getPopupAlign(),nr={};return ot.isMouseEnterToShow()&&(nr.onMouseEnter=ot.onPopupMouseEnter),ot.isMouseLeaveToHide()&&(nr.onMouseLeave=ot.onPopupMouseLeave),nr.onMouseDown=ot.onPopupMouseDown,nr.onTouchStart=ot.onPopupMouseDown,react.exports.createElement(Popup$1,_extends$2({prefixCls:ut,destroyPopupOnHide:ft,visible:Zt,point:zt&&Qt,className:dt,align:rr,onAlign:vt,animation:yt,getClassNameFromAlign:ot.getPopupClassNameFromAlign},nr,{stretch:Ft,getRootDomNode:ot.getRootDomNode,style:Ct,mask:wt,zIndex:Ot,transitionName:xt,maskAnimation:Et,maskTransitionName:$t,maskMotion:It,ref:ot.popupRef,motion:gt,mobile:Gt,forceRender:jt,onClick:Ut}),typeof Lt=="function"?Lt():Lt)},ot.attachParent=function(st){wrapperRaf$1.cancel(ot.attachId);var ut=ot.props,ft=ut.getPopupContainer,dt=ut.getDocument,vt=ot.getRootDomNode(),gt;ft?(vt||ft.length===0)&&(gt=ft(vt)):gt=dt(ot.getRootDomNode()).body,gt?gt.appendChild(st):ot.attachId=wrapperRaf$1(function(){ot.attachParent(st)})},ot.getContainer=function(){if(!ot.portalContainer){var st=ot.props.getDocument,ut=st(ot.getRootDomNode()).createElement("div");ut.style.position="absolute",ut.style.top="0",ut.style.left="0",ut.style.width="100%",ot.portalContainer=ut}return ot.attachParent(ot.portalContainer),ot.portalContainer},ot.setPoint=function(st){var ut=ot.props.alignPoint;!ut||!st||ot.setState({point:{pageX:st.pageX,pageY:st.pageY}})},ot.handlePortalUpdate=function(){ot.state.prevPopupVisible!==ot.state.popupVisible&&ot.props.afterPopupVisibleChange(ot.state.popupVisible)},ot.triggerContextValue={onPopupMouseDown:ot.onPopupMouseDown};var it;return"popupVisible"in at?it=!!at.popupVisible:it=!!at.defaultPopupVisible,ot.state={prevPopupVisible:it,popupVisible:it},ALL_HANDLERS.forEach(function(st){ot["fire".concat(st)]=function(ut){ot.fireEvents(st,ut)}}),ot}return _createClass$2(nt,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var ot=this.props,it=this.state;if(it.popupVisible){var st;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(st=ot.getDocument(this.getRootDomNode()),this.clickOutsideHandler=addEventListenerWrap(st,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(st=st||ot.getDocument(this.getRootDomNode()),this.touchOutsideHandler=addEventListenerWrap(st,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(st=st||ot.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=addEventListenerWrap(st,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=addEventListenerWrap(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),wrapperRaf$1.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var ot;return((ot=this.popupRef.current)===null||ot===void 0?void 0:ot.getElement())||null}},{key:"getPopupAlign",value:function(){var ot=this.props,it=ot.popupPlacement,st=ot.popupAlign,ut=ot.builtinPlacements;return it&&ut?getAlignFromPlacement(ut,it,st):st}},{key:"setPopupVisible",value:function(ot,it){var st=this.props.alignPoint,ut=this.state.popupVisible;this.clearDelayTimer(),ut!==ot&&("popupVisible"in this.props||this.setState({popupVisible:ot,prevPopupVisible:ut}),this.props.onPopupVisibleChange(ot)),st&&it&&ot&&this.setPoint(it)}},{key:"delaySetPopupVisible",value:function(ot,it,st){var ut=this,ft=it*1e3;if(this.clearDelayTimer(),ft){var dt=st?{pageX:st.pageX,pageY:st.pageY}:null;this.delayTimer=window.setTimeout(function(){ut.setPopupVisible(ot,dt),ut.clearDelayTimer()},ft)}else this.setPopupVisible(ot,st)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(ot){var it=this.props.children.props,st=this.props;return it[ot]&&st[ot]?this["fire".concat(ot)]:it[ot]||st[ot]}},{key:"isClickToShow",value:function(){var ot=this.props,it=ot.action,st=ot.showAction;return it.indexOf("click")!==-1||st.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var ot=this.props.action;return ot==="contextMenu"||ot.length===1&&ot[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var ot=this.props,it=ot.action,st=ot.showAction;return it.indexOf("contextMenu")!==-1||st.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var ot=this.props,it=ot.action,st=ot.hideAction;return it.indexOf("click")!==-1||st.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var ot=this.props,it=ot.action,st=ot.showAction;return it.indexOf("hover")!==-1||st.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var ot=this.props,it=ot.action,st=ot.hideAction;return it.indexOf("hover")!==-1||st.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var ot=this.props,it=ot.action,st=ot.showAction;return it.indexOf("focus")!==-1||st.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var ot=this.props,it=ot.action,st=ot.hideAction;return it.indexOf("focus")!==-1||st.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var ot;(ot=this.popupRef.current)===null||ot===void 0||ot.forceAlign()}}},{key:"fireEvents",value:function(ot,it){var st=this.props.children.props[ot];st&&st(it);var ut=this.props[ot];ut&&ut(it)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var ot=this.state.popupVisible,it=this.props,st=it.children,ut=it.forceRender,ft=it.alignPoint,dt=it.className,vt=it.autoDestroy,gt=react.exports.Children.only(st),yt={key:"trigger"};this.isContextMenuToShow()?yt.onContextMenu=this.onContextMenu:yt.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(yt.onClick=this.onClick,yt.onMouseDown=this.onMouseDown,yt.onTouchStart=this.onTouchStart):(yt.onClick=this.createTwoChains("onClick"),yt.onMouseDown=this.createTwoChains("onMouseDown"),yt.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(yt.onMouseEnter=this.onMouseEnter,ft&&(yt.onMouseMove=this.onMouseMove)):yt.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?yt.onMouseLeave=this.onMouseLeave:yt.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(yt.onFocus=this.onFocus,yt.onBlur=this.onBlur):(yt.onFocus=this.createTwoChains("onFocus"),yt.onBlur=this.createTwoChains("onBlur"));var xt=classNames(gt&&gt.props&&gt.props.className,dt);xt&&(yt.className=xt);var Ct=_objectSpread2$1({},yt);supportRef(gt)&&(Ct.ref=composeRef(this.triggerRef,gt.ref));var wt=react.exports.cloneElement(gt,Ct),Et;return(ot||this.popupRef.current||ut)&&(Et=react.exports.createElement($,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!ot&&vt&&(Et=null),react.exports.createElement(TriggerContext.Provider,{value:this.triggerContextValue},wt,Et)}}],[{key:"getDerivedStateFromProps",value:function(ot,it){var st=ot.popupVisible,ut={};return st!==void 0&&it.popupVisible!==st&&(ut.popupVisible=st,ut.prevPopupVisible=it.popupVisible),ut}}]),nt}(react.exports.Component);return _e.contextType=TriggerContext,_e.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:returnEmptyString,getDocument:returnDocument,onPopupVisibleChange:noop$3,afterPopupVisibleChange:noop$3,onPopupAlign:noop$3,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},_e}var Trigger=generateTrigger(Portal),_excluded$t=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],getBuiltInPlacements=function(_e){var et=_e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:et,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:et,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:et,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:et,adjustY:1}}}},SelectTrigger=function(_e,et){var tt=_e.prefixCls;_e.disabled;var nt=_e.visible,at=_e.children,ot=_e.popupElement,it=_e.containerWidth,st=_e.animation,ut=_e.transitionName,ft=_e.dropdownStyle,dt=_e.dropdownClassName,vt=_e.direction,gt=vt===void 0?"ltr":vt,yt=_e.placement,xt=_e.dropdownMatchSelectWidth,Ct=_e.dropdownRender,wt=_e.dropdownAlign,Et=_e.getPopupContainer,$t=_e.empty,It=_e.getTriggerDOMNode,Ot=_e.onPopupVisibleChange,Lt=_e.onPopupMouseEnter,Ft=_objectWithoutProperties$1(_e,_excluded$t),zt="".concat(tt,"-dropdown"),Gt=ot;Ct&&(Gt=Ct(ot));var jt=react.exports.useMemo(function(){return getBuiltInPlacements(xt)},[xt]),Ut=st?"".concat(zt,"-").concat(st):ut,Kt=react.exports.useRef(null);react.exports.useImperativeHandle(et,function(){return{getPopupElement:function(){return Kt.current}}});var Zt=_objectSpread2$1({minWidth:it},ft);return typeof xt=="number"?Zt.width=xt:xt&&(Zt.width=it),react.exports.createElement(Trigger,_extends$2({},Ft,{showAction:Ot?["click"]:[],hideAction:Ot?["click"]:[],popupPlacement:yt||(gt==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:jt,prefixCls:zt,popupTransitionName:Ut,popup:react.exports.createElement("div",{ref:Kt,onMouseEnter:Lt},Gt),popupAlign:wt,popupVisible:nt,getPopupContainer:Et,popupClassName:classNames(dt,_defineProperty$4({},"".concat(zt,"-empty"),$t)),popupStyle:Zt,getTriggerDOMNode:It,onPopupVisibleChange:Ot}),at)},RefSelectTrigger=react.exports.forwardRef(SelectTrigger);RefSelectTrigger.displayName="SelectTrigger";var attributes=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,eventsName=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,propList="".concat(attributes," ").concat(eventsName).split(/[\s\n]+/),ariaPrefix="aria-",dataPrefix="data-";function match($,_e){return $.indexOf(_e)===0}function pickAttrs($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et;_e===!1?et={aria:!0,data:!0,attr:!0}:_e===!0?et={aria:!0}:et=_objectSpread2$1({},_e);var tt={};return Object.keys($).forEach(function(nt){(et.aria&&(nt==="role"||match(nt,ariaPrefix))||et.data&&match(nt,dataPrefix)||et.attr&&propList.includes(nt))&&(tt[nt]=$[nt])}),tt}var _excluded$s=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],UNDEFINED$1=void 0;function InternalItem($,_e){var et=$.prefixCls,tt=$.invalidate,nt=$.item,at=$.renderItem,ot=$.responsive,it=$.responsiveDisabled,st=$.registerSize,ut=$.itemKey,ft=$.className,dt=$.style,vt=$.children,gt=$.display,yt=$.order,xt=$.component,Ct=xt===void 0?"div":xt,wt=_objectWithoutProperties$1($,_excluded$s),Et=ot&&!gt;function $t(zt){st(ut,zt)}react.exports.useEffect(function(){return function(){$t(null)}},[]);var It=at&&nt!==UNDEFINED$1?at(nt):vt,Ot;tt||(Ot={opacity:Et?0:1,height:Et?0:UNDEFINED$1,overflowY:Et?"hidden":UNDEFINED$1,order:ot?yt:UNDEFINED$1,pointerEvents:Et?"none":UNDEFINED$1,position:Et?"absolute":UNDEFINED$1});var Lt={};Et&&(Lt["aria-hidden"]=!0);var Ft=react.exports.createElement(Ct,_extends$2({className:classNames(!tt&&et,ft),style:_objectSpread2$1(_objectSpread2$1({},Ot),dt)},Lt,wt,{ref:_e}),It);return ot&&(Ft=react.exports.createElement(ResizeObserver,{onResize:function(Gt){var jt=Gt.offsetWidth;$t(jt)},disabled:it},Ft)),Ft}var Item$1=react.exports.forwardRef(InternalItem);Item$1.displayName="Item";function useBatchFrameState(){var $=useSafeState({}),_e=_slicedToArray$3($,2),et=_e[1],tt=react.exports.useRef([]),nt=0,at=0;function ot(it){var st=nt;nt+=1,tt.current.length<st+1&&(tt.current[st]=it);var ut=tt.current[st];function ft(dt){tt.current[st]=typeof dt=="function"?dt(tt.current[st]):dt,wrapperRaf$1.cancel(at),at=wrapperRaf$1(function(){et({},!0)})}return[ut,ft]}return ot}var _excluded$r=["component"],_excluded2$5=["className"],_excluded3$1=["className"],InternalRawItem=function(_e,et){var tt=react.exports.useContext(OverflowContext);if(!tt){var nt=_e.component,at=nt===void 0?"div":nt,ot=_objectWithoutProperties$1(_e,_excluded$r);return react.exports.createElement(at,_extends$2({},ot,{ref:et}))}var it=tt.className,st=_objectWithoutProperties$1(tt,_excluded2$5),ut=_e.className,ft=_objectWithoutProperties$1(_e,_excluded3$1);return react.exports.createElement(OverflowContext.Provider,{value:null},react.exports.createElement(Item$1,_extends$2({ref:et,className:classNames(it,ut)},st,ft)))},RawItem=react.exports.forwardRef(InternalRawItem);RawItem.displayName="RawItem";var _excluded$q=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],OverflowContext=react.exports.createContext(null),RESPONSIVE="responsive",INVALIDATE="invalidate";function defaultRenderRest($){return"+ ".concat($.length," ...")}function Overflow($,_e){var et=$.prefixCls,tt=et===void 0?"rc-overflow":et,nt=$.data,at=nt===void 0?[]:nt,ot=$.renderItem,it=$.renderRawItem,st=$.itemKey,ut=$.itemWidth,ft=ut===void 0?10:ut,dt=$.ssr,vt=$.style,gt=$.className,yt=$.maxCount,xt=$.renderRest,Ct=$.renderRawRest,wt=$.suffix,Et=$.component,$t=Et===void 0?"div":Et,It=$.itemComponent,Ot=$.onVisibleChange,Lt=_objectWithoutProperties$1($,_excluded$q),Ft=useBatchFrameState(),zt=dt==="full",Gt=Ft(null),jt=_slicedToArray$3(Gt,2),Ut=jt[0],Kt=jt[1],Zt=Ut||0,Qt=Ft(new Map),rr=_slicedToArray$3(Qt,2),nr=rr[0],dr=rr[1],sr=Ft(0),fr=_slicedToArray$3(sr,2),yr=fr[0],Pr=fr[1],wr=Ft(0),Mr=_slicedToArray$3(wr,2),Lr=Mr[0],Br=Mr[1],qr=Ft(0),Qr=_slicedToArray$3(qr,2),Jr=Qr[0],sn=Qr[1],yn=react.exports.useState(null),pn=_slicedToArray$3(yn,2),ln=pn[0],Sn=pn[1],cn=react.exports.useState(null),Pn=_slicedToArray$3(cn,2),In=Pn[0],Rn=Pn[1],Mn=react.exports.useMemo(function(){return In===null&&zt?Number.MAX_SAFE_INTEGER:In||0},[In,Ut]),Fn=react.exports.useState(!1),Xr=_slicedToArray$3(Fn,2),wn=Xr[0],vn=Xr[1],$n="".concat(tt,"-item"),Xn=Math.max(yr,Lr),no=yt===RESPONSIVE,zn=at.length&&no,so=yt===INVALIDATE,vo=zn||typeof yt=="number"&&at.length>yt,Eo=react.exports.useMemo(function(){var Bn=at;return zn?Ut===null&&zt?Bn=at:Bn=at.slice(0,Math.min(at.length,Zt/ft)):typeof yt=="number"&&(Bn=at.slice(0,yt)),Bn},[at,ft,Ut,yt,zn]),To=react.exports.useMemo(function(){return zn?at.slice(Mn+1):at.slice(Eo.length)},[at,Eo,zn,Mn]),Io=react.exports.useCallback(function(Bn,ur){var tr;return typeof st=="function"?st(Bn):(tr=st&&(Bn==null?void 0:Bn[st]))!==null&&tr!==void 0?tr:ur},[st]),$a=react.exports.useCallback(ot||function(Bn){return Bn},[ot]);function mo(Bn,ur){Rn(Bn),ur||(vn(Bn<at.length-1),Ot==null||Ot(Bn))}function Po(Bn,ur){Kt(ur.clientWidth)}function Ro(Bn,ur){dr(function(tr){var or=new Map(tr);return ur===null?or.delete(Bn):or.set(Bn,ur),or})}function Vo(Bn,ur){Br(ur),Pr(Lr)}function Oo(Bn,ur){sn(ur)}function Wo(Bn){return nr.get(Io(Eo[Bn],Bn))}useLayoutEffect$1(function(){if(Zt&&Xn&&Eo){var Bn=Jr,ur=Eo.length,tr=ur-1;if(!ur){mo(0),Sn(null);return}for(var or=0;or<ur;or+=1){var gr=Wo(or);if(zt&&(gr=gr||0),gr===void 0){mo(or-1,!0);break}if(Bn+=gr,tr===0&&Bn<=Zt||or===tr-1&&Bn+Wo(tr)<=Zt){mo(tr),Sn(null);break}else if(Bn+Xn>Zt){mo(or-1),Sn(Bn-gr-Jr+Lr);break}}wt&&Wo(0)+Jr>Zt&&Sn(null)}},[Zt,nr,Lr,Jr,Io,Eo]);var os=wn&&!!To.length,hs={};ln!==null&&zn&&(hs={position:"absolute",left:ln,top:0});var Uo={prefixCls:$n,responsive:zn,component:It,invalidate:so},Zo=it?function(Bn,ur){var tr=Io(Bn,ur);return react.exports.createElement(OverflowContext.Provider,{key:tr,value:_objectSpread2$1(_objectSpread2$1({},Uo),{},{order:ur,item:Bn,itemKey:tr,registerSize:Ro,display:ur<=Mn})},it(Bn,ur))}:function(Bn,ur){var tr=Io(Bn,ur);return react.exports.createElement(Item$1,_extends$2({},Uo,{order:ur,key:tr,item:Bn,renderItem:$a,itemKey:tr,registerSize:Ro,display:ur<=Mn}))},Lo,cs={order:os?Mn:Number.MAX_SAFE_INTEGER,className:"".concat($n,"-rest"),registerSize:Vo,display:os};if(Ct)Ct&&(Lo=react.exports.createElement(OverflowContext.Provider,{value:_objectSpread2$1(_objectSpread2$1({},Uo),cs)},Ct(To)));else{var ba=xt||defaultRenderRest;Lo=react.exports.createElement(Item$1,_extends$2({},Uo,cs),typeof ba=="function"?ba(To):ba)}var lo=react.exports.createElement($t,_extends$2({className:classNames(!so&&tt,gt),style:vt,ref:_e},Lt),Eo.map(Zo),vo?Lo:null,wt&&react.exports.createElement(Item$1,_extends$2({},Uo,{responsive:no,responsiveDisabled:!zn,order:Mn,className:"".concat($n,"-suffix"),registerSize:Oo,display:!0,style:hs}),wt));return no&&(lo=react.exports.createElement(ResizeObserver,{onResize:Po,disabled:!zn},lo)),lo}var ForwardOverflow=react.exports.forwardRef(Overflow);ForwardOverflow.displayName="Overflow";ForwardOverflow.Item=RawItem;ForwardOverflow.RESPONSIVE=RESPONSIVE;ForwardOverflow.INVALIDATE=INVALIDATE;var TransBtn=function(_e){var et=_e.className,tt=_e.customizeIcon,nt=_e.customizeIconProps,at=_e.onMouseDown,ot=_e.onClick,it=_e.children,st;return typeof tt=="function"?st=tt(nt):st=tt,react.exports.createElement("span",{className:et,onMouseDown:function(ft){ft.preventDefault(),at&&at(ft)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:ot,"aria-hidden":!0},st!==void 0?st:react.exports.createElement("span",{className:classNames(et.split(/\s+/).map(function(ut){return"".concat(ut,"-icon")}))},it))},Input$4=function(_e,et){var tt,nt,at=_e.prefixCls,ot=_e.id,it=_e.inputElement,st=_e.disabled,ut=_e.tabIndex,ft=_e.autoFocus,dt=_e.autoComplete,vt=_e.editable,gt=_e.activeDescendantId,yt=_e.value,xt=_e.maxLength,Ct=_e.onKeyDown,wt=_e.onMouseDown,Et=_e.onChange,$t=_e.onPaste,It=_e.onCompositionStart,Ot=_e.onCompositionEnd,Lt=_e.open,Ft=_e.attrs,zt=it||react.exports.createElement("input",null),Gt=zt,jt=Gt.ref,Ut=Gt.props,Kt=Ut.onKeyDown,Zt=Ut.onChange,Qt=Ut.onMouseDown,rr=Ut.onCompositionStart,nr=Ut.onCompositionEnd,dr=Ut.style;return"maxLength"in zt.props,zt=react.exports.cloneElement(zt,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({type:"search"},Ut),{},{id:ot,ref:composeRef(et,jt),disabled:st,tabIndex:ut,autoComplete:dt||"off",autoFocus:ft,className:classNames("".concat(at,"-selection-search-input"),(tt=zt)===null||tt===void 0||(nt=tt.props)===null||nt===void 0?void 0:nt.className),role:"combobox","aria-expanded":Lt,"aria-haspopup":"listbox","aria-owns":"".concat(ot,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(ot,"_list"),"aria-activedescendant":gt},Ft),{},{value:vt?yt:"",maxLength:xt,readOnly:!vt,unselectable:vt?null:"on",style:_objectSpread2$1(_objectSpread2$1({},dr),{},{opacity:vt?null:0}),onKeyDown:function(fr){Ct(fr),Kt&&Kt(fr)},onMouseDown:function(fr){wt(fr),Qt&&Qt(fr)},onChange:function(fr){Et(fr),Zt&&Zt(fr)},onCompositionStart:function(fr){It(fr),rr&&rr(fr)},onCompositionEnd:function(fr){Ot(fr),nr&&nr(fr)},onPaste:$t})),zt},RefInput=react.exports.forwardRef(Input$4);RefInput.displayName="Input";function toArray$3($){return Array.isArray($)?$:$!==void 0?[$]:[]}var isClient=typeof window!="undefined"&&window.document&&window.document.documentElement,isBrowserClient$1=isClient;function useLayoutEffect($,_e){isBrowserClient$1?react.exports.useLayoutEffect($,_e):react.exports.useEffect($,_e)}function itemKey$1($){var _e;return(_e=$.key)!==null&&_e!==void 0?_e:$.value}var onPreventMouseDown=function(_e){_e.preventDefault(),_e.stopPropagation()},SelectSelector=function(_e){var et=_e.id,tt=_e.prefixCls,nt=_e.values,at=_e.open,ot=_e.searchValue,it=_e.inputRef,st=_e.placeholder,ut=_e.disabled,ft=_e.mode,dt=_e.showSearch,vt=_e.autoFocus,gt=_e.autoComplete,yt=_e.activeDescendantId,xt=_e.tabIndex,Ct=_e.removeIcon,wt=_e.maxTagCount,Et=_e.maxTagTextLength,$t=_e.maxTagPlaceholder,It=$t===void 0?function(ln){return"+ ".concat(ln.length," ...")}:$t,Ot=_e.tagRender,Lt=_e.onToggleOpen,Ft=_e.onRemove,zt=_e.onInputChange,Gt=_e.onInputPaste,jt=_e.onInputKeyDown,Ut=_e.onInputMouseDown,Kt=_e.onInputCompositionStart,Zt=_e.onInputCompositionEnd,Qt=react.exports.useRef(null),rr=react.exports.useState(0),nr=_slicedToArray$3(rr,2),dr=nr[0],sr=nr[1],fr=react.exports.useState(!1),yr=_slicedToArray$3(fr,2),Pr=yr[0],wr=yr[1],Mr="".concat(tt,"-selection"),Lr=at||ft==="tags"?ot:"",Br=ft==="tags"||dt&&(at||Pr);useLayoutEffect(function(){sr(Qt.current.scrollWidth)},[Lr]);function qr(ln,Sn,cn,Pn,In){return react.exports.createElement("span",{className:classNames("".concat(Mr,"-item"),_defineProperty$4({},"".concat(Mr,"-item-disabled"),cn)),title:typeof ln=="string"||typeof ln=="number"?ln.toString():void 0},react.exports.createElement("span",{className:"".concat(Mr,"-item-content")},Sn),Pn&&react.exports.createElement(TransBtn,{className:"".concat(Mr,"-item-remove"),onMouseDown:onPreventMouseDown,onClick:In,customizeIcon:Ct},"\xD7"))}function Qr(ln,Sn,cn,Pn,In){var Rn=function(Fn){onPreventMouseDown(Fn),Lt(!at)};return react.exports.createElement("span",{onMouseDown:Rn},Ot({label:Sn,value:ln,disabled:cn,closable:Pn,onClose:In}))}function Jr(ln){var Sn=ln.disabled,cn=ln.label,Pn=ln.value,In=!ut&&!Sn,Rn=cn;if(typeof Et=="number"&&(typeof cn=="string"||typeof cn=="number")){var Mn=String(Rn);Mn.length>Et&&(Rn="".concat(Mn.slice(0,Et),"..."))}var Fn=function(wn){wn&&wn.stopPropagation(),Ft(ln)};return typeof Ot=="function"?Qr(Pn,Rn,Sn,In,Fn):qr(cn,Rn,Sn,In,Fn)}function sn(ln){var Sn=typeof It=="function"?It(ln):It;return qr(Sn,Sn,!1)}var yn=react.exports.createElement("div",{className:"".concat(Mr,"-search"),style:{width:dr},onFocus:function(){wr(!0)},onBlur:function(){wr(!1)}},react.exports.createElement(RefInput,{ref:it,open:at,prefixCls:tt,id:et,inputElement:null,disabled:ut,autoFocus:vt,autoComplete:gt,editable:Br,activeDescendantId:yt,value:Lr,onKeyDown:jt,onMouseDown:Ut,onChange:zt,onPaste:Gt,onCompositionStart:Kt,onCompositionEnd:Zt,tabIndex:xt,attrs:pickAttrs(_e,!0)}),react.exports.createElement("span",{ref:Qt,className:"".concat(Mr,"-search-mirror"),"aria-hidden":!0},Lr,"\xA0")),pn=react.exports.createElement(ForwardOverflow,{prefixCls:"".concat(Mr,"-overflow"),data:nt,renderItem:Jr,renderRest:sn,suffix:yn,itemKey:itemKey$1,maxCount:wt});return react.exports.createElement(react.exports.Fragment,null,pn,!nt.length&&!Lr&&react.exports.createElement("span",{className:"".concat(Mr,"-placeholder")},st))},SingleSelector=function(_e){var et=_e.inputElement,tt=_e.prefixCls,nt=_e.id,at=_e.inputRef,ot=_e.disabled,it=_e.autoFocus,st=_e.autoComplete,ut=_e.activeDescendantId,ft=_e.mode,dt=_e.open,vt=_e.values,gt=_e.placeholder,yt=_e.tabIndex,xt=_e.showSearch,Ct=_e.searchValue,wt=_e.activeValue,Et=_e.maxLength,$t=_e.onInputKeyDown,It=_e.onInputMouseDown,Ot=_e.onInputChange,Lt=_e.onInputPaste,Ft=_e.onInputCompositionStart,zt=_e.onInputCompositionEnd,Gt=react.exports.useState(!1),jt=_slicedToArray$3(Gt,2),Ut=jt[0],Kt=jt[1],Zt=ft==="combobox",Qt=Zt||xt,rr=vt[0],nr=Ct||"";Zt&&wt&&!Ut&&(nr=wt),react.exports.useEffect(function(){Zt&&Kt(!1)},[Zt,wt]);var dr=ft!=="combobox"&&!dt&&!xt?!1:!!nr,sr=rr&&(typeof rr.label=="string"||typeof rr.label=="number")?rr.label.toString():void 0,fr=function(){if(rr)return null;var Pr=dr?{visibility:"hidden"}:void 0;return react.exports.createElement("span",{className:"".concat(tt,"-selection-placeholder"),style:Pr},gt)};return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("span",{className:"".concat(tt,"-selection-search")},react.exports.createElement(RefInput,{ref:at,prefixCls:tt,id:nt,open:dt,inputElement:et,disabled:ot,autoFocus:it,autoComplete:st,editable:Qt,activeDescendantId:ut,value:nr,onKeyDown:$t,onMouseDown:It,onChange:function(Pr){Kt(!0),Ot(Pr)},onPaste:Lt,onCompositionStart:Ft,onCompositionEnd:zt,tabIndex:yt,attrs:pickAttrs(_e,!0),maxLength:Zt?Et:void 0})),!Zt&&rr&&!dr&&react.exports.createElement("span",{className:"".concat(tt,"-selection-item"),title:sr},rr.label),fr())};function useLock(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,_e=react.exports.useRef(null),et=react.exports.useRef(null);react.exports.useEffect(function(){return function(){window.clearTimeout(et.current)}},[]);function tt(nt){(nt||_e.current===null)&&(_e.current=nt),window.clearTimeout(et.current),et.current=window.setTimeout(function(){_e.current=null},$)}return[function(){return _e.current},tt]}function isValidateOpenKey($){return![KeyCode.ESC,KeyCode.SHIFT,KeyCode.BACKSPACE,KeyCode.TAB,KeyCode.WIN_KEY,KeyCode.ALT,KeyCode.META,KeyCode.WIN_KEY_RIGHT,KeyCode.CTRL,KeyCode.SEMICOLON,KeyCode.EQUALS,KeyCode.CAPS_LOCK,KeyCode.CONTEXT_MENU,KeyCode.F1,KeyCode.F2,KeyCode.F3,KeyCode.F4,KeyCode.F5,KeyCode.F6,KeyCode.F7,KeyCode.F8,KeyCode.F9,KeyCode.F10,KeyCode.F11,KeyCode.F12].includes($)}var Selector=function(_e,et){var tt=react.exports.useRef(null),nt=react.exports.useRef(!1),at=_e.prefixCls,ot=_e.open,it=_e.mode,st=_e.showSearch,ut=_e.tokenWithEnter,ft=_e.onSearch,dt=_e.onSearchSubmit,vt=_e.onToggleOpen,gt=_e.onInputKeyDown,yt=_e.domRef;react.exports.useImperativeHandle(et,function(){return{focus:function(){tt.current.focus()},blur:function(){tt.current.blur()}}});var xt=useLock(0),Ct=_slicedToArray$3(xt,2),wt=Ct[0],Et=Ct[1],$t=function(nr){var dr=nr.which;(dr===KeyCode.UP||dr===KeyCode.DOWN)&&nr.preventDefault(),gt&&gt(nr),dr===KeyCode.ENTER&&it==="tags"&&!nt.current&&!ot&&(dt==null||dt(nr.target.value)),isValidateOpenKey(dr)&&vt(!0)},It=function(){Et(!0)},Ot=react.exports.useRef(null),Lt=function(nr){ft(nr,!0,nt.current)!==!1&&vt(!0)},Ft=function(){nt.current=!0},zt=function(nr){nt.current=!1,it!=="combobox"&&Lt(nr.target.value)},Gt=function(nr){var dr=nr.target.value;if(ut&&Ot.current&&/[\r\n]/.test(Ot.current)){var sr=Ot.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");dr=dr.replace(sr,Ot.current)}Ot.current=null,Lt(dr)},jt=function(nr){var dr=nr.clipboardData,sr=dr.getData("text");Ot.current=sr},Ut=function(nr){var dr=nr.target;if(dr!==tt.current){var sr=document.body.style.msTouchAction!==void 0;sr?setTimeout(function(){tt.current.focus()}):tt.current.focus()}},Kt=function(nr){var dr=wt();nr.target!==tt.current&&!dr&&nr.preventDefault(),(it!=="combobox"&&(!st||!dr)||!ot)&&(ot&&ft("",!0,!1),vt())},Zt={inputRef:tt,onInputKeyDown:$t,onInputMouseDown:It,onInputChange:Gt,onInputPaste:jt,onInputCompositionStart:Ft,onInputCompositionEnd:zt},Qt=it==="multiple"||it==="tags"?react.exports.createElement(SelectSelector,_extends$2({},_e,Zt)):react.exports.createElement(SingleSelector,_extends$2({},_e,Zt));return react.exports.createElement("div",{ref:yt,className:"".concat(at,"-selector"),onClick:Ut,onMouseDown:Kt},Qt)},ForwardSelector=react.exports.forwardRef(Selector);ForwardSelector.displayName="Selector";function useSelectTriggerControl($,_e,et,tt){var nt=react.exports.useRef(null);nt.current={open:_e,triggerOpen:et,customizedTrigger:tt},react.exports.useEffect(function(){function at(ot){var it;if(!(!((it=nt.current)===null||it===void 0)&&it.customizedTrigger)){var st=ot.target;st.shadowRoot&&ot.composed&&(st=ot.composedPath()[0]||st),nt.current.open&&$().filter(function(ut){return ut}).every(function(ut){return!ut.contains(st)&&ut!==st})&&nt.current.triggerOpen(!1)}}return window.addEventListener("mousedown",at),function(){return window.removeEventListener("mousedown",at)}},[])}function useDelayReset(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,_e=react.exports.useState(!1),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1],at=react.exports.useRef(null),ot=function(){window.clearTimeout(at.current)};react.exports.useEffect(function(){return ot},[]);var it=function(ut,ft){ot(),at.current=window.setTimeout(function(){nt(ut),ft&&ft()},$)};return[tt,it,ot]}var BaseSelectContext=react.exports.createContext(null);function useBaseProps(){return react.exports.useContext(BaseSelectContext)}var _excluded$p=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],DEFAULT_OMIT_PROPS=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function isMultiple$1($){return $==="tags"||$==="multiple"}var BaseSelect=react.exports.forwardRef(function($,_e){var et,tt,nt=$.id,at=$.prefixCls,ot=$.className,it=$.showSearch,st=$.tagRender,ut=$.direction,ft=$.omitDomProps,dt=$.displayValues,vt=$.onDisplayValuesChange,gt=$.emptyOptions,yt=$.notFoundContent,xt=yt===void 0?"Not Found":yt,Ct=$.onClear,wt=$.mode,Et=$.disabled,$t=$.loading,It=$.getInputElement,Ot=$.getRawInputElement,Lt=$.open,Ft=$.defaultOpen,zt=$.onDropdownVisibleChange,Gt=$.activeValue,jt=$.onActiveValueChange,Ut=$.activeDescendantId,Kt=$.searchValue,Zt=$.onSearch,Qt=$.onSearchSplit,rr=$.tokenSeparators,nr=$.allowClear,dr=$.showArrow,sr=$.inputIcon,fr=$.clearIcon,yr=$.OptionList,Pr=$.animation,wr=$.transitionName,Mr=$.dropdownStyle,Lr=$.dropdownClassName,Br=$.dropdownMatchSelectWidth,qr=$.dropdownRender,Qr=$.dropdownAlign,Jr=$.placement,sn=$.getPopupContainer,yn=$.showAction,pn=yn===void 0?[]:yn,ln=$.onFocus,Sn=$.onBlur,cn=$.onKeyUp,Pn=$.onKeyDown,In=$.onMouseDown,Rn=_objectWithoutProperties$1($,_excluded$p),Mn=isMultiple$1(wt),Fn=(it!==void 0?it:Mn)||wt==="combobox",Xr=_objectSpread2$1({},Rn);DEFAULT_OMIT_PROPS.forEach(function(Hn){delete Xr[Hn]}),ft==null||ft.forEach(function(Hn){delete Xr[Hn]});var wn=react.exports.useState(!1),vn=_slicedToArray$3(wn,2),$n=vn[0],Xn=vn[1];react.exports.useEffect(function(){Xn(isMobile())},[]);var no=react.exports.useRef(null),zn=react.exports.useRef(null),so=react.exports.useRef(null),vo=react.exports.useRef(null),Eo=react.exports.useRef(null),To=useDelayReset(),Io=_slicedToArray$3(To,3),$a=Io[0],mo=Io[1],Po=Io[2];react.exports.useImperativeHandle(_e,function(){var Hn,ho;return{focus:(Hn=vo.current)===null||Hn===void 0?void 0:Hn.focus,blur:(ho=vo.current)===null||ho===void 0?void 0:ho.blur,scrollTo:function(po){var Jo;return(Jo=Eo.current)===null||Jo===void 0?void 0:Jo.scrollTo(po)}}});var Ro=react.exports.useMemo(function(){var Hn;if(wt!=="combobox")return Kt;var ho=(Hn=dt[0])===null||Hn===void 0?void 0:Hn.value;return typeof ho=="string"||typeof ho=="number"?String(ho):""},[Kt,wt,dt]),Vo=wt==="combobox"&&typeof It=="function"&&It()||null,Oo=typeof Ot=="function"&&Ot(),Wo=useComposeRef(zn,Oo==null||(et=Oo.props)===null||et===void 0?void 0:et.ref),os=useMergedState(void 0,{defaultValue:Ft,value:Lt}),hs=_slicedToArray$3(os,2),Uo=hs[0],Zo=hs[1],Lo=Uo,cs=!xt&&gt;(Et||cs&&Lo&&wt==="combobox")&&(Lo=!1);var ba=cs?!1:Lo,lo=react.exports.useCallback(function(Hn){var ho=Hn!==void 0?Hn:!Lo;Lo!==ho&&!Et&&(Zo(ho),zt==null||zt(ho))},[Et,Lo,Zo,zt]),Bn=react.exports.useMemo(function(){return(rr||[]).some(function(Hn){return[`
`,`\r
`].includes(Hn)})},[rr]),ur=function(ho,Qo,po){var Jo=!0,As=ho;jt==null||jt(null);var Ls=po?null:getSeparatedContent(ho,rr);return wt!=="combobox"&&Ls&&(As="",Qt==null||Qt(Ls),lo(!1),Jo=!1),Zt&&Ro!==As&&Zt(As,{source:Qo?"typing":"effect"}),Jo},tr=function(ho){!ho||!ho.trim()||Zt(ho,{source:"submit"})};react.exports.useEffect(function(){!Lo&&!Mn&&wt!=="combobox"&&ur("",!1,!1)},[Lo]),react.exports.useEffect(function(){Uo&&Et&&Zo(!1),Et&&mo(!1)},[Et]);var or=useLock(),gr=_slicedToArray$3(or,2),Er=gr[0],zr=gr[1],Kr=function(ho){var Qo=Er(),po=ho.which;if(po===KeyCode.ENTER&&(wt!=="combobox"&&ho.preventDefault(),Lo||lo(!0)),zr(!!Ro),po===KeyCode.BACKSPACE&&!Qo&&Mn&&!Ro&&dt.length){for(var Jo=_toConsumableArray(dt),As=null,Ls=Jo.length-1;Ls>=0;Ls-=1){var Ms=Jo[Ls];if(!Ms.disabled){Jo.splice(Ls,1),As=Ms;break}}As&&vt(Jo,{type:"remove",values:[As]})}for(var Ko=arguments.length,Nl=new Array(Ko>1?Ko-1:0),zs=1;zs<Ko;zs++)Nl[zs-1]=arguments[zs];if(Lo&&Eo.current){var ru;(ru=Eo.current).onKeyDown.apply(ru,[ho].concat(Nl))}Pn==null||Pn.apply(void 0,[ho].concat(Nl))},Hr=function(ho){for(var Qo=arguments.length,po=new Array(Qo>1?Qo-1:0),Jo=1;Jo<Qo;Jo++)po[Jo-1]=arguments[Jo];if(Lo&&Eo.current){var As;(As=Eo.current).onKeyUp.apply(As,[ho].concat(po))}cn==null||cn.apply(void 0,[ho].concat(po))},Or=function(ho){var Qo=dt.filter(function(po){return po!==ho});vt(Qo,{type:"remove",values:[ho]})},Zr=react.exports.useRef(!1),En=function(){mo(!0),Et||(ln&&!Zr.current&&ln.apply(void 0,arguments),pn.includes("focus")&&lo(!0)),Zr.current=!0},Gn=function(){mo(!1,function(){Zr.current=!1,lo(!1)}),!Et&&(Ro&&(wt==="tags"?Zt(Ro,{source:"submit"}):wt==="multiple"&&Zt("",{source:"blur"})),Sn&&Sn.apply(void 0,arguments))},Cn=[];react.exports.useEffect(function(){return function(){Cn.forEach(function(Hn){return clearTimeout(Hn)}),Cn.splice(0,Cn.length)}},[]);var ga=function(ho){var Qo,po=ho.target,Jo=(Qo=so.current)===null||Qo===void 0?void 0:Qo.getPopupElement();if(Jo&&Jo.contains(po)){var As=setTimeout(function(){var Nl=Cn.indexOf(As);if(Nl!==-1&&Cn.splice(Nl,1),Po(),!$n&&!Jo.contains(document.activeElement)){var zs;(zs=vo.current)===null||zs===void 0||zs.focus()}});Cn.push(As)}for(var Ls=arguments.length,Ms=new Array(Ls>1?Ls-1:0),Ko=1;Ko<Ls;Ko++)Ms[Ko-1]=arguments[Ko];In==null||In.apply(void 0,[ho].concat(Ms))},uo=react.exports.useState(null),_i=_slicedToArray$3(uo,2),co=_i[0],Vn=_i[1],qn=react.exports.useState({}),oo=_slicedToArray$3(qn,2),bo=oo[1];function Ur(){bo({})}useLayoutEffect$1(function(){if(ba){var Hn,ho=Math.ceil((Hn=no.current)===null||Hn===void 0?void 0:Hn.offsetWidth);co!==ho&&!Number.isNaN(ho)&&Vn(ho)}},[ba]);var ss;Oo&&(ss=function(ho){lo(ho)}),useSelectTriggerControl(function(){var Hn;return[no.current,(Hn=so.current)===null||Hn===void 0?void 0:Hn.getPopupElement()]},ba,lo,!!Oo);var Ho=react.exports.useMemo(function(){return _objectSpread2$1(_objectSpread2$1({},$),{},{notFoundContent:xt,open:Lo,triggerOpen:ba,id:nt,showSearch:Fn,multiple:Mn,toggleOpen:lo})},[$,xt,ba,Lo,nt,Fn,Mn,lo]),Xo=dr!==void 0?dr:$t||!Mn&&wt!=="combobox",Ws;Xo&&(Ws=react.exports.createElement(TransBtn,{className:classNames("".concat(at,"-arrow"),_defineProperty$4({},"".concat(at,"-arrow-loading"),$t)),customizeIcon:sr,customizeIconProps:{loading:$t,searchValue:Ro,open:Lo,focused:$a,showSearch:Fn}}));var Cs,Al=function(){Ct==null||Ct(),vt([],{type:"clear",values:dt}),ur("",!1,!1)};!Et&&nr&&(dt.length||Ro)&&(Cs=react.exports.createElement(TransBtn,{className:"".concat(at,"-clear"),onMouseDown:Al,customizeIcon:fr},"\xD7"));var Ol=react.exports.createElement(yr,{ref:Eo}),ts=classNames(at,ot,(tt={},_defineProperty$4(tt,"".concat(at,"-focused"),$a),_defineProperty$4(tt,"".concat(at,"-multiple"),Mn),_defineProperty$4(tt,"".concat(at,"-single"),!Mn),_defineProperty$4(tt,"".concat(at,"-allow-clear"),nr),_defineProperty$4(tt,"".concat(at,"-show-arrow"),Xo),_defineProperty$4(tt,"".concat(at,"-disabled"),Et),_defineProperty$4(tt,"".concat(at,"-loading"),$t),_defineProperty$4(tt,"".concat(at,"-open"),Lo),_defineProperty$4(tt,"".concat(at,"-customize-input"),Vo),_defineProperty$4(tt,"".concat(at,"-show-search"),Fn),tt)),Nn=react.exports.createElement(RefSelectTrigger,{ref:so,disabled:Et,prefixCls:at,visible:ba,popupElement:Ol,containerWidth:co,animation:Pr,transitionName:wr,dropdownStyle:Mr,dropdownClassName:Lr,direction:ut,dropdownMatchSelectWidth:Br,dropdownRender:qr,dropdownAlign:Qr,placement:Jr,getPopupContainer:sn,empty:gt,getTriggerDOMNode:function(){return zn.current},onPopupVisibleChange:ss,onPopupMouseEnter:Ur},Oo?react.exports.cloneElement(Oo,{ref:Wo}):react.exports.createElement(ForwardSelector,_extends$2({},$,{domRef:zn,prefixCls:at,inputElement:Vo,ref:vo,id:nt,showSearch:Fn,mode:wt,activeDescendantId:Ut,tagRender:st,values:dt,open:Lo,onToggleOpen:lo,activeValue:Gt,searchValue:Ro,onSearch:ur,onSearchSubmit:tr,onRemove:Or,tokenWithEnter:Bn}))),fo;return Oo?fo=Nn:fo=react.exports.createElement("div",_extends$2({className:ts},Xr,{ref:no,onMouseDown:ga,onKeyDown:Kr,onKeyUp:Hr,onFocus:En,onBlur:Gn}),$a&&!Lo&&react.exports.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(dt.map(function(Hn){var ho=Hn.label,Qo=Hn.value;return["number","string"].includes(_typeof$4(ho))?ho:Qo}).join(", "))),Nn,Ws,Cs),react.exports.createElement(BaseSelectContext.Provider,{value:Ho},fo)}),useCache=function($,_e){var et=react.exports.useRef({values:new Map,options:new Map}),tt=react.exports.useMemo(function(){var at=et.current,ot=at.values,it=at.options,st=$.map(function(dt){if(dt.label===void 0){var vt;return _objectSpread2$1(_objectSpread2$1({},dt),{},{label:(vt=ot.get(dt.value))===null||vt===void 0?void 0:vt.label})}return dt}),ut=new Map,ft=new Map;return st.forEach(function(dt){ut.set(dt.value,dt),ft.set(dt.value,_e.get(dt.value)||it.get(dt.value))}),et.current.values=ut,et.current.options=ft,st},[$,_e]),nt=react.exports.useCallback(function(at){return _e.get(at)||et.current.options.get(at)},[_e]);return[tt,nt]};function includes($,_e){return toArray$3($).join("").toUpperCase().includes(_e)}var useFilterOptions=function($,_e,et,tt,nt){return react.exports.useMemo(function(){if(!et||tt===!1)return $;var at=_e.options,ot=_e.label,it=_e.value,st=[],ut=typeof tt=="function",ft=et.toUpperCase(),dt=ut?tt:function(gt,yt){return nt?includes(yt[nt],ft):yt[at]?includes(yt[ot!=="children"?ot:"label"],ft):includes(yt[it],ft)},vt=ut?function(gt){return injectPropsWithOption(gt)}:function(gt){return gt};return $.forEach(function(gt){if(gt[at]){var yt=dt(et,vt(gt));if(yt)st.push(gt);else{var xt=gt[at].filter(function(Ct){return dt(et,vt(Ct))});xt.length&&st.push(_objectSpread2$1(_objectSpread2$1({},gt),{},_defineProperty$4({},at,xt)))}return}dt(et,vt(gt))&&st.push(gt)}),st},[$,tt,nt,et,_e])},uuid$1=0,isBrowserClient=canUseDom();function getUUID(){var $;return isBrowserClient?($=uuid$1,uuid$1+=1):$="TEST_OR_SSR",$}function useId($){var _e=react.exports.useState(),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1];return react.exports.useEffect(function(){nt("rc_select_".concat(getUUID()))},[]),$||tt}var _excluded$o=["children","value"],_excluded2$4=["children"];function convertNodeToOption($){var _e=$.key,et=$.props,tt=et.children,nt=et.value,at=_objectWithoutProperties$1(et,_excluded$o);return _objectSpread2$1({key:_e,value:nt!==void 0?nt:_e,children:tt},at)}function convertChildrenToData($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return toArray$5($).map(function(et,tt){if(!react.exports.isValidElement(et)||!et.type)return null;var nt=et.type.isSelectOptGroup,at=et.key,ot=et.props,it=ot.children,st=_objectWithoutProperties$1(ot,_excluded2$4);return _e||!nt?convertNodeToOption(et):_objectSpread2$1(_objectSpread2$1({key:"__RC_SELECT_GRP__".concat(at===null?tt:at,"__"),label:at},st),{},{options:convertChildrenToData(it)})}).filter(function(et){return et})}function useOptions($,_e,et,tt,nt){return react.exports.useMemo(function(){var at=$,ot=!$;ot&&(at=convertChildrenToData(_e));var it=new Map,st=new Map,ut=function(vt,gt,yt){yt&&typeof yt=="string"&&vt.set(gt[yt],gt)};function ft(dt){for(var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,gt=0;gt<dt.length;gt+=1){var yt=dt[gt];!yt[et.options]||vt?(it.set(yt[et.value],yt),ut(st,yt,et.label),ut(st,yt,tt),ut(st,yt,nt)):ft(yt[et.options],!0)}}return ft(at),{options:at,valueOptions:it,labelOptions:st}},[$,_e,et,tt,nt])}function useRefFunc($){var _e=react.exports.useRef();_e.current=$;var et=react.exports.useCallback(function(){return _e.current.apply(_e,arguments)},[]);return et}var OptGroup=function(){return null};OptGroup.isSelectOptGroup=!0;var Option=function(){return null};Option.isSelectOption=!0;function ownKeys$1($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$2($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$2($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}var Filler=react.exports.forwardRef(function($,_e){var et=$.height,tt=$.offset,nt=$.children,at=$.prefixCls,ot=$.onInnerResize,it={},st={display:"flex",flexDirection:"column"};return tt!==void 0&&(it={height:et,position:"relative",overflow:"hidden"},st=_objectSpread$1(_objectSpread$1({},st),{},{transform:"translateY(".concat(tt,"px)"),position:"absolute",left:0,right:0,top:0})),react.exports.createElement("div",{style:it},react.exports.createElement(ResizeObserver,{onResize:function(ft){var dt=ft.offsetHeight;dt&&ot&&ot()}},react.exports.createElement("div",{style:st,className:classNames(_defineProperty$2({},"".concat(at,"-holder-inner"),at)),ref:_e},nt)))});Filler.displayName="Filler";function _typeof$2($){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$2($)}function _defineProperty$1($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _classCallCheck$1($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}function _createClass$1($,_e,et){return _e&&_defineProperties$1($.prototype,_e),et&&_defineProperties$1($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _inherits($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf($,_e)}function _setPrototypeOf($,_e){return _setPrototypeOf=Object.setPrototypeOf||function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf($,_e)}function _createSuper($){var _e=_isNativeReflectConstruct();return function(){var tt=_getPrototypeOf($),nt;if(_e){var at=_getPrototypeOf(this).constructor;nt=Reflect.construct(tt,arguments,at)}else nt=tt.apply(this,arguments);return _possibleConstructorReturn(this,nt)}}function _possibleConstructorReturn($,_e){if(_e&&(_typeof$2(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized($)}function _assertThisInitialized($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf($){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf($)}var MIN_SIZE=20;function getPageY($){return"touches"in $?$.touches[0].pageY:$.pageY}var ScrollBar=function($){_inherits(et,$);var _e=_createSuper(et);function et(){var tt;_classCallCheck$1(this,et);for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return tt=_e.call.apply(_e,[this].concat(at)),tt.moveRaf=null,tt.scrollbarRef=react.exports.createRef(),tt.thumbRef=react.exports.createRef(),tt.visibleTimeout=null,tt.state={dragging:!1,pageY:null,startTop:null,visible:!1},tt.delayHidden=function(){clearTimeout(tt.visibleTimeout),tt.setState({visible:!0}),tt.visibleTimeout=setTimeout(function(){tt.setState({visible:!1})},2e3)},tt.onScrollbarTouchStart=function(it){it.preventDefault()},tt.onContainerMouseDown=function(it){it.stopPropagation(),it.preventDefault()},tt.patchEvents=function(){window.addEventListener("mousemove",tt.onMouseMove),window.addEventListener("mouseup",tt.onMouseUp),tt.thumbRef.current.addEventListener("touchmove",tt.onMouseMove),tt.thumbRef.current.addEventListener("touchend",tt.onMouseUp)},tt.removeEvents=function(){var it;window.removeEventListener("mousemove",tt.onMouseMove),window.removeEventListener("mouseup",tt.onMouseUp),(it=tt.scrollbarRef.current)===null||it===void 0||it.removeEventListener("touchstart",tt.onScrollbarTouchStart),tt.thumbRef.current&&(tt.thumbRef.current.removeEventListener("touchstart",tt.onMouseDown),tt.thumbRef.current.removeEventListener("touchmove",tt.onMouseMove),tt.thumbRef.current.removeEventListener("touchend",tt.onMouseUp)),wrapperRaf$1.cancel(tt.moveRaf)},tt.onMouseDown=function(it){var st=tt.props.onStartMove;tt.setState({dragging:!0,pageY:getPageY(it),startTop:tt.getTop()}),st(),tt.patchEvents(),it.stopPropagation(),it.preventDefault()},tt.onMouseMove=function(it){var st=tt.state,ut=st.dragging,ft=st.pageY,dt=st.startTop,vt=tt.props.onScroll;if(wrapperRaf$1.cancel(tt.moveRaf),ut){var gt=getPageY(it)-ft,yt=dt+gt,xt=tt.getEnableScrollRange(),Ct=tt.getEnableHeightRange(),wt=Ct?yt/Ct:0,Et=Math.ceil(wt*xt);tt.moveRaf=wrapperRaf$1(function(){vt(Et)})}},tt.onMouseUp=function(){var it=tt.props.onStopMove;tt.setState({dragging:!1}),it(),tt.removeEvents()},tt.getSpinHeight=function(){var it=tt.props,st=it.height,ut=it.count,ft=st/ut*10;return ft=Math.max(ft,MIN_SIZE),ft=Math.min(ft,st/2),Math.floor(ft)},tt.getEnableScrollRange=function(){var it=tt.props,st=it.scrollHeight,ut=it.height;return st-ut||0},tt.getEnableHeightRange=function(){var it=tt.props.height,st=tt.getSpinHeight();return it-st||0},tt.getTop=function(){var it=tt.props.scrollTop,st=tt.getEnableScrollRange(),ut=tt.getEnableHeightRange();if(it===0||st===0)return 0;var ft=it/st;return ft*ut},tt.showScroll=function(){var it=tt.props,st=it.height,ut=it.scrollHeight;return ut>st},tt}return _createClass$1(et,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(nt){nt.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var nt=this.state,at=nt.dragging,ot=nt.visible,it=this.props.prefixCls,st=this.getSpinHeight(),ut=this.getTop(),ft=this.showScroll(),dt=ft&&ot;return react.exports.createElement("div",{ref:this.scrollbarRef,className:classNames("".concat(it,"-scrollbar"),_defineProperty$1({},"".concat(it,"-scrollbar-show"),ft)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:dt?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},react.exports.createElement("div",{ref:this.thumbRef,className:classNames("".concat(it,"-scrollbar-thumb"),_defineProperty$1({},"".concat(it,"-scrollbar-thumb-moving"),at)),style:{width:"100%",height:st,top:ut,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),et}(react.exports.Component);function Item($){var _e=$.children,et=$.setRef,tt=react.exports.useCallback(function(nt){et(nt)},[]);return react.exports.cloneElement(_e,{ref:tt})}function useChildren($,_e,et,tt,nt,at){var ot=at.getKey;return $.slice(_e,et+1).map(function(it,st){var ut=_e+st,ft=nt(it,ut,{}),dt=ot(it);return react.exports.createElement(Item,{key:dt,setRef:function(gt){return tt(it,gt)}},ft)})}function _classCallCheck($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}function _createClass($,_e,et){return _e&&_defineProperties($.prototype,_e),et&&_defineProperties($,et),Object.defineProperty($,"prototype",{writable:!1}),$}var CacheMap=function(){function $(){_classCallCheck(this,$),this.maps=void 0,this.maps=Object.create(null)}return _createClass($,[{key:"set",value:function(et,tt){this.maps[et]=tt}},{key:"get",value:function(et){return this.maps[et]}}]),$}();function _slicedToArray$2($,_e){return _arrayWithHoles$2($)||_iterableToArrayLimit$2($,_e)||_unsupportedIterableToArray$2($,_e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2($,_e){if(!!$){if(typeof $=="string")return _arrayLikeToArray$2($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$2($,_e)}}function _arrayLikeToArray$2($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$2($,_e){var et=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt=[],nt=!0,at=!1,ot,it;try{for(et=et.call($);!(nt=(ot=et.next()).done)&&(tt.push(ot.value),!(_e&&tt.length===_e));nt=!0);}catch(st){at=!0,it=st}finally{try{!nt&&et.return!=null&&et.return()}finally{if(at)throw it}}return tt}}function _arrayWithHoles$2($){if(Array.isArray($))return $}function useHeights($,_e,et){var tt=react.exports.useState(0),nt=_slicedToArray$2(tt,2),at=nt[0],ot=nt[1],it=react.exports.useRef(new Map),st=react.exports.useRef(new CacheMap),ut=react.exports.useRef();function ft(){wrapperRaf$1.cancel(ut.current)}function dt(){ft(),ut.current=wrapperRaf$1(function(){it.current.forEach(function(gt,yt){if(gt&&gt.offsetParent){var xt=findDOMNode(gt),Ct=xt.offsetHeight;st.current.get(yt)!==Ct&&st.current.set(yt,xt.offsetHeight)}}),ot(function(gt){return gt+1})})}function vt(gt,yt){var xt=$(gt),Ct=it.current.get(xt);yt?(it.current.set(xt,yt),dt()):it.current.delete(xt),!Ct!=!yt&&(yt?_e==null||_e(gt):et==null||et(gt))}return react.exports.useEffect(function(){return ft},[]),[vt,dt,st.current,at]}function _typeof$1($){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1($)}function useScrollTo($,_e,et,tt,nt,at,ot,it){var st=react.exports.useRef();return function(ut){if(ut==null){it();return}if(wrapperRaf$1.cancel(st.current),typeof ut=="number")ot(ut);else if(ut&&_typeof$1(ut)==="object"){var ft,dt=ut.align;"index"in ut?ft=ut.index:ft=_e.findIndex(function(xt){return nt(xt)===ut.key});var vt=ut.offset,gt=vt===void 0?0:vt,yt=function xt(Ct,wt){if(!(Ct<0||!$.current)){var Et=$.current.clientHeight,$t=!1,It=wt;if(Et){for(var Ot=wt||dt,Lt=0,Ft=0,zt=0,Gt=Math.min(_e.length,ft),jt=0;jt<=Gt;jt+=1){var Ut=nt(_e[jt]);Ft=Lt;var Kt=et.get(Ut);zt=Ft+(Kt===void 0?tt:Kt),Lt=zt,jt===ft&&Kt===void 0&&($t=!0)}var Zt=null;switch(Ot){case"top":Zt=Ft-gt;break;case"bottom":Zt=zt-Et+gt;break;default:{var Qt=$.current.scrollTop,rr=Qt+Et;Ft<Qt?It="top":zt>rr&&(It="bottom")}}Zt!==null&&Zt!==$.current.scrollTop&&ot(Zt)}st.current=wrapperRaf$1(function(){$t&&at(),xt(Ct-1,It)})}};yt(3)}}}function findListDiffIndex($,_e,et){var tt=$.length,nt=_e.length,at,ot;if(tt===0&&nt===0)return null;tt<nt?(at=$,ot=_e):(at=_e,ot=$);var it={__EMPTY_ITEM__:!0};function st(yt){return yt!==void 0?et(yt):it}for(var ut=null,ft=Math.abs(tt-nt)!==1,dt=0;dt<ot.length;dt+=1){var vt=st(at[dt]),gt=st(ot[dt]);if(vt!==gt){ut=dt,ft=ft||vt!==st(ot[dt+1]);break}}return ut===null?null:{index:ut,multiple:ft}}function _slicedToArray$1($,_e){return _arrayWithHoles$1($)||_iterableToArrayLimit$1($,_e)||_unsupportedIterableToArray$1($,_e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1($,_e){if(!!$){if(typeof $=="string")return _arrayLikeToArray$1($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$1($,_e)}}function _arrayLikeToArray$1($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$1($,_e){var et=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt=[],nt=!0,at=!1,ot,it;try{for(et=et.call($);!(nt=(ot=et.next()).done)&&(tt.push(ot.value),!(_e&&tt.length===_e));nt=!0);}catch(st){at=!0,it=st}finally{try{!nt&&et.return!=null&&et.return()}finally{if(at)throw it}}return tt}}function _arrayWithHoles$1($){if(Array.isArray($))return $}function useDiffItem($,_e,et){var tt=react.exports.useState($),nt=_slicedToArray$1(tt,2),at=nt[0],ot=nt[1],it=react.exports.useState(null),st=_slicedToArray$1(it,2),ut=st[0],ft=st[1];return react.exports.useEffect(function(){var dt=findListDiffIndex(at||[],$||[],_e);(dt==null?void 0:dt.index)!==void 0&&(et==null||et(dt.index),ft($[dt.index])),ot($)},[$]),[ut]}function _typeof($){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof($)}var isFF=(typeof navigator=="undefined"?"undefined":_typeof(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),useOriginScroll=function($,_e){var et=react.exports.useRef(!1),tt=react.exports.useRef(null);function nt(){clearTimeout(tt.current),et.current=!0,tt.current=setTimeout(function(){et.current=!1},50)}var at=react.exports.useRef({top:$,bottom:_e});return at.current.top=$,at.current.bottom=_e,function(ot){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,st=ot<0&&at.current.top||ot>0&&at.current.bottom;return it&&st?(clearTimeout(tt.current),et.current=!1):(!st||et.current)&&nt(),!et.current&&st}};function useFrameWheel($,_e,et,tt){var nt=react.exports.useRef(0),at=react.exports.useRef(null),ot=react.exports.useRef(null),it=react.exports.useRef(!1),st=useOriginScroll(_e,et);function ut(dt){if(!!$){wrapperRaf$1.cancel(at.current);var vt=dt.deltaY;nt.current+=vt,ot.current=vt,!st(vt)&&(isFF||dt.preventDefault(),at.current=wrapperRaf$1(function(){var gt=it.current?10:1;tt(nt.current*gt),nt.current=0}))}}function ft(dt){!$||(it.current=dt.detail===ot.current)}return[ut,ft]}var SMOOTH_PTG=14/15;function useMobileTouchMove($,_e,et){var tt=react.exports.useRef(!1),nt=react.exports.useRef(0),at=react.exports.useRef(null),ot=react.exports.useRef(null),it,st=function(vt){if(tt.current){var gt=Math.ceil(vt.touches[0].pageY),yt=nt.current-gt;nt.current=gt,et(yt)&&vt.preventDefault(),clearInterval(ot.current),ot.current=setInterval(function(){yt*=SMOOTH_PTG,(!et(yt,!0)||Math.abs(yt)<=.1)&&clearInterval(ot.current)},16)}},ut=function(){tt.current=!1,it()},ft=function(vt){it(),vt.touches.length===1&&!tt.current&&(tt.current=!0,nt.current=Math.ceil(vt.touches[0].pageY),at.current=vt.target,at.current.addEventListener("touchmove",st),at.current.addEventListener("touchend",ut))};it=function(){at.current&&(at.current.removeEventListener("touchmove",st),at.current.removeEventListener("touchend",ut))},useLayoutEffect$1(function(){return $&&_e.current.addEventListener("touchstart",ft),function(){var dt;(dt=_e.current)===null||dt===void 0||dt.removeEventListener("touchstart",ft),it(),clearInterval(ot.current)}},[$])}var _excluded$n=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function _extends(){return _extends=Object.assign||function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends.apply(this,arguments)}function ownKeys($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _slicedToArray($,_e){return _arrayWithHoles($)||_iterableToArrayLimit($,_e)||_unsupportedIterableToArray($,_e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray($,_e){if(!!$){if(typeof $=="string")return _arrayLikeToArray($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray($,_e)}}function _arrayLikeToArray($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit($,_e){var et=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt=[],nt=!0,at=!1,ot,it;try{for(et=et.call($);!(nt=(ot=et.next()).done)&&(tt.push(ot.value),!(_e&&tt.length===_e));nt=!0);}catch(st){at=!0,it=st}finally{try{!nt&&et.return!=null&&et.return()}finally{if(at)throw it}}return tt}}function _arrayWithHoles($){if(Array.isArray($))return $}function _objectWithoutProperties($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose($,_e),tt,nt;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols($);for(nt=0;nt<at.length;nt++)tt=at[nt],!(_e.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,tt)||(et[tt]=$[tt]))}return et}function _objectWithoutPropertiesLoose($,_e){if($==null)return{};var et={},tt=Object.keys($),nt,at;for(at=0;at<tt.length;at++)nt=tt[at],!(_e.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}var EMPTY_DATA$1=[],ScrollStyle={overflowY:"auto",overflowAnchor:"none"};function RawList($,_e){var et=$.prefixCls,tt=et===void 0?"rc-virtual-list":et,nt=$.className,at=$.height,ot=$.itemHeight,it=$.fullHeight,st=it===void 0?!0:it,ut=$.style,ft=$.data,dt=$.children,vt=$.itemKey,gt=$.virtual,yt=$.component,xt=yt===void 0?"div":yt,Ct=$.onScroll,wt=$.onVisibleChange,Et=_objectWithoutProperties($,_excluded$n),$t=!!(gt!==!1&&at&&ot),It=$t&&ft&&ot*ft.length>at,Ot=react.exports.useState(0),Lt=_slicedToArray(Ot,2),Ft=Lt[0],zt=Lt[1],Gt=react.exports.useState(!1),jt=_slicedToArray(Gt,2),Ut=jt[0],Kt=jt[1],Zt=classNames(tt,nt),Qt=ft||EMPTY_DATA$1,rr=react.exports.useRef(),nr=react.exports.useRef(),dr=react.exports.useRef(),sr=react.exports.useCallback(function($a){return typeof vt=="function"?vt($a):$a==null?void 0:$a[vt]},[vt]),fr={getKey:sr};function yr($a){zt(function(mo){var Po;typeof $a=="function"?Po=$a(mo):Po=$a;var Ro=Fn(Po);return rr.current.scrollTop=Ro,Ro})}var Pr=react.exports.useRef({start:0,end:Qt.length}),wr=react.exports.useRef(),Mr=useDiffItem(Qt,sr),Lr=_slicedToArray(Mr,1),Br=Lr[0];wr.current=Br;var qr=useHeights(sr,null,null),Qr=_slicedToArray(qr,4),Jr=Qr[0],sn=Qr[1],yn=Qr[2],pn=Qr[3],ln=react.exports.useMemo(function(){if(!$t)return{scrollHeight:void 0,start:0,end:Qt.length-1,offset:void 0};if(!It){var $a;return{scrollHeight:(($a=nr.current)===null||$a===void 0?void 0:$a.offsetHeight)||0,start:0,end:Qt.length-1,offset:void 0}}for(var mo=0,Po,Ro,Vo,Oo=Qt.length,Wo=0;Wo<Oo;Wo+=1){var os=Qt[Wo],hs=sr(os),Uo=yn.get(hs),Zo=mo+(Uo===void 0?ot:Uo);Zo>=Ft&&Po===void 0&&(Po=Wo,Ro=mo),Zo>Ft+at&&Vo===void 0&&(Vo=Wo),mo=Zo}return Po===void 0&&(Po=0,Ro=0),Vo===void 0&&(Vo=Qt.length-1),Vo=Math.min(Vo+1,Qt.length),{scrollHeight:mo,start:Po,end:Vo,offset:Ro}},[It,$t,Ft,Qt,pn,at]),Sn=ln.scrollHeight,cn=ln.start,Pn=ln.end,In=ln.offset;Pr.current.start=cn,Pr.current.end=Pn;var Rn=Sn-at,Mn=react.exports.useRef(Rn);Mn.current=Rn;function Fn($a){var mo=$a;return Number.isNaN(Mn.current)||(mo=Math.min(mo,Mn.current)),mo=Math.max(mo,0),mo}var Xr=Ft<=0,wn=Ft>=Rn,vn=useOriginScroll(Xr,wn);function $n($a){var mo=$a;yr(mo)}function Xn($a){var mo=$a.currentTarget.scrollTop;mo!==Ft&&yr(mo),Ct==null||Ct($a)}var no=useFrameWheel($t,Xr,wn,function($a){yr(function(mo){var Po=mo+$a;return Po})}),zn=_slicedToArray(no,2),so=zn[0],vo=zn[1];useMobileTouchMove($t,rr,function($a,mo){return vn($a,mo)?!1:(so({preventDefault:function(){},deltaY:$a}),!0)}),useLayoutEffect$1(function(){function $a(mo){$t&&mo.preventDefault()}return rr.current.addEventListener("wheel",so),rr.current.addEventListener("DOMMouseScroll",vo),rr.current.addEventListener("MozMousePixelScroll",$a),function(){rr.current&&(rr.current.removeEventListener("wheel",so),rr.current.removeEventListener("DOMMouseScroll",vo),rr.current.removeEventListener("MozMousePixelScroll",$a))}},[$t]);var Eo=useScrollTo(rr,Qt,yn,ot,sr,sn,yr,function(){var $a;($a=dr.current)===null||$a===void 0||$a.delayHidden()});react.exports.useImperativeHandle(_e,function(){return{scrollTo:Eo}}),useLayoutEffect$1(function(){if(wt){var $a=Qt.slice(cn,Pn+1);wt($a,Qt)}},[cn,Pn,Qt]);var To=useChildren(Qt,cn,Pn,Jr,dt,fr),Io=null;return at&&(Io=_objectSpread(_defineProperty({},st?"height":"maxHeight",at),ScrollStyle),$t&&(Io.overflowY="hidden",Ut&&(Io.pointerEvents="none"))),react.exports.createElement("div",_extends({style:_objectSpread(_objectSpread({},ut),{},{position:"relative"}),className:Zt},Et),react.exports.createElement(xt,{className:"".concat(tt,"-holder"),style:Io,ref:rr,onScroll:Xn},react.exports.createElement(Filler,{prefixCls:tt,height:Sn,offset:In,onInnerResize:sn,ref:nr},To)),$t&&react.exports.createElement(ScrollBar,{ref:dr,prefixCls:tt,scrollTop:Ft,height:at,scrollHeight:Sn,count:Qt.length,onScroll:$n,onStartMove:function(){Kt(!0)},onStopMove:function(){Kt(!1)}}))}var List$1=react.exports.forwardRef(RawList);List$1.displayName="List";function isPlatformMac(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var SelectContext=react.exports.createContext(null),_excluded$m=["disabled","title","children","style","className"];function isTitleType($){return typeof $=="string"||typeof $=="number"}var OptionList=function(_e,et){var tt=useBaseProps(),nt=tt.prefixCls,at=tt.id,ot=tt.open,it=tt.multiple,st=tt.mode,ut=tt.searchValue,ft=tt.toggleOpen,dt=tt.notFoundContent,vt=tt.onPopupScroll,gt=react.exports.useContext(SelectContext),yt=gt.flattenOptions,xt=gt.onActiveValue,Ct=gt.defaultActiveFirstOption,wt=gt.onSelect,Et=gt.menuItemSelectedIcon,$t=gt.rawValues,It=gt.fieldNames,Ot=gt.virtual,Lt=gt.listHeight,Ft=gt.listItemHeight,zt="".concat(nt,"-item"),Gt=useMemo(function(){return yt},[ot,yt],function(Lr,Br){return Br[0]&&Lr[1]!==Br[1]}),jt=react.exports.useRef(null),Ut=function(Br){Br.preventDefault()},Kt=function(Br){jt.current&&jt.current.scrollTo(typeof Br=="number"?{index:Br}:Br)},Zt=function(Br){for(var qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Qr=Gt.length,Jr=0;Jr<Qr;Jr+=1){var sn=(Br+Jr*qr+Qr)%Qr,yn=Gt[sn],pn=yn.group,ln=yn.data;if(!pn&&!ln.disabled)return sn}return-1},Qt=react.exports.useState(function(){return Zt(0)}),rr=_slicedToArray$3(Qt,2),nr=rr[0],dr=rr[1],sr=function(Br){var qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;dr(Br);var Qr={source:qr?"keyboard":"mouse"},Jr=Gt[Br];if(!Jr){xt(null,-1,Qr);return}xt(Jr.value,Br,Qr)};react.exports.useEffect(function(){sr(Ct!==!1?Zt(0):-1)},[Gt.length,ut]);var fr=react.exports.useCallback(function(Lr){return $t.has(Lr)&&st!=="combobox"},[st,_toConsumableArray($t).toString()]);react.exports.useEffect(function(){var Lr=setTimeout(function(){if(!it&&ot&&$t.size===1){var qr=Array.from($t)[0],Qr=Gt.findIndex(function(Jr){var sn=Jr.data;return sn.value===qr});Qr!==-1&&(sr(Qr),Kt(Qr))}});if(ot){var Br;(Br=jt.current)===null||Br===void 0||Br.scrollTo(void 0)}return function(){return clearTimeout(Lr)}},[ot,ut]);var yr=function(Br){Br!==void 0&&wt(Br,{selected:!$t.has(Br)}),it||ft(!1)};if(react.exports.useImperativeHandle(et,function(){return{onKeyDown:function(Br){var qr=Br.which,Qr=Br.ctrlKey;switch(qr){case KeyCode.N:case KeyCode.P:case KeyCode.UP:case KeyCode.DOWN:{var Jr=0;if(qr===KeyCode.UP?Jr=-1:qr===KeyCode.DOWN?Jr=1:isPlatformMac()&&Qr&&(qr===KeyCode.N?Jr=1:qr===KeyCode.P&&(Jr=-1)),Jr!==0){var sn=Zt(nr+Jr,Jr);Kt(sn),sr(sn,!0)}break}case KeyCode.ENTER:{var yn=Gt[nr];yn&&!yn.data.disabled?yr(yn.value):yr(void 0),ot&&Br.preventDefault();break}case KeyCode.ESC:ft(!1),ot&&Br.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Br){Kt(Br)}}}),Gt.length===0)return react.exports.createElement("div",{role:"listbox",id:"".concat(at,"_list"),className:"".concat(zt,"-empty"),onMouseDown:Ut},dt);var Pr=Object.keys(It).map(function(Lr){return It[Lr]}),wr=function(Br){return Br.label},Mr=function(Br){var qr=Gt[Br];if(!qr)return null;var Qr=qr.data||{},Jr=Qr.value,sn=qr.group,yn=pickAttrs(Qr,!0),pn=wr(qr);return qr?react.exports.createElement("div",_extends$2({"aria-label":typeof pn=="string"&&!sn?pn:null},yn,{key:Br,role:sn?"presentation":"option",id:"".concat(at,"_list_").concat(Br),"aria-selected":fr(Jr)}),Jr):null};return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("div",{role:"listbox",id:"".concat(at,"_list"),style:{height:0,width:0,overflow:"hidden"}},Mr(nr-1),Mr(nr),Mr(nr+1)),react.exports.createElement(List$1,{itemKey:"key",ref:jt,data:Gt,height:Lt,itemHeight:Ft,fullHeight:!1,onMouseDown:Ut,onScroll:vt,virtual:Ot},function(Lr,Br){var qr,Qr=Lr.group,Jr=Lr.groupOption,sn=Lr.data,yn=Lr.label,pn=Lr.value,ln=sn.key;if(Qr){var Sn,cn=(Sn=sn.title)!==null&&Sn!==void 0?Sn:isTitleType(yn)?yn.toString():void 0;return react.exports.createElement("div",{className:classNames(zt,"".concat(zt,"-group")),title:cn},yn!==void 0?yn:ln)}var Pn=sn.disabled,In=sn.title;sn.children;var Rn=sn.style,Mn=sn.className,Fn=_objectWithoutProperties$1(sn,_excluded$m),Xr=omit(Fn,Pr),wn=fr(pn),vn="".concat(zt,"-option"),$n=classNames(zt,vn,Mn,(qr={},_defineProperty$4(qr,"".concat(vn,"-grouped"),Jr),_defineProperty$4(qr,"".concat(vn,"-active"),nr===Br&&!Pn),_defineProperty$4(qr,"".concat(vn,"-disabled"),Pn),_defineProperty$4(qr,"".concat(vn,"-selected"),wn),qr)),Xn=wr(Lr),no=!Et||typeof Et=="function"||wn,zn=typeof Xn=="number"?Xn:Xn||pn,so=isTitleType(zn)?zn.toString():void 0;return In!==void 0&&(so=In),react.exports.createElement("div",_extends$2({},pickAttrs(Xr),{"aria-selected":wn,className:$n,title:so,onMouseMove:function(){nr===Br||Pn||sr(Br)},onClick:function(){Pn||yr(pn)},style:Rn}),react.exports.createElement("div",{className:"".concat(vn,"-content")},zn),react.exports.isValidElement(Et)||wn,no&&react.exports.createElement(TransBtn,{className:"".concat(zt,"-option-state"),customizeIcon:Et,customizeIconProps:{isSelected:wn}},wn?"\u2713":null))}))},RefOptionList=react.exports.forwardRef(OptionList);RefOptionList.displayName="OptionList";var _excluded$l=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],OMIT_DOM_PROPS=["inputValue"];function isRawValue($){return!$||_typeof$4($)!=="object"}var Select$2=react.exports.forwardRef(function($,_e){var et=$.id,tt=$.mode,nt=$.prefixCls,at=nt===void 0?"rc-select":nt,ot=$.backfill,it=$.fieldNames,st=$.inputValue,ut=$.searchValue,ft=$.onSearch,dt=$.autoClearSearchValue,vt=dt===void 0?!0:dt,gt=$.onSelect,yt=$.onDeselect,xt=$.dropdownMatchSelectWidth,Ct=xt===void 0?!0:xt,wt=$.filterOption,Et=$.filterSort,$t=$.optionFilterProp,It=$.optionLabelProp,Ot=$.options,Lt=$.children,Ft=$.defaultActiveFirstOption,zt=$.menuItemSelectedIcon,Gt=$.virtual,jt=$.listHeight,Ut=jt===void 0?200:jt,Kt=$.listItemHeight,Zt=Kt===void 0?20:Kt,Qt=$.value,rr=$.defaultValue,nr=$.labelInValue,dr=$.onChange,sr=_objectWithoutProperties$1($,_excluded$l),fr=useId(et),yr=isMultiple$1(tt),Pr=!!(!Ot&&Lt),wr=react.exports.useMemo(function(){return wt===void 0&&tt==="combobox"?!1:wt},[wt,tt]),Mr=react.exports.useMemo(function(){return fillFieldNames$1(it,Pr)},[JSON.stringify(it),Pr]),Lr=useMergedState("",{value:ut!==void 0?ut:st,postState:function(ur){return ur||""}}),Br=_slicedToArray$3(Lr,2),qr=Br[0],Qr=Br[1],Jr=useOptions(Ot,Lt,Mr,$t,It),sn=Jr.valueOptions,yn=Jr.labelOptions,pn=Jr.options,ln=react.exports.useCallback(function(Bn){var ur=toArray$3(Bn);return ur.map(function(tr){var or,gr,Er,zr;if(isRawValue(tr))or=tr;else{var Kr;Er=tr.key,gr=tr.label,or=(Kr=tr.value)!==null&&Kr!==void 0?Kr:Er}var Hr=sn.get(or);if(Hr){var Or;gr===void 0&&(gr=Hr==null?void 0:Hr[It||Mr.label]),Er===void 0&&(Er=(Or=Hr==null?void 0:Hr.key)!==null&&Or!==void 0?Or:or),zr=Hr==null?void 0:Hr.disabled}return{label:gr,value:or,key:Er,disabled:zr}})},[Mr,It,sn]),Sn=useMergedState(rr,{value:Qt}),cn=_slicedToArray$3(Sn,2),Pn=cn[0],In=cn[1],Rn=react.exports.useMemo(function(){var Bn,ur=ln(Pn);return tt==="combobox"&&!(!((Bn=ur[0])===null||Bn===void 0)&&Bn.value)?[]:ur},[Pn,ln,tt]),Mn=useCache(Rn,sn),Fn=_slicedToArray$3(Mn,2),Xr=Fn[0],wn=Fn[1],vn=react.exports.useMemo(function(){if(!tt&&Xr.length===1){var Bn=Xr[0];if(Bn.value===null&&(Bn.label===null||Bn.label===void 0))return[]}return Xr.map(function(ur){var tr;return _objectSpread2$1(_objectSpread2$1({},ur),{},{label:(tr=ur.label)!==null&&tr!==void 0?tr:ur.value})})},[tt,Xr]),$n=react.exports.useMemo(function(){return new Set(Xr.map(function(Bn){return Bn.value}))},[Xr]);react.exports.useEffect(function(){if(tt==="combobox"){var Bn,ur=(Bn=Xr[0])===null||Bn===void 0?void 0:Bn.value;ur!=null&&Qr(String(ur))}},[Xr]);var Xn=useRefFunc(function(Bn,ur){var tr,or=ur!=null?ur:Bn;return tr={},_defineProperty$4(tr,Mr.value,Bn),_defineProperty$4(tr,Mr.label,or),tr}),no=react.exports.useMemo(function(){if(tt!=="tags")return pn;var Bn=_toConsumableArray(pn),ur=function(or){return sn.has(or)};return _toConsumableArray(Xr).sort(function(tr,or){return tr.value<or.value?-1:1}).forEach(function(tr){var or=tr.value;ur(or)||Bn.push(Xn(or,tr.label))}),Bn},[Xn,pn,sn,Xr,tt]),zn=useFilterOptions(no,Mr,qr,wr,$t),so=react.exports.useMemo(function(){return tt!=="tags"||!qr||zn.some(function(Bn){return Bn[$t||"value"]===qr})?zn:[Xn(qr)].concat(_toConsumableArray(zn))},[Xn,$t,tt,zn,qr]),vo=react.exports.useMemo(function(){return Et?_toConsumableArray(so).sort(function(Bn,ur){return Et(Bn,ur)}):so},[so,Et]),Eo=react.exports.useMemo(function(){return flattenOptions(vo,{fieldNames:Mr,childrenAsData:Pr})},[vo,Mr,Pr]),To=function(ur){var tr=ln(ur);if(In(tr),dr&&(tr.length!==Xr.length||tr.some(function(Er,zr){var Kr;return((Kr=Xr[zr])===null||Kr===void 0?void 0:Kr.value)!==(Er==null?void 0:Er.value)}))){var or=nr?tr:tr.map(function(Er){return Er.value}),gr=tr.map(function(Er){return injectPropsWithOption(wn(Er.value))});dr(yr?or:or[0],yr?gr:gr[0])}},Io=react.exports.useState(null),$a=_slicedToArray$3(Io,2),mo=$a[0],Po=$a[1],Ro=react.exports.useState(0),Vo=_slicedToArray$3(Ro,2),Oo=Vo[0],Wo=Vo[1],os=Ft!==void 0?Ft:tt!=="combobox",hs=react.exports.useCallback(function(Bn,ur){var tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},or=tr.source,gr=or===void 0?"keyboard":or;Wo(ur),ot&&tt==="combobox"&&Bn!==null&&gr==="keyboard"&&Po(String(Bn))},[ot,tt]),Uo=function(ur,tr){var or=function(){var Cn,ga=wn(ur);return[nr?{label:ga==null?void 0:ga[Mr.label],value:ur,key:(Cn=ga==null?void 0:ga.key)!==null&&Cn!==void 0?Cn:ur}:ur,injectPropsWithOption(ga)]};if(tr&&gt){var gr=or(),Er=_slicedToArray$3(gr,2),zr=Er[0],Kr=Er[1];gt(zr,Kr)}else if(!tr&&yt){var Hr=or(),Or=_slicedToArray$3(Hr,2),Zr=Or[0],En=Or[1];yt(Zr,En)}},Zo=useRefFunc(function(Bn,ur){var tr,or=yr?ur.selected:!0;or?tr=yr?[].concat(_toConsumableArray(Xr),[Bn]):[Bn]:tr=Xr.filter(function(gr){return gr.value!==Bn}),To(tr),Uo(Bn,or),tt==="combobox"?Po(""):(!isMultiple$1||vt)&&(Qr(""),Po(""))}),Lo=function(ur,tr){To(ur),(tr.type==="remove"||tr.type==="clear")&&tr.values.forEach(function(or){Uo(or.value,!1)})},cs=function(ur,tr){if(Qr(ur),Po(null),tr.source==="submit"){var or=(ur||"").trim();if(or){var gr=Array.from(new Set([].concat(_toConsumableArray($n),[or])));To(gr),Uo(or,!0),Qr("")}return}tr.source!=="blur"&&(tt==="combobox"&&To(ur),ft==null||ft(ur))},ba=function(ur){var tr=ur;tt!=="tags"&&(tr=ur.map(function(gr){var Er=yn.get(gr);return Er==null?void 0:Er.value}).filter(function(gr){return gr!==void 0}));var or=Array.from(new Set([].concat(_toConsumableArray($n),_toConsumableArray(tr))));To(or),or.forEach(function(gr){Uo(gr,!0)})},lo=react.exports.useMemo(function(){var Bn=Gt!==!1&&Ct!==!1;return _objectSpread2$1(_objectSpread2$1({},Jr),{},{flattenOptions:Eo,onActiveValue:hs,defaultActiveFirstOption:os,onSelect:Zo,menuItemSelectedIcon:zt,rawValues:$n,fieldNames:Mr,virtual:Bn,listHeight:Ut,listItemHeight:Zt,childrenAsData:Pr})},[Jr,Eo,hs,os,Zo,zt,$n,Mr,Gt,Ct,Ut,Zt,Pr]);return react.exports.createElement(SelectContext.Provider,{value:lo},react.exports.createElement(BaseSelect,_extends$2({},sr,{id:fr,prefixCls:at,ref:_e,omitDomProps:OMIT_DOM_PROPS,mode:tt,displayValues:vn,onDisplayValuesChange:Lo,searchValue:qr,onSearch:cs,onSearchSplit:ba,dropdownMatchSelectWidth:Ct,OptionList:RefOptionList,emptyOptions:!Eo.length,activeValue:mo,activeDescendantId:"".concat(fr,"_list_").concat(Oo)})))}),TypedSelect=Select$2;TypedSelect.Option=Option;TypedSelect.OptGroup=OptGroup;var Empty$2=function(){var _e=react.exports.useContext(ConfigContext),et=_e.getPrefixCls,tt=et("empty-img-default");return react.exports.createElement("svg",{className:tt,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("g",{fill:"none",fillRule:"evenodd"},react.exports.createElement("g",{transform:"translate(24 31.67)"},react.exports.createElement("ellipse",{className:"".concat(tt,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),react.exports.createElement("path",{className:"".concat(tt,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),react.exports.createElement("path",{className:"".concat(tt,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),react.exports.createElement("path",{className:"".concat(tt,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),react.exports.createElement("path",{className:"".concat(tt,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),react.exports.createElement("path",{className:"".concat(tt,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),react.exports.createElement("g",{className:"".concat(tt,"-g"),transform:"translate(149.65 15.383)"},react.exports.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),react.exports.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},DefaultEmptyImg=Empty$2,Simple=function(){var _e=react.exports.useContext(ConfigContext),et=_e.getPrefixCls,tt=et("empty-img-simple");return react.exports.createElement("svg",{className:tt,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},react.exports.createElement("ellipse",{className:"".concat(tt,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),react.exports.createElement("g",{className:"".concat(tt,"-g"),fillRule:"nonzero"},react.exports.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),react.exports.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(tt,"-path")}))))},SimpleEmptyImg=Simple,__rest$w=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},defaultEmptyImg=react.exports.createElement(DefaultEmptyImg,null),simpleEmptyImg=react.exports.createElement(SimpleEmptyImg,null),Empty=function(_e){var et=_e.className,tt=_e.prefixCls,nt=_e.image,at=nt===void 0?defaultEmptyImg:nt,ot=_e.description,it=_e.children,st=_e.imageStyle,ut=__rest$w(_e,["className","prefixCls","image","description","children","imageStyle"]),ft=react.exports.useContext(ConfigContext),dt=ft.getPrefixCls,vt=ft.direction;return react.exports.createElement(LocaleReceiver,{componentName:"Empty"},function(gt){var yt,xt=dt("empty",tt),Ct=typeof ot!="undefined"?ot:gt.description,wt=typeof Ct=="string"?Ct:"empty",Et=null;return typeof at=="string"?Et=react.exports.createElement("img",{alt:wt,src:at}):Et=at,react.exports.createElement("div",_extends$2({className:classNames(xt,(yt={},_defineProperty$4(yt,"".concat(xt,"-normal"),at===simpleEmptyImg),_defineProperty$4(yt,"".concat(xt,"-rtl"),vt==="rtl"),yt),et)},ut),react.exports.createElement("div",{className:"".concat(xt,"-image"),style:st},Et),Ct&&react.exports.createElement("div",{className:"".concat(xt,"-description")},Ct),it&&react.exports.createElement("div",{className:"".concat(xt,"-footer")},it))})};Empty.PRESENTED_IMAGE_DEFAULT=defaultEmptyImg;Empty.PRESENTED_IMAGE_SIMPLE=simpleEmptyImg;var Empty$1=Empty,defaultRenderEmpty=function(_e){return react.exports.createElement(ConfigConsumer,null,function(et){var tt=et.getPrefixCls,nt=tt("empty");switch(_e){case"Table":case"List":return react.exports.createElement(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return react.exports.createElement(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE,className:"".concat(nt,"-small")});default:return react.exports.createElement(Empty$1,null)}})},defaultRenderEmpty$1=defaultRenderEmpty,FormContext=react.exports.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),NoStyleItemContext=react.exports.createContext(null),FormProvider=function(_e){var et=omit(_e,["prefixCls"]);return react.exports.createElement(FormProvider$1,_extends$2({},et))},FormItemPrefixContext=react.exports.createContext({prefixCls:""}),FormItemInputContext=react.exports.createContext({}),NoFormStyle=function(_e){var et=_e.children,tt=_e.status,nt=_e.override,at=react.exports.useContext(FormItemInputContext),ot=react.exports.useMemo(function(){var it=_extends$2({},at);return nt&&delete it.isFormItemInput,tt&&(delete it.status,delete it.hasFeedback,delete it.feedbackIcon),it},[tt,nt,at]);return react.exports.createElement(FormItemInputContext.Provider,{value:ot},et)},tuple=function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return et},getCollapsedHeight=function(){return{height:0,opacity:0}},getRealHeight=function(_e){var et=_e.scrollHeight;return{height:et,opacity:1}},getCurrentHeight=function(_e){return{height:_e?_e.offsetHeight:0}},skipOpacityTransition=function(_e,et){return(et==null?void 0:et.deadline)===!0||et.propertyName==="height"},collapseMotion={motionName:"ant-motion-collapse",onAppearStart:getCollapsedHeight,onEnterStart:getCollapsedHeight,onAppearActive:getRealHeight,onEnterActive:getRealHeight,onLeaveStart:getCurrentHeight,onLeaveActive:getCollapsedHeight,onAppearEnd:skipOpacityTransition,onEnterEnd:skipOpacityTransition,onLeaveEnd:skipOpacityTransition,motionDeadline:500};tuple("bottomLeft","bottomRight","topLeft","topRight");var getTransitionDirection=function(_e){return _e!==void 0&&(_e==="topLeft"||_e==="topRight")?"slide-down":"slide-up"},getTransitionName=function(_e,et,tt){return tt!==void 0?tt:"".concat(_e,"-").concat(et)},collapseMotion$1=collapseMotion;tuple("warning","error","");function getStatusClassNames($,_e,et){var tt;return classNames((tt={},_defineProperty$4(tt,"".concat($,"-status-success"),_e==="success"),_defineProperty$4(tt,"".concat($,"-status-warning"),_e==="warning"),_defineProperty$4(tt,"".concat($,"-status-error"),_e==="error"),_defineProperty$4(tt,"".concat($,"-status-validating"),_e==="validating"),_defineProperty$4(tt,"".concat($,"-has-feedback"),et),tt))}var getMergedStatus=function(_e,et){return et||_e},CheckOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},CheckOutlinedSvg=CheckOutlined$2,CheckOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CheckOutlinedSvg}))};CheckOutlined.displayName="CheckOutlined";var CheckOutlined$1=react.exports.forwardRef(CheckOutlined),DownOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},DownOutlinedSvg=DownOutlined$2,DownOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:DownOutlinedSvg}))};DownOutlined.displayName="DownOutlined";var DownOutlined$1=react.exports.forwardRef(DownOutlined),SearchOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},SearchOutlinedSvg=SearchOutlined$2,SearchOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:SearchOutlinedSvg}))};SearchOutlined.displayName="SearchOutlined";var SearchOutlined$1=react.exports.forwardRef(SearchOutlined);function getIcons($){var _e=$.suffixIcon,et=$.clearIcon,tt=$.menuItemSelectedIcon,nt=$.removeIcon,at=$.loading,ot=$.multiple,it=$.hasFeedback,st=$.prefixCls,ut=$.showArrow,ft=$.feedbackIcon,dt=et;et||(dt=react.exports.createElement(CloseCircleFilled$1,null));var vt=function(Et){return react.exports.createElement(react.exports.Fragment,null,ut!==!1&&Et,it&&ft)},gt=null;if(_e!==void 0)gt=vt(_e);else if(at)gt=vt(react.exports.createElement(LoadingOutlined$1,{spin:!0}));else{var yt="".concat(st,"-suffix");gt=function(Et){var $t=Et.open,It=Et.showSearch;return vt($t&&It?react.exports.createElement(SearchOutlined$1,{className:yt}):react.exports.createElement(DownOutlined$1,{className:yt}))}}var xt=null;tt!==void 0?xt=tt:ot?xt=react.exports.createElement(CheckOutlined$1,null):xt=null;var Ct=null;return nt!==void 0?Ct=nt:Ct=react.exports.createElement(CloseOutlined$1,null),{clearIcon:dt,suffixIcon:gt,itemIcon:xt,removeIcon:Ct}}var __rest$v=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",InternalSelect=function(_e,et){var tt,nt=_e.prefixCls,at=_e.bordered,ot=at===void 0?!0:at,it=_e.className,st=_e.getPopupContainer,ut=_e.dropdownClassName,ft=_e.listHeight,dt=ft===void 0?256:ft,vt=_e.placement,gt=_e.listItemHeight,yt=gt===void 0?24:gt,xt=_e.size,Ct=_e.disabled,wt=_e.notFoundContent,Et=_e.status,$t=_e.showArrow,It=__rest$v(_e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),Ot=react.exports.useContext(ConfigContext),Lt=Ot.getPopupContainer,Ft=Ot.getPrefixCls,zt=Ot.renderEmpty,Gt=Ot.direction,jt=Ot.virtual,Ut=Ot.dropdownMatchSelectWidth,Kt=react.exports.useContext(SizeContext$1),Zt=Ft("select",nt),Qt=Ft(),rr=react.exports.useMemo(function(){var Rn=It.mode;if(Rn!=="combobox")return Rn===SECRET_COMBOBOX_MODE_DO_NOT_USE?"combobox":Rn},[It.mode]),nr=rr==="multiple"||rr==="tags",dr=$t!==void 0?$t:It.loading||!(nr||rr==="combobox"),sr=react.exports.useContext(FormItemInputContext),fr=sr.status,yr=sr.hasFeedback,Pr=sr.isFormItemInput,wr=sr.feedbackIcon,Mr=getMergedStatus(fr,Et),Lr;wt!==void 0?Lr=wt:rr==="combobox"?Lr=null:Lr=(zt||defaultRenderEmpty$1)("Select");var Br=getIcons(_extends$2(_extends$2({},It),{multiple:nr,hasFeedback:yr,feedbackIcon:wr,showArrow:dr,prefixCls:Zt})),qr=Br.suffixIcon,Qr=Br.itemIcon,Jr=Br.removeIcon,sn=Br.clearIcon,yn=omit(It,["suffixIcon","itemIcon"]),pn=classNames(ut,_defineProperty$4({},"".concat(Zt,"-dropdown-").concat(Gt),Gt==="rtl")),ln=xt||Kt,Sn=react.exports.useContext(DisabledContext),cn=Ct||Sn,Pn=classNames((tt={},_defineProperty$4(tt,"".concat(Zt,"-lg"),ln==="large"),_defineProperty$4(tt,"".concat(Zt,"-sm"),ln==="small"),_defineProperty$4(tt,"".concat(Zt,"-rtl"),Gt==="rtl"),_defineProperty$4(tt,"".concat(Zt,"-borderless"),!ot),_defineProperty$4(tt,"".concat(Zt,"-in-form-item"),Pr),tt),getStatusClassNames(Zt,Mr,yr),it),In=function(){return vt!==void 0?vt:Gt==="rtl"?"bottomRight":"bottomLeft"};return react.exports.createElement(TypedSelect,_extends$2({ref:et,virtual:jt,dropdownMatchSelectWidth:Ut},yn,{transitionName:getTransitionName(Qt,getTransitionDirection(vt),It.transitionName),listHeight:dt,listItemHeight:yt,mode:rr,prefixCls:Zt,placement:In(),direction:Gt,inputIcon:qr,menuItemSelectedIcon:Qr,removeIcon:Jr,clearIcon:sn,notFoundContent:Lr,className:Pn,getPopupContainer:st||Lt,dropdownClassName:pn,showArrow:yr||$t,disabled:cn}))},Select=react.exports.forwardRef(InternalSelect);Select.SECRET_COMBOBOX_MODE_DO_NOT_USE=SECRET_COMBOBOX_MODE_DO_NOT_USE;Select.Option=Option;Select.OptGroup=OptGroup;var Select$1=Select;function useForceUpdate(){var $=react.exports.useReducer(function(tt){return tt+1},0),_e=_slicedToArray$3($,2),et=_e[1];return et}var responsiveArray=["xxl","xl","lg","md","sm","xs"],responsiveMap={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},subscribers=new Map,subUid=-1,screens={},responsiveObserve={matchHandlers:{},dispatch:function(_e){return screens=_e,subscribers.forEach(function(et){return et(screens)}),subscribers.size>=1},subscribe:function(_e){return subscribers.size||this.register(),subUid+=1,subscribers.set(subUid,_e),_e(screens),subUid},unsubscribe:function(_e){subscribers.delete(_e),subscribers.size||this.unregister()},unregister:function(){var _e=this;Object.keys(responsiveMap).forEach(function(et){var tt=responsiveMap[et],nt=_e.matchHandlers[tt];nt==null||nt.mql.removeListener(nt==null?void 0:nt.listener)}),subscribers.clear()},register:function(){var _e=this;Object.keys(responsiveMap).forEach(function(et){var tt=responsiveMap[et],nt=function(it){var st=it.matches;_e.dispatch(_extends$2(_extends$2({},screens),_defineProperty$4({},et,st)))},at=window.matchMedia(tt);at.addListener(nt),_e.matchHandlers[tt]={mql:at,listener:nt},nt(at)})}},ResponsiveObserve=responsiveObserve;function useBreakpoint(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_e=react.exports.useRef({}),et=useForceUpdate();return react.exports.useEffect(function(){var tt=ResponsiveObserve.subscribe(function(nt){_e.current=nt,$&&et()});return function(){return ResponsiveObserve.unsubscribe(tt)}},[]),_e.current}var autoAdjustOverflow$2={adjustX:1,adjustY:1},targetOffset$2=[0,0],placements$2={left:{points:["cr","cl"],overflow:autoAdjustOverflow$2,offset:[-4,0],targetOffset:targetOffset$2},right:{points:["cl","cr"],overflow:autoAdjustOverflow$2,offset:[4,0],targetOffset:targetOffset$2},top:{points:["bc","tc"],overflow:autoAdjustOverflow$2,offset:[0,-4],targetOffset:targetOffset$2},bottom:{points:["tc","bc"],overflow:autoAdjustOverflow$2,offset:[0,4],targetOffset:targetOffset$2},topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow$2,offset:[0,-4],targetOffset:targetOffset$2},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflow$2,offset:[-4,0],targetOffset:targetOffset$2},topRight:{points:["br","tr"],overflow:autoAdjustOverflow$2,offset:[0,-4],targetOffset:targetOffset$2},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflow$2,offset:[4,0],targetOffset:targetOffset$2},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow$2,offset:[0,4],targetOffset:targetOffset$2},rightBottom:{points:["bl","br"],overflow:autoAdjustOverflow$2,offset:[4,0],targetOffset:targetOffset$2},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow$2,offset:[0,4],targetOffset:targetOffset$2},leftBottom:{points:["br","bl"],overflow:autoAdjustOverflow$2,offset:[-4,0],targetOffset:targetOffset$2}};function Popup($){var _e=$.showArrow,et=$.arrowContent,tt=$.children,nt=$.prefixCls,at=$.id,ot=$.overlayInnerStyle,it=$.className,st=$.style;return react.exports.createElement("div",{className:classNames("".concat(nt,"-content"),it),style:st},_e!==!1&&react.exports.createElement("div",{className:"".concat(nt,"-arrow"),key:"arrow"},et),react.exports.createElement("div",{className:"".concat(nt,"-inner"),id:at,role:"tooltip",style:ot},typeof tt=="function"?tt():tt))}var Tooltip$2=function(_e,et){var tt=_e.overlayClassName,nt=_e.trigger,at=nt===void 0?["hover"]:nt,ot=_e.mouseEnterDelay,it=ot===void 0?0:ot,st=_e.mouseLeaveDelay,ut=st===void 0?.1:st,ft=_e.overlayStyle,dt=_e.prefixCls,vt=dt===void 0?"rc-tooltip":dt,gt=_e.children,yt=_e.onVisibleChange,xt=_e.afterVisibleChange,Ct=_e.transitionName,wt=_e.animation,Et=_e.motion,$t=_e.placement,It=$t===void 0?"right":$t,Ot=_e.align,Lt=Ot===void 0?{}:Ot,Ft=_e.destroyTooltipOnHide,zt=Ft===void 0?!1:Ft,Gt=_e.defaultVisible,jt=_e.getTooltipContainer,Ut=_e.overlayInnerStyle,Kt=_e.arrowContent,Zt=_e.overlay,Qt=_e.id,rr=_e.showArrow,nr=_objectWithoutProperties$1(_e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),dr=react.exports.useRef(null);react.exports.useImperativeHandle(et,function(){return dr.current});var sr=_objectSpread2$1({},nr);"visible"in _e&&(sr.popupVisible=_e.visible);var fr=function(){return react.exports.createElement(Popup,{showArrow:rr,arrowContent:Kt,key:"content",prefixCls:vt,id:Qt,overlayInnerStyle:Ut},Zt)},yr=!1,Pr=!1;if(typeof zt=="boolean")yr=zt;else if(zt&&_typeof$4(zt)==="object"){var wr=zt.keepParent;yr=wr===!0,Pr=wr===!1}return react.exports.createElement(Trigger,_extends$2({popupClassName:tt,prefixCls:vt,popup:fr,action:at,builtinPlacements:placements$2,popupPlacement:It,ref:dr,popupAlign:Lt,getPopupContainer:jt,onPopupVisibleChange:yt,afterPopupVisibleChange:xt,popupTransitionName:Ct,popupAnimation:wt,popupMotion:Et,defaultPopupVisible:Gt,destroyPopupOnHide:yr,autoDestroy:Pr,mouseLeaveDelay:ut,popupStyle:ft,mouseEnterDelay:it},sr),gt)},Tooltip$3=react.exports.forwardRef(Tooltip$2);tuple("success","processing","error","default","warning");var PresetColorTypes=tuple("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),autoAdjustOverflowEnabled={adjustX:1,adjustY:1},autoAdjustOverflowDisabled={adjustX:0,adjustY:0},targetOffset$1=[0,0];function getOverflowOptions($){return typeof $=="boolean"?$?autoAdjustOverflowEnabled:autoAdjustOverflowDisabled:_extends$2(_extends$2({},autoAdjustOverflowDisabled),$)}function getPlacements($){var _e=$.arrowWidth,et=_e===void 0?4:_e,tt=$.horizontalArrowShift,nt=tt===void 0?16:tt,at=$.verticalArrowShift,ot=at===void 0?8:at,it=$.autoAdjustOverflow,st=$.arrowPointAtCenter,ut={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(nt+et),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(ot+et)]},topRight:{points:["br","tc"],offset:[nt+et,-4]},rightTop:{points:["tl","cr"],offset:[4,-(ot+et)]},bottomRight:{points:["tr","bc"],offset:[nt+et,4]},rightBottom:{points:["bl","cr"],offset:[4,ot+et]},bottomLeft:{points:["tl","bc"],offset:[-(nt+et),4]},leftBottom:{points:["br","cl"],offset:[-4,ot+et]}};return Object.keys(ut).forEach(function(ft){ut[ft]=st?_extends$2(_extends$2({},ut[ft]),{overflow:getOverflowOptions(it),targetOffset:targetOffset$1}):_extends$2(_extends$2({},placements$2[ft]),{overflow:getOverflowOptions(it)}),ut[ft].ignoreShake=!0}),ut}var __rest$u=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},splitObject=function(_e,et){var tt={},nt=_extends$2({},_e);return et.forEach(function(at){_e&&at in _e&&(tt[at]=_e[at],delete nt[at])}),{picked:tt,omitted:nt}},PresetColorRegex=new RegExp("^(".concat(PresetColorTypes.join("|"),")(-inverse)?$"));function getDisabledCompatibleChildren($,_e){var et=$.type;if((et.__ANT_BUTTON===!0||$.type==="button")&&$.props.disabled||et.__ANT_SWITCH===!0&&($.props.disabled||$.props.loading)||et.__ANT_RADIO===!0&&$.props.disabled){var tt=splitObject($.props.style,["position","left","right","top","bottom","float","display","zIndex"]),nt=tt.picked,at=tt.omitted,ot=_extends$2(_extends$2({display:"inline-block"},nt),{cursor:"not-allowed",width:$.props.block?"100%":null}),it=_extends$2(_extends$2({},at),{pointerEvents:"none"}),st=cloneElement($,{style:it,className:null});return react.exports.createElement("span",{style:ot,className:classNames($.props.className,"".concat(_e,"-disabled-compatible-wrapper"))},st)}return $}var Tooltip=react.exports.forwardRef(function($,_e){var et,tt=react.exports.useContext(ConfigContext),nt=tt.getPopupContainer,at=tt.getPrefixCls,ot=tt.direction,it=useMergedState(!1,{value:$.visible,defaultValue:$.defaultVisible}),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1],dt=function(){var fr=$.title,yr=$.overlay;return!fr&&!yr&&fr!==0},vt=function(fr){var yr;ft(dt()?!1:fr),dt()||(yr=$.onVisibleChange)===null||yr===void 0||yr.call($,fr)},gt=function(){var fr=$.builtinPlacements,yr=$.arrowPointAtCenter,Pr=$.autoAdjustOverflow;return fr||getPlacements({arrowPointAtCenter:yr,autoAdjustOverflow:Pr})},yt=function(fr,yr){var Pr=gt(),wr=Object.keys(Pr).find(function(Br){return Pr[Br].points[0]===yr.points[0]&&Pr[Br].points[1]===yr.points[1]});if(!!wr){var Mr=fr.getBoundingClientRect(),Lr={top:"50%",left:"50%"};wr.indexOf("top")>=0||wr.indexOf("Bottom")>=0?Lr.top="".concat(Mr.height-yr.offset[1],"px"):(wr.indexOf("Top")>=0||wr.indexOf("bottom")>=0)&&(Lr.top="".concat(-yr.offset[1],"px")),wr.indexOf("left")>=0||wr.indexOf("Right")>=0?Lr.left="".concat(Mr.width-yr.offset[0],"px"):(wr.indexOf("right")>=0||wr.indexOf("Left")>=0)&&(Lr.left="".concat(-yr.offset[0],"px")),fr.style.transformOrigin="".concat(Lr.left," ").concat(Lr.top)}},xt=function(){var fr=$.title,yr=$.overlay;return fr===0?fr:yr||fr||""},Ct=$.getPopupContainer,wt=__rest$u($,["getPopupContainer"]),Et=$.prefixCls,$t=$.openClassName,It=$.getTooltipContainer,Ot=$.overlayClassName,Lt=$.color,Ft=$.overlayInnerStyle,zt=$.children,Gt=at("tooltip",Et),jt=at(),Ut=ut;!("visible"in $)&&dt()&&(Ut=!1);var Kt=getDisabledCompatibleChildren(isValidElement(zt)?zt:react.exports.createElement("span",null,zt),Gt),Zt=Kt.props,Qt=classNames(Zt.className,_defineProperty$4({},$t||"".concat(Gt,"-open"),!0)),rr=classNames(Ot,(et={},_defineProperty$4(et,"".concat(Gt,"-rtl"),ot==="rtl"),_defineProperty$4(et,"".concat(Gt,"-").concat(Lt),Lt&&PresetColorRegex.test(Lt)),et)),nr=Ft,dr;return Lt&&!PresetColorRegex.test(Lt)&&(nr=_extends$2(_extends$2({},Ft),{background:Lt}),dr={"--antd-arrow-background-color":Lt}),react.exports.createElement(Tooltip$3,_extends$2({},wt,{prefixCls:Gt,overlayClassName:rr,getTooltipContainer:Ct||It||nt,ref:_e,builtinPlacements:gt(),overlay:xt(),visible:Ut,onVisibleChange:vt,onPopupAlign:yt,overlayInnerStyle:nr,arrowContent:react.exports.createElement("span",{className:"".concat(Gt,"-arrow-content"),style:dr}),motion:{motionName:getTransitionName(jt,"zoom-big-fast",$.transitionName),motionDeadline:1e3}}),Ut?cloneElement(Kt,{className:Qt}):Kt)});Tooltip.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Tooltip$1=Tooltip,EllipsisOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},EllipsisOutlinedSvg=EllipsisOutlined$2,EllipsisOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:EllipsisOutlinedSvg}))};EllipsisOutlined.displayName="EllipsisOutlined";var EllipsisOutlined$1=react.exports.forwardRef(EllipsisOutlined),shallowequal=function(_e,et,tt,nt){var at=tt?tt.call(nt,_e,et):void 0;if(at!==void 0)return!!at;if(_e===et)return!0;if(typeof _e!="object"||!_e||typeof et!="object"||!et)return!1;var ot=Object.keys(_e),it=Object.keys(et);if(ot.length!==it.length)return!1;for(var st=Object.prototype.hasOwnProperty.bind(et),ut=0;ut<ot.length;ut++){var ft=ot[ut];if(!st(ft))return!1;var dt=_e[ft],vt=et[ft];if(at=tt?tt.call(nt,dt,vt,ft):void 0,at===!1||at===void 0&&dt!==vt)return!1}return!0},_excluded$k=["children","locked"],MenuContext$2=react.exports.createContext(null);function mergeProps($,_e){var et=_objectSpread2$1({},$);return Object.keys(_e).forEach(function(tt){var nt=_e[tt];nt!==void 0&&(et[tt]=nt)}),et}function InheritableContextProvider($){var _e=$.children,et=$.locked,tt=_objectWithoutProperties$1($,_excluded$k),nt=react.exports.useContext(MenuContext$2),at=useMemo(function(){return mergeProps(nt,tt)},[nt,tt],function(ot,it){return!et&&(ot[0]!==it[0]||!shallowequal(ot[1],it[1]))});return react.exports.createElement(MenuContext$2.Provider,{value:at},_e)}function useActive($,_e,et,tt){var nt=react.exports.useContext(MenuContext$2),at=nt.activeKey,ot=nt.onActive,it=nt.onInactive,st={active:at===$};return _e||(st.onMouseEnter=function(ut){et==null||et({key:$,domEvent:ut}),ot($)},st.onMouseLeave=function(ut){tt==null||tt({key:$,domEvent:ut}),it($)}),st}var _excluded$j=["item"];function warnItemProp($){var _e=$.item,et=_objectWithoutProperties$1($,_excluded$j);return Object.defineProperty(et,"item",{get:function(){return warningOnce(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),_e}}),et}function Icon($){var _e=$.icon,et=$.props,tt=$.children,nt;return typeof _e=="function"?nt=react.exports.createElement(_e,_objectSpread2$1({},et)):nt=_e,nt||tt||null}function useDirectionStyle($){var _e=react.exports.useContext(MenuContext$2),et=_e.mode,tt=_e.rtl,nt=_e.inlineIndent;if(et!=="inline")return null;var at=$;return tt?{paddingRight:at*nt}:{paddingLeft:at*nt}}var EmptyList=[],PathRegisterContext=react.exports.createContext(null);function useMeasure(){return react.exports.useContext(PathRegisterContext)}var PathTrackerContext=react.exports.createContext(EmptyList);function useFullPath$1($){var _e=react.exports.useContext(PathTrackerContext);return react.exports.useMemo(function(){return $!==void 0?[].concat(_toConsumableArray(_e),[$]):_e},[_e,$])}var PathUserContext=react.exports.createContext(null),IdContext=react.exports.createContext(null);function getMenuId($,_e){return $===void 0?null:"".concat($,"-").concat(_e)}function useMenuId($){var _e=react.exports.useContext(IdContext);return getMenuId(_e,$)}var PrivateContext=react.exports.createContext({}),_excluded$i=["title","attribute","elementRef"],_excluded2$3=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],_excluded3=["active"],LegacyMenuItem=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){return _classCallCheck$2(this,et),_e.apply(this,arguments)}return _createClass$2(et,[{key:"render",value:function(){var nt=this.props,at=nt.title,ot=nt.attribute,it=nt.elementRef,st=_objectWithoutProperties$1(nt,_excluded$i),ut=omit(st,["eventKey"]);return warningOnce(!ot,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),react.exports.createElement(ForwardOverflow.Item,_extends$2({},ot,{title:typeof at=="string"?at:void 0},ut,{ref:it}))}}]),et}(react.exports.Component),InternalMenuItem=function(_e){var et,tt=_e.style,nt=_e.className,at=_e.eventKey;_e.warnKey;var ot=_e.disabled,it=_e.itemIcon,st=_e.children,ut=_e.role,ft=_e.onMouseEnter,dt=_e.onMouseLeave,vt=_e.onClick,gt=_e.onKeyDown,yt=_e.onFocus,xt=_objectWithoutProperties$1(_e,_excluded2$3),Ct=useMenuId(at),wt=react.exports.useContext(MenuContext$2),Et=wt.prefixCls,$t=wt.onItemClick,It=wt.disabled,Ot=wt.overflowDisabled,Lt=wt.itemIcon,Ft=wt.selectedKeys,zt=wt.onActive,Gt=react.exports.useContext(PrivateContext),jt=Gt._internalRenderMenuItem,Ut="".concat(Et,"-item"),Kt=react.exports.useRef(),Zt=react.exports.useRef(),Qt=It||ot,rr=useFullPath$1(at),nr=function(sn){return{key:at,keyPath:_toConsumableArray(rr).reverse(),item:Kt.current,domEvent:sn}},dr=it||Lt,sr=useActive(at,Qt,ft,dt),fr=sr.active,yr=_objectWithoutProperties$1(sr,_excluded3),Pr=Ft.includes(at),wr=useDirectionStyle(rr.length),Mr=function(sn){if(!Qt){var yn=nr(sn);vt==null||vt(warnItemProp(yn)),$t(yn)}},Lr=function(sn){if(gt==null||gt(sn),sn.which===KeyCode.ENTER){var yn=nr(sn);vt==null||vt(warnItemProp(yn)),$t(yn)}},Br=function(sn){zt(at),yt==null||yt(sn)},qr={};_e.role==="option"&&(qr["aria-selected"]=Pr);var Qr=react.exports.createElement(LegacyMenuItem,_extends$2({ref:Kt,elementRef:Zt,role:ut===null?"none":ut||"menuitem",tabIndex:ot?null:-1,"data-menu-id":Ot&&Ct?null:Ct},xt,yr,qr,{component:"li","aria-disabled":ot,style:_objectSpread2$1(_objectSpread2$1({},wr),tt),className:classNames(Ut,(et={},_defineProperty$4(et,"".concat(Ut,"-active"),fr),_defineProperty$4(et,"".concat(Ut,"-selected"),Pr),_defineProperty$4(et,"".concat(Ut,"-disabled"),Qt),et),nt),onClick:Mr,onKeyDown:Lr,onFocus:Br}),st,react.exports.createElement(Icon,{props:_objectSpread2$1(_objectSpread2$1({},_e),{},{isSelected:Pr}),icon:dr}));return jt&&(Qr=jt(Qr,_e,{selected:Pr})),Qr};function MenuItem$1($){var _e=$.eventKey,et=useMeasure(),tt=useFullPath$1(_e);return react.exports.useEffect(function(){if(et)return et.registerPath(_e,tt),function(){et.unregisterPath(_e,tt)}},[tt]),et?null:react.exports.createElement(InternalMenuItem,$)}var _excluded$h=["label","children","key","type"];function parseChildren($,_e){return toArray$5($).map(function(et,tt){if(react.exports.isValidElement(et)){var nt,at,ot=et.key,it=(nt=(at=et.props)===null||at===void 0?void 0:at.eventKey)!==null&&nt!==void 0?nt:ot,st=it==null;st&&(it="tmp_key-".concat([].concat(_toConsumableArray(_e),[tt]).join("-")));var ut={key:it,eventKey:it};return react.exports.cloneElement(et,ut)}return et})}function convertItemsToNodes$1($){return($||[]).map(function(_e,et){if(_e&&_typeof$4(_e)==="object"){var tt=_e.label,nt=_e.children,at=_e.key,ot=_e.type,it=_objectWithoutProperties$1(_e,_excluded$h),st=at!=null?at:"tmp-".concat(et);return nt||ot==="group"?ot==="group"?react.exports.createElement(MenuItemGroup,_extends$2({key:st},it,{title:tt}),convertItemsToNodes$1(nt)):react.exports.createElement(SubMenu$1,_extends$2({key:st},it,{title:tt}),convertItemsToNodes$1(nt)):ot==="divider"?react.exports.createElement(Divider,_extends$2({key:st},it)):react.exports.createElement(MenuItem$1,_extends$2({key:st},it),tt)}return null}).filter(function(_e){return _e})}function parseItems($,_e,et){var tt=$;return _e&&(tt=convertItemsToNodes$1(_e)),parseChildren(tt,et)}function useMemoCallback($){var _e=react.exports.useRef($);_e.current=$;var et=react.exports.useCallback(function(){for(var tt,nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return(tt=_e.current)===null||tt===void 0?void 0:tt.call.apply(tt,[_e].concat(at))},[]);return $?et:void 0}var _excluded$g=["className","children"],InternalSubMenuList=function(_e,et){var tt=_e.className,nt=_e.children,at=_objectWithoutProperties$1(_e,_excluded$g),ot=react.exports.useContext(MenuContext$2),it=ot.prefixCls,st=ot.mode,ut=ot.rtl;return react.exports.createElement("ul",_extends$2({className:classNames(it,ut&&"".concat(it,"-rtl"),"".concat(it,"-sub"),"".concat(it,"-").concat(st==="inline"?"inline":"vertical"),tt)},at,{"data-menu-list":!0,ref:et}),nt)},SubMenuList=react.exports.forwardRef(InternalSubMenuList);SubMenuList.displayName="SubMenuList";var autoAdjustOverflow$1={adjustX:1,adjustY:1},placements$1={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow$1,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow$1,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflow$1,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflow$1,offset:[4,0]}},placementsRtl={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow$1,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow$1,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:autoAdjustOverflow$1,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:autoAdjustOverflow$1,offset:[4,0]}};function getMotion($,_e,et){if(_e)return _e;if(et)return et[$]||et.other}var popupPlacementMap={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function PopupTrigger($){var _e=$.prefixCls,et=$.visible,tt=$.children,nt=$.popup,at=$.popupClassName,ot=$.popupOffset,it=$.disabled,st=$.mode,ut=$.onVisibleChange,ft=react.exports.useContext(MenuContext$2),dt=ft.getPopupContainer,vt=ft.rtl,gt=ft.subMenuOpenDelay,yt=ft.subMenuCloseDelay,xt=ft.builtinPlacements,Ct=ft.triggerSubMenuAction,wt=ft.forceSubMenuRender,Et=ft.rootClassName,$t=ft.motion,It=ft.defaultMotions,Ot=react.exports.useState(!1),Lt=_slicedToArray$3(Ot,2),Ft=Lt[0],zt=Lt[1],Gt=_objectSpread2$1(vt?_objectSpread2$1({},placementsRtl):_objectSpread2$1({},placements$1),xt),jt=popupPlacementMap[st],Ut=getMotion(st,$t,It),Kt=_objectSpread2$1(_objectSpread2$1({},Ut),{},{leavedClassName:"".concat(_e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Zt=react.exports.useRef();return react.exports.useEffect(function(){return Zt.current=wrapperRaf$1(function(){zt(et)}),function(){wrapperRaf$1.cancel(Zt.current)}},[et]),react.exports.createElement(Trigger,{prefixCls:_e,popupClassName:classNames("".concat(_e,"-popup"),_defineProperty$4({},"".concat(_e,"-rtl"),vt),at,Et),stretch:st==="horizontal"?"minWidth":null,getPopupContainer:dt,builtinPlacements:Gt,popupPlacement:jt,popupVisible:Ft,popup:nt,popupAlign:ot&&{offset:ot},action:it?[]:[Ct],mouseEnterDelay:gt,mouseLeaveDelay:yt,onPopupVisibleChange:ut,forceRender:wt,popupMotion:Kt},tt)}function InlineSubMenuList($){var _e=$.id,et=$.open,tt=$.keyPath,nt=$.children,at="inline",ot=react.exports.useContext(MenuContext$2),it=ot.prefixCls,st=ot.forceSubMenuRender,ut=ot.motion,ft=ot.defaultMotions,dt=ot.mode,vt=react.exports.useRef(!1);vt.current=dt===at;var gt=react.exports.useState(!vt.current),yt=_slicedToArray$3(gt,2),xt=yt[0],Ct=yt[1],wt=vt.current?et:!1;react.exports.useEffect(function(){vt.current&&Ct(!1)},[dt]);var Et=_objectSpread2$1({},getMotion(at,ut,ft));tt.length>1&&(Et.motionAppear=!1);var $t=Et.onVisibleChanged;return Et.onVisibleChanged=function(It){return!vt.current&&!It&&Ct(!0),$t==null?void 0:$t(It)},xt?null:react.exports.createElement(InheritableContextProvider,{mode:at,locked:!vt.current},react.exports.createElement(CSSMotion,_extends$2({visible:wt},Et,{forceRender:st,removeOnLeave:!1,leavedClassName:"".concat(it,"-hidden")}),function(It){var Ot=It.className,Lt=It.style;return react.exports.createElement(SubMenuList,{id:_e,className:Ot,style:Lt},nt)}))}var _excluded$f=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],_excluded2$2=["active"],InternalSubMenu=function(_e){var et,tt=_e.style,nt=_e.className,at=_e.title,ot=_e.eventKey;_e.warnKey;var it=_e.disabled,st=_e.internalPopupClose,ut=_e.children,ft=_e.itemIcon,dt=_e.expandIcon,vt=_e.popupClassName,gt=_e.popupOffset,yt=_e.onClick,xt=_e.onMouseEnter,Ct=_e.onMouseLeave,wt=_e.onTitleClick,Et=_e.onTitleMouseEnter,$t=_e.onTitleMouseLeave,It=_objectWithoutProperties$1(_e,_excluded$f),Ot=useMenuId(ot),Lt=react.exports.useContext(MenuContext$2),Ft=Lt.prefixCls,zt=Lt.mode,Gt=Lt.openKeys,jt=Lt.disabled,Ut=Lt.overflowDisabled,Kt=Lt.activeKey,Zt=Lt.selectedKeys,Qt=Lt.itemIcon,rr=Lt.expandIcon,nr=Lt.onItemClick,dr=Lt.onOpenChange,sr=Lt.onActive,fr=react.exports.useContext(PrivateContext),yr=fr._internalRenderSubMenuItem,Pr=react.exports.useContext(PathUserContext),wr=Pr.isSubPathKey,Mr=useFullPath$1(),Lr="".concat(Ft,"-submenu"),Br=jt||it,qr=react.exports.useRef(),Qr=react.exports.useRef(),Jr=ft||Qt,sn=dt||rr,yn=Gt.includes(ot),pn=!Ut&&yn,ln=wr(Zt,ot),Sn=useActive(ot,Br,Et,$t),cn=Sn.active,Pn=_objectWithoutProperties$1(Sn,_excluded2$2),In=react.exports.useState(!1),Rn=_slicedToArray$3(In,2),Mn=Rn[0],Fn=Rn[1],Xr=function(Ro){Br||Fn(Ro)},wn=function(Ro){Xr(!0),xt==null||xt({key:ot,domEvent:Ro})},vn=function(Ro){Xr(!1),Ct==null||Ct({key:ot,domEvent:Ro})},$n=react.exports.useMemo(function(){return cn||(zt!=="inline"?Mn||wr([Kt],ot):!1)},[zt,cn,Kt,Mn,ot,wr]),Xn=useDirectionStyle(Mr.length),no=function(Ro){Br||(wt==null||wt({key:ot,domEvent:Ro}),zt==="inline"&&dr(ot,!yn))},zn=useMemoCallback(function(Po){yt==null||yt(warnItemProp(Po)),nr(Po)}),so=function(Ro){zt!=="inline"&&dr(ot,Ro)},vo=function(){sr(ot)},Eo=Ot&&"".concat(Ot,"-popup"),To=react.exports.createElement("div",_extends$2({role:"menuitem",style:Xn,className:"".concat(Lr,"-title"),tabIndex:Br?null:-1,ref:qr,title:typeof at=="string"?at:null,"data-menu-id":Ut&&Ot?null:Ot,"aria-expanded":pn,"aria-haspopup":!0,"aria-controls":Eo,"aria-disabled":Br,onClick:no,onFocus:vo},Pn),at,react.exports.createElement(Icon,{icon:zt!=="horizontal"?sn:null,props:_objectSpread2$1(_objectSpread2$1({},_e),{},{isOpen:pn,isSubMenu:!0})},react.exports.createElement("i",{className:"".concat(Lr,"-arrow")}))),Io=react.exports.useRef(zt);if(zt!=="inline"&&(Io.current=Mr.length>1?"vertical":zt),!Ut){var $a=Io.current;To=react.exports.createElement(PopupTrigger,{mode:$a,prefixCls:Lr,visible:!st&&pn&&zt!=="inline",popupClassName:vt,popupOffset:gt,popup:react.exports.createElement(InheritableContextProvider,{mode:$a==="horizontal"?"vertical":$a},react.exports.createElement(SubMenuList,{id:Eo,ref:Qr},ut)),disabled:Br,onVisibleChange:so},To)}var mo=react.exports.createElement(ForwardOverflow.Item,_extends$2({role:"none"},It,{component:"li",style:tt,className:classNames(Lr,"".concat(Lr,"-").concat(zt),nt,(et={},_defineProperty$4(et,"".concat(Lr,"-open"),pn),_defineProperty$4(et,"".concat(Lr,"-active"),$n),_defineProperty$4(et,"".concat(Lr,"-selected"),ln),_defineProperty$4(et,"".concat(Lr,"-disabled"),Br),et)),onMouseEnter:wn,onMouseLeave:vn}),To,!Ut&&react.exports.createElement(InlineSubMenuList,{id:Eo,open:pn,keyPath:Mr},ut));return yr&&(mo=yr(mo,_e,{selected:ln,active:$n,open:pn,disabled:Br})),react.exports.createElement(InheritableContextProvider,{onItemClick:zn,mode:zt==="horizontal"?"vertical":zt,itemIcon:Jr,expandIcon:sn},mo)};function SubMenu$1($){var _e=$.eventKey,et=$.children,tt=useFullPath$1(_e),nt=parseChildren(et,tt),at=useMeasure();react.exports.useEffect(function(){if(at)return at.registerPath(_e,tt),function(){at.unregisterPath(_e,tt)}},[tt]);var ot;return at?ot=nt:ot=react.exports.createElement(InternalSubMenu,$,nt),react.exports.createElement(PathTrackerContext.Provider,{value:tt},ot)}function focusable($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(isVisible($)){var et=$.nodeName.toLowerCase(),tt=["input","select","textarea","button"].includes(et)||$.isContentEditable||et==="a"&&!!$.getAttribute("href"),nt=$.getAttribute("tabindex"),at=Number(nt),ot=null;return nt&&!Number.isNaN(at)?ot=at:tt&&ot===null&&(ot=0),tt&&$.disabled&&(ot=null),ot!==null&&(ot>=0||_e&&ot<0)}return!1}function getFocusNodeList($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et=_toConsumableArray($.querySelectorAll("*")).filter(function(tt){return focusable(tt,_e)});return focusable($,_e)&&et.unshift($),et}var LEFT=KeyCode.LEFT,RIGHT=KeyCode.RIGHT,UP=KeyCode.UP,DOWN=KeyCode.DOWN,ENTER=KeyCode.ENTER,ESC$1=KeyCode.ESC,HOME=KeyCode.HOME,END=KeyCode.END,ArrowKeys=[UP,DOWN,LEFT,RIGHT];function getOffset$1($,_e,et,tt){var nt,at,ot,it,st="prev",ut="next",ft="children",dt="parent";if($==="inline"&&tt===ENTER)return{inlineTrigger:!0};var vt=(nt={},_defineProperty$4(nt,UP,st),_defineProperty$4(nt,DOWN,ut),nt),gt=(at={},_defineProperty$4(at,LEFT,et?ut:st),_defineProperty$4(at,RIGHT,et?st:ut),_defineProperty$4(at,DOWN,ft),_defineProperty$4(at,ENTER,ft),at),yt=(ot={},_defineProperty$4(ot,UP,st),_defineProperty$4(ot,DOWN,ut),_defineProperty$4(ot,ENTER,ft),_defineProperty$4(ot,ESC$1,dt),_defineProperty$4(ot,LEFT,et?ft:dt),_defineProperty$4(ot,RIGHT,et?dt:ft),ot),xt={inline:vt,horizontal:gt,vertical:yt,inlineSub:vt,horizontalSub:yt,verticalSub:yt},Ct=(it=xt["".concat($).concat(_e?"":"Sub")])===null||it===void 0?void 0:it[tt];switch(Ct){case st:return{offset:-1,sibling:!0};case ut:return{offset:1,sibling:!0};case dt:return{offset:-1,sibling:!1};case ft:return{offset:1,sibling:!1};default:return null}}function findContainerUL($){for(var _e=$;_e;){if(_e.getAttribute("data-menu-list"))return _e;_e=_e.parentElement}return null}function getFocusElement($,_e){for(var et=$||document.activeElement;et;){if(_e.has(et))return et;et=et.parentElement}return null}function getFocusableElements($,_e){var et=getFocusNodeList($,!0);return et.filter(function(tt){return _e.has(tt)})}function getNextFocusElement($,_e,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!$)return null;var nt=getFocusableElements($,_e),at=nt.length,ot=nt.findIndex(function(it){return et===it});return tt<0?ot===-1?ot=at-1:ot-=1:tt>0&&(ot+=1),ot=(ot+at)%at,nt[ot]}function useAccessibility$1($,_e,et,tt,nt,at,ot,it,st,ut){var ft=react.exports.useRef(),dt=react.exports.useRef();dt.current=_e;var vt=function(){wrapperRaf$1.cancel(ft.current)};return react.exports.useEffect(function(){return function(){vt()}},[]),function(gt){var yt=gt.which;if([].concat(ArrowKeys,[ENTER,ESC$1,HOME,END]).includes(yt)){var xt,Ct,wt,Et=function(){xt=new Set,Ct=new Map,wt=new Map;var rr=at();return rr.forEach(function(nr){var dr=document.querySelector("[data-menu-id='".concat(getMenuId(tt,nr),"']"));dr&&(xt.add(dr),wt.set(dr,nr),Ct.set(nr,dr))}),xt};Et();var $t=Ct.get(_e),It=getFocusElement($t,xt),Ot=wt.get(It),Lt=getOffset$1($,ot(Ot,!0).length===1,et,yt);if(!Lt&&yt!==HOME&&yt!==END)return;(ArrowKeys.includes(yt)||[HOME,END].includes(yt))&&gt.preventDefault();var Ft=function(rr){if(rr){var nr=rr,dr=rr.querySelector("a");dr!=null&&dr.getAttribute("href")&&(nr=dr);var sr=wt.get(rr);it(sr),vt(),ft.current=wrapperRaf$1(function(){dt.current===sr&&nr.focus()})}};if([HOME,END].includes(yt)||Lt.sibling||!It){var zt;!It||$==="inline"?zt=nt.current:zt=findContainerUL(It);var Gt,jt=getFocusableElements(zt,xt);yt===HOME?Gt=jt[0]:yt===END?Gt=jt[jt.length-1]:Gt=getNextFocusElement(zt,xt,It,Lt.offset),Ft(Gt)}else if(Lt.inlineTrigger)st(Ot);else if(Lt.offset>0)st(Ot,!0),vt(),ft.current=wrapperRaf$1(function(){Et();var Qt=It.getAttribute("aria-controls"),rr=document.getElementById(Qt),nr=getNextFocusElement(rr,xt);Ft(nr)},5);else if(Lt.offset<0){var Ut=ot(Ot,!0),Kt=Ut[Ut.length-2],Zt=Ct.get(Kt);st(Kt,!1),Ft(Zt)}}ut==null||ut(gt)}}var uniquePrefix=Math.random().toFixed(5).toString().slice(2),internalId=0;function useUUID($){var _e=useMergedState($,{value:$}),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1];return react.exports.useEffect(function(){internalId+=1;var at="".concat(uniquePrefix,"-").concat(internalId);nt("rc-menu-uuid-".concat(at))},[]),tt}function nextSlice($){Promise.resolve().then($)}var PATH_SPLIT="__RC_UTIL_PATH_SPLIT__",getPathStr=function(_e){return _e.join(PATH_SPLIT)},getPathKeys=function(_e){return _e.split(PATH_SPLIT)},OVERFLOW_KEY="rc-menu-more";function useKeyRecords(){var $=react.exports.useState({}),_e=_slicedToArray$3($,2),et=_e[1],tt=react.exports.useRef(new Map),nt=react.exports.useRef(new Map),at=react.exports.useState([]),ot=_slicedToArray$3(at,2),it=ot[0],st=ot[1],ut=react.exports.useRef(0),ft=react.exports.useRef(!1),dt=function(){ft.current||et({})},vt=react.exports.useCallback(function($t,It){var Ot=getPathStr(It);nt.current.set(Ot,$t),tt.current.set($t,Ot),ut.current+=1;var Lt=ut.current;nextSlice(function(){Lt===ut.current&&dt()})},[]),gt=react.exports.useCallback(function($t,It){var Ot=getPathStr(It);nt.current.delete(Ot),tt.current.delete($t)},[]),yt=react.exports.useCallback(function($t){st($t)},[]),xt=react.exports.useCallback(function($t,It){var Ot=tt.current.get($t)||"",Lt=getPathKeys(Ot);return It&&it.includes(Lt[0])&&Lt.unshift(OVERFLOW_KEY),Lt},[it]),Ct=react.exports.useCallback(function($t,It){return $t.some(function(Ot){var Lt=xt(Ot,!0);return Lt.includes(It)})},[xt]),wt=function(){var It=_toConsumableArray(tt.current.keys());return it.length&&It.push(OVERFLOW_KEY),It},Et=react.exports.useCallback(function($t){var It="".concat(tt.current.get($t)).concat(PATH_SPLIT),Ot=new Set;return _toConsumableArray(nt.current.keys()).forEach(function(Lt){Lt.startsWith(It)&&Ot.add(nt.current.get(Lt))}),Ot},[]);return react.exports.useEffect(function(){return function(){ft.current=!0}},[]),{registerPath:vt,unregisterPath:gt,refreshOverflowKeys:yt,isSubPathKey:Ct,getKeyPath:xt,getKeys:wt,getSubPathKeys:Et}}var _excluded$e=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],EMPTY_LIST$3=[],Menu$2=react.exports.forwardRef(function($,_e){var et,tt,nt=$.prefixCls,at=nt===void 0?"rc-menu":nt,ot=$.rootClassName,it=$.style,st=$.className,ut=$.tabIndex,ft=ut===void 0?0:ut,dt=$.items,vt=$.children,gt=$.direction,yt=$.id,xt=$.mode,Ct=xt===void 0?"vertical":xt,wt=$.inlineCollapsed,Et=$.disabled,$t=$.disabledOverflow,It=$.subMenuOpenDelay,Ot=It===void 0?.1:It,Lt=$.subMenuCloseDelay,Ft=Lt===void 0?.1:Lt,zt=$.forceSubMenuRender,Gt=$.defaultOpenKeys,jt=$.openKeys,Ut=$.activeKey,Kt=$.defaultActiveFirst,Zt=$.selectable,Qt=Zt===void 0?!0:Zt,rr=$.multiple,nr=rr===void 0?!1:rr,dr=$.defaultSelectedKeys,sr=$.selectedKeys,fr=$.onSelect,yr=$.onDeselect,Pr=$.inlineIndent,wr=Pr===void 0?24:Pr,Mr=$.motion,Lr=$.defaultMotions,Br=$.triggerSubMenuAction,qr=Br===void 0?"hover":Br,Qr=$.builtinPlacements,Jr=$.itemIcon,sn=$.expandIcon,yn=$.overflowedIndicator,pn=yn===void 0?"...":yn,ln=$.overflowedIndicatorPopupClassName,Sn=$.getPopupContainer,cn=$.onClick,Pn=$.onOpenChange,In=$.onKeyDown;$.openAnimation,$.openTransitionName;var Rn=$._internalRenderMenuItem,Mn=$._internalRenderSubMenuItem,Fn=_objectWithoutProperties$1($,_excluded$e),Xr=react.exports.useMemo(function(){return parseItems(vt,dt,EMPTY_LIST$3)},[vt,dt]),wn=react.exports.useState(!1),vn=_slicedToArray$3(wn,2),$n=vn[0],Xn=vn[1],no=react.exports.useRef(),zn=useUUID(yt),so=gt==="rtl",vo=react.exports.useMemo(function(){return(Ct==="inline"||Ct==="vertical")&&wt?["vertical",wt]:[Ct,!1]},[Ct,wt]),Eo=_slicedToArray$3(vo,2),To=Eo[0],Io=Eo[1],$a=react.exports.useState(0),mo=_slicedToArray$3($a,2),Po=mo[0],Ro=mo[1],Vo=Po>=Xr.length-1||To!=="horizontal"||$t,Oo=useMergedState(Gt,{value:jt,postState:function(Nn){return Nn||EMPTY_LIST$3}}),Wo=_slicedToArray$3(Oo,2),os=Wo[0],hs=Wo[1],Uo=function(Nn){hs(Nn),Pn==null||Pn(Nn)},Zo=react.exports.useState(os),Lo=_slicedToArray$3(Zo,2),cs=Lo[0],ba=Lo[1],lo=To==="inline",Bn=react.exports.useRef(!1);react.exports.useEffect(function(){lo&&ba(os)},[os]),react.exports.useEffect(function(){if(!Bn.current){Bn.current=!0;return}lo?hs(cs):Uo(EMPTY_LIST$3)},[lo]);var ur=useKeyRecords(),tr=ur.registerPath,or=ur.unregisterPath,gr=ur.refreshOverflowKeys,Er=ur.isSubPathKey,zr=ur.getKeyPath,Kr=ur.getKeys,Hr=ur.getSubPathKeys,Or=react.exports.useMemo(function(){return{registerPath:tr,unregisterPath:or}},[tr,or]),Zr=react.exports.useMemo(function(){return{isSubPathKey:Er}},[Er]);react.exports.useEffect(function(){gr(Vo?EMPTY_LIST$3:Xr.slice(Po+1).map(function(ts){return ts.key}))},[Po,Vo]);var En=useMergedState(Ut||Kt&&((et=Xr[0])===null||et===void 0?void 0:et.key),{value:Ut}),Gn=_slicedToArray$3(En,2),Cn=Gn[0],ga=Gn[1],uo=useMemoCallback(function(ts){ga(ts)}),_i=useMemoCallback(function(){ga(void 0)});react.exports.useImperativeHandle(_e,function(){return{list:no.current,focus:function(Nn){var fo,Hn=Cn!=null?Cn:(fo=Xr.find(function(Jo){return!Jo.props.disabled}))===null||fo===void 0?void 0:fo.key;if(Hn){var ho,Qo,po;(ho=no.current)===null||ho===void 0||(Qo=ho.querySelector("li[data-menu-id='".concat(getMenuId(zn,Hn),"']")))===null||Qo===void 0||(po=Qo.focus)===null||po===void 0||po.call(Qo,Nn)}}}});var co=useMergedState(dr||[],{value:sr,postState:function(Nn){return Array.isArray(Nn)?Nn:Nn==null?EMPTY_LIST$3:[Nn]}}),Vn=_slicedToArray$3(co,2),qn=Vn[0],oo=Vn[1],bo=function(Nn){if(Qt){var fo=Nn.key,Hn=qn.includes(fo),ho;nr?Hn?ho=qn.filter(function(po){return po!==fo}):ho=[].concat(_toConsumableArray(qn),[fo]):ho=[fo],oo(ho);var Qo=_objectSpread2$1(_objectSpread2$1({},Nn),{},{selectedKeys:ho});Hn?yr==null||yr(Qo):fr==null||fr(Qo)}!nr&&os.length&&To!=="inline"&&Uo(EMPTY_LIST$3)},Ur=useMemoCallback(function(ts){cn==null||cn(warnItemProp(ts)),bo(ts)}),ss=useMemoCallback(function(ts,Nn){var fo=os.filter(function(ho){return ho!==ts});if(Nn)fo.push(ts);else if(To!=="inline"){var Hn=Hr(ts);fo=fo.filter(function(ho){return!Hn.has(ho)})}shallowequal(os,fo)||Uo(fo)}),Ho=useMemoCallback(Sn),Xo=function(Nn,fo){var Hn=fo!=null?fo:!os.includes(Nn);ss(Nn,Hn)},Ws=useAccessibility$1(To,Cn,so,zn,no,Kr,zr,ga,Xo,In);react.exports.useEffect(function(){Xn(!0)},[]);var Cs=react.exports.useMemo(function(){return{_internalRenderMenuItem:Rn,_internalRenderSubMenuItem:Mn}},[Rn,Mn]),Al=To!=="horizontal"||$t?Xr:Xr.map(function(ts,Nn){return react.exports.createElement(InheritableContextProvider,{key:ts.key,overflowDisabled:Nn>Po},ts)}),Ol=react.exports.createElement(ForwardOverflow,_extends$2({id:yt,ref:no,prefixCls:"".concat(at,"-overflow"),component:"ul",itemComponent:MenuItem$1,className:classNames(at,"".concat(at,"-root"),"".concat(at,"-").concat(To),st,(tt={},_defineProperty$4(tt,"".concat(at,"-inline-collapsed"),Io),_defineProperty$4(tt,"".concat(at,"-rtl"),so),tt),ot),dir:gt,style:it,role:"menu",tabIndex:ft,data:Al,renderRawItem:function(Nn){return Nn},renderRawRest:function(Nn){var fo=Nn.length,Hn=fo?Xr.slice(-fo):null;return react.exports.createElement(SubMenu$1,{eventKey:OVERFLOW_KEY,title:pn,disabled:Vo,internalPopupClose:fo===0,popupClassName:ln},Hn)},maxCount:To!=="horizontal"||$t?ForwardOverflow.INVALIDATE:ForwardOverflow.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Nn){Ro(Nn)},onKeyDown:Ws},Fn));return react.exports.createElement(PrivateContext.Provider,{value:Cs},react.exports.createElement(IdContext.Provider,{value:zn},react.exports.createElement(InheritableContextProvider,{prefixCls:at,rootClassName:ot,mode:To,openKeys:os,rtl:so,disabled:Et,motion:$n?Mr:null,defaultMotions:$n?Lr:null,activeKey:Cn,onActive:uo,onInactive:_i,selectedKeys:qn,inlineIndent:wr,subMenuOpenDelay:Ot,subMenuCloseDelay:Ft,forceSubMenuRender:zt,builtinPlacements:Qr,triggerSubMenuAction:qr,getPopupContainer:Ho,itemIcon:Jr,expandIcon:sn,onItemClick:Ur,onOpenChange:ss},react.exports.createElement(PathUserContext.Provider,{value:Zr},Ol),react.exports.createElement("div",{style:{display:"none"},"aria-hidden":!0},react.exports.createElement(PathRegisterContext.Provider,{value:Or},Xr)))))}),_excluded$d=["className","title","eventKey","children"],_excluded2$1=["children"],InternalMenuItemGroup=function(_e){var et=_e.className,tt=_e.title;_e.eventKey;var nt=_e.children,at=_objectWithoutProperties$1(_e,_excluded$d),ot=react.exports.useContext(MenuContext$2),it=ot.prefixCls,st="".concat(it,"-item-group");return react.exports.createElement("li",_extends$2({},at,{onClick:function(ft){return ft.stopPropagation()},className:classNames(st,et)}),react.exports.createElement("div",{className:"".concat(st,"-title"),title:typeof tt=="string"?tt:void 0},tt),react.exports.createElement("ul",{className:"".concat(st,"-list")},nt))};function MenuItemGroup($){var _e=$.children,et=_objectWithoutProperties$1($,_excluded2$1),tt=useFullPath$1(et.eventKey),nt=parseChildren(_e,tt),at=useMeasure();return at?nt:react.exports.createElement(InternalMenuItemGroup,omit(et,["warnKey"]),nt)}function Divider($){var _e=$.className,et=$.style,tt=react.exports.useContext(MenuContext$2),nt=tt.prefixCls,at=useMeasure();return at?null:react.exports.createElement("li",{className:classNames("".concat(nt,"-item-divider"),_e),style:et})}var useFullPath=useFullPath$1,ExportMenu=Menu$2;ExportMenu.Item=MenuItem$1;ExportMenu.SubMenu=SubMenu$1;ExportMenu.ItemGroup=MenuItemGroup;ExportMenu.Divider=Divider;var LeftOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},LeftOutlinedSvg=LeftOutlined$2,LeftOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:LeftOutlinedSvg}))};LeftOutlined.displayName="LeftOutlined";var LeftOutlined$1=react.exports.forwardRef(LeftOutlined),RightOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},RightOutlinedSvg=RightOutlined$2,RightOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:RightOutlinedSvg}))};RightOutlined.displayName="RightOutlined";var RightOutlined$1=react.exports.forwardRef(RightOutlined);globalThis&&globalThis.__rest;var SiderContext=react.exports.createContext({}),__rest$t=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},MenuDivider=function(_e){var et=_e.prefixCls,tt=_e.className,nt=_e.dashed,at=__rest$t(_e,["prefixCls","className","dashed"]),ot=react.exports.useContext(ConfigContext),it=ot.getPrefixCls,st=it("menu",et),ut=classNames(_defineProperty$4({},"".concat(st,"-item-divider-dashed"),!!nt),tt);return react.exports.createElement(Divider,_extends$2({className:ut},at))},MenuDivider$1=MenuDivider,MenuContext=react.exports.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),MenuContext$1=MenuContext,__rest$s=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},MenuItem=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;return _classCallCheck$2(this,et),tt=_e.apply(this,arguments),tt.renderItem=function(nt){var at,ot=nt.siderCollapsed,it,st=tt.context,ut=st.prefixCls,ft=st.firstLevel,dt=st.inlineCollapsed,vt=st.direction,gt=st.disableMenuItemTitleTooltip,yt=tt.props,xt=yt.className,Ct=yt.children,wt=tt.props,Et=wt.title,$t=wt.icon,It=wt.danger,Ot=__rest$s(wt,["title","icon","danger"]),Lt=Et;typeof Et=="undefined"?Lt=ft?Ct:"":Et===!1&&(Lt="");var Ft={title:Lt};!ot&&!dt&&(Ft.title=null,Ft.visible=!1);var zt=toArray$5(Ct).length,Gt=react.exports.createElement(MenuItem$1,_extends$2({},Ot,{className:classNames((at={},_defineProperty$4(at,"".concat(ut,"-item-danger"),It),_defineProperty$4(at,"".concat(ut,"-item-only-child"),($t?zt+1:zt)===1),at),xt),title:typeof Et=="string"?Et:void 0}),cloneElement($t,{className:classNames(isValidElement($t)?(it=$t.props)===null||it===void 0?void 0:it.className:"","".concat(ut,"-item-icon"))}),tt.renderItemChildren(dt));return gt||(Gt=react.exports.createElement(Tooltip$1,_extends$2({},Ft,{placement:vt==="rtl"?"left":"right",overlayClassName:"".concat(ut,"-inline-collapsed-tooltip")}),Gt)),Gt},tt}return _createClass$2(et,[{key:"renderItemChildren",value:function(nt){var at=this.context,ot=at.prefixCls,it=at.firstLevel,st=this.props,ut=st.icon,ft=st.children,dt=react.exports.createElement("span",{className:"".concat(ot,"-title-content")},ft);return(!ut||isValidElement(ft)&&ft.type==="span")&&ft&&nt&&it&&typeof ft=="string"?react.exports.createElement("div",{className:"".concat(ot,"-inline-collapsed-noicon")},ft.charAt(0)):dt}},{key:"render",value:function(){return react.exports.createElement(SiderContext.Consumer,null,this.renderItem)}}]),et}(react.exports.Component);MenuItem.contextType=MenuContext$1;function SubMenu($){var _e,et=$.popupClassName,tt=$.icon,nt=$.title,at=$.theme,ot=react.exports.useContext(MenuContext$1),it=ot.prefixCls,st=ot.inlineCollapsed,ut=ot.antdMenuTheme,ft=useFullPath(),dt;if(!tt)dt=st&&!ft.length&&nt&&typeof nt=="string"?react.exports.createElement("div",{className:"".concat(it,"-inline-collapsed-noicon")},nt.charAt(0)):react.exports.createElement("span",{className:"".concat(it,"-title-content")},nt);else{var vt=isValidElement(nt)&&nt.type==="span";dt=react.exports.createElement(react.exports.Fragment,null,cloneElement(tt,{className:classNames(isValidElement(tt)?(_e=tt.props)===null||_e===void 0?void 0:_e.className:"","".concat(it,"-item-icon"))}),vt?nt:react.exports.createElement("span",{className:"".concat(it,"-title-content")},nt))}var gt=react.exports.useMemo(function(){return _extends$2(_extends$2({},ot),{firstLevel:!1})},[ot]);return react.exports.createElement(MenuContext$1.Provider,{value:gt},react.exports.createElement(SubMenu$1,_extends$2({},omit($,["icon"]),{title:dt,popupClassName:classNames(it,"".concat(it,"-").concat(at||ut),et)})))}var __rest$r=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function convertItemsToNodes($){return($||[]).map(function(_e,et){if(_e&&_typeof$4(_e)==="object"){var tt=_e,nt=tt.label,at=tt.children,ot=tt.key,it=tt.type,st=__rest$r(tt,["label","children","key","type"]),ut=ot!=null?ot:"tmp-".concat(et);return at||it==="group"?it==="group"?react.exports.createElement(MenuItemGroup,_extends$2({key:ut},st,{title:nt}),convertItemsToNodes(at)):react.exports.createElement(SubMenu,_extends$2({key:ut},st,{title:nt}),convertItemsToNodes(at)):it==="divider"?react.exports.createElement(MenuDivider$1,_extends$2({key:ut},st)):react.exports.createElement(MenuItem,_extends$2({key:ut},st),nt)}return null}).filter(function(_e){return _e})}function useItems($){return react.exports.useMemo(function(){return $&&convertItemsToNodes($)},[$])}var __rest$q=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},OverrideContext=react.exports.createContext(null),OverrideProvider=function(_e){var et=_e.children,tt=__rest$q(_e,["children"]),nt=react.exports.useContext(OverrideContext),at=react.exports.useMemo(function(){return _extends$2(_extends$2({},nt),tt)},[nt,tt.prefixCls,tt.mode,tt.selectable]);return react.exports.createElement(OverrideContext.Provider,{value:at},et)},OverrideContext$1=OverrideContext,__rest$p=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},InternalMenu=react.exports.forwardRef(function($,_e){var et,tt=react.exports.useContext(OverrideContext$1)||{},nt=react.exports.useContext(ConfigContext),at=nt.getPrefixCls,ot=nt.getPopupContainer,it=nt.direction,st=at(),ut=$.prefixCls,ft=$.className,dt=$.theme,vt=dt===void 0?"light":dt,gt=$.expandIcon,yt=$._internalDisableMenuItemTitleTooltip,xt=$.inlineCollapsed,Ct=$.siderCollapsed,wt=$.items,Et=$.children,$t=$.mode,It=$.selectable,Ot=$.onClick,Lt=__rest$p($,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),Ft=omit(Lt,["collapsedWidth"]),zt=useItems(wt)||Et;(et=tt.validator)===null||et===void 0||et.call(tt,{mode:$t});var Gt=useEvent(function(){var sr;Ot==null||Ot.apply(void 0,arguments),(sr=tt==null?void 0:tt.onClick)===null||sr===void 0||sr.call(tt)}),jt=tt.mode||$t,Ut=It!=null?It:tt.selectable,Kt=react.exports.useMemo(function(){return Ct!==void 0?Ct:xt},[xt,Ct]),Zt={horizontal:{motionName:"".concat(st,"-slide-up")},inline:collapseMotion$1,other:{motionName:"".concat(st,"-zoom-big")}},Qt=at("menu",ut||tt.prefixCls),rr=classNames("".concat(Qt,"-").concat(vt),ft),nr;typeof gt=="function"?nr=gt:nr=cloneElement(gt||tt.expandIcon,{className:"".concat(Qt,"-submenu-expand-icon")});var dr=react.exports.useMemo(function(){return{prefixCls:Qt,inlineCollapsed:Kt||!1,antdMenuTheme:vt,direction:it,firstLevel:!0,disableMenuItemTitleTooltip:yt}},[Qt,Kt,vt,it,yt]);return react.exports.createElement(OverrideContext$1.Provider,{value:null},react.exports.createElement(MenuContext$1.Provider,{value:dr},react.exports.createElement(ExportMenu,_extends$2({getPopupContainer:ot,overflowedIndicator:react.exports.createElement(EllipsisOutlined$1,null),overflowedIndicatorPopupClassName:"".concat(Qt,"-").concat(vt),mode:jt,selectable:Ut,onClick:Gt},Ft,{inlineCollapsed:Kt,className:rr,prefixCls:Qt,direction:it,defaultMotions:Zt,expandIcon:nr,ref:_e}),zt)))}),Menu=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;return _classCallCheck$2(this,et),tt=_e.apply(this,arguments),tt.focus=function(nt){var at;(at=tt.menu)===null||at===void 0||at.focus(nt)},tt}return _createClass$2(et,[{key:"render",value:function(){var nt=this;return react.exports.createElement(SiderContext.Consumer,null,function(at){return react.exports.createElement(InternalMenu,_extends$2({ref:function(it){nt.menu=it}},nt.props,at))})}}]),et}(react.exports.Component);Menu.Divider=MenuDivider$1;Menu.Item=MenuItem;Menu.SubMenu=SubMenu;Menu.ItemGroup=MenuItemGroup;var Menu$1=Menu,autoAdjustOverflow={adjustX:1,adjustY:1},targetOffset=[0,0],placements={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow,offset:[0,-4],targetOffset},topCenter:{points:["bc","tc"],overflow:autoAdjustOverflow,offset:[0,-4],targetOffset},topRight:{points:["br","tr"],overflow:autoAdjustOverflow,offset:[0,-4],targetOffset},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow,offset:[0,4],targetOffset},bottomCenter:{points:["tc","bc"],overflow:autoAdjustOverflow,offset:[0,4],targetOffset},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow,offset:[0,4],targetOffset}},ESC=KeyCode.ESC,TAB=KeyCode.TAB;function useAccessibility($){var _e=$.visible,et=$.setTriggerVisible,tt=$.triggerRef,nt=$.onVisibleChange,at=$.autoFocus,ot=react.exports.useRef(!1),it=function(){if(_e&&tt.current){var dt,vt,gt,yt;(dt=tt.current)===null||dt===void 0||(vt=dt.triggerRef)===null||vt===void 0||(gt=vt.current)===null||gt===void 0||(yt=gt.focus)===null||yt===void 0||yt.call(gt),et(!1),typeof nt=="function"&&nt(!1)}},st=function(){var dt,vt,gt,yt,xt=getFocusNodeList((dt=tt.current)===null||dt===void 0||(vt=dt.popupRef)===null||vt===void 0||(gt=vt.current)===null||gt===void 0||(yt=gt.getElement)===null||yt===void 0?void 0:yt.call(gt)),Ct=xt[0];return Ct!=null&&Ct.focus?(Ct.focus(),ot.current=!0,!0):!1},ut=function(dt){switch(dt.keyCode){case ESC:it();break;case TAB:{var vt=!1;ot.current||(vt=st()),vt?dt.preventDefault():it();break}}};react.exports.useEffect(function(){return _e?(window.addEventListener("keydown",ut),at&&wrapperRaf$1(st,3),function(){window.removeEventListener("keydown",ut),ot.current=!1}):function(){ot.current=!1}},[_e])}var _excluded$c=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Dropdown$2($,_e){var et=$.arrow,tt=et===void 0?!1:et,nt=$.prefixCls,at=nt===void 0?"rc-dropdown":nt,ot=$.transitionName,it=$.animation,st=$.align,ut=$.placement,ft=ut===void 0?"bottomLeft":ut,dt=$.placements,vt=dt===void 0?placements:dt,gt=$.getPopupContainer,yt=$.showAction,xt=$.hideAction,Ct=$.overlayClassName,wt=$.overlayStyle,Et=$.visible,$t=$.trigger,It=$t===void 0?["hover"]:$t,Ot=$.autoFocus,Lt=_objectWithoutProperties$1($,_excluded$c),Ft=react.exports.useState(),zt=_slicedToArray$3(Ft,2),Gt=zt[0],jt=zt[1],Ut="visible"in $?Et:Gt,Kt=react.exports.useRef(null);react.exports.useImperativeHandle(_e,function(){return Kt.current}),useAccessibility({visible:Ut,setTriggerVisible:jt,triggerRef:Kt,onVisibleChange:$.onVisibleChange,autoFocus:Ot});var Zt=function(){var Mr=$.overlay,Lr;return typeof Mr=="function"?Lr=Mr():Lr=Mr,Lr},Qt=function(Mr){var Lr=$.onOverlayClick;jt(!1),Lr&&Lr(Mr)},rr=function(Mr){var Lr=$.onVisibleChange;jt(Mr),typeof Lr=="function"&&Lr(Mr)},nr=function(){var Mr=Zt();return react.exports.createElement(react.exports.Fragment,null,tt&&react.exports.createElement("div",{className:"".concat(at,"-arrow")}),Mr)},dr=function(){var Mr=$.overlay;return typeof Mr=="function"?nr:nr()},sr=function(){var Mr=$.minOverlayWidthMatchTrigger,Lr=$.alignPoint;return"minOverlayWidthMatchTrigger"in $?Mr:!Lr},fr=function(){var Mr=$.openClassName;return Mr!==void 0?Mr:"".concat(at,"-open")},yr=function(){var Mr=$.children,Lr=Mr.props?Mr.props:{},Br=classNames(Lr.className,fr());return Ut&&Mr?react.exports.cloneElement(Mr,{className:Br}):Mr},Pr=xt;return!Pr&&It.indexOf("contextMenu")!==-1&&(Pr=["click"]),react.exports.createElement(Trigger,_objectSpread2$1(_objectSpread2$1({builtinPlacements:vt},Lt),{},{prefixCls:at,ref:Kt,popupClassName:classNames(Ct,_defineProperty$4({},"".concat(at,"-show-arrow"),tt)),popupStyle:wt,action:It,showAction:yt,hideAction:Pr||[],popupPlacement:ft,popupAlign:st,popupTransitionName:ot,popupAnimation:it,popupVisible:Ut,stretch:sr()?"minWidth":"",popup:dr(),onPopupVisibleChange:rr,onPopupClick:Qt,getPopupContainer:gt}),yr())}var Dropdown$3=react.exports.forwardRef(Dropdown$2),id=0,ids={};function wrapperRaf($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,et=id++,tt=_e;function nt(){tt-=1,tt<=0?($(),delete ids[et]):ids[et]=wrapperRaf$1(nt)}return ids[et]=wrapperRaf$1(nt),et}wrapperRaf.cancel=function(_e){_e!==void 0&&(wrapperRaf$1.cancel(ids[_e]),delete ids[_e])};wrapperRaf.ids=ids;var styleForPseudo;function isHidden($){return!$||$.offsetParent===null||$.hidden}function isNotGrey($){var _e=($||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return _e&&_e[1]&&_e[2]&&_e[3]?!(_e[1]===_e[2]&&_e[2]===_e[3]):!0}var InternalWave=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;return _classCallCheck$2(this,et),tt=_e.apply(this,arguments),tt.containerRef=react.exports.createRef(),tt.animationStart=!1,tt.destroyed=!1,tt.onClick=function(nt,at){var ot,it,st=tt.props,ut=st.insertExtraNode,ft=st.disabled;if(!(ft||!nt||isHidden(nt)||nt.className.indexOf("-leave")>=0)){tt.extraNode=document.createElement("div");var dt=_assertThisInitialized$1(tt),vt=dt.extraNode,gt=tt.context.getPrefixCls;vt.className="".concat(gt(""),"-click-animating-node");var yt=tt.getAttributeName();if(nt.setAttribute(yt,"true"),at&&at!=="#ffffff"&&at!=="rgb(255, 255, 255)"&&isNotGrey(at)&&!/rgba\((?:\d*, ){3}0\)/.test(at)&&at!=="transparent"){vt.style.borderColor=at;var xt=((ot=nt.getRootNode)===null||ot===void 0?void 0:ot.call(nt))||nt.ownerDocument,Ct=xt instanceof Document?xt.body:(it=xt.firstChild)!==null&&it!==void 0?it:xt;styleForPseudo=updateCSS(`
      [`.concat(gt(""),"-click-animating-without-extra-node='true']::after, .").concat(gt(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(at,`;
      }`),"antd-wave",{csp:tt.csp,attachTo:Ct})}ut&&nt.appendChild(vt),["transition","animation"].forEach(function(wt){nt.addEventListener("".concat(wt,"start"),tt.onTransitionStart),nt.addEventListener("".concat(wt,"end"),tt.onTransitionEnd)})}},tt.onTransitionStart=function(nt){if(!tt.destroyed){var at=tt.containerRef.current;!nt||nt.target!==at||tt.animationStart||tt.resetEffect(at)}},tt.onTransitionEnd=function(nt){!nt||nt.animationName!=="fadeEffect"||tt.resetEffect(nt.target)},tt.bindAnimationEvent=function(nt){if(!(!nt||!nt.getAttribute||nt.getAttribute("disabled")||nt.className.indexOf("disabled")>=0)){var at=function(it){if(!(it.target.tagName==="INPUT"||isHidden(it.target))){tt.resetEffect(nt);var st=getComputedStyle(nt).getPropertyValue("border-top-color")||getComputedStyle(nt).getPropertyValue("border-color")||getComputedStyle(nt).getPropertyValue("background-color");tt.clickWaveTimeoutId=window.setTimeout(function(){return tt.onClick(nt,st)},0),wrapperRaf.cancel(tt.animationStartId),tt.animationStart=!0,tt.animationStartId=wrapperRaf(function(){tt.animationStart=!1},10)}};return nt.addEventListener("click",at,!0),{cancel:function(){nt.removeEventListener("click",at,!0)}}}},tt.renderWave=function(nt){var at=nt.csp,ot=tt.props.children;if(tt.csp=at,!react.exports.isValidElement(ot))return ot;var it=tt.containerRef;return supportRef(ot)&&(it=composeRef(ot.ref,tt.containerRef)),cloneElement(ot,{ref:it})},tt}return _createClass$2(et,[{key:"componentDidMount",value:function(){this.destroyed=!1;var nt=this.containerRef.current;!nt||nt.nodeType!==1||(this.instance=this.bindAnimationEvent(nt))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var nt=this.context.getPrefixCls,at=this.props.insertExtraNode;return at?"".concat(nt(""),"-click-animating"):"".concat(nt(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(nt){var at=this;if(!(!nt||nt===this.extraNode||!(nt instanceof Element))){var ot=this.props.insertExtraNode,it=this.getAttributeName();nt.setAttribute(it,"false"),styleForPseudo&&(styleForPseudo.innerHTML=""),ot&&this.extraNode&&nt.contains(this.extraNode)&&nt.removeChild(this.extraNode),["transition","animation"].forEach(function(st){nt.removeEventListener("".concat(st,"start"),at.onTransitionStart),nt.removeEventListener("".concat(st,"end"),at.onTransitionEnd)})}}},{key:"render",value:function(){return react.exports.createElement(ConfigConsumer,null,this.renderWave)}}]),et}(react.exports.Component);InternalWave.contextType=ConfigContext;var Wave=react.exports.forwardRef(function($,_e){return react.exports.createElement(InternalWave,_extends$2({ref:_e},$))}),Wave$1=Wave,__rest$o=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},GroupSizeContext=react.exports.createContext(void 0),ButtonGroup$1=function(_e){var et,tt=react.exports.useContext(ConfigContext),nt=tt.getPrefixCls,at=tt.direction,ot=_e.prefixCls,it=_e.size,st=_e.className,ut=__rest$o(_e,["prefixCls","size","className"]),ft=nt("btn-group",ot),dt="";switch(it){case"large":dt="lg";break;case"small":dt="sm";break}var vt=classNames(ft,(et={},_defineProperty$4(et,"".concat(ft,"-").concat(dt),dt),_defineProperty$4(et,"".concat(ft,"-rtl"),at==="rtl"),et),st);return react.exports.createElement(GroupSizeContext.Provider,{value:it},react.exports.createElement("div",_extends$2({},ut,{className:vt})))},Group$9=ButtonGroup$1,getCollapsedWidth=function(){return{width:0,opacity:0,transform:"scale(0)"}},getRealWidth=function(_e){return{width:_e.scrollWidth,opacity:1,transform:"scale(1)"}},LoadingIcon=function(_e){var et=_e.prefixCls,tt=_e.loading,nt=_e.existIcon,at=!!tt;return nt?React.createElement("span",{className:"".concat(et,"-loading-icon")},React.createElement(LoadingOutlined$1,null)):React.createElement(CSSMotion,{visible:at,motionName:"".concat(et,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:getCollapsedWidth,onAppearActive:getRealWidth,onEnterStart:getCollapsedWidth,onEnterActive:getRealWidth,onLeaveStart:getRealWidth,onLeaveActive:getCollapsedWidth},function(ot,it){var st=ot.className,ut=ot.style;return React.createElement("span",{className:"".concat(et,"-loading-icon"),style:ut,ref:it},React.createElement(LoadingOutlined$1,{className:st}))})},LoadingIcon$1=LoadingIcon,__rest$n=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},rxTwoCNChar=/^[\u4e00-\u9fa5]{2}$/,isTwoCNChar=rxTwoCNChar.test.bind(rxTwoCNChar);function isString$2($){return typeof $=="string"}function isUnBorderedButtonType($){return $==="text"||$==="link"}function isReactFragment($){return react.exports.isValidElement($)&&$.type===react.exports.Fragment}function insertSpace($,_e){if($!=null){var et=_e?" ":"";return typeof $!="string"&&typeof $!="number"&&isString$2($.type)&&isTwoCNChar($.props.children)?cloneElement($,{children:$.props.children.split("").join(et)}):typeof $=="string"?isTwoCNChar($)?react.exports.createElement("span",null,$.split("").join(et)):react.exports.createElement("span",null,$):isReactFragment($)?react.exports.createElement("span",null,$):$}}function spaceChildren($,_e){var et=!1,tt=[];return react.exports.Children.forEach($,function(nt){var at=_typeof$4(nt),ot=at==="string"||at==="number";if(et&&ot){var it=tt.length-1,st=tt[it];tt[it]="".concat(st).concat(nt)}else tt.push(nt);et=ot}),react.exports.Children.map(tt,function(nt){return insertSpace(nt,_e)})}tuple("default","primary","ghost","dashed","link","text");tuple("default","circle","round");tuple("submit","button","reset");var InternalButton=function(_e,et){var tt,nt=_e.loading,at=nt===void 0?!1:nt,ot=_e.prefixCls,it=_e.type,st=it===void 0?"default":it,ut=_e.danger,ft=_e.shape,dt=ft===void 0?"default":ft,vt=_e.size,gt=_e.disabled,yt=_e.className,xt=_e.children,Ct=_e.icon,wt=_e.ghost,Et=wt===void 0?!1:wt,$t=_e.block,It=$t===void 0?!1:$t,Ot=_e.htmlType,Lt=Ot===void 0?"button":Ot,Ft=__rest$n(_e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),zt=react.exports.useContext(SizeContext$1),Gt=react.exports.useContext(DisabledContext),jt=gt||Gt,Ut=react.exports.useContext(GroupSizeContext),Kt=react.exports.useState(!!at),Zt=_slicedToArray$3(Kt,2),Qt=Zt[0],rr=Zt[1],nr=react.exports.useState(!1),dr=_slicedToArray$3(nr,2),sr=dr[0],fr=dr[1],yr=react.exports.useContext(ConfigContext),Pr=yr.getPrefixCls,wr=yr.autoInsertSpaceInButton,Mr=yr.direction,Lr=et||react.exports.createRef(),Br=function(){return react.exports.Children.count(xt)===1&&!Ct&&!isUnBorderedButtonType(st)},qr=function(){if(!(!Lr||!Lr.current||wr===!1)){var wn=Lr.current.textContent;Br()&&isTwoCNChar(wn)?sr||fr(!0):sr&&fr(!1)}},Qr=typeof at=="boolean"?at:(at==null?void 0:at.delay)||!0;react.exports.useEffect(function(){var Xr=null;return typeof Qr=="number"?Xr=window.setTimeout(function(){Xr=null,rr(Qr)},Qr):rr(Qr),function(){Xr&&(window.clearTimeout(Xr),Xr=null)}},[Qr]),react.exports.useEffect(qr,[Lr]);var Jr=function(wn){var vn=_e.onClick;if(Qt||jt){wn.preventDefault();return}vn==null||vn(wn)},sn=Pr("btn",ot),yn=wr!==!1,pn={large:"lg",small:"sm",middle:void 0},ln=Ut||vt||zt,Sn=ln&&pn[ln]||"",cn=Qt?"loading":Ct,Pn=omit(Ft,["navigate"]),In=classNames(sn,(tt={},_defineProperty$4(tt,"".concat(sn,"-").concat(dt),dt!=="default"&&dt),_defineProperty$4(tt,"".concat(sn,"-").concat(st),st),_defineProperty$4(tt,"".concat(sn,"-").concat(Sn),Sn),_defineProperty$4(tt,"".concat(sn,"-icon-only"),!xt&&xt!==0&&!!cn),_defineProperty$4(tt,"".concat(sn,"-background-ghost"),Et&&!isUnBorderedButtonType(st)),_defineProperty$4(tt,"".concat(sn,"-loading"),Qt),_defineProperty$4(tt,"".concat(sn,"-two-chinese-chars"),sr&&yn&&!Qt),_defineProperty$4(tt,"".concat(sn,"-block"),It),_defineProperty$4(tt,"".concat(sn,"-dangerous"),!!ut),_defineProperty$4(tt,"".concat(sn,"-rtl"),Mr==="rtl"),_defineProperty$4(tt,"".concat(sn,"-disabled"),Pn.href!==void 0&&jt),tt),yt),Rn=Ct&&!Qt?Ct:react.exports.createElement(LoadingIcon$1,{existIcon:!!Ct,prefixCls:sn,loading:!!Qt}),Mn=xt||xt===0?spaceChildren(xt,Br()&&yn):null;if(Pn.href!==void 0)return react.exports.createElement("a",_extends$2({},Pn,{className:In,onClick:Jr,ref:Lr}),Rn,Mn);var Fn=react.exports.createElement("button",_extends$2({},Ft,{type:Lt,className:In,onClick:Jr,disabled:jt,ref:Lr}),Rn,Mn);return isUnBorderedButtonType(st)?Fn:react.exports.createElement(Wave$1,{disabled:!!Qt},Fn)},Button$1=react.exports.forwardRef(InternalButton);Button$1.Group=Group$9;Button$1.__ANT_BUTTON=!0;var Button$2=Button$1,__rest$m=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},ButtonGroup=Button$2.Group,DropdownButton=function(_e){var et=react.exports.useContext(ConfigContext),tt=et.getPopupContainer,nt=et.getPrefixCls,at=et.direction,ot=_e.prefixCls,it=_e.type,st=it===void 0?"default":it,ut=_e.disabled,ft=_e.loading,dt=_e.onClick,vt=_e.htmlType,gt=_e.children,yt=_e.className,xt=_e.overlay,Ct=_e.trigger,wt=_e.align,Et=_e.visible,$t=_e.onVisibleChange,It=_e.placement,Ot=_e.getPopupContainer,Lt=_e.href,Ft=_e.icon,zt=Ft===void 0?react.exports.createElement(EllipsisOutlined$1,null):Ft,Gt=_e.title,jt=_e.buttonsRender,Ut=jt===void 0?function(qr){return qr}:jt,Kt=_e.mouseEnterDelay,Zt=_e.mouseLeaveDelay,Qt=_e.overlayClassName,rr=_e.overlayStyle,nr=_e.destroyPopupOnHide,dr=__rest$m(_e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),sr=nt("dropdown-button",ot),fr={align:wt,overlay:xt,disabled:ut,trigger:ut?[]:Ct,onVisibleChange:$t,getPopupContainer:Ot||tt,mouseEnterDelay:Kt,mouseLeaveDelay:Zt,overlayClassName:Qt,overlayStyle:rr,destroyPopupOnHide:nr};"visible"in _e&&(fr.visible=Et),"placement"in _e?fr.placement=It:fr.placement=at==="rtl"?"bottomLeft":"bottomRight";var yr=react.exports.createElement(Button$2,{type:st,disabled:ut,loading:ft,onClick:dt,htmlType:vt,href:Lt,title:Gt},gt),Pr=react.exports.createElement(Button$2,{type:st,icon:zt}),wr=Ut([yr,Pr]),Mr=_slicedToArray$3(wr,2),Lr=Mr[0],Br=Mr[1];return react.exports.createElement(ButtonGroup,_extends$2({},dr,{className:classNames(sr,yt)}),Lr,react.exports.createElement(Dropdown$1,_extends$2({},fr),Br))};DropdownButton.__ANT_BUTTON=!0;var DropdownButton$1=DropdownButton;tuple("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom");var Dropdown=function(_e){var et=react.exports.useContext(ConfigContext),tt=et.getPopupContainer,nt=et.getPrefixCls,at=et.direction,ot=function(){var nr=nt(),dr=_e.placement,sr=dr===void 0?"":dr,fr=_e.transitionName;return fr!==void 0?fr:sr.indexOf("top")>=0?"".concat(nr,"-slide-down"):"".concat(nr,"-slide-up")},it=function(){var nr=_e.placement;if(!nr)return at==="rtl"?"bottomRight":"bottomLeft";if(nr.includes("Center")){var dr=nr.slice(0,nr.indexOf("Center"));return dr}return nr},st=_e.arrow,ut=_e.prefixCls,ft=_e.children,dt=_e.trigger,vt=_e.disabled,gt=_e.getPopupContainer,yt=_e.overlayClassName,xt=_e.visible,Ct=_e.onVisibleChange,wt=nt("dropdown",ut),Et=react.exports.Children.only(ft),$t=cloneElement(Et,{className:classNames("".concat(wt,"-trigger"),_defineProperty$4({},"".concat(wt,"-rtl"),at==="rtl"),Et.props.className),disabled:vt}),It=vt?[]:dt,Ot;It&&It.indexOf("contextMenu")!==-1&&(Ot=!0);var Lt=useMergedState(!1,{value:xt}),Ft=_slicedToArray$3(Lt,2),zt=Ft[0],Gt=Ft[1],jt=useEvent(function(rr){Ct==null||Ct(rr),Gt(rr)}),Ut=classNames(yt,_defineProperty$4({},"".concat(wt,"-rtl"),at==="rtl")),Kt=getPlacements({arrowPointAtCenter:_typeof$4(st)==="object"&&st.pointAtCenter,autoAdjustOverflow:!0}),Zt=react.exports.useCallback(function(){Gt(!1)},[]),Qt=function(){var nr=_e.overlay,dr;return typeof nr=="function"?dr=nr():dr=nr,dr=react.exports.Children.only(typeof dr=="string"?react.exports.createElement("span",null,dr):dr),react.exports.createElement(OverrideProvider,{prefixCls:"".concat(wt,"-menu"),expandIcon:react.exports.createElement("span",{className:"".concat(wt,"-menu-submenu-arrow")},react.exports.createElement(RightOutlined$1,{className:"".concat(wt,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:Zt,validator:function(fr){fr.mode}},dr)};return react.exports.createElement(Dropdown$3,_extends$2({alignPoint:Ot},_e,{visible:zt,builtinPlacements:Kt,arrow:!!st,overlayClassName:Ut,prefixCls:wt,getPopupContainer:gt||tt,transitionName:ot(),trigger:It,overlay:Qt,placement:it(),onVisibleChange:jt}),$t)};Dropdown.Button=DropdownButton$1;Dropdown.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var Dropdown$1=Dropdown,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1($){return typeof $=="symbol"||isObjectLike($)&&baseGetTag($)==symbolTag}var isSymbol_1=isSymbol$1,reWhitespace=/\s/;function trimmedEndIndex$1($){for(var _e=$.length;_e--&&reWhitespace.test($.charAt(_e)););return _e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1($){return $&&$.slice(0,trimmedEndIndex($)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$6=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1($){if(typeof $=="number")return $;if(isSymbol($))return NAN;if(isObject$6($)){var _e=typeof $.valueOf=="function"?$.valueOf():$;$=isObject$6(_e)?_e+"":_e}if(typeof $!="string")return $===0?$:+$;$=baseTrim($);var et=reIsBinary.test($);return et||reIsOctal.test($)?freeParseInt($.slice(2),et?2:8):reIsBadHex.test($)?NAN:+$}var toNumber_1=toNumber$1,RadioGroupContext=react.exports.createContext(null),RadioGroupContextProvider=RadioGroupContext.Provider,RadioOptionTypeContext=react.exports.createContext(null),RadioOptionTypeContextProvider=RadioOptionTypeContext.Provider,jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$4=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$3($,_e,et){var tt,nt={},at=null,ot=null;et!==void 0&&(at=""+et),_e.key!==void 0&&(at=""+_e.key),_e.ref!==void 0&&(ot=_e.ref);for(tt in _e)m$3.call(_e,tt)&&!p$3.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);if($&&$.defaultProps)for(tt in _e=$.defaultProps,_e)nt[tt]===void 0&&(nt[tt]=_e[tt]);return{$$typeof:k$3,type:$,key:at,ref:ot,props:nt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment;var Checkbox$3=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;_classCallCheck$2(this,et),nt=_e.call(this,tt),nt.handleChange=function(ot){var it=nt.props,st=it.disabled,ut=it.onChange;st||("checked"in nt.props||nt.setState({checked:ot.target.checked}),ut&&ut({target:_objectSpread2$1(_objectSpread2$1({},nt.props),{},{checked:ot.target.checked}),stopPropagation:function(){ot.stopPropagation()},preventDefault:function(){ot.preventDefault()},nativeEvent:ot.nativeEvent}))},nt.saveInput=function(ot){nt.input=ot};var at="checked"in tt?tt.checked:tt.defaultChecked;return nt.state={checked:at},nt}return _createClass$2(et,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var nt,at=this.props,ot=at.prefixCls,it=at.className,st=at.style,ut=at.name,ft=at.id,dt=at.type,vt=at.disabled,gt=at.readOnly,yt=at.tabIndex,xt=at.onClick,Ct=at.onFocus,wt=at.onBlur,Et=at.onKeyDown,$t=at.onKeyPress,It=at.onKeyUp,Ot=at.autoFocus,Lt=at.value,Ft=at.required,zt=_objectWithoutProperties$1(at,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),Gt=Object.keys(zt).reduce(function(Kt,Zt){return(Zt.substr(0,5)==="aria-"||Zt.substr(0,5)==="data-"||Zt==="role")&&(Kt[Zt]=zt[Zt]),Kt},{}),jt=this.state.checked,Ut=classNames(ot,it,(nt={},_defineProperty$4(nt,"".concat(ot,"-checked"),jt),_defineProperty$4(nt,"".concat(ot,"-disabled"),vt),nt));return jsxs("span",{className:Ut,style:st,children:[jsx("input",{name:ut,id:ft,type:dt,required:Ft,readOnly:gt,disabled:vt,tabIndex:yt,className:"".concat(ot,"-input"),checked:!!jt,onClick:xt,onFocus:Ct,onBlur:wt,onKeyUp:It,onKeyDown:Et,onKeyPress:$t,onChange:this.handleChange,autoFocus:Ot,ref:this.saveInput,value:Lt,...Gt}),jsx("span",{className:"".concat(ot,"-inner")})]})}}],[{key:"getDerivedStateFromProps",value:function(nt,at){return"checked"in nt?_objectSpread2$1(_objectSpread2$1({},at),{},{checked:nt.checked}):null}}]),et}(react.exports.Component);Checkbox$3.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var __rest$l=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},InternalRadio=function(_e,et){var tt,nt=react.exports.useContext(RadioGroupContext),at=react.exports.useContext(RadioOptionTypeContext),ot=react.exports.useContext(ConfigContext),it=ot.getPrefixCls,st=ot.direction,ut=react.exports.useRef(),ft=composeRef(et,ut),dt=react.exports.useContext(FormItemInputContext),vt=dt.isFormItemInput,gt=function(jt){var Ut,Kt;(Ut=_e.onChange)===null||Ut===void 0||Ut.call(_e,jt),(Kt=nt==null?void 0:nt.onChange)===null||Kt===void 0||Kt.call(nt,jt)},yt=_e.prefixCls,xt=_e.className,Ct=_e.children,wt=_e.style,Et=_e.disabled,$t=__rest$l(_e,["prefixCls","className","children","style","disabled"]),It=it("radio",yt),Ot=((nt==null?void 0:nt.optionType)||at)==="button"?"".concat(It,"-button"):It,Lt=_extends$2({},$t),Ft=react.exports.useContext(DisabledContext);Lt.disabled=Et||Ft,nt&&(Lt.name=nt.name,Lt.onChange=gt,Lt.checked=_e.value===nt.value,Lt.disabled=Lt.disabled||nt.disabled);var zt=classNames("".concat(Ot,"-wrapper"),(tt={},_defineProperty$4(tt,"".concat(Ot,"-wrapper-checked"),Lt.checked),_defineProperty$4(tt,"".concat(Ot,"-wrapper-disabled"),Lt.disabled),_defineProperty$4(tt,"".concat(Ot,"-wrapper-rtl"),st==="rtl"),_defineProperty$4(tt,"".concat(Ot,"-wrapper-in-form-item"),vt),tt),xt);return react.exports.createElement("label",{className:zt,style:wt,onMouseEnter:_e.onMouseEnter,onMouseLeave:_e.onMouseLeave},react.exports.createElement(Checkbox$3,_extends$2({},Lt,{type:"radio",prefixCls:Ot,ref:ft})),Ct!==void 0?react.exports.createElement("span",null,Ct):null)},Radio$2=react.exports.forwardRef(InternalRadio),InternalRadio$1=Radio$2,RadioGroup=react.exports.forwardRef(function($,_e){var et=react.exports.useContext(ConfigContext),tt=et.getPrefixCls,nt=et.direction,at=react.exports.useContext(SizeContext$1),ot=useMergedState($.defaultValue,{value:$.value}),it=_slicedToArray$3(ot,2),st=it[0],ut=it[1],ft=function(gt){var yt=st,xt=gt.target.value;"value"in $||ut(xt);var Ct=$.onChange;Ct&&xt!==yt&&Ct(gt)},dt=function(){var gt,yt=$.prefixCls,xt=$.className,Ct=xt===void 0?"":xt,wt=$.options,Et=$.buttonStyle,$t=Et===void 0?"outline":Et,It=$.disabled,Ot=$.children,Lt=$.size,Ft=$.style,zt=$.id,Gt=$.onMouseEnter,jt=$.onMouseLeave,Ut=tt("radio",yt),Kt="".concat(Ut,"-group"),Zt=Ot;wt&&wt.length>0&&(Zt=wt.map(function(nr){return typeof nr=="string"||typeof nr=="number"?react.exports.createElement(InternalRadio$1,{key:nr.toString(),prefixCls:Ut,disabled:It,value:nr,checked:st===nr},nr):react.exports.createElement(InternalRadio$1,{key:"radio-group-value-options-".concat(nr.value),prefixCls:Ut,disabled:nr.disabled||It,value:nr.value,checked:st===nr.value,style:nr.style},nr.label)}));var Qt=Lt||at,rr=classNames(Kt,"".concat(Kt,"-").concat($t),(gt={},_defineProperty$4(gt,"".concat(Kt,"-").concat(Qt),Qt),_defineProperty$4(gt,"".concat(Kt,"-rtl"),nt==="rtl"),gt),Ct);return react.exports.createElement("div",_extends$2({},getDataOrAriaProps($),{className:rr,style:Ft,onMouseEnter:Gt,onMouseLeave:jt,id:zt,ref:_e}),Zt)};return react.exports.createElement(RadioGroupContextProvider,{value:{onChange:ft,value:st,disabled:$.disabled,name:$.name,optionType:$.optionType}},dt())}),Group$8=react.exports.memo(RadioGroup),__rest$k=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},RadioButton=function(_e,et){var tt=react.exports.useContext(ConfigContext),nt=tt.getPrefixCls,at=_e.prefixCls,ot=__rest$k(_e,["prefixCls"]),it=nt("radio",at);return react.exports.createElement(RadioOptionTypeContextProvider,{value:"button"},react.exports.createElement(InternalRadio$1,_extends$2({prefixCls:it},ot,{type:"radio",ref:et})))},Button=react.exports.forwardRef(RadioButton),Radio=InternalRadio$1;Radio.Button=Button;Radio.Group=Group$8;Radio.__ANT_RADIO=!0;var Radio$1=Radio,Element$3=function(_e){var et,tt,nt=_e.prefixCls,at=_e.className,ot=_e.style,it=_e.size,st=_e.shape,ut=classNames((et={},_defineProperty$4(et,"".concat(nt,"-lg"),it==="large"),_defineProperty$4(et,"".concat(nt,"-sm"),it==="small"),et)),ft=classNames((tt={},_defineProperty$4(tt,"".concat(nt,"-circle"),st==="circle"),_defineProperty$4(tt,"".concat(nt,"-square"),st==="square"),_defineProperty$4(tt,"".concat(nt,"-round"),st==="round"),tt)),dt=typeof it=="number"?{width:it,height:it,lineHeight:"".concat(it,"px")}:{};return react.exports.createElement("span",{className:classNames(nt,ut,ft,at),style:_extends$2(_extends$2({},dt),ot)})},Element$4=Element$3,SkeletonAvatar=function(_e){var et=_e.prefixCls,tt=_e.className,nt=_e.active,at=react.exports.useContext(ConfigContext),ot=at.getPrefixCls,it=ot("skeleton",et),st=omit(_e,["prefixCls","className"]),ut=classNames(it,"".concat(it,"-element"),_defineProperty$4({},"".concat(it,"-active"),nt),tt);return react.exports.createElement("div",{className:ut},react.exports.createElement(Element$4,_extends$2({prefixCls:"".concat(it,"-avatar")},st)))};SkeletonAvatar.defaultProps={size:"default",shape:"circle"};var SkeletonAvatar$1=SkeletonAvatar,SkeletonButton=function(_e){var et,tt=_e.prefixCls,nt=_e.className,at=_e.active,ot=_e.block,it=ot===void 0?!1:ot,st=react.exports.useContext(ConfigContext),ut=st.getPrefixCls,ft=ut("skeleton",tt),dt=omit(_e,["prefixCls"]),vt=classNames(ft,"".concat(ft,"-element"),(et={},_defineProperty$4(et,"".concat(ft,"-active"),at),_defineProperty$4(et,"".concat(ft,"-block"),it),et),nt);return react.exports.createElement("div",{className:vt},react.exports.createElement(Element$4,_extends$2({prefixCls:"".concat(ft,"-button")},dt)))};SkeletonButton.defaultProps={size:"default"};var SkeletonButton$1=SkeletonButton,DotChartOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},DotChartOutlinedSvg=DotChartOutlined$2,DotChartOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:DotChartOutlinedSvg}))};DotChartOutlined.displayName="DotChartOutlined";var DotChartOutlined$1=react.exports.forwardRef(DotChartOutlined),SkeletonNode=function(_e){var et,tt=_e.prefixCls,nt=_e.className,at=_e.style,ot=_e.active,it=react.exports.useContext(ConfigContext),st=it.getPrefixCls,ut=st("skeleton",tt),ft=classNames(ut,"".concat(ut,"-element"),_defineProperty$4({},"".concat(ut,"-active"),ot),nt),dt=(et=_e.children)!==null&&et!==void 0?et:react.exports.createElement(DotChartOutlined$1,null);return react.exports.createElement("div",{className:ft},react.exports.createElement("div",{className:classNames("".concat(ut,"-image"),nt),style:at},dt))},SkeletonNode$1=SkeletonNode,path="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",SkeletonImage=function(_e){var et=_e.prefixCls,tt=_e.className,nt=_e.style,at=_e.active,ot=react.exports.useContext(ConfigContext),it=ot.getPrefixCls,st=it("skeleton",et),ut=classNames(st,"".concat(st,"-element"),_defineProperty$4({},"".concat(st,"-active"),at),tt);return react.exports.createElement("div",{className:ut},react.exports.createElement("div",{className:classNames("".concat(st,"-image"),tt),style:nt},react.exports.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(st,"-image-svg")},react.exports.createElement("path",{d:path,className:"".concat(st,"-image-path")}))))},SkeletonImage$1=SkeletonImage,SkeletonInput=function(_e){var et,tt=_e.prefixCls,nt=_e.className,at=_e.active,ot=_e.block,it=react.exports.useContext(ConfigContext),st=it.getPrefixCls,ut=st("skeleton",tt),ft=omit(_e,["prefixCls"]),dt=classNames(ut,"".concat(ut,"-element"),(et={},_defineProperty$4(et,"".concat(ut,"-active"),at),_defineProperty$4(et,"".concat(ut,"-block"),ot),et),nt);return react.exports.createElement("div",{className:dt},react.exports.createElement(Element$4,_extends$2({prefixCls:"".concat(ut,"-input")},ft)))};SkeletonInput.defaultProps={size:"default"};var SkeletonInput$1=SkeletonInput,Paragraph=function(_e){var et=function(ut){var ft=_e.width,dt=_e.rows,vt=dt===void 0?2:dt;if(Array.isArray(ft))return ft[ut];if(vt-1===ut)return ft},tt=_e.prefixCls,nt=_e.className,at=_e.style,ot=_e.rows,it=_toConsumableArray(Array(ot)).map(function(st,ut){return react.exports.createElement("li",{key:ut,style:{width:et(ut)}})});return react.exports.createElement("ul",{className:classNames(tt,nt),style:at},it)},Paragraph$1=Paragraph,Title$1=function(_e){var et=_e.prefixCls,tt=_e.className,nt=_e.width,at=_e.style;return react.exports.createElement("h3",{className:classNames(et,tt),style:_extends$2({width:nt},at)})},Title$2=Title$1;function getComponentProps($){return $&&_typeof$4($)==="object"?$:{}}function getAvatarBasicProps($,_e){return $&&!_e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function getTitleBasicProps($,_e){return!$&&_e?{width:"38%"}:$&&_e?{width:"50%"}:{}}function getParagraphBasicProps($,_e){var et={};return(!$||!_e)&&(et.width="61%"),!$&&_e?et.rows=3:et.rows=2,et}var Skeleton=function(_e){var et=_e.prefixCls,tt=_e.loading,nt=_e.className,at=_e.style,ot=_e.children,it=_e.avatar,st=_e.title,ut=_e.paragraph,ft=_e.active,dt=_e.round,vt=react.exports.useContext(ConfigContext),gt=vt.getPrefixCls,yt=vt.direction,xt=gt("skeleton",et);if(tt||!("loading"in _e)){var Ct,wt=!!it,Et=!!st,$t=!!ut,It;if(wt){var Ot=_extends$2(_extends$2({prefixCls:"".concat(xt,"-avatar")},getAvatarBasicProps(Et,$t)),getComponentProps(it));It=react.exports.createElement("div",{className:"".concat(xt,"-header")},react.exports.createElement(Element$4,_extends$2({},Ot)))}var Lt;if(Et||$t){var Ft;if(Et){var zt=_extends$2(_extends$2({prefixCls:"".concat(xt,"-title")},getTitleBasicProps(wt,$t)),getComponentProps(st));Ft=react.exports.createElement(Title$2,_extends$2({},zt))}var Gt;if($t){var jt=_extends$2(_extends$2({prefixCls:"".concat(xt,"-paragraph")},getParagraphBasicProps(wt,Et)),getComponentProps(ut));Gt=react.exports.createElement(Paragraph$1,_extends$2({},jt))}Lt=react.exports.createElement("div",{className:"".concat(xt,"-content")},Ft,Gt)}var Ut=classNames(xt,(Ct={},_defineProperty$4(Ct,"".concat(xt,"-with-avatar"),wt),_defineProperty$4(Ct,"".concat(xt,"-active"),ft),_defineProperty$4(Ct,"".concat(xt,"-rtl"),yt==="rtl"),_defineProperty$4(Ct,"".concat(xt,"-round"),dt),Ct),nt);return react.exports.createElement("div",{className:Ut,style:at},It,Lt)}return typeof ot!="undefined"?ot:null};Skeleton.defaultProps={avatar:!1,title:!0,paragraph:!0};Skeleton.Button=SkeletonButton$1;Skeleton.Avatar=SkeletonAvatar$1;Skeleton.Input=SkeletonInput$1;Skeleton.Image=SkeletonImage$1;Skeleton.Node=SkeletonNode$1;var Skeleton$1=Skeleton,PlusOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},PlusOutlinedSvg=PlusOutlined$2,PlusOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:PlusOutlinedSvg}))};PlusOutlined.displayName="PlusOutlined";var PlusOutlined$1=react.exports.forwardRef(PlusOutlined);function useRaf($){var _e=react.exports.useRef(),et=react.exports.useRef(!1);function tt(){for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];et.current||(wrapperRaf$1.cancel(_e.current),_e.current=wrapperRaf$1(function(){$.apply(void 0,at)}))}return react.exports.useEffect(function(){return et.current=!1,function(){et.current=!0,wrapperRaf$1.cancel(_e.current)}},[]),tt}function useRafState($){var _e=react.exports.useRef([]),et=react.exports.useState({}),tt=_slicedToArray$3(et,2),nt=tt[1],at=react.exports.useRef(typeof $=="function"?$():$),ot=useRaf(function(){var st=at.current;_e.current.forEach(function(ut){st=ut(st)}),_e.current=[],at.current=st,nt({})});function it(st){_e.current.push(st),ot()}return[at.current,it]}function TabNode($,_e){var et,tt=$.prefixCls,nt=$.id,at=$.active,ot=$.tab,it=ot.key,st=ot.tab,ut=ot.disabled,ft=ot.closeIcon,dt=$.closable,vt=$.renderWrapper,gt=$.removeAriaLabel,yt=$.editable,xt=$.onClick,Ct=$.onRemove,wt=$.onFocus,Et=$.style,$t="".concat(tt,"-tab");react.exports.useEffect(function(){return Ct},[]);var It=yt&&dt!==!1&&!ut;function Ot(zt){ut||xt(zt)}function Lt(zt){zt.preventDefault(),zt.stopPropagation(),yt.onEdit("remove",{key:it,event:zt})}var Ft=react.exports.createElement("div",{key:it,ref:_e,className:classNames($t,(et={},_defineProperty$4(et,"".concat($t,"-with-remove"),It),_defineProperty$4(et,"".concat($t,"-active"),at),_defineProperty$4(et,"".concat($t,"-disabled"),ut),et)),style:Et,onClick:Ot},react.exports.createElement("div",{role:"tab","aria-selected":at,id:nt&&"".concat(nt,"-tab-").concat(it),className:"".concat($t,"-btn"),"aria-controls":nt&&"".concat(nt,"-panel-").concat(it),"aria-disabled":ut,tabIndex:ut?null:0,onClick:function(Gt){Gt.stopPropagation(),Ot(Gt)},onKeyDown:function(Gt){[KeyCode.SPACE,KeyCode.ENTER].includes(Gt.which)&&(Gt.preventDefault(),Ot(Gt))},onFocus:wt},st),It&&react.exports.createElement("button",{type:"button","aria-label":gt||"remove",tabIndex:0,className:"".concat($t,"-remove"),onClick:function(Gt){Gt.stopPropagation(),Lt(Gt)}},ft||yt.removeIcon||"\xD7"));return vt?vt(Ft):Ft}var TabNode$1=react.exports.forwardRef(TabNode),DEFAULT_SIZE$1={width:0,height:0,left:0,top:0};function useOffsets($,_e,et){return react.exports.useMemo(function(){for(var tt,nt=new Map,at=_e.get((tt=$[0])===null||tt===void 0?void 0:tt.key)||DEFAULT_SIZE$1,ot=at.left+at.width,it=0;it<$.length;it+=1){var st=$[it].key,ut=_e.get(st);if(!ut){var ft;ut=_e.get((ft=$[it-1])===null||ft===void 0?void 0:ft.key)||DEFAULT_SIZE$1}var dt=nt.get(st)||_objectSpread2$1({},ut);dt.right=ot-dt.left-dt.width,nt.set(st,dt)}return nt},[$.map(function(tt){return tt.key}).join("_"),_e,et])}var DEFAULT_SIZE={width:0,height:0,left:0,top:0,right:0};function useVisibleRange($,_e,et,tt,nt){var at=nt.tabs,ot=nt.tabPosition,it=nt.rtl,st,ut,ft;["top","bottom"].includes(ot)?(st="width",ut=it?"right":"left",ft=Math.abs(_e.left)):(st="height",ut="top",ft=-_e.top);var dt=_e[st],vt=et[st],gt=tt[st],yt=dt;return vt+gt>dt&&vt<dt&&(yt=dt-gt),react.exports.useMemo(function(){if(!at.length)return[0,0];for(var xt=at.length,Ct=xt,wt=0;wt<xt;wt+=1){var Et=$.get(at[wt].key)||DEFAULT_SIZE;if(Et[ut]+Et[st]>ft+yt){Ct=wt-1;break}}for(var $t=0,It=xt-1;It>=0;It-=1){var Ot=$.get(at[It].key)||DEFAULT_SIZE;if(Ot[ut]<ft){$t=It+1;break}}return[$t,Ct]},[$,ft,yt,ot,at.map(function(xt){return xt.key}).join("_"),it])}function AddButton($,_e){var et=$.prefixCls,tt=$.editable,nt=$.locale,at=$.style;return!tt||tt.showAdd===!1?null:react.exports.createElement("button",{ref:_e,type:"button",className:"".concat(et,"-nav-add"),style:at,"aria-label":(nt==null?void 0:nt.addAriaLabel)||"Add tab",onClick:function(it){tt.onEdit("add",{event:it})}},tt.addIcon||"+")}var AddButton$1=react.exports.forwardRef(AddButton);function OperationNode($,_e){var et=$.prefixCls,tt=$.id,nt=$.tabs,at=$.locale,ot=$.mobile,it=$.moreIcon,st=it===void 0?"More":it,ut=$.moreTransitionName,ft=$.style,dt=$.className,vt=$.editable,gt=$.tabBarGutter,yt=$.rtl,xt=$.removeAriaLabel,Ct=$.onTabClick,wt=$.getPopupContainer,Et=$.popupClassName,$t=react.exports.useState(!1),It=_slicedToArray$3($t,2),Ot=It[0],Lt=It[1],Ft=react.exports.useState(null),zt=_slicedToArray$3(Ft,2),Gt=zt[0],jt=zt[1],Ut="".concat(tt,"-more-popup"),Kt="".concat(et,"-dropdown"),Zt=Gt!==null?"".concat(Ut,"-").concat(Gt):null,Qt=at==null?void 0:at.dropdownAriaLabel;function rr(wr,Mr){wr.preventDefault(),wr.stopPropagation(),vt.onEdit("remove",{key:Mr,event:wr})}var nr=react.exports.createElement(ExportMenu,{onClick:function(Mr){var Lr=Mr.key,Br=Mr.domEvent;Ct(Lr,Br),Lt(!1)},prefixCls:"".concat(Kt,"-menu"),id:Ut,tabIndex:-1,role:"listbox","aria-activedescendant":Zt,selectedKeys:[Gt],"aria-label":Qt!==void 0?Qt:"expanded dropdown"},nt.map(function(wr){var Mr=vt&&wr.closable!==!1&&!wr.disabled;return react.exports.createElement(MenuItem$1,{key:wr.key,id:"".concat(Ut,"-").concat(wr.key),role:"option","aria-controls":tt&&"".concat(tt,"-panel-").concat(wr.key),disabled:wr.disabled},react.exports.createElement("span",null,wr.tab),Mr&&react.exports.createElement("button",{type:"button","aria-label":xt||"remove",tabIndex:0,className:"".concat(Kt,"-menu-item-remove"),onClick:function(Br){Br.stopPropagation(),rr(Br,wr.key)}},wr.closeIcon||vt.removeIcon||"\xD7"))}));function dr(wr){for(var Mr=nt.filter(function(Jr){return!Jr.disabled}),Lr=Mr.findIndex(function(Jr){return Jr.key===Gt})||0,Br=Mr.length,qr=0;qr<Br;qr+=1){Lr=(Lr+wr+Br)%Br;var Qr=Mr[Lr];if(!Qr.disabled){jt(Qr.key);return}}}function sr(wr){var Mr=wr.which;if(!Ot){[KeyCode.DOWN,KeyCode.SPACE,KeyCode.ENTER].includes(Mr)&&(Lt(!0),wr.preventDefault());return}switch(Mr){case KeyCode.UP:dr(-1),wr.preventDefault();break;case KeyCode.DOWN:dr(1),wr.preventDefault();break;case KeyCode.ESC:Lt(!1);break;case KeyCode.SPACE:case KeyCode.ENTER:Gt!==null&&Ct(Gt,wr);break}}react.exports.useEffect(function(){var wr=document.getElementById(Zt);wr&&wr.scrollIntoView&&wr.scrollIntoView(!1)},[Gt]),react.exports.useEffect(function(){Ot||jt(null)},[Ot]);var fr=_defineProperty$4({},yt?"marginRight":"marginLeft",gt);nt.length||(fr.visibility="hidden",fr.order=1);var yr=classNames(_defineProperty$4({},"".concat(Kt,"-rtl"),yt)),Pr=ot?null:react.exports.createElement(Dropdown$3,{prefixCls:Kt,overlay:nr,trigger:["hover"],visible:nt.length?Ot:!1,transitionName:ut,onVisibleChange:Lt,overlayClassName:classNames(yr,Et),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:wt},react.exports.createElement("button",{type:"button",className:"".concat(et,"-nav-more"),style:fr,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":Ut,id:"".concat(tt,"-more"),"aria-expanded":Ot,onKeyDown:sr},st));return react.exports.createElement("div",{className:classNames("".concat(et,"-nav-operations"),dt),style:ft,ref:_e},Pr,react.exports.createElement(AddButton$1,{prefixCls:et,locale:at,editable:vt}))}var OperationNode$1=react.exports.memo(react.exports.forwardRef(OperationNode),function($,_e){return _e.tabMoving}),TabContext=react.exports.createContext(null),MIN_SWIPE_DISTANCE=.1,STOP_SWIPE_DISTANCE=.01,REFRESH_INTERVAL=20,SPEED_OFF_MULTIPLE=Math.pow(.995,REFRESH_INTERVAL);function useTouchMove($,_e){var et=react.exports.useState(),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1],ot=react.exports.useState(0),it=_slicedToArray$3(ot,2),st=it[0],ut=it[1],ft=react.exports.useState(0),dt=_slicedToArray$3(ft,2),vt=dt[0],gt=dt[1],yt=react.exports.useState(),xt=_slicedToArray$3(yt,2),Ct=xt[0],wt=xt[1],Et=react.exports.useRef();function $t(Gt){var jt=Gt.touches[0],Ut=jt.screenX,Kt=jt.screenY;at({x:Ut,y:Kt}),window.clearInterval(Et.current)}function It(Gt){if(!!nt){Gt.preventDefault();var jt=Gt.touches[0],Ut=jt.screenX,Kt=jt.screenY;at({x:Ut,y:Kt});var Zt=Ut-nt.x,Qt=Kt-nt.y;_e(Zt,Qt);var rr=Date.now();ut(rr),gt(rr-st),wt({x:Zt,y:Qt})}}function Ot(){if(!!nt&&(at(null),wt(null),Ct)){var Gt=Ct.x/vt,jt=Ct.y/vt,Ut=Math.abs(Gt),Kt=Math.abs(jt);if(Math.max(Ut,Kt)<MIN_SWIPE_DISTANCE)return;var Zt=Gt,Qt=jt;Et.current=window.setInterval(function(){if(Math.abs(Zt)<STOP_SWIPE_DISTANCE&&Math.abs(Qt)<STOP_SWIPE_DISTANCE){window.clearInterval(Et.current);return}Zt*=SPEED_OFF_MULTIPLE,Qt*=SPEED_OFF_MULTIPLE,_e(Zt*REFRESH_INTERVAL,Qt*REFRESH_INTERVAL)},REFRESH_INTERVAL)}}var Lt=react.exports.useRef();function Ft(Gt){var jt=Gt.deltaX,Ut=Gt.deltaY,Kt=0,Zt=Math.abs(jt),Qt=Math.abs(Ut);Zt===Qt?Kt=Lt.current==="x"?jt:Ut:Zt>Qt?(Kt=jt,Lt.current="x"):(Kt=Ut,Lt.current="y"),_e(-Kt,-Kt)&&Gt.preventDefault()}var zt=react.exports.useRef(null);zt.current={onTouchStart:$t,onTouchMove:It,onTouchEnd:Ot,onWheel:Ft},react.exports.useEffect(function(){function Gt(Zt){zt.current.onTouchStart(Zt)}function jt(Zt){zt.current.onTouchMove(Zt)}function Ut(Zt){zt.current.onTouchEnd(Zt)}function Kt(Zt){zt.current.onWheel(Zt)}return document.addEventListener("touchmove",jt,{passive:!1}),document.addEventListener("touchend",Ut,{passive:!1}),$.current.addEventListener("touchstart",Gt,{passive:!1}),$.current.addEventListener("wheel",Kt),function(){document.removeEventListener("touchmove",jt),document.removeEventListener("touchend",Ut)}},[])}function useRefs(){var $=react.exports.useRef(new Map);function _e(tt){return $.current.has(tt)||$.current.set(tt,react.exports.createRef()),$.current.get(tt)}function et(tt){$.current.delete(tt)}return[_e,et]}function useSyncState$1($,_e){var et=react.exports.useRef($),tt=react.exports.useState({}),nt=_slicedToArray$3(tt,2),at=nt[1];function ot(it){var st=typeof it=="function"?it(et.current):it;st!==et.current&&_e(st,et.current),et.current=st,at({})}return[et.current,ot]}var ExtraContent=function(_e){var et=_e.position,tt=_e.prefixCls,nt=_e.extra;if(!nt)return null;var at,ot={};return nt&&_typeof$4(nt)==="object"&&!react.exports.isValidElement(nt)?ot=nt:ot.right=nt,et==="right"&&(at=ot.right),et==="left"&&(at=ot.left),at?react.exports.createElement("div",{className:"".concat(tt,"-extra-content")},at):null};function TabNavList($,_e){var et,tt=react.exports.useContext(TabContext),nt=tt.prefixCls,at=tt.tabs,ot=$.className,it=$.style,st=$.id,ut=$.animated,ft=$.activeKey,dt=$.rtl,vt=$.extra,gt=$.editable,yt=$.locale,xt=$.tabPosition,Ct=$.tabBarGutter,wt=$.children,Et=$.onTabClick,$t=$.onTabScroll,It=react.exports.useRef(),Ot=react.exports.useRef(),Lt=react.exports.useRef(),Ft=react.exports.useRef(),zt=useRefs(),Gt=_slicedToArray$3(zt,2),jt=Gt[0],Ut=Gt[1],Kt=xt==="top"||xt==="bottom",Zt=useSyncState$1(0,function(Vn,qn){Kt&&$t&&$t({direction:Vn>qn?"left":"right"})}),Qt=_slicedToArray$3(Zt,2),rr=Qt[0],nr=Qt[1],dr=useSyncState$1(0,function(Vn,qn){!Kt&&$t&&$t({direction:Vn>qn?"top":"bottom"})}),sr=_slicedToArray$3(dr,2),fr=sr[0],yr=sr[1],Pr=react.exports.useState(0),wr=_slicedToArray$3(Pr,2),Mr=wr[0],Lr=wr[1],Br=react.exports.useState(0),qr=_slicedToArray$3(Br,2),Qr=qr[0],Jr=qr[1],sn=react.exports.useState(null),yn=_slicedToArray$3(sn,2),pn=yn[0],ln=yn[1],Sn=react.exports.useState(null),cn=_slicedToArray$3(Sn,2),Pn=cn[0],In=cn[1],Rn=react.exports.useState(0),Mn=_slicedToArray$3(Rn,2),Fn=Mn[0],Xr=Mn[1],wn=react.exports.useState(0),vn=_slicedToArray$3(wn,2),$n=vn[0],Xn=vn[1],no=useRafState(new Map),zn=_slicedToArray$3(no,2),so=zn[0],vo=zn[1],Eo=useOffsets(at,so,Mr),To="".concat(nt,"-nav-operations-hidden"),Io=0,$a=0;Kt?dt?(Io=0,$a=Math.max(0,Mr-pn)):(Io=Math.min(0,pn-Mr),$a=0):(Io=Math.min(0,Pn-Qr),$a=0);function mo(Vn){return Vn<Io?Io:Vn>$a?$a:Vn}var Po=react.exports.useRef(),Ro=react.exports.useState(),Vo=_slicedToArray$3(Ro,2),Oo=Vo[0],Wo=Vo[1];function os(){Wo(Date.now())}function hs(){window.clearTimeout(Po.current)}useTouchMove(It,function(Vn,qn){function oo(bo,Ur){bo(function(ss){var Ho=mo(ss+Ur);return Ho})}if(Kt){if(pn>=Mr)return!1;oo(nr,Vn)}else{if(Pn>=Qr)return!1;oo(yr,qn)}return hs(),os(),!0}),react.exports.useEffect(function(){return hs(),Oo&&(Po.current=window.setTimeout(function(){Wo(0)},100)),hs},[Oo]);function Uo(){var Vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ft,qn=Eo.get(Vn)||{width:0,height:0,left:0,right:0,top:0};if(Kt){var oo=rr;dt?qn.right<rr?oo=qn.right:qn.right+qn.width>rr+pn&&(oo=qn.right+qn.width-pn):qn.left<-rr?oo=-qn.left:qn.left+qn.width>-rr+pn&&(oo=-(qn.left+qn.width-pn)),yr(0),nr(mo(oo))}else{var bo=fr;qn.top<-fr?bo=-qn.top:qn.top+qn.height>-fr+Pn&&(bo=-(qn.top+qn.height-Pn)),nr(0),yr(mo(bo))}}var Zo=useVisibleRange(Eo,{width:pn,height:Pn,left:rr,top:fr},{width:Mr,height:Qr},{width:Fn,height:$n},_objectSpread2$1(_objectSpread2$1({},$),{},{tabs:at})),Lo=_slicedToArray$3(Zo,2),cs=Lo[0],ba=Lo[1],lo={};xt==="top"||xt==="bottom"?lo[dt?"marginRight":"marginLeft"]=Ct:lo.marginTop=Ct;var Bn=at.map(function(Vn,qn){var oo=Vn.key;return react.exports.createElement(TabNode$1,{id:st,prefixCls:nt,key:oo,tab:Vn,style:qn===0?void 0:lo,closable:Vn.closable,editable:gt,active:oo===ft,renderWrapper:wt,removeAriaLabel:yt==null?void 0:yt.removeAriaLabel,ref:jt(oo),onClick:function(Ur){Et(oo,Ur)},onRemove:function(){Ut(oo)},onFocus:function(){Uo(oo),os(),It.current&&(dt||(It.current.scrollLeft=0),It.current.scrollTop=0)}})}),ur=useRaf(function(){var Vn,qn,oo,bo,Ur,ss,Ho=((Vn=It.current)===null||Vn===void 0?void 0:Vn.offsetWidth)||0,Xo=((qn=It.current)===null||qn===void 0?void 0:qn.offsetHeight)||0,Ws=((oo=Ft.current)===null||oo===void 0?void 0:oo.offsetWidth)||0,Cs=((bo=Ft.current)===null||bo===void 0?void 0:bo.offsetHeight)||0;ln(Ho),In(Xo),Xr(Ws),Xn(Cs);var Al=(((Ur=Ot.current)===null||Ur===void 0?void 0:Ur.offsetWidth)||0)-Ws,Ol=(((ss=Ot.current)===null||ss===void 0?void 0:ss.offsetHeight)||0)-Cs;Lr(Al),Jr(Ol),vo(function(){var ts=new Map;return at.forEach(function(Nn){var fo=Nn.key,Hn=jt(fo).current;Hn&&ts.set(fo,{width:Hn.offsetWidth,height:Hn.offsetHeight,left:Hn.offsetLeft,top:Hn.offsetTop})}),ts})}),tr=at.slice(0,cs),or=at.slice(ba+1),gr=[].concat(_toConsumableArray(tr),_toConsumableArray(or)),Er=react.exports.useState(),zr=_slicedToArray$3(Er,2),Kr=zr[0],Hr=zr[1],Or=Eo.get(ft),Zr=react.exports.useRef();function En(){wrapperRaf$1.cancel(Zr.current)}react.exports.useEffect(function(){var Vn={};return Or&&(Kt?(dt?Vn.right=Or.right:Vn.left=Or.left,Vn.width=Or.width):(Vn.top=Or.top,Vn.height=Or.height)),En(),Zr.current=wrapperRaf$1(function(){Hr(Vn)}),En},[Or,Kt,dt]),react.exports.useEffect(function(){Uo()},[ft,Or,Eo,Kt]),react.exports.useEffect(function(){ur()},[dt,Ct,ft,at.map(function(Vn){return Vn.key}).join("_")]);var Gn=!!gr.length,Cn="".concat(nt,"-nav-wrap"),ga,uo,_i,co;return Kt?dt?(uo=rr>0,ga=rr+pn<Mr):(ga=rr<0,uo=-rr+pn<Mr):(_i=fr<0,co=-fr+Pn<Qr),react.exports.createElement("div",{ref:_e,role:"tablist",className:classNames("".concat(nt,"-nav"),ot),style:it,onKeyDown:function(){os()}},react.exports.createElement(ExtraContent,{position:"left",extra:vt,prefixCls:nt}),react.exports.createElement(ResizeObserver,{onResize:ur},react.exports.createElement("div",{className:classNames(Cn,(et={},_defineProperty$4(et,"".concat(Cn,"-ping-left"),ga),_defineProperty$4(et,"".concat(Cn,"-ping-right"),uo),_defineProperty$4(et,"".concat(Cn,"-ping-top"),_i),_defineProperty$4(et,"".concat(Cn,"-ping-bottom"),co),et)),ref:It},react.exports.createElement(ResizeObserver,{onResize:ur},react.exports.createElement("div",{ref:Ot,className:"".concat(nt,"-nav-list"),style:{transform:"translate(".concat(rr,"px, ").concat(fr,"px)"),transition:Oo?"none":void 0}},Bn,react.exports.createElement(AddButton$1,{ref:Ft,prefixCls:nt,locale:yt,editable:gt,style:_objectSpread2$1(_objectSpread2$1({},Bn.length===0?void 0:lo),{},{visibility:Gn?"hidden":null})}),react.exports.createElement("div",{className:classNames("".concat(nt,"-ink-bar"),_defineProperty$4({},"".concat(nt,"-ink-bar-animated"),ut.inkBar)),style:Kr}))))),react.exports.createElement(OperationNode$1,_extends$2({},$,{removeAriaLabel:yt==null?void 0:yt.removeAriaLabel,ref:Lt,prefixCls:nt,tabs:gr,className:!Gn&&To,tabMoving:!!Oo})),react.exports.createElement(ExtraContent,{position:"right",extra:vt,prefixCls:nt}))}var TabNavList$1=react.exports.forwardRef(TabNavList);function TabPanelList($){var _e=$.id,et=$.activeKey,tt=$.animated,nt=$.tabPosition,at=$.rtl,ot=$.destroyInactiveTabPane,it=react.exports.useContext(TabContext),st=it.prefixCls,ut=it.tabs,ft=tt.tabPane,dt=ut.findIndex(function(vt){return vt.key===et});return react.exports.createElement("div",{className:classNames("".concat(st,"-content-holder"))},react.exports.createElement("div",{className:classNames("".concat(st,"-content"),"".concat(st,"-content-").concat(nt),_defineProperty$4({},"".concat(st,"-content-animated"),ft)),style:dt&&ft?_defineProperty$4({},at?"marginRight":"marginLeft","-".concat(dt,"00%")):null},ut.map(function(vt){return react.exports.cloneElement(vt.node,{key:vt.key,prefixCls:st,tabKey:vt.key,id:_e,animated:ft,active:vt.key===et,destroyInactiveTabPane:ot})})))}function TabPane($){var _e=$.prefixCls,et=$.forceRender,tt=$.className,nt=$.style,at=$.id,ot=$.active,it=$.animated,st=$.destroyInactiveTabPane,ut=$.tabKey,ft=$.children,dt=react.exports.useState(et),vt=_slicedToArray$3(dt,2),gt=vt[0],yt=vt[1];react.exports.useEffect(function(){ot?yt(!0):st&&yt(!1)},[ot,st]);var xt={};return ot||(it?(xt.visibility="hidden",xt.height=0,xt.overflowY="hidden"):xt.display="none"),react.exports.createElement("div",{id:at&&"".concat(at,"-panel-").concat(ut),role:"tabpanel",tabIndex:ot?0:-1,"aria-labelledby":at&&"".concat(at,"-tab-").concat(ut),"aria-hidden":!ot,style:_objectSpread2$1(_objectSpread2$1({},xt),nt),className:classNames("".concat(_e,"-tabpane"),ot&&"".concat(_e,"-tabpane-active"),tt)},(ot||gt||et)&&ft)}var _excluded$b=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],uuid=0;function parseTabList($){return toArray$5($).map(function(_e){if(react.exports.isValidElement(_e)){var et=_e.key!==void 0?String(_e.key):void 0;return _objectSpread2$1(_objectSpread2$1({key:et},_e.props),{},{node:_e})}return null}).filter(function(_e){return _e})}function Tabs$1($,_e){var et,tt=$.id,nt=$.prefixCls,at=nt===void 0?"rc-tabs":nt,ot=$.className,it=$.children,st=$.direction,ut=$.activeKey,ft=$.defaultActiveKey,dt=$.editable,vt=$.animated,gt=vt===void 0?{inkBar:!0,tabPane:!1}:vt,yt=$.tabPosition,xt=yt===void 0?"top":yt,Ct=$.tabBarGutter,wt=$.tabBarStyle,Et=$.tabBarExtraContent,$t=$.locale,It=$.moreIcon,Ot=$.moreTransitionName,Lt=$.destroyInactiveTabPane,Ft=$.renderTabBar,zt=$.onChange,Gt=$.onTabClick,jt=$.onTabScroll,Ut=$.getPopupContainer,Kt=$.popupClassName,Zt=_objectWithoutProperties$1($,_excluded$b),Qt=parseTabList(it),rr=st==="rtl",nr;gt===!1?nr={inkBar:!1,tabPane:!1}:gt===!0?nr={inkBar:!0,tabPane:!0}:nr=_objectSpread2$1({inkBar:!0,tabPane:!1},_typeof$4(gt)==="object"?gt:{});var dr=react.exports.useState(!1),sr=_slicedToArray$3(dr,2),fr=sr[0],yr=sr[1];react.exports.useEffect(function(){yr(isMobile())},[]);var Pr=useMergedState(function(){var Mn;return(Mn=Qt[0])===null||Mn===void 0?void 0:Mn.key},{value:ut,defaultValue:ft}),wr=_slicedToArray$3(Pr,2),Mr=wr[0],Lr=wr[1],Br=react.exports.useState(function(){return Qt.findIndex(function(Mn){return Mn.key===Mr})}),qr=_slicedToArray$3(Br,2),Qr=qr[0],Jr=qr[1];react.exports.useEffect(function(){var Mn=Qt.findIndex(function(Xr){return Xr.key===Mr});if(Mn===-1){var Fn;Mn=Math.max(0,Math.min(Qr,Qt.length-1)),Lr((Fn=Qt[Mn])===null||Fn===void 0?void 0:Fn.key)}Jr(Mn)},[Qt.map(function(Mn){return Mn.key}).join("_"),Mr,Qr]);var sn=useMergedState(null,{value:tt}),yn=_slicedToArray$3(sn,2),pn=yn[0],ln=yn[1],Sn=xt;fr&&!["left","right"].includes(xt)&&(Sn="top"),react.exports.useEffect(function(){tt||(ln("rc-tabs-".concat(uuid)),uuid+=1)},[]);function cn(Mn,Fn){Gt==null||Gt(Mn,Fn);var Xr=Mn!==Mr;Lr(Mn),Xr&&(zt==null||zt(Mn))}var Pn={id:pn,activeKey:Mr,animated:nr,tabPosition:Sn,rtl:rr,mobile:fr},In,Rn=_objectSpread2$1(_objectSpread2$1({},Pn),{},{editable:dt,locale:$t,moreIcon:It,moreTransitionName:Ot,tabBarGutter:Ct,onTabClick:cn,onTabScroll:jt,extra:Et,style:wt,panes:it,getPopupContainer:Ut,popupClassName:Kt});return Ft?In=Ft(Rn,TabNavList$1):In=react.exports.createElement(TabNavList$1,Rn),react.exports.createElement(TabContext.Provider,{value:{tabs:Qt,prefixCls:at}},react.exports.createElement("div",_extends$2({ref:_e,id:tt,className:classNames(at,"".concat(at,"-").concat(Sn),(et={},_defineProperty$4(et,"".concat(at,"-mobile"),fr),_defineProperty$4(et,"".concat(at,"-editable"),dt),_defineProperty$4(et,"".concat(at,"-rtl"),rr),et),ot)},Zt),In,react.exports.createElement(TabPanelList,_extends$2({destroyInactiveTabPane:Lt},Pn,{animated:nr}))))}var ForwardTabs=react.exports.forwardRef(Tabs$1);ForwardTabs.TabPane=TabPane;var __rest$j=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function Tabs($){var _e=$.type,et=$.className,tt=$.size,nt=$.onEdit,at=$.hideAdd,ot=$.centered,it=$.addIcon,st=__rest$j($,["type","className","size","onEdit","hideAdd","centered","addIcon"]),ut=st.prefixCls,ft=st.moreIcon,dt=ft===void 0?react.exports.createElement(EllipsisOutlined$1,null):ft,vt=react.exports.useContext(ConfigContext),gt=vt.getPrefixCls,yt=vt.direction,xt=gt("tabs",ut),Ct;_e==="editable-card"&&(Ct={onEdit:function($t,It){var Ot=It.key,Lt=It.event;nt==null||nt($t==="add"?Lt:Ot,$t)},removeIcon:react.exports.createElement(CloseOutlined$1,null),addIcon:it||react.exports.createElement(PlusOutlined$1,null),showAdd:at!==!0});var wt=gt();return react.exports.createElement(SizeContext$1.Consumer,null,function(Et){var $t,It=tt!==void 0?tt:Et;return react.exports.createElement(ForwardTabs,_extends$2({direction:yt,moreTransitionName:"".concat(wt,"-slide-up")},st,{className:classNames(($t={},_defineProperty$4($t,"".concat(xt,"-").concat(It),It),_defineProperty$4($t,"".concat(xt,"-card"),["card","editable-card"].includes(_e)),_defineProperty$4($t,"".concat(xt,"-editable-card"),_e==="editable-card"),_defineProperty$4($t,"".concat(xt,"-centered"),ot),$t),et),editable:Ct,moreIcon:dt,prefixCls:xt}))})}Tabs.TabPane=TabPane;var __rest$i=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},Grid$2=function(_e){var et=_e.prefixCls,tt=_e.className,nt=_e.hoverable,at=nt===void 0?!0:nt,ot=__rest$i(_e,["prefixCls","className","hoverable"]);return react.exports.createElement(ConfigConsumer,null,function(it){var st=it.getPrefixCls,ut=st("card",et),ft=classNames("".concat(ut,"-grid"),tt,_defineProperty$4({},"".concat(ut,"-grid-hoverable"),at));return react.exports.createElement("div",_extends$2({},ot,{className:ft}))})},Grid$3=Grid$2,__rest$h=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function getAction($){var _e=$.map(function(et,tt){return react.exports.createElement("li",{style:{width:"".concat(100/$.length,"%")},key:"action-".concat(tt)},react.exports.createElement("span",null,et))});return _e}var Card$2=react.exports.forwardRef(function($,_e){var et,tt,nt=react.exports.useContext(ConfigContext),at=nt.getPrefixCls,ot=nt.direction,it=react.exports.useContext(SizeContext$1),st=function(pn){var ln;(ln=$.onTabChange)===null||ln===void 0||ln.call($,pn)},ut=function(){var pn;return react.exports.Children.forEach($.children,function(ln){ln&&ln.type&&ln.type===Grid$3&&(pn=!0)}),pn},ft=$.prefixCls,dt=$.className,vt=$.extra,gt=$.headStyle,yt=gt===void 0?{}:gt,xt=$.bodyStyle,Ct=xt===void 0?{}:xt,wt=$.title,Et=$.loading,$t=$.bordered,It=$t===void 0?!0:$t,Ot=$.size,Lt=$.type,Ft=$.cover,zt=$.actions,Gt=$.tabList,jt=$.children,Ut=$.activeTabKey,Kt=$.defaultActiveTabKey,Zt=$.tabBarExtraContent,Qt=$.hoverable,rr=$.tabProps,nr=rr===void 0?{}:rr,dr=__rest$h($,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),sr=at("card",ft),fr=react.exports.createElement(Skeleton$1,{loading:!0,active:!0,paragraph:{rows:4},title:!1},jt),yr=Ut!==void 0,Pr=_extends$2(_extends$2({},nr),(et={},_defineProperty$4(et,yr?"activeKey":"defaultActiveKey",yr?Ut:Kt),_defineProperty$4(et,"tabBarExtraContent",Zt),et)),wr,Mr=Gt&&Gt.length?react.exports.createElement(Tabs,_extends$2({size:"large"},Pr,{className:"".concat(sr,"-head-tabs"),onChange:st}),Gt.map(function(yn){return react.exports.createElement(Tabs.TabPane,{tab:yn.tab,disabled:yn.disabled,key:yn.key})})):null;(wt||vt||Mr)&&(wr=react.exports.createElement("div",{className:"".concat(sr,"-head"),style:yt},react.exports.createElement("div",{className:"".concat(sr,"-head-wrapper")},wt&&react.exports.createElement("div",{className:"".concat(sr,"-head-title")},wt),vt&&react.exports.createElement("div",{className:"".concat(sr,"-extra")},vt)),Mr));var Lr=Ft?react.exports.createElement("div",{className:"".concat(sr,"-cover")},Ft):null,Br=react.exports.createElement("div",{className:"".concat(sr,"-body"),style:Ct},Et?fr:jt),qr=zt&&zt.length?react.exports.createElement("ul",{className:"".concat(sr,"-actions")},getAction(zt)):null,Qr=omit(dr,["onTabChange"]),Jr=Ot||it,sn=classNames(sr,(tt={},_defineProperty$4(tt,"".concat(sr,"-loading"),Et),_defineProperty$4(tt,"".concat(sr,"-bordered"),It),_defineProperty$4(tt,"".concat(sr,"-hoverable"),Qt),_defineProperty$4(tt,"".concat(sr,"-contain-grid"),ut()),_defineProperty$4(tt,"".concat(sr,"-contain-tabs"),Gt&&Gt.length),_defineProperty$4(tt,"".concat(sr,"-").concat(Jr),Jr),_defineProperty$4(tt,"".concat(sr,"-type-").concat(Lt),!!Lt),_defineProperty$4(tt,"".concat(sr,"-rtl"),ot==="rtl"),tt),dt);return react.exports.createElement("div",_extends$2({ref:_e},Qr,{className:sn}),wr,Lr,Br,qr)}),InternalCard=Card$2,__rest$g=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},Meta=function(_e){return react.exports.createElement(ConfigConsumer,null,function(et){var tt=et.getPrefixCls,nt=_e.prefixCls,at=_e.className,ot=_e.avatar,it=_e.title,st=_e.description,ut=__rest$g(_e,["prefixCls","className","avatar","title","description"]),ft=tt("card",nt),dt=classNames("".concat(ft,"-meta"),at),vt=ot?react.exports.createElement("div",{className:"".concat(ft,"-meta-avatar")},ot):null,gt=it?react.exports.createElement("div",{className:"".concat(ft,"-meta-title")},it):null,yt=st?react.exports.createElement("div",{className:"".concat(ft,"-meta-description")},st):null,xt=gt||yt?react.exports.createElement("div",{className:"".concat(ft,"-meta-detail")},gt,yt):null;return react.exports.createElement("div",_extends$2({},ut,{className:dt}),vt,xt)})},Meta$1=Meta,Card=InternalCard;Card.Grid=Grid$3;Card.Meta=Meta$1;var Card$1=Card,root=_root,now$1=function(){return root.Date.now()},now_1=now$1,isObject$5=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce($,_e,et){var tt,nt,at,ot,it,st,ut=0,ft=!1,dt=!1,vt=!0;if(typeof $!="function")throw new TypeError(FUNC_ERROR_TEXT);_e=toNumber(_e)||0,isObject$5(et)&&(ft=!!et.leading,dt="maxWait"in et,at=dt?nativeMax(toNumber(et.maxWait)||0,_e):at,vt="trailing"in et?!!et.trailing:vt);function gt(Lt){var Ft=tt,zt=nt;return tt=nt=void 0,ut=Lt,ot=$.apply(zt,Ft),ot}function yt(Lt){return ut=Lt,it=setTimeout(wt,_e),ft?gt(Lt):ot}function xt(Lt){var Ft=Lt-st,zt=Lt-ut,Gt=_e-Ft;return dt?nativeMin(Gt,at-zt):Gt}function Ct(Lt){var Ft=Lt-st,zt=Lt-ut;return st===void 0||Ft>=_e||Ft<0||dt&&zt>=at}function wt(){var Lt=now();if(Ct(Lt))return Et(Lt);it=setTimeout(wt,xt(Lt))}function Et(Lt){return it=void 0,vt&&tt?gt(Lt):(tt=nt=void 0,ot)}function $t(){it!==void 0&&clearTimeout(it),ut=0,tt=st=nt=it=void 0}function It(){return it===void 0?ot:Et(now())}function Ot(){var Lt=now(),Ft=Ct(Lt);if(tt=arguments,nt=this,st=Lt,Ft){if(it===void 0)return yt(st);if(dt)return clearTimeout(it),it=setTimeout(wt,_e),gt(st)}return it===void 0&&(it=setTimeout(wt,_e)),ot}return Ot.cancel=$t,Ot.flush=It,Ot}var debounce_1=debounce;function removeFromCheckedKeys($,_e){var et=new Set;return $.forEach(function(tt){_e.has(tt)||et.add(tt)}),et}function isCheckDisabled($){var _e=$||{},et=_e.disabled,tt=_e.disableCheckbox,nt=_e.checkable;return!!(et||tt)||nt===!1}function fillConductCheck($,_e,et,tt){for(var nt=new Set($),at=new Set,ot=0;ot<=et;ot+=1){var it=_e.get(ot)||new Set;it.forEach(function(dt){var vt=dt.key,gt=dt.node,yt=dt.children,xt=yt===void 0?[]:yt;nt.has(vt)&&!tt(gt)&&xt.filter(function(Ct){return!tt(Ct.node)}).forEach(function(Ct){nt.add(Ct.key)})})}for(var st=new Set,ut=et;ut>=0;ut-=1){var ft=_e.get(ut)||new Set;ft.forEach(function(dt){var vt=dt.parent,gt=dt.node;if(!(tt(gt)||!dt.parent||st.has(dt.parent.key))){if(tt(dt.parent.node)){st.add(vt.key);return}var yt=!0,xt=!1;(vt.children||[]).filter(function(Ct){return!tt(Ct.node)}).forEach(function(Ct){var wt=Ct.key,Et=nt.has(wt);yt&&!Et&&(yt=!1),!xt&&(Et||at.has(wt))&&(xt=!0)}),yt&&nt.add(vt.key),xt&&at.add(vt.key),st.add(vt.key)}})}return{checkedKeys:Array.from(nt),halfCheckedKeys:Array.from(removeFromCheckedKeys(at,nt))}}function cleanConductCheck($,_e,et,tt,nt){for(var at=new Set($),ot=new Set(_e),it=0;it<=tt;it+=1){var st=et.get(it)||new Set;st.forEach(function(vt){var gt=vt.key,yt=vt.node,xt=vt.children,Ct=xt===void 0?[]:xt;!at.has(gt)&&!ot.has(gt)&&!nt(yt)&&Ct.filter(function(wt){return!nt(wt.node)}).forEach(function(wt){at.delete(wt.key)})})}ot=new Set;for(var ut=new Set,ft=tt;ft>=0;ft-=1){var dt=et.get(ft)||new Set;dt.forEach(function(vt){var gt=vt.parent,yt=vt.node;if(!(nt(yt)||!vt.parent||ut.has(vt.parent.key))){if(nt(vt.parent.node)){ut.add(gt.key);return}var xt=!0,Ct=!1;(gt.children||[]).filter(function(wt){return!nt(wt.node)}).forEach(function(wt){var Et=wt.key,$t=at.has(Et);xt&&!$t&&(xt=!1),!Ct&&($t||ot.has(Et))&&(Ct=!0)}),xt||at.delete(gt.key),Ct&&ot.add(gt.key),ut.add(gt.key)}})}return{checkedKeys:Array.from(at),halfCheckedKeys:Array.from(removeFromCheckedKeys(ot,at))}}function conductCheck($,_e,et,tt){var nt=[],at;tt?at=tt:at=isCheckDisabled;var ot=new Set($.filter(function(ft){var dt=!!et[ft];return dt||nt.push(ft),dt})),it=new Map,st=0;Object.keys(et).forEach(function(ft){var dt=et[ft],vt=dt.level,gt=it.get(vt);gt||(gt=new Set,it.set(vt,gt)),gt.add(dt),st=Math.max(st,vt)}),warningOnce(!nt.length,"Tree missing follow keys: ".concat(nt.slice(0,100).map(function(ft){return"'".concat(ft,"'")}).join(", ")));var ut;return _e===!0?ut=fillConductCheck(ot,it,st,at):ut=cleanConductCheck(ot,_e.halfCheckedKeys,it,st,at),ut}var TreeContext=react.exports.createContext(null),Indent=function(_e){for(var et=_e.prefixCls,tt=_e.level,nt=_e.isStart,at=_e.isEnd,ot="".concat(et,"-indent-unit"),it=[],st=0;st<tt;st+=1){var ut;it.push(react.exports.createElement("span",{key:st,className:classNames(ot,(ut={},_defineProperty$4(ut,"".concat(ot,"-start"),nt[st]),_defineProperty$4(ut,"".concat(ot,"-end"),at[st]),ut))}))}return react.exports.createElement("span",{"aria-hidden":"true",className:"".concat(et,"-indent")},it)},Indent$1=react.exports.memo(Indent),_excluded$a=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ICON_OPEN="open",ICON_CLOSE="close",defaultTitle="---",InternalTreeNode=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;_classCallCheck$2(this,et);for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return tt=_e.call.apply(_e,[this].concat(at)),tt.state={dragNodeHighlight:!1},tt.selectHandle=void 0,tt.onSelectorClick=function(it){var st=tt.props.context.onNodeClick;st(it,convertNodePropsToEventData(tt.props)),tt.isSelectable()?tt.onSelect(it):tt.onCheck(it)},tt.onSelectorDoubleClick=function(it){var st=tt.props.context.onNodeDoubleClick;st(it,convertNodePropsToEventData(tt.props))},tt.onSelect=function(it){if(!tt.isDisabled()){var st=tt.props.context.onNodeSelect;it.preventDefault(),st(it,convertNodePropsToEventData(tt.props))}},tt.onCheck=function(it){if(!tt.isDisabled()){var st=tt.props,ut=st.disableCheckbox,ft=st.checked,dt=tt.props.context.onNodeCheck;if(!(!tt.isCheckable()||ut)){it.preventDefault();var vt=!ft;dt(it,convertNodePropsToEventData(tt.props),vt)}}},tt.onMouseEnter=function(it){var st=tt.props.context.onNodeMouseEnter;st(it,convertNodePropsToEventData(tt.props))},tt.onMouseLeave=function(it){var st=tt.props.context.onNodeMouseLeave;st(it,convertNodePropsToEventData(tt.props))},tt.onContextMenu=function(it){var st=tt.props.context.onNodeContextMenu;st(it,convertNodePropsToEventData(tt.props))},tt.onDragStart=function(it){var st=tt.props.context.onNodeDragStart;it.stopPropagation(),tt.setState({dragNodeHighlight:!0}),st(it,_assertThisInitialized$1(tt));try{it.dataTransfer.setData("text/plain","")}catch{}},tt.onDragEnter=function(it){var st=tt.props.context.onNodeDragEnter;it.preventDefault(),it.stopPropagation(),st(it,_assertThisInitialized$1(tt))},tt.onDragOver=function(it){var st=tt.props.context.onNodeDragOver;it.preventDefault(),it.stopPropagation(),st(it,_assertThisInitialized$1(tt))},tt.onDragLeave=function(it){var st=tt.props.context.onNodeDragLeave;it.stopPropagation(),st(it,_assertThisInitialized$1(tt))},tt.onDragEnd=function(it){var st=tt.props.context.onNodeDragEnd;it.stopPropagation(),tt.setState({dragNodeHighlight:!1}),st(it,_assertThisInitialized$1(tt))},tt.onDrop=function(it){var st=tt.props.context.onNodeDrop;it.preventDefault(),it.stopPropagation(),tt.setState({dragNodeHighlight:!1}),st(it,_assertThisInitialized$1(tt))},tt.onExpand=function(it){var st=tt.props,ut=st.loading,ft=st.context.onNodeExpand;ut||ft(it,convertNodePropsToEventData(tt.props))},tt.setSelectHandle=function(it){tt.selectHandle=it},tt.getNodeState=function(){var it=tt.props.expanded;return tt.isLeaf()?null:it?ICON_OPEN:ICON_CLOSE},tt.hasChildren=function(){var it=tt.props.eventKey,st=tt.props.context.keyEntities,ut=st[it]||{},ft=ut.children;return!!(ft||[]).length},tt.isLeaf=function(){var it=tt.props,st=it.isLeaf,ut=it.loaded,ft=tt.props.context.loadData,dt=tt.hasChildren();return st===!1?!1:st||!ft&&!dt||ft&&ut&&!dt},tt.isDisabled=function(){var it=tt.props.disabled,st=tt.props.context.disabled;return!!(st||it)},tt.isCheckable=function(){var it=tt.props.checkable,st=tt.props.context.checkable;return!st||it===!1?!1:st},tt.syncLoadData=function(it){var st=it.expanded,ut=it.loading,ft=it.loaded,dt=tt.props.context,vt=dt.loadData,gt=dt.onNodeLoad;ut||vt&&st&&!tt.isLeaf()&&!tt.hasChildren()&&!ft&&gt(convertNodePropsToEventData(tt.props))},tt.isDraggable=function(){var it=tt.props,st=it.data,ut=it.context.draggable;return!!(ut&&(!ut.nodeDraggable||ut.nodeDraggable(st)))},tt.renderDragHandler=function(){var it=tt.props.context,st=it.draggable,ut=it.prefixCls;return st!=null&&st.icon?react.exports.createElement("span",{className:"".concat(ut,"-draggable-icon")},st.icon):null},tt.renderSwitcherIconDom=function(it){var st=tt.props.switcherIcon,ut=tt.props.context.switcherIcon,ft=st||ut;return typeof ft=="function"?ft(_objectSpread2$1(_objectSpread2$1({},tt.props),{},{isLeaf:it})):ft},tt.renderSwitcher=function(){var it=tt.props.expanded,st=tt.props.context.prefixCls;if(tt.isLeaf()){var ut=tt.renderSwitcherIconDom(!0);return ut!==!1?react.exports.createElement("span",{className:classNames("".concat(st,"-switcher"),"".concat(st,"-switcher-noop"))},ut):null}var ft=classNames("".concat(st,"-switcher"),"".concat(st,"-switcher_").concat(it?ICON_OPEN:ICON_CLOSE)),dt=tt.renderSwitcherIconDom(!1);return dt!==!1?react.exports.createElement("span",{onClick:tt.onExpand,className:ft},dt):null},tt.renderCheckbox=function(){var it=tt.props,st=it.checked,ut=it.halfChecked,ft=it.disableCheckbox,dt=tt.props.context.prefixCls,vt=tt.isDisabled(),gt=tt.isCheckable();if(!gt)return null;var yt=typeof gt!="boolean"?gt:null;return react.exports.createElement("span",{className:classNames("".concat(dt,"-checkbox"),st&&"".concat(dt,"-checkbox-checked"),!st&&ut&&"".concat(dt,"-checkbox-indeterminate"),(vt||ft)&&"".concat(dt,"-checkbox-disabled")),onClick:tt.onCheck},yt)},tt.renderIcon=function(){var it=tt.props.loading,st=tt.props.context.prefixCls;return react.exports.createElement("span",{className:classNames("".concat(st,"-iconEle"),"".concat(st,"-icon__").concat(tt.getNodeState()||"docu"),it&&"".concat(st,"-icon_loading"))})},tt.renderSelector=function(){var it=tt.state.dragNodeHighlight,st=tt.props,ut=st.title,ft=st.selected,dt=st.icon,vt=st.loading,gt=st.data,yt=tt.props.context,xt=yt.prefixCls,Ct=yt.showIcon,wt=yt.icon,Et=yt.loadData,$t=yt.titleRender,It=tt.isDisabled(),Ot="".concat(xt,"-node-content-wrapper"),Lt;if(Ct){var Ft=dt||wt;Lt=Ft?react.exports.createElement("span",{className:classNames("".concat(xt,"-iconEle"),"".concat(xt,"-icon__customize"))},typeof Ft=="function"?Ft(tt.props):Ft):tt.renderIcon()}else Et&&vt&&(Lt=tt.renderIcon());var zt;typeof ut=="function"?zt=ut(gt):$t?zt=$t(gt):zt=ut;var Gt=react.exports.createElement("span",{className:"".concat(xt,"-title")},zt);return react.exports.createElement("span",{ref:tt.setSelectHandle,title:typeof ut=="string"?ut:"",className:classNames("".concat(Ot),"".concat(Ot,"-").concat(tt.getNodeState()||"normal"),!It&&(ft||it)&&"".concat(xt,"-node-selected")),onMouseEnter:tt.onMouseEnter,onMouseLeave:tt.onMouseLeave,onContextMenu:tt.onContextMenu,onClick:tt.onSelectorClick,onDoubleClick:tt.onSelectorDoubleClick},Lt,Gt,tt.renderDropIndicator())},tt.renderDropIndicator=function(){var it=tt.props,st=it.disabled,ut=it.eventKey,ft=tt.props.context,dt=ft.draggable,vt=ft.dropLevelOffset,gt=ft.dropPosition,yt=ft.prefixCls,xt=ft.indent,Ct=ft.dropIndicatorRender,wt=ft.dragOverNodeKey,Et=ft.direction,$t=dt!==!1,It=!st&&$t&&wt===ut;return It?Ct({dropPosition:gt,dropLevelOffset:vt,indent:xt,prefixCls:yt,direction:Et}):null},tt}return _createClass$2(et,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var nt=this.props.selectable,at=this.props.context.selectable;return typeof nt=="boolean"?nt:at}},{key:"render",value:function(){var nt,at=this.props,ot=at.eventKey,it=at.className,st=at.style,ut=at.dragOver,ft=at.dragOverGapTop,dt=at.dragOverGapBottom,vt=at.isLeaf,gt=at.isStart,yt=at.isEnd,xt=at.expanded,Ct=at.selected,wt=at.checked,Et=at.halfChecked,$t=at.loading,It=at.domRef,Ot=at.active;at.data;var Lt=at.onMouseMove,Ft=at.selectable,zt=_objectWithoutProperties$1(at,_excluded$a),Gt=this.props.context,jt=Gt.prefixCls,Ut=Gt.filterTreeNode,Kt=Gt.keyEntities,Zt=Gt.dropContainerKey,Qt=Gt.dropTargetKey,rr=Gt.draggingNodeKey,nr=this.isDisabled(),dr=pickAttrs(zt,{aria:!0,data:!0}),sr=Kt[ot]||{},fr=sr.level,yr=yt[yt.length-1],Pr=this.isDraggable(),wr=!nr&&Pr,Mr=rr===ot,Lr=Ft!==void 0?{"aria-selected":!!Ft}:void 0;return react.exports.createElement("div",_extends$2({ref:It,className:classNames(it,"".concat(jt,"-treenode"),(nt={},_defineProperty$4(nt,"".concat(jt,"-treenode-disabled"),nr),_defineProperty$4(nt,"".concat(jt,"-treenode-switcher-").concat(xt?"open":"close"),!vt),_defineProperty$4(nt,"".concat(jt,"-treenode-checkbox-checked"),wt),_defineProperty$4(nt,"".concat(jt,"-treenode-checkbox-indeterminate"),Et),_defineProperty$4(nt,"".concat(jt,"-treenode-selected"),Ct),_defineProperty$4(nt,"".concat(jt,"-treenode-loading"),$t),_defineProperty$4(nt,"".concat(jt,"-treenode-active"),Ot),_defineProperty$4(nt,"".concat(jt,"-treenode-leaf-last"),yr),_defineProperty$4(nt,"".concat(jt,"-treenode-draggable"),wr),_defineProperty$4(nt,"dragging",Mr),_defineProperty$4(nt,"drop-target",Qt===ot),_defineProperty$4(nt,"drop-container",Zt===ot),_defineProperty$4(nt,"drag-over",!nr&&ut),_defineProperty$4(nt,"drag-over-gap-top",!nr&&ft),_defineProperty$4(nt,"drag-over-gap-bottom",!nr&&dt),_defineProperty$4(nt,"filter-node",Ut&&Ut(convertNodePropsToEventData(this.props))),nt)),style:st,draggable:wr,"aria-grabbed":Mr,onDragStart:wr?this.onDragStart:void 0,onDragEnter:Pr?this.onDragEnter:void 0,onDragOver:Pr?this.onDragOver:void 0,onDragLeave:Pr?this.onDragLeave:void 0,onDrop:Pr?this.onDrop:void 0,onDragEnd:Pr?this.onDragEnd:void 0,onMouseMove:Lt},Lr,dr),react.exports.createElement(Indent$1,{prefixCls:jt,level:fr,isStart:gt,isEnd:yt}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),et}(react.exports.Component),ContextTreeNode=function(_e){return react.exports.createElement(TreeContext.Consumer,null,function(et){return react.exports.createElement(InternalTreeNode,_extends$2({},_e,{context:et}))})};ContextTreeNode.displayName="TreeNode";ContextTreeNode.defaultProps={title:defaultTitle};ContextTreeNode.isTreeNode=1;function arrDel($,_e){if(!$)return[];var et=$.slice(),tt=et.indexOf(_e);return tt>=0&&et.splice(tt,1),et}function arrAdd($,_e){var et=($||[]).slice();return et.indexOf(_e)===-1&&et.push(_e),et}function posToArr($){return $.split("-")}function getPosition($,_e){return"".concat($,"-").concat(_e)}function isTreeNode($){return $&&$.type&&$.type.isTreeNode}function getDragChildrenKeys($,_e){var et=[],tt=_e[$];function nt(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];at.forEach(function(ot){var it=ot.key,st=ot.children;et.push(it),nt(st)})}return nt(tt.children),et}function isLastChild($){if($.parent){var _e=posToArr($.pos);return Number(_e[_e.length-1])===$.parent.children.length-1}return!1}function isFirstChild($){var _e=posToArr($.pos);return Number(_e[_e.length-1])===0}function calcDropPosition($,_e,et,tt,nt,at,ot,it,st,ut){var ft,dt=$.clientX,vt=$.clientY,gt=$.target.getBoundingClientRect(),yt=gt.top,xt=gt.height,Ct=(ut==="rtl"?-1:1)*(((nt==null?void 0:nt.x)||0)-dt),wt=(Ct-12)/tt,Et=it[et.props.eventKey];if(vt<yt+xt/2){var $t=ot.findIndex(function(rr){return rr.key===Et.key}),It=$t<=0?0:$t-1,Ot=ot[It].key;Et=it[Ot]}var Lt=Et.key,Ft=Et,zt=Et.key,Gt=0,jt=0;if(!st.includes(Lt))for(var Ut=0;Ut<wt&&isLastChild(Et);Ut+=1)Et=Et.parent,jt+=1;var Kt=_e.props.data,Zt=Et.node,Qt=!0;return isFirstChild(Et)&&Et.level===0&&vt<yt+xt/2&&at({dragNode:Kt,dropNode:Zt,dropPosition:-1})&&Et.key===et.props.eventKey?Gt=-1:(Ft.children||[]).length&&st.includes(zt)?at({dragNode:Kt,dropNode:Zt,dropPosition:0})?Gt=0:Qt=!1:jt===0?wt>-1.5?at({dragNode:Kt,dropNode:Zt,dropPosition:1})?Gt=1:Qt=!1:at({dragNode:Kt,dropNode:Zt,dropPosition:0})?Gt=0:at({dragNode:Kt,dropNode:Zt,dropPosition:1})?Gt=1:Qt=!1:at({dragNode:Kt,dropNode:Zt,dropPosition:1})?Gt=1:Qt=!1,{dropPosition:Gt,dropLevelOffset:jt,dropTargetKey:Et.key,dropTargetPos:Et.pos,dragOverNodeKey:zt,dropContainerKey:Gt===0?null:((ft=Et.parent)===null||ft===void 0?void 0:ft.key)||null,dropAllowed:Qt}}function calcSelectedKeys($,_e){if(!!$){var et=_e.multiple;return et?$.slice():$.length?[$[0]]:$}}function parseCheckedKeys($){if(!$)return null;var _e;if(Array.isArray($))_e={checkedKeys:$,halfCheckedKeys:void 0};else if(_typeof$4($)==="object")_e={checkedKeys:$.checked||void 0,halfCheckedKeys:$.halfChecked||void 0};else return warningOnce(!1,"`checkedKeys` is not an array or an object"),null;return _e}function conductExpandParent($,_e){var et=new Set;function tt(nt){if(!et.has(nt)){var at=_e[nt];if(!!at){et.add(nt);var ot=at.parent,it=at.node;it.disabled||ot&&tt(ot.key)}}}return($||[]).forEach(function(nt){tt(nt)}),_toConsumableArray(et)}var _excluded$9=["children"];function getKey$1($,_e){return $!=null?$:_e}function fillFieldNames($){var _e=$||{},et=_e.title,tt=_e._title,nt=_e.key,at=_e.children,ot=et||"title";return{title:ot,_title:tt||[ot],key:nt||"key",children:at||"children"}}function convertTreeToData($){function _e(et){var tt=toArray$5(et);return tt.map(function(nt){if(!isTreeNode(nt))return warningOnce(!nt,"Tree/TreeNode can only accept TreeNode as children."),null;var at=nt.key,ot=nt.props,it=ot.children,st=_objectWithoutProperties$1(ot,_excluded$9),ut=_objectSpread2$1({key:at},st),ft=_e(it);return ft.length&&(ut.children=ft),ut}).filter(function(nt){return nt})}return _e($)}function flattenTreeData($,_e,et){var tt=fillFieldNames(et),nt=tt._title,at=tt.key,ot=tt.children,it=new Set(_e===!0?[]:_e),st=[];function ut(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return ft.map(function(vt,gt){for(var yt=getPosition(dt?dt.pos:"0",gt),xt=getKey$1(vt[at],yt),Ct,wt=0;wt<nt.length;wt+=1){var Et=nt[wt];if(vt[Et]!==void 0){Ct=vt[Et];break}}var $t=_objectSpread2$1(_objectSpread2$1({},omit(vt,[].concat(_toConsumableArray(nt),[at,ot]))),{},{title:Ct,key:xt,parent:dt,pos:yt,children:null,data:vt,isStart:[].concat(_toConsumableArray(dt?dt.isStart:[]),[gt===0]),isEnd:[].concat(_toConsumableArray(dt?dt.isEnd:[]),[gt===ft.length-1])});return st.push($t),_e===!0||it.has(xt)?$t.children=ut(vt[ot]||[],$t):$t.children=[],$t})}return ut($),st}function traverseDataNodes($,_e,et){var tt={};_typeof$4(et)==="object"?tt=et:tt={externalGetKey:et},tt=tt||{};var nt=tt,at=nt.childrenPropName,ot=nt.externalGetKey,it=nt.fieldNames,st=fillFieldNames(it),ut=st.key,ft=st.children,dt=at||ft,vt;ot?typeof ot=="string"?vt=function(xt){return xt[ot]}:typeof ot=="function"&&(vt=function(xt){return ot(xt)}):vt=function(xt,Ct){return getKey$1(xt[ut],Ct)};function gt(yt,xt,Ct,wt){var Et=yt?yt[dt]:$,$t=yt?getPosition(Ct.pos,xt):"0",It=yt?[].concat(_toConsumableArray(wt),[yt]):[];if(yt){var Ot=vt(yt,$t),Lt={node:yt,index:xt,pos:$t,key:Ot,parentPos:Ct.node?Ct.pos:null,level:Ct.level+1,nodes:It};_e(Lt)}Et&&Et.forEach(function(Ft,zt){gt(Ft,zt,{node:yt,pos:$t,level:Ct?Ct.level+1:-1},It)})}gt(null)}function convertDataToEntities($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=_e.initWrapper,tt=_e.processEntity,nt=_e.onProcessFinished,at=_e.externalGetKey,ot=_e.childrenPropName,it=_e.fieldNames,st=arguments.length>2?arguments[2]:void 0,ut=at||st,ft={},dt={},vt={posEntities:ft,keyEntities:dt};return et&&(vt=et(vt)||vt),traverseDataNodes($,function(gt){var yt=gt.node,xt=gt.index,Ct=gt.pos,wt=gt.key,Et=gt.parentPos,$t=gt.level,It=gt.nodes,Ot={node:yt,nodes:It,index:xt,key:wt,pos:Ct,level:$t},Lt=getKey$1(wt,Ct);ft[Ct]=Ot,dt[Lt]=Ot,Ot.parent=ft[Et],Ot.parent&&(Ot.parent.children=Ot.parent.children||[],Ot.parent.children.push(Ot)),tt&&tt(Ot,vt)},{externalGetKey:ut,childrenPropName:ot,fieldNames:it}),nt&&nt(vt),vt}function getTreeNodeProps($,_e){var et=_e.expandedKeys,tt=_e.selectedKeys,nt=_e.loadedKeys,at=_e.loadingKeys,ot=_e.checkedKeys,it=_e.halfCheckedKeys,st=_e.dragOverNodeKey,ut=_e.dropPosition,ft=_e.keyEntities,dt=ft[$],vt={eventKey:$,expanded:et.indexOf($)!==-1,selected:tt.indexOf($)!==-1,loaded:nt.indexOf($)!==-1,loading:at.indexOf($)!==-1,checked:ot.indexOf($)!==-1,halfChecked:it.indexOf($)!==-1,pos:String(dt?dt.pos:""),dragOver:st===$&&ut===0,dragOverGapTop:st===$&&ut===-1,dragOverGapBottom:st===$&&ut===1};return vt}function convertNodePropsToEventData($){var _e=$.data,et=$.expanded,tt=$.selected,nt=$.checked,at=$.loaded,ot=$.loading,it=$.halfChecked,st=$.dragOver,ut=$.dragOverGapTop,ft=$.dragOverGapBottom,dt=$.pos,vt=$.active,gt=$.eventKey,yt=_objectSpread2$1(_objectSpread2$1({},_e),{},{expanded:et,selected:tt,checked:nt,loaded:at,loading:ot,halfChecked:it,dragOver:st,dragOverGapTop:ut,dragOverGapBottom:ft,pos:dt,active:vt,key:gt});return"props"in yt||Object.defineProperty(yt,"props",{get:function(){return warningOnce(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),$}}),yt}var __rest$f=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},GroupContext=react.exports.createContext(null),InternalCheckboxGroup=function(_e,et){var tt=_e.defaultValue,nt=_e.children,at=_e.options,ot=at===void 0?[]:at,it=_e.prefixCls,st=_e.className,ut=_e.style,ft=_e.onChange,dt=__rest$f(_e,["defaultValue","children","options","prefixCls","className","style","onChange"]),vt=react.exports.useContext(ConfigContext),gt=vt.getPrefixCls,yt=vt.direction,xt=react.exports.useState(dt.value||tt||[]),Ct=_slicedToArray$3(xt,2),wt=Ct[0],Et=Ct[1],$t=react.exports.useState([]),It=_slicedToArray$3($t,2),Ot=It[0],Lt=It[1];react.exports.useEffect(function(){"value"in dt&&Et(dt.value||[])},[dt.value]);var Ft=function(){return ot.map(function(dr){return typeof dr=="string"||typeof dr=="number"?{label:dr,value:dr}:dr})},zt=function(dr){Lt(function(sr){return sr.filter(function(fr){return fr!==dr})})},Gt=function(dr){Lt(function(sr){return[].concat(_toConsumableArray(sr),[dr])})},jt=function(dr){var sr=wt.indexOf(dr.value),fr=_toConsumableArray(wt);sr===-1?fr.push(dr.value):fr.splice(sr,1),"value"in dt||Et(fr);var yr=Ft();ft==null||ft(fr.filter(function(Pr){return Ot.indexOf(Pr)!==-1}).sort(function(Pr,wr){var Mr=yr.findIndex(function(Br){return Br.value===Pr}),Lr=yr.findIndex(function(Br){return Br.value===wr});return Mr-Lr}))},Ut=gt("checkbox",it),Kt="".concat(Ut,"-group"),Zt=omit(dt,["value","disabled"]);ot&&ot.length>0&&(nt=Ft().map(function(nr){return react.exports.createElement(InternalCheckbox$1,{prefixCls:Ut,key:nr.value.toString(),disabled:"disabled"in nr?nr.disabled:dt.disabled,value:nr.value,checked:wt.indexOf(nr.value)!==-1,onChange:nr.onChange,className:"".concat(Kt,"-item"),style:nr.style},nr.label)}));var Qt={toggleOption:jt,value:wt,disabled:dt.disabled,name:dt.name,registerValue:Gt,cancelValue:zt},rr=classNames(Kt,_defineProperty$4({},"".concat(Kt,"-rtl"),yt==="rtl"),st);return react.exports.createElement("div",_extends$2({className:rr,style:ut},Zt,{ref:et}),react.exports.createElement(GroupContext.Provider,{value:Qt},nt))},CheckboxGroup=react.exports.forwardRef(InternalCheckboxGroup),Group$7=react.exports.memo(CheckboxGroup),__rest$e=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},InternalCheckbox=function(_e,et){var tt,nt=_e.prefixCls,at=_e.className,ot=_e.children,it=_e.indeterminate,st=it===void 0?!1:it,ut=_e.style,ft=_e.onMouseEnter,dt=_e.onMouseLeave,vt=_e.skipGroup,gt=vt===void 0?!1:vt,yt=_e.disabled,xt=__rest$e(_e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),Ct=react.exports.useContext(ConfigContext),wt=Ct.getPrefixCls,Et=Ct.direction,$t=react.exports.useContext(GroupContext),It=react.exports.useContext(FormItemInputContext),Ot=It.isFormItemInput,Lt=react.exports.useContext(DisabledContext),Ft=yt||($t==null?void 0:$t.disabled)||Lt,zt=react.exports.useRef(xt.value);react.exports.useEffect(function(){$t==null||$t.registerValue(xt.value)},[]),react.exports.useEffect(function(){if(!gt)return xt.value!==zt.current&&($t==null||$t.cancelValue(zt.current),$t==null||$t.registerValue(xt.value),zt.current=xt.value),function(){return $t==null?void 0:$t.cancelValue(xt.value)}},[xt.value]);var Gt=wt("checkbox",nt),jt=_extends$2({},xt);$t&&!gt&&(jt.onChange=function(){xt.onChange&&xt.onChange.apply(xt,arguments),$t.toggleOption&&$t.toggleOption({label:ot,value:xt.value})},jt.name=$t.name,jt.checked=$t.value.indexOf(xt.value)!==-1);var Ut=classNames((tt={},_defineProperty$4(tt,"".concat(Gt,"-wrapper"),!0),_defineProperty$4(tt,"".concat(Gt,"-rtl"),Et==="rtl"),_defineProperty$4(tt,"".concat(Gt,"-wrapper-checked"),jt.checked),_defineProperty$4(tt,"".concat(Gt,"-wrapper-disabled"),Ft),_defineProperty$4(tt,"".concat(Gt,"-wrapper-in-form-item"),Ot),tt),at),Kt=classNames(_defineProperty$4({},"".concat(Gt,"-indeterminate"),st)),Zt=st?"mixed":void 0;return react.exports.createElement("label",{className:Ut,style:ut,onMouseEnter:ft,onMouseLeave:dt},react.exports.createElement(Checkbox$3,_extends$2({"aria-checked":Zt},jt,{prefixCls:Gt,className:Kt,disabled:Ft,ref:et})),ot!==void 0&&react.exports.createElement("span",null,ot))},Checkbox$2=react.exports.forwardRef(InternalCheckbox),InternalCheckbox$1=Checkbox$2,Checkbox=InternalCheckbox$1;Checkbox.Group=Group$7;Checkbox.__ANT_CHECKBOX=!0;var Checkbox$1=Checkbox,RowContext=react.exports.createContext({}),RowContext$1=RowContext,__rest$d=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function parseFlex($){return typeof $=="number"?"".concat($," ").concat($," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test($)?"0 0 ".concat($):$}var sizes=["xs","sm","md","lg","xl","xxl"],Col=react.exports.forwardRef(function($,_e){var et,tt=react.exports.useContext(ConfigContext),nt=tt.getPrefixCls,at=tt.direction,ot=react.exports.useContext(RowContext$1),it=ot.gutter,st=ot.wrap,ut=ot.supportFlexGap,ft=$.prefixCls,dt=$.span,vt=$.order,gt=$.offset,yt=$.push,xt=$.pull,Ct=$.className,wt=$.children,Et=$.flex,$t=$.style,It=__rest$d($,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Ot=nt("col",ft),Lt={};sizes.forEach(function(Ut){var Kt,Zt={},Qt=$[Ut];typeof Qt=="number"?Zt.span=Qt:_typeof$4(Qt)==="object"&&(Zt=Qt||{}),delete It[Ut],Lt=_extends$2(_extends$2({},Lt),(Kt={},_defineProperty$4(Kt,"".concat(Ot,"-").concat(Ut,"-").concat(Zt.span),Zt.span!==void 0),_defineProperty$4(Kt,"".concat(Ot,"-").concat(Ut,"-order-").concat(Zt.order),Zt.order||Zt.order===0),_defineProperty$4(Kt,"".concat(Ot,"-").concat(Ut,"-offset-").concat(Zt.offset),Zt.offset||Zt.offset===0),_defineProperty$4(Kt,"".concat(Ot,"-").concat(Ut,"-push-").concat(Zt.push),Zt.push||Zt.push===0),_defineProperty$4(Kt,"".concat(Ot,"-").concat(Ut,"-pull-").concat(Zt.pull),Zt.pull||Zt.pull===0),_defineProperty$4(Kt,"".concat(Ot,"-rtl"),at==="rtl"),Kt))});var Ft=classNames(Ot,(et={},_defineProperty$4(et,"".concat(Ot,"-").concat(dt),dt!==void 0),_defineProperty$4(et,"".concat(Ot,"-order-").concat(vt),vt),_defineProperty$4(et,"".concat(Ot,"-offset-").concat(gt),gt),_defineProperty$4(et,"".concat(Ot,"-push-").concat(yt),yt),_defineProperty$4(et,"".concat(Ot,"-pull-").concat(xt),xt),et),Ct,Lt),zt={};if(it&&it[0]>0){var Gt=it[0]/2;zt.paddingLeft=Gt,zt.paddingRight=Gt}if(it&&it[1]>0&&!ut){var jt=it[1]/2;zt.paddingTop=jt,zt.paddingBottom=jt}return Et&&(zt.flex=parseFlex(Et),st===!1&&!zt.minWidth&&(zt.minWidth=0)),react.exports.createElement("div",_extends$2({},It,{style:_extends$2(_extends$2({},zt),$t),className:Ft,ref:_e}),wt)}),Col$1=Col,isStyleNameSupport=function(_e){if(canUseDom()&&window.document.documentElement){var et=Array.isArray(_e)?_e:[_e],tt=window.document.documentElement;return et.some(function(nt){return nt in tt.style})}return!1},isStyleValueSupport=function(_e,et){if(!isStyleNameSupport(_e))return!1;var tt=document.createElement("div"),nt=tt.style[_e];return tt.style[_e]=et,tt.style[_e]!==nt};function isStyleSupport($,_e){return!Array.isArray($)&&_e!==void 0?isStyleValueSupport($,_e):isStyleNameSupport($)}var canUseDocElement=function(){return canUseDom()&&window.document.documentElement},flexGapSupported,detectFlexGapSupported=function(){if(!canUseDocElement())return!1;if(flexGapSupported!==void 0)return flexGapSupported;var _e=document.createElement("div");return _e.style.display="flex",_e.style.flexDirection="column",_e.style.rowGap="1px",_e.appendChild(document.createElement("div")),_e.appendChild(document.createElement("div")),document.body.appendChild(_e),flexGapSupported=_e.scrollHeight===1,document.body.removeChild(_e),flexGapSupported},useFlexGapSupport=function(){var $=react.exports.useState(!1),_e=_slicedToArray$3($,2),et=_e[0],tt=_e[1];return react.exports.useEffect(function(){tt(detectFlexGapSupported())},[]),et},__rest$c=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};tuple("top","middle","bottom","stretch");tuple("start","end","center","space-around","space-between","space-evenly");var Row=react.exports.forwardRef(function($,_e){var et,tt=$.prefixCls,nt=$.justify,at=$.align,ot=$.className,it=$.style,st=$.children,ut=$.gutter,ft=ut===void 0?0:ut,dt=$.wrap,vt=__rest$c($,["prefixCls","justify","align","className","style","children","gutter","wrap"]),gt=react.exports.useContext(ConfigContext),yt=gt.getPrefixCls,xt=gt.direction,Ct=react.exports.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),wt=_slicedToArray$3(Ct,2),Et=wt[0],$t=wt[1],It=useFlexGapSupport(),Ot=react.exports.useRef(ft);react.exports.useEffect(function(){var sr=ResponsiveObserve.subscribe(function(fr){var yr=Ot.current||0;(!Array.isArray(yr)&&_typeof$4(yr)==="object"||Array.isArray(yr)&&(_typeof$4(yr[0])==="object"||_typeof$4(yr[1])==="object"))&&$t(fr)});return function(){return ResponsiveObserve.unsubscribe(sr)}},[]);var Lt=function(){var fr=[void 0,void 0],yr=Array.isArray(ft)?ft:[ft,void 0];return yr.forEach(function(Pr,wr){if(_typeof$4(Pr)==="object")for(var Mr=0;Mr<responsiveArray.length;Mr++){var Lr=responsiveArray[Mr];if(Et[Lr]&&Pr[Lr]!==void 0){fr[wr]=Pr[Lr];break}}else fr[wr]=Pr}),fr},Ft=yt("row",tt),zt=Lt(),Gt=classNames(Ft,(et={},_defineProperty$4(et,"".concat(Ft,"-no-wrap"),dt===!1),_defineProperty$4(et,"".concat(Ft,"-").concat(nt),nt),_defineProperty$4(et,"".concat(Ft,"-").concat(at),at),_defineProperty$4(et,"".concat(Ft,"-rtl"),xt==="rtl"),et),ot),jt={},Ut=zt[0]!=null&&zt[0]>0?zt[0]/-2:void 0,Kt=zt[1]!=null&&zt[1]>0?zt[1]/-2:void 0;if(Ut&&(jt.marginLeft=Ut,jt.marginRight=Ut),It){var Zt=_slicedToArray$3(zt,2);jt.rowGap=Zt[1]}else Kt&&(jt.marginTop=Kt,jt.marginBottom=Kt);var Qt=_slicedToArray$3(zt,2),rr=Qt[0],nr=Qt[1],dr=react.exports.useMemo(function(){return{gutter:[rr,nr],wrap:dt,supportFlexGap:It}},[rr,nr,dt,It]);return react.exports.createElement(RowContext$1.Provider,{value:dr},react.exports.createElement("div",_extends$2({},vt,{className:Gt,style:_extends$2(_extends$2({},jt),it),ref:_e}),st))}),Row$1=Row,cached;function getScrollBarSize($){if(typeof document=="undefined")return 0;if($||cached===void 0){var _e=document.createElement("div");_e.style.width="100%",_e.style.height="200px";var et=document.createElement("div"),tt=et.style;tt.position="absolute",tt.top="0",tt.left="0",tt.pointerEvents="none",tt.visibility="hidden",tt.width="200px",tt.height="150px",tt.overflow="hidden",et.appendChild(_e),document.body.appendChild(et);var nt=_e.offsetWidth;et.style.overflow="scroll";var at=_e.offsetWidth;nt===at&&(at=et.clientWidth),document.body.removeChild(et),cached=nt-at}return cached}function ensureSize($){var _e=$.match(/^(.*)px$/),et=Number(_e==null?void 0:_e[1]);return Number.isNaN(et)?getScrollBarSize():et}function getTargetScrollBarSize($){if(typeof document=="undefined"||!$||!($ instanceof Element))return{width:0,height:0};var _e=getComputedStyle($,"::-webkit-scrollbar"),et=_e.width,tt=_e.height;return{width:ensureSize(et),height:ensureSize(tt)}}function useDebounce($){var _e=react.exports.useState($),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1];return react.exports.useEffect(function(){var at=setTimeout(function(){nt($)},$.length?0:10);return function(){clearTimeout(at)}},[$]),tt}var EMPTY_LIST$2=[];function toErrorEntity($,_e,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof $=="string"?$:"".concat(et,"-").concat(tt),error:$,errorStatus:_e}}function ErrorList($){var _e=$.help,et=$.helpStatus,tt=$.errors,nt=tt===void 0?EMPTY_LIST$2:tt,at=$.warnings,ot=at===void 0?EMPTY_LIST$2:at,it=$.className,st=react.exports.useContext(FormItemPrefixContext),ut=st.prefixCls,ft=react.exports.useContext(ConfigContext),dt=ft.getPrefixCls,vt="".concat(ut,"-item-explain"),gt=dt(),yt=useDebounce(nt),xt=useDebounce(ot),Ct=react.exports.useMemo(function(){return _e!=null?[toErrorEntity(_e,et,"help")]:[].concat(_toConsumableArray(yt.map(function(wt,Et){return toErrorEntity(wt,"error","error",Et)})),_toConsumableArray(xt.map(function(wt,Et){return toErrorEntity(wt,"warning","warning",Et)})))},[_e,et,yt,xt]);return react.exports.createElement(CSSMotion,_extends$2({},collapseMotion$1,{motionName:"".concat(gt,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!Ct.length,onLeaveStart:function(Et){return Et.style.height="auto",{height:Et.offsetHeight}}}),function(wt){var Et=wt.className,$t=wt.style;return react.exports.createElement("div",{className:classNames(vt,Et,it),style:$t},react.exports.createElement(CSSMotionList,_extends$2({keys:Ct},collapseMotion$1,{motionName:"".concat(gt,"-show-help-item"),component:!1}),function(It){var Ot=It.key,Lt=It.error,Ft=It.errorStatus,zt=It.className,Gt=It.style;return react.exports.createElement("div",{key:Ot,role:"alert",className:classNames(zt,_defineProperty$4({},"".concat(vt,"-").concat(Ft),Ft)),style:Gt},Lt)}))})}function t$3($){return typeof $=="object"&&$!=null&&$.nodeType===1}function e$3($,_e){return(!_e||$!=="hidden")&&$!=="visible"&&$!=="clip"}function n$3($,_e){if($.clientHeight<$.scrollHeight||$.clientWidth<$.scrollWidth){var et=getComputedStyle($,null);return e$3(et.overflowY,_e)||e$3(et.overflowX,_e)||function(tt){var nt=function(at){if(!at.ownerDocument||!at.ownerDocument.defaultView)return null;try{return at.ownerDocument.defaultView.frameElement}catch{return null}}(tt);return!!nt&&(nt.clientHeight<tt.scrollHeight||nt.clientWidth<tt.scrollWidth)}($)}return!1}function r$2($,_e,et,tt,nt,at,ot,it){return at<$&&ot>_e||at>$&&ot<_e?0:at<=$&&it<=et||ot>=_e&&it>=et?at-$-tt:ot>_e&&it<et||at<$&&it>et?ot-_e+nt:0}function compute($,_e){var et=window,tt=_e.scrollMode,nt=_e.block,at=_e.inline,ot=_e.boundary,it=_e.skipOverflowHiddenElements,st=typeof ot=="function"?ot:function(yn){return yn!==ot};if(!t$3($))throw new TypeError("Invalid target");for(var ut=document.scrollingElement||document.documentElement,ft=[],dt=$;t$3(dt)&&st(dt);){if((dt=dt.parentElement)===ut){ft.push(dt);break}dt!=null&&dt===document.body&&n$3(dt)&&!n$3(document.documentElement)||dt!=null&&n$3(dt,it)&&ft.push(dt)}for(var vt=et.visualViewport?et.visualViewport.width:innerWidth,gt=et.visualViewport?et.visualViewport.height:innerHeight,yt=window.scrollX||pageXOffset,xt=window.scrollY||pageYOffset,Ct=$.getBoundingClientRect(),wt=Ct.height,Et=Ct.width,$t=Ct.top,It=Ct.right,Ot=Ct.bottom,Lt=Ct.left,Ft=nt==="start"||nt==="nearest"?$t:nt==="end"?Ot:$t+wt/2,zt=at==="center"?Lt+Et/2:at==="end"?It:Lt,Gt=[],jt=0;jt<ft.length;jt++){var Ut=ft[jt],Kt=Ut.getBoundingClientRect(),Zt=Kt.height,Qt=Kt.width,rr=Kt.top,nr=Kt.right,dr=Kt.bottom,sr=Kt.left;if(tt==="if-needed"&&$t>=0&&Lt>=0&&Ot<=gt&&It<=vt&&$t>=rr&&Ot<=dr&&Lt>=sr&&It<=nr)return Gt;var fr=getComputedStyle(Ut),yr=parseInt(fr.borderLeftWidth,10),Pr=parseInt(fr.borderTopWidth,10),wr=parseInt(fr.borderRightWidth,10),Mr=parseInt(fr.borderBottomWidth,10),Lr=0,Br=0,qr="offsetWidth"in Ut?Ut.offsetWidth-Ut.clientWidth-yr-wr:0,Qr="offsetHeight"in Ut?Ut.offsetHeight-Ut.clientHeight-Pr-Mr:0;if(ut===Ut)Lr=nt==="start"?Ft:nt==="end"?Ft-gt:nt==="nearest"?r$2(xt,xt+gt,gt,Pr,Mr,xt+Ft,xt+Ft+wt,wt):Ft-gt/2,Br=at==="start"?zt:at==="center"?zt-vt/2:at==="end"?zt-vt:r$2(yt,yt+vt,vt,yr,wr,yt+zt,yt+zt+Et,Et),Lr=Math.max(0,Lr+xt),Br=Math.max(0,Br+yt);else{Lr=nt==="start"?Ft-rr-Pr:nt==="end"?Ft-dr+Mr+Qr:nt==="nearest"?r$2(rr,dr,Zt,Pr,Mr+Qr,Ft,Ft+wt,wt):Ft-(rr+Zt/2)+Qr/2,Br=at==="start"?zt-sr-yr:at==="center"?zt-(sr+Qt/2)+qr/2:at==="end"?zt-nr+wr+qr:r$2(sr,nr,Qt,yr,wr+qr,zt,zt+Et,Et);var Jr=Ut.scrollLeft,sn=Ut.scrollTop;Ft+=sn-(Lr=Math.max(0,Math.min(sn+Lr,Ut.scrollHeight-Zt+Qr))),zt+=Jr-(Br=Math.max(0,Math.min(Jr+Br,Ut.scrollWidth-Qt+qr)))}Gt.push({el:Ut,top:Lr,left:Br})}return Gt}function isOptionsObject($){return $===Object($)&&Object.keys($).length!==0}function defaultBehavior($,_e){_e===void 0&&(_e="auto");var et="scrollBehavior"in document.body.style;$.forEach(function(tt){var nt=tt.el,at=tt.top,ot=tt.left;nt.scroll&&et?nt.scroll({top:at,left:ot,behavior:_e}):(nt.scrollTop=at,nt.scrollLeft=ot)})}function getOptions($){return $===!1?{block:"end",inline:"nearest"}:isOptionsObject($)?$:{block:"start",inline:"nearest"}}function scrollIntoView($,_e){var et=$.isConnected||$.ownerDocument.documentElement.contains($);if(isOptionsObject(_e)&&typeof _e.behavior=="function")return _e.behavior(et?compute($,_e):[]);if(!!et){var tt=getOptions(_e);return defaultBehavior(compute($,tt),tt.behavior)}}var formItemNameBlackList=["parentNode"],defaultItemNamePrefixCls="form_item";function toArray$2($){return $===void 0||$===!1?[]:Array.isArray($)?$:[$]}function getFieldId($,_e){if(!!$.length){var et=$.join("_");if(_e)return"".concat(_e,"_").concat(et);var tt=formItemNameBlackList.indexOf(et)>=0;return tt?"".concat(defaultItemNamePrefixCls,"_").concat(et):et}}function toNamePathStr($){var _e=toArray$2($);return _e.join("_")}function useForm($){var _e=useForm$1(),et=_slicedToArray$3(_e,1),tt=et[0],nt=react.exports.useRef({}),at=react.exports.useMemo(function(){return $!=null?$:_extends$2(_extends$2({},tt),{__INTERNAL__:{itemRef:function(it){return function(st){var ut=toNamePathStr(it);st?nt.current[ut]=st:delete nt.current[ut]}}},scrollToField:function(it){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=toArray$2(it),ft=getFieldId(ut,at.__INTERNAL__.name),dt=ft?document.getElementById(ft):null;dt&&scrollIntoView(dt,_extends$2({scrollMode:"if-needed",block:"nearest"},st))},getFieldInstance:function(it){var st=toNamePathStr(it);return nt.current[st]}})},[$,tt]);return[at]}var __rest$b=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},InternalForm=function(_e,et){var tt,nt=react.exports.useContext(SizeContext$1),at=react.exports.useContext(DisabledContext),ot=react.exports.useContext(ConfigContext),it=ot.getPrefixCls,st=ot.direction,ut=ot.form,ft=_e.prefixCls,dt=_e.className,vt=dt===void 0?"":dt,gt=_e.size,yt=gt===void 0?nt:gt,xt=_e.disabled,Ct=xt===void 0?at:xt,wt=_e.form,Et=_e.colon,$t=_e.labelAlign,It=_e.labelWrap,Ot=_e.labelCol,Lt=_e.wrapperCol,Ft=_e.hideRequiredMark,zt=_e.layout,Gt=zt===void 0?"horizontal":zt,jt=_e.scrollToFirstError,Ut=_e.requiredMark,Kt=_e.onFinishFailed,Zt=_e.name,Qt=__rest$b(_e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),rr=react.exports.useMemo(function(){return Ut!==void 0?Ut:ut&&ut.requiredMark!==void 0?ut.requiredMark:!Ft},[Ft,Ut,ut]),nr=Et!=null?Et:ut==null?void 0:ut.colon,dr=it("form",ft),sr=classNames(dr,(tt={},_defineProperty$4(tt,"".concat(dr,"-").concat(Gt),!0),_defineProperty$4(tt,"".concat(dr,"-hide-required-mark"),rr===!1),_defineProperty$4(tt,"".concat(dr,"-rtl"),st==="rtl"),_defineProperty$4(tt,"".concat(dr,"-").concat(yt),yt),tt),vt),fr=useForm(wt),yr=_slicedToArray$3(fr,1),Pr=yr[0],wr=Pr.__INTERNAL__;wr.name=Zt;var Mr=react.exports.useMemo(function(){return{name:Zt,labelAlign:$t,labelCol:Ot,labelWrap:It,wrapperCol:Lt,vertical:Gt==="vertical",colon:nr,requiredMark:rr,itemRef:wr.itemRef,form:Pr}},[Zt,$t,Ot,Lt,Gt,nr,rr,Pr]);react.exports.useImperativeHandle(et,function(){return Pr});var Lr=function(qr){Kt==null||Kt(qr);var Qr={block:"nearest"};jt&&qr.errorFields.length&&(_typeof$4(jt)==="object"&&(Qr=jt),Pr.scrollToField(qr.errorFields[0].name,Qr))};return react.exports.createElement(DisabledContextProvider,{disabled:Ct},react.exports.createElement(SizeContextProvider,{size:yt},react.exports.createElement(FormContext.Provider,{value:Mr},react.exports.createElement(RefForm,_extends$2({id:Zt},Qt,{name:Zt,onFinishFailed:Lr,form:Pr,className:sr})))))},Form$2=react.exports.forwardRef(InternalForm),InternalForm$1=Form$2,FormItemInput=function(_e){var et=_e.prefixCls,tt=_e.status,nt=_e.wrapperCol,at=_e.children,ot=_e.errors,it=_e.warnings,st=_e._internalItemRender,ut=_e.extra,ft=_e.help,dt="".concat(et,"-item"),vt=react.exports.useContext(FormContext),gt=nt||vt.wrapperCol||{},yt=classNames("".concat(dt,"-control"),gt.className),xt=react.exports.useMemo(function(){return _extends$2({},vt)},[vt]);delete xt.labelCol,delete xt.wrapperCol;var Ct=react.exports.createElement("div",{className:"".concat(dt,"-control-input")},react.exports.createElement("div",{className:"".concat(dt,"-control-input-content")},at)),wt=react.exports.useMemo(function(){return{prefixCls:et,status:tt}},[et,tt]),Et=react.exports.createElement(FormItemPrefixContext.Provider,{value:wt},react.exports.createElement(ErrorList,{errors:ot,warnings:it,help:ft,helpStatus:tt,className:"".concat(dt,"-explain-connected")})),$t=ut?react.exports.createElement("div",{className:"".concat(dt,"-extra")},ut):null,It=st&&st.mark==="pro_table_render"&&st.render?st.render(_e,{input:Ct,errorList:Et,extra:$t}):react.exports.createElement(react.exports.Fragment,null,Ct,Et,$t);return react.exports.createElement(FormContext.Provider,{value:xt},react.exports.createElement(Col$1,_extends$2({},gt,{className:yt}),It))},FormItemInput$1=FormItemInput,QuestionCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},QuestionCircleOutlinedSvg=QuestionCircleOutlined$2,QuestionCircleOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:QuestionCircleOutlinedSvg}))};QuestionCircleOutlined.displayName="QuestionCircleOutlined";var QuestionCircleOutlined$1=react.exports.forwardRef(QuestionCircleOutlined),__rest$a=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function toTooltipProps($){return $?_typeof$4($)==="object"&&!react.exports.isValidElement($)?$:{title:$}:null}var FormItemLabel=function(_e){var et=_e.prefixCls,tt=_e.label,nt=_e.htmlFor,at=_e.labelCol,ot=_e.labelAlign,it=_e.colon,st=_e.required,ut=_e.requiredMark,ft=_e.tooltip,dt=useLocaleReceiver("Form"),vt=_slicedToArray$3(dt,1),gt=vt[0];return tt?react.exports.createElement(FormContext.Consumer,{key:"label"},function(yt){var xt,Ct=yt.vertical,wt=yt.labelAlign,Et=yt.labelCol,$t=yt.labelWrap,It=yt.colon,Ot,Lt=at||Et||{},Ft=ot||wt,zt="".concat(et,"-item-label"),Gt=classNames(zt,Ft==="left"&&"".concat(zt,"-left"),Lt.className,_defineProperty$4({},"".concat(zt,"-wrap"),!!$t)),jt=tt,Ut=it===!0||It!==!1&&it!==!1,Kt=Ut&&!Ct;Kt&&typeof tt=="string"&&tt.trim()!==""&&(jt=tt.replace(/[:|]\s*$/,""));var Zt=toTooltipProps(ft);if(Zt){var Qt=Zt.icon,rr=Qt===void 0?react.exports.createElement(QuestionCircleOutlined$1,null):Qt,nr=__rest$a(Zt,["icon"]),dr=react.exports.createElement(Tooltip$1,_extends$2({},nr),react.exports.cloneElement(rr,{className:"".concat(et,"-item-tooltip"),title:""}));jt=react.exports.createElement(react.exports.Fragment,null,jt,dr)}ut==="optional"&&!st&&(jt=react.exports.createElement(react.exports.Fragment,null,jt,react.exports.createElement("span",{className:"".concat(et,"-item-optional"),title:""},(gt==null?void 0:gt.optional)||((Ot=defaultLocale.Form)===null||Ot===void 0?void 0:Ot.optional))));var sr=classNames((xt={},_defineProperty$4(xt,"".concat(et,"-item-required"),st),_defineProperty$4(xt,"".concat(et,"-item-required-mark-optional"),ut==="optional"),_defineProperty$4(xt,"".concat(et,"-item-no-colon"),!Ut),xt));return react.exports.createElement(Col$1,_extends$2({},Lt,{className:Gt}),react.exports.createElement("label",{htmlFor:nt,className:sr,title:typeof tt=="string"?tt:""},jt))}):null},FormItemLabel$1=FormItemLabel;function useFrameState($){var _e=react.exports.useState($),et=_slicedToArray$3(_e,2),tt=et[0],nt=et[1],at=react.exports.useRef(null),ot=react.exports.useRef([]),it=react.exports.useRef(!1);react.exports.useEffect(function(){return it.current=!1,function(){it.current=!0,wrapperRaf$1.cancel(at.current),at.current=null}},[]);function st(ut){it.current||(at.current===null&&(ot.current=[],at.current=wrapperRaf$1(function(){at.current=null,nt(function(ft){var dt=ft;return ot.current.forEach(function(vt){dt=vt(dt)}),dt})})),ot.current.push(ut))}return[tt,st]}function useItemRef(){var $=react.exports.useContext(FormContext),_e=$.itemRef,et=react.exports.useRef({});function tt(nt,at){var ot=at&&_typeof$4(at)==="object"&&at.ref,it=nt.join("_");return(et.current.name!==it||et.current.originRef!==ot)&&(et.current.name=it,et.current.originRef=ot,et.current.ref=composeRef(_e(nt),ot)),et.current.ref}return tt}var __rest$9=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},NAME_SPLIT="__SPLIT__";tuple("success","warning","error","validating","");var MemoInput=react.exports.memo(function($){var _e=$.children;return _e},function($,_e){return $.value===_e.value&&$.update===_e.update});function hasValidName($){return $!=null}function genEmptyMeta(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}}var iconMap={success:CheckCircleFilled$1,warning:ExclamationCircleFilled$1,error:CloseCircleFilled$1,validating:LoadingOutlined$1};function FormItem($){var _e=$.name,et=$.noStyle,tt=$.dependencies,nt=$.prefixCls,at=$.style,ot=$.className,it=$.shouldUpdate,st=$.hasFeedback,ut=$.help,ft=$.rules,dt=$.validateStatus,vt=$.children,gt=$.required,yt=$.label,xt=$.messageVariables,Ct=$.trigger,wt=Ct===void 0?"onChange":Ct,Et=$.validateTrigger,$t=$.hidden,It=__rest$9($,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),Ot=react.exports.useContext(ConfigContext),Lt=Ot.getPrefixCls,Ft=react.exports.useContext(FormContext),zt=Ft.name,Gt=Ft.requiredMark,jt=typeof vt=="function",Ut=react.exports.useContext(NoStyleItemContext),Kt=react.exports.useContext(Context),Zt=Kt.validateTrigger,Qt=Et!==void 0?Et:Zt,rr=hasValidName(_e),nr=Lt("form",nt),dr=react.exports.useContext(ListContext),sr=react.exports.useRef(),fr=useFrameState({}),yr=_slicedToArray$3(fr,2),Pr=yr[0],wr=yr[1],Mr=useSafeState(function(){return genEmptyMeta()}),Lr=_slicedToArray$3(Mr,2),Br=Lr[0],qr=Lr[1],Qr=function(wn){var vn=dr==null?void 0:dr.getKey(wn.name);if(qr(wn.destroy?genEmptyMeta():wn,!0),et&&Ut){var $n=wn.name;if(wn.destroy)$n=sr.current||$n;else if(vn!==void 0){var Xn=_slicedToArray$3(vn,2),no=Xn[0],zn=Xn[1];$n=[no].concat(_toConsumableArray(zn)),sr.current=$n}Ut(wn,$n)}},Jr=function(wn,vn){wr(function($n){var Xn=_extends$2({},$n),no=[].concat(_toConsumableArray(wn.name.slice(0,-1)),_toConsumableArray(vn)),zn=no.join(NAME_SPLIT);return wn.destroy?delete Xn[zn]:Xn[zn]=wn,Xn})},sn=react.exports.useMemo(function(){var Xr=_toConsumableArray(Br.errors),wn=_toConsumableArray(Br.warnings);return Object.values(Pr).forEach(function(vn){Xr.push.apply(Xr,_toConsumableArray(vn.errors||[])),wn.push.apply(wn,_toConsumableArray(vn.warnings||[]))}),[Xr,wn]},[Pr,Br.errors,Br.warnings]),yn=_slicedToArray$3(sn,2),pn=yn[0],ln=yn[1],Sn=useDebounce(pn),cn=useDebounce(ln),Pn=useItemRef(),In="";dt!==void 0?In=dt:Br!=null&&Br.validating?In="validating":Sn.length?In="error":cn.length?In="warning":Br!=null&&Br.touched&&(In="success");var Rn=react.exports.useMemo(function(){var Xr;if(st){var wn=In&&iconMap[In];Xr=wn?react.exports.createElement("span",{className:classNames("".concat(nr,"-item-feedback-icon"),"".concat(nr,"-item-feedback-icon-").concat(In))},react.exports.createElement(wn,null)):null}return{status:In,hasFeedback:st,feedbackIcon:Xr,isFormItemInput:!0}},[In,st]);function Mn(Xr,wn,vn){var $n;if(et&&!$t)return Xr;var Xn=($n={},_defineProperty$4($n,"".concat(nr,"-item"),!0),_defineProperty$4($n,"".concat(nr,"-item-with-help"),ut!=null||Sn.length||cn.length),_defineProperty$4($n,"".concat(ot),!!ot),_defineProperty$4($n,"".concat(nr,"-item-has-feedback"),In&&st),_defineProperty$4($n,"".concat(nr,"-item-has-success"),In==="success"),_defineProperty$4($n,"".concat(nr,"-item-has-warning"),In==="warning"),_defineProperty$4($n,"".concat(nr,"-item-has-error"),In==="error"),_defineProperty$4($n,"".concat(nr,"-item-is-validating"),In==="validating"),_defineProperty$4($n,"".concat(nr,"-item-hidden"),$t),$n);return react.exports.createElement(Row$1,_extends$2({className:classNames(Xn),style:at,key:"row"},omit(It,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),react.exports.createElement(FormItemLabel$1,_extends$2({htmlFor:wn,required:vn,requiredMark:Gt},$,{prefixCls:nr})),react.exports.createElement(FormItemInput$1,_extends$2({},$,Br,{errors:Sn,warnings:cn,prefixCls:nr,status:In,help:ut}),react.exports.createElement(NoStyleItemContext.Provider,{value:Jr},react.exports.createElement(FormItemInputContext.Provider,{value:Rn},Xr))))}if(!rr&&!jt&&!tt)return Mn(vt);var Fn={};return typeof yt=="string"?Fn.label=yt:_e&&(Fn.label=String(_e)),xt&&(Fn=_extends$2(_extends$2({},Fn),xt)),react.exports.createElement(WrapperField,_extends$2({},$,{messageVariables:Fn,trigger:wt,validateTrigger:Qt,onMetaChange:Qr}),function(Xr,wn,vn){var $n=toArray$2(_e).length&&wn?wn.name:[],Xn=getFieldId($n,zt),no=gt!==void 0?gt:!!(ft&&ft.some(function(To){if(To&&_typeof$4(To)==="object"&&To.required&&!To.warningOnly)return!0;if(typeof To=="function"){var Io=To(vn);return Io&&Io.required&&!Io.warningOnly}return!1})),zn=_extends$2({},Xr),so=null;if(Array.isArray(vt)&&rr)so=vt;else if(!(jt&&(!(it||tt)||rr))){if(!(tt&&!jt&&!rr))if(isValidElement(vt)){var vo=_extends$2(_extends$2({},vt.props),zn);vo.id||(vo.id=Xn),supportRef(vt)&&(vo.ref=Pn($n,vt));var Eo=new Set([].concat(_toConsumableArray(toArray$2(wt)),_toConsumableArray(toArray$2(Qt))));Eo.forEach(function(To){vo[To]=function(){for(var Io,$a,mo,Po,Ro,Vo=arguments.length,Oo=new Array(Vo),Wo=0;Wo<Vo;Wo++)Oo[Wo]=arguments[Wo];(mo=zn[To])===null||mo===void 0||(Io=mo).call.apply(Io,[zn].concat(Oo)),(Ro=(Po=vt.props)[To])===null||Ro===void 0||($a=Ro).call.apply($a,[Po].concat(Oo))}}),so=react.exports.createElement(MemoInput,{value:zn[$.valuePropName||"value"],update:vt},cloneElement(vt,vo))}else jt&&(it||tt)&&!rr?so=vt(vn):so=vt}return Mn(so,Xn,no)})}var __rest$8=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},FormList=function(_e){var et=_e.prefixCls,tt=_e.children,nt=__rest$8(_e,["prefixCls","children"]),at=react.exports.useContext(ConfigContext),ot=at.getPrefixCls,it=ot("form",et),st=react.exports.useMemo(function(){return{prefixCls:it,status:"error"}},[it]);return react.exports.createElement(List$2,_extends$2({},nt),function(ut,ft,dt){return react.exports.createElement(FormItemPrefixContext.Provider,{value:st},tt(ut.map(function(vt){return _extends$2(_extends$2({},vt),{fieldKey:vt.key})}),ft,{errors:dt.errors,warnings:dt.warnings}))})},List=FormList;function useFormInstance(){var $=react.exports.useContext(FormContext),_e=$.form;return _e}var Form=InternalForm$1;Form.Item=FormItem;Form.List=List;Form.ErrorList=ErrorList;Form.useForm=useForm;Form.useFormInstance=useFormInstance;Form.useWatch=useWatch;Form.Provider=FormProvider;Form.create=function(){};var Form$1=Form,EyeOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},EyeOutlinedSvg=EyeOutlined$2,EyeOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:EyeOutlinedSvg}))};EyeOutlined.displayName="EyeOutlined";var EyeOutlined$1=react.exports.forwardRef(EyeOutlined);function getOffset($){var _e=$.getBoundingClientRect(),et=document.documentElement;return{left:_e.left+(window.pageXOffset||et.scrollLeft)-(et.clientLeft||document.body.clientLeft||0),top:_e.top+(window.pageYOffset||et.scrollTop)-(et.clientTop||document.body.clientTop||0)}}var Group$5=function(_e){var et,tt=react.exports.useContext(ConfigContext),nt=tt.getPrefixCls,at=tt.direction,ot=_e.prefixCls,it=_e.className,st=it===void 0?"":it,ut=nt("input-group",ot),ft=classNames(ut,(et={},_defineProperty$4(et,"".concat(ut,"-lg"),_e.size==="large"),_defineProperty$4(et,"".concat(ut,"-sm"),_e.size==="small"),_defineProperty$4(et,"".concat(ut,"-compact"),_e.compact),_defineProperty$4(et,"".concat(ut,"-rtl"),at==="rtl"),et),st),dt=react.exports.useContext(FormItemInputContext),vt=react.exports.useMemo(function(){return _extends$2(_extends$2({},dt),{isFormItemInput:!1})},[dt]);return react.exports.createElement("span",{className:ft,style:_e.style,onMouseEnter:_e.onMouseEnter,onMouseLeave:_e.onMouseLeave,onFocus:_e.onFocus,onBlur:_e.onBlur},react.exports.createElement(FormItemInputContext.Provider,{value:vt},_e.children))},Group$6=Group$5;function hasAddon$1($){return!!($.addonBefore||$.addonAfter)}function hasPrefixSuffix$1($){return!!($.prefix||$.suffix||$.allowClear)}function resolveOnChange$1($,_e,et,tt){if(!!et){var nt=_e;if(_e.type==="click"){var at=$.cloneNode(!0);nt=Object.create(_e,{target:{value:at},currentTarget:{value:at}}),at.value="",et(nt);return}if(tt!==void 0){nt=Object.create(_e,{target:{value:$},currentTarget:{value:$}}),$.value=tt,et(nt);return}et(nt)}}function triggerFocus$1($,_e){if(!!$){$.focus(_e);var et=_e||{},tt=et.cursor;if(tt){var nt=$.value.length;switch(tt){case"start":$.setSelectionRange(0,0);break;case"end":$.setSelectionRange(nt,nt);break;default:$.setSelectionRange(0,nt)}}}}function fixControlledValue$1($){return typeof $=="undefined"||$===null?"":String($)}var BaseInput=function(_e){var et=_e.inputElement,tt=_e.prefixCls,nt=_e.prefix,at=_e.suffix,ot=_e.addonBefore,it=_e.addonAfter,st=_e.className,ut=_e.style,ft=_e.affixWrapperClassName,dt=_e.groupClassName,vt=_e.wrapperClassName,gt=_e.disabled,yt=_e.readOnly,xt=_e.focused,Ct=_e.triggerFocus,wt=_e.allowClear,Et=_e.value,$t=_e.handleReset,It=_e.hidden,Ot=react.exports.useRef(null),Lt=function(sr){var fr;!((fr=Ot.current)===null||fr===void 0)&&fr.contains(sr.target)&&(Ct==null||Ct())},Ft=function(){var sr;if(!wt)return null;var fr=!gt&&!yt&&Et,yr="".concat(tt,"-clear-icon"),Pr=_typeof$4(wt)==="object"&&(wt==null?void 0:wt.clearIcon)?wt.clearIcon:"\u2716";return jsx("span",{onClick:$t,onMouseDown:function(Mr){return Mr.preventDefault()},className:classNames(yr,(sr={},_defineProperty$4(sr,"".concat(yr,"-hidden"),!fr),_defineProperty$4(sr,"".concat(yr,"-has-suffix"),!!at),sr)),role:"button",tabIndex:-1,children:Pr})},zt=react.exports.cloneElement(et,{value:Et,hidden:It});if(hasPrefixSuffix$1(_e)){var Gt,jt="".concat(tt,"-affix-wrapper"),Ut=classNames(jt,(Gt={},_defineProperty$4(Gt,"".concat(jt,"-disabled"),gt),_defineProperty$4(Gt,"".concat(jt,"-focused"),xt),_defineProperty$4(Gt,"".concat(jt,"-readonly"),yt),_defineProperty$4(Gt,"".concat(jt,"-input-with-clear-btn"),at&&wt&&Et),Gt),!hasAddon$1(_e)&&st,ft),Kt=(at||wt)&&jsxs("span",{className:"".concat(tt,"-suffix"),children:[Ft(),at]});zt=jsxs("span",{className:Ut,style:ut,hidden:!hasAddon$1(_e)&&It,onMouseDown:Lt,ref:Ot,children:[nt&&jsx("span",{className:"".concat(tt,"-prefix"),children:nt}),react.exports.cloneElement(et,{style:null,value:Et,hidden:null}),Kt]})}if(hasAddon$1(_e)){var Zt="".concat(tt,"-group"),Qt="".concat(Zt,"-addon"),rr=classNames("".concat(tt,"-wrapper"),Zt,vt),nr=classNames("".concat(tt,"-group-wrapper"),st,dt);return jsx("span",{className:nr,style:ut,hidden:It,children:jsxs("span",{className:rr,children:[ot&&jsx("span",{className:Qt,children:ot}),react.exports.cloneElement(zt,{style:null,hidden:null}),it&&jsx("span",{className:Qt,children:it})]})})}return zt},_excluded$8=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],Input$3=react.exports.forwardRef(function($,_e){var et=$.autoComplete,tt=$.onChange,nt=$.onFocus,at=$.onBlur,ot=$.onPressEnter,it=$.onKeyDown,st=$.prefixCls,ut=st===void 0?"rc-input":st,ft=$.disabled,dt=$.htmlSize,vt=$.className,gt=$.maxLength,yt=$.suffix,xt=$.showCount,Ct=$.type,wt=Ct===void 0?"text":Ct,Et=$.inputClassName,$t=_objectWithoutProperties$1($,_excluded$8),It=useMergedState($.defaultValue,{value:$.value}),Ot=_slicedToArray$3(It,2),Lt=Ot[0],Ft=Ot[1],zt=react.exports.useState(!1),Gt=_slicedToArray$3(zt,2),jt=Gt[0],Ut=Gt[1],Kt=react.exports.useRef(null),Zt=function(wr){Kt.current&&triggerFocus$1(Kt.current,wr)};react.exports.useImperativeHandle(_e,function(){return{focus:Zt,blur:function(){var wr;(wr=Kt.current)===null||wr===void 0||wr.blur()},setSelectionRange:function(wr,Mr,Lr){var Br;(Br=Kt.current)===null||Br===void 0||Br.setSelectionRange(wr,Mr,Lr)},select:function(){var wr;(wr=Kt.current)===null||wr===void 0||wr.select()},input:Kt.current}}),react.exports.useEffect(function(){Ut(function(Pr){return Pr&&ft?!1:Pr})},[ft]);var Qt=function(wr){$.value===void 0&&Ft(wr.target.value),Kt.current&&resolveOnChange$1(Kt.current,wr,tt)},rr=function(wr){ot&&wr.key==="Enter"&&ot(wr),it==null||it(wr)},nr=function(wr){Ut(!0),nt==null||nt(wr)},dr=function(wr){Ut(!1),at==null||at(wr)},sr=function(wr){Ft(""),Zt(),Kt.current&&resolveOnChange$1(Kt.current,wr,tt)},fr=function(){var wr=omit($,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return jsx("input",{..._objectSpread2$1(_objectSpread2$1({autoComplete:et},wr),{},{onChange:Qt,onFocus:nr,onBlur:dr,onKeyDown:rr,className:classNames(ut,_defineProperty$4({},"".concat(ut,"-disabled"),ft),Et,!hasAddon$1($)&&!hasPrefixSuffix$1($)&&vt),ref:Kt,size:dt,type:wt})})},yr=function(){var wr=Number(gt)>0;if(yt||xt){var Mr=_toConsumableArray(fixControlledValue$1(Lt)).length,Lr=_typeof$4(xt)==="object"?xt.formatter({count:Mr,maxLength:gt}):"".concat(Mr).concat(wr?" / ".concat(gt):"");return jsxs(Fragment,{children:[!!xt&&jsx("span",{className:classNames("".concat(ut,"-show-count-suffix"),_defineProperty$4({},"".concat(ut,"-show-count-has-suffix"),!!yt)),children:Lr}),yt]})}return null};return jsx(BaseInput,{..._objectSpread2$1(_objectSpread2$1({},$t),{},{prefixCls:ut,className:vt,inputElement:fr(),handleReset:sr,value:fixControlledValue$1(Lt),focused:jt,triggerFocus:Zt,suffix:yr(),disabled:ft})})});function hasPrefixSuffix($){return!!($.prefix||$.suffix||$.allowClear)}var __rest$7=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function fixControlledValue($){return typeof $=="undefined"||$===null?"":String($)}function resolveOnChange($,_e,et,tt){if(!!et){var nt=_e;if(_e.type==="click"){var at=$.cloneNode(!0);nt=Object.create(_e,{target:{value:at},currentTarget:{value:at}}),at.value="",et(nt);return}if(tt!==void 0){nt=Object.create(_e,{target:{value:$},currentTarget:{value:$}}),$.value=tt,et(nt);return}et(nt)}}function triggerFocus($,_e){if(!!$){$.focus(_e);var et=_e||{},tt=et.cursor;if(tt){var nt=$.value.length;switch(tt){case"start":$.setSelectionRange(0,0);break;case"end":$.setSelectionRange(nt,nt);break;default:$.setSelectionRange(0,nt)}}}}var Input$2=react.exports.forwardRef(function($,_e){var et,tt,nt,at=$.prefixCls,ot=$.bordered,it=ot===void 0?!0:ot,st=$.status,ut=$.size,ft=$.disabled,dt=$.onBlur,vt=$.onFocus,gt=$.suffix,yt=$.allowClear,xt=$.addonAfter,Ct=$.addonBefore,wt=__rest$7($,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),Et=React.useContext(ConfigContext),$t=Et.getPrefixCls,It=Et.direction,Ot=Et.input,Lt=$t("input",at),Ft=react.exports.useRef(null),zt=React.useContext(SizeContext$1),Gt=ut||zt,jt=React.useContext(DisabledContext),Ut=ft||jt,Kt=react.exports.useContext(FormItemInputContext),Zt=Kt.status,Qt=Kt.hasFeedback,rr=Kt.feedbackIcon,nr=getMergedStatus(Zt,st),dr=hasPrefixSuffix($)||!!Qt,sr=react.exports.useRef(dr);react.exports.useEffect(function(){dr&&sr.current,sr.current=dr},[dr]);var fr=react.exports.useRef([]),yr=function(){fr.current.push(window.setTimeout(function(){var qr,Qr,Jr,sn;((qr=Ft.current)===null||qr===void 0?void 0:qr.input)&&((Qr=Ft.current)===null||Qr===void 0?void 0:Qr.input.getAttribute("type"))==="password"&&((Jr=Ft.current)===null||Jr===void 0?void 0:Jr.input.hasAttribute("value"))&&((sn=Ft.current)===null||sn===void 0||sn.input.removeAttribute("value"))}))};react.exports.useEffect(function(){return yr(),function(){return fr.current.forEach(function(Br){return window.clearTimeout(Br)})}},[]);var Pr=function(qr){yr(),dt==null||dt(qr)},wr=function(qr){yr(),vt==null||vt(qr)},Mr=(Qt||gt)&&jsxs(Fragment,{children:[gt,Qt&&rr]}),Lr;return _typeof$4(yt)==="object"&&(yt==null?void 0:yt.clearIcon)?Lr=yt:yt&&(Lr={clearIcon:jsx(CloseCircleFilled$1,{})}),jsx(Input$3,{ref:composeRef(_e,Ft),prefixCls:Lt,autoComplete:Ot==null?void 0:Ot.autoComplete,...wt,disabled:Ut||void 0,onBlur:Pr,onFocus:wr,suffix:Mr,allowClear:Lr,addonAfter:xt&&jsx(NoFormStyle,{override:!0,status:!0,children:xt}),addonBefore:Ct&&jsx(NoFormStyle,{override:!0,status:!0,children:Ct}),inputClassName:classNames((et={},_defineProperty$4(et,"".concat(Lt,"-sm"),Gt==="small"),_defineProperty$4(et,"".concat(Lt,"-lg"),Gt==="large"),_defineProperty$4(et,"".concat(Lt,"-rtl"),It==="rtl"),_defineProperty$4(et,"".concat(Lt,"-borderless"),!it),et),!dr&&getStatusClassNames(Lt,nr)),affixWrapperClassName:classNames((tt={},_defineProperty$4(tt,"".concat(Lt,"-affix-wrapper-sm"),Gt==="small"),_defineProperty$4(tt,"".concat(Lt,"-affix-wrapper-lg"),Gt==="large"),_defineProperty$4(tt,"".concat(Lt,"-affix-wrapper-rtl"),It==="rtl"),_defineProperty$4(tt,"".concat(Lt,"-affix-wrapper-borderless"),!it),tt),getStatusClassNames("".concat(Lt,"-affix-wrapper"),nr,Qt)),wrapperClassName:classNames(_defineProperty$4({},"".concat(Lt,"-group-rtl"),It==="rtl")),groupClassName:classNames((nt={},_defineProperty$4(nt,"".concat(Lt,"-group-wrapper-sm"),Gt==="small"),_defineProperty$4(nt,"".concat(Lt,"-group-wrapper-lg"),Gt==="large"),_defineProperty$4(nt,"".concat(Lt,"-group-wrapper-rtl"),It==="rtl"),nt),getStatusClassNames("".concat(Lt,"-group-wrapper"),nr,Qt))})}),InternalInput=Input$2,EyeInvisibleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},EyeInvisibleOutlinedSvg=EyeInvisibleOutlined$2,EyeInvisibleOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:EyeInvisibleOutlinedSvg}))};EyeInvisibleOutlined.displayName="EyeInvisibleOutlined";var EyeInvisibleOutlined$1=react.exports.forwardRef(EyeInvisibleOutlined),__rest$6=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},ActionMap={click:"onClick",hover:"onMouseOver"},Password=react.exports.forwardRef(function($,_e){var et=react.exports.useState(!1),tt=_slicedToArray$3(et,2),nt=tt[0],at=tt[1],ot=function(){var ft=$.disabled;ft||at(!nt)},it=function(ft){var dt,vt=$.action,gt=$.iconRender,yt=gt===void 0?function(){return null}:gt,xt=ActionMap[vt]||"",Ct=yt(nt),wt=(dt={},_defineProperty$4(dt,xt,ot),_defineProperty$4(dt,"className","".concat(ft,"-icon")),_defineProperty$4(dt,"key","passwordIcon"),_defineProperty$4(dt,"onMouseDown",function($t){$t.preventDefault()}),_defineProperty$4(dt,"onMouseUp",function($t){$t.preventDefault()}),dt);return react.exports.cloneElement(react.exports.isValidElement(Ct)?Ct:react.exports.createElement("span",null,Ct),wt)},st=function(ft){var dt=ft.getPrefixCls,vt=$.className,gt=$.prefixCls,yt=$.inputPrefixCls,xt=$.size,Ct=$.visibilityToggle,wt=__rest$6($,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),Et=dt("input",yt),$t=dt("input-password",gt),It=Ct&&it($t),Ot=classNames($t,vt,_defineProperty$4({},"".concat($t,"-").concat(xt),!!xt)),Lt=_extends$2(_extends$2({},omit(wt,["suffix","iconRender"])),{type:nt?"text":"password",className:Ot,prefixCls:Et,suffix:It});return xt&&(Lt.size=xt),react.exports.createElement(InternalInput,_extends$2({ref:_e},Lt))};return react.exports.createElement(ConfigConsumer,null,st)});Password.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(_e){return _e?react.exports.createElement(EyeOutlined$1,null):react.exports.createElement(EyeInvisibleOutlined$1,null)}};var Password$1=Password,__rest$5=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},Search=react.exports.forwardRef(function($,_e){var et,tt=$.prefixCls,nt=$.inputPrefixCls,at=$.className,ot=$.size,it=$.suffix,st=$.enterButton,ut=st===void 0?!1:st,ft=$.addonAfter,dt=$.loading,vt=$.disabled,gt=$.onSearch,yt=$.onChange,xt=$.onCompositionStart,Ct=$.onCompositionEnd,wt=__rest$5($,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),Et=react.exports.useContext(ConfigContext),$t=Et.getPrefixCls,It=Et.direction,Ot=react.exports.useContext(SizeContext$1),Lt=react.exports.useRef(!1),Ft=ot||Ot,zt=react.exports.useRef(null),Gt=function(Lr){Lr&&Lr.target&&Lr.type==="click"&&gt&&gt(Lr.target.value,Lr),yt&&yt(Lr)},jt=function(Lr){var Br;document.activeElement===((Br=zt.current)===null||Br===void 0?void 0:Br.input)&&Lr.preventDefault()},Ut=function(Lr){var Br,qr;gt&&gt((qr=(Br=zt.current)===null||Br===void 0?void 0:Br.input)===null||qr===void 0?void 0:qr.value,Lr)},Kt=function(Lr){Lt.current||Ut(Lr)},Zt=$t("input-search",tt),Qt=$t("input",nt),rr=typeof ut=="boolean"?react.exports.createElement(SearchOutlined$1,null):null,nr="".concat(Zt,"-button"),dr,sr=ut||{},fr=sr.type&&sr.type.__ANT_BUTTON===!0;fr||sr.type==="button"?dr=cloneElement(sr,_extends$2({onMouseDown:jt,onClick:function(Lr){var Br,qr;(qr=(Br=sr==null?void 0:sr.props)===null||Br===void 0?void 0:Br.onClick)===null||qr===void 0||qr.call(Br,Lr),Ut(Lr)},key:"enterButton"},fr?{className:nr,size:Ft}:{})):dr=react.exports.createElement(Button$2,{className:nr,type:ut?"primary":void 0,size:Ft,disabled:vt,key:"enterButton",onMouseDown:jt,onClick:Ut,loading:dt,icon:rr},ut),ft&&(dr=[dr,cloneElement(ft,{key:"addonAfter"})]);var yr=classNames(Zt,(et={},_defineProperty$4(et,"".concat(Zt,"-rtl"),It==="rtl"),_defineProperty$4(et,"".concat(Zt,"-").concat(Ft),!!Ft),_defineProperty$4(et,"".concat(Zt,"-with-button"),!!ut),et),at),Pr=function(Lr){Lt.current=!0,xt==null||xt(Lr)},wr=function(Lr){Lt.current=!1,Ct==null||Ct(Lr)};return react.exports.createElement(InternalInput,_extends$2({ref:composeRef(zt,_e),onPressEnter:Kt},wt,{size:Ft,onCompositionStart:Pr,onCompositionEnd:wr,prefixCls:Qt,addonAfter:dr,suffix:it,onChange:Gt,className:yr,disabled:vt}))}),Search$1=Search,HIDDEN_TEXTAREA_STYLE=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],computedStyleCache={},hiddenTextarea;function calculateNodeStyling($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et=$.getAttribute("id")||$.getAttribute("data-reactid")||$.getAttribute("name");if(_e&&computedStyleCache[et])return computedStyleCache[et];var tt=window.getComputedStyle($),nt=tt.getPropertyValue("box-sizing")||tt.getPropertyValue("-moz-box-sizing")||tt.getPropertyValue("-webkit-box-sizing"),at=parseFloat(tt.getPropertyValue("padding-bottom"))+parseFloat(tt.getPropertyValue("padding-top")),ot=parseFloat(tt.getPropertyValue("border-bottom-width"))+parseFloat(tt.getPropertyValue("border-top-width")),it=SIZING_STYLE.map(function(ut){return"".concat(ut,":").concat(tt.getPropertyValue(ut))}).join(";"),st={sizingStyle:it,paddingSize:at,borderSize:ot,boxSizing:nt};return _e&&et&&(computedStyleCache[et]=st),st}function calculateNodeHeight($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tab-index","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),document.body.appendChild(hiddenTextarea)),$.getAttribute("wrap")?hiddenTextarea.setAttribute("wrap",$.getAttribute("wrap")):hiddenTextarea.removeAttribute("wrap");var nt=calculateNodeStyling($,_e),at=nt.paddingSize,ot=nt.borderSize,it=nt.boxSizing,st=nt.sizingStyle;hiddenTextarea.setAttribute("style","".concat(st,";").concat(HIDDEN_TEXTAREA_STYLE)),hiddenTextarea.value=$.value||$.placeholder||"";var ut=Number.MIN_SAFE_INTEGER,ft=Number.MAX_SAFE_INTEGER,dt=hiddenTextarea.scrollHeight,vt;if(it==="border-box"?dt+=ot:it==="content-box"&&(dt-=at),et!==null||tt!==null){hiddenTextarea.value=" ";var gt=hiddenTextarea.scrollHeight-at;et!==null&&(ut=gt*et,it==="border-box"&&(ut=ut+at+ot),dt=Math.max(ut,dt)),tt!==null&&(ft=gt*tt,it==="border-box"&&(ft=ft+at+ot),vt=dt>ft?"":"hidden",dt=Math.min(ft,dt))}return{height:dt,minHeight:ut,maxHeight:ft,overflowY:vt,resize:"none"}}var RESIZE_STATUS;(function($){$[$.NONE=0]="NONE",$[$.RESIZING=1]="RESIZING",$[$.RESIZED=2]="RESIZED"})(RESIZE_STATUS||(RESIZE_STATUS={}));var ResizableTextArea=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;return _classCallCheck$2(this,et),nt=_e.call(this,tt),nt.nextFrameActionId=void 0,nt.resizeFrameId=void 0,nt.textArea=void 0,nt.saveTextArea=function(at){nt.textArea=at},nt.handleResize=function(at){var ot=nt.state.resizeStatus,it=nt.props,st=it.autoSize,ut=it.onResize;ot===RESIZE_STATUS.NONE&&(typeof ut=="function"&&ut(at),st&&nt.resizeOnNextFrame())},nt.resizeOnNextFrame=function(){cancelAnimationFrame(nt.nextFrameActionId),nt.nextFrameActionId=requestAnimationFrame(nt.resizeTextarea)},nt.resizeTextarea=function(){var at=nt.props.autoSize;if(!(!at||!nt.textArea)){var ot=at.minRows,it=at.maxRows,st=calculateNodeHeight(nt.textArea,!1,ot,it);nt.setState({textareaStyles:st,resizeStatus:RESIZE_STATUS.RESIZING},function(){cancelAnimationFrame(nt.resizeFrameId),nt.resizeFrameId=requestAnimationFrame(function(){nt.setState({resizeStatus:RESIZE_STATUS.RESIZED},function(){nt.resizeFrameId=requestAnimationFrame(function(){nt.setState({resizeStatus:RESIZE_STATUS.NONE}),nt.fixFirefoxAutoScroll()})})})})}},nt.renderTextArea=function(){var at=nt.props,ot=at.prefixCls,it=ot===void 0?"rc-textarea":ot,st=at.autoSize,ut=at.onResize,ft=at.className,dt=at.disabled,vt=nt.state,gt=vt.textareaStyles,yt=vt.resizeStatus,xt=omit(nt.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),Ct=classNames(it,ft,_defineProperty$4({},"".concat(it,"-disabled"),dt));"value"in xt&&(xt.value=xt.value||"");var wt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},nt.props.style),gt),yt===RESIZE_STATUS.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return react.exports.createElement(ResizeObserver,{onResize:nt.handleResize,disabled:!(st||ut)},react.exports.createElement("textarea",_extends$2({},xt,{className:Ct,style:wt,ref:nt.saveTextArea})))},nt.state={textareaStyles:{},resizeStatus:RESIZE_STATUS.NONE},nt}return _createClass$2(et,[{key:"componentDidUpdate",value:function(nt){(nt.value!==this.props.value||!shallowequal(nt.autoSize,this.props.autoSize))&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var nt=this.textArea.selectionStart,at=this.textArea.selectionEnd;this.textArea.setSelectionRange(nt,at)}}catch{}}},{key:"render",value:function(){return this.renderTextArea()}}]),et}(react.exports.Component),TextArea$2=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;_classCallCheck$2(this,et),nt=_e.call(this,tt),nt.resizableTextArea=void 0,nt.focus=function(){nt.resizableTextArea.textArea.focus()},nt.saveTextArea=function(ot){nt.resizableTextArea=ot},nt.handleChange=function(ot){var it=nt.props.onChange;nt.setValue(ot.target.value,function(){nt.resizableTextArea.resizeTextarea()}),it&&it(ot)},nt.handleKeyDown=function(ot){var it=nt.props,st=it.onPressEnter,ut=it.onKeyDown;ot.keyCode===13&&st&&st(ot),ut&&ut(ot)};var at=typeof tt.value=="undefined"||tt.value===null?tt.defaultValue:tt.value;return nt.state={value:at},nt}return _createClass$2(et,[{key:"setValue",value:function(nt,at){"value"in this.props||this.setState({value:nt},at)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return react.exports.createElement(ResizableTextArea,_extends$2({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(nt){return"value"in nt?{value:nt.value}:null}}]),et}(react.exports.Component),ClearableInputType=tuple("text","input");function hasAddon($){return!!($.addonBefore||$.addonAfter)}var ClearableLabeledInput=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){return _classCallCheck$2(this,et),_e.apply(this,arguments)}return _createClass$2(et,[{key:"renderClearIcon",value:function(nt){var at,ot=this.props,it=ot.value,st=ot.disabled,ut=ot.readOnly,ft=ot.handleReset,dt=ot.suffix,vt=!st&&!ut&&it,gt="".concat(nt,"-clear-icon");return react.exports.createElement(CloseCircleFilled$1,{onClick:ft,onMouseDown:function(xt){return xt.preventDefault()},className:classNames((at={},_defineProperty$4(at,"".concat(gt,"-hidden"),!vt),_defineProperty$4(at,"".concat(gt,"-has-suffix"),!!dt),at),gt),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(nt,at,ot){var it,st=this.props,ut=st.value,ft=st.allowClear,dt=st.className,vt=st.style,gt=st.direction,yt=st.bordered,xt=st.hidden,Ct=st.status,wt=ot.status,Et=ot.hasFeedback;if(!ft)return cloneElement(at,{value:ut});var $t=classNames("".concat(nt,"-affix-wrapper"),"".concat(nt,"-affix-wrapper-textarea-with-clear-btn"),getStatusClassNames("".concat(nt,"-affix-wrapper"),getMergedStatus(wt,Ct),Et),(it={},_defineProperty$4(it,"".concat(nt,"-affix-wrapper-rtl"),gt==="rtl"),_defineProperty$4(it,"".concat(nt,"-affix-wrapper-borderless"),!yt),_defineProperty$4(it,"".concat(dt),!hasAddon(this.props)&&dt),it));return react.exports.createElement("span",{className:$t,style:vt,hidden:xt},cloneElement(at,{style:null,value:ut}),this.renderClearIcon(nt))}},{key:"render",value:function(){var nt=this;return react.exports.createElement(FormItemInputContext.Consumer,null,function(at){var ot=nt.props,it=ot.prefixCls,st=ot.inputType,ut=ot.element;if(st===ClearableInputType[0])return nt.renderTextAreaWithClearIcon(it,ut,at)})}}]),et}(react.exports.Component),ClearableLabeledInput$1=ClearableLabeledInput,__rest$4=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function fixEmojiLength($,_e){return _toConsumableArray($||"").slice(0,_e).join("")}function setTriggerValue($,_e,et,tt){var nt=et;return $?nt=fixEmojiLength(et,tt):_toConsumableArray(_e||"").length<et.length&&_toConsumableArray(et||"").length>tt&&(nt=_e),nt}var TextArea=react.exports.forwardRef(function($,_e){var et,tt=$.prefixCls,nt=$.bordered,at=nt===void 0?!0:nt,ot=$.showCount,it=ot===void 0?!1:ot,st=$.maxLength,ut=$.className,ft=$.style,dt=$.size,vt=$.disabled,gt=$.onCompositionStart,yt=$.onCompositionEnd,xt=$.onChange,Ct=$.status,wt=__rest$4($,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),Et=react.exports.useContext(ConfigContext),$t=Et.getPrefixCls,It=Et.direction,Ot=react.exports.useContext(SizeContext$1),Lt=react.exports.useContext(DisabledContext),Ft=vt||Lt,zt=react.exports.useContext(FormItemInputContext),Gt=zt.status,jt=zt.hasFeedback,Ut=zt.isFormItemInput,Kt=zt.feedbackIcon,Zt=getMergedStatus(Gt,Ct),Qt=react.exports.useRef(null),rr=react.exports.useRef(null),nr=react.exports.useState(!1),dr=_slicedToArray$3(nr,2),sr=dr[0],fr=dr[1],yr=react.exports.useRef(),Pr=react.exports.useRef(0),wr=useMergedState(wt.defaultValue,{value:wt.value}),Mr=_slicedToArray$3(wr,2),Lr=Mr[0],Br=Mr[1],qr=wt.hidden,Qr=function(wn,vn){wt.value===void 0&&(Br(wn),vn==null||vn())},Jr=Number(st)>0,sn=function(wn){fr(!0),yr.current=Lr,Pr.current=wn.currentTarget.selectionStart,gt==null||gt(wn)},yn=function(wn){var vn;fr(!1);var $n=wn.currentTarget.value;if(Jr){var Xn=Pr.current>=st+1||Pr.current===((vn=yr.current)===null||vn===void 0?void 0:vn.length);$n=setTriggerValue(Xn,yr.current,$n,st)}$n!==Lr&&(Qr($n),resolveOnChange(wn.currentTarget,wn,xt,$n)),yt==null||yt(wn)},pn=function(wn){var vn=wn.target.value;if(!sr&&Jr){var $n=wn.target.selectionStart>=st+1||wn.target.selectionStart===vn.length||!wn.target.selectionStart;vn=setTriggerValue($n,Lr,vn,st)}Qr(vn),resolveOnChange(wn.currentTarget,wn,xt,vn)},ln=function(wn){var vn,$n,Xn;Qr(""),(vn=Qt.current)===null||vn===void 0||vn.focus(),resolveOnChange((Xn=($n=Qt.current)===null||$n===void 0?void 0:$n.resizableTextArea)===null||Xn===void 0?void 0:Xn.textArea,wn,xt)},Sn=$t("input",tt);react.exports.useImperativeHandle(_e,function(){var Xr;return{resizableTextArea:(Xr=Qt.current)===null||Xr===void 0?void 0:Xr.resizableTextArea,focus:function(vn){var $n,Xn;triggerFocus((Xn=($n=Qt.current)===null||$n===void 0?void 0:$n.resizableTextArea)===null||Xn===void 0?void 0:Xn.textArea,vn)},blur:function(){var vn;return(vn=Qt.current)===null||vn===void 0?void 0:vn.blur()}}});var cn=react.exports.createElement(TextArea$2,_extends$2({},omit(wt,["allowClear"]),{disabled:Ft,className:classNames((et={},_defineProperty$4(et,"".concat(Sn,"-borderless"),!at),_defineProperty$4(et,ut,ut&&!it),_defineProperty$4(et,"".concat(Sn,"-sm"),Ot==="small"||dt==="small"),_defineProperty$4(et,"".concat(Sn,"-lg"),Ot==="large"||dt==="large"),et),getStatusClassNames(Sn,Zt)),style:it?void 0:ft,prefixCls:Sn,onCompositionStart:sn,onChange:pn,onCompositionEnd:yn,ref:Qt})),Pn=fixControlledValue(Lr);!sr&&Jr&&(wt.value===null||wt.value===void 0)&&(Pn=fixEmojiLength(Pn,st));var In=react.exports.createElement(ClearableLabeledInput$1,_extends$2({disabled:Ft},wt,{prefixCls:Sn,direction:It,inputType:"text",value:Pn,element:cn,handleReset:ln,ref:rr,bordered:at,status:Ct,style:it?void 0:ft}));if(it||jt){var Rn,Mn=_toConsumableArray(Pn).length,Fn="";return _typeof$4(it)==="object"?Fn=it.formatter({count:Mn,maxLength:st}):Fn="".concat(Mn).concat(Jr?" / ".concat(st):""),react.exports.createElement("div",{hidden:qr,className:classNames("".concat(Sn,"-textarea"),(Rn={},_defineProperty$4(Rn,"".concat(Sn,"-textarea-rtl"),It==="rtl"),_defineProperty$4(Rn,"".concat(Sn,"-textarea-show-count"),it),_defineProperty$4(Rn,"".concat(Sn,"-textarea-in-form-item"),Ut),Rn),getStatusClassNames("".concat(Sn,"-textarea"),Zt,jt),ut),style:ft,"data-count":Fn},In,jt&&react.exports.createElement("span",{className:"".concat(Sn,"-textarea-suffix")},Kt))}return In}),TextArea$1=TextArea,Input=InternalInput;Input.Group=Group$6;Input.Search=Search$1;Input.TextArea=TextArea$1;Input.Password=Password$1;var Input$1=Input,DoubleLeftOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},DoubleLeftOutlinedSvg=DoubleLeftOutlined$2,DoubleLeftOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:DoubleLeftOutlinedSvg}))};DoubleLeftOutlined.displayName="DoubleLeftOutlined";var DoubleLeftOutlined$1=react.exports.forwardRef(DoubleLeftOutlined),DoubleRightOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},DoubleRightOutlinedSvg=DoubleRightOutlined$2,DoubleRightOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:DoubleRightOutlinedSvg}))};DoubleRightOutlined.displayName="DoubleRightOutlined";var DoubleRightOutlined$1=react.exports.forwardRef(DoubleRightOutlined),Pager=function(_e){var et,tt="".concat(_e.rootPrefixCls,"-item"),nt=classNames(tt,"".concat(tt,"-").concat(_e.page),(et={},_defineProperty$4(et,"".concat(tt,"-active"),_e.active),_defineProperty$4(et,"".concat(tt,"-disabled"),!_e.page),_defineProperty$4(et,_e.className,!!_e.className),et)),at=function(){_e.onClick(_e.page)},ot=function(st){_e.onKeyPress(st,_e.onClick,_e.page)};return React.createElement("li",{title:_e.showTitle?_e.page:null,className:nt,onClick:at,onKeyPress:ot,tabIndex:"0"},_e.itemRender(_e.page,"page",React.createElement("a",{rel:"nofollow"},_e.page)))},KEYCODE={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Options=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;_classCallCheck$2(this,et);for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return tt=_e.call.apply(_e,[this].concat(at)),tt.state={goInputText:""},tt.buildOptionText=function(it){return"".concat(it," ").concat(tt.props.locale.items_per_page)},tt.changeSize=function(it){tt.props.changeSize(Number(it))},tt.handleChange=function(it){tt.setState({goInputText:it.target.value})},tt.handleBlur=function(it){var st=tt.props,ut=st.goButton,ft=st.quickGo,dt=st.rootPrefixCls,vt=tt.state.goInputText;ut||vt===""||(tt.setState({goInputText:""}),!(it.relatedTarget&&(it.relatedTarget.className.indexOf("".concat(dt,"-item-link"))>=0||it.relatedTarget.className.indexOf("".concat(dt,"-item"))>=0))&&ft(tt.getValidValue()))},tt.go=function(it){var st=tt.state.goInputText;st!==""&&(it.keyCode===KEYCODE.ENTER||it.type==="click")&&(tt.setState({goInputText:""}),tt.props.quickGo(tt.getValidValue()))},tt}return _createClass$2(et,[{key:"getValidValue",value:function(){var nt=this.state.goInputText;return!nt||isNaN(nt)?void 0:Number(nt)}},{key:"getPageSizeOptions",value:function(){var nt=this.props,at=nt.pageSize,ot=nt.pageSizeOptions;return ot.some(function(it){return it.toString()===at.toString()})?ot:ot.concat([at.toString()]).sort(function(it,st){var ut=isNaN(Number(it))?0:Number(it),ft=isNaN(Number(st))?0:Number(st);return ut-ft})}},{key:"render",value:function(){var nt=this,at=this.props,ot=at.pageSize,it=at.locale,st=at.rootPrefixCls,ut=at.changeSize,ft=at.quickGo,dt=at.goButton,vt=at.selectComponentClass,gt=at.buildOptionText,yt=at.selectPrefixCls,xt=at.disabled,Ct=this.state.goInputText,wt="".concat(st,"-options"),Et=vt,$t=null,It=null,Ot=null;if(!ut&&!ft)return null;var Lt=this.getPageSizeOptions();if(ut&&Et){var Ft=Lt.map(function(zt,Gt){return React.createElement(Et.Option,{key:Gt,value:zt.toString()},(gt||nt.buildOptionText)(zt))});$t=React.createElement(Et,{disabled:xt,prefixCls:yt,showSearch:!1,className:"".concat(wt,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(ot||Lt[0]).toString(),onChange:this.changeSize,getPopupContainer:function(Gt){return Gt.parentNode},"aria-label":it.page_size,defaultOpen:!1},Ft)}return ft&&(dt&&(Ot=typeof dt=="boolean"?React.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:xt,className:"".concat(wt,"-quick-jumper-button")},it.jump_to_confirm):React.createElement("span",{onClick:this.go,onKeyUp:this.go},dt)),It=React.createElement("div",{className:"".concat(wt,"-quick-jumper")},it.jump_to,React.createElement("input",{disabled:xt,type:"text",value:Ct,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":it.page}),it.page,Ot)),React.createElement("li",{className:"".concat(wt)},$t,It)}}]),et}(React.Component);Options.defaultProps={pageSizeOptions:["10","20","50","100"]};var Pagination$3={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};function noop$2(){}function isInteger($){var _e=Number($);return typeof _e=="number"&&!isNaN(_e)&&isFinite(_e)&&Math.floor(_e)===_e}function defaultItemRender($,_e,et){return et}function calculatePage($,_e,et){var tt=typeof $=="undefined"?_e.pageSize:$;return Math.floor((et.total-1)/tt)+1}var Pagination$2=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;_classCallCheck$2(this,et),nt=_e.call(this,tt),nt.getJumpPrevPage=function(){return Math.max(1,nt.state.current-(nt.props.showLessItems?3:5))},nt.getJumpNextPage=function(){return Math.min(calculatePage(void 0,nt.state,nt.props),nt.state.current+(nt.props.showLessItems?3:5))},nt.getItemIcon=function(ut,ft){var dt=nt.props.prefixCls,vt=ut||jsx("button",{type:"button","aria-label":ft,className:"".concat(dt,"-item-link")});return typeof ut=="function"&&(vt=React.createElement(ut,_objectSpread2$1({},nt.props))),vt},nt.savePaginationNode=function(ut){nt.paginationNode=ut},nt.isValid=function(ut){var ft=nt.props.total;return isInteger(ut)&&ut!==nt.state.current&&isInteger(ft)&&ft>0},nt.shouldDisplayQuickJumper=function(){var ut=nt.props,ft=ut.showQuickJumper,dt=ut.total,vt=nt.state.pageSize;return dt<=vt?!1:ft},nt.handleKeyDown=function(ut){(ut.keyCode===KEYCODE.ARROW_UP||ut.keyCode===KEYCODE.ARROW_DOWN)&&ut.preventDefault()},nt.handleKeyUp=function(ut){var ft=nt.getValidValue(ut),dt=nt.state.currentInputValue;ft!==dt&&nt.setState({currentInputValue:ft}),ut.keyCode===KEYCODE.ENTER?nt.handleChange(ft):ut.keyCode===KEYCODE.ARROW_UP?nt.handleChange(ft-1):ut.keyCode===KEYCODE.ARROW_DOWN&&nt.handleChange(ft+1)},nt.handleBlur=function(ut){var ft=nt.getValidValue(ut);nt.handleChange(ft)},nt.changePageSize=function(ut){var ft=nt.state.current,dt=calculatePage(ut,nt.state,nt.props);ft=ft>dt?dt:ft,dt===0&&(ft=nt.state.current),typeof ut=="number"&&("pageSize"in nt.props||nt.setState({pageSize:ut}),"current"in nt.props||nt.setState({current:ft,currentInputValue:ft})),nt.props.onShowSizeChange(ft,ut),"onChange"in nt.props&&nt.props.onChange&&nt.props.onChange(ft,ut)},nt.handleChange=function(ut){var ft=nt.props,dt=ft.disabled,vt=ft.onChange,gt=nt.state,yt=gt.pageSize,xt=gt.current,Ct=gt.currentInputValue;if(nt.isValid(ut)&&!dt){var wt=calculatePage(void 0,nt.state,nt.props),Et=ut;return ut>wt?Et=wt:ut<1&&(Et=1),"current"in nt.props||nt.setState({current:Et}),Et!==Ct&&nt.setState({currentInputValue:Et}),vt(Et,yt),Et}return xt},nt.prev=function(){nt.hasPrev()&&nt.handleChange(nt.state.current-1)},nt.next=function(){nt.hasNext()&&nt.handleChange(nt.state.current+1)},nt.jumpPrev=function(){nt.handleChange(nt.getJumpPrevPage())},nt.jumpNext=function(){nt.handleChange(nt.getJumpNextPage())},nt.hasPrev=function(){return nt.state.current>1},nt.hasNext=function(){return nt.state.current<calculatePage(void 0,nt.state,nt.props)},nt.runIfEnter=function(ut,ft){if(ut.key==="Enter"||ut.charCode===13){for(var dt=arguments.length,vt=new Array(dt>2?dt-2:0),gt=2;gt<dt;gt++)vt[gt-2]=arguments[gt];ft.apply(void 0,vt)}},nt.runIfEnterPrev=function(ut){nt.runIfEnter(ut,nt.prev)},nt.runIfEnterNext=function(ut){nt.runIfEnter(ut,nt.next)},nt.runIfEnterJumpPrev=function(ut){nt.runIfEnter(ut,nt.jumpPrev)},nt.runIfEnterJumpNext=function(ut){nt.runIfEnter(ut,nt.jumpNext)},nt.handleGoTO=function(ut){(ut.keyCode===KEYCODE.ENTER||ut.type==="click")&&nt.handleChange(nt.state.currentInputValue)};var at=tt.onChange!==noop$2,ot="current"in tt;ot&&!at&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var it=tt.defaultCurrent;"current"in tt&&(it=tt.current);var st=tt.defaultPageSize;return"pageSize"in tt&&(st=tt.pageSize),it=Math.min(it,calculatePage(st,void 0,tt)),nt.state={current:it,currentInputValue:it,pageSize:st},nt}return _createClass$2(et,[{key:"componentDidUpdate",value:function(nt,at){var ot=this.props.prefixCls;if(at.current!==this.state.current&&this.paginationNode){var it=this.paginationNode.querySelector(".".concat(ot,"-item-").concat(at.current));it&&document.activeElement===it&&it.blur()}}},{key:"getValidValue",value:function(nt){var at=nt.target.value,ot=calculatePage(void 0,this.state,this.props),it=this.state.currentInputValue,st;return at===""?st=at:isNaN(Number(at))?st=it:at>=ot?st=ot:st=Number(at),st}},{key:"getShowSizeChanger",value:function(){var nt=this.props,at=nt.showSizeChanger,ot=nt.total,it=nt.totalBoundaryShowSizeChanger;return typeof at!="undefined"?at:ot>it}},{key:"renderPrev",value:function(nt){var at=this.props,ot=at.prevIcon,it=at.itemRender,st=it(nt,"prev",this.getItemIcon(ot,"prev page")),ut=!this.hasPrev();return react.exports.isValidElement(st)?react.exports.cloneElement(st,{disabled:ut}):st}},{key:"renderNext",value:function(nt){var at=this.props,ot=at.nextIcon,it=at.itemRender,st=it(nt,"next",this.getItemIcon(ot,"next page")),ut=!this.hasNext();return react.exports.isValidElement(st)?react.exports.cloneElement(st,{disabled:ut}):st}},{key:"render",value:function(){var nt=this,at=this.props,ot=at.prefixCls,it=at.className,st=at.style,ut=at.disabled,ft=at.hideOnSinglePage,dt=at.total,vt=at.locale,gt=at.showQuickJumper,yt=at.showLessItems,xt=at.showTitle,Ct=at.showTotal,wt=at.simple,Et=at.itemRender,$t=at.showPrevNextJumpers,It=at.jumpPrevIcon,Ot=at.jumpNextIcon,Lt=at.selectComponentClass,Ft=at.selectPrefixCls,zt=at.pageSizeOptions,Gt=this.state,jt=Gt.current,Ut=Gt.pageSize,Kt=Gt.currentInputValue;if(ft===!0&&dt<=Ut)return null;var Zt=calculatePage(void 0,this.state,this.props),Qt=[],rr=null,nr=null,dr=null,sr=null,fr=null,yr=gt&&gt.goButton,Pr=yt?1:2,wr=jt-1>0?jt-1:0,Mr=jt+1<Zt?jt+1:Zt,Lr=Object.keys(this.props).reduce(function(Rn,Mn){return(Mn.substr(0,5)==="data-"||Mn.substr(0,5)==="aria-"||Mn==="role")&&(Rn[Mn]=nt.props[Mn]),Rn},{});if(wt)return yr&&(typeof yr=="boolean"?fr=jsx("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:vt.jump_to_confirm}):fr=jsx("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:yr}),fr=jsx("li",{title:xt?"".concat(vt.jump_to).concat(jt,"/").concat(Zt):null,className:"".concat(ot,"-simple-pager"),children:fr})),jsxs("ul",{className:classNames(ot,"".concat(ot,"-simple"),_defineProperty$4({},"".concat(ot,"-disabled"),ut),it),style:st,ref:this.savePaginationNode,...Lr,children:[jsx("li",{title:xt?vt.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:classNames("".concat(ot,"-prev"),_defineProperty$4({},"".concat(ot,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev(),children:this.renderPrev(wr)}),jsxs("li",{title:xt?"".concat(jt,"/").concat(Zt):null,className:"".concat(ot,"-simple-pager"),children:[jsx("input",{type:"text",value:Kt,disabled:ut,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),jsx("span",{className:"".concat(ot,"-slash"),children:"/"}),Zt]}),jsx("li",{title:xt?vt.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:classNames("".concat(ot,"-next"),_defineProperty$4({},"".concat(ot,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext(),children:this.renderNext(Mr)}),fr]});if(Zt<=3+Pr*2){var Br={locale:vt,rootPrefixCls:ot,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:xt,itemRender:Et};Zt||Qt.push(react.exports.createElement(Pager,{...Br,key:"noPager",page:1,className:"".concat(ot,"-item-disabled")}));for(var qr=1;qr<=Zt;qr+=1){var Qr=jt===qr;Qt.push(react.exports.createElement(Pager,{...Br,key:qr,page:qr,active:Qr}))}}else{var Jr=yt?vt.prev_3:vt.prev_5,sn=yt?vt.next_3:vt.next_5;$t&&(rr=jsx("li",{title:xt?Jr:null,onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:classNames("".concat(ot,"-jump-prev"),_defineProperty$4({},"".concat(ot,"-jump-prev-custom-icon"),!!It)),children:Et(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(It,"prev page"))},"prev"),nr=jsx("li",{title:xt?sn:null,tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:classNames("".concat(ot,"-jump-next"),_defineProperty$4({},"".concat(ot,"-jump-next-custom-icon"),!!Ot)),children:Et(this.getJumpNextPage(),"jump-next",this.getItemIcon(Ot,"next page"))},"next")),sr=jsx(Pager,{locale:vt,last:!0,rootPrefixCls:ot,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:Zt,active:!1,showTitle:xt,itemRender:Et},Zt),dr=jsx(Pager,{locale:vt,rootPrefixCls:ot,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:1,active:!1,showTitle:xt,itemRender:Et},1);var yn=Math.max(1,jt-Pr),pn=Math.min(jt+Pr,Zt);jt-1<=Pr&&(pn=1+Pr*2),Zt-jt<=Pr&&(yn=Zt-Pr*2);for(var ln=yn;ln<=pn;ln+=1){var Sn=jt===ln;Qt.push(jsx(Pager,{locale:vt,rootPrefixCls:ot,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:ln,active:Sn,showTitle:xt,itemRender:Et},ln))}jt-1>=Pr*2&&jt!==1+2&&(Qt[0]=react.exports.cloneElement(Qt[0],{className:"".concat(ot,"-item-after-jump-prev")}),Qt.unshift(rr)),Zt-jt>=Pr*2&&jt!==Zt-2&&(Qt[Qt.length-1]=react.exports.cloneElement(Qt[Qt.length-1],{className:"".concat(ot,"-item-before-jump-next")}),Qt.push(nr)),yn!==1&&Qt.unshift(dr),pn!==Zt&&Qt.push(sr)}var cn=null;Ct&&(cn=jsx("li",{className:"".concat(ot,"-total-text"),children:Ct(dt,[dt===0?0:(jt-1)*Ut+1,jt*Ut>dt?dt:jt*Ut])}));var Pn=!this.hasPrev()||!Zt,In=!this.hasNext()||!Zt;return jsxs("ul",{className:classNames(ot,it,_defineProperty$4({},"".concat(ot,"-disabled"),ut)),style:st,unselectable:"unselectable",ref:this.savePaginationNode,...Lr,children:[cn,jsx("li",{title:xt?vt.prev_page:null,onClick:this.prev,tabIndex:Pn?null:0,onKeyPress:this.runIfEnterPrev,className:classNames("".concat(ot,"-prev"),_defineProperty$4({},"".concat(ot,"-disabled"),Pn)),"aria-disabled":Pn,children:this.renderPrev(wr)}),Qt,jsx("li",{title:xt?vt.next_page:null,onClick:this.next,tabIndex:In?null:0,onKeyPress:this.runIfEnterNext,className:classNames("".concat(ot,"-next"),_defineProperty$4({},"".concat(ot,"-disabled"),In)),"aria-disabled":In,children:this.renderNext(Mr)}),jsx(Options,{disabled:ut,locale:vt,rootPrefixCls:ot,selectComponentClass:Lt,selectPrefixCls:Ft,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:jt,pageSize:Ut,pageSizeOptions:zt,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:yr})]})}}],[{key:"getDerivedStateFromProps",value:function(nt,at){var ot={};if("current"in nt&&(ot.current=nt.current,nt.current!==at.current&&(ot.currentInputValue=ot.current)),"pageSize"in nt&&nt.pageSize!==at.pageSize){var it=at.current,st=calculatePage(nt.pageSize,at,nt);it=it>st?st:it,"current"in nt||(ot.current=it,ot.currentInputValue=it),ot.pageSize=nt.pageSize}return ot}}]),et}(React.Component);Pagination$2.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:noop$2,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:noop$2,locale:Pagination$3,style:{},itemRender:defaultItemRender,totalBoundaryShowSizeChanger:50};var MiniSelect=function(_e){return react.exports.createElement(Select$1,_extends$2({},_e,{size:"small"}))},MiddleSelect=function(_e){return react.exports.createElement(Select$1,_extends$2({},_e,{size:"middle"}))};MiniSelect.Option=Select$1.Option;MiddleSelect.Option=Select$1.Option;var __rest$3=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},Pagination=function(_e){var et=_e.prefixCls,tt=_e.selectPrefixCls,nt=_e.className,at=_e.size,ot=_e.locale,it=_e.selectComponentClass,st=_e.responsive,ut=_e.showSizeChanger,ft=__rest$3(_e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive","showSizeChanger"]),dt=useBreakpoint(st),vt=dt.xs,gt=react.exports.useContext(ConfigContext),yt=gt.getPrefixCls,xt=gt.direction,Ct=gt.pagination,wt=Ct===void 0?{}:Ct,Et=yt("pagination",et),$t=ut!=null?ut:wt.showSizeChanger,It=function(){var Ft=react.exports.createElement("span",{className:"".concat(Et,"-item-ellipsis")},"\u2022\u2022\u2022"),zt=react.exports.createElement("button",{className:"".concat(Et,"-item-link"),type:"button",tabIndex:-1},react.exports.createElement(LeftOutlined$1,null)),Gt=react.exports.createElement("button",{className:"".concat(Et,"-item-link"),type:"button",tabIndex:-1},react.exports.createElement(RightOutlined$1,null)),jt=react.exports.createElement("a",{className:"".concat(Et,"-item-link")},react.exports.createElement("div",{className:"".concat(Et,"-item-container")},react.exports.createElement(DoubleLeftOutlined$1,{className:"".concat(Et,"-item-link-icon")}),Ft)),Ut=react.exports.createElement("a",{className:"".concat(Et,"-item-link")},react.exports.createElement("div",{className:"".concat(Et,"-item-container")},react.exports.createElement(DoubleRightOutlined$1,{className:"".concat(Et,"-item-link-icon")}),Ft));if(xt==="rtl"){var Kt=[Gt,zt];zt=Kt[0],Gt=Kt[1];var Zt=[Ut,jt];jt=Zt[0],Ut=Zt[1]}return{prevIcon:zt,nextIcon:Gt,jumpPrevIcon:jt,jumpNextIcon:Ut}},Ot=function(Ft){var zt,Gt=_extends$2(_extends$2({},Ft),ot),jt=at==="small"||!!(vt&&!at&&st),Ut=yt("select",tt),Kt=classNames((zt={},_defineProperty$4(zt,"".concat(Et,"-mini"),jt),_defineProperty$4(zt,"".concat(Et,"-rtl"),xt==="rtl"),zt),nt);return react.exports.createElement(Pagination$2,_extends$2({},It(),ft,{prefixCls:Et,selectPrefixCls:Ut,className:Kt,selectComponentClass:it||(jt?MiniSelect:MiddleSelect),locale:Gt,showSizeChanger:$t}))};return react.exports.createElement(LocaleReceiver,{componentName:"Pagination",defaultLocale:enUS$1},Ot)},Pagination$1=Pagination,__rest$2=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};tuple("small","default","large");var defaultIndicator=null;function renderIndicator($,_e){var et=_e.indicator,tt="".concat($,"-dot");return et===null?null:isValidElement(et)?cloneElement(et,{className:classNames(et.props.className,tt)}):isValidElement(defaultIndicator)?cloneElement(defaultIndicator,{className:classNames(defaultIndicator.props.className,tt)}):react.exports.createElement("span",{className:classNames(tt,"".concat($,"-dot-spin"))},react.exports.createElement("i",{className:"".concat($,"-dot-item")}),react.exports.createElement("i",{className:"".concat($,"-dot-item")}),react.exports.createElement("i",{className:"".concat($,"-dot-item")}),react.exports.createElement("i",{className:"".concat($,"-dot-item")}))}function shouldDelay($,_e){return!!$&&!!_e&&!isNaN(Number(_e))}var Spin=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(tt){var nt;_classCallCheck$2(this,et),nt=_e.call(this,tt),nt.debouncifyUpdateSpinning=function(st){var ut=st||nt.props,ft=ut.delay;ft&&(nt.cancelExistingSpin(),nt.updateSpinning=debounce_1(nt.originalUpdateSpinning,ft))},nt.updateSpinning=function(){var st=nt.props.spinning,ut=nt.state.spinning;ut!==st&&nt.setState({spinning:st})},nt.renderSpin=function(st){var ut,ft=st.direction,dt=nt.props,vt=dt.spinPrefixCls,gt=dt.className,yt=dt.size,xt=dt.tip,Ct=dt.wrapperClassName,wt=dt.style,Et=__rest$2(dt,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),$t=nt.state.spinning,It=classNames(vt,(ut={},_defineProperty$4(ut,"".concat(vt,"-sm"),yt==="small"),_defineProperty$4(ut,"".concat(vt,"-lg"),yt==="large"),_defineProperty$4(ut,"".concat(vt,"-spinning"),$t),_defineProperty$4(ut,"".concat(vt,"-show-text"),!!xt),_defineProperty$4(ut,"".concat(vt,"-rtl"),ft==="rtl"),ut),gt),Ot=omit(Et,["spinning","delay","indicator","prefixCls"]),Lt=react.exports.createElement("div",_extends$2({},Ot,{style:wt,className:It,"aria-live":"polite","aria-busy":$t}),renderIndicator(vt,nt.props),xt?react.exports.createElement("div",{className:"".concat(vt,"-text")},xt):null);if(nt.isNestedPattern()){var Ft=classNames("".concat(vt,"-container"),_defineProperty$4({},"".concat(vt,"-blur"),$t));return react.exports.createElement("div",_extends$2({},Ot,{className:classNames("".concat(vt,"-nested-loading"),Ct)}),$t&&react.exports.createElement("div",{key:"loading"},Lt),react.exports.createElement("div",{className:Ft,key:"container"},nt.props.children))}return Lt};var at=tt.spinning,ot=tt.delay,it=shouldDelay(at,ot);return nt.state={spinning:at&&!it},nt.originalUpdateSpinning=nt.updateSpinning,nt.debouncifyUpdateSpinning(tt),nt}return _createClass$2(et,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var nt=this.updateSpinning;nt&&nt.cancel&&nt.cancel()}},{key:"isNestedPattern",value:function(){return!!(this.props&&typeof this.props.children!="undefined")}},{key:"render",value:function(){return react.exports.createElement(ConfigConsumer,null,this.renderSpin)}}]),et}(react.exports.Component);Spin.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var SpinFC=function(_e){var et=_e.prefixCls,tt=react.exports.useContext(ConfigContext),nt=tt.getPrefixCls,at=nt("spin",et),ot=_extends$2(_extends$2({},_e),{spinPrefixCls:at});return react.exports.createElement(Spin,_extends$2({},ot))};SpinFC.setDefaultIndicator=function($){defaultIndicator=$};var Spin$1=SpinFC;function ColumnGroup$1($){return null}function Column$1($){return null}var INTERNAL_KEY_PREFIX="RC_TABLE_KEY";function toArray$1($){return $==null?[]:Array.isArray($)?$:[$]}function getPathValue($,_e){if(!_e&&typeof _e!="number")return $;for(var et=toArray$1(_e),tt=$,nt=0;nt<et.length;nt+=1){if(!tt)return null;var at=et[nt];tt=tt[at]}return tt}function getColumnsKey($){var _e=[],et={};return $.forEach(function(tt){for(var nt=tt||{},at=nt.key,ot=nt.dataIndex,it=at||toArray$1(ot).join("-")||INTERNAL_KEY_PREFIX;et[it];)it="".concat(it,"_next");et[it]=!0,_e.push(it)}),_e}function validateValue($){return $!=null}var StickyContext=react.exports.createContext(!1);function createContext(){var $=react.exports.createContext(null),_e=function(tt){var nt=tt.value,at=tt.children,ot=react.exports.useRef(nt);ot.current=nt;var it=react.exports.useState(function(){return{getValue:function(){return ot.current},listeners:new Set}}),st=_slicedToArray$3(it,1),ut=st[0];return useLayoutEffect$1(function(){ut.listeners.forEach(function(ft){ft(nt)})},[nt]),react.exports.createElement($.Provider,{value:ut},at)};return{Context:$,Provider:_e}}function useContextSelector($,_e){var et=useEvent(_e),tt=react.exports.useContext($==null?void 0:$.Context),nt=tt||{},at=nt.listeners,ot=nt.getValue,it=react.exports.useState(function(){return et(tt?ot():null)}),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1];return useLayoutEffect$1(function(){if(!tt)return;function dt(vt){ft(function(gt){var yt=et(vt);return shallowequal(gt,yt)?gt:yt})}return at.add(dt),function(){at.delete(dt)}},[tt]),ut}var HoverContext=createContext(),BodyContext=react.exports.createContext(null),PerfContext=react.exports.createContext({renderWithProps:!1}),_excluded$7=["colSpan","rowSpan","style","className"];function inHoverRange($,_e,et,tt){var nt=$+_e-1;return $<=tt&&nt>=et}function isRenderCell($){return $&&_typeof$4($)==="object"&&!Array.isArray($)&&!react.exports.isValidElement($)}function isRefComponent($){return typeof $=="string"?!0:supportRef($)}var getTitleFromCellRenderChildren=function(_e){var et=_e.ellipsis,tt=_e.rowType,nt=_e.children,at,ot=et===!0?{showTitle:!0}:et;return ot&&(ot.showTitle||tt==="header")&&(typeof nt=="string"||typeof nt=="number"?at=nt.toString():react.exports.isValidElement(nt)&&typeof nt.props.children=="string"&&(at=nt.props.children)),at};function Cell($,_e){var et,tt,nt,at=$.prefixCls,ot=$.className,it=$.record,st=$.index,ut=$.renderIndex,ft=$.dataIndex,dt=$.render,vt=$.children,gt=$.component,yt=gt===void 0?"td":gt,xt=$.colSpan,Ct=$.rowSpan,wt=$.fixLeft,Et=$.fixRight,$t=$.firstFixLeft,It=$.lastFixLeft,Ot=$.firstFixRight,Lt=$.lastFixRight,Ft=$.appendNode,zt=$.additionalProps,Gt=zt===void 0?{}:zt,jt=$.ellipsis,Ut=$.align,Kt=$.rowType,Zt=$.isSticky,Qt=$.hovering,rr=$.onHover,nr="".concat(at,"-cell"),dr=react.exports.useContext(PerfContext),sr=react.exports.useContext(StickyContext),fr=react.exports.useContext(BodyContext),yr=fr.allColumnsFixedLeft,Pr=react.exports.useMemo(function(){if(validateValue(vt))return[vt];var vn=getPathValue(it,ft),$n=vn,Xn=void 0;if(dt){var no=dt(vn,it,ut);isRenderCell(no)?($n=no.children,Xn=no.props,dr.renderWithProps=!0):$n=no}return[$n,Xn]},[dr.renderWithProps?Math.random():0,vt,ft,dr,it,dt,ut]),wr=_slicedToArray$3(Pr,2),Mr=wr[0],Lr=wr[1],Br=Mr;_typeof$4(Br)==="object"&&!Array.isArray(Br)&&!react.exports.isValidElement(Br)&&(Br=null),jt&&(It||Ot)&&(Br=react.exports.createElement("span",{className:"".concat(nr,"-content")},Br));var qr=Lr||{},Qr=qr.colSpan,Jr=qr.rowSpan,sn=qr.style,yn=qr.className,pn=_objectWithoutProperties$1(qr,_excluded$7),ln=(et=Qr!==void 0?Qr:xt)!==null&&et!==void 0?et:1,Sn=(tt=Jr!==void 0?Jr:Ct)!==null&&tt!==void 0?tt:1;if(ln===0||Sn===0)return null;var cn={},Pn=typeof wt=="number"&&sr,In=typeof Et=="number"&&sr;Pn&&(cn.position="sticky",cn.left=wt),In&&(cn.position="sticky",cn.right=Et);var Rn={};Ut&&(Rn.textAlign=Ut);var Mn=function($n){var Xn;it&&rr(st,st+Sn-1),Gt==null||(Xn=Gt.onMouseEnter)===null||Xn===void 0||Xn.call(Gt,$n)},Fn=function($n){var Xn;it&&rr(-1,-1),Gt==null||(Xn=Gt.onMouseLeave)===null||Xn===void 0||Xn.call(Gt,$n)},Xr=getTitleFromCellRenderChildren({rowType:Kt,ellipsis:jt,children:Mr}),wn=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({title:Xr},pn),Gt),{},{colSpan:ln!==1?ln:null,rowSpan:Sn!==1?Sn:null,className:classNames(nr,ot,(nt={},_defineProperty$4(nt,"".concat(nr,"-fix-left"),Pn&&sr),_defineProperty$4(nt,"".concat(nr,"-fix-left-first"),$t&&sr),_defineProperty$4(nt,"".concat(nr,"-fix-left-last"),It&&sr),_defineProperty$4(nt,"".concat(nr,"-fix-left-all"),It&&yr&&sr),_defineProperty$4(nt,"".concat(nr,"-fix-right"),In&&sr),_defineProperty$4(nt,"".concat(nr,"-fix-right-first"),Ot&&sr),_defineProperty$4(nt,"".concat(nr,"-fix-right-last"),Lt&&sr),_defineProperty$4(nt,"".concat(nr,"-ellipsis"),jt),_defineProperty$4(nt,"".concat(nr,"-with-append"),Ft),_defineProperty$4(nt,"".concat(nr,"-fix-sticky"),(Pn||In)&&Zt&&sr),_defineProperty$4(nt,"".concat(nr,"-row-hover"),!Lr&&Qt),nt),Gt.className,yn),style:_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Gt.style),Rn),cn),sn),onMouseEnter:Mn,onMouseLeave:Fn,ref:isRefComponent(yt)?_e:null});return react.exports.createElement(yt,wn,Ft,Br)}var RefCell=react.exports.forwardRef(Cell);RefCell.displayName="Cell";var comparePropList=["expanded","className","hovering"],MemoCell=react.exports.memo(RefCell,function($,_e){return _e.shouldCellUpdate?comparePropList.every(function(et){return $[et]===_e[et]})&&!_e.shouldCellUpdate(_e.record,$.record):shallowequal($,_e)}),WrappedCell=react.exports.forwardRef(function($,_e){var et=$.index,tt=$.additionalProps,nt=tt===void 0?{}:tt,at=$.colSpan,ot=$.rowSpan,it=nt.colSpan,st=nt.rowSpan,ut=at!=null?at:it,ft=ot!=null?ot:st,dt=useContextSelector(HoverContext,function(yt){var xt=inHoverRange(et,ft||1,yt==null?void 0:yt.startRow,yt==null?void 0:yt.endRow);return{onHover:yt==null?void 0:yt.onHover,hovering:xt}}),vt=dt.onHover,gt=dt.hovering;return react.exports.createElement(MemoCell,_extends$2({},$,{colSpan:ut,rowSpan:ft,hovering:gt,ref:_e,onHover:vt}))});WrappedCell.displayName="WrappedCell";var TableContext=react.exports.createContext(null);function getCellFixedInfo($,_e,et,tt,nt){var at=et[$]||{},ot=et[_e]||{},it,st;at.fixed==="left"?it=tt.left[$]:ot.fixed==="right"&&(st=tt.right[_e]);var ut=!1,ft=!1,dt=!1,vt=!1,gt=et[_e+1],yt=et[$-1];if(nt==="rtl"){if(it!==void 0){var xt=yt&&yt.fixed==="left";vt=!xt}else if(st!==void 0){var Ct=gt&&gt.fixed==="right";dt=!Ct}}else if(it!==void 0){var wt=gt&&gt.fixed==="left";ut=!wt}else if(st!==void 0){var Et=yt&&yt.fixed==="right";ft=!Et}return{fixLeft:it,fixRight:st,lastFixLeft:ut,firstFixRight:ft,lastFixRight:dt,firstFixLeft:vt,isSticky:tt.isSticky}}function HeaderRow($){var _e=$.cells,et=$.stickyOffsets,tt=$.flattenColumns,nt=$.rowComponent,at=$.cellComponent,ot=$.onHeaderRow,it=$.index,st=react.exports.useContext(TableContext),ut=st.prefixCls,ft=st.direction,dt;ot&&(dt=ot(_e.map(function(gt){return gt.column}),it));var vt=getColumnsKey(_e.map(function(gt){return gt.column}));return react.exports.createElement(nt,dt,_e.map(function(gt,yt){var xt=gt.column,Ct=getCellFixedInfo(gt.colStart,gt.colEnd,tt,et,ft),wt;return xt&&xt.onHeaderCell&&(wt=gt.column.onHeaderCell(xt)),react.exports.createElement(WrappedCell,_extends$2({},gt,{ellipsis:xt.ellipsis,align:xt.align,component:at,prefixCls:ut,key:vt[yt]},Ct,{additionalProps:wt,rowType:"header"}))}))}HeaderRow.displayName="HeaderRow";function parseHeaderRows($){var _e=[];function et(ot,it){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;_e[st]=_e[st]||[];var ut=it,ft=ot.filter(Boolean).map(function(dt){var vt={key:dt.key,className:dt.className||"",children:dt.title,column:dt,colStart:ut},gt=1,yt=dt.children;return yt&&yt.length>0&&(gt=et(yt,ut,st+1).reduce(function(xt,Ct){return xt+Ct},0),vt.hasSubColumns=!0),"colSpan"in dt&&(gt=dt.colSpan),"rowSpan"in dt&&(vt.rowSpan=dt.rowSpan),vt.colSpan=gt,vt.colEnd=vt.colStart+gt-1,_e[st].push(vt),ut+=gt,gt});return ft}et($,0);for(var tt=_e.length,nt=function(it){_e[it].forEach(function(st){!("rowSpan"in st)&&!st.hasSubColumns&&(st.rowSpan=tt-it)})},at=0;at<tt;at+=1)nt(at);return _e}function Header($){var _e=$.stickyOffsets,et=$.columns,tt=$.flattenColumns,nt=$.onHeaderRow,at=react.exports.useContext(TableContext),ot=at.prefixCls,it=at.getComponent,st=react.exports.useMemo(function(){return parseHeaderRows(et)},[et]),ut=it(["header","wrapper"],"thead"),ft=it(["header","row"],"tr"),dt=it(["header","cell"],"th");return react.exports.createElement(ut,{className:"".concat(ot,"-thead")},st.map(function(vt,gt){var yt=react.exports.createElement(HeaderRow,{key:gt,flattenColumns:tt,cells:vt,stickyOffsets:_e,rowComponent:ft,cellComponent:dt,onHeaderRow:nt,index:gt});return yt}))}var ExpandedRowContext=react.exports.createContext(null);function ExpandedRow($){var _e=$.prefixCls,et=$.children,tt=$.component,nt=$.cellComponent,at=$.className,ot=$.expanded,it=$.colSpan,st=$.isEmpty,ut=react.exports.useContext(TableContext),ft=ut.scrollbarSize,dt=react.exports.useContext(ExpandedRowContext),vt=dt.fixHeader,gt=dt.fixColumn,yt=dt.componentWidth,xt=dt.horizonScroll;return react.exports.useMemo(function(){var Ct=et;return(st?xt:gt)&&(Ct=react.exports.createElement("div",{style:{width:yt-(vt?ft:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(_e,"-expanded-row-fixed")},yt!==0&&Ct)),react.exports.createElement(tt,{className:at,style:{display:ot?null:"none"}},react.exports.createElement(WrappedCell,{component:nt,prefixCls:_e,colSpan:it},Ct))},[et,tt,at,ot,it,st,ft,yt,gt,vt,xt])}var ResizeContext=react.exports.createContext(null);function BodyRow($){var _e=$.className,et=$.style,tt=$.record,nt=$.index,at=$.renderIndex,ot=$.rowKey,it=$.rowExpandable,st=$.expandedKeys,ut=$.onRow,ft=$.indent,dt=ft===void 0?0:ft,vt=$.rowComponent,gt=$.cellComponent,yt=$.childrenColumnName,xt=react.exports.useContext(TableContext),Ct=xt.prefixCls,wt=xt.fixedInfoList,Et=react.exports.useContext(BodyContext),$t=Et.flattenColumns,It=Et.expandableType,Ot=Et.expandRowByClick,Lt=Et.onTriggerExpand,Ft=Et.rowClassName,zt=Et.expandedRowClassName,Gt=Et.indentSize,jt=Et.expandIcon,Ut=Et.expandedRowRender,Kt=Et.expandIconColumnIndex,Zt=react.exports.useState(!1),Qt=_slicedToArray$3(Zt,2),rr=Qt[0],nr=Qt[1],dr=st&&st.has($.recordKey);react.exports.useEffect(function(){dr&&nr(!0)},[dr]);var sr=It==="row"&&(!it||it(tt)),fr=It==="nest",yr=yt&&tt&&tt[yt],Pr=sr||fr,wr=react.exports.useRef(Lt);wr.current=Lt;var Mr=function(){wr.current.apply(wr,arguments)},Lr=ut==null?void 0:ut(tt,nt),Br=function(Sn){var cn;Ot&&Pr&&Mr(tt,Sn);for(var Pn=arguments.length,In=new Array(Pn>1?Pn-1:0),Rn=1;Rn<Pn;Rn++)In[Rn-1]=arguments[Rn];Lr==null||(cn=Lr.onClick)===null||cn===void 0||cn.call.apply(cn,[Lr,Sn].concat(In))},qr;typeof Ft=="string"?qr=Ft:typeof Ft=="function"&&(qr=Ft(tt,nt,dt));var Qr=getColumnsKey($t),Jr=react.exports.createElement(vt,_extends$2({},Lr,{"data-row-key":ot,className:classNames(_e,"".concat(Ct,"-row"),"".concat(Ct,"-row-level-").concat(dt),qr,Lr&&Lr.className),style:_objectSpread2$1(_objectSpread2$1({},et),Lr?Lr.style:null),onClick:Br}),$t.map(function(ln,Sn){var cn=ln.render,Pn=ln.dataIndex,In=ln.className,Rn=Qr[Sn],Mn=wt[Sn],Fn;Sn===(Kt||0)&&fr&&(Fn=react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("span",{style:{paddingLeft:"".concat(Gt*dt,"px")},className:"".concat(Ct,"-row-indent indent-level-").concat(dt)}),jt({prefixCls:Ct,expanded:dr,expandable:yr,record:tt,onExpand:Mr})));var Xr;return ln.onCell&&(Xr=ln.onCell(tt,nt)),react.exports.createElement(WrappedCell,_extends$2({className:In,ellipsis:ln.ellipsis,align:ln.align,component:gt,prefixCls:Ct,key:Rn,record:tt,index:nt,renderIndex:at,dataIndex:Pn,render:cn,shouldCellUpdate:ln.shouldCellUpdate,expanded:Fn&&dr},Mn,{appendNode:Fn,additionalProps:Xr}))})),sn;if(sr&&(rr||dr)){var yn=Ut(tt,nt,dt+1,dr),pn=zt&&zt(tt,nt,dt);sn=react.exports.createElement(ExpandedRow,{expanded:dr,className:classNames("".concat(Ct,"-expanded-row"),"".concat(Ct,"-expanded-row-level-").concat(dt+1),pn),prefixCls:Ct,component:vt,cellComponent:gt,colSpan:$t.length,isEmpty:!1},yn)}return react.exports.createElement(react.exports.Fragment,null,Jr,sn)}BodyRow.displayName="BodyRow";function flatRecord($,_e,et,tt,nt,at){var ot=[];ot.push({record:$,indent:_e,index:at});var it=nt($),st=tt==null?void 0:tt.has(it);if($&&Array.isArray($[et])&&st)for(var ut=0;ut<$[et].length;ut+=1){var ft=flatRecord($[et][ut],_e+1,et,tt,nt,ut);ot.push.apply(ot,_toConsumableArray(ft))}return ot}function useFlattenRecords($,_e,et,tt){var nt=react.exports.useMemo(function(){if(et!=null&&et.size){for(var at=[],ot=0;ot<($==null?void 0:$.length);ot+=1){var it=$[ot];at.push.apply(at,_toConsumableArray(flatRecord(it,0,_e,et,tt,ot)))}return at}return $==null?void 0:$.map(function(st,ut){return{record:st,indent:0,index:ut}})},[$,_e,et,tt]);return nt}function MeasureCell($){var _e=$.columnKey,et=$.onColumnResize,tt=react.exports.useRef();return react.exports.useEffect(function(){tt.current&&et(_e,tt.current.offsetWidth)},[]),react.exports.createElement(ResizeObserver,{data:_e},react.exports.createElement("td",{ref:tt,style:{padding:0,border:0,height:0}},react.exports.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function MeasureRow($){var _e=$.prefixCls,et=$.columnsKey,tt=$.onColumnResize;return react.exports.createElement("tr",{"aria-hidden":"true",className:"".concat(_e,"-measure-row"),style:{height:0,fontSize:0}},react.exports.createElement(ResizeObserver.Collection,{onBatchResize:function(at){at.forEach(function(ot){var it=ot.data,st=ot.size;tt(it,st.offsetWidth)})}},et.map(function(nt){return react.exports.createElement(MeasureCell,{key:nt,columnKey:nt,onColumnResize:tt})})))}function Body($){var _e=$.data,et=$.getRowKey,tt=$.measureColumnWidth,nt=$.expandedKeys,at=$.onRow,ot=$.rowExpandable,it=$.emptyNode,st=$.childrenColumnName,ut=react.exports.useContext(ResizeContext),ft=ut.onColumnResize,dt=react.exports.useContext(TableContext),vt=dt.prefixCls,gt=dt.getComponent,yt=react.exports.useContext(BodyContext),xt=yt.flattenColumns,Ct=useFlattenRecords(_e,st,nt,et),wt=react.exports.useRef({renderWithProps:!1}),Et=react.exports.useState(-1),$t=_slicedToArray$3(Et,2),It=$t[0],Ot=$t[1],Lt=react.exports.useState(-1),Ft=_slicedToArray$3(Lt,2),zt=Ft[0],Gt=Ft[1],jt=react.exports.useCallback(function(Kt,Zt){Ot(Kt),Gt(Zt)},[]),Ut=react.exports.useMemo(function(){var Kt=gt(["body","wrapper"],"tbody"),Zt=gt(["body","row"],"tr"),Qt=gt(["body","cell"],"td"),rr;_e.length?rr=Ct.map(function(dr,sr){var fr=dr.record,yr=dr.indent,Pr=dr.index,wr=et(fr,sr);return react.exports.createElement(BodyRow,{key:wr,rowKey:wr,record:fr,recordKey:wr,index:sr,renderIndex:Pr,rowComponent:Zt,cellComponent:Qt,expandedKeys:nt,onRow:at,getRowKey:et,rowExpandable:ot,childrenColumnName:st,indent:yr})}):rr=react.exports.createElement(ExpandedRow,{expanded:!0,className:"".concat(vt,"-placeholder"),prefixCls:vt,component:Zt,cellComponent:Qt,colSpan:xt.length,isEmpty:!0},it);var nr=getColumnsKey(xt);return react.exports.createElement(Kt,{className:"".concat(vt,"-tbody")},tt&&react.exports.createElement(MeasureRow,{prefixCls:vt,columnsKey:nr,onColumnResize:ft}),rr)},[_e,vt,at,tt,nt,et,gt,it,xt,st,ft,ot,Ct]);return react.exports.createElement(PerfContext.Provider,{value:wt.current},react.exports.createElement(HoverContext.Provider,{value:{startRow:It,endRow:zt,onHover:jt}},Ut))}var MemoBody=react.exports.memo(Body);MemoBody.displayName="Body";var _excluded$6=["expandable"],INTERNAL_COL_DEFINE="RC_TABLE_INTERNAL_COL_DEFINE";function getExpandableProps($){var _e=$.expandable,et=_objectWithoutProperties$1($,_excluded$6),tt;return"expandable"in $?tt=_objectSpread2$1(_objectSpread2$1({},et),_e):tt=et,tt.showExpandColumn===!1&&(tt.expandIconColumnIndex=-1),tt}var EXPAND_COLUMN={},_excluded$5=["children"],_excluded2=["fixed"];function convertChildrenToColumns($){return toArray$5($).filter(function(_e){return react.exports.isValidElement(_e)}).map(function(_e){var et=_e.key,tt=_e.props,nt=tt.children,at=_objectWithoutProperties$1(tt,_excluded$5),ot=_objectSpread2$1({key:et},at);return nt&&(ot.children=convertChildrenToColumns(nt)),ot})}function flatColumns($){return $.reduce(function(_e,et){var tt=et.fixed,nt=tt===!0?"left":tt,at=et.children;return at&&at.length>0?[].concat(_toConsumableArray(_e),_toConsumableArray(flatColumns(at).map(function(ot){return _objectSpread2$1({fixed:nt},ot)}))):[].concat(_toConsumableArray(_e),[_objectSpread2$1(_objectSpread2$1({},et),{},{fixed:nt})])},[])}function revertForRtl($){return $.map(function(_e){var et=_e.fixed,tt=_objectWithoutProperties$1(_e,_excluded2),nt=et;return et==="left"?nt="right":et==="right"&&(nt="left"),_objectSpread2$1({fixed:nt},tt)})}function useColumns($,_e){var et=$.prefixCls,tt=$.columns,nt=$.children,at=$.expandable,ot=$.expandedKeys,it=$.getRowKey,st=$.onTriggerExpand,ut=$.expandIcon,ft=$.rowExpandable,dt=$.expandIconColumnIndex,vt=$.direction,gt=$.expandRowByClick,yt=$.columnWidth,xt=$.fixed,Ct=react.exports.useMemo(function(){return tt||convertChildrenToColumns(nt)},[tt,nt]),wt=react.exports.useMemo(function(){if(at){var It,Ot=Ct.slice();if(!Ot.includes(EXPAND_COLUMN)){var Lt=dt||0;Lt>=0&&Ot.splice(Lt,0,EXPAND_COLUMN)}var Ft=Ot.indexOf(EXPAND_COLUMN);Ot=Ot.filter(function(Ut,Kt){return Ut!==EXPAND_COLUMN||Kt===Ft});var zt=Ct[Ft],Gt;(xt==="left"||xt)&&!dt?Gt="left":(xt==="right"||xt)&&dt===Ct.length?Gt="right":Gt=zt?zt.fixed:null;var jt=(It={},_defineProperty$4(It,INTERNAL_COL_DEFINE,{className:"".concat(et,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),_defineProperty$4(It,"title",""),_defineProperty$4(It,"fixed",Gt),_defineProperty$4(It,"className","".concat(et,"-row-expand-icon-cell")),_defineProperty$4(It,"width",yt),_defineProperty$4(It,"render",function(Kt,Zt,Qt){var rr=it(Zt,Qt),nr=ot.has(rr),dr=ft?ft(Zt):!0,sr=ut({prefixCls:et,expanded:nr,expandable:dr,record:Zt,onExpand:st});return gt?react.exports.createElement("span",{onClick:function(yr){return yr.stopPropagation()}},sr):sr}),It);return Ot.map(function(Ut){return Ut===EXPAND_COLUMN?jt:Ut})}return Ct.filter(function(Ut){return Ut!==EXPAND_COLUMN})},[at,Ct,it,ot,ut,vt]),Et=react.exports.useMemo(function(){var It=wt;return _e&&(It=_e(It)),It.length||(It=[{render:function(){return null}}]),It},[_e,wt,vt]),$t=react.exports.useMemo(function(){return vt==="rtl"?revertForRtl(flatColumns(Et)):flatColumns(Et)},[Et,vt]);return[Et,$t]}function useLayoutState($){var _e=react.exports.useRef($),et=react.exports.useState({}),tt=_slicedToArray$3(et,2),nt=tt[1],at=react.exports.useRef(null),ot=react.exports.useRef([]);function it(st){ot.current.push(st);var ut=Promise.resolve();at.current=ut,ut.then(function(){if(at.current===ut){var ft=ot.current,dt=_e.current;ot.current=[],ft.forEach(function(vt){_e.current=vt(_e.current)}),at.current=null,dt!==_e.current&&nt({})}})}return react.exports.useEffect(function(){return function(){at.current=null}},[]),[_e.current,it]}function useTimeoutLock($){var _e=react.exports.useRef($||null),et=react.exports.useRef();function tt(){window.clearTimeout(et.current)}function nt(ot){_e.current=ot,tt(),et.current=window.setTimeout(function(){_e.current=null,et.current=void 0},100)}function at(){return _e.current}return react.exports.useEffect(function(){return tt},[]),[nt,at]}function useStickyOffsets($,_e,et){var tt=react.exports.useMemo(function(){for(var nt=[],at=[],ot=0,it=0,st=0;st<_e;st+=1)if(et==="rtl"){at[st]=it,it+=$[st]||0;var ut=_e-st-1;nt[ut]=ot,ot+=$[ut]||0}else{nt[st]=ot,ot+=$[st]||0;var ft=_e-st-1;at[ft]=it,it+=$[ft]||0}return{left:nt,right:at}},[$,_e,et]);return tt}var _excluded$4=["columnType"];function ColGroup($){for(var _e=$.colWidths,et=$.columns,tt=$.columCount,nt=[],at=tt||et.length,ot=!1,it=at-1;it>=0;it-=1){var st=_e[it],ut=et&&et[it],ft=ut&&ut[INTERNAL_COL_DEFINE];if(st||ft||ot){var dt=ft||{};dt.columnType;var vt=_objectWithoutProperties$1(dt,_excluded$4);nt.unshift(react.exports.createElement("col",_extends$2({key:it,style:{width:st}},vt))),ot=!0}}return react.exports.createElement("colgroup",null,nt)}function Panel($){var _e=$.className,et=$.children;return react.exports.createElement("div",{className:_e},et)}var SummaryContext=react.exports.createContext({});function SummaryCell($){var _e=$.className,et=$.index,tt=$.children,nt=$.colSpan,at=nt===void 0?1:nt,ot=$.rowSpan,it=$.align,st=react.exports.useContext(TableContext),ut=st.prefixCls,ft=st.direction,dt=react.exports.useContext(SummaryContext),vt=dt.scrollColumnIndex,gt=dt.stickyOffsets,yt=dt.flattenColumns,xt=et+at-1,Ct=xt+1===vt?at+1:at,wt=getCellFixedInfo(et,et+Ct-1,yt,gt,ft);return react.exports.createElement(WrappedCell,_extends$2({className:_e,index:et,component:"td",prefixCls:ut,record:null,dataIndex:null,align:it,colSpan:Ct,rowSpan:ot,render:function(){return tt}},wt))}var _excluded$3=["children"];function FooterRow($){var _e=$.children,et=_objectWithoutProperties$1($,_excluded$3);return react.exports.createElement("tr",et,_e)}function Summary($){var _e=$.children;return _e}Summary.Row=FooterRow;Summary.Cell=SummaryCell;function Footer($){var _e=$.children,et=$.stickyOffsets,tt=$.flattenColumns,nt=react.exports.useContext(TableContext),at=nt.prefixCls,ot=tt.length-1,it=tt[ot],st=react.exports.useMemo(function(){return{stickyOffsets:et,flattenColumns:tt,scrollColumnIndex:it!=null&&it.scrollbar?ot:null}},[it,tt,ot,et]);return react.exports.createElement(SummaryContext.Provider,{value:st},react.exports.createElement("tfoot",{className:"".concat(at,"-summary")},_e))}var FooterComponents=Summary;function renderExpandIcon$1($){var _e,et=$.prefixCls,tt=$.record,nt=$.onExpand,at=$.expanded,ot=$.expandable,it="".concat(et,"-row-expand-icon");if(!ot)return react.exports.createElement("span",{className:classNames(it,"".concat(et,"-row-spaced"))});var st=function(ft){nt(tt,ft),ft.stopPropagation()};return react.exports.createElement("span",{className:classNames(it,(_e={},_defineProperty$4(_e,"".concat(et,"-row-expanded"),at),_defineProperty$4(_e,"".concat(et,"-row-collapsed"),!at),_e)),onClick:st})}function findAllChildrenKeys($,_e,et){var tt=[];function nt(at){(at||[]).forEach(function(ot,it){tt.push(_e(ot,it)),nt(ot[et])})}return nt($),tt}var StickyScrollBar=function(_e,et){var tt,nt,at=_e.scrollBodyRef,ot=_e.onScroll,it=_e.offsetScroll,st=_e.container,ut=react.exports.useContext(TableContext),ft=ut.prefixCls,dt=((tt=at.current)===null||tt===void 0?void 0:tt.scrollWidth)||0,vt=((nt=at.current)===null||nt===void 0?void 0:nt.clientWidth)||0,gt=dt&&vt*(vt/dt),yt=react.exports.useRef(),xt=useLayoutState({scrollLeft:0,isHiddenScrollBar:!1}),Ct=_slicedToArray$3(xt,2),wt=Ct[0],Et=Ct[1],$t=react.exports.useRef({delta:0,x:0}),It=react.exports.useState(!1),Ot=_slicedToArray$3(It,2),Lt=Ot[0],Ft=Ot[1],zt=function(){Ft(!1)},Gt=function(Qt){Qt.persist(),$t.current.delta=Qt.pageX-wt.scrollLeft,$t.current.x=0,Ft(!0),Qt.preventDefault()},jt=function(Qt){var rr,nr=Qt||((rr=window)===null||rr===void 0?void 0:rr.event),dr=nr.buttons;if(!Lt||dr===0){Lt&&Ft(!1);return}var sr=$t.current.x+Qt.pageX-$t.current.x-$t.current.delta;sr<=0&&(sr=0),sr+gt>=vt&&(sr=vt-gt),ot({scrollLeft:sr/vt*(dt+2)}),$t.current.x=Qt.pageX},Ut=function(){if(!!at.current){var Qt=getOffset(at.current).top,rr=Qt+at.current.offsetHeight,nr=st===window?document.documentElement.scrollTop+window.innerHeight:getOffset(st).top+st.clientHeight;rr-getScrollBarSize()<=nr||Qt>=nr-it?Et(function(dr){return _objectSpread2$1(_objectSpread2$1({},dr),{},{isHiddenScrollBar:!0})}):Et(function(dr){return _objectSpread2$1(_objectSpread2$1({},dr),{},{isHiddenScrollBar:!1})})}},Kt=function(Qt){Et(function(rr){return _objectSpread2$1(_objectSpread2$1({},rr),{},{scrollLeft:Qt/dt*vt||0})})};return react.exports.useImperativeHandle(et,function(){return{setScrollLeft:Kt}}),react.exports.useEffect(function(){var Zt=addEventListenerWrap(document.body,"mouseup",zt,!1),Qt=addEventListenerWrap(document.body,"mousemove",jt,!1);return Ut(),function(){Zt.remove(),Qt.remove()}},[gt,Lt]),react.exports.useEffect(function(){var Zt=addEventListenerWrap(st,"scroll",Ut,!1),Qt=addEventListenerWrap(window,"resize",Ut,!1);return function(){Zt.remove(),Qt.remove()}},[st]),react.exports.useEffect(function(){wt.isHiddenScrollBar||Et(function(Zt){var Qt=at.current;return Qt?_objectSpread2$1(_objectSpread2$1({},Zt),{},{scrollLeft:Qt.scrollLeft/Qt.scrollWidth*Qt.clientWidth}):Zt})},[wt.isHiddenScrollBar]),dt<=vt||!gt||wt.isHiddenScrollBar?null:react.exports.createElement("div",{style:{height:getScrollBarSize(),width:vt,bottom:it},className:"".concat(ft,"-sticky-scroll")},react.exports.createElement("div",{onMouseDown:Gt,ref:yt,className:classNames("".concat(ft,"-sticky-scroll-bar"),_defineProperty$4({},"".concat(ft,"-sticky-scroll-bar-active"),Lt)),style:{width:"".concat(gt,"px"),transform:"translate3d(".concat(wt.scrollLeft,"px, 0, 0)")}}))},StickyScrollBar$1=react.exports.forwardRef(StickyScrollBar),defaultContainer=canUseDom()?window:null;function useSticky($,_e){var et=_typeof$4($)==="object"?$:{},tt=et.offsetHeader,nt=tt===void 0?0:tt,at=et.offsetSummary,ot=at===void 0?0:at,it=et.offsetScroll,st=it===void 0?0:it,ut=et.getContainer,ft=ut===void 0?function(){return defaultContainer}:ut,dt=ft()||defaultContainer;return react.exports.useMemo(function(){var vt=!!$;return{isSticky:vt,stickyClassName:vt?"".concat(_e,"-sticky-holder"):"",offsetHeader:nt,offsetSummary:ot,offsetScroll:st,container:dt}},[st,nt,ot,_e,dt])}var _excluded$2=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function useColumnWidth($,_e){return react.exports.useMemo(function(){for(var et=[],tt=0;tt<_e;tt+=1){var nt=$[tt];if(nt!==void 0)et[tt]=nt;else return null}return et},[$.join("_"),_e])}var FixedHolder=react.exports.forwardRef(function($,_e){var et=$.className,tt=$.noData,nt=$.columns,at=$.flattenColumns,ot=$.colWidths,it=$.columCount,st=$.stickyOffsets,ut=$.direction,ft=$.fixHeader,dt=$.stickyTopOffset,vt=$.stickyBottomOffset,gt=$.stickyClassName,yt=$.onScroll,xt=$.maxContentScroll,Ct=$.children,wt=_objectWithoutProperties$1($,_excluded$2),Et=react.exports.useContext(TableContext),$t=Et.prefixCls,It=Et.scrollbarSize,Ot=Et.isSticky,Lt=Ot&&!ft?0:It,Ft=react.exports.useRef(null),zt=react.exports.useCallback(function(nr){fillRef(_e,nr),fillRef(Ft,nr)},[]);react.exports.useEffect(function(){var nr;function dr(sr){var fr=sr.currentTarget,yr=sr.deltaX;yr&&(yt({currentTarget:fr,scrollLeft:fr.scrollLeft+yr}),sr.preventDefault())}return(nr=Ft.current)===null||nr===void 0||nr.addEventListener("wheel",dr),function(){var sr;(sr=Ft.current)===null||sr===void 0||sr.removeEventListener("wheel",dr)}},[]);var Gt=react.exports.useMemo(function(){return at.every(function(nr){return nr.width>=0})},[at]),jt=at[at.length-1],Ut={fixed:jt?jt.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat($t,"-cell-scrollbar")}}},Kt=react.exports.useMemo(function(){return Lt?[].concat(_toConsumableArray(nt),[Ut]):nt},[Lt,nt]),Zt=react.exports.useMemo(function(){return Lt?[].concat(_toConsumableArray(at),[Ut]):at},[Lt,at]),Qt=react.exports.useMemo(function(){var nr=st.right,dr=st.left;return _objectSpread2$1(_objectSpread2$1({},st),{},{left:ut==="rtl"?[].concat(_toConsumableArray(dr.map(function(sr){return sr+Lt})),[0]):dr,right:ut==="rtl"?nr:[].concat(_toConsumableArray(nr.map(function(sr){return sr+Lt})),[0]),isSticky:Ot})},[Lt,st,Ot]),rr=useColumnWidth(ot,it);return react.exports.createElement("div",{style:_objectSpread2$1({overflow:"hidden"},Ot?{top:dt,bottom:vt}:{}),ref:zt,className:classNames(et,_defineProperty$4({},gt,!!gt))},react.exports.createElement("table",{style:{tableLayout:"fixed",visibility:tt||rr?null:"hidden"}},(!tt||!xt||Gt)&&react.exports.createElement(ColGroup,{colWidths:rr?[].concat(_toConsumableArray(rr),[Lt]):[],columCount:it+1,columns:Zt}),Ct(_objectSpread2$1(_objectSpread2$1({},wt),{},{stickyOffsets:Qt,columns:Kt,flattenColumns:Zt}))))});FixedHolder.displayName="FixedHolder";var EMPTY_DATA=[],EMPTY_SCROLL_TARGET={},INTERNAL_HOOKS="rc-table-internal-hook",MemoTableContent=react.exports.memo(function($){var _e=$.children;return _e},function($,_e){return shallowequal($.props,_e.props)?$.pingLeft!==_e.pingLeft||$.pingRight!==_e.pingRight:!1});function Table$2($){var _e,et=$.prefixCls,tt=$.className,nt=$.rowClassName,at=$.style,ot=$.data,it=$.rowKey,st=$.scroll,ut=$.tableLayout,ft=$.direction,dt=$.title,vt=$.footer,gt=$.summary,yt=$.id,xt=$.showHeader,Ct=$.components,wt=$.emptyText,Et=$.onRow,$t=$.onHeaderRow,It=$.internalHooks,Ot=$.transformColumns,Lt=$.internalRefs,Ft=$.sticky,zt=ot||EMPTY_DATA,Gt=!!zt.length,jt=react.exports.useCallback(function(wo,$o){return getPathValue(Ct||{},wo)||$o},[Ct]),Ut=react.exports.useMemo(function(){return typeof it=="function"?it:function(wo){var $o=wo&&wo[it];return $o}},[it]),Kt=getExpandableProps($),Zt=Kt.expandIcon,Qt=Kt.expandedRowKeys,rr=Kt.defaultExpandedRowKeys,nr=Kt.defaultExpandAllRows,dr=Kt.expandedRowRender,sr=Kt.onExpand,fr=Kt.onExpandedRowsChange,yr=Kt.expandRowByClick,Pr=Kt.rowExpandable,wr=Kt.expandIconColumnIndex,Mr=Kt.expandedRowClassName,Lr=Kt.childrenColumnName,Br=Kt.indentSize,qr=Zt||renderExpandIcon$1,Qr=Lr||"children",Jr=react.exports.useMemo(function(){return dr?"row":$.expandable&&It===INTERNAL_HOOKS&&$.expandable.__PARENT_RENDER_ICON__||zt.some(function(wo){return wo&&_typeof$4(wo)==="object"&&wo[Qr]})?"nest":!1},[!!dr,zt]),sn=react.exports.useState(function(){return rr||(nr?findAllChildrenKeys(zt,Ut,Qr):[])}),yn=_slicedToArray$3(sn,2),pn=yn[0],ln=yn[1],Sn=react.exports.useMemo(function(){return new Set(Qt||pn||[])},[Qt,pn]),cn=react.exports.useCallback(function(wo){var $o=Ut(wo,zt.indexOf(wo)),ls,Ks=Sn.has($o);Ks?(Sn.delete($o),ls=_toConsumableArray(Sn)):ls=[].concat(_toConsumableArray(Sn),[$o]),ln(ls),sr&&sr(!Ks,wo),fr&&fr(ls)},[Ut,Sn,zt,sr,fr]),Pn=react.exports.useState(0),In=_slicedToArray$3(Pn,2),Rn=In[0],Mn=In[1],Fn=useColumns(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},$),Kt),{},{expandable:!!dr,expandedKeys:Sn,getRowKey:Ut,onTriggerExpand:cn,expandIcon:qr,expandIconColumnIndex:wr,direction:ft}),It===INTERNAL_HOOKS?Ot:null),Xr=_slicedToArray$3(Fn,2),wn=Xr[0],vn=Xr[1],$n=react.exports.useMemo(function(){return{columns:wn,flattenColumns:vn}},[wn,vn]),Xn=react.exports.useRef(),no=react.exports.useRef(),zn=react.exports.useRef(),so=react.exports.useRef(),vo=react.exports.useRef(),Eo=react.exports.useState(!1),To=_slicedToArray$3(Eo,2),Io=To[0],$a=To[1],mo=react.exports.useState(!1),Po=_slicedToArray$3(mo,2),Ro=Po[0],Vo=Po[1],Oo=useLayoutState(new Map),Wo=_slicedToArray$3(Oo,2),os=Wo[0],hs=Wo[1],Uo=getColumnsKey(vn),Zo=Uo.map(function(wo){return os.get(wo)}),Lo=react.exports.useMemo(function(){return Zo},[Zo.join("_")]),cs=useStickyOffsets(Lo,vn.length,ft),ba=st&&validateValue(st.y),lo=st&&validateValue(st.x)||Boolean(Kt.fixed),Bn=lo&&vn.some(function(wo){var $o=wo.fixed;return $o}),ur=react.exports.useRef(),tr=useSticky(Ft,et),or=tr.isSticky,gr=tr.offsetHeader,Er=tr.offsetSummary,zr=tr.offsetScroll,Kr=tr.stickyClassName,Hr=tr.container,Or=gt==null?void 0:gt(zt),Zr=(ba||or)&&react.exports.isValidElement(Or)&&Or.type===Summary&&Or.props.fixed,En,Gn,Cn;ba&&(Gn={overflowY:"scroll",maxHeight:st.y}),lo&&(En={overflowX:"auto"},ba||(Gn={overflowY:"hidden"}),Cn={width:(st==null?void 0:st.x)===!0?"auto":st==null?void 0:st.x,minWidth:"100%"});var ga=react.exports.useCallback(function(wo,$o){isVisible(Xn.current)&&hs(function(ls){if(ls.get(wo)!==$o){var Ks=new Map(ls);return Ks.set(wo,$o),Ks}return ls})},[]),uo=useTimeoutLock(null),_i=_slicedToArray$3(uo,2),co=_i[0],Vn=_i[1];function qn(wo,$o){!$o||(typeof $o=="function"?$o(wo):$o.scrollLeft!==wo&&($o.scrollLeft=wo))}var oo=function($o){var ls=$o.currentTarget,Ks=$o.scrollLeft,js=ft==="rtl",Is=typeof Ks=="number"?Ks:ls.scrollLeft,wu=ls||EMPTY_SCROLL_TARGET;if(!Vn()||Vn()===wu){var au;co(wu),qn(Is,no.current),qn(Is,zn.current),qn(Is,vo.current),qn(Is,(au=ur.current)===null||au===void 0?void 0:au.setScrollLeft)}if(ls){var gs=ls.scrollWidth,Fl=ls.clientWidth;if(gs===Fl){$a(!1),Vo(!1);return}js?($a(-Is<gs-Fl),Vo(-Is>0)):($a(Is>0),Vo(Is<gs-Fl))}},bo=function(){lo&&zn.current?oo({currentTarget:zn.current}):($a(!1),Vo(!1))},Ur=function($o){var ls=$o.width;ls!==Rn&&(bo(),Mn(Xn.current?Xn.current.offsetWidth:ls))},ss=react.exports.useRef(!1);react.exports.useEffect(function(){ss.current&&bo()},[lo,ot,wn.length]),react.exports.useEffect(function(){ss.current=!0},[]);var Ho=react.exports.useState(0),Xo=_slicedToArray$3(Ho,2),Ws=Xo[0],Cs=Xo[1],Al=react.exports.useState(!0),Ol=_slicedToArray$3(Al,2),ts=Ol[0],Nn=Ol[1];react.exports.useEffect(function(){zn.current instanceof Element?Cs(getTargetScrollBarSize(zn.current).width):Cs(getTargetScrollBarSize(so.current).width),Nn(isStyleSupport("position","sticky"))},[]),react.exports.useEffect(function(){It===INTERNAL_HOOKS&&Lt&&(Lt.body.current=zn.current)});var fo=jt(["table"],"table"),Hn=react.exports.useMemo(function(){return ut||(Bn?(st==null?void 0:st.x)==="max-content"?"auto":"fixed":ba||or||vn.some(function(wo){var $o=wo.ellipsis;return $o})?"fixed":"auto")},[ba,Bn,vn,ut,or]),ho,Qo={colWidths:Lo,columCount:vn.length,stickyOffsets:cs,onHeaderRow:$t,fixHeader:ba,scroll:st},po=react.exports.useMemo(function(){return Gt?null:typeof wt=="function"?wt():wt},[Gt,wt]),Jo=react.exports.createElement(MemoBody,{data:zt,measureColumnWidth:ba||lo||or,expandedKeys:Sn,rowExpandable:Pr,getRowKey:Ut,onRow:Et,emptyNode:po,childrenColumnName:Qr}),As=react.exports.createElement(ColGroup,{colWidths:vn.map(function(wo){var $o=wo.width;return $o}),columns:vn}),Ls=jt(["body"]);if(ba||or){var Ms;typeof Ls=="function"?(Ms=Ls(zt,{scrollbarSize:Ws,ref:zn,onScroll:oo}),Qo.colWidths=vn.map(function(wo,$o){var ls=wo.width,Ks=$o===wn.length-1?ls-Ws:ls;return typeof Ks=="number"&&!Number.isNaN(Ks)?Ks:(warningOnce(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):Ms=react.exports.createElement("div",{style:_objectSpread2$1(_objectSpread2$1({},En),Gn),onScroll:oo,ref:zn,className:classNames("".concat(et,"-body"))},react.exports.createElement(fo,{style:_objectSpread2$1(_objectSpread2$1({},Cn),{},{tableLayout:Hn})},As,Jo,!Zr&&Or&&react.exports.createElement(Footer,{stickyOffsets:cs,flattenColumns:vn},Or)));var Ko=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({noData:!zt.length,maxContentScroll:lo&&st.x==="max-content"},Qo),$n),{},{direction:ft,stickyClassName:Kr,onScroll:oo});ho=react.exports.createElement(react.exports.Fragment,null,xt!==!1&&react.exports.createElement(FixedHolder,_extends$2({},Ko,{stickyTopOffset:gr,className:"".concat(et,"-header"),ref:no}),function(wo){return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Header,wo),Zr==="top"&&react.exports.createElement(Footer,wo,Or))}),Ms,Zr&&Zr!=="top"&&react.exports.createElement(FixedHolder,_extends$2({},Ko,{stickyBottomOffset:Er,className:"".concat(et,"-summary"),ref:vo}),function(wo){return react.exports.createElement(Footer,wo,Or)}),or&&react.exports.createElement(StickyScrollBar$1,{ref:ur,offsetScroll:zr,scrollBodyRef:zn,onScroll:oo,container:Hr}))}else ho=react.exports.createElement("div",{style:_objectSpread2$1(_objectSpread2$1({},En),Gn),className:classNames("".concat(et,"-content")),onScroll:oo,ref:zn},react.exports.createElement(fo,{style:_objectSpread2$1(_objectSpread2$1({},Cn),{},{tableLayout:Hn})},As,xt!==!1&&react.exports.createElement(Header,_extends$2({},Qo,$n)),Jo,Or&&react.exports.createElement(Footer,{stickyOffsets:cs,flattenColumns:vn},Or)));var Nl=pickAttrs($,{aria:!0,data:!0}),zs=react.exports.createElement("div",_extends$2({className:classNames(et,tt,(_e={},_defineProperty$4(_e,"".concat(et,"-rtl"),ft==="rtl"),_defineProperty$4(_e,"".concat(et,"-ping-left"),Io),_defineProperty$4(_e,"".concat(et,"-ping-right"),Ro),_defineProperty$4(_e,"".concat(et,"-layout-fixed"),ut==="fixed"),_defineProperty$4(_e,"".concat(et,"-fixed-header"),ba),_defineProperty$4(_e,"".concat(et,"-fixed-column"),Bn),_defineProperty$4(_e,"".concat(et,"-scroll-horizontal"),lo),_defineProperty$4(_e,"".concat(et,"-has-fix-left"),vn[0]&&vn[0].fixed),_defineProperty$4(_e,"".concat(et,"-has-fix-right"),vn[vn.length-1]&&vn[vn.length-1].fixed==="right"),_e)),style:at,id:yt,ref:Xn},Nl),react.exports.createElement(MemoTableContent,{pingLeft:Io,pingRight:Ro,props:_objectSpread2$1(_objectSpread2$1({},$),{},{stickyOffsets:cs,mergedExpandedKeys:Sn})},dt&&react.exports.createElement(Panel,{className:"".concat(et,"-title")},dt(zt)),react.exports.createElement("div",{ref:so,className:"".concat(et,"-container")},ho),vt&&react.exports.createElement(Panel,{className:"".concat(et,"-footer")},vt(zt))));lo&&(zs=react.exports.createElement(ResizeObserver,{onResize:Ur},zs));var ru=react.exports.useMemo(function(){return{prefixCls:et,getComponent:jt,scrollbarSize:Ws,direction:ft,fixedInfoList:vn.map(function(wo,$o){return getCellFixedInfo($o,$o,vn,cs,ft)}),isSticky:or}},[et,jt,Ws,ft,vn,cs,or]),nu=react.exports.useMemo(function(){return _objectSpread2$1(_objectSpread2$1({},$n),{},{tableLayout:Hn,rowClassName:nt,expandedRowClassName:Mr,expandIcon:qr,expandableType:Jr,expandRowByClick:yr,expandedRowRender:dr,onTriggerExpand:cn,expandIconColumnIndex:wr,indentSize:Br,allColumnsFixedLeft:$n.flattenColumns.every(function(wo){return wo.fixed==="left"})})},[$n,Hn,nt,Mr,qr,Jr,yr,dr,cn,wr,Br]),du=react.exports.useMemo(function(){return{componentWidth:Rn,fixHeader:ba,fixColumn:Bn,horizonScroll:lo}},[Rn,ba,Bn,lo]),xp=react.exports.useMemo(function(){return{onColumnResize:ga}},[ga]);return react.exports.createElement(StickyContext.Provider,{value:ts},react.exports.createElement(TableContext.Provider,{value:ru},react.exports.createElement(BodyContext.Provider,{value:nu},react.exports.createElement(ExpandedRowContext.Provider,{value:du},react.exports.createElement(ResizeContext.Provider,{value:xp},zs)))))}Table$2.EXPAND_COLUMN=EXPAND_COLUMN;Table$2.Column=Column$1;Table$2.ColumnGroup=ColumnGroup$1;Table$2.Summary=FooterComponents;Table$2.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};function Column($){return null}function ColumnGroup($){return null}function renderExpandIcon($){return function(et){var tt,nt=et.prefixCls,at=et.onExpand,ot=et.record,it=et.expanded,st=et.expandable,ut="".concat(nt,"-row-expand-icon");return react.exports.createElement("button",{type:"button",onClick:function(dt){at(ot,dt),dt.stopPropagation()},className:classNames(ut,(tt={},_defineProperty$4(tt,"".concat(ut,"-spaced"),!st),_defineProperty$4(tt,"".concat(ut,"-expanded"),st&&it),_defineProperty$4(tt,"".concat(ut,"-collapsed"),st&&!it),tt)),"aria-label":it?$.collapse:$.expand})}}function getColumnKey($,_e){return"key"in $&&$.key!==void 0&&$.key!==null?$.key:$.dataIndex?Array.isArray($.dataIndex)?$.dataIndex.join("."):$.dataIndex:_e}function getColumnPos($,_e){return _e?"".concat(_e,"-").concat($):"".concat($)}function renderColumnTitle($,_e){return typeof $=="function"?$(_e):$}var FilterFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},FilterFilledSvg=FilterFilled$2,FilterFilled=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:FilterFilledSvg}))};FilterFilled.displayName="FilterFilled";var FilterFilled$1=react.exports.forwardRef(FilterFilled),HolderOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},HolderOutlinedSvg=HolderOutlined$2,HolderOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:HolderOutlinedSvg}))};HolderOutlined.displayName="HolderOutlined";var HolderOutlined$1=react.exports.forwardRef(HolderOutlined),_excluded$1=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],MotionTreeNode=function(_e,et){var tt=_e.className,nt=_e.style,at=_e.motion,ot=_e.motionNodes,it=_e.motionType,st=_e.onMotionStart,ut=_e.onMotionEnd,ft=_e.active,dt=_e.treeNodeRequiredProps,vt=_objectWithoutProperties$1(_e,_excluded$1),gt=react.exports.useState(!0),yt=_slicedToArray$3(gt,2),xt=yt[0],Ct=yt[1],wt=react.exports.useContext(TreeContext),Et=wt.prefixCls,$t=react.exports.useRef(!1),It=function(){$t.current||ut(),$t.current=!0};return react.exports.useEffect(function(){ot&&it==="hide"&&xt&&Ct(!1)},[ot]),react.exports.useEffect(function(){return ot&&st(),function(){ot&&It()}},[]),ot?react.exports.createElement(CSSMotion,_extends$2({ref:et,visible:xt},at,{motionAppear:it==="show",onAppearEnd:It,onLeaveEnd:It}),function(Ot,Lt){var Ft=Ot.className,zt=Ot.style;return react.exports.createElement("div",{ref:Lt,className:classNames("".concat(Et,"-treenode-motion"),Ft),style:zt},ot.map(function(Gt){var jt=_extends$2({},Gt.data),Ut=Gt.title,Kt=Gt.key,Zt=Gt.isStart,Qt=Gt.isEnd;delete jt.children;var rr=getTreeNodeProps(Kt,dt);return react.exports.createElement(ContextTreeNode,_extends$2({},jt,rr,{title:Ut,active:ft,data:Gt.data,key:Kt,isStart:Zt,isEnd:Qt}))}))}):react.exports.createElement(ContextTreeNode,_extends$2({domRef:et,className:tt,style:nt},vt,{active:ft}))};MotionTreeNode.displayName="MotionTreeNode";var RefMotionTreeNode=react.exports.forwardRef(MotionTreeNode);function findExpandedKeys(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],et=$.length,tt=_e.length;if(Math.abs(et-tt)!==1)return{add:!1,key:null};function nt(at,ot){var it=new Map;at.forEach(function(ut){it.set(ut,!0)});var st=ot.filter(function(ut){return!it.has(ut)});return st.length===1?st[0]:null}return et<tt?{add:!0,key:nt($,_e)}:{add:!1,key:nt(_e,$)}}function getExpandRange($,_e,et){var tt=$.findIndex(function(it){return it.key===et}),nt=$[tt+1],at=_e.findIndex(function(it){return it.key===et});if(nt){var ot=_e.findIndex(function(it){return it.key===nt.key});return _e.slice(at+1,ot)}return _e.slice(at+1)}var _excluded=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},noop$1=function(){},MOTION_KEY="RC_TREE_MOTION_".concat(Math.random()),MotionNode={key:MOTION_KEY},MotionEntity={key:MOTION_KEY,level:0,index:0,pos:"0",node:MotionNode,nodes:[MotionNode]},MotionFlattenData={parent:null,children:[],pos:MotionEntity.pos,data:MotionNode,title:null,key:MOTION_KEY,isStart:[],isEnd:[]};function getMinimumRangeTransitionRange($,_e,et,tt){return _e===!1||!et?$:$.slice(0,Math.ceil(et/tt)+1)}function itemKey($){var _e=$.key,et=$.pos;return getKey$1(_e,et)}function getAccessibilityPath($){for(var _e=String($.data.key),et=$;et.parent;)et=et.parent,_e="".concat(et.data.key," > ").concat(_e);return _e}var NodeList=react.exports.forwardRef(function($,_e){var et=$.prefixCls,tt=$.data;$.selectable,$.checkable;var nt=$.expandedKeys,at=$.selectedKeys,ot=$.checkedKeys,it=$.loadedKeys,st=$.loadingKeys,ut=$.halfCheckedKeys,ft=$.keyEntities,dt=$.disabled,vt=$.dragging,gt=$.dragOverNodeKey,yt=$.dropPosition,xt=$.motion,Ct=$.height,wt=$.itemHeight,Et=$.virtual,$t=$.focusable,It=$.activeItem,Ot=$.focused,Lt=$.tabIndex,Ft=$.onKeyDown,zt=$.onFocus,Gt=$.onBlur,jt=$.onActiveChange,Ut=$.onListChangeStart,Kt=$.onListChangeEnd,Zt=_objectWithoutProperties$1($,_excluded),Qt=react.exports.useRef(null),rr=react.exports.useRef(null);react.exports.useImperativeHandle(_e,function(){return{scrollTo:function(wn){Qt.current.scrollTo(wn)},getIndentWidth:function(){return rr.current.offsetWidth}}});var nr=react.exports.useState(nt),dr=_slicedToArray$3(nr,2),sr=dr[0],fr=dr[1],yr=react.exports.useState(tt),Pr=_slicedToArray$3(yr,2),wr=Pr[0],Mr=Pr[1],Lr=react.exports.useState(tt),Br=_slicedToArray$3(Lr,2),qr=Br[0],Qr=Br[1],Jr=react.exports.useState([]),sn=_slicedToArray$3(Jr,2),yn=sn[0],pn=sn[1],ln=react.exports.useState(null),Sn=_slicedToArray$3(ln,2),cn=Sn[0],Pn=Sn[1],In=react.exports.useRef(tt);In.current=tt;function Rn(){var Xr=In.current;Mr(Xr),Qr(Xr),pn([]),Pn(null),Kt()}react.exports.useEffect(function(){fr(nt);var Xr=findExpandedKeys(sr,nt);if(Xr.key!==null)if(Xr.add){var wn=wr.findIndex(function(so){var vo=so.key;return vo===Xr.key}),vn=getMinimumRangeTransitionRange(getExpandRange(wr,tt,Xr.key),Et,Ct,wt),$n=wr.slice();$n.splice(wn+1,0,MotionFlattenData),Qr($n),pn(vn),Pn("show")}else{var Xn=tt.findIndex(function(so){var vo=so.key;return vo===Xr.key}),no=getMinimumRangeTransitionRange(getExpandRange(tt,wr,Xr.key),Et,Ct,wt),zn=tt.slice();zn.splice(Xn+1,0,MotionFlattenData),Qr(zn),pn(no),Pn("hide")}else wr!==tt&&(Mr(tt),Qr(tt))},[nt,tt]),react.exports.useEffect(function(){vt||Rn()},[vt]);var Mn=xt?qr:tt,Fn={expandedKeys:nt,selectedKeys:at,loadedKeys:it,loadingKeys:st,checkedKeys:ot,halfCheckedKeys:ut,dragOverNodeKey:gt,dropPosition:yt,keyEntities:ft};return react.exports.createElement(react.exports.Fragment,null,Ot&&It&&react.exports.createElement("span",{style:HIDDEN_STYLE,"aria-live":"assertive"},getAccessibilityPath(It)),react.exports.createElement("div",null,react.exports.createElement("input",{style:HIDDEN_STYLE,disabled:$t===!1||dt,tabIndex:$t!==!1?Lt:null,onKeyDown:Ft,onFocus:zt,onBlur:Gt,value:"",onChange:noop$1,"aria-label":"for screen reader"})),react.exports.createElement("div",{className:"".concat(et,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},react.exports.createElement("div",{className:"".concat(et,"-indent")},react.exports.createElement("div",{ref:rr,className:"".concat(et,"-indent-unit")}))),react.exports.createElement(List$1,_extends$2({},Zt,{data:Mn,itemKey,height:Ct,fullHeight:!1,virtual:Et,itemHeight:wt,prefixCls:"".concat(et,"-list"),ref:Qt,onVisibleChange:function(wn,vn){var $n=new Set(wn),Xn=vn.filter(function(no){return!$n.has(no)});Xn.some(function(no){return itemKey(no)===MOTION_KEY})&&Rn()}}),function(Xr){var wn=Xr.pos,vn=_extends$2({},Xr.data),$n=Xr.title,Xn=Xr.key,no=Xr.isStart,zn=Xr.isEnd,so=getKey$1(Xn,wn);delete vn.key,delete vn.children;var vo=getTreeNodeProps(so,Fn);return react.exports.createElement(RefMotionTreeNode,_extends$2({},vn,vo,{title:$n,active:!!It&&Xn===It.key,pos:wn,data:Xr.data,isStart:no,isEnd:zn,motion:xt,motionNodes:Xn===MOTION_KEY?yn:null,motionType:cn,onMotionStart:Ut,onMotionEnd:Rn,treeNodeRequiredProps:Fn,onMouseMove:function(){jt(null)}}))}))});NodeList.displayName="NodeList";function DropIndicator($){var _e=$.dropPosition,et=$.dropLevelOffset,tt=$.indent,nt={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(_e){case-1:nt.top=0,nt.left=-et*tt;break;case 1:nt.bottom=0,nt.left=-et*tt;break;case 0:nt.bottom=0,nt.left=tt;break}return react.exports.createElement("div",{style:nt})}var MAX_RETRY_TIMES=10,Tree$4=function($){_inherits$1(et,$);var _e=_createSuper$1(et);function et(){var tt;_classCallCheck$2(this,et);for(var nt=arguments.length,at=new Array(nt),ot=0;ot<nt;ot++)at[ot]=arguments[ot];return tt=_e.call.apply(_e,[this].concat(at)),tt.destroyed=!1,tt.delayedDragEnterLogic=void 0,tt.loadingRetryTimes={},tt.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:fillFieldNames()},tt.dragStartMousePosition=null,tt.dragNode=void 0,tt.currentMouseOverDroppableNodeKey=null,tt.listRef=react.exports.createRef(),tt.onNodeDragStart=function(it,st){var ut=tt.state,ft=ut.expandedKeys,dt=ut.keyEntities,vt=tt.props.onDragStart,gt=st.props.eventKey;tt.dragNode=st,tt.dragStartMousePosition={x:it.clientX,y:it.clientY};var yt=arrDel(ft,gt);tt.setState({draggingNodeKey:gt,dragChildrenKeys:getDragChildrenKeys(gt,dt),indent:tt.listRef.current.getIndentWidth()}),tt.setExpandedKeys(yt),window.addEventListener("dragend",tt.onWindowDragEnd),vt==null||vt({event:it,node:convertNodePropsToEventData(st.props)})},tt.onNodeDragEnter=function(it,st){var ut=tt.state,ft=ut.expandedKeys,dt=ut.keyEntities,vt=ut.dragChildrenKeys,gt=ut.flattenNodes,yt=ut.indent,xt=tt.props,Ct=xt.onDragEnter,wt=xt.onExpand,Et=xt.allowDrop,$t=xt.direction,It=st.props,Ot=It.pos,Lt=It.eventKey,Ft=_assertThisInitialized$1(tt),zt=Ft.dragNode;if(tt.currentMouseOverDroppableNodeKey!==Lt&&(tt.currentMouseOverDroppableNodeKey=Lt),!zt){tt.resetDragState();return}var Gt=calcDropPosition(it,zt,st,yt,tt.dragStartMousePosition,Et,gt,dt,ft,$t),jt=Gt.dropPosition,Ut=Gt.dropLevelOffset,Kt=Gt.dropTargetKey,Zt=Gt.dropContainerKey,Qt=Gt.dropTargetPos,rr=Gt.dropAllowed,nr=Gt.dragOverNodeKey;if(vt.indexOf(Kt)!==-1||!rr){tt.resetDragState();return}if(tt.delayedDragEnterLogic||(tt.delayedDragEnterLogic={}),Object.keys(tt.delayedDragEnterLogic).forEach(function(dr){clearTimeout(tt.delayedDragEnterLogic[dr])}),zt.props.eventKey!==st.props.eventKey&&(it.persist(),tt.delayedDragEnterLogic[Ot]=window.setTimeout(function(){if(tt.state.draggingNodeKey!==null){var dr=_toConsumableArray(ft),sr=dt[st.props.eventKey];sr&&(sr.children||[]).length&&(dr=arrAdd(ft,st.props.eventKey)),"expandedKeys"in tt.props||tt.setExpandedKeys(dr),wt==null||wt(dr,{node:convertNodePropsToEventData(st.props),expanded:!0,nativeEvent:it.nativeEvent})}},800)),zt.props.eventKey===Kt&&Ut===0){tt.resetDragState();return}tt.setState({dragOverNodeKey:nr,dropPosition:jt,dropLevelOffset:Ut,dropTargetKey:Kt,dropContainerKey:Zt,dropTargetPos:Qt,dropAllowed:rr}),Ct==null||Ct({event:it,node:convertNodePropsToEventData(st.props),expandedKeys:ft})},tt.onNodeDragOver=function(it,st){var ut=tt.state,ft=ut.dragChildrenKeys,dt=ut.flattenNodes,vt=ut.keyEntities,gt=ut.expandedKeys,yt=ut.indent,xt=tt.props,Ct=xt.onDragOver,wt=xt.allowDrop,Et=xt.direction,$t=_assertThisInitialized$1(tt),It=$t.dragNode;if(!!It){var Ot=calcDropPosition(it,It,st,yt,tt.dragStartMousePosition,wt,dt,vt,gt,Et),Lt=Ot.dropPosition,Ft=Ot.dropLevelOffset,zt=Ot.dropTargetKey,Gt=Ot.dropContainerKey,jt=Ot.dropAllowed,Ut=Ot.dropTargetPos,Kt=Ot.dragOverNodeKey;ft.indexOf(zt)!==-1||!jt||(It.props.eventKey===zt&&Ft===0?tt.state.dropPosition===null&&tt.state.dropLevelOffset===null&&tt.state.dropTargetKey===null&&tt.state.dropContainerKey===null&&tt.state.dropTargetPos===null&&tt.state.dropAllowed===!1&&tt.state.dragOverNodeKey===null||tt.resetDragState():Lt===tt.state.dropPosition&&Ft===tt.state.dropLevelOffset&&zt===tt.state.dropTargetKey&&Gt===tt.state.dropContainerKey&&Ut===tt.state.dropTargetPos&&jt===tt.state.dropAllowed&&Kt===tt.state.dragOverNodeKey||tt.setState({dropPosition:Lt,dropLevelOffset:Ft,dropTargetKey:zt,dropContainerKey:Gt,dropTargetPos:Ut,dropAllowed:jt,dragOverNodeKey:Kt}),Ct==null||Ct({event:it,node:convertNodePropsToEventData(st.props)}))}},tt.onNodeDragLeave=function(it,st){tt.currentMouseOverDroppableNodeKey===st.props.eventKey&&!it.currentTarget.contains(it.relatedTarget)&&(tt.resetDragState(),tt.currentMouseOverDroppableNodeKey=null);var ut=tt.props.onDragLeave;ut==null||ut({event:it,node:convertNodePropsToEventData(st.props)})},tt.onWindowDragEnd=function(it){tt.onNodeDragEnd(it,null,!0),window.removeEventListener("dragend",tt.onWindowDragEnd)},tt.onNodeDragEnd=function(it,st){var ut=tt.props.onDragEnd;tt.setState({dragOverNodeKey:null}),tt.cleanDragState(),ut==null||ut({event:it,node:convertNodePropsToEventData(st.props)}),tt.dragNode=null},tt.onNodeDrop=function(it,st){var ut,ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,dt=tt.state,vt=dt.dragChildrenKeys,gt=dt.dropPosition,yt=dt.dropTargetKey,xt=dt.dropTargetPos,Ct=dt.dropAllowed;if(!!Ct){var wt=tt.props.onDrop;if(tt.setState({dragOverNodeKey:null}),tt.cleanDragState(),yt!==null){var Et=_objectSpread2$1(_objectSpread2$1({},getTreeNodeProps(yt,tt.getTreeNodeRequiredProps())),{},{active:((ut=tt.getActiveItem())===null||ut===void 0?void 0:ut.key)===yt,data:tt.state.keyEntities[yt].node}),$t=vt.indexOf(yt)!==-1;warningOnce(!$t,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var It=posToArr(xt),Ot={event:it,node:convertNodePropsToEventData(Et),dragNode:tt.dragNode?convertNodePropsToEventData(tt.dragNode.props):null,dragNodesKeys:[tt.dragNode.props.eventKey].concat(vt),dropToGap:gt!==0,dropPosition:gt+Number(It[It.length-1])};ft||wt==null||wt(Ot),tt.dragNode=null}}},tt.cleanDragState=function(){var it=tt.state.draggingNodeKey;it!==null&&tt.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),tt.dragStartMousePosition=null,tt.currentMouseOverDroppableNodeKey=null},tt.triggerExpandActionExpand=function(it,st){var ut=tt.state,ft=ut.expandedKeys,dt=ut.flattenNodes,vt=st.expanded,gt=st.key,yt=st.isLeaf;if(!(yt||it.shiftKey||it.metaKey||it.ctrlKey)){var xt=dt.filter(function(wt){return wt.key===gt})[0],Ct=convertNodePropsToEventData(_objectSpread2$1(_objectSpread2$1({},getTreeNodeProps(gt,tt.getTreeNodeRequiredProps())),{},{data:xt.data}));tt.setExpandedKeys(vt?arrDel(ft,gt):arrAdd(ft,gt)),tt.onNodeExpand(it,Ct)}},tt.onNodeClick=function(it,st){var ut=tt.props,ft=ut.onClick,dt=ut.expandAction;dt==="click"&&tt.triggerExpandActionExpand(it,st),ft==null||ft(it,st)},tt.onNodeDoubleClick=function(it,st){var ut=tt.props,ft=ut.onDoubleClick,dt=ut.expandAction;dt==="doubleClick"&&tt.triggerExpandActionExpand(it,st),ft==null||ft(it,st)},tt.onNodeSelect=function(it,st){var ut=tt.state.selectedKeys,ft=tt.state,dt=ft.keyEntities,vt=ft.fieldNames,gt=tt.props,yt=gt.onSelect,xt=gt.multiple,Ct=st.selected,wt=st[vt.key],Et=!Ct;Et?xt?ut=arrAdd(ut,wt):ut=[wt]:ut=arrDel(ut,wt);var $t=ut.map(function(It){var Ot=dt[It];return Ot?Ot.node:null}).filter(function(It){return It});tt.setUncontrolledState({selectedKeys:ut}),yt==null||yt(ut,{event:"select",selected:Et,node:st,selectedNodes:$t,nativeEvent:it.nativeEvent})},tt.onNodeCheck=function(it,st,ut){var ft=tt.state,dt=ft.keyEntities,vt=ft.checkedKeys,gt=ft.halfCheckedKeys,yt=tt.props,xt=yt.checkStrictly,Ct=yt.onCheck,wt=st.key,Et,$t={event:"check",node:st,checked:ut,nativeEvent:it.nativeEvent};if(xt){var It=ut?arrAdd(vt,wt):arrDel(vt,wt),Ot=arrDel(gt,wt);Et={checked:It,halfChecked:Ot},$t.checkedNodes=It.map(function(Ut){return dt[Ut]}).filter(function(Ut){return Ut}).map(function(Ut){return Ut.node}),tt.setUncontrolledState({checkedKeys:It})}else{var Lt=conductCheck([].concat(_toConsumableArray(vt),[wt]),!0,dt),Ft=Lt.checkedKeys,zt=Lt.halfCheckedKeys;if(!ut){var Gt=new Set(Ft);Gt.delete(wt);var jt=conductCheck(Array.from(Gt),{checked:!1,halfCheckedKeys:zt},dt);Ft=jt.checkedKeys,zt=jt.halfCheckedKeys}Et=Ft,$t.checkedNodes=[],$t.checkedNodesPositions=[],$t.halfCheckedKeys=zt,Ft.forEach(function(Ut){var Kt=dt[Ut];if(!!Kt){var Zt=Kt.node,Qt=Kt.pos;$t.checkedNodes.push(Zt),$t.checkedNodesPositions.push({node:Zt,pos:Qt})}}),tt.setUncontrolledState({checkedKeys:Ft},!1,{halfCheckedKeys:zt})}Ct==null||Ct(Et,$t)},tt.onNodeLoad=function(it){var st=it.key,ut=new Promise(function(ft,dt){tt.setState(function(vt){var gt=vt.loadedKeys,yt=gt===void 0?[]:gt,xt=vt.loadingKeys,Ct=xt===void 0?[]:xt,wt=tt.props,Et=wt.loadData,$t=wt.onLoad;if(!Et||yt.indexOf(st)!==-1||Ct.indexOf(st)!==-1)return null;var It=Et(it);return It.then(function(){var Ot=tt.state.loadedKeys,Lt=arrAdd(Ot,st);$t==null||$t(Lt,{event:"load",node:it}),tt.setUncontrolledState({loadedKeys:Lt}),tt.setState(function(Ft){return{loadingKeys:arrDel(Ft.loadingKeys,st)}}),ft()}).catch(function(Ot){if(tt.setState(function(Ft){return{loadingKeys:arrDel(Ft.loadingKeys,st)}}),tt.loadingRetryTimes[st]=(tt.loadingRetryTimes[st]||0)+1,tt.loadingRetryTimes[st]>=MAX_RETRY_TIMES){var Lt=tt.state.loadedKeys;warningOnce(!1,"Retry for `loadData` many times but still failed. No more retry."),tt.setUncontrolledState({loadedKeys:arrAdd(Lt,st)}),ft()}dt(Ot)}),{loadingKeys:arrAdd(Ct,st)}})});return ut.catch(function(){}),ut},tt.onNodeMouseEnter=function(it,st){var ut=tt.props.onMouseEnter;ut==null||ut({event:it,node:st})},tt.onNodeMouseLeave=function(it,st){var ut=tt.props.onMouseLeave;ut==null||ut({event:it,node:st})},tt.onNodeContextMenu=function(it,st){var ut=tt.props.onRightClick;ut&&(it.preventDefault(),ut({event:it,node:st}))},tt.onFocus=function(){var it=tt.props.onFocus;tt.setState({focused:!0});for(var st=arguments.length,ut=new Array(st),ft=0;ft<st;ft++)ut[ft]=arguments[ft];it==null||it.apply(void 0,ut)},tt.onBlur=function(){var it=tt.props.onBlur;tt.setState({focused:!1}),tt.onActiveChange(null);for(var st=arguments.length,ut=new Array(st),ft=0;ft<st;ft++)ut[ft]=arguments[ft];it==null||it.apply(void 0,ut)},tt.getTreeNodeRequiredProps=function(){var it=tt.state,st=it.expandedKeys,ut=it.selectedKeys,ft=it.loadedKeys,dt=it.loadingKeys,vt=it.checkedKeys,gt=it.halfCheckedKeys,yt=it.dragOverNodeKey,xt=it.dropPosition,Ct=it.keyEntities;return{expandedKeys:st||[],selectedKeys:ut||[],loadedKeys:ft||[],loadingKeys:dt||[],checkedKeys:vt||[],halfCheckedKeys:gt||[],dragOverNodeKey:yt,dropPosition:xt,keyEntities:Ct}},tt.setExpandedKeys=function(it){var st=tt.state,ut=st.treeData,ft=st.fieldNames,dt=flattenTreeData(ut,it,ft);tt.setUncontrolledState({expandedKeys:it,flattenNodes:dt},!0)},tt.onNodeExpand=function(it,st){var ut=tt.state.expandedKeys,ft=tt.state,dt=ft.listChanging,vt=ft.fieldNames,gt=tt.props,yt=gt.onExpand,xt=gt.loadData,Ct=st.expanded,wt=st[vt.key];if(!dt){var Et=ut.indexOf(wt),$t=!Ct;if(warningOnce(Ct&&Et!==-1||!Ct&&Et===-1,"Expand state not sync with index check"),$t?ut=arrAdd(ut,wt):ut=arrDel(ut,wt),tt.setExpandedKeys(ut),yt==null||yt(ut,{node:st,expanded:$t,nativeEvent:it.nativeEvent}),$t&&xt){var It=tt.onNodeLoad(st);It&&It.then(function(){var Ot=flattenTreeData(tt.state.treeData,ut,vt);tt.setUncontrolledState({flattenNodes:Ot})}).catch(function(){var Ot=tt.state.expandedKeys,Lt=arrDel(Ot,wt);tt.setExpandedKeys(Lt)})}}},tt.onListChangeStart=function(){tt.setUncontrolledState({listChanging:!0})},tt.onListChangeEnd=function(){setTimeout(function(){tt.setUncontrolledState({listChanging:!1})})},tt.onActiveChange=function(it){var st=tt.state.activeKey,ut=tt.props.onActiveChange;st!==it&&(tt.setState({activeKey:it}),it!==null&&tt.scrollTo({key:it}),ut==null||ut(it))},tt.getActiveItem=function(){var it=tt.state,st=it.activeKey,ut=it.flattenNodes;return st===null?null:ut.find(function(ft){var dt=ft.key;return dt===st})||null},tt.offsetActiveKey=function(it){var st=tt.state,ut=st.flattenNodes,ft=st.activeKey,dt=ut.findIndex(function(yt){var xt=yt.key;return xt===ft});dt===-1&&it<0&&(dt=ut.length),dt=(dt+it+ut.length)%ut.length;var vt=ut[dt];if(vt){var gt=vt.key;tt.onActiveChange(gt)}else tt.onActiveChange(null)},tt.onKeyDown=function(it){var st=tt.state,ut=st.activeKey,ft=st.expandedKeys,dt=st.checkedKeys,vt=st.fieldNames,gt=tt.props,yt=gt.onKeyDown,xt=gt.checkable,Ct=gt.selectable;switch(it.which){case KeyCode.UP:{tt.offsetActiveKey(-1),it.preventDefault();break}case KeyCode.DOWN:{tt.offsetActiveKey(1),it.preventDefault();break}}var wt=tt.getActiveItem();if(wt&&wt.data){var Et=tt.getTreeNodeRequiredProps(),$t=wt.data.isLeaf===!1||!!(wt.data[vt.children]||[]).length,It=convertNodePropsToEventData(_objectSpread2$1(_objectSpread2$1({},getTreeNodeProps(ut,Et)),{},{data:wt.data,active:!0}));switch(it.which){case KeyCode.LEFT:{$t&&ft.includes(ut)?tt.onNodeExpand({},It):wt.parent&&tt.onActiveChange(wt.parent.key),it.preventDefault();break}case KeyCode.RIGHT:{$t&&!ft.includes(ut)?tt.onNodeExpand({},It):wt.children&&wt.children.length&&tt.onActiveChange(wt.children[0].key),it.preventDefault();break}case KeyCode.ENTER:case KeyCode.SPACE:{xt&&!It.disabled&&It.checkable!==!1&&!It.disableCheckbox?tt.onNodeCheck({},It,!dt.includes(ut)):!xt&&Ct&&!It.disabled&&It.selectable!==!1&&tt.onNodeSelect({},It);break}}}yt==null||yt(it)},tt.setUncontrolledState=function(it){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!tt.destroyed){var ft=!1,dt=!0,vt={};Object.keys(it).forEach(function(gt){if(gt in tt.props){dt=!1;return}ft=!0,vt[gt]=it[gt]}),ft&&(!st||dt)&&tt.setState(_objectSpread2$1(_objectSpread2$1({},vt),ut))}},tt.scrollTo=function(it){tt.listRef.current.scrollTo(it)},tt}return _createClass$2(et,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var nt=this.props.activeKey;nt!==void 0&&nt!==this.state.activeKey&&(this.setState({activeKey:nt}),nt!==null&&this.scrollTo({key:nt}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var nt,at=this.state,ot=at.focused,it=at.flattenNodes,st=at.keyEntities,ut=at.draggingNodeKey,ft=at.activeKey,dt=at.dropLevelOffset,vt=at.dropContainerKey,gt=at.dropTargetKey,yt=at.dropPosition,xt=at.dragOverNodeKey,Ct=at.indent,wt=this.props,Et=wt.prefixCls,$t=wt.className,It=wt.style,Ot=wt.showLine,Lt=wt.focusable,Ft=wt.tabIndex,zt=Ft===void 0?0:Ft,Gt=wt.selectable,jt=wt.showIcon,Ut=wt.icon,Kt=wt.switcherIcon,Zt=wt.draggable,Qt=wt.checkable,rr=wt.checkStrictly,nr=wt.disabled,dr=wt.motion,sr=wt.loadData,fr=wt.filterTreeNode,yr=wt.height,Pr=wt.itemHeight,wr=wt.virtual,Mr=wt.titleRender,Lr=wt.dropIndicatorRender,Br=wt.onContextMenu,qr=wt.onScroll,Qr=wt.direction,Jr=wt.rootClassName,sn=wt.rootStyle,yn=pickAttrs(this.props,{aria:!0,data:!0}),pn;return Zt&&(_typeof$4(Zt)==="object"?pn=Zt:typeof Zt=="function"?pn={nodeDraggable:Zt}:pn={}),react.exports.createElement(TreeContext.Provider,{value:{prefixCls:Et,selectable:Gt,showIcon:jt,icon:Ut,switcherIcon:Kt,draggable:pn,draggingNodeKey:ut,checkable:Qt,checkStrictly:rr,disabled:nr,keyEntities:st,dropLevelOffset:dt,dropContainerKey:vt,dropTargetKey:gt,dropPosition:yt,dragOverNodeKey:xt,indent:Ct,direction:Qr,dropIndicatorRender:Lr,loadData:sr,filterTreeNode:fr,titleRender:Mr,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},react.exports.createElement("div",{role:"tree",className:classNames(Et,$t,Jr,(nt={},_defineProperty$4(nt,"".concat(Et,"-show-line"),Ot),_defineProperty$4(nt,"".concat(Et,"-focused"),ot),_defineProperty$4(nt,"".concat(Et,"-active-focused"),ft!==null),nt)),style:sn},react.exports.createElement(NodeList,_extends$2({ref:this.listRef,prefixCls:Et,style:It,data:it,disabled:nr,selectable:Gt,checkable:!!Qt,motion:dr,dragging:ut!==null,height:yr,itemHeight:Pr,virtual:wr,focusable:Lt,focused:ot,tabIndex:zt,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Br,onScroll:qr},this.getTreeNodeRequiredProps(),yn))))}}],[{key:"getDerivedStateFromProps",value:function(nt,at){var ot=at.prevProps,it={prevProps:nt};function st(Lt){return!ot&&Lt in nt||ot&&ot[Lt]!==nt[Lt]}var ut,ft=at.fieldNames;if(st("fieldNames")&&(ft=fillFieldNames(nt.fieldNames),it.fieldNames=ft),st("treeData")?ut=nt.treeData:st("children")&&(warningOnce(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),ut=convertTreeToData(nt.children)),ut){it.treeData=ut;var dt=convertDataToEntities(ut,{fieldNames:ft});it.keyEntities=_objectSpread2$1(_defineProperty$4({},MOTION_KEY,MotionEntity),dt.keyEntities)}var vt=it.keyEntities||at.keyEntities;if(st("expandedKeys")||ot&&st("autoExpandParent"))it.expandedKeys=nt.autoExpandParent||!ot&&nt.defaultExpandParent?conductExpandParent(nt.expandedKeys,vt):nt.expandedKeys;else if(!ot&&nt.defaultExpandAll){var gt=_objectSpread2$1({},vt);delete gt[MOTION_KEY],it.expandedKeys=Object.keys(gt).map(function(Lt){return gt[Lt].key})}else!ot&&nt.defaultExpandedKeys&&(it.expandedKeys=nt.autoExpandParent||nt.defaultExpandParent?conductExpandParent(nt.defaultExpandedKeys,vt):nt.defaultExpandedKeys);if(it.expandedKeys||delete it.expandedKeys,ut||it.expandedKeys){var yt=flattenTreeData(ut||at.treeData,it.expandedKeys||at.expandedKeys,ft);it.flattenNodes=yt}if(nt.selectable&&(st("selectedKeys")?it.selectedKeys=calcSelectedKeys(nt.selectedKeys,nt):!ot&&nt.defaultSelectedKeys&&(it.selectedKeys=calcSelectedKeys(nt.defaultSelectedKeys,nt))),nt.checkable){var xt;if(st("checkedKeys")?xt=parseCheckedKeys(nt.checkedKeys)||{}:!ot&&nt.defaultCheckedKeys?xt=parseCheckedKeys(nt.defaultCheckedKeys)||{}:ut&&(xt=parseCheckedKeys(nt.checkedKeys)||{checkedKeys:at.checkedKeys,halfCheckedKeys:at.halfCheckedKeys}),xt){var Ct=xt,wt=Ct.checkedKeys,Et=wt===void 0?[]:wt,$t=Ct.halfCheckedKeys,It=$t===void 0?[]:$t;if(!nt.checkStrictly){var Ot=conductCheck(Et,!0,vt);Et=Ot.checkedKeys,It=Ot.halfCheckedKeys}it.checkedKeys=Et,it.halfCheckedKeys=It}}return st("loadedKeys")&&(it.loadedKeys=nt.loadedKeys),it}}]),et}(react.exports.Component);Tree$4.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:DropIndicator,allowDrop:function(){return!0},expandAction:!1};Tree$4.TreeNode=ContextTreeNode;var FileOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},FileOutlinedSvg=FileOutlined$2,FileOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:FileOutlinedSvg}))};FileOutlined.displayName="FileOutlined";var FileOutlined$1=react.exports.forwardRef(FileOutlined),FolderOpenOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},FolderOpenOutlinedSvg=FolderOpenOutlined$2,FolderOpenOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:FolderOpenOutlinedSvg}))};FolderOpenOutlined.displayName="FolderOpenOutlined";var FolderOpenOutlined$1=react.exports.forwardRef(FolderOpenOutlined),FolderOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},FolderOutlinedSvg=FolderOutlined$2,FolderOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:FolderOutlinedSvg}))};FolderOutlined.displayName="FolderOutlined";var FolderOutlined$1=react.exports.forwardRef(FolderOutlined),Record;(function($){$[$.None=0]="None",$[$.Start=1]="Start",$[$.End=2]="End"})(Record||(Record={}));function traverseNodesKey($,_e){function et(tt){var nt=tt.key,at=tt.children;_e(nt,tt)!==!1&&traverseNodesKey(at||[],_e)}$.forEach(et)}function calcRangeKeys($){var _e=$.treeData,et=$.expandedKeys,tt=$.startKey,nt=$.endKey,at=[],ot=Record.None;if(tt&&tt===nt)return[tt];if(!tt||!nt)return[];function it(st){return st===tt||st===nt}return traverseNodesKey(_e,function(st){if(ot===Record.End)return!1;if(it(st)){if(at.push(st),ot===Record.None)ot=Record.Start;else if(ot===Record.Start)return ot=Record.End,!1}else ot===Record.Start&&at.push(st);return et.indexOf(st)!==-1}),at}function convertDirectoryKeysToNodes($,_e){var et=_toConsumableArray(_e),tt=[];return traverseNodesKey($,function(nt,at){var ot=et.indexOf(nt);return ot!==-1&&(tt.push(at),et.splice(ot,1)),!!et.length}),tt}var __rest$1=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et};function getIcon($){var _e=$.isLeaf,et=$.expanded;return _e?react.exports.createElement(FileOutlined$1,null):et?react.exports.createElement(FolderOpenOutlined$1,null):react.exports.createElement(FolderOutlined$1,null)}function getTreeData($){var _e=$.treeData,et=$.children;return _e||convertTreeToData(et)}var DirectoryTree=function(_e,et){var tt=_e.defaultExpandAll,nt=_e.defaultExpandParent,at=_e.defaultExpandedKeys,ot=__rest$1(_e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),it=react.exports.useRef(),st=react.exports.useRef(),ut=react.exports.createRef();react.exports.useImperativeHandle(et,function(){return ut.current});var ft=function(){var Qt=convertDataToEntities(getTreeData(ot)),rr=Qt.keyEntities,nr;return tt?nr=Object.keys(rr):nt?nr=conductExpandParent(ot.expandedKeys||at||[],rr):nr=ot.expandedKeys||at,nr},dt=react.exports.useState(ot.selectedKeys||ot.defaultSelectedKeys||[]),vt=_slicedToArray$3(dt,2),gt=vt[0],yt=vt[1],xt=react.exports.useState(ft()),Ct=_slicedToArray$3(xt,2),wt=Ct[0],Et=Ct[1];react.exports.useEffect(function(){"selectedKeys"in ot&&yt(ot.selectedKeys)},[ot.selectedKeys]),react.exports.useEffect(function(){"expandedKeys"in ot&&Et(ot.expandedKeys)},[ot.expandedKeys]);var $t=function(Qt,rr){var nr;return"expandedKeys"in ot||Et(Qt),(nr=ot.onExpand)===null||nr===void 0?void 0:nr.call(ot,Qt,rr)},It=function(Qt,rr){var nr,dr=ot.multiple,sr=rr.node,fr=rr.nativeEvent,yr=sr.key,Pr=yr===void 0?"":yr,wr=getTreeData(ot),Mr=_extends$2(_extends$2({},rr),{selected:!0}),Lr=(fr==null?void 0:fr.ctrlKey)||(fr==null?void 0:fr.metaKey),Br=fr==null?void 0:fr.shiftKey,qr;dr&&Lr?(qr=Qt,it.current=Pr,st.current=qr,Mr.selectedNodes=convertDirectoryKeysToNodes(wr,qr)):dr&&Br?(qr=Array.from(new Set([].concat(_toConsumableArray(st.current||[]),_toConsumableArray(calcRangeKeys({treeData:wr,expandedKeys:wt,startKey:Pr,endKey:it.current}))))),Mr.selectedNodes=convertDirectoryKeysToNodes(wr,qr)):(qr=[Pr],it.current=Pr,st.current=qr,Mr.selectedNodes=convertDirectoryKeysToNodes(wr,qr)),(nr=ot.onSelect)===null||nr===void 0||nr.call(ot,qr,Mr),"selectedKeys"in ot||yt(qr)},Ot=react.exports.useContext(ConfigContext),Lt=Ot.getPrefixCls,Ft=Ot.direction,zt=ot.prefixCls,Gt=ot.className,jt=__rest$1(ot,["prefixCls","className"]),Ut=Lt("tree",zt),Kt=classNames("".concat(Ut,"-directory"),_defineProperty$4({},"".concat(Ut,"-directory-rtl"),Ft==="rtl"),Gt);return react.exports.createElement(Tree$3,_extends$2({icon:getIcon,ref:ut,blockNode:!0},jt,{prefixCls:Ut,className:Kt,expandedKeys:wt,selectedKeys:gt,onSelect:It,onExpand:$t}))},ForwardDirectoryTree=react.exports.forwardRef(DirectoryTree);ForwardDirectoryTree.defaultProps={showIcon:!0,expandAction:"click"};var DirectoryTree$1=ForwardDirectoryTree,offset=4;function dropIndicatorRender($){var _e,et=$.dropPosition,tt=$.dropLevelOffset,nt=$.prefixCls,at=$.indent,ot=$.direction,it=ot===void 0?"ltr":ot,st=it==="ltr"?"left":"right",ut=it==="ltr"?"right":"left",ft=(_e={},_defineProperty$4(_e,st,-tt*at+offset),_defineProperty$4(_e,ut,0),_e);switch(et){case-1:ft.top=-3;break;case 1:ft.bottom=-3;break;default:ft.bottom=-3,ft[st]=at+offset;break}return React.createElement("div",{style:ft,className:"".concat(nt,"-drop-indicator")})}var CaretDownFilled$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},CaretDownFilledSvg=CaretDownFilled$2,CaretDownFilled=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CaretDownFilledSvg}))};CaretDownFilled.displayName="CaretDownFilled";var CaretDownFilled$1=react.exports.forwardRef(CaretDownFilled),MinusSquareOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},MinusSquareOutlinedSvg=MinusSquareOutlined$2,MinusSquareOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:MinusSquareOutlinedSvg}))};MinusSquareOutlined.displayName="MinusSquareOutlined";var MinusSquareOutlined$1=react.exports.forwardRef(MinusSquareOutlined),PlusSquareOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},PlusSquareOutlinedSvg=PlusSquareOutlined$2,PlusSquareOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:PlusSquareOutlinedSvg}))};PlusSquareOutlined.displayName="PlusSquareOutlined";var PlusSquareOutlined$1=react.exports.forwardRef(PlusSquareOutlined);function renderSwitcherIcon($,_e,et,tt){var nt=tt.isLeaf,at=tt.expanded,ot=tt.loading;if(ot)return react.exports.createElement(LoadingOutlined$1,{className:"".concat($,"-switcher-loading-icon")});var it;if(et&&_typeof$4(et)==="object"&&(it=et.showLeafIcon),nt)return et?_typeof$4(et)==="object"&&!it?react.exports.createElement("span",{className:"".concat($,"-switcher-leaf-line")}):react.exports.createElement(FileOutlined$1,{className:"".concat($,"-switcher-line-icon")}):null;var st="".concat($,"-switcher-icon"),ut=typeof _e=="function"?_e({expanded:!!at}):_e;return isValidElement(ut)?cloneElement(ut,{className:classNames(ut.props.className||"",st)}):ut||(et?at?react.exports.createElement(MinusSquareOutlined$1,{className:"".concat($,"-switcher-line-icon")}):react.exports.createElement(PlusSquareOutlined$1,{className:"".concat($,"-switcher-line-icon")}):react.exports.createElement(CaretDownFilled$1,{className:st}))}var Tree$2=react.exports.forwardRef(function($,_e){var et,tt=react.exports.useContext(ConfigContext),nt=tt.getPrefixCls,at=tt.direction,ot=tt.virtual,it=$.prefixCls,st=$.className,ut=$.showIcon,ft=$.showLine,dt=$.switcherIcon,vt=$.blockNode,gt=$.children,yt=$.checkable,xt=$.selectable,Ct=$.draggable,wt=nt("tree",it),Et=_extends$2(_extends$2({},$),{showLine:Boolean(ft),dropIndicatorRender}),$t=react.exports.useMemo(function(){if(!Ct)return!1;var It={};switch(_typeof$4(Ct)){case"function":It.nodeDraggable=Ct;break;case"object":It=_extends$2({},Ct);break}return It.icon!==!1&&(It.icon=It.icon||react.exports.createElement(HolderOutlined$1,null)),It},[Ct]);return react.exports.createElement(Tree$4,_extends$2({itemHeight:20,ref:_e,virtual:ot},Et,{prefixCls:wt,className:classNames((et={},_defineProperty$4(et,"".concat(wt,"-icon-hide"),!ut),_defineProperty$4(et,"".concat(wt,"-block-node"),vt),_defineProperty$4(et,"".concat(wt,"-unselectable"),!xt),_defineProperty$4(et,"".concat(wt,"-rtl"),at==="rtl"),et),st),direction:at,checkable:yt&&react.exports.createElement("span",{className:"".concat(wt,"-checkbox-inner")}),selectable:xt,switcherIcon:function(Ot){return renderSwitcherIcon(wt,dt,ft,Ot)},draggable:$t}),gt)});Tree$2.TreeNode=ContextTreeNode;Tree$2.DirectoryTree=DirectoryTree$1;Tree$2.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:_extends$2(_extends$2({},collapseMotion$1),{motionAppear:!1}),blockNode:!1};var Tree$3=Tree$2;function useSyncState($){var _e=react.exports.useRef($),et=useForceUpdate();return[function(){return _e.current},function(tt){_e.current=tt,et()}]}var FilterSearch=function(_e){var et=_e.value,tt=_e.onChange,nt=_e.filterSearch,at=_e.tablePrefixCls,ot=_e.locale;return nt?react.exports.createElement("div",{className:"".concat(at,"-filter-dropdown-search")},react.exports.createElement(Input$1,{prefix:react.exports.createElement(SearchOutlined$1,null),placeholder:ot.filterSearchPlaceholder,onChange:tt,value:et,htmlSize:1,className:"".concat(at,"-filter-dropdown-search-input")})):null},FilterSearch$1=FilterSearch,FilterDropdownMenuWrapper=function(_e){return react.exports.createElement("div",{className:_e.className,onClick:function(tt){return tt.stopPropagation()}},_e.children)},FilterDropdownMenuWrapper$1=FilterDropdownMenuWrapper;function hasSubMenu($){return $.some(function(_e){var et=_e.children;return et})}function searchValueMatched($,_e){return typeof _e=="string"||typeof _e=="number"?_e==null?void 0:_e.toString().toLowerCase().includes($.trim().toLowerCase()):!1}function renderFilterItems($){var _e=$.filters,et=$.prefixCls,tt=$.filteredKeys,nt=$.filterMultiple,at=$.searchValue,ot=$.filterSearch;return _e.map(function(it,st){var ut=String(it.value);if(it.children)return{key:ut||st,label:it.text,popupClassName:"".concat(et,"-dropdown-submenu"),children:renderFilterItems({filters:it.children,prefixCls:et,filteredKeys:tt,filterMultiple:nt,searchValue:at,filterSearch:ot})};var ft=nt?Checkbox$1:Radio$1,dt={key:it.value!==void 0?ut:st,label:react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(ft,{checked:tt.includes(ut)}),react.exports.createElement("span",null,it.text))};return at.trim()?typeof ot=="function"?ot(at,it)?dt:null:searchValueMatched(at,it.text)?dt:null:dt})}function FilterDropdown($){var _e,et=$.tablePrefixCls,tt=$.prefixCls,nt=$.column,at=$.dropdownPrefixCls,ot=$.columnKey,it=$.filterMultiple,st=$.filterMode,ut=st===void 0?"menu":st,ft=$.filterSearch,dt=ft===void 0?!1:ft,vt=$.filterState,gt=$.triggerFilter,yt=$.locale,xt=$.children,Ct=$.getPopupContainer,wt=nt.filterDropdownVisible,Et=nt.onFilterDropdownVisibleChange,$t=nt.filterResetToDefaultFilteredValue,It=nt.defaultFilteredValue,Ot=react.exports.useState(!1),Lt=_slicedToArray$3(Ot,2),Ft=Lt[0],zt=Lt[1],Gt=!!(vt&&(((_e=vt.filteredKeys)===null||_e===void 0?void 0:_e.length)||vt.forceFiltered)),jt=function(zn){zt(zn),Et==null||Et(zn)},Ut=typeof wt=="boolean"?wt:Ft,Kt=vt==null?void 0:vt.filteredKeys,Zt=useSyncState(Kt||[]),Qt=_slicedToArray$3(Zt,2),rr=Qt[0],nr=Qt[1],dr=function(zn){var so=zn.selectedKeys;nr(so)},sr=function(zn,so){var vo=so.node,Eo=so.checked;dr(it?{selectedKeys:zn}:{selectedKeys:Eo&&vo.key?[vo.key]:[]})};react.exports.useEffect(function(){!Ft||dr({selectedKeys:Kt||[]})},[Kt]);var fr=react.exports.useState([]),yr=_slicedToArray$3(fr,2),Pr=yr[0],wr=yr[1],Mr=function(zn){wr(zn)},Lr=react.exports.useState(""),Br=_slicedToArray$3(Lr,2),qr=Br[0],Qr=Br[1],Jr=function(zn){var so=zn.target.value;Qr(so)};react.exports.useEffect(function(){Ft||Qr("")},[Ft]);var sn=function(zn){var so=zn&&zn.length?zn:null;if(so===null&&(!vt||!vt.filteredKeys)||isEqual_1(so,vt==null?void 0:vt.filteredKeys))return null;gt({column:nt,key:ot,filteredKeys:so})},yn=function(){jt(!1),sn(rr())},pn=function(){var zn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1},so=zn.confirm,vo=zn.closeDropdown;so&&sn([]),vo&&jt(!1),Qr(""),nr($t?(It||[]).map(function(Eo){return String(Eo)}):[])},ln=function(){var zn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},so=zn.closeDropdown;so&&jt(!1),sn(rr())},Sn=function(zn){zn&&Kt!==void 0&&nr(Kt||[]),jt(zn),!zn&&!nt.filterDropdown&&yn()},cn=classNames(_defineProperty$4({},"".concat(at,"-menu-without-submenu"),!hasSubMenu(nt.filters||[]))),Pn=function(zn){if(zn.target.checked){var so=flattenKeys(nt==null?void 0:nt.filters).map(function(vo){return String(vo)});nr(so)}else nr([])},In=function no(zn){var so=zn.filters;return(so||[]).map(function(vo,Eo){var To=String(vo.value),Io={title:vo.text,key:vo.value!==void 0?To:Eo};return vo.children&&(Io.children=no({filters:vo.children})),Io})},Rn;if(typeof nt.filterDropdown=="function")Rn=nt.filterDropdown({prefixCls:"".concat(at,"-custom"),setSelectedKeys:function(zn){return dr({selectedKeys:zn})},selectedKeys:rr(),confirm:ln,clearFilters:pn,filters:nt.filters,visible:Ut});else if(nt.filterDropdown)Rn=nt.filterDropdown;else{var Mn=rr()||[],Fn=function(){return(nt.filters||[]).length===0?react.exports.createElement(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE,description:yt.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):ut==="tree"?react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(FilterSearch$1,{filterSearch:dt,value:qr,onChange:Jr,tablePrefixCls:et,locale:yt}),react.exports.createElement("div",{className:"".concat(et,"-filter-dropdown-tree")},it?react.exports.createElement(Checkbox$1,{checked:Mn.length===flattenKeys(nt.filters).length,indeterminate:Mn.length>0&&Mn.length<flattenKeys(nt.filters).length,className:"".concat(et,"-filter-dropdown-checkall"),onChange:Pn},yt.filterCheckall):null,react.exports.createElement(Tree$3,{checkable:!0,selectable:!1,blockNode:!0,multiple:it,checkStrictly:!it,className:"".concat(at,"-menu"),onCheck:sr,checkedKeys:Mn,selectedKeys:Mn,showIcon:!1,treeData:In({filters:nt.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:qr.trim()?function(zn){return searchValueMatched(qr,zn.title)}:void 0}))):react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(FilterSearch$1,{filterSearch:dt,value:qr,onChange:Jr,tablePrefixCls:et,locale:yt}),react.exports.createElement(Menu$1,{selectable:!0,multiple:it,prefixCls:"".concat(at,"-menu"),className:cn,onSelect:dr,onDeselect:dr,selectedKeys:Mn,getPopupContainer:Ct,openKeys:Pr,onOpenChange:Mr,items:renderFilterItems({filters:nt.filters||[],filterSearch:dt,prefixCls:tt,filteredKeys:rr(),filterMultiple:it,searchValue:qr})}))},Xr=function(){return $t?isEqual_1((It||[]).map(function(zn){return String(zn)}),Mn):Mn.length===0};Rn=react.exports.createElement(react.exports.Fragment,null,Fn(),react.exports.createElement("div",{className:"".concat(tt,"-dropdown-btns")},react.exports.createElement(Button$2,{type:"link",size:"small",disabled:Xr(),onClick:function(){return pn()}},yt.filterReset),react.exports.createElement(Button$2,{type:"primary",size:"small",onClick:yn},yt.filterConfirm)))}nt.filterDropdown&&(Rn=react.exports.createElement(OverrideProvider,{selectable:void 0},Rn));var wn=react.exports.createElement(FilterDropdownMenuWrapper$1,{className:"".concat(tt,"-dropdown")},Rn),vn;typeof nt.filterIcon=="function"?vn=nt.filterIcon(Gt):nt.filterIcon?vn=nt.filterIcon:vn=react.exports.createElement(FilterFilled$1,null);var $n=react.exports.useContext(ConfigContext),Xn=$n.direction;return react.exports.createElement("div",{className:"".concat(tt,"-column")},react.exports.createElement("span",{className:"".concat(et,"-column-title")},xt),react.exports.createElement(Dropdown$1,{overlay:wn,trigger:["click"],visible:Ut,onVisibleChange:Sn,getPopupContainer:Ct,placement:Xn==="rtl"?"bottomLeft":"bottomRight"},react.exports.createElement("span",{role:"button",tabIndex:-1,className:classNames("".concat(tt,"-trigger"),{active:Gt}),onClick:function(zn){zn.stopPropagation()}},vn)))}function collectFilterStates($,_e,et){var tt=[];return($||[]).forEach(function(nt,at){var ot,it=getColumnPos(at,et);if(nt.filters||"filterDropdown"in nt||"onFilter"in nt)if("filteredValue"in nt){var st=nt.filteredValue;"filterDropdown"in nt||(st=(ot=st==null?void 0:st.map(String))!==null&&ot!==void 0?ot:st),tt.push({column:nt,key:getColumnKey(nt,it),filteredKeys:st,forceFiltered:nt.filtered})}else tt.push({column:nt,key:getColumnKey(nt,it),filteredKeys:_e&&nt.defaultFilteredValue?nt.defaultFilteredValue:void 0,forceFiltered:nt.filtered});"children"in nt&&(tt=[].concat(_toConsumableArray(tt),_toConsumableArray(collectFilterStates(nt.children,_e,it))))}),tt}function injectFilter($,_e,et,tt,nt,at,ot,it){return et.map(function(st,ut){var ft=getColumnPos(ut,it),dt=st.filterMultiple,vt=dt===void 0?!0:dt,gt=st.filterMode,yt=st.filterSearch,xt=st;if(xt.filters||xt.filterDropdown){var Ct=getColumnKey(xt,ft),wt=tt.find(function(Et){var $t=Et.key;return Ct===$t});xt=_extends$2(_extends$2({},xt),{title:function($t){return react.exports.createElement(FilterDropdown,{tablePrefixCls:$,prefixCls:"".concat($,"-filter"),dropdownPrefixCls:_e,column:xt,columnKey:Ct,filterState:wt,filterMultiple:vt,filterMode:gt,filterSearch:yt,triggerFilter:nt,locale:ot,getPopupContainer:at},renderColumnTitle(st.title,$t))}})}return"children"in xt&&(xt=_extends$2(_extends$2({},xt),{children:injectFilter($,_e,xt.children,tt,nt,at,ot,ft)})),xt})}function flattenKeys($){var _e=[];return($||[]).forEach(function(et){var tt=et.value,nt=et.children;_e.push(tt),nt&&(_e=[].concat(_toConsumableArray(_e),_toConsumableArray(flattenKeys(nt))))}),_e}function generateFilterInfo($){var _e={};return $.forEach(function(et){var tt=et.key,nt=et.filteredKeys,at=et.column,ot=at.filters,it=at.filterDropdown;if(it)_e[tt]=nt||null;else if(Array.isArray(nt)){var st=flattenKeys(ot);_e[tt]=st.filter(function(ut){return nt.includes(String(ut))})}else _e[tt]=null}),_e}function getFilterData($,_e){return _e.reduce(function(et,tt){var nt=tt.column,at=nt.onFilter,ot=nt.filters,it=tt.filteredKeys;return at&&it&&it.length?et.filter(function(st){return it.some(function(ut){var ft=flattenKeys(ot),dt=ft.findIndex(function(gt){return String(gt)===String(ut)}),vt=dt!==-1?ft[dt]:ut;return at(vt,st)})}):et},$)}function useFilter($){var _e=$.prefixCls,et=$.dropdownPrefixCls,tt=$.mergedColumns,nt=$.onFilterChange,at=$.getPopupContainer,ot=$.locale,it=react.exports.useState(collectFilterStates(tt,!0)),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1],dt=react.exports.useMemo(function(){var xt=collectFilterStates(tt,!1),Ct=!0;return xt.forEach(function(wt){var Et=wt.filteredKeys;Et!==void 0&&(Ct=!1)}),Ct?ut:xt},[tt,ut]),vt=react.exports.useCallback(function(){return generateFilterInfo(dt)},[dt]),gt=function(Ct){var wt=dt.filter(function(Et){var $t=Et.key;return $t!==Ct.key});wt.push(Ct),ft(wt),nt(generateFilterInfo(wt),wt)},yt=function(Ct){return injectFilter(_e,et,Ct,dt,gt,at,ot)};return[yt,dt,vt]}function useLazyKVMap($,_e,et){var tt=react.exports.useRef({});function nt(at){if(!tt.current||tt.current.data!==$||tt.current.childrenColumnName!==_e||tt.current.getRowKey!==et){let st=function(ut){ut.forEach(function(ft,dt){var vt=et(ft,dt);ot.set(vt,ft),ft&&_typeof$4(ft)==="object"&&_e in ft&&st(ft[_e]||[])})};var it=st,ot=new Map;st($),tt.current={data:$,childrenColumnName:_e,kvMap:ot,getRowKey:et}}return tt.current.kvMap.get(at)}return[nt]}var __rest=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et},DEFAULT_PAGE_SIZE=10;function getPaginationParam($,_e){var et={current:_e.current,pageSize:_e.pageSize},tt=$&&_typeof$4($)==="object"?$:{};return Object.keys(tt).forEach(function(nt){var at=_e[nt];typeof at!="function"&&(et[nt]=at)}),et}function extendsObject(){for(var $={},_e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return et.forEach(function(nt){nt&&Object.keys(nt).forEach(function(at){var ot=nt[at];ot!==void 0&&($[at]=ot)})}),$}function usePagination($,_e,et){var tt=_e&&_typeof$4(_e)==="object"?_e:{},nt=tt.total,at=nt===void 0?0:nt,ot=__rest(tt,["total"]),it=react.exports.useState(function(){return{current:"defaultCurrent"in ot?ot.defaultCurrent:1,pageSize:"defaultPageSize"in ot?ot.defaultPageSize:DEFAULT_PAGE_SIZE}}),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1],dt=extendsObject(ut,ot,{total:at>0?at:$}),vt=Math.ceil((at||$)/dt.pageSize);dt.current>vt&&(dt.current=vt||1);var gt=function(Ct,wt){ft({current:Ct!=null?Ct:1,pageSize:wt||dt.pageSize})},yt=function(Ct,wt){var Et;_e&&((Et=_e.onChange)===null||Et===void 0||Et.call(_e,Ct,wt)),gt(Ct,wt),et(Ct,wt||(dt==null?void 0:dt.pageSize))};return _e===!1?[{},function(){}]:[_extends$2(_extends$2({},dt),{onChange:yt}),gt]}var SELECTION_COLUMN={},SELECTION_ALL="SELECT_ALL",SELECTION_INVERT="SELECT_INVERT",SELECTION_NONE="SELECT_NONE",EMPTY_LIST$1=[];function flattenData($,_e){var et=[];return($||[]).forEach(function(tt){et.push(tt),tt&&_typeof$4(tt)==="object"&&_e in tt&&(et=[].concat(_toConsumableArray(et),_toConsumableArray(flattenData(tt[_e],_e))))}),et}function useSelection($,_e){var et=$||{},tt=et.preserveSelectedRowKeys,nt=et.selectedRowKeys,at=et.defaultSelectedRowKeys,ot=et.getCheckboxProps,it=et.onChange,st=et.onSelect,ut=et.onSelectAll,ft=et.onSelectInvert,dt=et.onSelectNone,vt=et.onSelectMultiple,gt=et.columnWidth,yt=et.type,xt=et.selections,Ct=et.fixed,wt=et.renderCell,Et=et.hideSelectAll,$t=et.checkStrictly,It=$t===void 0?!0:$t,Ot=_e.prefixCls,Lt=_e.data,Ft=_e.pageData,zt=_e.getRecordByKey,Gt=_e.getRowKey,jt=_e.expandType,Ut=_e.childrenColumnName,Kt=_e.locale,Zt=_e.getPopupContainer,Qt=useMergedState(nt||at||EMPTY_LIST$1,{value:nt}),rr=_slicedToArray$3(Qt,2),nr=rr[0],dr=rr[1],sr=react.exports.useRef(new Map),fr=react.exports.useCallback(function(Fn){if(tt){var Xr=new Map;Fn.forEach(function(wn){var vn=zt(wn);!vn&&sr.current.has(wn)&&(vn=sr.current.get(wn)),Xr.set(wn,vn)}),sr.current=Xr}},[zt,tt]);react.exports.useEffect(function(){fr(nr)},[nr]);var yr=react.exports.useMemo(function(){return It?{keyEntities:null}:convertDataToEntities(Lt,{externalGetKey:Gt,childrenPropName:Ut})},[Lt,Gt,It,Ut]),Pr=yr.keyEntities,wr=react.exports.useMemo(function(){return flattenData(Ft,Ut)},[Ft,Ut]),Mr=react.exports.useMemo(function(){var Fn=new Map;return wr.forEach(function(Xr,wn){var vn=Gt(Xr,wn),$n=(ot?ot(Xr):null)||{};Fn.set(vn,$n)}),Fn},[wr,Gt,ot]),Lr=react.exports.useCallback(function(Fn){var Xr;return!!(!((Xr=Mr.get(Gt(Fn)))===null||Xr===void 0)&&Xr.disabled)},[Mr,Gt]),Br=react.exports.useMemo(function(){if(It)return[nr||[],[]];var Fn=conductCheck(nr,!0,Pr,Lr),Xr=Fn.checkedKeys,wn=Fn.halfCheckedKeys;return[Xr||[],wn]},[nr,It,Pr,Lr]),qr=_slicedToArray$3(Br,2),Qr=qr[0],Jr=qr[1],sn=react.exports.useMemo(function(){var Fn=yt==="radio"?Qr.slice(0,1):Qr;return new Set(Fn)},[Qr,yt]),yn=react.exports.useMemo(function(){return yt==="radio"?new Set:new Set(Jr)},[Jr,yt]),pn=react.exports.useState(null),ln=_slicedToArray$3(pn,2),Sn=ln[0],cn=ln[1];react.exports.useEffect(function(){$||dr(EMPTY_LIST$1)},[!!$]);var Pn=react.exports.useCallback(function(Fn,Xr){var wn,vn;fr(Fn),tt?(wn=Fn,vn=Fn.map(function($n){return sr.current.get($n)})):(wn=[],vn=[],Fn.forEach(function($n){var Xn=zt($n);Xn!==void 0&&(wn.push($n),vn.push(Xn))})),dr(wn),it==null||it(wn,vn,{type:Xr})},[dr,zt,it,tt]),In=react.exports.useCallback(function(Fn,Xr,wn,vn){if(st){var $n=wn.map(function(Xn){return zt(Xn)});st(zt(Fn),Xr,$n,vn)}Pn(wn,"single")},[st,zt,Pn]),Rn=react.exports.useMemo(function(){if(!xt||Et)return null;var Fn=xt===!0?[SELECTION_ALL,SELECTION_INVERT,SELECTION_NONE]:xt;return Fn.map(function(Xr){return Xr===SELECTION_ALL?{key:"all",text:Kt.selectionAll,onSelect:function(){Pn(Lt.map(function(vn,$n){return Gt(vn,$n)}).filter(function(vn){var $n=Mr.get(vn);return!($n!=null&&$n.disabled)||sn.has(vn)}),"all")}}:Xr===SELECTION_INVERT?{key:"invert",text:Kt.selectInvert,onSelect:function(){var vn=new Set(sn);Ft.forEach(function(Xn,no){var zn=Gt(Xn,no),so=Mr.get(zn);so!=null&&so.disabled||(vn.has(zn)?vn.delete(zn):vn.add(zn))});var $n=Array.from(vn);ft&&ft($n),Pn($n,"invert")}}:Xr===SELECTION_NONE?{key:"none",text:Kt.selectNone,onSelect:function(){dt==null||dt(),Pn(Array.from(sn).filter(function(vn){var $n=Mr.get(vn);return $n==null?void 0:$n.disabled}),"none")}}:Xr}).map(function(Xr){return _extends$2(_extends$2({},Xr),{onSelect:function(){for(var vn,$n,Xn=arguments.length,no=new Array(Xn),zn=0;zn<Xn;zn++)no[zn]=arguments[zn];($n=Xr.onSelect)===null||$n===void 0||(vn=$n).call.apply(vn,[Xr].concat(no)),cn(null)}})})},[xt,sn,Ft,Gt,ft,Pn]),Mn=react.exports.useCallback(function(Fn){var Xr;if(!$)return Fn.filter(function(ba){return ba!==SELECTION_COLUMN});var wn=_toConsumableArray(Fn),vn=new Set(sn),$n=wr.map(Gt).filter(function(ba){return!Mr.get(ba).disabled}),Xn=$n.every(function(ba){return vn.has(ba)}),no=$n.some(function(ba){return vn.has(ba)}),zn=function(){var lo=[];Xn?$n.forEach(function(ur){vn.delete(ur),lo.push(ur)}):$n.forEach(function(ur){vn.has(ur)||(vn.add(ur),lo.push(ur))});var Bn=Array.from(vn);ut==null||ut(!Xn,Bn.map(function(ur){return zt(ur)}),lo.map(function(ur){return zt(ur)})),Pn(Bn,"all"),cn(null)},so;if(yt!=="radio"){var vo;if(Rn){var Eo=react.exports.createElement(Menu$1,{getPopupContainer:Zt,items:Rn.map(function(ba,lo){var Bn=ba.key,ur=ba.text,tr=ba.onSelect;return{key:Bn||lo,onClick:function(){tr==null||tr($n)},label:ur}})});vo=react.exports.createElement("div",{className:"".concat(Ot,"-selection-extra")},react.exports.createElement(Dropdown$1,{overlay:Eo,getPopupContainer:Zt},react.exports.createElement("span",null,react.exports.createElement(DownOutlined$1,null))))}var To=wr.map(function(ba,lo){var Bn=Gt(ba,lo),ur=Mr.get(Bn)||{};return _extends$2({checked:vn.has(Bn)},ur)}).filter(function(ba){var lo=ba.disabled;return lo}),Io=!!To.length&&To.length===wr.length,$a=Io&&To.every(function(ba){var lo=ba.checked;return lo}),mo=Io&&To.some(function(ba){var lo=ba.checked;return lo});so=!Et&&react.exports.createElement("div",{className:"".concat(Ot,"-selection")},react.exports.createElement(Checkbox$1,{checked:Io?$a:!!wr.length&&Xn,indeterminate:Io?!$a&&mo:!Xn&&no,onChange:zn,disabled:wr.length===0||Io,skipGroup:!0}),vo)}var Po;yt==="radio"?Po=function(lo,Bn,ur){var tr=Gt(Bn,ur),or=vn.has(tr);return{node:react.exports.createElement(Radio$1,_extends$2({},Mr.get(tr),{checked:or,onClick:function(Er){return Er.stopPropagation()},onChange:function(Er){vn.has(tr)||In(tr,!0,[tr],Er.nativeEvent)}})),checked:or}}:Po=function(lo,Bn,ur){var tr,or=Gt(Bn,ur),gr=vn.has(or),Er=yn.has(or),zr=Mr.get(or),Kr;return jt==="nest"?Kr=Er:Kr=(tr=zr==null?void 0:zr.indeterminate)!==null&&tr!==void 0?tr:Er,{node:react.exports.createElement(Checkbox$1,_extends$2({},zr,{indeterminate:Kr,checked:gr,skipGroup:!0,onClick:function(Or){return Or.stopPropagation()},onChange:function(Or){var Zr=Or.nativeEvent,En=Zr.shiftKey,Gn=-1,Cn=-1;if(En&&It){var ga=new Set([Sn,or]);$n.some(function(Xo,Ws){if(ga.has(Xo))if(Gn===-1)Gn=Ws;else return Cn=Ws,!0;return!1})}if(Cn!==-1&&Gn!==Cn&&It){var uo=$n.slice(Gn,Cn+1),_i=[];gr?uo.forEach(function(Xo){vn.has(Xo)&&(_i.push(Xo),vn.delete(Xo))}):uo.forEach(function(Xo){vn.has(Xo)||(_i.push(Xo),vn.add(Xo))});var co=Array.from(vn);vt==null||vt(!gr,co.map(function(Xo){return zt(Xo)}),_i.map(function(Xo){return zt(Xo)})),Pn(co,"multiple")}else{var Vn=Qr;if(It){var qn=gr?arrDel(Vn,or):arrAdd(Vn,or);In(or,!gr,qn,Zr)}else{var oo=conductCheck([].concat(_toConsumableArray(Vn),[or]),!0,Pr,Lr),bo=oo.checkedKeys,Ur=oo.halfCheckedKeys,ss=bo;if(gr){var Ho=new Set(bo);Ho.delete(or),ss=conductCheck(Array.from(Ho),{checked:!1,halfCheckedKeys:Ur},Pr,Lr).checkedKeys}In(or,!gr,ss,Zr)}}cn(gr?null:or)}})),checked:gr}};var Ro=function(lo,Bn,ur){var tr=Po(lo,Bn,ur),or=tr.node,gr=tr.checked;return wt?wt(gr,Bn,ur,or):or};if(!wn.includes(SELECTION_COLUMN))if(wn.findIndex(function(ba){var lo;return((lo=ba[INTERNAL_COL_DEFINE])===null||lo===void 0?void 0:lo.columnType)==="EXPAND_COLUMN"})===0){var Vo=wn,Oo=_toArray(Vo),Wo=Oo[0],os=Oo.slice(1);wn=[Wo,SELECTION_COLUMN].concat(_toConsumableArray(os))}else wn=[SELECTION_COLUMN].concat(_toConsumableArray(wn));var hs=wn.indexOf(SELECTION_COLUMN);wn=wn.filter(function(ba,lo){return ba!==SELECTION_COLUMN||lo===hs});var Uo=wn[hs-1],Zo=wn[hs+1],Lo=Ct;Lo===void 0&&((Zo==null?void 0:Zo.fixed)!==void 0?Lo=Zo.fixed:(Uo==null?void 0:Uo.fixed)!==void 0&&(Lo=Uo.fixed)),Lo&&Uo&&((Xr=Uo[INTERNAL_COL_DEFINE])===null||Xr===void 0?void 0:Xr.columnType)==="EXPAND_COLUMN"&&Uo.fixed===void 0&&(Uo.fixed=Lo);var cs=_defineProperty$4({fixed:Lo,width:gt,className:"".concat(Ot,"-selection-column"),title:$.columnTitle||so,render:Ro},INTERNAL_COL_DEFINE,{className:"".concat(Ot,"-selection-col")});return wn.map(function(ba){return ba===SELECTION_COLUMN?cs:ba})},[Gt,wr,$,Qr,sn,yn,gt,Rn,jt,Sn,Mr,vt,In,Lr]);return[Mn,sn]}var CaretDownOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},CaretDownOutlinedSvg=CaretDownOutlined$2,CaretDownOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CaretDownOutlinedSvg}))};CaretDownOutlined.displayName="CaretDownOutlined";var CaretDownOutlined$1=react.exports.forwardRef(CaretDownOutlined),CaretUpOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},CaretUpOutlinedSvg=CaretUpOutlined$2,CaretUpOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:CaretUpOutlinedSvg}))};CaretUpOutlined.displayName="CaretUpOutlined";var CaretUpOutlined$1=react.exports.forwardRef(CaretUpOutlined),ASCEND="ascend",DESCEND="descend";function getMultiplePriority($){return _typeof$4($.sorter)==="object"&&typeof $.sorter.multiple=="number"?$.sorter.multiple:!1}function getSortFunction($){return typeof $=="function"?$:$&&_typeof$4($)==="object"&&$.compare?$.compare:!1}function nextSortDirection($,_e){return _e?$[$.indexOf(_e)+1]:$[0]}function collectSortStates($,_e,et){var tt=[];function nt(at,ot){tt.push({column:at,key:getColumnKey(at,ot),multiplePriority:getMultiplePriority(at),sortOrder:at.sortOrder})}return($||[]).forEach(function(at,ot){var it=getColumnPos(ot,et);at.children?("sortOrder"in at&&nt(at,it),tt=[].concat(_toConsumableArray(tt),_toConsumableArray(collectSortStates(at.children,_e,it)))):at.sorter&&("sortOrder"in at?nt(at,it):_e&&at.defaultSortOrder&&tt.push({column:at,key:getColumnKey(at,it),multiplePriority:getMultiplePriority(at),sortOrder:at.defaultSortOrder}))}),tt}function injectSorter($,_e,et,tt,nt,at,ot,it){return(_e||[]).map(function(st,ut){var ft=getColumnPos(ut,it),dt=st;if(dt.sorter){var vt=dt.sortDirections||nt,gt=dt.showSorterTooltip===void 0?ot:dt.showSorterTooltip,yt=getColumnKey(dt,ft),xt=et.find(function(jt){var Ut=jt.key;return Ut===yt}),Ct=xt?xt.sortOrder:null,wt=nextSortDirection(vt,Ct),Et=vt.includes(ASCEND)&&react.exports.createElement(CaretUpOutlined$1,{className:classNames("".concat($,"-column-sorter-up"),{active:Ct===ASCEND})}),$t=vt.includes(DESCEND)&&react.exports.createElement(CaretDownOutlined$1,{className:classNames("".concat($,"-column-sorter-down"),{active:Ct===DESCEND})}),It=at||{},Ot=It.cancelSort,Lt=It.triggerAsc,Ft=It.triggerDesc,zt=Ot;wt===DESCEND?zt=Ft:wt===ASCEND&&(zt=Lt);var Gt=_typeof$4(gt)==="object"?gt:{title:zt};dt=_extends$2(_extends$2({},dt),{className:classNames(dt.className,_defineProperty$4({},"".concat($,"-column-sort"),Ct)),title:function(Ut){var Kt=react.exports.createElement("div",{className:"".concat($,"-column-sorters")},react.exports.createElement("span",{className:"".concat($,"-column-title")},renderColumnTitle(st.title,Ut)),react.exports.createElement("span",{className:classNames("".concat($,"-column-sorter"),_defineProperty$4({},"".concat($,"-column-sorter-full"),!!(Et&&$t)))},react.exports.createElement("span",{className:"".concat($,"-column-sorter-inner")},Et,$t)));return gt?react.exports.createElement(Tooltip$1,_extends$2({},Gt),Kt):Kt},onHeaderCell:function(Ut){var Kt=st.onHeaderCell&&st.onHeaderCell(Ut)||{},Zt=Kt.onClick,Qt=Kt.onKeyDown;return Kt.onClick=function(rr){tt({column:st,key:yt,sortOrder:wt,multiplePriority:getMultiplePriority(st)}),Zt==null||Zt(rr)},Kt.onKeyDown=function(rr){rr.keyCode===KeyCode.ENTER&&(tt({column:st,key:yt,sortOrder:wt,multiplePriority:getMultiplePriority(st)}),Qt==null||Qt(rr))},Ct&&(Ct==="ascend"?Kt["aria-sort"]="ascending":Kt["aria-sort"]="descending"),Kt.className=classNames(Kt.className,"".concat($,"-column-has-sorters")),Kt.tabIndex=0,Kt}})}return"children"in dt&&(dt=_extends$2(_extends$2({},dt),{children:injectSorter($,dt.children,et,tt,nt,at,ot,ft)})),dt})}function stateToInfo($){var _e=$.column,et=$.sortOrder;return{column:_e,order:et,field:_e.dataIndex,columnKey:_e.key}}function generateSorterInfo($){var _e=$.filter(function(et){var tt=et.sortOrder;return tt}).map(stateToInfo);return _e.length===0&&$.length?_extends$2(_extends$2({},stateToInfo($[$.length-1])),{column:void 0}):_e.length<=1?_e[0]||{}:_e}function getSortData($,_e,et){var tt=_e.slice().sort(function(ot,it){return it.multiplePriority-ot.multiplePriority}),nt=$.slice(),at=tt.filter(function(ot){var it=ot.column.sorter,st=ot.sortOrder;return getSortFunction(it)&&st});return at.length?nt.sort(function(ot,it){for(var st=0;st<at.length;st+=1){var ut=at[st],ft=ut.column.sorter,dt=ut.sortOrder,vt=getSortFunction(ft);if(vt&&dt){var gt=vt(ot,it,dt);if(gt!==0)return dt===ASCEND?gt:-gt}}return 0}).map(function(ot){var it=ot[et];return it?_extends$2(_extends$2({},ot),_defineProperty$4({},et,getSortData(it,_e,et))):ot}):nt}function useFilterSorter($){var _e=$.prefixCls,et=$.mergedColumns,tt=$.onSorterChange,nt=$.sortDirections,at=$.tableLocale,ot=$.showSorterTooltip,it=react.exports.useState(collectSortStates(et,!0)),st=_slicedToArray$3(it,2),ut=st[0],ft=st[1],dt=react.exports.useMemo(function(){var Ct=!0,wt=collectSortStates(et,!1);if(!wt.length)return ut;var Et=[];function $t(Ot){Ct?Et.push(Ot):Et.push(_extends$2(_extends$2({},Ot),{sortOrder:null}))}var It=null;return wt.forEach(function(Ot){It===null?($t(Ot),Ot.sortOrder&&(Ot.multiplePriority===!1?Ct=!1:It=!0)):(It&&Ot.multiplePriority!==!1||(Ct=!1),$t(Ot))}),Et},[et,ut]),vt=react.exports.useMemo(function(){var Ct=dt.map(function(wt){var Et=wt.column,$t=wt.sortOrder;return{column:Et,order:$t}});return{sortColumns:Ct,sortColumn:Ct[0]&&Ct[0].column,sortOrder:Ct[0]&&Ct[0].order}},[dt]);function gt(Ct){var wt;Ct.multiplePriority===!1||!dt.length||dt[0].multiplePriority===!1?wt=[Ct]:wt=[].concat(_toConsumableArray(dt.filter(function(Et){var $t=Et.key;return $t!==Ct.key})),[Ct]),ft(wt),tt(generateSorterInfo(wt),wt)}var yt=function(wt){return injectSorter(_e,wt,dt,gt,nt,at,ot)},xt=function(){return generateSorterInfo(dt)};return[yt,dt,vt,xt]}function fillTitle($,_e){return $.map(function(et){var tt=_extends$2({},et);return tt.title=renderColumnTitle(et.title,_e),"children"in tt&&(tt.children=fillTitle(tt.children,_e)),tt})}function useTitleColumns($){var _e=react.exports.useCallback(function(et){return fillTitle(et,$)},[$]);return[_e]}var EMPTY_LIST=[];function InternalTable($,_e){var et,tt=$.prefixCls,nt=$.className,at=$.style,ot=$.size,it=$.bordered,st=$.dropdownPrefixCls,ut=$.dataSource,ft=$.pagination,dt=$.rowSelection,vt=$.rowKey,gt=$.rowClassName,yt=$.columns,xt=$.children,Ct=$.childrenColumnName,wt=$.onChange,Et=$.getPopupContainer,$t=$.loading,It=$.expandIcon,Ot=$.expandable,Lt=$.expandedRowRender,Ft=$.expandIconColumnIndex,zt=$.indentSize,Gt=$.scroll,jt=$.sortDirections,Ut=$.locale,Kt=$.showSorterTooltip,Zt=Kt===void 0?!0:Kt,Qt=react.exports.useMemo(function(){return yt||convertChildrenToColumns(xt)},[yt,xt]),rr=react.exports.useMemo(function(){return Qt.some(function(Vn){return Vn.responsive})},[Qt]),nr=useBreakpoint(rr),dr=react.exports.useMemo(function(){var Vn=new Set(Object.keys(nr).filter(function(qn){return nr[qn]}));return Qt.filter(function(qn){return!qn.responsive||qn.responsive.some(function(oo){return Vn.has(oo)})})},[Qt,nr]),sr=omit($,["className","style","columns"]),fr=react.exports.useContext(SizeContext$1),yr=react.exports.useContext(ConfigContext),Pr=yr.locale,wr=Pr===void 0?defaultLocale:Pr,Mr=yr.renderEmpty,Lr=yr.direction,Br=ot||fr,qr=_extends$2(_extends$2({},wr.Table),Ut),Qr=ut||EMPTY_LIST,Jr=react.exports.useContext(ConfigContext),sn=Jr.getPrefixCls,yn=sn("table",tt),pn=sn("dropdown",st),ln=_extends$2({childrenColumnName:Ct,expandIconColumnIndex:Ft},Ot),Sn=ln.childrenColumnName,cn=Sn===void 0?"children":Sn,Pn=react.exports.useMemo(function(){return Qr.some(function(Vn){return Vn==null?void 0:Vn[cn]})?"nest":Lt||Ot&&Ot.expandedRowRender?"row":null},[Qr]),In={body:react.exports.useRef()},Rn=react.exports.useMemo(function(){return typeof vt=="function"?vt:function(Vn){return Vn==null?void 0:Vn[vt]}},[vt]),Mn=useLazyKVMap(Qr,cn,Rn),Fn=_slicedToArray$3(Mn,1),Xr=Fn[0],wn={},vn=function(qn,oo){var bo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ur=_extends$2(_extends$2({},wn),qn);bo&&(wn.resetPagination(),Ur.pagination.current&&(Ur.pagination.current=1),ft&&ft.onChange&&ft.onChange(1,Ur.pagination.pageSize)),Gt&&Gt.scrollToFirstRowOnChange!==!1&&In.body.current&&scrollTo(0,{getContainer:function(){return In.body.current}}),wt==null||wt(Ur.pagination,Ur.filters,Ur.sorter,{currentDataSource:getFilterData(getSortData(Qr,Ur.sorterStates,cn),Ur.filterStates),action:oo})},$n=function(qn,oo){vn({sorter:qn,sorterStates:oo},"sort",!1)},Xn=useFilterSorter({prefixCls:yn,mergedColumns:dr,onSorterChange:$n,sortDirections:jt||["ascend","descend"],tableLocale:qr,showSorterTooltip:Zt}),no=_slicedToArray$3(Xn,4),zn=no[0],so=no[1],vo=no[2],Eo=no[3],To=react.exports.useMemo(function(){return getSortData(Qr,so,cn)},[Qr,so]);wn.sorter=Eo(),wn.sorterStates=so;var Io=function(qn,oo){vn({filters:qn,filterStates:oo},"filter",!0)},$a=useFilter({prefixCls:yn,locale:qr,dropdownPrefixCls:pn,mergedColumns:dr,onFilterChange:Io,getPopupContainer:Et}),mo=_slicedToArray$3($a,3),Po=mo[0],Ro=mo[1],Vo=mo[2],Oo=getFilterData(To,Ro);wn.filters=Vo(),wn.filterStates=Ro;var Wo=react.exports.useMemo(function(){return _extends$2({},vo)},[vo]),os=useTitleColumns(Wo),hs=_slicedToArray$3(os,1),Uo=hs[0],Zo=function(qn,oo){vn({pagination:_extends$2(_extends$2({},wn.pagination),{current:qn,pageSize:oo})},"paginate")},Lo=usePagination(Oo.length,ft,Zo),cs=_slicedToArray$3(Lo,2),ba=cs[0],lo=cs[1];wn.pagination=ft===!1?{}:getPaginationParam(ft,ba),wn.resetPagination=lo;var Bn=react.exports.useMemo(function(){if(ft===!1||!ba.pageSize)return Oo;var Vn=ba.current,qn=Vn===void 0?1:Vn,oo=ba.total,bo=ba.pageSize,Ur=bo===void 0?DEFAULT_PAGE_SIZE:bo;return Oo.length<oo?Oo.length>Ur?Oo.slice((qn-1)*Ur,qn*Ur):Oo:Oo.slice((qn-1)*Ur,qn*Ur)},[!!ft,Oo,ba&&ba.current,ba&&ba.pageSize,ba&&ba.total]),ur=useSelection(dt,{prefixCls:yn,data:Oo,pageData:Bn,getRowKey:Rn,getRecordByKey:Xr,expandType:Pn,childrenColumnName:cn,locale:qr,getPopupContainer:Et}),tr=_slicedToArray$3(ur,2),or=tr[0],gr=tr[1],Er=function(qn,oo,bo){var Ur;return typeof gt=="function"?Ur=classNames(gt(qn,oo,bo)):Ur=classNames(gt),classNames(_defineProperty$4({},"".concat(yn,"-row-selected"),gr.has(Rn(qn,oo))),Ur)};ln.__PARENT_RENDER_ICON__=ln.expandIcon,ln.expandIcon=ln.expandIcon||It||renderExpandIcon(qr),Pn==="nest"&&ln.expandIconColumnIndex===void 0?ln.expandIconColumnIndex=dt?1:0:ln.expandIconColumnIndex>0&&dt&&(ln.expandIconColumnIndex-=1),typeof ln.indentSize!="number"&&(ln.indentSize=typeof zt=="number"?zt:15);var zr=react.exports.useCallback(function(Vn){return Uo(or(Po(zn(Vn))))},[zn,Po,or]),Kr,Hr;if(ft!==!1&&(ba==null?void 0:ba.total)){var Or;ba.size?Or=ba.size:Or=Br==="small"||Br==="middle"?"small":void 0;var Zr=function(qn){return react.exports.createElement(Pagination$1,_extends$2({},ba,{className:classNames("".concat(yn,"-pagination ").concat(yn,"-pagination-").concat(qn),ba.className),size:Or}))},En=Lr==="rtl"?"left":"right",Gn=ba.position;if(Gn!==null&&Array.isArray(Gn)){var Cn=Gn.find(function(Vn){return Vn.indexOf("top")!==-1}),ga=Gn.find(function(Vn){return Vn.indexOf("bottom")!==-1}),uo=Gn.every(function(Vn){return"".concat(Vn)==="none"});!Cn&&!ga&&!uo&&(Hr=Zr(En)),Cn&&(Kr=Zr(Cn.toLowerCase().replace("top",""))),ga&&(Hr=Zr(ga.toLowerCase().replace("bottom","")))}else Hr=Zr(En)}var _i;typeof $t=="boolean"?_i={spinning:$t}:_typeof$4($t)==="object"&&(_i=_extends$2({spinning:!0},$t));var co=classNames("".concat(yn,"-wrapper"),_defineProperty$4({},"".concat(yn,"-wrapper-rtl"),Lr==="rtl"),nt);return react.exports.createElement("div",{ref:_e,className:co,style:at},react.exports.createElement(Spin$1,_extends$2({spinning:!1},_i),Kr,react.exports.createElement(Table$2,_extends$2({},sr,{columns:dr,direction:Lr,expandable:ln,prefixCls:yn,className:classNames((et={},_defineProperty$4(et,"".concat(yn,"-middle"),Br==="middle"),_defineProperty$4(et,"".concat(yn,"-small"),Br==="small"),_defineProperty$4(et,"".concat(yn,"-bordered"),it),_defineProperty$4(et,"".concat(yn,"-empty"),Qr.length===0),et)),data:Bn,rowKey:Rn,rowClassName:Er,emptyText:Ut&&Ut.emptyText||(Mr||defaultRenderEmpty$1)("Table"),internalHooks:INTERNAL_HOOKS,internalRefs:In,transformColumns:zr})),Hr))}var ForwardTable=react.exports.forwardRef(InternalTable),Table=ForwardTable;Table.defaultProps={rowKey:"key"};Table.SELECTION_COLUMN=SELECTION_COLUMN;Table.EXPAND_COLUMN=Table$2.EXPAND_COLUMN;Table.SELECTION_ALL=SELECTION_ALL;Table.SELECTION_INVERT=SELECTION_INVERT;Table.SELECTION_NONE=SELECTION_NONE;Table.Column=Column;Table.ColumnGroup=ColumnGroup;Table.Summary=FooterComponents;var Table$1=Table,axios$2={exports:{}},bind$4=function(_e,et){return function(){for(var nt=new Array(arguments.length),at=0;at<nt.length;at++)nt[at]=arguments[at];return _e.apply(et,nt)}},bind$3=bind$4,toString=Object.prototype.toString,kindOf=function($){return function(_e){var et=toString.call(_e);return $[et]||($[et]=et.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest($){return $=$.toLowerCase(),function(et){return kindOf(et)===$}}function isArray$2($){return Array.isArray($)}function isUndefined($){return typeof $=="undefined"}function isBuffer($){return $!==null&&!isUndefined($)&&$.constructor!==null&&!isUndefined($.constructor)&&typeof $.constructor.isBuffer=="function"&&$.constructor.isBuffer($)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView($){var _e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?_e=ArrayBuffer.isView($):_e=$&&$.buffer&&isArrayBuffer($.buffer),_e}function isString$1($){return typeof $=="string"}function isNumber$1($){return typeof $=="number"}function isObject$4($){return $!==null&&typeof $=="object"}function isPlainObject($){if(kindOf($)!=="object")return!1;var _e=Object.getPrototypeOf($);return _e===null||_e===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction$1($){return toString.call($)==="[object Function]"}function isStream($){return isObject$4($)&&isFunction$1($.pipe)}function isFormData($){var _e="[object FormData]";return $&&(typeof FormData=="function"&&$ instanceof FormData||toString.call($)===_e||isFunction$1($.toString)&&$.toString()===_e)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim$2($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach($,_e){if(!($===null||typeof $=="undefined"))if(typeof $!="object"&&($=[$]),isArray$2($))for(var et=0,tt=$.length;et<tt;et++)_e.call(null,$[et],et,$);else for(var nt in $)Object.prototype.hasOwnProperty.call($,nt)&&_e.call(null,$[nt],nt,$)}function merge$1(){var $={};function _e(nt,at){isPlainObject($[at])&&isPlainObject(nt)?$[at]=merge$1($[at],nt):isPlainObject(nt)?$[at]=merge$1({},nt):isArray$2(nt)?$[at]=nt.slice():$[at]=nt}for(var et=0,tt=arguments.length;et<tt;et++)forEach(arguments[et],_e);return $}function extend$1($,_e,et){return forEach(_e,function(nt,at){et&&typeof nt=="function"?$[at]=bind$3(nt,et):$[at]=nt}),$}function stripBOM($){return $.charCodeAt(0)===65279&&($=$.slice(1)),$}function inherits$1($,_e,et,tt){$.prototype=Object.create(_e.prototype,tt),$.prototype.constructor=$,et&&Object.assign($.prototype,et)}function toFlatObject($,_e,et){var tt,nt,at,ot={};_e=_e||{};do{for(tt=Object.getOwnPropertyNames($),nt=tt.length;nt-- >0;)at=tt[nt],ot[at]||(_e[at]=$[at],ot[at]=!0);$=Object.getPrototypeOf($)}while($&&(!et||et($,_e))&&$!==Object.prototype);return _e}function endsWith($,_e,et){$=String($),(et===void 0||et>$.length)&&(et=$.length),et-=_e.length;var tt=$.indexOf(_e,et);return tt!==-1&&tt===et}function toArray($){if(!$)return null;var _e=$.length;if(isUndefined(_e))return null;for(var et=new Array(_e);_e-- >0;)et[_e]=$[_e];return et}var isTypedArray$1=function($){return function(_e){return $&&_e instanceof $}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),utils$h={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isObject:isObject$4,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$1,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge:merge$1,extend:extend$1,trim:trim$2,stripBOM,inherits:inherits$1,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray:isTypedArray$1,isFileList},utils$g=utils$h;function encode($){return encodeURIComponent($).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(_e,et,tt){if(!et)return _e;var nt;if(tt)nt=tt(et);else if(utils$g.isURLSearchParams(et))nt=et.toString();else{var at=[];utils$g.forEach(et,function(st,ut){st===null||typeof st=="undefined"||(utils$g.isArray(st)?ut=ut+"[]":st=[st],utils$g.forEach(st,function(dt){utils$g.isDate(dt)?dt=dt.toISOString():utils$g.isObject(dt)&&(dt=JSON.stringify(dt)),at.push(encode(ut)+"="+encode(dt))}))}),nt=at.join("&")}if(nt){var ot=_e.indexOf("#");ot!==-1&&(_e=_e.slice(0,ot)),_e+=(_e.indexOf("?")===-1?"?":"&")+nt}return _e},utils$f=utils$h;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(_e,et,tt){return this.handlers.push({fulfilled:_e,rejected:et,synchronous:tt?tt.synchronous:!1,runWhen:tt?tt.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(_e){this.handlers[_e]&&(this.handlers[_e]=null)};InterceptorManager$1.prototype.forEach=function(_e){utils$f.forEach(this.handlers,function(tt){tt!==null&&_e(tt)})};var InterceptorManager_1=InterceptorManager$1,utils$e=utils$h,normalizeHeaderName$1=function(_e,et){utils$e.forEach(_e,function(nt,at){at!==et&&at.toUpperCase()===et.toUpperCase()&&(_e[et]=nt,delete _e[at])})},utils$d=utils$h;function AxiosError$5($,_e,et,tt,nt){Error.call(this),this.message=$,this.name="AxiosError",_e&&(this.code=_e),et&&(this.config=et),tt&&(this.request=tt),nt&&(this.response=nt)}utils$d.inherits(AxiosError$5,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$5.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function($){descriptors[$]={value:$}});Object.defineProperties(AxiosError$5,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$5.from=function($,_e,et,tt,nt,at){var ot=Object.create(prototype);return utils$d.toFlatObject($,ot,function(st){return st!==Error.prototype}),AxiosError$5.call(ot,$.message,_e,et,tt,nt),ot.name=$.name,at&&Object.assign(ot,at),ot};var AxiosError_1=AxiosError$5,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$c=utils$h;function toFormData$1($,_e){_e=_e||new FormData;var et=[];function tt(at){return at===null?"":utils$c.isDate(at)?at.toISOString():utils$c.isArrayBuffer(at)||utils$c.isTypedArray(at)?typeof Blob=="function"?new Blob([at]):Buffer.from(at):at}function nt(at,ot){if(utils$c.isPlainObject(at)||utils$c.isArray(at)){if(et.indexOf(at)!==-1)throw Error("Circular reference detected in "+ot);et.push(at),utils$c.forEach(at,function(st,ut){if(!utils$c.isUndefined(st)){var ft=ot?ot+"."+ut:ut,dt;if(st&&!ot&&typeof st=="object"){if(utils$c.endsWith(ut,"{}"))st=JSON.stringify(st);else if(utils$c.endsWith(ut,"[]")&&(dt=utils$c.toArray(st))){dt.forEach(function(vt){!utils$c.isUndefined(vt)&&_e.append(ft,tt(vt))});return}}nt(st,ft)}}),et.pop()}else _e.append(ot,tt(at))}return nt($),_e}var toFormData_1=toFormData$1,AxiosError$4=AxiosError_1,settle$1=function(_e,et,tt){var nt=tt.config.validateStatus;!tt.status||!nt||nt(tt.status)?_e(tt):et(new AxiosError$4("Request failed with status code "+tt.status,[AxiosError$4.ERR_BAD_REQUEST,AxiosError$4.ERR_BAD_RESPONSE][Math.floor(tt.status/100)-4],tt.config,tt.request,tt))},utils$b=utils$h,cookies$1=utils$b.isStandardBrowserEnv()?function(){return{write:function(et,tt,nt,at,ot,it){var st=[];st.push(et+"="+encodeURIComponent(tt)),utils$b.isNumber(nt)&&st.push("expires="+new Date(nt).toGMTString()),utils$b.isString(at)&&st.push("path="+at),utils$b.isString(ot)&&st.push("domain="+ot),it===!0&&st.push("secure"),document.cookie=st.join("; ")},read:function(et){var tt=document.cookie.match(new RegExp("(^|;\\s*)("+et+")=([^;]*)"));return tt?decodeURIComponent(tt[3]):null},remove:function(et){this.write(et,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)},combineURLs$1=function(_e,et){return et?_e.replace(/\/+$/,"")+"/"+et.replace(/^\/+/,""):_e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$2=function(_e,et){return _e&&!isAbsoluteURL(et)?combineURLs(_e,et):et},utils$a=utils$h,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(_e){var et={},tt,nt,at;return _e&&utils$a.forEach(_e.split(`
`),function(it){if(at=it.indexOf(":"),tt=utils$a.trim(it.substr(0,at)).toLowerCase(),nt=utils$a.trim(it.substr(at+1)),tt){if(et[tt]&&ignoreDuplicateOf.indexOf(tt)>=0)return;tt==="set-cookie"?et[tt]=(et[tt]?et[tt]:[]).concat([nt]):et[tt]=et[tt]?et[tt]+", "+nt:nt}}),et},utils$9=utils$h,isURLSameOrigin$1=utils$9.isStandardBrowserEnv()?function(){var _e=/(msie|trident)/i.test(navigator.userAgent),et=document.createElement("a"),tt;function nt(at){var ot=at;return _e&&(et.setAttribute("href",ot),ot=et.href),et.setAttribute("href",ot),{href:et.href,protocol:et.protocol?et.protocol.replace(/:$/,""):"",host:et.host,search:et.search?et.search.replace(/^\?/,""):"",hash:et.hash?et.hash.replace(/^#/,""):"",hostname:et.hostname,port:et.port,pathname:et.pathname.charAt(0)==="/"?et.pathname:"/"+et.pathname}}return tt=nt(window.location.href),function(ot){var it=utils$9.isString(ot)?nt(ot):ot;return it.protocol===tt.protocol&&it.host===tt.host}}():function(){return function(){return!0}}(),AxiosError$3=AxiosError_1,utils$8=utils$h;function CanceledError$3($){AxiosError$3.call(this,$==null?"canceled":$,AxiosError$3.ERR_CANCELED),this.name="CanceledError"}utils$8.inherits(CanceledError$3,AxiosError$3,{__CANCEL__:!0});var CanceledError_1=CanceledError$3,parseProtocol$1=function(_e){var et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return et&&et[1]||""},utils$7=utils$h,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath$1=buildFullPath$2,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,transitionalDefaults$1=transitional,AxiosError$2=AxiosError_1,CanceledError$2=CanceledError_1,parseProtocol=parseProtocol$1,xhr=function(_e){return new Promise(function(tt,nt){var at=_e.data,ot=_e.headers,it=_e.responseType,st;function ut(){_e.cancelToken&&_e.cancelToken.unsubscribe(st),_e.signal&&_e.signal.removeEventListener("abort",st)}utils$7.isFormData(at)&&utils$7.isStandardBrowserEnv()&&delete ot["Content-Type"];var ft=new XMLHttpRequest;if(_e.auth){var dt=_e.auth.username||"",vt=_e.auth.password?unescape(encodeURIComponent(_e.auth.password)):"";ot.Authorization="Basic "+btoa(dt+":"+vt)}var gt=buildFullPath$1(_e.baseURL,_e.url);ft.open(_e.method.toUpperCase(),buildURL$1(gt,_e.params,_e.paramsSerializer),!0),ft.timeout=_e.timeout;function yt(){if(!!ft){var wt="getAllResponseHeaders"in ft?parseHeaders(ft.getAllResponseHeaders()):null,Et=!it||it==="text"||it==="json"?ft.responseText:ft.response,$t={data:Et,status:ft.status,statusText:ft.statusText,headers:wt,config:_e,request:ft};settle(function(Ot){tt(Ot),ut()},function(Ot){nt(Ot),ut()},$t),ft=null}}if("onloadend"in ft?ft.onloadend=yt:ft.onreadystatechange=function(){!ft||ft.readyState!==4||ft.status===0&&!(ft.responseURL&&ft.responseURL.indexOf("file:")===0)||setTimeout(yt)},ft.onabort=function(){!ft||(nt(new AxiosError$2("Request aborted",AxiosError$2.ECONNABORTED,_e,ft)),ft=null)},ft.onerror=function(){nt(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,_e,ft,ft)),ft=null},ft.ontimeout=function(){var Et=_e.timeout?"timeout of "+_e.timeout+"ms exceeded":"timeout exceeded",$t=_e.transitional||transitionalDefaults$1;_e.timeoutErrorMessage&&(Et=_e.timeoutErrorMessage),nt(new AxiosError$2(Et,$t.clarifyTimeoutError?AxiosError$2.ETIMEDOUT:AxiosError$2.ECONNABORTED,_e,ft)),ft=null},utils$7.isStandardBrowserEnv()){var xt=(_e.withCredentials||isURLSameOrigin(gt))&&_e.xsrfCookieName?cookies.read(_e.xsrfCookieName):void 0;xt&&(ot[_e.xsrfHeaderName]=xt)}"setRequestHeader"in ft&&utils$7.forEach(ot,function(Et,$t){typeof at=="undefined"&&$t.toLowerCase()==="content-type"?delete ot[$t]:ft.setRequestHeader($t,Et)}),utils$7.isUndefined(_e.withCredentials)||(ft.withCredentials=!!_e.withCredentials),it&&it!=="json"&&(ft.responseType=_e.responseType),typeof _e.onDownloadProgress=="function"&&ft.addEventListener("progress",_e.onDownloadProgress),typeof _e.onUploadProgress=="function"&&ft.upload&&ft.upload.addEventListener("progress",_e.onUploadProgress),(_e.cancelToken||_e.signal)&&(st=function(wt){!ft||(nt(!wt||wt&&wt.type?new CanceledError$2:wt),ft.abort(),ft=null)},_e.cancelToken&&_e.cancelToken.subscribe(st),_e.signal&&(_e.signal.aborted?st():_e.signal.addEventListener("abort",st))),at||(at=null);var Ct=parseProtocol(gt);if(Ct&&["http","https","file"].indexOf(Ct)===-1){nt(new AxiosError$2("Unsupported protocol "+Ct+":",AxiosError$2.ERR_BAD_REQUEST,_e));return}ft.send(at)})},_null=null,utils$6=utils$h,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset($,_e){!utils$6.isUndefined($)&&utils$6.isUndefined($["Content-Type"])&&($["Content-Type"]=_e)}function getDefaultAdapter(){var $;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&($=xhr),$}function stringifySafely($,_e,et){if(utils$6.isString($))try{return(_e||JSON.parse)($),utils$6.trim($)}catch(tt){if(tt.name!=="SyntaxError")throw tt}return(et||JSON.stringify)($)}var defaults$4={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(_e,et){if(normalizeHeaderName(et,"Accept"),normalizeHeaderName(et,"Content-Type"),utils$6.isFormData(_e)||utils$6.isArrayBuffer(_e)||utils$6.isBuffer(_e)||utils$6.isStream(_e)||utils$6.isFile(_e)||utils$6.isBlob(_e))return _e;if(utils$6.isArrayBufferView(_e))return _e.buffer;if(utils$6.isURLSearchParams(_e))return setContentTypeIfUnset(et,"application/x-www-form-urlencoded;charset=utf-8"),_e.toString();var tt=utils$6.isObject(_e),nt=et&&et["Content-Type"],at;if((at=utils$6.isFileList(_e))||tt&&nt==="multipart/form-data"){var ot=this.env&&this.env.FormData;return toFormData(at?{"files[]":_e}:_e,ot&&new ot)}else if(tt||nt==="application/json")return setContentTypeIfUnset(et,"application/json"),stringifySafely(_e);return _e}],transformResponse:[function(_e){var et=this.transitional||defaults$4.transitional,tt=et&&et.silentJSONParsing,nt=et&&et.forcedJSONParsing,at=!tt&&this.responseType==="json";if(at||nt&&utils$6.isString(_e)&&_e.length)try{return JSON.parse(_e)}catch(ot){if(at)throw ot.name==="SyntaxError"?AxiosError$1.from(ot,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):ot}return _e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_null},validateStatus:function(_e){return _e>=200&&_e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function(_e){defaults$4.headers[_e]={}});utils$6.forEach(["post","put","patch"],function(_e){defaults$4.headers[_e]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$4,utils$5=utils$h,defaults$3=defaults_1,transformData$1=function(_e,et,tt){var nt=this||defaults$3;return utils$5.forEach(tt,function(ot){_e=ot.call(nt,_e,et)}),_e},isCancel$1=function(_e){return!!(_e&&_e.__CANCEL__)},utils$4=utils$h,transformData=transformData$1,isCancel=isCancel$1,defaults$2=defaults_1,CanceledError$1=CanceledError_1;function throwIfCancellationRequested($){if($.cancelToken&&$.cancelToken.throwIfRequested(),$.signal&&$.signal.aborted)throw new CanceledError$1}var dispatchRequest$1=function(_e){throwIfCancellationRequested(_e),_e.headers=_e.headers||{},_e.data=transformData.call(_e,_e.data,_e.headers,_e.transformRequest),_e.headers=utils$4.merge(_e.headers.common||{},_e.headers[_e.method]||{},_e.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(nt){delete _e.headers[nt]});var et=_e.adapter||defaults$2.adapter;return et(_e).then(function(nt){return throwIfCancellationRequested(_e),nt.data=transformData.call(_e,nt.data,nt.headers,_e.transformResponse),nt},function(nt){return isCancel(nt)||(throwIfCancellationRequested(_e),nt&&nt.response&&(nt.response.data=transformData.call(_e,nt.response.data,nt.response.headers,_e.transformResponse))),Promise.reject(nt)})},utils$3=utils$h,mergeConfig$2=function(_e,et){et=et||{};var tt={};function nt(ft,dt){return utils$3.isPlainObject(ft)&&utils$3.isPlainObject(dt)?utils$3.merge(ft,dt):utils$3.isPlainObject(dt)?utils$3.merge({},dt):utils$3.isArray(dt)?dt.slice():dt}function at(ft){if(utils$3.isUndefined(et[ft])){if(!utils$3.isUndefined(_e[ft]))return nt(void 0,_e[ft])}else return nt(_e[ft],et[ft])}function ot(ft){if(!utils$3.isUndefined(et[ft]))return nt(void 0,et[ft])}function it(ft){if(utils$3.isUndefined(et[ft])){if(!utils$3.isUndefined(_e[ft]))return nt(void 0,_e[ft])}else return nt(void 0,et[ft])}function st(ft){if(ft in et)return nt(_e[ft],et[ft]);if(ft in _e)return nt(void 0,_e[ft])}var ut={url:ot,method:ot,data:ot,baseURL:it,transformRequest:it,transformResponse:it,paramsSerializer:it,timeout:it,timeoutMessage:it,withCredentials:it,adapter:it,responseType:it,xsrfCookieName:it,xsrfHeaderName:it,onUploadProgress:it,onDownloadProgress:it,decompress:it,maxContentLength:it,maxBodyLength:it,beforeRedirect:it,transport:it,httpAgent:it,httpsAgent:it,cancelToken:it,socketPath:it,responseEncoding:it,validateStatus:st};return utils$3.forEach(Object.keys(_e).concat(Object.keys(et)),function(dt){var vt=ut[dt]||at,gt=vt(dt);utils$3.isUndefined(gt)&&vt!==st||(tt[dt]=gt)}),tt},data={version:"0.27.2"},VERSION=data.version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function($,_e){validators$1[$]=function(tt){return typeof tt===$||"a"+(_e<1?"n ":" ")+$}});var deprecatedWarnings={};validators$1.transitional=function(_e,et,tt){function nt(at,ot){return"[Axios v"+VERSION+"] Transitional option '"+at+"'"+ot+(tt?". "+tt:"")}return function(at,ot,it){if(_e===!1)throw new AxiosError(nt(ot," has been removed"+(et?" in "+et:"")),AxiosError.ERR_DEPRECATED);return et&&!deprecatedWarnings[ot]&&(deprecatedWarnings[ot]=!0,console.warn(nt(ot," has been deprecated since v"+et+" and will be removed in the near future"))),_e?_e(at,ot,it):!0}};function assertOptions($,_e,et){if(typeof $!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var tt=Object.keys($),nt=tt.length;nt-- >0;){var at=tt[nt],ot=_e[at];if(ot){var it=$[at],st=it===void 0||ot(it,at,$);if(st!==!0)throw new AxiosError("option "+at+" must be "+st,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError("Unknown option "+at,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$h,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$2,validator=validator$1,validators=validator.validators;function Axios$1($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(_e,et){typeof _e=="string"?(et=et||{},et.url=_e):et=_e||{},et=mergeConfig$1(this.defaults,et),et.method?et.method=et.method.toLowerCase():this.defaults.method?et.method=this.defaults.method.toLowerCase():et.method="get";var tt=et.transitional;tt!==void 0&&validator.assertOptions(tt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var nt=[],at=!0;this.interceptors.request.forEach(function(gt){typeof gt.runWhen=="function"&&gt.runWhen(et)===!1||(at=at&&gt.synchronous,nt.unshift(gt.fulfilled,gt.rejected))});var ot=[];this.interceptors.response.forEach(function(gt){ot.push(gt.fulfilled,gt.rejected)});var it;if(!at){var st=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(st,nt),st=st.concat(ot),it=Promise.resolve(et);st.length;)it=it.then(st.shift(),st.shift());return it}for(var ut=et;nt.length;){var ft=nt.shift(),dt=nt.shift();try{ut=ft(ut)}catch(vt){dt(vt);break}}try{it=dispatchRequest(ut)}catch(vt){return Promise.reject(vt)}for(;ot.length;)it=it.then(ot.shift(),ot.shift());return it};Axios$1.prototype.getUri=function(_e){_e=mergeConfig$1(this.defaults,_e);var et=buildFullPath(_e.baseURL,_e.url);return buildURL(et,_e.params,_e.paramsSerializer)};utils$2.forEach(["delete","get","head","options"],function(_e){Axios$1.prototype[_e]=function(et,tt){return this.request(mergeConfig$1(tt||{},{method:_e,url:et,data:(tt||{}).data}))}});utils$2.forEach(["post","put","patch"],function(_e){function et(tt){return function(at,ot,it){return this.request(mergeConfig$1(it||{},{method:_e,headers:tt?{"Content-Type":"multipart/form-data"}:{},url:at,data:ot}))}}Axios$1.prototype[_e]=et(),Axios$1.prototype[_e+"Form"]=et(!0)});var Axios_1=Axios$1,CanceledError=CanceledError_1;function CancelToken($){if(typeof $!="function")throw new TypeError("executor must be a function.");var _e;this.promise=new Promise(function(nt){_e=nt});var et=this;this.promise.then(function(tt){if(!!et._listeners){var nt,at=et._listeners.length;for(nt=0;nt<at;nt++)et._listeners[nt](tt);et._listeners=null}}),this.promise.then=function(tt){var nt,at=new Promise(function(ot){et.subscribe(ot),nt=ot}).then(tt);return at.cancel=function(){et.unsubscribe(nt)},at},$(function(nt){et.reason||(et.reason=new CanceledError(nt),_e(et.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(_e){if(this.reason){_e(this.reason);return}this._listeners?this._listeners.push(_e):this._listeners=[_e]};CancelToken.prototype.unsubscribe=function(_e){if(!!this._listeners){var et=this._listeners.indexOf(_e);et!==-1&&this._listeners.splice(et,1)}};CancelToken.source=function(){var _e,et=new CancelToken(function(nt){_e=nt});return{token:et,cancel:_e}};var CancelToken_1=CancelToken,spread=function(_e){return function(tt){return _e.apply(null,tt)}},utils$1=utils$h,isAxiosError=function(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0},utils=utils$h,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$1=defaults_1;function createInstance($){var _e=new Axios($),et=bind$2(Axios.prototype.request,_e);return utils.extend(et,Axios.prototype,_e),utils.extend(et,_e),et.create=function(nt){return createInstance(mergeConfig($,nt))},et}var axios$1=createInstance(defaults$1);axios$1.Axios=Axios;axios$1.CanceledError=CanceledError_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.toFormData=toFormData_1;axios$1.AxiosError=AxiosError_1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(_e){return Promise.all(_e)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;const BASE_URL$1="/api",request=axios.create({baseURL:BASE_URL$1,timeout:5e3,headers:{"Access-Token":session.get("token")||""}});request.interceptors.response.use($=>{const _e=$.config.url;return/(http|https):\/\/\S*/.test(_e)||$.data.code<400?$.data:(message.error($.data.msg||"\u54CE\u5440\uFF0C\u51FA\u4E86\u4E00\u4E9B\u5C0F\u95EE\u9898"),Promise.reject($.data))},$=>(message.error("\u54CE\u5440\uFF0C\u51FA\u4E86\u4E00\u4E9B\u5C0F\u95EE\u9898"),Promise.reject($)));const api$1={login:"/login",logout:"/logout",getUserInfo:"/userInfo"};function login($,_e,et){return request({url:api$1.login,method:"post",data:{username:$,password:_e}})}function logout(){return request({url:api$1.logout,method:"post"})}function getUserInfo(){return request({url:api$1.getUserInfo,method:"get"})}const initialState$1={token:local.get("token")||session.get("token")},userLogin=createAsyncThunk("user/login",async $=>({tokenInfo:(await login($.username,$.password,$.remember)).data.token,remember:$.remember})),userLogout=createAsyncThunk("user/logout",async()=>await logout()),userGetInfo=createAsyncThunk("user/getInfo",async()=>await getUserInfo()),userSlice=createSlice({name:"user",initialState:initialState$1,reducers:{},extraReducers:$=>{$.addCase(userLogin.fulfilled,(_e,{payload:et})=>{const tt=et.tokenInfo;_e.token=tt,session.set("token",tt),et.remember&&local.set("token",tt),request.defaults.headers.common.AccessToken=tt,et.remember&&local.set("token",tt)}),$.addCase(userLogout.fulfilled,_e=>{session.remove("token"),local.remove("token"),_e.token=null,_e.info={},delete request.defaults.headers.common.AccessToken}),$.addCase(userGetInfo.fulfilled,(_e,{payload:et})=>{_e.info=et.data})}});var userReducer=userSlice.reducer;const api={getDeviceList:"/device/overview",getInfo:"/device/info"};function getOverview(){return request({method:"get",url:api.getDeviceList})}function getInfoByType($){return request({method:"get",url:api.getInfo,params:{type:$}})}const initialState={overview:null,details:{show:!1,title:"",type:null,data:{}}},getDeviceOverview=createAsyncThunk("device/getOverview",async()=>(await getOverview()).data),getDeviceListByType=createAsyncThunk("device/getList",async $=>{const _e=await getInfoByType($);return{type:$,data:_e.data}}),deviceSlice=createSlice({name:"device",initialState,reducers:{setDetailState:($,{payload:_e})=>{$.details.type=_e.type,$.details.title=_e.title||"",$.details.show=_e.show}},extraReducers:$=>{$.addCase(getDeviceOverview.fulfilled,(_e,{payload:et})=>{_e.overview=et}),$.addCase(getDeviceOverview.rejected,(_e,et)=>{message.error("\u83B7\u53D6\u914D\u7535\u623F\u5217\u8868\u6570\u636E\u5931\u8D25")}),$.addCase(getDeviceListByType.fulfilled,(_e,et)=>{const{type:tt,data:nt}=et.payload;_e.details.data[tt]=nt})}}),{setDetailState}=deviceSlice.actions;var deviceReducer=deviceSlice.reducer,shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=react.exports;function h$2($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var k$2=typeof Object.is=="function"?Object.is:h$2,l$1=e$2.useState,m$2=e$2.useEffect,n$2=e$2.useLayoutEffect,p$2=e$2.useDebugValue;function q$2($,_e){var et=_e(),tt=l$1({inst:{value:et,getSnapshot:_e}}),nt=tt[0].inst,at=tt[1];return n$2(function(){nt.value=et,nt.getSnapshot=_e,r$1(nt)&&at({inst:nt})},[$,et,_e]),m$2(function(){return r$1(nt)&&at({inst:nt}),$(function(){r$1(nt)&&at({inst:nt})})},[$]),p$2(et),et}function r$1($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!k$2($,et)}catch{return!0}}function t$2($,_e){return _e()}var u$2=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?t$2:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$1=react.exports,n$1=shim.exports;function p$1($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var q$1=typeof Object.is=="function"?Object.is:p$1,r=n$1.useSyncExternalStore,t$1=h$1.useRef,u$1=h$1.useEffect,v$1=h$1.useMemo,w=h$1.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function($,_e,et,tt,nt){var at=t$1(null);if(at.current===null){var ot={hasValue:!1,value:null};at.current=ot}else ot=at.current;at=v$1(function(){function st(gt){if(!ut){if(ut=!0,ft=gt,gt=tt(gt),nt!==void 0&&ot.hasValue){var yt=ot.value;if(nt(yt,gt))return dt=yt}return dt=gt}if(yt=dt,q$1(ft,gt))return yt;var xt=tt(gt);return nt!==void 0&&nt(yt,xt)?yt:(ft=gt,dt=xt)}var ut=!1,ft,dt,vt=et===void 0?null:et;return[function(){return st(_e())},vt===null?void 0:function(){return st(vt())}]},[_e,et,tt,nt]);var it=r($,at[0],at[1]);return u$1(function(){ot.hasValue=!0,ot.value=it},[it]),w(it),it};withSelector.exports=withSelector_production_min;function defaultNoopBatch($){$()}let batch=defaultNoopBatch;const setBatch=$=>batch=$,getBatch=()=>batch,ReactReduxContext=React.createContext(null);function useReduxContext(){return react.exports.useContext(ReactReduxContext)}const notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=$=>{useSyncExternalStoreWithSelector=$},refEquality=($,_e)=>$===_e;function createSelectorHook($=ReactReduxContext){const _e=$===ReactReduxContext?useReduxContext:()=>react.exports.useContext($);return function(tt,nt=refEquality){const{store:at,subscription:ot,getServerState:it}=_e(),st=useSyncExternalStoreWithSelector(ot.addNestedSub,at.getState,it||at.getState,tt,nt);return react.exports.useDebugValue(st),st}}const useSelector=createSelectorHook();var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case b:switch($=$.type,$){case d:case f:case e$1:case m$1:case n:return $;default:switch($=$&&$.$$typeof,$){case k$1:case h:case l:case q:case p:case g:return $;default:return _e}}case c:return _e}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e$1;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function($){return v($)===h};reactIs_production_min.isContextProvider=function($){return v($)===g};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b};reactIs_production_min.isForwardRef=function($){return v($)===l};reactIs_production_min.isFragment=function($){return v($)===d};reactIs_production_min.isLazy=function($){return v($)===q};reactIs_production_min.isMemo=function($){return v($)===p};reactIs_production_min.isPortal=function($){return v($)===c};reactIs_production_min.isProfiler=function($){return v($)===f};reactIs_production_min.isStrictMode=function($){return v($)===e$1};reactIs_production_min.isSuspense=function($){return v($)===m$1};reactIs_production_min.isSuspenseList=function($){return v($)===n};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d||$===f||$===e$1||$===m$1||$===n||$===t||typeof $=="object"&&$!==null&&($.$$typeof===q||$.$$typeof===p||$.$$typeof===g||$.$$typeof===h||$.$$typeof===l||$.$$typeof===u||$.getModuleId!==void 0)};reactIs_production_min.typeOf=v;function createListenerCollection(){const $=getBatch();let _e=null,et=null;return{clear(){_e=null,et=null},notify(){$(()=>{let tt=_e;for(;tt;)tt.callback(),tt=tt.next})},get(){let tt=[],nt=_e;for(;nt;)tt.push(nt),nt=nt.next;return tt},subscribe(tt){let nt=!0,at=et={callback:tt,next:null,prev:et};return at.prev?at.prev.next=at:_e=at,function(){!nt||_e===null||(nt=!1,at.next?at.next.prev=at.prev:et=at.prev,at.prev?at.prev.next=at.next:_e=at.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription($,_e){let et,tt=nullListeners;function nt(dt){return st(),tt.subscribe(dt)}function at(){tt.notify()}function ot(){ft.onStateChange&&ft.onStateChange()}function it(){return Boolean(et)}function st(){et||(et=_e?_e.addNestedSub(ot):$.subscribe(ot),tt=createListenerCollection())}function ut(){et&&(et(),et=void 0,tt.clear(),tt=nullListeners)}const ft={addNestedSub:nt,notifyNestedSubs:at,handleChangeWrapper:ot,isSubscribed:it,trySubscribe:st,tryUnsubscribe:ut,getListeners:()=>tt};return ft}const canUseDOM=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",useIsomorphicLayoutEffect=canUseDOM?react.exports.useLayoutEffect:react.exports.useEffect;function Provider({store:$,context:_e,children:et,serverState:tt}){const nt=react.exports.useMemo(()=>{const it=createSubscription($);return{store:$,subscription:it,getServerState:tt?()=>tt:void 0}},[$,tt]),at=react.exports.useMemo(()=>$.getState(),[$]);return useIsomorphicLayoutEffect(()=>{const{subscription:it}=nt;return it.onStateChange=it.notifyNestedSubs,it.trySubscribe(),at!==$.getState()&&it.notifyNestedSubs(),()=>{it.tryUnsubscribe(),it.onStateChange=void 0}},[nt,at]),jsx((_e||ReactReduxContext).Provider,{value:nt,children:et})}function createStoreHook($=ReactReduxContext){const _e=$===ReactReduxContext?useReduxContext:()=>react.exports.useContext($);return function(){const{store:tt}=_e();return tt}}const useStore=createStoreHook();function createDispatchHook($=ReactReduxContext){const _e=$===ReactReduxContext?useStore:createStoreHook($);return function(){return _e().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelector.exports.useSyncExternalStoreWithSelector);setBatch(reactDom.exports.unstable_batchedUpdates);const store=configureStore({reducer:{user:userReducer,device:deviceReducer}}),useAppDispatch=()=>useDispatch(),useAppSelector=useSelector;var Action;(function($){$.Pop="POP",$.Push="PUSH",$.Replace="REPLACE"})(Action||(Action={}));var readOnly=function($){return $},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory($){$===void 0&&($={});var _e=$,et=_e.window,tt=et===void 0?document.defaultView:et,nt=tt.history;function at(){var Ft=tt.location,zt=Ft.pathname,Gt=Ft.search,jt=Ft.hash,Ut=nt.state||{};return[Ut.idx,readOnly({pathname:zt,search:Gt,hash:jt,state:Ut.usr||null,key:Ut.key||"default"})]}var ot=null;function it(){if(ot)gt.call(ot),ot=null;else{var Ft=Action.Pop,zt=at(),Gt=zt[0],jt=zt[1];if(gt.length){if(Gt!=null){var Ut=ft-Gt;Ut&&(ot={action:Ft,location:jt,retry:function(){Ot(Ut*-1)}},Ot(Ut))}}else Et(Ft)}}tt.addEventListener(PopStateEventType,it);var st=Action.Pop,ut=at(),ft=ut[0],dt=ut[1],vt=createEvents(),gt=createEvents();ft==null&&(ft=0,nt.replaceState(_extends$2({},nt.state,{idx:ft}),""));function yt(Ft){return typeof Ft=="string"?Ft:createPath$1(Ft)}function xt(Ft,zt){return zt===void 0&&(zt=null),readOnly(_extends$2({pathname:dt.pathname,hash:"",search:""},typeof Ft=="string"?parsePath(Ft):Ft,{state:zt,key:createKey()}))}function Ct(Ft,zt){return[{usr:Ft.state,key:Ft.key,idx:zt},yt(Ft)]}function wt(Ft,zt,Gt){return!gt.length||(gt.call({action:Ft,location:zt,retry:Gt}),!1)}function Et(Ft){st=Ft;var zt=at();ft=zt[0],dt=zt[1],vt.call({action:st,location:dt})}function $t(Ft,zt){var Gt=Action.Push,jt=xt(Ft,zt);function Ut(){$t(Ft,zt)}if(wt(Gt,jt,Ut)){var Kt=Ct(jt,ft+1),Zt=Kt[0],Qt=Kt[1];try{nt.pushState(Zt,"",Qt)}catch{tt.location.assign(Qt)}Et(Gt)}}function It(Ft,zt){var Gt=Action.Replace,jt=xt(Ft,zt);function Ut(){It(Ft,zt)}if(wt(Gt,jt,Ut)){var Kt=Ct(jt,ft),Zt=Kt[0],Qt=Kt[1];nt.replaceState(Zt,"",Qt),Et(Gt)}}function Ot(Ft){nt.go(Ft)}var Lt={get action(){return st},get location(){return dt},createHref:yt,push:$t,replace:It,go:Ot,back:function(){Ot(-1)},forward:function(){Ot(1)},listen:function(zt){return vt.push(zt)},block:function(zt){var Gt=gt.push(zt);return gt.length===1&&tt.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){Gt(),gt.length||tt.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return Lt}function promptBeforeUnload($){$.preventDefault(),$.returnValue=""}function createEvents(){var $=[];return{get length(){return $.length},push:function(et){return $.push(et),function(){$=$.filter(function(tt){return tt!==et})}},call:function(et){$.forEach(function(tt){return tt&&tt(et)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath$1($){var _e=$.pathname,et=_e===void 0?"/":_e,tt=$.search,nt=tt===void 0?"":tt,at=$.hash,ot=at===void 0?"":at;return nt&&nt!=="?"&&(et+=nt.charAt(0)==="?"?nt:"?"+nt),ot&&ot!=="#"&&(et+=ot.charAt(0)==="#"?ot:"#"+ot),et}function parsePath($){var _e={};if($){var et=$.indexOf("#");et>=0&&(_e.hash=$.substr(et),$=$.substr(0,et));var tt=$.indexOf("?");tt>=0&&(_e.search=$.substr(tt),$=$.substr(0,tt)),$&&(_e.pathname=$)}return _e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]});function invariant($,_e){if(!$)throw new Error(_e)}function matchRoutes($,_e,et){et===void 0&&(et="/");let tt=typeof _e=="string"?parsePath(_e):_e,nt=stripBasename(tt.pathname||"/",et);if(nt==null)return null;let at=flattenRoutes($);rankRouteBranches(at);let ot=null;for(let it=0;ot==null&&it<at.length;++it)ot=matchRouteBranch(at[it],nt);return ot}function flattenRoutes($,_e,et,tt){return _e===void 0&&(_e=[]),et===void 0&&(et=[]),tt===void 0&&(tt=""),$.forEach((nt,at)=>{let ot={relativePath:nt.path||"",caseSensitive:nt.caseSensitive===!0,childrenIndex:at,route:nt};ot.relativePath.startsWith("/")&&(ot.relativePath.startsWith(tt)||invariant(!1),ot.relativePath=ot.relativePath.slice(tt.length));let it=joinPaths([tt,ot.relativePath]),st=et.concat(ot);nt.children&&nt.children.length>0&&(nt.index===!0&&invariant(!1),flattenRoutes(nt.children,_e,st,it)),!(nt.path==null&&!nt.index)&&_e.push({path:it,score:computeScore(it,nt.index),routesMeta:st})}),_e}function rankRouteBranches($){$.sort((_e,et)=>_e.score!==et.score?et.score-_e.score:compareIndexes(_e.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,_e){let et=$.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),_e&&(tt+=indexRouteValue),et.filter(nt=>!isSplat(nt)).reduce((nt,at)=>nt+(paramRe.test(at)?dynamicSegmentValue:at===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes($,_e){return $.length===_e.length&&$.slice(0,-1).every((tt,nt)=>tt===_e[nt])?$[$.length-1]-_e[_e.length-1]:0}function matchRouteBranch($,_e){let{routesMeta:et}=$,tt={},nt="/",at=[];for(let ot=0;ot<et.length;++ot){let it=et[ot],st=ot===et.length-1,ut=nt==="/"?_e:_e.slice(nt.length)||"/",ft=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:st},ut);if(!ft)return null;Object.assign(tt,ft.params);let dt=it.route;at.push({params:tt,pathname:joinPaths([nt,ft.pathname]),pathnameBase:normalizePathname(joinPaths([nt,ft.pathnameBase])),route:dt}),ft.pathnameBase!=="/"&&(nt=joinPaths([nt,ft.pathnameBase]))}return at}function matchPath($,_e){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[et,tt]=compilePath($.path,$.caseSensitive,$.end),nt=_e.match(et);if(!nt)return null;let at=nt[0],ot=at.replace(/(.)\/+$/,"$1"),it=nt.slice(1);return{params:tt.reduce((ut,ft,dt)=>{if(ft==="*"){let vt=it[dt]||"";ot=at.slice(0,at.length-vt.length).replace(/(.)\/+$/,"$1")}return ut[ft]=safelyDecodeURIComponent(it[dt]||""),ut},{}),pathname:at,pathnameBase:ot,pattern:$}}function compilePath($,_e,et){_e===void 0&&(_e=!1),et===void 0&&(et=!0);let tt=[],nt="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(ot,it)=>(tt.push(it),"([^\\/]+)"));return $.endsWith("*")?(tt.push("*"),nt+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):nt+=et?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(nt,_e?void 0:"i"),tt]}function safelyDecodeURIComponent($,_e){try{return decodeURIComponent($)}catch{return $}}function resolvePath($,_e){_e===void 0&&(_e="/");let{pathname:et,search:tt="",hash:nt=""}=typeof $=="string"?parsePath($):$;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,_e):_e,search:normalizeSearch(tt),hash:normalizeHash(nt)}}function resolvePathname($,_e){let et=_e.replace(/\/+$/,"").split("/");return $.split("/").forEach(nt=>{nt===".."?et.length>1&&et.pop():nt!=="."&&et.push(nt)}),et.length>1?et.join("/"):"/"}function resolveTo($,_e,et){let tt=typeof $=="string"?parsePath($):$,nt=$===""||tt.pathname===""?"/":tt.pathname,at;if(nt==null)at=et;else{let it=_e.length-1;if(nt.startsWith("..")){let st=nt.split("/");for(;st[0]==="..";)st.shift(),it-=1;tt.pathname=st.join("/")}at=it>=0?_e[it]:"/"}let ot=resolvePath(tt,at);return nt&&nt!=="/"&&nt.endsWith("/")&&!ot.pathname.endsWith("/")&&(ot.pathname+="/"),ot}function stripBasename($,_e){if(_e==="/")return $;if(!$.toLowerCase().startsWith(_e.toLowerCase()))return null;let et=$.charAt(_e.length);return et&&et!=="/"?null:$.slice(_e.length)||"/"}const joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:$,navigator:_e}=react.exports.useContext(NavigationContext),{matches:et}=react.exports.useContext(RouteContext),{pathname:tt}=useLocation(),nt=JSON.stringify(et.map(it=>it.pathnameBase)),at=react.exports.useRef(!1);return react.exports.useEffect(()=>{at.current=!0}),react.exports.useCallback(function(it,st){if(st===void 0&&(st={}),!at.current)return;if(typeof it=="number"){_e.go(it);return}let ut=resolveTo(it,JSON.parse(nt),tt);$!=="/"&&(ut.pathname=joinPaths([$,ut.pathname])),(st.replace?_e.replace:_e.push)(ut,st.state)},[$,_e,nt,tt])}const OutletContext=react.exports.createContext(null);function useOutlet($){let _e=react.exports.useContext(RouteContext).outlet;return _e&&react.exports.createElement(OutletContext.Provider,{value:$},_e)}function useRoutes($,_e){useInRouterContext()||invariant(!1);let{matches:et}=react.exports.useContext(RouteContext),tt=et[et.length-1],nt=tt?tt.params:{};tt&&tt.pathname;let at=tt?tt.pathnameBase:"/";tt&&tt.route;let ot=useLocation(),it;if(_e){var st;let vt=typeof _e=="string"?parsePath(_e):_e;at==="/"||((st=vt.pathname)==null?void 0:st.startsWith(at))||invariant(!1),it=vt}else it=ot;let ut=it.pathname||"/",ft=at==="/"?ut:ut.slice(at.length)||"/",dt=matchRoutes($,{pathname:ft});return _renderMatches(dt&&dt.map(vt=>Object.assign({},vt,{params:Object.assign({},nt,vt.params),pathname:joinPaths([at,vt.pathname]),pathnameBase:vt.pathnameBase==="/"?at:joinPaths([at,vt.pathnameBase])})),et)}function _renderMatches($,_e){return _e===void 0&&(_e=[]),$==null?null:$.reduceRight((et,tt,nt)=>react.exports.createElement(RouteContext.Provider,{children:tt.route.element!==void 0?tt.route.element:et,value:{outlet:et,matches:_e.concat($.slice(0,nt+1))}}),null)}function Outlet($){return useOutlet($.context)}function Router$1($){let{basename:_e="/",children:et=null,location:tt,navigationType:nt=Action.Pop,navigator:at,static:ot=!1}=$;useInRouterContext()&&invariant(!1);let it=normalizePathname(_e),st=react.exports.useMemo(()=>({basename:it,navigator:at,static:ot}),[it,at,ot]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:ut="/",search:ft="",hash:dt="",state:vt=null,key:gt="default"}=tt,yt=react.exports.useMemo(()=>{let xt=stripBasename(ut,it);return xt==null?null:{pathname:xt,search:ft,hash:dt,state:vt,key:gt}},[it,ut,ft,dt,vt,gt]);return yt==null?null:react.exports.createElement(NavigationContext.Provider,{value:st},react.exports.createElement(LocationContext.Provider,{children:et,value:{location:yt,navigationType:nt}}))}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BrowserRouter($){let{basename:_e,children:et,window:tt}=$,nt=react.exports.useRef();nt.current==null&&(nt.current=createBrowserHistory({window:tt}));let at=nt.current,[ot,it]=react.exports.useState({action:at.action,location:at.location});return react.exports.useLayoutEffect(()=>at.listen(it),[at]),react.exports.createElement(Router$1,{basename:_e,children:et,location:ot.location,navigationType:ot.action,navigator:at})}var App$1="";const scriptRel="modulepreload",seen={},base$1="./",__vitePreload=function(_e,et){return!et||et.length===0?_e():Promise.all(et.map(tt=>{if(tt=`${base$1}${tt}`,tt in seen)return;seen[tt]=!0;const nt=tt.endsWith(".css"),at=nt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${tt}"]${at}`))return;const ot=document.createElement("link");if(ot.rel=nt?"stylesheet":scriptRel,nt||(ot.as="script",ot.crossOrigin=""),ot.href=tt,document.head.appendChild(ot),nt)return new Promise((it,st)=>{ot.addEventListener("load",it),ot.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${tt}`)))})})).then(()=>_e())},title={zh:"\u6545\u969C\u5B9A\u4F4D\u7CFB\u7EDF",en:"Fault Location System"},colors=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"];var mapboxGl$1={exports:{}};(function($,_e){(function(et,tt){$.exports=tt()})(commonjsGlobal,function(){var et,tt,nt;function at(it,st){if(!et)et=st;else if(!tt)tt=st;else{var ut="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+et+")(sharedChunk); ("+tt+")(sharedChunk); self.onerror = null;",ft={};et(ft),nt=st(ft),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(nt.workerUrl=window.URL.createObjectURL(new Blob([ut],{type:"text/javascript"})))}}at(["exports"],function(it){var st=typeof self!="undefined"?self:{},ut=ft;function ft(pt,ct,mt,_t){this.cx=3*pt,this.bx=3*(mt-pt)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*ct,this.by=3*(_t-ct)-this.cy,this.ay=1-this.cy-this.by,this.p1x=pt,this.p1y=_t,this.p2x=mt,this.p2y=_t}ft.prototype.sampleCurveX=function(pt){return((this.ax*pt+this.bx)*pt+this.cx)*pt},ft.prototype.sampleCurveY=function(pt){return((this.ay*pt+this.by)*pt+this.cy)*pt},ft.prototype.sampleCurveDerivativeX=function(pt){return(3*this.ax*pt+2*this.bx)*pt+this.cx},ft.prototype.solveCurveX=function(pt,ct){var mt,_t,St,At,Mt;for(ct===void 0&&(ct=1e-6),St=pt,Mt=0;Mt<8;Mt++){if(At=this.sampleCurveX(St)-pt,Math.abs(At)<ct)return St;var Dt=this.sampleCurveDerivativeX(St);if(Math.abs(Dt)<1e-6)break;St-=At/Dt}if((St=pt)<(mt=0))return mt;if(St>(_t=1))return _t;for(;mt<_t;){if(At=this.sampleCurveX(St),Math.abs(At-pt)<ct)return St;pt>At?mt=St:_t=St,St=.5*(_t-mt)+mt}return St},ft.prototype.solve=function(pt,ct){return this.sampleCurveY(this.solveCurveX(pt,ct))};var dt=vt;function vt(pt,ct){this.x=pt,this.y=ct}vt.prototype={clone:function(){return new vt(this.x,this.y)},add:function(pt){return this.clone()._add(pt)},sub:function(pt){return this.clone()._sub(pt)},multByPoint:function(pt){return this.clone()._multByPoint(pt)},divByPoint:function(pt){return this.clone()._divByPoint(pt)},mult:function(pt){return this.clone()._mult(pt)},div:function(pt){return this.clone()._div(pt)},rotate:function(pt){return this.clone()._rotate(pt)},rotateAround:function(pt,ct){return this.clone()._rotateAround(pt,ct)},matMult:function(pt){return this.clone()._matMult(pt)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(pt){return this.x===pt.x&&this.y===pt.y},dist:function(pt){return Math.sqrt(this.distSqr(pt))},distSqr:function(pt){var ct=pt.x-this.x,mt=pt.y-this.y;return ct*ct+mt*mt},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(pt){return Math.atan2(this.y-pt.y,this.x-pt.x)},angleWith:function(pt){return this.angleWithSep(pt.x,pt.y)},angleWithSep:function(pt,ct){return Math.atan2(this.x*ct-this.y*pt,this.x*pt+this.y*ct)},_matMult:function(pt){var ct=pt[2]*this.x+pt[3]*this.y;return this.x=pt[0]*this.x+pt[1]*this.y,this.y=ct,this},_add:function(pt){return this.x+=pt.x,this.y+=pt.y,this},_sub:function(pt){return this.x-=pt.x,this.y-=pt.y,this},_mult:function(pt){return this.x*=pt,this.y*=pt,this},_div:function(pt){return this.x/=pt,this.y/=pt,this},_multByPoint:function(pt){return this.x*=pt.x,this.y*=pt.y,this},_divByPoint:function(pt){return this.x/=pt.x,this.y/=pt.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var pt=this.y;return this.y=this.x,this.x=-pt,this},_rotate:function(pt){var ct=Math.cos(pt),mt=Math.sin(pt),_t=mt*this.x+ct*this.y;return this.x=ct*this.x-mt*this.y,this.y=_t,this},_rotateAround:function(pt,ct){var mt=Math.cos(pt),_t=Math.sin(pt),St=ct.y+_t*(this.x-ct.x)+mt*(this.y-ct.y);return this.x=ct.x+mt*(this.x-ct.x)-_t*(this.y-ct.y),this.y=St,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},vt.convert=function(pt){return pt instanceof vt?pt:Array.isArray(pt)?new vt(pt[0],pt[1]):pt};const gt=Math.PI/180,yt=180/Math.PI;function xt(pt){return pt*gt}function Ct(pt){return pt*yt}const wt=[[0,0],[1,0],[1,1],[0,1]];function Et(pt){if(pt<=0)return 0;if(pt>=1)return 1;const ct=pt*pt,mt=ct*pt;return 4*(pt<.5?mt:3*(pt-ct)+mt-.75)}function $t(pt,ct,mt,_t){const St=new ut(pt,ct,mt,_t);return function(At){return St.solve(At)}}const It=$t(.25,.1,.25,1);function Ot(pt,ct,mt){return Math.min(mt,Math.max(ct,pt))}function Lt(pt,ct,mt){return(mt=Ot((mt-pt)/(ct-pt),0,1))*mt*(3-2*mt)}function Ft(pt,ct,mt){const _t=mt-ct,St=((pt-ct)%_t+_t)%_t+ct;return St===ct?mt:St}function zt(pt,ct,mt){if(!pt.length)return mt(null,[]);let _t=pt.length;const St=new Array(pt.length);let At=null;pt.forEach((Mt,Dt)=>{ct(Mt,(Nt,Bt)=>{Nt&&(At=Nt),St[Dt]=Bt,--_t==0&&mt(At,St)})})}function Gt(pt){const ct=[];for(const mt in pt)ct.push(pt[mt]);return ct}function jt(pt,...ct){for(const mt of ct)for(const _t in mt)pt[_t]=mt[_t];return pt}let Ut=1;function Kt(){return Ut++}function Zt(){return function pt(ct){return ct?(ct^Math.random()*(16>>ct/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,pt)}()}function Qt(pt){return pt<=1?1:Math.pow(2,Math.ceil(Math.log(pt)/Math.LN2))}function rr(pt){return!!pt&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(pt)}function nr(pt,ct){pt.forEach(mt=>{ct[mt]&&(ct[mt]=ct[mt].bind(ct))})}function dr(pt,ct){return pt.indexOf(ct,pt.length-ct.length)!==-1}function sr(pt,ct,mt){const _t={};for(const St in pt)_t[St]=ct.call(mt||this,pt[St],St,pt);return _t}function fr(pt,ct,mt){const _t={};for(const St in pt)ct.call(mt||this,pt[St],St,pt)&&(_t[St]=pt[St]);return _t}function yr(pt){return Array.isArray(pt)?pt.map(yr):typeof pt=="object"&&pt?sr(pt,yr):pt}const Pr={};function wr(pt){Pr[pt]||(typeof console!="undefined"&&console.warn(pt),Pr[pt]=!0)}function Mr(pt,ct,mt){return(mt.y-pt.y)*(ct.x-pt.x)>(ct.y-pt.y)*(mt.x-pt.x)}function Lr(pt){let ct=0;for(let mt,_t,St=0,At=pt.length,Mt=At-1;St<At;Mt=St++)mt=pt[St],_t=pt[Mt],ct+=(_t.x-mt.x)*(mt.y+_t.y);return ct}function Br(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function qr(pt){const ct={};if(pt.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(mt,_t,St,At)=>{const Mt=St||At;return ct[_t]=!Mt||Mt.toLowerCase(),""}),ct["max-age"]){const mt=parseInt(ct["max-age"],10);isNaN(mt)?delete ct["max-age"]:ct["max-age"]=mt}return ct}let Qr=null;function Jr(pt){if(Qr==null){const ct=pt.navigator?pt.navigator.userAgent:null;Qr=!!pt.safari||!(!ct||!(/\b(iPad|iPhone|iPod)\b/.test(ct)||ct.match("Safari")&&!ct.match("Chrome")))}return Qr}function sn(pt){try{const ct=st[pt];return ct.setItem("_mapbox_test_",1),ct.removeItem("_mapbox_test_"),!0}catch{return!1}}function yn(pt,ct){return[pt[4*ct],pt[4*ct+1],pt[4*ct+2],pt[4*ct+3]]}const pn=st.performance;function ln(pt){const ct=pt?pt.url.toString():void 0;return pn.getEntriesByName(ct)}var Sn="2.9.2";let cn,Pn,In,Rn;const Mn={now:()=>In!==void 0?In:st.performance.now(),setNow(pt){In=pt},restoreNow(){In=void 0},frame(pt){const ct=st.requestAnimationFrame(pt);return{cancel:()=>st.cancelAnimationFrame(ct)}},getImageData(pt,ct=0){const{width:mt,height:_t}=pt;Rn||(Rn=st.document.createElement("canvas"));const St=Rn.getContext("2d");if(!St)throw new Error("failed to create canvas 2d context");return(mt>Rn.width||_t>Rn.height)&&(Rn.width=mt,Rn.height=_t),St.clearRect(-ct,-ct,mt+2*ct,_t+2*ct),St.drawImage(pt,0,0,mt,_t),St.getImageData(-ct,-ct,mt+2*ct,_t+2*ct)},resolveURL:pt=>(cn||(cn=st.document.createElement("a")),cn.href=pt,cn.href),get devicePixelRatio(){return st.devicePixelRatio},get prefersReducedMotion(){return!!st.matchMedia&&(Pn==null&&(Pn=st.matchMedia("(prefers-reduced-motion: reduce)")),Pn.matches)}};let Fn;const Xr={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(Fn==null){const pt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Fn={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):pt}catch{Fn=pt}}return Fn},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},wn={supported:!1,testSupport:function(pt){!Xn&&$n&&(no?zn(pt):vn=pt)}};let vn,$n,Xn=!1,no=!1;function zn(pt){const ct=pt.createTexture();pt.bindTexture(pt.TEXTURE_2D,ct);try{if(pt.texImage2D(pt.TEXTURE_2D,0,pt.RGBA,pt.RGBA,pt.UNSIGNED_BYTE,$n),pt.isContextLost())return;wn.supported=!0}catch{}pt.deleteTexture(ct),Xn=!0}st.document&&($n=st.document.createElement("img"),$n.onload=function(){vn&&zn(vn),vn=null,no=!0},$n.onerror=function(){Xn=!0,vn=null},$n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const so="01",vo="NO_ACCESS_TOKEN";function Eo(pt){return pt.indexOf("mapbox:")===0}function To(pt){return Xr.API_URL_REGEX.test(pt)}const Io=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function $a(pt){const ct=pt.match(Io);if(!ct)throw new Error("Unable to parse URL object");return{protocol:ct[1],authority:ct[2],path:ct[3]||"/",params:ct[4]?ct[4].split("&"):[]}}function mo(pt){const ct=pt.params.length?`?${pt.params.join("&")}`:"";return`${pt.protocol}://${pt.authority}${pt.path}${ct}`}function Po(pt){if(!pt)return null;const ct=pt.split(".");if(!ct||ct.length!==3)return null;try{return JSON.parse(decodeURIComponent(st.atob(ct[1]).split("").map(mt=>"%"+("00"+mt.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Ro{constructor(ct){this.type=ct,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(ct){const mt=Po(Xr.ACCESS_TOKEN);let _t="";return _t=mt&&mt.u?st.btoa(encodeURIComponent(mt.u).replace(/%([0-9A-F]{2})/g,(St,At)=>String.fromCharCode(Number("0x"+At)))):Xr.ACCESS_TOKEN||"",ct?`mapbox.eventData.${ct}:${_t}`:`mapbox.eventData:${_t}`}fetchEventData(){const ct=sn("localStorage"),mt=this.getStorageKey(),_t=this.getStorageKey("uuid");if(ct)try{const St=st.localStorage.getItem(mt);St&&(this.eventData=JSON.parse(St));const At=st.localStorage.getItem(_t);At&&(this.anonId=At)}catch{wr("Unable to read from LocalStorage")}}saveEventData(){const ct=sn("localStorage"),mt=this.getStorageKey(),_t=this.getStorageKey("uuid");if(ct)try{st.localStorage.setItem(_t,this.anonId),Object.keys(this.eventData).length>=1&&st.localStorage.setItem(mt,JSON.stringify(this.eventData))}catch{wr("Unable to write to LocalStorage")}}processRequests(ct){}postEvent(ct,mt,_t,St){if(!Xr.EVENTS_URL)return;const At=$a(Xr.EVENTS_URL);At.params.push(`access_token=${St||Xr.ACCESS_TOKEN||""}`);const Mt={event:this.type,created:new Date(ct).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:Sn,skuId:so,userId:this.anonId},Dt=mt?jt(Mt,mt):Mt,Nt={url:mo(At),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Dt])};this.pendingRequest=Zr(Nt,Bt=>{this.pendingRequest=null,_t(Bt),this.saveEventData(),this.processRequests(St)})}queueRequest(ct,mt){this.queue.push(ct),this.processRequests(mt)}}const Vo=new class extends Ro{constructor(pt){super("appUserTurnstile"),this._customAccessToken=pt}postTurnstileEvent(pt,ct){Xr.EVENTS_URL&&Xr.ACCESS_TOKEN&&Array.isArray(pt)&&pt.some(mt=>Eo(mt)||To(mt))&&this.queueRequest(Date.now(),ct)}processRequests(pt){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const ct=Po(Xr.ACCESS_TOKEN),mt=ct?ct.u:Xr.ACCESS_TOKEN;let _t=mt!==this.eventData.tokenU;rr(this.anonId)||(this.anonId=Zt(),_t=!0);const St=this.queue.shift();if(this.eventData.lastSuccess){const At=new Date(this.eventData.lastSuccess),Mt=new Date(St),Dt=(St-this.eventData.lastSuccess)/864e5;_t=_t||Dt>=1||Dt<-1||At.getDate()!==Mt.getDate()}else _t=!0;_t?this.postEvent(St,{"enabled.telemetry":!1},At=>{At||(this.eventData.lastSuccess=St,this.eventData.tokenU=mt)},pt):this.processRequests()}},Oo=Vo.postTurnstileEvent.bind(Vo),Wo=new class extends Ro{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(pt,ct,mt,_t){this.skuToken=ct,this.errorCb=_t,Xr.EVENTS_URL&&(mt||Xr.ACCESS_TOKEN?this.queueRequest({id:pt,timestamp:Date.now()},mt):this.errorCb(new Error(vo)))}processRequests(pt){if(this.pendingRequest||this.queue.length===0)return;const{id:ct,timestamp:mt}=this.queue.shift();ct&&this.success[ct]||(this.anonId||this.fetchEventData(),rr(this.anonId)||(this.anonId=Zt()),this.postEvent(mt,{skuToken:this.skuToken},_t=>{_t?this.errorCb(_t):ct&&(this.success[ct]=!0)},pt))}},os=Wo.postMapLoadEvent.bind(Wo),hs=new class extends Ro{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(pt,ct,mt,_t){if(!Xr.API_URL||!Xr.SESSION_PATH)return;const St=$a(Xr.API_URL+Xr.SESSION_PATH);St.params.push(`sku=${ct||""}`),St.params.push(`access_token=${_t||Xr.ACCESS_TOKEN||""}`);const At={url:mo(St),headers:{"Content-Type":"text/plain"}};this.pendingRequest=En(At,Mt=>{this.pendingRequest=null,mt(Mt),this.saveEventData(),this.processRequests(_t)})}getSessionAPI(pt,ct,mt,_t){this.skuToken=ct,this.errorCb=_t,Xr.SESSION_PATH&&Xr.API_URL&&(mt||Xr.ACCESS_TOKEN?this.queueRequest({id:pt,timestamp:Date.now()},mt):this.errorCb(new Error(vo)))}processRequests(pt){if(this.pendingRequest||this.queue.length===0)return;const{id:ct,timestamp:mt}=this.queue.shift();ct&&this.success[ct]||this.getSession(mt,this.skuToken,_t=>{_t?this.errorCb(_t):ct&&(this.success[ct]=!0)},pt)}},Uo=hs.getSessionAPI.bind(hs),Zo=new Set;let Lo,cs=500,ba=50,lo={};function Bn(pt){const ct=tr(pt);let mt,_t;ct&&ct.forEach(At=>{const Mt=At.split("=");Mt[0]==="language"?mt=Mt[1]:Mt[0]==="worldview"&&(_t=Mt[1])});let St="mapbox-tiles";return mt&&(St+=`-${mt}`),_t&&(St+=`-${_t}`),St}function ur(pt){st.caches&&!lo[pt]&&(lo[pt]=st.caches.open(pt))}function tr(pt){const ct=pt.indexOf("?");return ct>0?pt.slice(ct+1).split("&"):[]}function or(pt){const ct=pt.indexOf("?");if(ct<0)return pt;const mt=tr(pt).filter(_t=>{const St=_t.split("=");return St[0]==="language"||St[0]==="worldview"});return mt.length?`${pt.slice(0,ct)}?${mt.join("&")}`:pt.slice(0,ct)}let gr=1/0;const Er={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Er);class zr extends Error{constructor(ct,mt,_t){mt===401&&To(_t)&&(ct+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(ct),this.status=mt,this.url=_t}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Kr=Br()?()=>self.worker&&self.worker.referrer:()=>(st.location.protocol==="blob:"?st.parent:st).location.href,Hr=function(pt,ct){if(!(/^file:/.test(mt=pt.url)||/^file:/.test(Kr())&&!/^\w+:/.test(mt))){if(st.fetch&&st.Request&&st.AbortController&&st.Request.prototype.hasOwnProperty("signal"))return function(_t,St){const At=new st.AbortController,Mt=new st.Request(_t.url,{method:_t.method||"GET",body:_t.body,credentials:_t.credentials,headers:_t.headers,referrer:Kr(),signal:At.signal});let Dt=!1,Nt=!1;const Bt=(Wt=Mt.url).indexOf("sku=")>0&&To(Wt);var Wt;_t.type==="json"&&Mt.headers.set("Accept","application/json");const qt=(ar,lr,hr)=>{if(Nt)return;if(ar&&ar.message!=="SecurityError"&&wr(ar),lr&&hr)return Xt(lr);const Sr=Date.now();st.fetch(Mt).then(Ar=>{if(Ar.ok){const Vr=Bt?Ar.clone():null;return Xt(Ar,Vr,Sr)}return St(new zr(Ar.statusText,Ar.status,_t.url))}).catch(Ar=>{Ar.code!==20&&St(new Error(Ar.message))})},Xt=(ar,lr,hr)=>{(_t.type==="arrayBuffer"?ar.arrayBuffer():_t.type==="json"?ar.json():ar.text()).then(Sr=>{Nt||(lr&&hr&&function(Ar,Vr,Fr){const jr=Bn(Ar.url);if(ur(jr),!lo[jr])return;const Wr={status:Vr.status,statusText:Vr.statusText,headers:new st.Headers};Vr.headers.forEach((bn,Dn)=>Wr.headers.set(Dn,bn));const Yr=qr(Vr.headers.get("Cache-Control")||"");if(Yr["no-store"])return;Yr["max-age"]&&Wr.headers.set("Expires",new Date(Fr+1e3*Yr["max-age"]).toUTCString());const _n=Wr.headers.get("Expires");_n&&(new Date(_n).getTime()-Fr<42e4||function(bn,Dn){if(Lo===void 0)try{new Response(new ReadableStream),Lo=!0}catch{Lo=!1}Lo?Dn(bn.body):bn.blob().then(Dn)}(Vr,bn=>{const Dn=new st.Response(bn,Wr);ur(jr),lo[jr]&&lo[jr].then(jn=>jn.put(or(Ar.url),Dn)).catch(jn=>wr(jn.message))}))}(Mt,lr,hr),Dt=!0,St(null,Sr,ar.headers.get("Cache-Control"),ar.headers.get("Expires")))}).catch(Sr=>{Nt||St(new Error(Sr.message))})};return Bt?function(ar,lr){const hr=Bn(ar.url);if(ur(hr),!lo[hr])return lr(null);const Sr=or(ar.url);lo[hr].then(Ar=>{Ar.match(Sr).then(Vr=>{const Fr=function(jr){if(!jr)return!1;const Wr=new Date(jr.headers.get("Expires")||0),Yr=qr(jr.headers.get("Cache-Control")||"");return Wr>Date.now()&&!Yr["no-cache"]}(Vr);Ar.delete(Sr),Fr&&Ar.put(Sr,Vr.clone()),lr(null,Vr,Fr)}).catch(lr)}).catch(lr)}(Mt,qt):qt(null,null),{cancel:()=>{Nt=!0,Dt||At.abort()}}}(pt,ct);if(Br()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",pt,ct,void 0,!0)}var mt;return function(_t,St){const At=new st.XMLHttpRequest;At.open(_t.method||"GET",_t.url,!0),_t.type==="arrayBuffer"&&(At.responseType="arraybuffer");for(const Mt in _t.headers)At.setRequestHeader(Mt,_t.headers[Mt]);return _t.type==="json"&&(At.responseType="text",At.setRequestHeader("Accept","application/json")),At.withCredentials=_t.credentials==="include",At.onerror=()=>{St(new Error(At.statusText))},At.onload=()=>{if((At.status>=200&&At.status<300||At.status===0)&&At.response!==null){let Mt=At.response;if(_t.type==="json")try{Mt=JSON.parse(At.response)}catch(Dt){return St(Dt)}St(null,Mt,At.getResponseHeader("Cache-Control"),At.getResponseHeader("Expires"))}else St(new zr(At.statusText,At.status,_t.url))},At.send(_t.body),{cancel:()=>At.abort()}}(pt,ct)},Or=function(pt,ct){return Hr(jt(pt,{type:"arrayBuffer"}),ct)},Zr=function(pt,ct){return Hr(jt(pt,{method:"POST"}),ct)},En=function(pt,ct){return Hr(jt(pt,{method:"GET"}),ct)};function Gn(pt){const ct=st.document.createElement("a");return ct.href=pt,ct.protocol===st.document.location.protocol&&ct.host===st.document.location.host}const Cn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ga,uo;ga=[],uo=0;const _i=function(pt,ct){if(wn.supported&&(pt.headers||(pt.headers={}),pt.headers.accept="image/webp,*/*"),uo>=Xr.MAX_PARALLEL_IMAGE_REQUESTS){const At={requestParameters:pt,callback:ct,cancelled:!1,cancel(){this.cancelled=!0}};return ga.push(At),At}uo++;let mt=!1;const _t=()=>{if(!mt)for(mt=!0,uo--;ga.length&&uo<Xr.MAX_PARALLEL_IMAGE_REQUESTS;){const At=ga.shift(),{requestParameters:Mt,callback:Dt,cancelled:Nt}=At;Nt||(At.cancel=_i(Mt,Dt).cancel)}},St=Or(pt,(At,Mt,Dt,Nt)=>{_t(),At?ct(At):Mt&&(st.createImageBitmap?function(Bt,Wt){const qt=new st.Blob([new Uint8Array(Bt)],{type:"image/png"});st.createImageBitmap(qt).then(Xt=>{Wt(null,Xt)}).catch(Xt=>{Wt(new Error(`Could not load image because of ${Xt.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(Mt,(Bt,Wt)=>ct(Bt,Wt,Dt,Nt)):function(Bt,Wt){const qt=new st.Image,Xt=st.URL;qt.onload=()=>{Wt(null,qt),Xt.revokeObjectURL(qt.src),qt.onload=null,st.requestAnimationFrame(()=>{qt.src=Cn})},qt.onerror=()=>Wt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const ar=new st.Blob([new Uint8Array(Bt)],{type:"image/png"});qt.src=Bt.byteLength?Xt.createObjectURL(ar):Cn}(Mt,(Bt,Wt)=>ct(Bt,Wt,Dt,Nt)))});return{cancel:()=>{St.cancel(),_t()}}};function co(pt,ct,mt){mt[pt]&&mt[pt].indexOf(ct)!==-1||(mt[pt]=mt[pt]||[],mt[pt].push(ct))}function Vn(pt,ct,mt){if(mt&&mt[pt]){const _t=mt[pt].indexOf(ct);_t!==-1&&mt[pt].splice(_t,1)}}class qn{constructor(ct,mt={}){jt(this,mt),this.type=ct}}class oo extends qn{constructor(ct,mt={}){super("error",jt({error:ct},mt))}}class bo{on(ct,mt){return this._listeners=this._listeners||{},co(ct,mt,this._listeners),this}off(ct,mt){return Vn(ct,mt,this._listeners),Vn(ct,mt,this._oneTimeListeners),this}once(ct,mt){return mt?(this._oneTimeListeners=this._oneTimeListeners||{},co(ct,mt,this._oneTimeListeners),this):new Promise(_t=>this.once(ct,_t))}fire(ct,mt){typeof ct=="string"&&(ct=new qn(ct,mt||{}));const _t=ct.type;if(this.listens(_t)){ct.target=this;const St=this._listeners&&this._listeners[_t]?this._listeners[_t].slice():[];for(const Dt of St)Dt.call(this,ct);const At=this._oneTimeListeners&&this._oneTimeListeners[_t]?this._oneTimeListeners[_t].slice():[];for(const Dt of At)Vn(_t,Dt,this._oneTimeListeners),Dt.call(this,ct);const Mt=this._eventedParent;Mt&&(jt(ct,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),Mt.fire(ct))}else ct instanceof oo&&console.error(ct.error);return this}listens(ct){return!!(this._listeners&&this._listeners[ct]&&this._listeners[ct].length>0||this._oneTimeListeners&&this._oneTimeListeners[ct]&&this._oneTimeListeners[ct].length>0||this._eventedParent&&this._eventedParent.listens(ct))}setEventedParent(ct,mt){return this._eventedParent=ct,this._eventedParentData=mt,this}}var Ur=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ss(pt,...ct){for(const mt of ct)for(const _t in mt)pt[_t]=mt[_t];return pt}function Ho(pt){return pt instanceof Number||pt instanceof String||pt instanceof Boolean?pt.valueOf():pt}function Xo(pt){if(Array.isArray(pt))return pt.map(Xo);if(pt instanceof Object&&!(pt instanceof Number||pt instanceof String||pt instanceof Boolean)){const ct={};for(const mt in pt)ct[mt]=Xo(pt[mt]);return ct}return Ho(pt)}class Ws extends Error{constructor(ct,mt){super(mt),this.message=mt,this.key=ct}}var Cs=Ws;class Al{constructor(ct,mt=[]){this.parent=ct,this.bindings={};for(const[_t,St]of mt)this.bindings[_t]=St}concat(ct){return new Al(this,ct)}get(ct){if(this.bindings[ct])return this.bindings[ct];if(this.parent)return this.parent.get(ct);throw new Error(`${ct} not found in scope.`)}has(ct){return!!this.bindings[ct]||!!this.parent&&this.parent.has(ct)}}var Ol=Al;const ts={kind:"null"},Nn={kind:"number"},fo={kind:"string"},Hn={kind:"boolean"},ho={kind:"color"},Qo={kind:"object"},po={kind:"value"},Jo={kind:"collator"},As={kind:"formatted"},Ls={kind:"resolvedImage"};function Ms(pt,ct){return{kind:"array",itemType:pt,N:ct}}function Ko(pt){if(pt.kind==="array"){const ct=Ko(pt.itemType);return typeof pt.N=="number"?`array<${ct}, ${pt.N}>`:pt.itemType.kind==="value"?"array":`array<${ct}>`}return pt.kind}const Nl=[ts,Nn,fo,Hn,ho,As,Qo,Ms(po),Ls];function zs(pt,ct){if(ct.kind==="error")return null;if(pt.kind==="array"){if(ct.kind==="array"&&(ct.N===0&&ct.itemType.kind==="value"||!zs(pt.itemType,ct.itemType))&&(typeof pt.N!="number"||pt.N===ct.N))return null}else{if(pt.kind===ct.kind)return null;if(pt.kind==="value"){for(const mt of Nl)if(!zs(mt,ct))return null}}return`Expected ${Ko(pt)} but found ${Ko(ct)} instead.`}function ru(pt,ct){return ct.some(mt=>mt.kind===pt.kind)}function nu(pt,ct){return ct.some(mt=>mt==="null"?pt===null:mt==="array"?Array.isArray(pt):mt==="object"?pt&&!Array.isArray(pt)&&typeof pt=="object":mt===typeof pt)}function du(pt){var ct={exports:{}};return pt(ct,ct.exports),ct.exports}var xp=du(function(pt,ct){var mt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function _t(Dt){return(Dt=Math.round(Dt))<0?0:Dt>255?255:Dt}function St(Dt){return _t(Dt[Dt.length-1]==="%"?parseFloat(Dt)/100*255:parseInt(Dt))}function At(Dt){return(Nt=Dt[Dt.length-1]==="%"?parseFloat(Dt)/100:parseFloat(Dt))<0?0:Nt>1?1:Nt;var Nt}function Mt(Dt,Nt,Bt){return Bt<0?Bt+=1:Bt>1&&(Bt-=1),6*Bt<1?Dt+(Nt-Dt)*Bt*6:2*Bt<1?Nt:3*Bt<2?Dt+(Nt-Dt)*(2/3-Bt)*6:Dt}try{ct.parseCSSColor=function(Dt){var Nt,Bt=Dt.replace(/ /g,"").toLowerCase();if(Bt in mt)return mt[Bt].slice();if(Bt[0]==="#")return Bt.length===4?(Nt=parseInt(Bt.substr(1),16))>=0&&Nt<=4095?[(3840&Nt)>>4|(3840&Nt)>>8,240&Nt|(240&Nt)>>4,15&Nt|(15&Nt)<<4,1]:null:Bt.length===7&&(Nt=parseInt(Bt.substr(1),16))>=0&&Nt<=16777215?[(16711680&Nt)>>16,(65280&Nt)>>8,255&Nt,1]:null;var Wt=Bt.indexOf("("),qt=Bt.indexOf(")");if(Wt!==-1&&qt+1===Bt.length){var Xt=Bt.substr(0,Wt),ar=Bt.substr(Wt+1,qt-(Wt+1)).split(","),lr=1;switch(Xt){case"rgba":if(ar.length!==4)return null;lr=At(ar.pop());case"rgb":return ar.length!==3?null:[St(ar[0]),St(ar[1]),St(ar[2]),lr];case"hsla":if(ar.length!==4)return null;lr=At(ar.pop());case"hsl":if(ar.length!==3)return null;var hr=(parseFloat(ar[0])%360+360)%360/360,Sr=At(ar[1]),Ar=At(ar[2]),Vr=Ar<=.5?Ar*(Sr+1):Ar+Sr-Ar*Sr,Fr=2*Ar-Vr;return[_t(255*Mt(Fr,Vr,hr+1/3)),_t(255*Mt(Fr,Vr,hr)),_t(255*Mt(Fr,Vr,hr-1/3)),lr];default:return null}}return null}}catch{}});class wo{constructor(ct,mt,_t,St=1){this.r=ct,this.g=mt,this.b=_t,this.a=St}static parse(ct){if(!ct)return;if(ct instanceof wo)return ct;if(typeof ct!="string")return;const mt=xp.parseCSSColor(ct);return mt?new wo(mt[0]/255*mt[3],mt[1]/255*mt[3],mt[2]/255*mt[3],mt[3]):void 0}toString(){const[ct,mt,_t,St]=this.toArray();return`rgba(${Math.round(ct)},${Math.round(mt)},${Math.round(_t)},${St})`}toArray(){const{r:ct,g:mt,b:_t,a:St}=this;return St===0?[0,0,0,0]:[255*ct/St,255*mt/St,255*_t/St,St]}toArray01(){const{r:ct,g:mt,b:_t,a:St}=this;return St===0?[0,0,0,0]:[ct/St,mt/St,_t/St,St]}toArray01PremultipliedAlpha(){const{r:ct,g:mt,b:_t,a:St}=this;return[ct,mt,_t,St]}}wo.black=new wo(0,0,0,1),wo.white=new wo(1,1,1,1),wo.transparent=new wo(0,0,0,0),wo.red=new wo(1,0,0,1),wo.blue=new wo(0,0,1,1);var $o=wo;class ls{constructor(ct,mt,_t){this.sensitivity=ct?mt?"variant":"case":mt?"accent":"base",this.locale=_t,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(ct,mt){return this.collator.compare(ct,mt)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ks{constructor(ct,mt,_t,St,At){this.text=ct.normalize?ct.normalize():ct,this.image=mt,this.scale=_t,this.fontStack=St,this.textColor=At}}class js{constructor(ct){this.sections=ct}static fromString(ct){return new js([new Ks(ct,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(ct=>ct.text.length!==0||ct.image&&ct.image.name.length!==0)}static factory(ct){return ct instanceof js?ct:js.fromString(ct)}toString(){return this.sections.length===0?"":this.sections.map(ct=>ct.text).join("")}serialize(){const ct=["format"];for(const mt of this.sections){if(mt.image){ct.push(["image",mt.image.name]);continue}ct.push(mt.text);const _t={};mt.fontStack&&(_t["text-font"]=["literal",mt.fontStack.split(",")]),mt.scale&&(_t["font-scale"]=mt.scale),mt.textColor&&(_t["text-color"]=["rgba"].concat(mt.textColor.toArray())),ct.push(_t)}return ct}}class Is{constructor(ct){this.name=ct.name,this.available=ct.available}toString(){return this.name}static fromString(ct){return ct?new Is({name:ct,available:!1}):null}serialize(){return["image",this.name]}}function wu(pt,ct,mt,_t){return typeof pt=="number"&&pt>=0&&pt<=255&&typeof ct=="number"&&ct>=0&&ct<=255&&typeof mt=="number"&&mt>=0&&mt<=255?_t===void 0||typeof _t=="number"&&_t>=0&&_t<=1?null:`Invalid rgba value [${[pt,ct,mt,_t].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof _t=="number"?[pt,ct,mt,_t]:[pt,ct,mt]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function au(pt){if(pt===null||typeof pt=="string"||typeof pt=="boolean"||typeof pt=="number"||pt instanceof $o||pt instanceof ls||pt instanceof js||pt instanceof Is)return!0;if(Array.isArray(pt)){for(const ct of pt)if(!au(ct))return!1;return!0}if(typeof pt=="object"){for(const ct in pt)if(!au(pt[ct]))return!1;return!0}return!1}function gs(pt){if(pt===null)return ts;if(typeof pt=="string")return fo;if(typeof pt=="boolean")return Hn;if(typeof pt=="number")return Nn;if(pt instanceof $o)return ho;if(pt instanceof ls)return Jo;if(pt instanceof js)return As;if(pt instanceof Is)return Ls;if(Array.isArray(pt)){const ct=pt.length;let mt;for(const _t of pt){const St=gs(_t);if(mt){if(mt===St)continue;mt=po;break}mt=St}return Ms(mt||po,ct)}return Qo}function Fl(pt){const ct=typeof pt;return pt===null?"":ct==="string"||ct==="number"||ct==="boolean"?String(pt):pt instanceof $o||pt instanceof js||pt instanceof Is?pt.toString():JSON.stringify(pt)}class sv{constructor(ct,mt){this.type=ct,this.value=mt}static parse(ct,mt){if(ct.length!==2)return mt.error(`'literal' expression requires exactly one argument, but found ${ct.length-1} instead.`);if(!au(ct[1]))return mt.error("invalid value");const _t=ct[1];let St=gs(_t);const At=mt.expectedType;return St.kind!=="array"||St.N!==0||!At||At.kind!=="array"||typeof At.N=="number"&&At.N!==0||(St=At),new sv(St,_t)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof $o?["rgba"].concat(this.value.toArray()):this.value instanceof js?this.value.serialize():this.value}}var Qu=sv,Ys=class{constructor(pt){this.name="ExpressionEvaluationError",this.message=pt}toJSON(){return this.message}};const bp={string:fo,number:Nn,boolean:Hn,object:Qo};class Ju{constructor(ct,mt){this.type=ct,this.args=mt}static parse(ct,mt){if(ct.length<2)return mt.error("Expected at least one argument.");let _t,St=1;const At=ct[0];if(At==="array"){let Dt,Nt;if(ct.length>2){const Bt=ct[1];if(typeof Bt!="string"||!(Bt in bp)||Bt==="object")return mt.error('The item type argument of "array" must be one of string, number, boolean',1);Dt=bp[Bt],St++}else Dt=po;if(ct.length>3){if(ct[2]!==null&&(typeof ct[2]!="number"||ct[2]<0||ct[2]!==Math.floor(ct[2])))return mt.error('The length argument to "array" must be a positive integer literal',2);Nt=ct[2],St++}_t=Ms(Dt,Nt)}else _t=bp[At];const Mt=[];for(;St<ct.length;St++){const Dt=mt.parse(ct[St],St,po);if(!Dt)return null;Mt.push(Dt)}return new Ju(_t,Mt)}evaluate(ct){for(let mt=0;mt<this.args.length;mt++){const _t=this.args[mt].evaluate(ct);if(!zs(this.type,gs(_t)))return _t;if(mt===this.args.length-1)throw new Ys(`Expected value to be of type ${Ko(this.type)}, but found ${Ko(gs(_t))} instead.`)}return null}eachChild(ct){this.args.forEach(ct)}outputDefined(){return this.args.every(ct=>ct.outputDefined())}serialize(){const ct=this.type,mt=[ct.kind];if(ct.kind==="array"){const _t=ct.itemType;if(_t.kind==="string"||_t.kind==="number"||_t.kind==="boolean"){mt.push(_t.kind);const St=ct.N;(typeof St=="number"||this.args.length>1)&&mt.push(St)}}return mt.concat(this.args.map(_t=>_t.serialize()))}}var iu=Ju;class hu{constructor(ct){this.type=As,this.sections=ct}static parse(ct,mt){if(ct.length<2)return mt.error("Expected at least one argument.");const _t=ct[1];if(!Array.isArray(_t)&&typeof _t=="object")return mt.error("First argument must be an image or text section.");const St=[];let At=!1;for(let Mt=1;Mt<=ct.length-1;++Mt){const Dt=ct[Mt];if(At&&typeof Dt=="object"&&!Array.isArray(Dt)){At=!1;let Nt=null;if(Dt["font-scale"]&&(Nt=mt.parse(Dt["font-scale"],1,Nn),!Nt))return null;let Bt=null;if(Dt["text-font"]&&(Bt=mt.parse(Dt["text-font"],1,Ms(fo)),!Bt))return null;let Wt=null;if(Dt["text-color"]&&(Wt=mt.parse(Dt["text-color"],1,ho),!Wt))return null;const qt=St[St.length-1];qt.scale=Nt,qt.font=Bt,qt.textColor=Wt}else{const Nt=mt.parse(ct[Mt],1,po);if(!Nt)return null;const Bt=Nt.type.kind;if(Bt!=="string"&&Bt!=="value"&&Bt!=="null"&&Bt!=="resolvedImage")return mt.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");At=!0,St.push({content:Nt,scale:null,font:null,textColor:null})}}return new hu(St)}evaluate(ct){return new js(this.sections.map(mt=>{const _t=mt.content.evaluate(ct);return gs(_t)===Ls?new Ks("",_t,null,null,null):new Ks(Fl(_t),null,mt.scale?mt.scale.evaluate(ct):null,mt.font?mt.font.evaluate(ct).join(","):null,mt.textColor?mt.textColor.evaluate(ct):null)}))}eachChild(ct){for(const mt of this.sections)ct(mt.content),mt.scale&&ct(mt.scale),mt.font&&ct(mt.font),mt.textColor&&ct(mt.textColor)}outputDefined(){return!1}serialize(){const ct=["format"];for(const mt of this.sections){ct.push(mt.content.serialize());const _t={};mt.scale&&(_t["font-scale"]=mt.scale.serialize()),mt.font&&(_t["text-font"]=mt.font.serialize()),mt.textColor&&(_t["text-color"]=mt.textColor.serialize()),ct.push(_t)}return ct}}class Sp{constructor(ct){this.type=Ls,this.input=ct}static parse(ct,mt){if(ct.length!==2)return mt.error("Expected two arguments.");const _t=mt.parse(ct[1],1,fo);return _t?new Sp(_t):mt.error("No image name provided.")}evaluate(ct){const mt=this.input.evaluate(ct),_t=Is.fromString(mt);return _t&&ct.availableImages&&(_t.available=ct.availableImages.indexOf(mt)>-1),_t}eachChild(ct){ct(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Bm={"to-boolean":Hn,"to-color":ho,"to-number":Nn,"to-string":fo};class _f{constructor(ct,mt){this.type=ct,this.args=mt}static parse(ct,mt){if(ct.length<2)return mt.error("Expected at least one argument.");const _t=ct[0];if((_t==="to-boolean"||_t==="to-string")&&ct.length!==2)return mt.error("Expected one argument.");const St=Bm[_t],At=[];for(let Mt=1;Mt<ct.length;Mt++){const Dt=mt.parse(ct[Mt],Mt,po);if(!Dt)return null;At.push(Dt)}return new _f(St,At)}evaluate(ct){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(ct));if(this.type.kind==="color"){let mt,_t;for(const St of this.args){if(mt=St.evaluate(ct),_t=null,mt instanceof $o)return mt;if(typeof mt=="string"){const At=ct.parseColor(mt);if(At)return At}else if(Array.isArray(mt)&&(_t=mt.length<3||mt.length>4?`Invalid rbga value ${JSON.stringify(mt)}: expected an array containing either three or four numeric values.`:wu(mt[0],mt[1],mt[2],mt[3]),!_t))return new $o(mt[0]/255,mt[1]/255,mt[2]/255,mt[3])}throw new Ys(_t||`Could not parse color from value '${typeof mt=="string"?mt:String(JSON.stringify(mt))}'`)}if(this.type.kind==="number"){let mt=null;for(const _t of this.args){if(mt=_t.evaluate(ct),mt===null)return 0;const St=Number(mt);if(!isNaN(St))return St}throw new Ys(`Could not convert ${JSON.stringify(mt)} to number.`)}return this.type.kind==="formatted"?js.fromString(Fl(this.args[0].evaluate(ct))):this.type.kind==="resolvedImage"?Is.fromString(Fl(this.args[0].evaluate(ct))):Fl(this.args[0].evaluate(ct))}eachChild(ct){this.args.forEach(ct)}outputDefined(){return this.args.every(ct=>ct.outputDefined())}serialize(){if(this.type.kind==="formatted")return new hu([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Sp(this.args[0]).serialize();const ct=[`to-${this.type.kind}`];return this.eachChild(mt=>{ct.push(mt.serialize())}),ct}}var Ru=_f;const Vm=["Unknown","Point","LineString","Polygon"];var Hv=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Vm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const pt=this.featureDistanceData.center,ct=this.featureDistanceData.scale,{x:mt,y:_t}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(mt*ct-pt[0])+this.featureDistanceData.bearing[1]*(_t*ct-pt[1])}return 0}parseColor(pt){let ct=this._parseColorCache[pt];return ct||(ct=this._parseColorCache[pt]=$o.parse(pt)),ct}};class Du{constructor(ct,mt,_t,St){this.name=ct,this.type=mt,this._evaluate=_t,this.args=St}evaluate(ct){return this._evaluate(ct,this.args)}eachChild(ct){this.args.forEach(ct)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(ct=>ct.serialize()))}static parse(ct,mt){const _t=ct[0],St=Du.definitions[_t];if(!St)return mt.error(`Unknown expression "${_t}". If you wanted a literal array, use ["literal", [...]].`,0);const At=Array.isArray(St)?St[0]:St.type,Mt=Array.isArray(St)?[[St[1],St[2]]]:St.overloads,Dt=Mt.filter(([Bt])=>!Array.isArray(Bt)||Bt.length===ct.length-1);let Nt=null;for(const[Bt,Wt]of Dt){Nt=new Zv(mt.registry,mt.path,null,mt.scope);const qt=[];let Xt=!1;for(let ar=1;ar<ct.length;ar++){const lr=ct[ar],hr=Array.isArray(Bt)?Bt[ar-1]:Bt.type,Sr=Nt.parse(lr,1+qt.length,hr);if(!Sr){Xt=!0;break}qt.push(Sr)}if(!Xt)if(Array.isArray(Bt)&&Bt.length!==qt.length)Nt.error(`Expected ${Bt.length} arguments, but found ${qt.length} instead.`);else{for(let ar=0;ar<qt.length;ar++){const lr=Array.isArray(Bt)?Bt[ar]:Bt.type,hr=qt[ar];Nt.concat(ar+1).checkSubtype(lr,hr.type)}if(Nt.errors.length===0)return new Du(_t,At,Wt,qt)}}if(Dt.length===1)mt.errors.push(...Nt.errors);else{const Bt=(Dt.length?Dt:Mt).map(([qt])=>{return Xt=qt,Array.isArray(Xt)?`(${Xt.map(Ko).join(", ")})`:`(${Ko(Xt.type)}...)`;var Xt}).join(" | "),Wt=[];for(let qt=1;qt<ct.length;qt++){const Xt=mt.parse(ct[qt],1+Wt.length);if(!Xt)return null;Wt.push(Ko(Xt.type))}mt.error(`Expected arguments of type ${Bt}, but found (${Wt.join(", ")}) instead.`)}return null}static register(ct,mt){Du.definitions=mt;for(const _t in mt)ct[_t]=Du}}var ou=Du;class Cu{constructor(ct,mt,_t){this.type=Jo,this.locale=_t,this.caseSensitive=ct,this.diacriticSensitive=mt}static parse(ct,mt){if(ct.length!==2)return mt.error("Expected one argument.");const _t=ct[1];if(typeof _t!="object"||Array.isArray(_t))return mt.error("Collator options argument must be an object.");const St=mt.parse(_t["case-sensitive"]!==void 0&&_t["case-sensitive"],1,Hn);if(!St)return null;const At=mt.parse(_t["diacritic-sensitive"]!==void 0&&_t["diacritic-sensitive"],1,Hn);if(!At)return null;let Mt=null;return _t.locale&&(Mt=mt.parse(_t.locale,1,fo),!Mt)?null:new Cu(St,At,Mt)}evaluate(ct){return new ls(this.caseSensitive.evaluate(ct),this.diacriticSensitive.evaluate(ct),this.locale?this.locale.evaluate(ct):null)}eachChild(ct){ct(this.caseSensitive),ct(this.diacriticSensitive),this.locale&&ct(this.locale)}outputDefined(){return!1}serialize(){const ct={};return ct["case-sensitive"]=this.caseSensitive.serialize(),ct["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(ct.locale=this.locale.serialize()),["collator",ct]}}const zl=8192;function wp(pt,ct){pt[0]=Math.min(pt[0],ct[0]),pt[1]=Math.min(pt[1],ct[1]),pt[2]=Math.max(pt[2],ct[0]),pt[3]=Math.max(pt[3],ct[1])}function Cp(pt,ct){return!(pt[0]<=ct[0]||pt[2]>=ct[2]||pt[1]<=ct[1]||pt[3]>=ct[3])}function Um(pt,ct){const mt=(180+pt[0])/360,_t=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+pt[1]*Math.PI/360)))/360,St=Math.pow(2,ct.z);return[Math.round(mt*St*zl),Math.round(_t*St*zl)]}function Wv(pt,ct,mt){const _t=pt[0]-ct[0],St=pt[1]-ct[1],At=pt[0]-mt[0],Mt=pt[1]-mt[1];return _t*Mt-At*St==0&&_t*At<=0&&St*Mt<=0}function lv(pt,ct){let mt=!1;for(let Mt=0,Dt=ct.length;Mt<Dt;Mt++){const Nt=ct[Mt];for(let Bt=0,Wt=Nt.length;Bt<Wt-1;Bt++){if(Wv(pt,Nt[Bt],Nt[Bt+1]))return!1;(St=Nt[Bt])[1]>(_t=pt)[1]!=(At=Nt[Bt+1])[1]>_t[1]&&_t[0]<(At[0]-St[0])*(_t[1]-St[1])/(At[1]-St[1])+St[0]&&(mt=!mt)}}var _t,St,At;return mt}function Kv(pt,ct){for(let mt=0;mt<ct.length;mt++)if(lv(pt,ct[mt]))return!0;return!1}function Lu(pt,ct,mt,_t){const St=_t[0]-mt[0],At=_t[1]-mt[1],Mt=(pt[0]-mt[0])*At-St*(pt[1]-mt[1]),Dt=(ct[0]-mt[0])*At-St*(ct[1]-mt[1]);return Mt>0&&Dt<0||Mt<0&&Dt>0}function jm(pt,ct,mt){for(const Bt of mt)for(let Wt=0;Wt<Bt.length-1;++Wt)if((Dt=[(Mt=Bt[Wt+1])[0]-(At=Bt[Wt])[0],Mt[1]-At[1]])[0]*(Nt=[(St=ct)[0]-(_t=pt)[0],St[1]-_t[1]])[1]-Dt[1]*Nt[0]!=0&&Lu(_t,St,At,Mt)&&Lu(At,Mt,_t,St))return!0;var _t,St,At,Mt,Dt,Nt;return!1}function Yv(pt,ct){for(let mt=0;mt<pt.length;++mt)if(!lv(pt[mt],ct))return!1;for(let mt=0;mt<pt.length-1;++mt)if(jm(pt[mt],pt[mt+1],ct))return!1;return!0}function qv(pt,ct){for(let mt=0;mt<ct.length;mt++)if(Yv(pt,ct[mt]))return!0;return!1}function uv(pt,ct,mt){const _t=[];for(let St=0;St<pt.length;St++){const At=[];for(let Mt=0;Mt<pt[St].length;Mt++){const Dt=Um(pt[St][Mt],mt);wp(ct,Dt),At.push(Dt)}_t.push(At)}return _t}function Bl(pt,ct,mt){const _t=[];for(let St=0;St<pt.length;St++){const At=uv(pt[St],ct,mt);_t.push(At)}return _t}function Tp(pt,ct,mt,_t){if(pt[0]<mt[0]||pt[0]>mt[2]){const St=.5*_t;let At=pt[0]-mt[0]>St?-_t:mt[0]-pt[0]>St?_t:0;At===0&&(At=pt[0]-mt[2]>St?-_t:mt[2]-pt[0]>St?_t:0),pt[0]+=At}wp(ct,pt)}function cv(pt,ct,mt,_t){const St=Math.pow(2,_t.z)*zl,At=[_t.x*zl,_t.y*zl],Mt=[];if(!pt)return Mt;for(const Dt of pt)for(const Nt of Dt){const Bt=[Nt.x+At[0],Nt.y+At[1]];Tp(Bt,ct,mt,St),Mt.push(Bt)}return Mt}function _d(pt,ct,mt,_t){const St=Math.pow(2,_t.z)*zl,At=[_t.x*zl,_t.y*zl],Mt=[];if(!pt)return Mt;for(const Nt of pt){const Bt=[];for(const Wt of Nt){const qt=[Wt.x+At[0],Wt.y+At[1]];wp(ct,qt),Bt.push(qt)}Mt.push(Bt)}if(ct[2]-ct[0]<=St/2){(Dt=ct)[0]=Dt[1]=1/0,Dt[2]=Dt[3]=-1/0;for(const Nt of Mt)for(const Bt of Nt)Tp(Bt,ct,mt,St)}var Dt;return Mt}class Hl{constructor(ct,mt){this.type=Hn,this.geojson=ct,this.geometries=mt}static parse(ct,mt){if(ct.length!==2)return mt.error(`'within' expression requires exactly one argument, but found ${ct.length-1} instead.`);if(au(ct[1])){const _t=ct[1];if(_t.type==="FeatureCollection")for(let St=0;St<_t.features.length;++St){const At=_t.features[St].geometry.type;if(At==="Polygon"||At==="MultiPolygon")return new Hl(_t,_t.features[St].geometry)}else if(_t.type==="Feature"){const St=_t.geometry.type;if(St==="Polygon"||St==="MultiPolygon")return new Hl(_t,_t.geometry)}else if(_t.type==="Polygon"||_t.type==="MultiPolygon")return new Hl(_t,_t)}return mt.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(ct){if(ct.geometry()!=null&&ct.canonicalID()!=null){if(ct.geometryType()==="Point")return function(mt,_t){const St=[1/0,1/0,-1/0,-1/0],At=[1/0,1/0,-1/0,-1/0],Mt=mt.canonicalID();if(!Mt)return!1;if(_t.type==="Polygon"){const Dt=uv(_t.coordinates,At,Mt),Nt=cv(mt.geometry(),St,At,Mt);if(!Cp(St,At))return!1;for(const Bt of Nt)if(!lv(Bt,Dt))return!1}if(_t.type==="MultiPolygon"){const Dt=Bl(_t.coordinates,At,Mt),Nt=cv(mt.geometry(),St,At,Mt);if(!Cp(St,At))return!1;for(const Bt of Nt)if(!Kv(Bt,Dt))return!1}return!0}(ct,this.geometries);if(ct.geometryType()==="LineString")return function(mt,_t){const St=[1/0,1/0,-1/0,-1/0],At=[1/0,1/0,-1/0,-1/0],Mt=mt.canonicalID();if(!Mt)return!1;if(_t.type==="Polygon"){const Dt=uv(_t.coordinates,At,Mt),Nt=_d(mt.geometry(),St,At,Mt);if(!Cp(St,At))return!1;for(const Bt of Nt)if(!Yv(Bt,Dt))return!1}if(_t.type==="MultiPolygon"){const Dt=Bl(_t.coordinates,At,Mt),Nt=_d(mt.geometry(),St,At,Mt);if(!Cp(St,At))return!1;for(const Bt of Nt)if(!qv(Bt,Dt))return!1}return!0}(ct,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Ep=Hl;function Ou(pt){if(pt instanceof ou&&(pt.name==="get"&&pt.args.length===1||pt.name==="feature-state"||pt.name==="has"&&pt.args.length===1||pt.name==="properties"||pt.name==="geometry-type"||pt.name==="id"||/^filter-/.test(pt.name))||pt instanceof Ep)return!1;let ct=!0;return pt.eachChild(mt=>{ct&&!Ou(mt)&&(ct=!1)}),ct}function Tu(pt){if(pt instanceof ou&&pt.name==="feature-state")return!1;let ct=!0;return pt.eachChild(mt=>{ct&&!Tu(mt)&&(ct=!1)}),ct}function Ap(pt,ct){if(pt instanceof ou&&ct.indexOf(pt.name)>=0)return!1;let mt=!0;return pt.eachChild(_t=>{mt&&!Ap(_t,ct)&&(mt=!1)}),mt}class rs{constructor(ct,mt){this.type=mt.type,this.name=ct,this.boundExpression=mt}static parse(ct,mt){if(ct.length!==2||typeof ct[1]!="string")return mt.error("'var' expression requires exactly one string literal argument.");const _t=ct[1];return mt.scope.has(_t)?new rs(_t,mt.scope.get(_t)):mt.error(`Unknown variable "${_t}". Make sure "${_t}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(ct){return this.boundExpression.evaluate(ct)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var fv=rs;class dv{constructor(ct,mt=[],_t,St=new Ol,At=[]){this.registry=ct,this.path=mt,this.key=mt.map(Mt=>`[${Mt}]`).join(""),this.scope=St,this.errors=At,this.expectedType=_t}parse(ct,mt,_t,St,At={}){return mt?this.concat(mt,_t,St)._parse(ct,At):this._parse(ct,At)}_parse(ct,mt){function _t(St,At,Mt){return Mt==="assert"?new iu(At,[St]):Mt==="coerce"?new Ru(At,[St]):St}if(ct!==null&&typeof ct!="string"&&typeof ct!="boolean"&&typeof ct!="number"||(ct=["literal",ct]),Array.isArray(ct)){if(ct.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const St=ct[0];if(typeof St!="string")return this.error(`Expression name must be a string, but found ${typeof St} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const At=this.registry[St];if(At){let Mt=At.parse(ct,this);if(!Mt)return null;if(this.expectedType){const Dt=this.expectedType,Nt=Mt.type;if(Dt.kind!=="string"&&Dt.kind!=="number"&&Dt.kind!=="boolean"&&Dt.kind!=="object"&&Dt.kind!=="array"||Nt.kind!=="value")if(Dt.kind!=="color"&&Dt.kind!=="formatted"&&Dt.kind!=="resolvedImage"||Nt.kind!=="value"&&Nt.kind!=="string"){if(this.checkSubtype(Dt,Nt))return null}else Mt=_t(Mt,Dt,mt.typeAnnotation||"coerce");else Mt=_t(Mt,Dt,mt.typeAnnotation||"assert")}if(!(Mt instanceof Qu)&&Mt.type.kind!=="resolvedImage"&&_h(Mt)){const Dt=new Hv;try{Mt=new Qu(Mt.type,Mt.evaluate(Dt))}catch(Nt){return this.error(Nt.message),null}}return Mt}return this.error(`Unknown expression "${St}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(ct===void 0?"'undefined' value invalid. Use null instead.":typeof ct=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof ct} instead.`)}concat(ct,mt,_t){const St=typeof ct=="number"?this.path.concat(ct):this.path,At=_t?this.scope.concat(_t):this.scope;return new dv(this.registry,St,mt||null,At,this.errors)}error(ct,...mt){const _t=`${this.key}${mt.map(St=>`[${St}]`).join("")}`;this.errors.push(new Cs(_t,ct))}checkSubtype(ct,mt){const _t=zs(ct,mt);return _t&&this.error(_t),_t}}var Zv=dv;function _h(pt){if(pt instanceof fv)return _h(pt.boundExpression);if(pt instanceof ou&&pt.name==="error"||pt instanceof Cu||pt instanceof Ep)return!1;const ct=pt instanceof Ru||pt instanceof iu;let mt=!0;return pt.eachChild(_t=>{mt=ct?mt&&_h(_t):mt&&_t instanceof Qu}),!!mt&&Ou(pt)&&Ap(pt,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Pp(pt,ct){const mt=pt.length-1;let _t,St,At=0,Mt=mt,Dt=0;for(;At<=Mt;)if(Dt=Math.floor((At+Mt)/2),_t=pt[Dt],St=pt[Dt+1],_t<=ct){if(Dt===mt||ct<St)return Dt;At=Dt+1}else{if(!(_t>ct))throw new Ys("Input is not a number.");Mt=Dt-1}return 0}class $p{constructor(ct,mt,_t){this.type=ct,this.input=mt,this.labels=[],this.outputs=[];for(const[St,At]of _t)this.labels.push(St),this.outputs.push(At)}static parse(ct,mt){if(ct.length-1<4)return mt.error(`Expected at least 4 arguments, but found only ${ct.length-1}.`);if((ct.length-1)%2!=0)return mt.error("Expected an even number of arguments.");const _t=mt.parse(ct[1],1,Nn);if(!_t)return null;const St=[];let At=null;mt.expectedType&&mt.expectedType.kind!=="value"&&(At=mt.expectedType);for(let Mt=1;Mt<ct.length;Mt+=2){const Dt=Mt===1?-1/0:ct[Mt],Nt=ct[Mt+1],Bt=Mt,Wt=Mt+1;if(typeof Dt!="number")return mt.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Bt);if(St.length&&St[St.length-1][0]>=Dt)return mt.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Bt);const qt=mt.parse(Nt,Wt,At);if(!qt)return null;At=At||qt.type,St.push([Dt,qt])}return new $p(At,_t,St)}evaluate(ct){const mt=this.labels,_t=this.outputs;if(mt.length===1)return _t[0].evaluate(ct);const St=this.input.evaluate(ct);if(St<=mt[0])return _t[0].evaluate(ct);const At=mt.length;return St>=mt[At-1]?_t[At-1].evaluate(ct):_t[Pp(mt,St)].evaluate(ct)}eachChild(ct){ct(this.input);for(const mt of this.outputs)ct(mt)}outputDefined(){return this.outputs.every(ct=>ct.outputDefined())}serialize(){const ct=["step",this.input.serialize()];for(let mt=0;mt<this.labels.length;mt++)mt>0&&ct.push(this.labels[mt]),ct.push(this.outputs[mt].serialize());return ct}}var ep=$p;function Yo(pt,ct,mt){return pt*(1-mt)+ct*mt}var tp=Object.freeze({__proto__:null,number:Yo,color:function(pt,ct,mt){return new $o(Yo(pt.r,ct.r,mt),Yo(pt.g,ct.g,mt),Yo(pt.b,ct.b,mt),Yo(pt.a,ct.a,mt))},array:function(pt,ct,mt){return pt.map((_t,St)=>Yo(_t,ct[St],mt))}});const pu=.95047,rp=1.08883,Xv=4/29,ku=6/29,hv=3*ku*ku,Gm=Math.PI/180,Qv=180/Math.PI;function Mp(pt){return pt>.008856451679035631?Math.pow(pt,1/3):pt/hv+Xv}function pv(pt){return pt>ku?pt*pt*pt:hv*(pt-Xv)}function np(pt){return 255*(pt<=.0031308?12.92*pt:1.055*Math.pow(pt,1/2.4)-.055)}function Ip(pt){return(pt/=255)<=.04045?pt/12.92:Math.pow((pt+.055)/1.055,2.4)}function Rp(pt){const ct=Ip(pt.r),mt=Ip(pt.g),_t=Ip(pt.b),St=Mp((.4124564*ct+.3575761*mt+.1804375*_t)/pu),At=Mp((.2126729*ct+.7151522*mt+.072175*_t)/1);return{l:116*At-16,a:500*(St-At),b:200*(At-Mp((.0193339*ct+.119192*mt+.9503041*_t)/rp)),alpha:pt.a}}function Jv(pt){let ct=(pt.l+16)/116,mt=isNaN(pt.a)?ct:ct+pt.a/500,_t=isNaN(pt.b)?ct:ct-pt.b/200;return ct=1*pv(ct),mt=pu*pv(mt),_t=rp*pv(_t),new $o(np(3.2404542*mt-1.5371385*ct-.4985314*_t),np(-.969266*mt+1.8760108*ct+.041556*_t),np(.0556434*mt-.2040259*ct+1.0572252*_t),pt.alpha)}function vv(pt,ct,mt){const _t=ct-pt;return pt+mt*(_t>180||_t<-180?_t-360*Math.round(_t/360):_t)}const Nu={forward:Rp,reverse:Jv,interpolate:function(pt,ct,mt){return{l:Yo(pt.l,ct.l,mt),a:Yo(pt.a,ct.a,mt),b:Yo(pt.b,ct.b,mt),alpha:Yo(pt.alpha,ct.alpha,mt)}}},Fu={forward:function(pt){const{l:ct,a:mt,b:_t}=Rp(pt),St=Math.atan2(_t,mt)*Qv;return{h:St<0?St+360:St,c:Math.sqrt(mt*mt+_t*_t),l:ct,alpha:pt.a}},reverse:function(pt){const ct=pt.h*Gm,mt=pt.c;return Jv({l:pt.l,a:Math.cos(ct)*mt,b:Math.sin(ct)*mt,alpha:pt.alpha})},interpolate:function(pt,ct,mt){return{h:vv(pt.h,ct.h,mt),c:Yo(pt.c,ct.c,mt),l:Yo(pt.l,ct.l,mt),alpha:Yo(pt.alpha,ct.alpha,mt)}}};var mv=Object.freeze({__proto__:null,lab:Nu,hcl:Fu});class Dp{constructor(ct,mt,_t,St,At){this.type=ct,this.operator=mt,this.interpolation=_t,this.input=St,this.labels=[],this.outputs=[];for(const[Mt,Dt]of At)this.labels.push(Mt),this.outputs.push(Dt)}static interpolationFactor(ct,mt,_t,St){let At=0;if(ct.name==="exponential")At=zu(mt,ct.base,_t,St);else if(ct.name==="linear")At=zu(mt,1,_t,St);else if(ct.name==="cubic-bezier"){const Mt=ct.controlPoints;At=new ut(Mt[0],Mt[1],Mt[2],Mt[3]).solve(zu(mt,1,_t,St))}return At}static parse(ct,mt){let[_t,St,At,...Mt]=ct;if(!Array.isArray(St)||St.length===0)return mt.error("Expected an interpolation type expression.",1);if(St[0]==="linear")St={name:"linear"};else if(St[0]==="exponential"){const Bt=St[1];if(typeof Bt!="number")return mt.error("Exponential interpolation requires a numeric base.",1,1);St={name:"exponential",base:Bt}}else{if(St[0]!=="cubic-bezier")return mt.error(`Unknown interpolation type ${String(St[0])}`,1,0);{const Bt=St.slice(1);if(Bt.length!==4||Bt.some(Wt=>typeof Wt!="number"||Wt<0||Wt>1))return mt.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);St={name:"cubic-bezier",controlPoints:Bt}}}if(ct.length-1<4)return mt.error(`Expected at least 4 arguments, but found only ${ct.length-1}.`);if((ct.length-1)%2!=0)return mt.error("Expected an even number of arguments.");if(At=mt.parse(At,2,Nn),!At)return null;const Dt=[];let Nt=null;_t==="interpolate-hcl"||_t==="interpolate-lab"?Nt=ho:mt.expectedType&&mt.expectedType.kind!=="value"&&(Nt=mt.expectedType);for(let Bt=0;Bt<Mt.length;Bt+=2){const Wt=Mt[Bt],qt=Mt[Bt+1],Xt=Bt+3,ar=Bt+4;if(typeof Wt!="number")return mt.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Xt);if(Dt.length&&Dt[Dt.length-1][0]>=Wt)return mt.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Xt);const lr=mt.parse(qt,ar,Nt);if(!lr)return null;Nt=Nt||lr.type,Dt.push([Wt,lr])}return Nt.kind==="number"||Nt.kind==="color"||Nt.kind==="array"&&Nt.itemType.kind==="number"&&typeof Nt.N=="number"?new Dp(Nt,_t,St,At,Dt):mt.error(`Type ${Ko(Nt)} is not interpolatable.`)}evaluate(ct){const mt=this.labels,_t=this.outputs;if(mt.length===1)return _t[0].evaluate(ct);const St=this.input.evaluate(ct);if(St<=mt[0])return _t[0].evaluate(ct);const At=mt.length;if(St>=mt[At-1])return _t[At-1].evaluate(ct);const Mt=Pp(mt,St),Dt=Dp.interpolationFactor(this.interpolation,St,mt[Mt],mt[Mt+1]),Nt=_t[Mt].evaluate(ct),Bt=_t[Mt+1].evaluate(ct);return this.operator==="interpolate"?tp[this.type.kind.toLowerCase()](Nt,Bt,Dt):this.operator==="interpolate-hcl"?Fu.reverse(Fu.interpolate(Fu.forward(Nt),Fu.forward(Bt),Dt)):Nu.reverse(Nu.interpolate(Nu.forward(Nt),Nu.forward(Bt),Dt))}eachChild(ct){ct(this.input);for(const mt of this.outputs)ct(mt)}outputDefined(){return this.outputs.every(ct=>ct.outputDefined())}serialize(){let ct;ct=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const mt=[this.operator,ct,this.input.serialize()];for(let _t=0;_t<this.labels.length;_t++)mt.push(this.labels[_t],this.outputs[_t].serialize());return mt}}function zu(pt,ct,mt,_t){const St=_t-mt,At=pt-mt;return St===0?0:ct===1?At/St:(Math.pow(ct,At)-1)/(Math.pow(ct,St)-1)}var Vl=Dp;class Lp{constructor(ct,mt){this.type=ct,this.args=mt}static parse(ct,mt){if(ct.length<2)return mt.error("Expectected at least one argument.");let _t=null;const St=mt.expectedType;St&&St.kind!=="value"&&(_t=St);const At=[];for(const Dt of ct.slice(1)){const Nt=mt.parse(Dt,1+At.length,_t,void 0,{typeAnnotation:"omit"});if(!Nt)return null;_t=_t||Nt.type,At.push(Nt)}const Mt=St&&At.some(Dt=>zs(St,Dt.type));return new Lp(Mt?po:_t,At)}evaluate(ct){let mt,_t=null,St=0;for(const At of this.args){if(St++,_t=At.evaluate(ct),_t&&_t instanceof Is&&!_t.available&&(mt||(mt=_t),_t=null,St===this.args.length))return mt;if(_t!==null)break}return _t}eachChild(ct){this.args.forEach(ct)}outputDefined(){return this.args.every(ct=>ct.outputDefined())}serialize(){const ct=["coalesce"];return this.eachChild(mt=>{ct.push(mt.serialize())}),ct}}var gv=Lp;class yv{constructor(ct,mt){this.type=mt.type,this.bindings=[].concat(ct),this.result=mt}evaluate(ct){return this.result.evaluate(ct)}eachChild(ct){for(const mt of this.bindings)ct(mt[1]);ct(this.result)}static parse(ct,mt){if(ct.length<4)return mt.error(`Expected at least 3 arguments, but found ${ct.length-1} instead.`);const _t=[];for(let At=1;At<ct.length-1;At+=2){const Mt=ct[At];if(typeof Mt!="string")return mt.error(`Expected string, but found ${typeof Mt} instead.`,At);if(/[^a-zA-Z0-9_]/.test(Mt))return mt.error("Variable names must contain only alphanumeric characters or '_'.",At);const Dt=mt.parse(ct[At+1],At+1);if(!Dt)return null;_t.push([Mt,Dt])}const St=mt.parse(ct[ct.length-1],ct.length-1,mt.expectedType,_t);return St?new yv(_t,St):null}outputDefined(){return this.result.outputDefined()}serialize(){const ct=["let"];for(const[mt,_t]of this.bindings)ct.push(mt,_t.serialize());return ct.push(this.result.serialize()),ct}}var Op=yv;class _v{constructor(ct,mt,_t){this.type=ct,this.index=mt,this.input=_t}static parse(ct,mt){if(ct.length!==3)return mt.error(`Expected 2 arguments, but found ${ct.length-1} instead.`);const _t=mt.parse(ct[1],1,Nn),St=mt.parse(ct[2],2,Ms(mt.expectedType||po));return _t&&St?new _v(St.type.itemType,_t,St):null}evaluate(ct){const mt=this.index.evaluate(ct),_t=this.input.evaluate(ct);if(mt<0)throw new Ys(`Array index out of bounds: ${mt} < 0.`);if(mt>=_t.length)throw new Ys(`Array index out of bounds: ${mt} > ${_t.length-1}.`);if(mt!==Math.floor(mt))throw new Ys(`Array index must be an integer, but found ${mt} instead.`);return _t[mt]}eachChild(ct){ct(this.index),ct(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var kp=_v;class Bu{constructor(ct,mt){this.type=Hn,this.needle=ct,this.haystack=mt}static parse(ct,mt){if(ct.length!==3)return mt.error(`Expected 2 arguments, but found ${ct.length-1} instead.`);const _t=mt.parse(ct[1],1,po),St=mt.parse(ct[2],2,po);return _t&&St?ru(_t.type,[Hn,fo,Nn,ts,po])?new Bu(_t,St):mt.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ko(_t.type)} instead`):null}evaluate(ct){const mt=this.needle.evaluate(ct),_t=this.haystack.evaluate(ct);if(_t==null)return!1;if(!nu(mt,["boolean","string","number","null"]))throw new Ys(`Expected first argument to be of type boolean, string, number or null, but found ${Ko(gs(mt))} instead.`);if(!nu(_t,["string","array"]))throw new Ys(`Expected second argument to be of type array or string, but found ${Ko(gs(_t))} instead.`);return _t.indexOf(mt)>=0}eachChild(ct){ct(this.needle),ct(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Hm=Bu;class Vu{constructor(ct,mt,_t){this.type=Nn,this.needle=ct,this.haystack=mt,this.fromIndex=_t}static parse(ct,mt){if(ct.length<=2||ct.length>=5)return mt.error(`Expected 3 or 4 arguments, but found ${ct.length-1} instead.`);const _t=mt.parse(ct[1],1,po),St=mt.parse(ct[2],2,po);if(!_t||!St)return null;if(!ru(_t.type,[Hn,fo,Nn,ts,po]))return mt.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ko(_t.type)} instead`);if(ct.length===4){const At=mt.parse(ct[3],3,Nn);return At?new Vu(_t,St,At):null}return new Vu(_t,St)}evaluate(ct){const mt=this.needle.evaluate(ct),_t=this.haystack.evaluate(ct);if(!nu(mt,["boolean","string","number","null"]))throw new Ys(`Expected first argument to be of type boolean, string, number or null, but found ${Ko(gs(mt))} instead.`);if(!nu(_t,["string","array"]))throw new Ys(`Expected second argument to be of type array or string, but found ${Ko(gs(_t))} instead.`);if(this.fromIndex){const St=this.fromIndex.evaluate(ct);return _t.indexOf(mt,St)}return _t.indexOf(mt)}eachChild(ct){ct(this.needle),ct(this.haystack),this.fromIndex&&ct(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const ct=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),ct]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var em=Vu;class Np{constructor(ct,mt,_t,St,At,Mt){this.inputType=ct,this.type=mt,this.input=_t,this.cases=St,this.outputs=At,this.otherwise=Mt}static parse(ct,mt){if(ct.length<5)return mt.error(`Expected at least 4 arguments, but found only ${ct.length-1}.`);if(ct.length%2!=1)return mt.error("Expected an even number of arguments.");let _t,St;mt.expectedType&&mt.expectedType.kind!=="value"&&(St=mt.expectedType);const At={},Mt=[];for(let Bt=2;Bt<ct.length-1;Bt+=2){let Wt=ct[Bt];const qt=ct[Bt+1];Array.isArray(Wt)||(Wt=[Wt]);const Xt=mt.concat(Bt);if(Wt.length===0)return Xt.error("Expected at least one branch label.");for(const lr of Wt){if(typeof lr!="number"&&typeof lr!="string")return Xt.error("Branch labels must be numbers or strings.");if(typeof lr=="number"&&Math.abs(lr)>Number.MAX_SAFE_INTEGER)return Xt.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof lr=="number"&&Math.floor(lr)!==lr)return Xt.error("Numeric branch labels must be integer values.");if(_t){if(Xt.checkSubtype(_t,gs(lr)))return null}else _t=gs(lr);if(At[String(lr)]!==void 0)return Xt.error("Branch labels must be unique.");At[String(lr)]=Mt.length}const ar=mt.parse(qt,Bt,St);if(!ar)return null;St=St||ar.type,Mt.push(ar)}const Dt=mt.parse(ct[1],1,po);if(!Dt)return null;const Nt=mt.parse(ct[ct.length-1],ct.length-1,St);return Nt?Dt.type.kind!=="value"&&mt.concat(1).checkSubtype(_t,Dt.type)?null:new Np(_t,St,Dt,At,Mt,Nt):null}evaluate(ct){const mt=this.input.evaluate(ct);return(gs(mt)===this.inputType&&this.outputs[this.cases[mt]]||this.otherwise).evaluate(ct)}eachChild(ct){ct(this.input),this.outputs.forEach(ct),ct(this.otherwise)}outputDefined(){return this.outputs.every(ct=>ct.outputDefined())&&this.otherwise.outputDefined()}serialize(){const ct=["match",this.input.serialize()],mt=Object.keys(this.cases).sort(),_t=[],St={};for(const Mt of mt){const Dt=St[this.cases[Mt]];Dt===void 0?(St[this.cases[Mt]]=_t.length,_t.push([this.cases[Mt],[Mt]])):_t[Dt][1].push(Mt)}const At=Mt=>this.inputType.kind==="number"?Number(Mt):Mt;for(const[Mt,Dt]of _t)ct.push(Dt.length===1?At(Dt[0]):Dt.map(At)),ct.push(this.outputs[Mt].serialize());return ct.push(this.otherwise.serialize()),ct}}var Wm=Np;class Rr{constructor(ct,mt,_t){this.type=ct,this.branches=mt,this.otherwise=_t}static parse(ct,mt){if(ct.length<4)return mt.error(`Expected at least 3 arguments, but found only ${ct.length-1}.`);if(ct.length%2!=0)return mt.error("Expected an odd number of arguments.");let _t;mt.expectedType&&mt.expectedType.kind!=="value"&&(_t=mt.expectedType);const St=[];for(let Mt=1;Mt<ct.length-1;Mt+=2){const Dt=mt.parse(ct[Mt],Mt,Hn);if(!Dt)return null;const Nt=mt.parse(ct[Mt+1],Mt+1,_t);if(!Nt)return null;St.push([Dt,Nt]),_t=_t||Nt.type}const At=mt.parse(ct[ct.length-1],ct.length-1,_t);return At?new Rr(_t,St,At):null}evaluate(ct){for(const[mt,_t]of this.branches)if(mt.evaluate(ct))return _t.evaluate(ct);return this.otherwise.evaluate(ct)}eachChild(ct){for(const[mt,_t]of this.branches)ct(mt),ct(_t);ct(this.otherwise)}outputDefined(){return this.branches.every(([ct,mt])=>mt.outputDefined())&&this.otherwise.outputDefined()}serialize(){const ct=["case"];return this.eachChild(mt=>{ct.push(mt.serialize())}),ct}}var Do=Rr;class su{constructor(ct,mt,_t,St){this.type=ct,this.input=mt,this.beginIndex=_t,this.endIndex=St}static parse(ct,mt){if(ct.length<=2||ct.length>=5)return mt.error(`Expected 3 or 4 arguments, but found ${ct.length-1} instead.`);const _t=mt.parse(ct[1],1,po),St=mt.parse(ct[2],2,Nn);if(!_t||!St)return null;if(!ru(_t.type,[Ms(po),fo,po]))return mt.error(`Expected first argument to be of type array or string, but found ${Ko(_t.type)} instead`);if(ct.length===4){const At=mt.parse(ct[3],3,Nn);return At?new su(_t.type,_t,St,At):null}return new su(_t.type,_t,St)}evaluate(ct){const mt=this.input.evaluate(ct),_t=this.beginIndex.evaluate(ct);if(!nu(mt,["string","array"]))throw new Ys(`Expected first argument to be of type array or string, but found ${Ko(gs(mt))} instead.`);if(this.endIndex){const St=this.endIndex.evaluate(ct);return mt.slice(_t,St)}return mt.slice(_t)}eachChild(ct){ct(this.input),ct(this.beginIndex),this.endIndex&&ct(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const ct=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),ct]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Fp=su;function ap(pt,ct){return pt==="=="||pt==="!="?ct.kind==="boolean"||ct.kind==="string"||ct.kind==="number"||ct.kind==="null"||ct.kind==="value":ct.kind==="string"||ct.kind==="number"||ct.kind==="value"}function ip(pt,ct,mt,_t){return _t.compare(ct,mt)===0}function io(pt,ct,mt){const _t=pt!=="=="&&pt!=="!=";return class D2{constructor(At,Mt,Dt){this.type=Hn,this.lhs=At,this.rhs=Mt,this.collator=Dt,this.hasUntypedArgument=At.type.kind==="value"||Mt.type.kind==="value"}static parse(At,Mt){if(At.length!==3&&At.length!==4)return Mt.error("Expected two or three arguments.");const Dt=At[0];let Nt=Mt.parse(At[1],1,po);if(!Nt)return null;if(!ap(Dt,Nt.type))return Mt.concat(1).error(`"${Dt}" comparisons are not supported for type '${Ko(Nt.type)}'.`);let Bt=Mt.parse(At[2],2,po);if(!Bt)return null;if(!ap(Dt,Bt.type))return Mt.concat(2).error(`"${Dt}" comparisons are not supported for type '${Ko(Bt.type)}'.`);if(Nt.type.kind!==Bt.type.kind&&Nt.type.kind!=="value"&&Bt.type.kind!=="value")return Mt.error(`Cannot compare types '${Ko(Nt.type)}' and '${Ko(Bt.type)}'.`);_t&&(Nt.type.kind==="value"&&Bt.type.kind!=="value"?Nt=new iu(Bt.type,[Nt]):Nt.type.kind!=="value"&&Bt.type.kind==="value"&&(Bt=new iu(Nt.type,[Bt])));let Wt=null;if(At.length===4){if(Nt.type.kind!=="string"&&Bt.type.kind!=="string"&&Nt.type.kind!=="value"&&Bt.type.kind!=="value")return Mt.error("Cannot use collator to compare non-string types.");if(Wt=Mt.parse(At[3],3,Jo),!Wt)return null}return new D2(Nt,Bt,Wt)}evaluate(At){const Mt=this.lhs.evaluate(At),Dt=this.rhs.evaluate(At);if(_t&&this.hasUntypedArgument){const Nt=gs(Mt),Bt=gs(Dt);if(Nt.kind!==Bt.kind||Nt.kind!=="string"&&Nt.kind!=="number")throw new Ys(`Expected arguments for "${pt}" to be (string, string) or (number, number), but found (${Nt.kind}, ${Bt.kind}) instead.`)}if(this.collator&&!_t&&this.hasUntypedArgument){const Nt=gs(Mt),Bt=gs(Dt);if(Nt.kind!=="string"||Bt.kind!=="string")return ct(At,Mt,Dt)}return this.collator?mt(At,Mt,Dt,this.collator.evaluate(At)):ct(At,Mt,Dt)}eachChild(At){At(this.lhs),At(this.rhs),this.collator&&At(this.collator)}outputDefined(){return!0}serialize(){const At=[pt];return this.eachChild(Mt=>{At.push(Mt.serialize())}),At}}}const er=io("==",function(pt,ct,mt){return ct===mt},ip),vr=io("!=",function(pt,ct,mt){return ct!==mt},function(pt,ct,mt,_t){return!ip(0,ct,mt,_t)}),kn=io("<",function(pt,ct,mt){return ct<mt},function(pt,ct,mt,_t){return _t.compare(ct,mt)<0}),_o=io(">",function(pt,ct,mt){return ct>mt},function(pt,ct,mt,_t){return _t.compare(ct,mt)>0}),ns=io("<=",function(pt,ct,mt){return ct<=mt},function(pt,ct,mt,_t){return _t.compare(ct,mt)<=0}),vu=io(">=",function(pt,ct,mt){return ct>=mt},function(pt,ct,mt,_t){return _t.compare(ct,mt)>=0});class Eu{constructor(ct,mt,_t,St,At){this.type=fo,this.number=ct,this.locale=mt,this.currency=_t,this.minFractionDigits=St,this.maxFractionDigits=At}static parse(ct,mt){if(ct.length!==3)return mt.error("Expected two arguments.");const _t=mt.parse(ct[1],1,Nn);if(!_t)return null;const St=ct[2];if(typeof St!="object"||Array.isArray(St))return mt.error("NumberFormat options argument must be an object.");let At=null;if(St.locale&&(At=mt.parse(St.locale,1,fo),!At))return null;let Mt=null;if(St.currency&&(Mt=mt.parse(St.currency,1,fo),!Mt))return null;let Dt=null;if(St["min-fraction-digits"]&&(Dt=mt.parse(St["min-fraction-digits"],1,Nn),!Dt))return null;let Nt=null;return St["max-fraction-digits"]&&(Nt=mt.parse(St["max-fraction-digits"],1,Nn),!Nt)?null:new Eu(_t,At,Mt,Dt,Nt)}evaluate(ct){return new Intl.NumberFormat(this.locale?this.locale.evaluate(ct):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(ct):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(ct):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(ct):void 0}).format(this.number.evaluate(ct))}eachChild(ct){ct(this.number),this.locale&&ct(this.locale),this.currency&&ct(this.currency),this.minFractionDigits&&ct(this.minFractionDigits),this.maxFractionDigits&&ct(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const ct={};return this.locale&&(ct.locale=this.locale.serialize()),this.currency&&(ct.currency=this.currency.serialize()),this.minFractionDigits&&(ct["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(ct["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),ct]}}class tm{constructor(ct){this.type=Nn,this.input=ct}static parse(ct,mt){if(ct.length!==2)return mt.error(`Expected 1 argument, but found ${ct.length-1} instead.`);const _t=mt.parse(ct[1],1);return _t?_t.type.kind!=="array"&&_t.type.kind!=="string"&&_t.type.kind!=="value"?mt.error(`Expected argument of type string or array, but found ${Ko(_t.type)} instead.`):new tm(_t):null}evaluate(ct){const mt=this.input.evaluate(ct);if(typeof mt=="string"||Array.isArray(mt))return mt.length;throw new Ys(`Expected value to be of type string or array, but found ${Ko(gs(mt))} instead.`)}eachChild(ct){ct(this.input)}outputDefined(){return!1}serialize(){const ct=["length"];return this.eachChild(mt=>{ct.push(mt.serialize())}),ct}}const Km={"==":er,"!=":vr,">":_o,"<":kn,">=":vu,"<=":ns,array:iu,at:kp,boolean:iu,case:Do,coalesce:gv,collator:Cu,format:hu,image:Sp,in:Hm,"index-of":em,interpolate:Vl,"interpolate-hcl":Vl,"interpolate-lab":Vl,length:tm,let:Op,literal:Qu,match:Wm,number:iu,"number-format":Eu,object:iu,slice:Fp,step:ep,string:iu,"to-boolean":Ru,"to-color":Ru,"to-number":Ru,"to-string":Ru,var:fv,within:Ep};function Ym(pt,[ct,mt,_t,St]){ct=ct.evaluate(pt),mt=mt.evaluate(pt),_t=_t.evaluate(pt);const At=St?St.evaluate(pt):1,Mt=wu(ct,mt,_t,At);if(Mt)throw new Ys(Mt);return new $o(ct/255*At,mt/255*At,_t/255*At,At)}function rm(pt,ct){return pt in ct}function qm(pt,ct){const mt=ct[pt];return mt===void 0?null:mt}function op(pt){return{type:pt}}ou.register(Km,{error:[{kind:"error"},[fo],(pt,[ct])=>{throw new Ys(ct.evaluate(pt))}],typeof:[fo,[po],(pt,[ct])=>Ko(gs(ct.evaluate(pt)))],"to-rgba":[Ms(Nn,4),[ho],(pt,[ct])=>ct.evaluate(pt).toArray()],rgb:[ho,[Nn,Nn,Nn],Ym],rgba:[ho,[Nn,Nn,Nn,Nn],Ym],has:{type:Hn,overloads:[[[fo],(pt,[ct])=>rm(ct.evaluate(pt),pt.properties())],[[fo,Qo],(pt,[ct,mt])=>rm(ct.evaluate(pt),mt.evaluate(pt))]]},get:{type:po,overloads:[[[fo],(pt,[ct])=>qm(ct.evaluate(pt),pt.properties())],[[fo,Qo],(pt,[ct,mt])=>qm(ct.evaluate(pt),mt.evaluate(pt))]]},"feature-state":[po,[fo],(pt,[ct])=>qm(ct.evaluate(pt),pt.featureState||{})],properties:[Qo,[],pt=>pt.properties()],"geometry-type":[fo,[],pt=>pt.geometryType()],id:[po,[],pt=>pt.id()],zoom:[Nn,[],pt=>pt.globals.zoom],pitch:[Nn,[],pt=>pt.globals.pitch||0],"distance-from-center":[Nn,[],pt=>pt.distanceFromCenter()],"heatmap-density":[Nn,[],pt=>pt.globals.heatmapDensity||0],"line-progress":[Nn,[],pt=>pt.globals.lineProgress||0],"sky-radial-progress":[Nn,[],pt=>pt.globals.skyRadialProgress||0],accumulated:[po,[],pt=>pt.globals.accumulated===void 0?null:pt.globals.accumulated],"+":[Nn,op(Nn),(pt,ct)=>{let mt=0;for(const _t of ct)mt+=_t.evaluate(pt);return mt}],"*":[Nn,op(Nn),(pt,ct)=>{let mt=1;for(const _t of ct)mt*=_t.evaluate(pt);return mt}],"-":{type:Nn,overloads:[[[Nn,Nn],(pt,[ct,mt])=>ct.evaluate(pt)-mt.evaluate(pt)],[[Nn],(pt,[ct])=>-ct.evaluate(pt)]]},"/":[Nn,[Nn,Nn],(pt,[ct,mt])=>ct.evaluate(pt)/mt.evaluate(pt)],"%":[Nn,[Nn,Nn],(pt,[ct,mt])=>ct.evaluate(pt)%mt.evaluate(pt)],ln2:[Nn,[],()=>Math.LN2],pi:[Nn,[],()=>Math.PI],e:[Nn,[],()=>Math.E],"^":[Nn,[Nn,Nn],(pt,[ct,mt])=>Math.pow(ct.evaluate(pt),mt.evaluate(pt))],sqrt:[Nn,[Nn],(pt,[ct])=>Math.sqrt(ct.evaluate(pt))],log10:[Nn,[Nn],(pt,[ct])=>Math.log(ct.evaluate(pt))/Math.LN10],ln:[Nn,[Nn],(pt,[ct])=>Math.log(ct.evaluate(pt))],log2:[Nn,[Nn],(pt,[ct])=>Math.log(ct.evaluate(pt))/Math.LN2],sin:[Nn,[Nn],(pt,[ct])=>Math.sin(ct.evaluate(pt))],cos:[Nn,[Nn],(pt,[ct])=>Math.cos(ct.evaluate(pt))],tan:[Nn,[Nn],(pt,[ct])=>Math.tan(ct.evaluate(pt))],asin:[Nn,[Nn],(pt,[ct])=>Math.asin(ct.evaluate(pt))],acos:[Nn,[Nn],(pt,[ct])=>Math.acos(ct.evaluate(pt))],atan:[Nn,[Nn],(pt,[ct])=>Math.atan(ct.evaluate(pt))],min:[Nn,op(Nn),(pt,ct)=>Math.min(...ct.map(mt=>mt.evaluate(pt)))],max:[Nn,op(Nn),(pt,ct)=>Math.max(...ct.map(mt=>mt.evaluate(pt)))],abs:[Nn,[Nn],(pt,[ct])=>Math.abs(ct.evaluate(pt))],round:[Nn,[Nn],(pt,[ct])=>{const mt=ct.evaluate(pt);return mt<0?-Math.round(-mt):Math.round(mt)}],floor:[Nn,[Nn],(pt,[ct])=>Math.floor(ct.evaluate(pt))],ceil:[Nn,[Nn],(pt,[ct])=>Math.ceil(ct.evaluate(pt))],"filter-==":[Hn,[fo,po],(pt,[ct,mt])=>pt.properties()[ct.value]===mt.value],"filter-id-==":[Hn,[po],(pt,[ct])=>pt.id()===ct.value],"filter-type-==":[Hn,[fo],(pt,[ct])=>pt.geometryType()===ct.value],"filter-<":[Hn,[fo,po],(pt,[ct,mt])=>{const _t=pt.properties()[ct.value],St=mt.value;return typeof _t==typeof St&&_t<St}],"filter-id-<":[Hn,[po],(pt,[ct])=>{const mt=pt.id(),_t=ct.value;return typeof mt==typeof _t&&mt<_t}],"filter->":[Hn,[fo,po],(pt,[ct,mt])=>{const _t=pt.properties()[ct.value],St=mt.value;return typeof _t==typeof St&&_t>St}],"filter-id->":[Hn,[po],(pt,[ct])=>{const mt=pt.id(),_t=ct.value;return typeof mt==typeof _t&&mt>_t}],"filter-<=":[Hn,[fo,po],(pt,[ct,mt])=>{const _t=pt.properties()[ct.value],St=mt.value;return typeof _t==typeof St&&_t<=St}],"filter-id-<=":[Hn,[po],(pt,[ct])=>{const mt=pt.id(),_t=ct.value;return typeof mt==typeof _t&&mt<=_t}],"filter->=":[Hn,[fo,po],(pt,[ct,mt])=>{const _t=pt.properties()[ct.value],St=mt.value;return typeof _t==typeof St&&_t>=St}],"filter-id->=":[Hn,[po],(pt,[ct])=>{const mt=pt.id(),_t=ct.value;return typeof mt==typeof _t&&mt>=_t}],"filter-has":[Hn,[po],(pt,[ct])=>ct.value in pt.properties()],"filter-has-id":[Hn,[],pt=>pt.id()!==null&&pt.id()!==void 0],"filter-type-in":[Hn,[Ms(fo)],(pt,[ct])=>ct.value.indexOf(pt.geometryType())>=0],"filter-id-in":[Hn,[Ms(po)],(pt,[ct])=>ct.value.indexOf(pt.id())>=0],"filter-in-small":[Hn,[fo,Ms(po)],(pt,[ct,mt])=>mt.value.indexOf(pt.properties()[ct.value])>=0],"filter-in-large":[Hn,[fo,Ms(po)],(pt,[ct,mt])=>function(_t,St,At,Mt){for(;At<=Mt;){const Dt=At+Mt>>1;if(St[Dt]===_t)return!0;St[Dt]>_t?Mt=Dt-1:At=Dt+1}return!1}(pt.properties()[ct.value],mt.value,0,mt.value.length-1)],all:{type:Hn,overloads:[[[Hn,Hn],(pt,[ct,mt])=>ct.evaluate(pt)&&mt.evaluate(pt)],[op(Hn),(pt,ct)=>{for(const mt of ct)if(!mt.evaluate(pt))return!1;return!0}]]},any:{type:Hn,overloads:[[[Hn,Hn],(pt,[ct,mt])=>ct.evaluate(pt)||mt.evaluate(pt)],[op(Hn),(pt,ct)=>{for(const mt of ct)if(mt.evaluate(pt))return!0;return!1}]]},"!":[Hn,[Hn],(pt,[ct])=>!ct.evaluate(pt)],"is-supported-script":[Hn,[fo],(pt,[ct])=>{const mt=pt.globals&&pt.globals.isSupportedScript;return!mt||mt(ct.evaluate(pt))}],upcase:[fo,[fo],(pt,[ct])=>ct.evaluate(pt).toUpperCase()],downcase:[fo,[fo],(pt,[ct])=>ct.evaluate(pt).toLowerCase()],concat:[fo,op(po),(pt,ct)=>ct.map(mt=>Fl(mt.evaluate(pt))).join("")],"resolved-locale":[fo,[Jo],(pt,[ct])=>ct.evaluate(pt).resolvedLocale()]});var xv=Km;function zy(pt){return{result:"success",value:pt}}function zp(pt){return{result:"error",value:pt}}function Bp(pt){return pt["property-type"]==="data-driven"||pt["property-type"]==="cross-faded-data-driven"}function Zm(pt){return!!pt.expression&&pt.expression.parameters.indexOf("zoom")>-1}function nm(pt){return!!pt.expression&&pt.expression.interpolated}function as(pt){return pt instanceof Number?"number":pt instanceof String?"string":pt instanceof Boolean?"boolean":Array.isArray(pt)?"array":pt===null?"null":typeof pt}function am(pt){return typeof pt=="object"&&pt!==null&&!Array.isArray(pt)}function J0(pt){return pt}function By(pt,ct){const mt=ct.type==="color",_t=pt.stops&&typeof pt.stops[0][0]=="object",St=_t||!(_t||pt.property!==void 0),At=pt.type||(nm(ct)?"exponential":"interval");if(mt&&((pt=ss({},pt)).stops&&(pt.stops=pt.stops.map(Bt=>[Bt[0],$o.parse(Bt[1])])),pt.default=$o.parse(pt.default?pt.default:ct.default)),pt.colorSpace&&pt.colorSpace!=="rgb"&&!mv[pt.colorSpace])throw new Error(`Unknown color space: ${pt.colorSpace}`);let Mt,Dt,Nt;if(At==="exponential")Mt=Uy;else if(At==="interval")Mt=Vp;else if(At==="categorical"){Mt=Vy,Dt=Object.create(null);for(const Bt of pt.stops)Dt[Bt[0]]=Bt[1];Nt=typeof pt.stops[0][0]}else{if(At!=="identity")throw new Error(`Unknown function type "${At}"`);Mt=e_}if(_t){const Bt={},Wt=[];for(let ar=0;ar<pt.stops.length;ar++){const lr=pt.stops[ar],hr=lr[0].zoom;Bt[hr]===void 0&&(Bt[hr]={zoom:hr,type:pt.type,property:pt.property,default:pt.default,stops:[]},Wt.push(hr)),Bt[hr].stops.push([lr[0].value,lr[1]])}const qt=[];for(const ar of Wt)qt.push([Bt[ar].zoom,By(Bt[ar],ct)]);const Xt={name:"linear"};return{kind:"composite",interpolationType:Xt,interpolationFactor:Vl.interpolationFactor.bind(void 0,Xt),zoomStops:qt.map(ar=>ar[0]),evaluate:({zoom:ar},lr)=>Uy({stops:qt,base:pt.base},ct,ar).evaluate(ar,lr)}}if(St){const Bt=At==="exponential"?{name:"exponential",base:pt.base!==void 0?pt.base:1}:null;return{kind:"camera",interpolationType:Bt,interpolationFactor:Vl.interpolationFactor.bind(void 0,Bt),zoomStops:pt.stops.map(Wt=>Wt[0]),evaluate:({zoom:Wt})=>Mt(pt,ct,Wt,Dt,Nt)}}return{kind:"source",evaluate(Bt,Wt){const qt=Wt&&Wt.properties?Wt.properties[pt.property]:void 0;return qt===void 0?Wl(pt.default,ct.default):Mt(pt,ct,qt,Dt,Nt)}}}function Wl(pt,ct,mt){return pt!==void 0?pt:ct!==void 0?ct:mt!==void 0?mt:void 0}function Vy(pt,ct,mt,_t,St){return Wl(typeof mt===St?_t[mt]:void 0,pt.default,ct.default)}function Vp(pt,ct,mt){if(as(mt)!=="number")return Wl(pt.default,ct.default);const _t=pt.stops.length;if(_t===1||mt<=pt.stops[0][0])return pt.stops[0][1];if(mt>=pt.stops[_t-1][0])return pt.stops[_t-1][1];const St=Pp(pt.stops.map(At=>At[0]),mt);return pt.stops[St][1]}function Uy(pt,ct,mt){const _t=pt.base!==void 0?pt.base:1;if(as(mt)!=="number")return Wl(pt.default,ct.default);const St=pt.stops.length;if(St===1||mt<=pt.stops[0][0])return pt.stops[0][1];if(mt>=pt.stops[St-1][0])return pt.stops[St-1][1];const At=Pp(pt.stops.map(Wt=>Wt[0]),mt),Mt=function(Wt,qt,Xt,ar){const lr=ar-Xt,hr=Wt-Xt;return lr===0?0:qt===1?hr/lr:(Math.pow(qt,hr)-1)/(Math.pow(qt,lr)-1)}(mt,_t,pt.stops[At][0],pt.stops[At+1][0]),Dt=pt.stops[At][1],Nt=pt.stops[At+1][1];let Bt=tp[ct.type]||J0;if(pt.colorSpace&&pt.colorSpace!=="rgb"){const Wt=mv[pt.colorSpace];Bt=(qt,Xt)=>Wt.reverse(Wt.interpolate(Wt.forward(qt),Wt.forward(Xt),Mt))}return typeof Dt.evaluate=="function"?{evaluate(...Wt){const qt=Dt.evaluate.apply(void 0,Wt),Xt=Nt.evaluate.apply(void 0,Wt);if(qt!==void 0&&Xt!==void 0)return Bt(qt,Xt,Mt)}}:Bt(Dt,Nt,Mt)}function e_(pt,ct,mt){return ct.type==="color"?mt=$o.parse(mt):ct.type==="formatted"?mt=js.fromString(mt.toString()):ct.type==="resolvedImage"?mt=Is.fromString(mt.toString()):as(mt)===ct.type||ct.type==="enum"&&ct.values[mt]||(mt=void 0),Wl(mt,pt.default,ct.default)}class im{constructor(ct,mt){this.expression=ct,this._warningHistory={},this._evaluator=new Hv,this._defaultValue=mt?function(_t){return _t.type==="color"&&(am(_t.default)||Array.isArray(_t.default))?new $o(0,0,0,0):_t.type==="color"?$o.parse(_t.default)||null:_t.default===void 0?null:_t.default}(mt):null,this._enumValues=mt&&mt.type==="enum"?mt.values:null}evaluateWithoutErrorHandling(ct,mt,_t,St,At,Mt,Dt,Nt){return this._evaluator.globals=ct,this._evaluator.feature=mt,this._evaluator.featureState=_t,this._evaluator.canonical=St||null,this._evaluator.availableImages=At||null,this._evaluator.formattedSection=Mt,this._evaluator.featureTileCoord=Dt||null,this._evaluator.featureDistanceData=Nt||null,this.expression.evaluate(this._evaluator)}evaluate(ct,mt,_t,St,At,Mt,Dt,Nt){this._evaluator.globals=ct,this._evaluator.feature=mt||null,this._evaluator.featureState=_t||null,this._evaluator.canonical=St||null,this._evaluator.availableImages=At||null,this._evaluator.formattedSection=Mt||null,this._evaluator.featureTileCoord=Dt||null,this._evaluator.featureDistanceData=Nt||null;try{const Bt=this.expression.evaluate(this._evaluator);if(Bt==null||typeof Bt=="number"&&Bt!=Bt)return this._defaultValue;if(this._enumValues&&!(Bt in this._enumValues))throw new Ys(`Expected value to be one of ${Object.keys(this._enumValues).map(Wt=>JSON.stringify(Wt)).join(", ")}, but found ${JSON.stringify(Bt)} instead.`);return Bt}catch(Bt){return this._warningHistory[Bt.message]||(this._warningHistory[Bt.message]=!0,typeof console!="undefined"&&console.warn(Bt.message)),this._defaultValue}}}function om(pt){return Array.isArray(pt)&&pt.length>0&&typeof pt[0]=="string"&&pt[0]in xv}function sp(pt,ct){const mt=new Zv(xv,[],ct?function(St){const At={color:ho,string:fo,number:Nn,enum:fo,boolean:Hn,formatted:As,resolvedImage:Ls};return St.type==="array"?Ms(At[St.value]||po,St.length):At[St.type]}(ct):void 0),_t=mt.parse(pt,void 0,void 0,void 0,ct&&ct.type==="string"?{typeAnnotation:"coerce"}:void 0);return _t?zy(new im(_t,ct)):zp(mt.errors)}class sm{constructor(ct,mt){this.kind=ct,this._styleExpression=mt,this.isStateDependent=ct!=="constant"&&!Tu(mt.expression)}evaluateWithoutErrorHandling(ct,mt,_t,St,At,Mt){return this._styleExpression.evaluateWithoutErrorHandling(ct,mt,_t,St,At,Mt)}evaluate(ct,mt,_t,St,At,Mt){return this._styleExpression.evaluate(ct,mt,_t,St,At,Mt)}}class bv{constructor(ct,mt,_t,St){this.kind=ct,this.zoomStops=_t,this._styleExpression=mt,this.isStateDependent=ct!=="camera"&&!Tu(mt.expression),this.interpolationType=St}evaluateWithoutErrorHandling(ct,mt,_t,St,At,Mt){return this._styleExpression.evaluateWithoutErrorHandling(ct,mt,_t,St,At,Mt)}evaluate(ct,mt,_t,St,At,Mt){return this._styleExpression.evaluate(ct,mt,_t,St,At,Mt)}interpolationFactor(ct,mt,_t){return this.interpolationType?Vl.interpolationFactor(this.interpolationType,ct,mt,_t):0}}function lm(pt,ct){if((pt=sp(pt,ct)).result==="error")return pt;const mt=pt.value.expression,_t=Ou(mt);if(!_t&&!Bp(ct))return zp([new Cs("","data expressions not supported")]);const St=Ap(mt,["zoom","pitch","distance-from-center"]);if(!St&&!Zm(ct))return zp([new Cs("","zoom expressions not supported")]);const At=Up(mt);return At||St?At instanceof Cs?zp([At]):At instanceof Vl&&!nm(ct)?zp([new Cs("",'"interpolate" expressions cannot be used with this property')]):zy(At?new bv(_t?"camera":"composite",pt.value,At.labels,At instanceof Vl?At.interpolation:void 0):new sm(_t?"constant":"source",pt.value)):zp([new Cs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Sv{constructor(ct,mt){this._parameters=ct,this._specification=mt,ss(this,By(this._parameters,this._specification))}static deserialize(ct){return new Sv(ct._parameters,ct._specification)}static serialize(ct){return{_parameters:ct._parameters,_specification:ct._specification}}}function Up(pt){let ct=null;if(pt instanceof Op)ct=Up(pt.result);else if(pt instanceof gv){for(const mt of pt.args)if(ct=Up(mt),ct)break}else(pt instanceof ep||pt instanceof Vl)&&pt.input instanceof ou&&pt.input.name==="zoom"&&(ct=pt);return ct instanceof Cs||pt.eachChild(mt=>{const _t=Up(mt);_t instanceof Cs?ct=_t:!ct&&_t?ct=new Cs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):ct&&_t&&ct!==_t&&(ct=new Cs("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),ct}class to{constructor(ct,mt,_t,St){this.message=(ct?`${ct}: `:"")+_t,St&&(this.identifier=St),mt!=null&&mt.__line__&&(this.line=mt.__line__)}}function Kl(pt){const ct=pt.key,mt=pt.value,_t=pt.valueSpec||{},St=pt.objectElementValidators||{},At=pt.style,Mt=pt.styleSpec;let Dt=[];const Nt=as(mt);if(Nt!=="object")return[new to(ct,mt,`object expected, ${Nt} found`)];for(const Bt in mt){const Wt=Bt.split(".")[0],qt=_t[Wt]||_t["*"];let Xt;St[Wt]?Xt=St[Wt]:_t[Wt]?Xt=Zs:St["*"]?Xt=St["*"]:_t["*"]&&(Xt=Zs),Xt?Dt=Dt.concat(Xt({key:(ct&&`${ct}.`)+Bt,value:mt[Bt],valueSpec:qt,style:At,styleSpec:Mt,object:mt,objectKey:Bt},mt)):Dt.push(new to(ct,mt[Bt],`unknown property "${Bt}"`))}for(const Bt in _t)St[Bt]||_t[Bt].required&&_t[Bt].default===void 0&&mt[Bt]===void 0&&Dt.push(new to(ct,mt,`missing required property "${Bt}"`));return Dt}function wv(pt){const ct=pt.value,mt=pt.valueSpec,_t=pt.style,St=pt.styleSpec,At=pt.key,Mt=pt.arrayElementValidator||Zs;if(as(ct)!=="array")return[new to(At,ct,`array expected, ${as(ct)} found`)];if(mt.length&&ct.length!==mt.length)return[new to(At,ct,`array length ${mt.length} expected, length ${ct.length} found`)];if(mt["min-length"]&&ct.length<mt["min-length"])return[new to(At,ct,`array length at least ${mt["min-length"]} expected, length ${ct.length} found`)];let Dt={type:mt.value,values:mt.values,minimum:mt.minimum,maximum:mt.maximum,function:void 0};St.$version<7&&(Dt.function=mt.function),as(mt.value)==="object"&&(Dt=mt.value);let Nt=[];for(let Bt=0;Bt<ct.length;Bt++)Nt=Nt.concat(Mt({array:ct,arrayIndex:Bt,value:ct[Bt],valueSpec:Dt,style:_t,styleSpec:St,key:`${At}[${Bt}]`}));return Nt}function lp(pt){const ct=pt.key,mt=pt.value,_t=pt.valueSpec;let St=as(mt);if(St==="number"&&mt!=mt&&(St="NaN"),St!=="number")return[new to(ct,mt,`number expected, ${St} found`)];if("minimum"in _t){let At=_t.minimum;if(as(_t.minimum)==="array"&&(At=_t.minimum[pt.arrayIndex]),mt<At)return[new to(ct,mt,`${mt} is less than the minimum value ${At}`)]}if("maximum"in _t){let At=_t.maximum;if(as(_t.maximum)==="array"&&(At=_t.maximum[pt.arrayIndex]),mt>At)return[new to(ct,mt,`${mt} is greater than the maximum value ${At}`)]}return[]}function Xm(pt){const ct=pt.valueSpec,mt=Ho(pt.value.type);let _t,St,At,Mt={};const Dt=mt!=="categorical"&&pt.value.property===void 0,Nt=!Dt,Bt=as(pt.value.stops)==="array"&&as(pt.value.stops[0])==="array"&&as(pt.value.stops[0][0])==="object",Wt=Kl({key:pt.key,value:pt.value,valueSpec:pt.styleSpec.function,style:pt.style,styleSpec:pt.styleSpec,objectElementValidators:{stops:function(ar){if(mt==="identity")return[new to(ar.key,ar.value,'identity function may not have a "stops" property')];let lr=[];const hr=ar.value;return lr=lr.concat(wv({key:ar.key,value:hr,valueSpec:ar.valueSpec,style:ar.style,styleSpec:ar.styleSpec,arrayElementValidator:qt})),as(hr)==="array"&&hr.length===0&&lr.push(new to(ar.key,hr,"array must have at least one stop")),lr},default:function(ar){return Zs({key:ar.key,value:ar.value,valueSpec:ct,style:ar.style,styleSpec:ar.styleSpec})}}});return mt==="identity"&&Dt&&Wt.push(new to(pt.key,pt.value,'missing required property "property"')),mt==="identity"||pt.value.stops||Wt.push(new to(pt.key,pt.value,'missing required property "stops"')),mt==="exponential"&&pt.valueSpec.expression&&!nm(pt.valueSpec)&&Wt.push(new to(pt.key,pt.value,"exponential functions not supported")),pt.styleSpec.$version>=8&&(Nt&&!Bp(pt.valueSpec)?Wt.push(new to(pt.key,pt.value,"property functions not supported")):Dt&&!Zm(pt.valueSpec)&&Wt.push(new to(pt.key,pt.value,"zoom functions not supported"))),mt!=="categorical"&&!Bt||pt.value.property!==void 0||Wt.push(new to(pt.key,pt.value,'"property" property is required')),Wt;function qt(ar){let lr=[];const hr=ar.value,Sr=ar.key;if(as(hr)!=="array")return[new to(Sr,hr,`array expected, ${as(hr)} found`)];if(hr.length!==2)return[new to(Sr,hr,`array length 2 expected, length ${hr.length} found`)];if(Bt){if(as(hr[0])!=="object")return[new to(Sr,hr,`object expected, ${as(hr[0])} found`)];if(hr[0].zoom===void 0)return[new to(Sr,hr,"object stop key must have zoom")];if(hr[0].value===void 0)return[new to(Sr,hr,"object stop key must have value")];const Ar=Ho(hr[0].zoom);if(typeof Ar!="number")return[new to(Sr,hr[0].zoom,"stop zoom values must be numbers")];if(At&&At>Ar)return[new to(Sr,hr[0].zoom,"stop zoom values must appear in ascending order")];Ar!==At&&(At=Ar,St=void 0,Mt={}),lr=lr.concat(Kl({key:`${Sr}[0]`,value:hr[0],valueSpec:{zoom:{}},style:ar.style,styleSpec:ar.styleSpec,objectElementValidators:{zoom:lp,value:Xt}}))}else lr=lr.concat(Xt({key:`${Sr}[0]`,value:hr[0],valueSpec:{},style:ar.style,styleSpec:ar.styleSpec},hr));return om(Xo(hr[1]))?lr.concat([new to(`${Sr}[1]`,hr[1],"expressions are not allowed in function stops.")]):lr.concat(Zs({key:`${Sr}[1]`,value:hr[1],valueSpec:ct,style:ar.style,styleSpec:ar.styleSpec}))}function Xt(ar,lr){const hr=as(ar.value),Sr=Ho(ar.value),Ar=ar.value!==null?ar.value:lr;if(_t){if(hr!==_t)return[new to(ar.key,Ar,`${hr} stop domain type must match previous stop domain type ${_t}`)]}else _t=hr;if(hr!=="number"&&hr!=="string"&&hr!=="boolean"&&typeof Sr!="number"&&typeof Sr!="string"&&typeof Sr!="boolean")return[new to(ar.key,Ar,"stop domain value must be a number, string, or boolean")];if(hr!=="number"&&mt!=="categorical"){let Vr=`number expected, ${hr} found`;return Bp(ct)&&mt===void 0&&(Vr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new to(ar.key,Ar,Vr)]}return mt!=="categorical"||hr!=="number"||typeof Sr=="number"&&isFinite(Sr)&&Math.floor(Sr)===Sr?mt!=="categorical"&&hr==="number"&&typeof Sr=="number"&&typeof St=="number"&&St!==void 0&&Sr<St?[new to(ar.key,Ar,"stop domain values must appear in ascending order")]:(St=Sr,mt==="categorical"&&Sr in Mt?[new to(ar.key,Ar,"stop domain values must be unique")]:(Mt[Sr]=!0,[])):[new to(ar.key,Ar,`integer expected, found ${String(Sr)}`)]}}function up(pt){const ct=(pt.expressionContext==="property"?lm:sp)(Xo(pt.value),pt.valueSpec);if(ct.result==="error")return ct.value.map(_t=>new to(`${pt.key}${_t.key}`,pt.value,_t.message));const mt=ct.value.expression||ct.value._styleExpression.expression;if(pt.expressionContext==="property"&&pt.propertyKey==="text-font"&&!mt.outputDefined())return[new to(pt.key,pt.value,`Invalid data expression for "${pt.propertyKey}". Output values must be contained as literals within the expression.`)];if(pt.expressionContext==="property"&&pt.propertyType==="layout"&&!Tu(mt))return[new to(pt.key,pt.value,'"feature-state" data expressions are not supported with layout properties.')];if(pt.expressionContext==="filter")return um(mt,pt);if(pt.expressionContext&&pt.expressionContext.indexOf("cluster")===0){if(!Ap(mt,["zoom","feature-state"]))return[new to(pt.key,pt.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(pt.expressionContext==="cluster-initial"&&!Ou(mt))return[new to(pt.key,pt.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function um(pt,ct){const mt=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(ct.valueSpec&&ct.valueSpec.expression)for(const St of ct.valueSpec.expression.parameters)mt.delete(St);if(mt.size===0)return[];const _t=[];return pt instanceof ou&&mt.has(pt.name)?[new to(ct.key,ct.value,`["${pt.name}"] expression is not supported in a filter for a ${ct.object.type} layer with id: ${ct.object.id}`)]:(pt.eachChild(St=>{_t.push(...um(St,ct))}),_t)}function Cv(pt){const ct=pt.key,mt=pt.value,_t=pt.valueSpec,St=[];return Array.isArray(_t.values)?_t.values.indexOf(Ho(mt))===-1&&St.push(new to(ct,mt,`expected one of [${_t.values.join(", ")}], ${JSON.stringify(mt)} found`)):Object.keys(_t.values).indexOf(Ho(mt))===-1&&St.push(new to(ct,mt,`expected one of [${Object.keys(_t.values).join(", ")}], ${JSON.stringify(mt)} found`)),St}function Qm(pt){if(pt===!0||pt===!1)return!0;if(!Array.isArray(pt)||pt.length===0)return!1;switch(pt[0]){case"has":return pt.length>=2&&pt[1]!=="$id"&&pt[1]!=="$type";case"in":return pt.length>=3&&(typeof pt[1]!="string"||Array.isArray(pt[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return pt.length!==3||Array.isArray(pt[1])||Array.isArray(pt[2]);case"any":case"all":for(const ct of pt.slice(1))if(!Qm(ct)&&typeof ct!="boolean")return!1;return!0;default:return!0}}function cp(pt,ct="fill"){if(pt==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Qm(pt)||(pt=fp(pt));const mt=pt;let _t=!0;try{_t=function(Bt){if(!jp(Bt))return Bt;let Wt=Xo(Bt);return Gy(Wt),Wt=jy(Wt),Wt}(mt)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(mt,null,2)}
        `)}const St=Ur[`filter_${ct}`],At=sp(_t,St);let Mt=null;if(At.result==="error")throw new Error(At.value.map(Bt=>`${Bt.key}: ${Bt.message}`).join(", "));Mt=(Bt,Wt,qt)=>At.value.evaluate(Bt,Wt,{},qt);let Dt=null,Nt=null;if(_t!==mt){const Bt=sp(mt,St);if(Bt.result==="error")throw new Error(Bt.value.map(Wt=>`${Wt.key}: ${Wt.message}`).join(", "));Dt=(Wt,qt,Xt,ar,lr)=>Bt.value.evaluate(Wt,qt,{},Xt,void 0,void 0,ar,lr),Nt=!Ou(Bt.value.expression)}return Mt=Mt,{filter:Mt,dynamicFilter:Dt||void 0,needGeometry:Tv(_t),needFeature:!!Nt}}function jy(pt){if(!Array.isArray(pt))return pt;const ct=function(mt){if(t_.has(mt[0])){for(let _t=1;_t<mt.length;_t++)if(jp(mt[_t]))return!0}return mt}(pt);return ct===!0?ct:ct.map(mt=>jy(mt))}function Gy(pt){let ct=!1;const mt=[];if(pt[0]==="case"){for(let _t=1;_t<pt.length-1;_t+=2)ct=ct||jp(pt[_t]),mt.push(pt[_t+1]);mt.push(pt[pt.length-1])}else if(pt[0]==="match"){ct=ct||jp(pt[1]);for(let _t=2;_t<pt.length-1;_t+=2)mt.push(pt[_t+1]);mt.push(pt[pt.length-1])}else if(pt[0]==="step"){ct=ct||jp(pt[1]);for(let _t=1;_t<pt.length-1;_t+=2)mt.push(pt[_t+1])}ct&&(pt.length=0,pt.push("any",...mt));for(let _t=1;_t<pt.length;_t++)Gy(pt[_t])}function jp(pt){if(!Array.isArray(pt))return!1;if((ct=pt[0])==="pitch"||ct==="distance-from-center")return!0;var ct;for(let mt=1;mt<pt.length;mt++)if(jp(pt[mt]))return!0;return!1}const t_=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function r_(pt,ct){return pt<ct?-1:pt>ct?1:0}function Tv(pt){if(!Array.isArray(pt))return!1;if(pt[0]==="within")return!0;for(let ct=1;ct<pt.length;ct++)if(Tv(pt[ct]))return!0;return!1}function fp(pt){if(!pt)return!0;const ct=pt[0];return pt.length<=1?ct!=="any":ct==="=="?Tl(pt[1],pt[2],"=="):ct==="!="?cm(Tl(pt[1],pt[2],"==")):ct==="<"||ct===">"||ct==="<="||ct===">="?Tl(pt[1],pt[2],ct):ct==="any"?(mt=pt.slice(1),["any"].concat(mt.map(fp))):ct==="all"?["all"].concat(pt.slice(1).map(fp)):ct==="none"?["all"].concat(pt.slice(1).map(fp).map(cm)):ct==="in"?Ev(pt[1],pt.slice(2)):ct==="!in"?cm(Ev(pt[1],pt.slice(2))):ct==="has"?Hy(pt[1]):ct==="!has"?cm(Hy(pt[1])):ct!=="within"||pt;var mt}function Tl(pt,ct,mt){switch(pt){case"$type":return[`filter-type-${mt}`,ct];case"$id":return[`filter-id-${mt}`,ct];default:return[`filter-${mt}`,pt,ct]}}function Ev(pt,ct){if(ct.length===0)return!1;switch(pt){case"$type":return["filter-type-in",["literal",ct]];case"$id":return["filter-id-in",["literal",ct]];default:return ct.length>200&&!ct.some(mt=>typeof mt!=typeof ct[0])?["filter-in-large",pt,["literal",ct.sort(r_)]]:["filter-in-small",pt,["literal",ct]]}}function Hy(pt){switch(pt){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",pt]}}function cm(pt){return["!",pt]}function Jm(pt){return Qm(Xo(pt.value))?up(ss({},pt,{expressionContext:"filter",valueSpec:pt.styleSpec[`filter_${pt.layerType||"fill"}`]})):Wy(pt)}function Wy(pt){const ct=pt.value,mt=pt.key;if(as(ct)!=="array")return[new to(mt,ct,`array expected, ${as(ct)} found`)];const _t=pt.styleSpec;let St,At=[];if(ct.length<1)return[new to(mt,ct,"filter array must have at least 1 element")];switch(At=At.concat(Cv({key:`${mt}[0]`,value:ct[0],valueSpec:_t.filter_operator,style:pt.style,styleSpec:pt.styleSpec})),Ho(ct[0])){case"<":case"<=":case">":case">=":ct.length>=2&&Ho(ct[1])==="$type"&&At.push(new to(mt,ct,`"$type" cannot be use with operator "${ct[0]}"`));case"==":case"!=":ct.length!==3&&At.push(new to(mt,ct,`filter array for operator "${ct[0]}" must have 3 elements`));case"in":case"!in":ct.length>=2&&(St=as(ct[1]),St!=="string"&&At.push(new to(`${mt}[1]`,ct[1],`string expected, ${St} found`)));for(let Mt=2;Mt<ct.length;Mt++)St=as(ct[Mt]),Ho(ct[1])==="$type"?At=At.concat(Cv({key:`${mt}[${Mt}]`,value:ct[Mt],valueSpec:_t.geometry_type,style:pt.style,styleSpec:pt.styleSpec})):St!=="string"&&St!=="number"&&St!=="boolean"&&At.push(new to(`${mt}[${Mt}]`,ct[Mt],`string, number, or boolean expected, ${St} found`));break;case"any":case"all":case"none":for(let Mt=1;Mt<ct.length;Mt++)At=At.concat(Wy({key:`${mt}[${Mt}]`,value:ct[Mt],style:pt.style,styleSpec:pt.styleSpec}));break;case"has":case"!has":St=as(ct[1]),ct.length!==2?At.push(new to(mt,ct,`filter array for "${ct[0]}" operator must have 2 elements`)):St!=="string"&&At.push(new to(`${mt}[1]`,ct[1],`string expected, ${St} found`));break;case"within":St=as(ct[1]),ct.length!==2?At.push(new to(mt,ct,`filter array for "${ct[0]}" operator must have 2 elements`)):St!=="object"&&At.push(new to(`${mt}[1]`,ct[1],`object expected, ${St} found`))}return At}function fm(pt,ct){const mt=pt.key,_t=pt.style,St=pt.styleSpec,At=pt.value,Mt=pt.objectKey,Dt=St[`${ct}_${pt.layerType}`];if(!Dt)return[];const Nt=Mt.match(/^(.*)-transition$/);if(ct==="paint"&&Nt&&Dt[Nt[1]]&&Dt[Nt[1]].transition)return Zs({key:mt,value:At,valueSpec:St.transition,style:_t,styleSpec:St});const Bt=pt.valueSpec||Dt[Mt];if(!Bt)return[new to(mt,At,`unknown property "${Mt}"`)];let Wt;if(as(At)==="string"&&Bp(Bt)&&!Bt.tokens&&(Wt=/^{([^}]+)}$/.exec(At)))return[new to(mt,At,`"${Mt}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Wt[1])} }\`.`)];const qt=[];return pt.layerType==="symbol"&&(Mt==="text-field"&&_t&&!_t.glyphs&&qt.push(new to(mt,At,'use of "text-field" requires a style "glyphs" property')),Mt==="text-font"&&am(Xo(At))&&Ho(At.type)==="identity"&&qt.push(new to(mt,At,'"text-font" does not support identity functions'))),qt.concat(Zs({key:pt.key,value:At,valueSpec:Bt,style:_t,styleSpec:St,expressionContext:"property",propertyType:ct,propertyKey:Mt}))}function Ky(pt){return fm(pt,"paint")}function dm(pt){return fm(pt,"layout")}function Yy(pt){let ct=[];const mt=pt.value,_t=pt.key,St=pt.style,At=pt.styleSpec;mt.type||mt.ref||ct.push(new to(_t,mt,'either "type" or "ref" is required'));let Mt=Ho(mt.type);const Dt=Ho(mt.ref);if(mt.id){const Nt=Ho(mt.id);for(let Bt=0;Bt<pt.arrayIndex;Bt++){const Wt=St.layers[Bt];Ho(Wt.id)===Nt&&ct.push(new to(_t,mt.id,`duplicate layer id "${mt.id}", previously used at line ${Wt.id.__line__}`))}}if("ref"in mt){let Nt;["type","source","source-layer","filter","layout"].forEach(Bt=>{Bt in mt&&ct.push(new to(_t,mt[Bt],`"${Bt}" is prohibited for ref layers`))}),St.layers.forEach(Bt=>{Ho(Bt.id)===Dt&&(Nt=Bt)}),Nt?Nt.ref?ct.push(new to(_t,mt.ref,"ref cannot reference another ref layer")):Mt=Ho(Nt.type):typeof Dt=="string"&&ct.push(new to(_t,mt.ref,`ref layer "${Dt}" not found`))}else if(Mt!=="background"&&Mt!=="sky")if(mt.source){const Nt=St.sources&&St.sources[mt.source],Bt=Nt&&Ho(Nt.type);Nt?Bt==="vector"&&Mt==="raster"?ct.push(new to(_t,mt.source,`layer "${mt.id}" requires a raster source`)):Bt==="raster"&&Mt!=="raster"?ct.push(new to(_t,mt.source,`layer "${mt.id}" requires a vector source`)):Bt!=="vector"||mt["source-layer"]?Bt==="raster-dem"&&Mt!=="hillshade"?ct.push(new to(_t,mt.source,"raster-dem source can only be used with layer type 'hillshade'.")):Mt!=="line"||!mt.paint||!mt.paint["line-gradient"]&&!mt.paint["line-trim-offset"]||Bt==="geojson"&&Nt.lineMetrics||ct.push(new to(_t,mt,`layer "${mt.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):ct.push(new to(_t,mt,`layer "${mt.id}" must specify a "source-layer"`)):ct.push(new to(_t,mt.source,`source "${mt.source}" not found`))}else ct.push(new to(_t,mt,'missing required property "source"'));return ct=ct.concat(Kl({key:_t,value:mt,valueSpec:At.layer,style:pt.style,styleSpec:pt.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Zs({key:`${_t}.type`,value:mt.type,valueSpec:At.layer.type,style:pt.style,styleSpec:pt.styleSpec,object:mt,objectKey:"type"}),filter:Nt=>Jm(ss({layerType:Mt},Nt)),layout:Nt=>Kl({layer:mt,key:Nt.key,value:Nt.value,valueSpec:{},style:Nt.style,styleSpec:Nt.styleSpec,objectElementValidators:{"*":Bt=>dm(ss({layerType:Mt},Bt))}}),paint:Nt=>Kl({layer:mt,key:Nt.key,value:Nt.value,valueSpec:{},style:Nt.style,styleSpec:Nt.styleSpec,objectElementValidators:{"*":Bt=>Ky(ss({layerType:Mt},Bt))}})}})),ct}function Gp(pt){const ct=pt.value,mt=pt.key,_t=as(ct);return _t!=="string"?[new to(mt,ct,`string expected, ${_t} found`)]:[]}const hm={promoteId:function({key:pt,value:ct}){if(as(ct)==="string")return Gp({key:pt,value:ct});{const mt=[];for(const _t in ct)mt.push(...Gp({key:`${pt}.${_t}`,value:ct[_t]}));return mt}}};function qy(pt){const ct=pt.value,mt=pt.key,_t=pt.styleSpec,St=pt.style;if(!ct.type)return[new to(mt,ct,'"type" is required')];const At=Ho(ct.type);let Mt;switch(At){case"vector":case"raster":case"raster-dem":return Mt=Kl({key:mt,value:ct,valueSpec:_t[`source_${At.replace("-","_")}`],style:pt.style,styleSpec:_t,objectElementValidators:hm}),Mt;case"geojson":if(Mt=Kl({key:mt,value:ct,valueSpec:_t.source_geojson,style:St,styleSpec:_t,objectElementValidators:hm}),ct.cluster)for(const Dt in ct.clusterProperties){const[Nt,Bt]=ct.clusterProperties[Dt],Wt=typeof Nt=="string"?[Nt,["accumulated"],["get",Dt]]:Nt;Mt.push(...up({key:`${mt}.${Dt}.map`,value:Bt,expressionContext:"cluster-map"})),Mt.push(...up({key:`${mt}.${Dt}.reduce`,value:Wt,expressionContext:"cluster-reduce"}))}return Mt;case"video":return Kl({key:mt,value:ct,valueSpec:_t.source_video,style:St,styleSpec:_t});case"image":return Kl({key:mt,value:ct,valueSpec:_t.source_image,style:St,styleSpec:_t});case"canvas":return[new to(mt,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Cv({key:`${mt}.type`,value:ct.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:St,styleSpec:_t})}}function _g(pt){const ct=pt.value,mt=pt.styleSpec,_t=mt.light,St=pt.style;let At=[];const Mt=as(ct);if(ct===void 0)return At;if(Mt!=="object")return At=At.concat([new to("light",ct,`object expected, ${Mt} found`)]),At;for(const Dt in ct){const Nt=Dt.match(/^(.*)-transition$/);At=At.concat(Nt&&_t[Nt[1]]&&_t[Nt[1]].transition?Zs({key:Dt,value:ct[Dt],valueSpec:mt.transition,style:St,styleSpec:mt}):_t[Dt]?Zs({key:Dt,value:ct[Dt],valueSpec:_t[Dt],style:St,styleSpec:mt}):[new to(Dt,ct[Dt],`unknown property "${Dt}"`)])}return At}function ey(pt){const ct=pt.value,mt=pt.key,_t=pt.style,St=pt.styleSpec,At=St.terrain;let Mt=[];const Dt=as(ct);if(ct===void 0)return Mt;if(Dt!=="object")return Mt=Mt.concat([new to("terrain",ct,`object expected, ${Dt} found`)]),Mt;for(const Nt in ct){const Bt=Nt.match(/^(.*)-transition$/);Mt=Mt.concat(Bt&&At[Bt[1]]&&At[Bt[1]].transition?Zs({key:Nt,value:ct[Nt],valueSpec:St.transition,style:_t,styleSpec:St}):At[Nt]?Zs({key:Nt,value:ct[Nt],valueSpec:At[Nt],style:_t,styleSpec:St}):[new to(Nt,ct[Nt],`unknown property "${Nt}"`)])}if(ct.source){const Nt=_t.sources&&_t.sources[ct.source],Bt=Nt&&Ho(Nt.type);Nt?Bt!=="raster-dem"&&Mt.push(new to(mt,ct.source,`terrain cannot be used with a source of type ${String(Bt)}, it only be used with a "raster-dem" source type`)):Mt.push(new to(mt,ct.source,`source "${ct.source}" not found`))}else Mt.push(new to(mt,ct,'terrain is missing required property "source"'));return Mt}function Zy(pt){const ct=pt.value,mt=pt.style,_t=pt.styleSpec,St=_t.fog;let At=[];const Mt=as(ct);if(ct===void 0)return At;if(Mt!=="object")return At=At.concat([new to("fog",ct,`object expected, ${Mt} found`)]),At;for(const Dt in ct){const Nt=Dt.match(/^(.*)-transition$/);At=At.concat(Nt&&St[Nt[1]]&&St[Nt[1]].transition?Zs({key:Dt,value:ct[Dt],valueSpec:_t.transition,style:mt,styleSpec:_t}):St[Dt]?Zs({key:Dt,value:ct[Dt],valueSpec:St[Dt],style:mt,styleSpec:_t}):[new to(Dt,ct[Dt],`unknown property "${Dt}"`)])}return At}const pm={"*":()=>[],array:wv,boolean:function(pt){const ct=pt.value,mt=pt.key,_t=as(ct);return _t!=="boolean"?[new to(mt,ct,`boolean expected, ${_t} found`)]:[]},number:lp,color:function(pt){const ct=pt.key,mt=pt.value,_t=as(mt);return _t!=="string"?[new to(ct,mt,`color expected, ${_t} found`)]:xp.parseCSSColor(mt)===null?[new to(ct,mt,`color expected, "${mt}" found`)]:[]},enum:Cv,filter:Jm,function:Xm,layer:Yy,object:Kl,source:qy,light:_g,terrain:ey,fog:Zy,string:Gp,formatted:function(pt){return Gp(pt).length===0?[]:up(pt)},resolvedImage:function(pt){return Gp(pt).length===0?[]:up(pt)},projection:function(pt){const ct=pt.value,mt=pt.styleSpec,_t=mt.projection,St=pt.style;let At=[];const Mt=as(ct);if(Mt==="object")for(const Dt in ct)At=At.concat(Zs({key:Dt,value:ct[Dt],valueSpec:_t[Dt],style:St,styleSpec:mt}));else Mt!=="string"&&(At=At.concat([new to("projection",ct,`object or string expected, ${Mt} found`)]));return At}};function Zs(pt){const ct=pt.value,mt=pt.valueSpec,_t=pt.styleSpec;return mt.expression&&am(Ho(ct))?Xm(pt):mt.expression&&om(Xo(ct))?up(pt):mt.type&&pm[mt.type]?pm[mt.type](pt):Kl(ss({},pt,{valueSpec:mt.type?_t[mt.type]:mt}))}function Xy(pt){const ct=pt.value,mt=pt.key,_t=Gp(pt);return _t.length||(ct.indexOf("{fontstack}")===-1&&_t.push(new to(mt,ct,'"glyphs" url must include a "{fontstack}" token')),ct.indexOf("{range}")===-1&&_t.push(new to(mt,ct,'"glyphs" url must include a "{range}" token'))),_t}function Qy(pt,ct=Ur){return lu(Zs({key:"",value:pt,valueSpec:ct.$root,styleSpec:ct,style:pt,objectElementValidators:{glyphs:Xy,"*":()=>[]}}))}const Jy=pt=>lu(Ky(pt)),n_=pt=>lu(dm(pt));function lu(pt){return pt.slice().sort((ct,mt)=>ct.line&&mt.line?ct.line-mt.line:0)}function e0(pt,ct){let mt=!1;if(ct&&ct.length)for(const _t of ct)pt.fire(new oo(new Error(_t.message))),mt=!0;return mt}var Hp=mu;function mu(pt,ct,mt){var _t=this.cells=[];if(pt instanceof ArrayBuffer){this.arrayBuffer=pt;var St=new Int32Array(this.arrayBuffer);pt=St[0],this.d=(ct=St[1])+2*(mt=St[2]);for(var At=0;At<this.d*this.d;At++){var Mt=St[3+At],Dt=St[3+At+1];_t.push(Mt===Dt?null:St.subarray(Mt,Dt))}var Nt=St[3+_t.length+1];this.keys=St.subarray(St[3+_t.length],Nt),this.bboxes=St.subarray(Nt),this.insert=this._insertReadonly}else{this.d=ct+2*mt;for(var Bt=0;Bt<this.d*this.d;Bt++)_t.push([]);this.keys=[],this.bboxes=[]}this.n=ct,this.extent=pt,this.padding=mt,this.scale=ct/pt,this.uid=0;var Wt=mt/ct*pt;this.min=-Wt,this.max=pt+Wt}mu.prototype.insert=function(pt,ct,mt,_t,St){this._forEachCell(ct,mt,_t,St,this._insertCell,this.uid++),this.keys.push(pt),this.bboxes.push(ct),this.bboxes.push(mt),this.bboxes.push(_t),this.bboxes.push(St)},mu.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},mu.prototype._insertCell=function(pt,ct,mt,_t,St,At){this.cells[St].push(At)},mu.prototype.query=function(pt,ct,mt,_t,St){var At=this.min,Mt=this.max;if(pt<=At&&ct<=At&&Mt<=mt&&Mt<=_t&&!St)return Array.prototype.slice.call(this.keys);var Dt=[];return this._forEachCell(pt,ct,mt,_t,this._queryCell,Dt,{},St),Dt},mu.prototype._queryCell=function(pt,ct,mt,_t,St,At,Mt,Dt){var Nt=this.cells[St];if(Nt!==null)for(var Bt=this.keys,Wt=this.bboxes,qt=0;qt<Nt.length;qt++){var Xt=Nt[qt];if(Mt[Xt]===void 0){var ar=4*Xt;(Dt?Dt(Wt[ar+0],Wt[ar+1],Wt[ar+2],Wt[ar+3]):pt<=Wt[ar+2]&&ct<=Wt[ar+3]&&mt>=Wt[ar+0]&&_t>=Wt[ar+1])?(Mt[Xt]=!0,At.push(Bt[Xt])):Mt[Xt]=!1}}},mu.prototype._forEachCell=function(pt,ct,mt,_t,St,At,Mt,Dt){for(var Nt=this._convertToCellCoord(pt),Bt=this._convertToCellCoord(ct),Wt=this._convertToCellCoord(mt),qt=this._convertToCellCoord(_t),Xt=Nt;Xt<=Wt;Xt++)for(var ar=Bt;ar<=qt;ar++){var lr=this.d*ar+Xt;if((!Dt||Dt(this._convertFromCellCoord(Xt),this._convertFromCellCoord(ar),this._convertFromCellCoord(Xt+1),this._convertFromCellCoord(ar+1)))&&St.call(this,pt,ct,mt,_t,lr,At,Mt,Dt))return}},mu.prototype._convertFromCellCoord=function(pt){return(pt-this.padding)/this.scale},mu.prototype._convertToCellCoord=function(pt){return Math.max(0,Math.min(this.d-1,Math.floor(pt*this.scale)+this.padding))},mu.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var pt=this.cells,ct=3+this.cells.length+1+1,mt=0,_t=0;_t<this.cells.length;_t++)mt+=this.cells[_t].length;var St=new Int32Array(ct+mt+this.keys.length+this.bboxes.length);St[0]=this.extent,St[1]=this.n,St[2]=this.padding;for(var At=ct,Mt=0;Mt<pt.length;Mt++){var Dt=pt[Mt];St[3+Mt]=At,St.set(Dt,At),At+=Dt.length}return St[3+pt.length]=At,St.set(this.keys,At),St[3+pt.length+1]=At+=this.keys.length,St.set(this.bboxes,At),At+=this.bboxes.length,St.buffer};const vm={};function ro(pt,ct,mt={}){Object.defineProperty(pt,"_classRegistryKey",{value:ct,writeable:!1}),vm[ct]={klass:pt,omit:mt.omit||[]}}ro(Object,"Object"),Hp.serialize=function(pt,ct){const mt=pt.toArrayBuffer();return ct&&ct.push(mt),{buffer:mt}},Hp.deserialize=function(pt){return new Hp(pt.buffer)},Object.defineProperty(Hp,"name",{value:"Grid"}),ro(Hp,"Grid"),ro($o,"Color"),ro(Error,"Error"),ro(zr,"AJAXError"),ro(Is,"ResolvedImage"),ro(Sv,"StylePropertyFunction"),ro(im,"StyleExpression",{omit:["_evaluator"]}),ro(bv,"ZoomDependentExpression"),ro(sm,"ZoomConstantExpression"),ro(ou,"CompoundExpression",{omit:["_evaluate"]});for(const pt in xv)vm[xv[pt]._classRegistryKey]||ro(xv[pt],`Expression${pt}`);function t0(pt){return pt&&typeof ArrayBuffer!="undefined"&&(pt instanceof ArrayBuffer||pt.constructor&&pt.constructor.name==="ArrayBuffer")}function r0(pt){return st.ImageBitmap&&pt instanceof st.ImageBitmap}function Av(pt,ct){if(pt==null||typeof pt=="boolean"||typeof pt=="number"||typeof pt=="string"||pt instanceof Boolean||pt instanceof Number||pt instanceof String||pt instanceof Date||pt instanceof RegExp)return pt;if(t0(pt)||r0(pt))return ct&&ct.push(pt),pt;if(ArrayBuffer.isView(pt)){const mt=pt;return ct&&ct.push(mt.buffer),mt}if(pt instanceof st.ImageData)return ct&&ct.push(pt.data.buffer),pt;if(Array.isArray(pt)){const mt=[];for(const _t of pt)mt.push(Av(_t,ct));return mt}if(typeof pt=="object"){const mt=pt.constructor,_t=mt._classRegistryKey;if(!_t)throw new Error(`can't serialize object of unregistered class ${_t}`);const St=mt.serialize?mt.serialize(pt,ct):{};if(!mt.serialize){for(const At in pt)pt.hasOwnProperty(At)&&(vm[_t].omit.indexOf(At)>=0||(St[At]=Av(pt[At],ct)));pt instanceof Error&&(St.message=pt.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return _t!=="Object"&&(St.$name=_t),St}throw new Error("can't serialize object of type "+typeof pt)}function Pv(pt){if(pt==null||typeof pt=="boolean"||typeof pt=="number"||typeof pt=="string"||pt instanceof Boolean||pt instanceof Number||pt instanceof String||pt instanceof Date||pt instanceof RegExp||t0(pt)||r0(pt)||ArrayBuffer.isView(pt)||pt instanceof st.ImageData)return pt;if(Array.isArray(pt))return pt.map(Pv);if(typeof pt=="object"){const ct=pt.$name||"Object",{klass:mt}=vm[ct];if(!mt)throw new Error(`can't deserialize unregistered class ${ct}`);if(mt.deserialize)return mt.deserialize(pt);const _t=Object.create(mt.prototype);for(const St of Object.keys(pt))St!=="$name"&&(_t[St]=Pv(pt[St]));return _t}throw new Error("can't deserialize object of type "+typeof pt)}class n0{constructor(){this.first=!0}update(ct,mt){const _t=Math.floor(ct);return this.first?(this.first=!1,this.lastIntegerZoom=_t,this.lastIntegerZoomTime=0,this.lastZoom=ct,this.lastFloorZoom=_t,!0):(this.lastFloorZoom>_t?(this.lastIntegerZoom=_t+1,this.lastIntegerZoomTime=mt):this.lastFloorZoom<_t&&(this.lastIntegerZoom=_t,this.lastIntegerZoomTime=mt),ct!==this.lastZoom&&(this.lastZoom=ct,this.lastFloorZoom=_t,!0))}}const a0=pt=>pt>=1536&&pt<=1791,i0=pt=>pt>=1872&&pt<=1919,$v=pt=>pt>=2208&&pt<=2303,o0=pt=>pt>=11904&&pt<=12031,s0=pt=>pt>=12032&&pt<=12255,Mv=pt=>pt>=12272&&pt<=12287,mm=pt=>pt>=12288&&pt<=12351,gm=pt=>pt>=12352&&pt<=12447,ym=pt=>pt>=12448&&pt<=12543,ty=pt=>pt>=12544&&pt<=12591,ry=pt=>pt>=12704&&pt<=12735,ny=pt=>pt>=12736&&pt<=12783,ay=pt=>pt>=12784&&pt<=12799,_m=pt=>pt>=12800&&pt<=13055,xm=pt=>pt>=13056&&pt<=13311,l0=pt=>pt>=13312&&pt<=19903,iy=pt=>pt>=19968&&pt<=40959,u0=pt=>pt>=40960&&pt<=42127,bm=pt=>pt>=42128&&pt<=42191,c0=pt=>pt>=44032&&pt<=55215,f0=pt=>pt>=63744&&pt<=64255,oy=pt=>pt>=64336&&pt<=65023,d0=pt=>pt>=65040&&pt<=65055,sy=pt=>pt>=65072&&pt<=65103,ly=pt=>pt>=65104&&pt<=65135,uy=pt=>pt>=65136&&pt<=65279,cy=pt=>pt>=65280&&pt<=65519;function Sm(pt){for(const ct of pt)if(ht(ct.charCodeAt(0)))return!0;return!1}function wm(pt){for(const ct of pt)if(!Tt(ct.charCodeAt(0)))return!1;return!0}function Tt(pt){return!(a0(pt)||i0(pt)||$v(pt)||oy(pt)||uy(pt))}function ht(pt){return!(pt!==746&&pt!==747&&(pt<4352||!(ry(pt)||ty(pt)||sy(pt)&&!(pt>=65097&&pt<=65103)||f0(pt)||xm(pt)||o0(pt)||ny(pt)||!(!mm(pt)||pt>=12296&&pt<=12305||pt>=12308&&pt<=12319||pt===12336)||l0(pt)||iy(pt)||_m(pt)||(ct=>ct>=12592&&ct<=12687)(pt)||(ct=>ct>=43360&&ct<=43391)(pt)||(ct=>ct>=55216&&ct<=55295)(pt)||(ct=>ct>=4352&&ct<=4607)(pt)||c0(pt)||gm(pt)||Mv(pt)||(ct=>ct>=12688&&ct<=12703)(pt)||s0(pt)||ay(pt)||ym(pt)&&pt!==12540||!(!cy(pt)||pt===65288||pt===65289||pt===65293||pt>=65306&&pt<=65310||pt===65339||pt===65341||pt===65343||pt>=65371&&pt<=65503||pt===65507||pt>=65512&&pt<=65519)||!(!ly(pt)||pt>=65112&&pt<=65118||pt>=65123&&pt<=65126)||(ct=>ct>=5120&&ct<=5759)(pt)||(ct=>ct>=6320&&ct<=6399)(pt)||d0(pt)||(ct=>ct>=19904&&ct<=19967)(pt)||u0(pt)||bm(pt))))}function bt(pt){return!(ht(pt)||function(ct){return!!((mt=>mt>=128&&mt<=255)(ct)&&(ct===167||ct===169||ct===174||ct===177||ct===188||ct===189||ct===190||ct===215||ct===247)||(mt=>mt>=8192&&mt<=8303)(ct)&&(ct===8214||ct===8224||ct===8225||ct===8240||ct===8241||ct===8251||ct===8252||ct===8258||ct===8263||ct===8264||ct===8265||ct===8273)||(mt=>mt>=8448&&mt<=8527)(ct)||(mt=>mt>=8528&&mt<=8591)(ct)||(mt=>mt>=8960&&mt<=9215)(ct)&&(ct>=8960&&ct<=8967||ct>=8972&&ct<=8991||ct>=8996&&ct<=9e3||ct===9003||ct>=9085&&ct<=9114||ct>=9150&&ct<=9165||ct===9167||ct>=9169&&ct<=9179||ct>=9186&&ct<=9215)||(mt=>mt>=9216&&mt<=9279)(ct)&&ct!==9251||(mt=>mt>=9280&&mt<=9311)(ct)||(mt=>mt>=9312&&mt<=9471)(ct)||(mt=>mt>=9632&&mt<=9727)(ct)||(mt=>mt>=9728&&mt<=9983)(ct)&&!(ct>=9754&&ct<=9759)||(mt=>mt>=11008&&mt<=11263)(ct)&&(ct>=11026&&ct<=11055||ct>=11088&&ct<=11097||ct>=11192&&ct<=11243)||mm(ct)||ym(ct)||(mt=>mt>=57344&&mt<=63743)(ct)||sy(ct)||ly(ct)||cy(ct)||ct===8734||ct===8756||ct===8757||ct>=9984&&ct<=10087||ct>=10102&&ct<=10131||ct===65532||ct===65533)}(pt))}function Pt(pt){return pt>=1424&&pt<=2303||oy(pt)||uy(pt)}function Rt(pt,ct){return!(!ct&&Pt(pt)||pt>=2304&&pt<=3583||pt>=3840&&pt<=4255||(mt=>mt>=6016&&mt<=6143)(pt))}function kt(pt){for(const ct of pt)if(Pt(ct.charCodeAt(0)))return!0;return!1}const Vt="deferred",Ht="loading",Yt="loaded";let Jt=null,ir="unavailable",cr=null;const pr=function(pt){pt&&typeof pt=="string"&&pt.indexOf("NetworkError")>-1&&(ir="error"),Jt&&Jt(pt)};function xr(){br.fire(new qn("pluginStateChange",{pluginStatus:ir,pluginURL:cr}))}const br=new bo,mr=function(){return ir},Ir=function(){if(ir!==Vt||!cr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ir=Ht,xr(),cr&&Or({url:cr},pt=>{pt?pr(pt):(ir=Yt,xr())})},_r={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ir===Yt||_r.applyArabicShaping!=null,isLoading:()=>ir===Ht,setState(pt){ir=pt.pluginStatus,cr=pt.pluginURL},isParsed:()=>_r.applyArabicShaping!=null&&_r.processBidirectionalText!=null&&_r.processStyledBidirectionalText!=null,getPluginURL:()=>cr};class Cr{constructor(ct,mt){this.zoom=ct,mt?(this.now=mt.now,this.fadeDuration=mt.fadeDuration,this.zoomHistory=mt.zoomHistory,this.transition=mt.transition,this.pitch=mt.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new n0,this.transition={},this.pitch=0)}isSupportedScript(ct){return function(mt,_t){for(const St of mt)if(!Rt(St.charCodeAt(0),_t))return!1;return!0}(ct,_r.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const ct=this.zoom,mt=ct-Math.floor(ct),_t=this.crossFadingFactor();return ct>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:mt+(1-mt)*_t}:{fromScale:.5,toScale:1,t:1-(1-_t)*mt}}}class Tr{constructor(ct,mt){this.property=ct,this.value=mt,this.expression=function(_t,St){if(am(_t))return new Sv(_t,St);if(om(_t)){const At=lm(_t,St);if(At.result==="error")throw new Error(At.value.map(Mt=>`${Mt.key}: ${Mt.message}`).join(", "));return At.value}{let At=_t;return typeof _t=="string"&&St.type==="color"&&(At=$o.parse(_t)),{kind:"constant",evaluate:()=>At}}}(mt===void 0?ct.specification.default:mt,ct.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(ct,mt,_t){return this.property.possiblyEvaluate(this,ct,mt,_t)}}class Nr{constructor(ct){this.property=ct,this.value=new Tr(ct,void 0)}transitioned(ct,mt){return new Dr(this.property,this.value,mt,jt({},ct.transition,this.transition),ct.now)}untransitioned(){return new Dr(this.property,this.value,null,{},0)}}class $r{constructor(ct){this._properties=ct,this._values=Object.create(ct.defaultTransitionablePropertyValues)}getValue(ct){return yr(this._values[ct].value.value)}setValue(ct,mt){this._values.hasOwnProperty(ct)||(this._values[ct]=new Nr(this._values[ct].property)),this._values[ct].value=new Tr(this._values[ct].property,mt===null?void 0:yr(mt))}getTransition(ct){return yr(this._values[ct].transition)}setTransition(ct,mt){this._values.hasOwnProperty(ct)||(this._values[ct]=new Nr(this._values[ct].property)),this._values[ct].transition=yr(mt)||void 0}serialize(){const ct={};for(const mt of Object.keys(this._values)){const _t=this.getValue(mt);_t!==void 0&&(ct[mt]=_t);const St=this.getTransition(mt);St!==void 0&&(ct[`${mt}-transition`]=St)}return ct}transitioned(ct,mt){const _t=new Gr(this._properties);for(const St of Object.keys(this._values))_t._values[St]=this._values[St].transitioned(ct,mt._values[St]);return _t}untransitioned(){const ct=new Gr(this._properties);for(const mt of Object.keys(this._values))ct._values[mt]=this._values[mt].untransitioned();return ct}}class Dr{constructor(ct,mt,_t,St,At){const Mt=St.delay||0,Dt=St.duration||0;At=At||0,this.property=ct,this.value=mt,this.begin=At+Mt,this.end=this.begin+Dt,ct.specification.transition&&(St.delay||St.duration)&&(this.prior=_t)}possiblyEvaluate(ct,mt,_t){const St=ct.now||0,At=this.value.possiblyEvaluate(ct,mt,_t),Mt=this.prior;if(Mt){if(St>this.end)return this.prior=null,At;if(this.value.isDataDriven())return this.prior=null,At;if(St<this.begin)return Mt.possiblyEvaluate(ct,mt,_t);{const Dt=(St-this.begin)/(this.end-this.begin);return this.property.interpolate(Mt.possiblyEvaluate(ct,mt,_t),At,Et(Dt))}}return At}}class Gr{constructor(ct){this._properties=ct,this._values=Object.create(ct.defaultTransitioningPropertyValues)}possiblyEvaluate(ct,mt,_t){const St=new gn(this._properties);for(const At of Object.keys(this._values))St._values[At]=this._values[At].possiblyEvaluate(ct,mt,_t);return St}hasTransition(){for(const ct of Object.keys(this._values))if(this._values[ct].prior)return!0;return!1}}class mn{constructor(ct){this._properties=ct,this._values=Object.create(ct.defaultPropertyValues)}getValue(ct){return yr(this._values[ct].value)}setValue(ct,mt){this._values[ct]=new Tr(this._values[ct].property,mt===null?void 0:yr(mt))}serialize(){const ct={};for(const mt of Object.keys(this._values)){const _t=this.getValue(mt);_t!==void 0&&(ct[mt]=_t)}return ct}possiblyEvaluate(ct,mt,_t){const St=new gn(this._properties);for(const At of Object.keys(this._values))St._values[At]=this._values[At].possiblyEvaluate(ct,mt,_t);return St}}class xn{constructor(ct,mt,_t){this.property=ct,this.value=mt,this.parameters=_t}isConstant(){return this.value.kind==="constant"}constantOr(ct){return this.value.kind==="constant"?this.value.value:ct}evaluate(ct,mt,_t,St){return this.property.evaluate(this.value,this.parameters,ct,mt,_t,St)}}class gn{constructor(ct){this._properties=ct,this._values=Object.create(ct.defaultPossiblyEvaluatedValues)}get(ct){return this._values[ct]}}class hn{constructor(ct){this.specification=ct}possiblyEvaluate(ct,mt){return ct.expression.evaluate(mt)}interpolate(ct,mt,_t){const St=tp[this.specification.type];return St?St(ct,mt,_t):ct}}class kr{constructor(ct,mt){this.specification=ct,this.overrides=mt}possiblyEvaluate(ct,mt,_t,St){return new xn(this,ct.expression.kind==="constant"||ct.expression.kind==="camera"?{kind:"constant",value:ct.expression.evaluate(mt,null,{},_t,St)}:ct.expression,mt)}interpolate(ct,mt,_t){if(ct.value.kind!=="constant"||mt.value.kind!=="constant")return ct;if(ct.value.value===void 0||mt.value.value===void 0)return new xn(this,{kind:"constant",value:void 0},ct.parameters);const St=tp[this.specification.type];return St?new xn(this,{kind:"constant",value:St(ct.value.value,mt.value.value,_t)},ct.parameters):ct}evaluate(ct,mt,_t,St,At,Mt){return ct.kind==="constant"?ct.value:ct.evaluate(mt,_t,St,At,Mt)}}class On extends kr{possiblyEvaluate(ct,mt,_t,St){if(ct.value===void 0)return new xn(this,{kind:"constant",value:void 0},mt);if(ct.expression.kind==="constant"){const At=ct.expression.evaluate(mt,null,{},_t,St),Mt=ct.property.specification.type==="resolvedImage"&&typeof At!="string"?At.name:At,Dt=this._calculate(Mt,Mt,Mt,mt);return new xn(this,{kind:"constant",value:Dt},mt)}if(ct.expression.kind==="camera"){const At=this._calculate(ct.expression.evaluate({zoom:mt.zoom-1}),ct.expression.evaluate({zoom:mt.zoom}),ct.expression.evaluate({zoom:mt.zoom+1}),mt);return new xn(this,{kind:"constant",value:At},mt)}return new xn(this,ct.expression,mt)}evaluate(ct,mt,_t,St,At,Mt){if(ct.kind==="source"){const Dt=ct.evaluate(mt,_t,St,At,Mt);return this._calculate(Dt,Dt,Dt,mt)}return ct.kind==="composite"?this._calculate(ct.evaluate({zoom:Math.floor(mt.zoom)-1},_t,St),ct.evaluate({zoom:Math.floor(mt.zoom)},_t,St),ct.evaluate({zoom:Math.floor(mt.zoom)+1},_t,St),mt):ct.value}_calculate(ct,mt,_t,St){return St.zoom>St.zoomHistory.lastIntegerZoom?{from:ct,to:mt,other:_t}:{from:_t,to:mt,other:ct}}interpolate(ct){return ct}}class Ln{constructor(ct){this.specification=ct}possiblyEvaluate(ct,mt,_t,St){if(ct.value!==void 0){if(ct.expression.kind==="constant"){const At=ct.expression.evaluate(mt,null,{},_t,St);return this._calculate(At,At,At,mt)}return this._calculate(ct.expression.evaluate(new Cr(Math.floor(mt.zoom-1),mt)),ct.expression.evaluate(new Cr(Math.floor(mt.zoom),mt)),ct.expression.evaluate(new Cr(Math.floor(mt.zoom+1),mt)),mt)}}_calculate(ct,mt,_t,St){return St.zoom>St.zoomHistory.lastIntegerZoom?{from:ct,to:mt}:{from:_t,to:mt}}interpolate(ct){return ct}}class na{constructor(ct){this.specification=ct}possiblyEvaluate(ct,mt,_t,St){return!!ct.expression.evaluate(mt,null,{},_t,St)}interpolate(){return!1}}class Tn{constructor(ct){this.properties=ct,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const mt=new Cr(0,{});for(const _t in ct){const St=ct[_t];St.specification.overridable&&this.overridableProperties.push(_t);const At=this.defaultPropertyValues[_t]=new Tr(St,void 0),Mt=this.defaultTransitionablePropertyValues[_t]=new Nr(St);this.defaultTransitioningPropertyValues[_t]=Mt.untransitioned(),this.defaultPossiblyEvaluatedValues[_t]=At.possiblyEvaluate(mt)}}}function xo(pt,ct){return 256*(pt=Ot(Math.floor(pt),0,255))+Ot(Math.floor(ct),0,255)}ro(kr,"DataDrivenProperty"),ro(hn,"DataConstantProperty"),ro(On,"CrossFadedDataDrivenProperty"),ro(Ln,"CrossFadedProperty"),ro(na,"ColorRampProperty");const Jn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Qn{constructor(ct,mt){this._structArray=ct,this._pos1=mt*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Yn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(ct,mt){return ct._trim(),mt&&(ct.isTransferred=!0,mt.push(ct.arrayBuffer)),{length:ct.length,arrayBuffer:ct.arrayBuffer}}static deserialize(ct){const mt=Object.create(this.prototype);return mt.arrayBuffer=ct.arrayBuffer,mt.length=ct.length,mt.capacity=ct.arrayBuffer.byteLength/mt.bytesPerElement,mt._refreshViews(),mt}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(ct){this.reserve(ct),this.length=ct}reserve(ct){if(ct>this.capacity){this.capacity=Math.max(ct,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const mt=this.uint8;this._refreshViews(),mt&&this.uint8.set(mt)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Zn(pt,ct=1){let mt=0,_t=0;return{members:pt.map(St=>{const At=Jn[St.type].BYTES_PER_ELEMENT,Mt=mt=Mo(mt,Math.max(ct,At)),Dt=St.components||1;return _t=Math.max(_t,At),mt+=At*Dt,{name:St.name,type:St.type,components:Dt,offset:Mt}}),size:Mo(mt,Math.max(_t,ct)),alignment:ct}}function Mo(pt,ct){return Math.ceil(pt/ct)*ct}class Co extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(ct,mt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,ct,mt)}emplace(ct,mt,_t){const St=2*ct;return this.int16[St+0]=mt,this.int16[St+1]=_t,ct}}Co.prototype.bytesPerElement=4,ro(Co,"StructArrayLayout2i4");class Fo extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t){const St=this.length;return this.resize(St+1),this.emplace(St,ct,mt,_t)}emplace(ct,mt,_t,St){const At=3*ct;return this.int16[At+0]=mt,this.int16[At+1]=_t,this.int16[At+2]=St,ct}}Fo.prototype.bytesPerElement=6,ro(Fo,"StructArrayLayout3i6");class yo extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St){const At=this.length;return this.resize(At+1),this.emplace(At,ct,mt,_t,St)}emplace(ct,mt,_t,St,At){const Mt=4*ct;return this.int16[Mt+0]=mt,this.int16[Mt+1]=_t,this.int16[Mt+2]=St,this.int16[Mt+3]=At,ct}}yo.prototype.bytesPerElement=8,ro(yo,"StructArrayLayout4i8");class ko extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,ct,mt,_t,St,At,Mt,Dt)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=6*ct,Wt=12*ct,qt=3*ct;return this.int16[Bt+0]=mt,this.int16[Bt+1]=_t,this.uint8[Wt+4]=St,this.uint8[Wt+5]=At,this.uint8[Wt+6]=Mt,this.uint8[Wt+7]=Dt,this.float32[qt+2]=Nt,ct}}ko.prototype.bytesPerElement=12,ro(ko,"StructArrayLayout2i4ub1f12");class us extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St){const At=this.length;return this.resize(At+1),this.emplace(At,ct,mt,_t,St)}emplace(ct,mt,_t,St,At){const Mt=4*ct;return this.float32[Mt+0]=mt,this.float32[Mt+1]=_t,this.float32[Mt+2]=St,this.float32[Mt+3]=At,ct}}us.prototype.bytesPerElement=16,ro(us,"StructArrayLayout4f16");class ps extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt){const qt=this.length;return this.resize(qt+1),this.emplace(qt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt){const Xt=10*ct;return this.uint16[Xt+0]=mt,this.uint16[Xt+1]=_t,this.uint16[Xt+2]=St,this.uint16[Xt+3]=At,this.uint16[Xt+4]=Mt,this.uint16[Xt+5]=Dt,this.uint16[Xt+6]=Nt,this.uint16[Xt+7]=Bt,this.uint16[Xt+8]=Wt,this.uint16[Xt+9]=qt,ct}}ps.prototype.bytesPerElement=20,ro(ps,"StructArrayLayout10ui20");class Os extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,ct,mt,_t,St,At,Mt,Dt,Nt)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt,Bt){const Wt=8*ct;return this.uint16[Wt+0]=mt,this.uint16[Wt+1]=_t,this.uint16[Wt+2]=St,this.uint16[Wt+3]=At,this.uint16[Wt+4]=Mt,this.uint16[Wt+5]=Dt,this.uint16[Wt+6]=Nt,this.uint16[Wt+7]=Bt,ct}}Os.prototype.bytesPerElement=16,ro(Os,"StructArrayLayout8ui16");class ys extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,ct,mt,_t,St,At,Mt)}emplace(ct,mt,_t,St,At,Mt,Dt){const Nt=6*ct;return this.int16[Nt+0]=mt,this.int16[Nt+1]=_t,this.int16[Nt+2]=St,this.int16[Nt+3]=At,this.int16[Nt+4]=Mt,this.int16[Nt+5]=Dt,ct}}ys.prototype.bytesPerElement=12,ro(ys,"StructArrayLayout6i12");class Ul extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt){const ar=this.length;return this.resize(ar+1),this.emplace(ar,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar){const lr=12*ct;return this.int16[lr+0]=mt,this.int16[lr+1]=_t,this.int16[lr+2]=St,this.int16[lr+3]=At,this.uint16[lr+4]=Mt,this.uint16[lr+5]=Dt,this.uint16[lr+6]=Nt,this.uint16[lr+7]=Bt,this.int16[lr+8]=Wt,this.int16[lr+9]=qt,this.int16[lr+10]=Xt,this.int16[lr+11]=ar,ct}}Ul.prototype.bytesPerElement=24,ro(Ul,"StructArrayLayout4i4ui4i24");class gu extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,ct,mt,_t,St,At,Mt)}emplace(ct,mt,_t,St,At,Mt,Dt){const Nt=10*ct,Bt=5*ct;return this.int16[Nt+0]=mt,this.int16[Nt+1]=_t,this.int16[Nt+2]=St,this.float32[Bt+2]=At,this.float32[Bt+3]=Mt,this.float32[Bt+4]=Dt,ct}}gu.prototype.bytesPerElement=20,ro(gu,"StructArrayLayout3i3f20");class Au extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(ct){const mt=this.length;return this.resize(mt+1),this.emplace(mt,ct)}emplace(ct,mt){return this.uint32[1*ct+0]=mt,ct}}Au.prototype.bytesPerElement=4,ro(Au,"StructArrayLayout1ul4");class Ss extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar){const lr=this.length;return this.resize(lr+1),this.emplace(lr,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr){const hr=20*ct,Sr=10*ct;return this.int16[hr+0]=mt,this.int16[hr+1]=_t,this.int16[hr+2]=St,this.int16[hr+3]=At,this.int16[hr+4]=Mt,this.float32[Sr+3]=Dt,this.float32[Sr+4]=Nt,this.float32[Sr+5]=Bt,this.float32[Sr+6]=Wt,this.int16[hr+14]=qt,this.uint32[Sr+8]=Xt,this.uint16[hr+18]=ar,this.uint16[hr+19]=lr,ct}}Ss.prototype.bytesPerElement=40,ro(Ss,"StructArrayLayout5i4f1i1ul2ui40");class Ts extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,ct,mt,_t,St,At,Mt,Dt)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=8*ct;return this.int16[Bt+0]=mt,this.int16[Bt+1]=_t,this.int16[Bt+2]=St,this.int16[Bt+4]=At,this.int16[Bt+5]=Mt,this.int16[Bt+6]=Dt,this.int16[Bt+7]=Nt,ct}}Ts.prototype.bytesPerElement=16,ro(Ts,"StructArrayLayout3i2i2i16");class fs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ct,mt,_t,St,At)}emplace(ct,mt,_t,St,At,Mt){const Dt=4*ct,Nt=8*ct;return this.float32[Dt+0]=mt,this.float32[Dt+1]=_t,this.float32[Dt+2]=St,this.int16[Nt+6]=At,this.int16[Nt+7]=Mt,ct}}fs.prototype.bytesPerElement=16,ro(fs,"StructArrayLayout2f1f2i16");class Bs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St){const At=this.length;return this.resize(At+1),this.emplace(At,ct,mt,_t,St)}emplace(ct,mt,_t,St,At){const Mt=12*ct,Dt=3*ct;return this.uint8[Mt+0]=mt,this.uint8[Mt+1]=_t,this.float32[Dt+1]=St,this.float32[Dt+2]=At,ct}}Bs.prototype.bytesPerElement=12,ro(Bs,"StructArrayLayout2ub2f12");class Qs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t){const St=this.length;return this.resize(St+1),this.emplace(St,ct,mt,_t)}emplace(ct,mt,_t,St){const At=3*ct;return this.float32[At+0]=mt,this.float32[At+1]=_t,this.float32[At+2]=St,ct}}Qs.prototype.bytesPerElement=12,ro(Qs,"StructArrayLayout3f12");class es extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t){const St=this.length;return this.resize(St+1),this.emplace(St,ct,mt,_t)}emplace(ct,mt,_t,St){const At=3*ct;return this.uint16[At+0]=mt,this.uint16[At+1]=_t,this.uint16[At+2]=St,ct}}es.prototype.bytesPerElement=6,ro(es,"StructArrayLayout3ui6");class Pl extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr,Ar,Vr,Fr,jr,Wr){const Yr=this.length;return this.resize(Yr+1),this.emplace(Yr,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr,Ar,Vr,Fr,jr,Wr)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr,Ar,Vr,Fr,jr,Wr,Yr){const _n=30*ct,bn=15*ct,Dn=60*ct;return this.int16[_n+0]=mt,this.int16[_n+1]=_t,this.int16[_n+2]=St,this.float32[bn+2]=At,this.float32[bn+3]=Mt,this.uint16[_n+8]=Dt,this.uint16[_n+9]=Nt,this.uint32[bn+5]=Bt,this.uint32[bn+6]=Wt,this.uint32[bn+7]=qt,this.uint16[_n+16]=Xt,this.uint16[_n+17]=ar,this.uint16[_n+18]=lr,this.float32[bn+10]=hr,this.float32[bn+11]=Sr,this.uint8[Dn+48]=Ar,this.uint8[Dn+49]=Vr,this.uint8[Dn+50]=Fr,this.uint32[bn+13]=jr,this.int16[_n+28]=Wr,this.uint8[Dn+58]=Yr,ct}}Pl.prototype.bytesPerElement=60,ro(Pl,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class dp extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr,Ar,Vr,Fr,jr,Wr,Yr,_n,bn,Dn,jn,dn,An,Wn,Kn){const eo=this.length;return this.resize(eo+1),this.emplace(eo,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr,Ar,Vr,Fr,jr,Wr,Yr,_n,bn,Dn,jn,dn,An,Wn,Kn)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr,Ar,Vr,Fr,jr,Wr,Yr,_n,bn,Dn,jn,dn,An,Wn,Kn,eo){const Un=38*ct,xa=19*ct;return this.int16[Un+0]=mt,this.int16[Un+1]=_t,this.int16[Un+2]=St,this.float32[xa+2]=At,this.float32[xa+3]=Mt,this.int16[Un+8]=Dt,this.int16[Un+9]=Nt,this.int16[Un+10]=Bt,this.int16[Un+11]=Wt,this.int16[Un+12]=qt,this.int16[Un+13]=Xt,this.uint16[Un+14]=ar,this.uint16[Un+15]=lr,this.uint16[Un+16]=hr,this.uint16[Un+17]=Sr,this.uint16[Un+18]=Ar,this.uint16[Un+19]=Vr,this.uint16[Un+20]=Fr,this.uint16[Un+21]=jr,this.uint16[Un+22]=Wr,this.uint16[Un+23]=Yr,this.uint16[Un+24]=_n,this.uint16[Un+25]=bn,this.uint16[Un+26]=Dn,this.uint16[Un+27]=jn,this.uint16[Un+28]=dn,this.uint32[xa+15]=An,this.float32[xa+16]=Wn,this.float32[xa+17]=Kn,this.float32[xa+18]=eo,ct}}dp.prototype.bytesPerElement=76,ro(dp,"StructArrayLayout3i2f6i15ui1ul3f76");class uu extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct){const mt=this.length;return this.resize(mt+1),this.emplace(mt,ct)}emplace(ct,mt){return this.float32[1*ct+0]=mt,ct}}uu.prototype.bytesPerElement=4,ro(uu,"StructArrayLayout1f4");class Wp extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At,Mt,Dt){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,ct,mt,_t,St,At,Mt,Dt)}emplace(ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=7*ct;return this.float32[Bt+0]=mt,this.float32[Bt+1]=_t,this.float32[Bt+2]=St,this.float32[Bt+3]=At,this.float32[Bt+4]=Mt,this.float32[Bt+5]=Dt,this.float32[Bt+6]=Nt,ct}}Wp.prototype.bytesPerElement=28,ro(Wp,"StructArrayLayout7f28");class Kp extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St,At){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ct,mt,_t,St,At)}emplace(ct,mt,_t,St,At,Mt){const Dt=5*ct;return this.float32[Dt+0]=mt,this.float32[Dt+1]=_t,this.float32[Dt+2]=St,this.float32[Dt+3]=At,this.float32[Dt+4]=Mt,ct}}Kp.prototype.bytesPerElement=20,ro(Kp,"StructArrayLayout5f20");class Uu extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt,_t,St){const At=this.length;return this.resize(At+1),this.emplace(At,ct,mt,_t,St)}emplace(ct,mt,_t,St,At){const Mt=6*ct;return this.uint32[3*ct+0]=mt,this.uint16[Mt+2]=_t,this.uint16[Mt+3]=St,this.uint16[Mt+4]=At,ct}}Uu.prototype.bytesPerElement=12,ro(Uu,"StructArrayLayout1ul3ui12");class Vs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct,mt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,ct,mt)}emplace(ct,mt,_t){const St=2*ct;return this.uint16[St+0]=mt,this.uint16[St+1]=_t,ct}}Vs.prototype.bytesPerElement=4,ro(Vs,"StructArrayLayout2ui4");class yu extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(ct){const mt=this.length;return this.resize(mt+1),this.emplace(mt,ct)}emplace(ct,mt){return this.uint16[1*ct+0]=mt,ct}}yu.prototype.bytesPerElement=2,ro(yu,"StructArrayLayout1ui2");class Pu extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(ct,mt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,ct,mt)}emplace(ct,mt,_t){const St=2*ct;return this.float32[St+0]=mt,this.float32[St+1]=_t,ct}}Pu.prototype.bytesPerElement=8,ro(Pu,"StructArrayLayout2f8");class Iv extends Qn{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Iv.prototype.size=12;class s1 extends ys{get(ct){return new Iv(this,ct)}}ro(s1,"FillExtrusionExtArray");class l1 extends Qn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}l1.prototype.size=40;class a_ extends Ss{get(ct){return new l1(this,ct)}}ro(a_,"CollisionBoxArray");class u1 extends Qn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(ct){this._structArray.uint8[this._pos1+49]=ct}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(ct){this._structArray.uint8[this._pos1+50]=ct}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(ct){this._structArray.uint32[this._pos4+13]=ct}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(ct){this._structArray.uint8[this._pos1+58]=ct}}u1.prototype.size=60;class c1 extends Pl{get(ct){return new u1(this,ct)}}ro(c1,"PlacedSymbolArray");class f1 extends Qn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(ct){this._structArray.uint32[this._pos4+15]=ct}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}f1.prototype.size=76;class d1 extends dp{get(ct){return new f1(this,ct)}}ro(d1,"SymbolInstanceArray");class h1 extends uu{getoffsetX(ct){return this.float32[1*ct+0]}}ro(h1,"GlyphOffsetArray");class p1 extends Fo{getx(ct){return this.int16[3*ct+0]}gety(ct){return this.int16[3*ct+1]}gettileUnitDistanceFromAnchor(ct){return this.int16[3*ct+2]}}ro(p1,"SymbolLineVertexArray");class m1 extends Qn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}m1.prototype.size=12;class g1 extends Uu{get(ct){return new m1(this,ct)}}ro(g1,"FeatureIndexArray");class y1 extends Qn{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}y1.prototype.size=4;class _1 extends Vs{get(ct){return new y1(this,ct)}}ro(_1,"FillExtrusionCentroidArray");class x1 extends Qn{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}x1.prototype.size=12;class b1 extends ys{get(ct){return new x1(this,ct)}}ro(b1,"CircleGlobeExtArray");const L2=Zn([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),O2=Zn([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var S1=du(function(pt){pt.exports=function(ct,mt){var _t,St,At,Mt,Dt,Nt,Bt,Wt;for(St=ct.length-(_t=3&ct.length),At=mt,Dt=3432918353,Nt=461845907,Wt=0;Wt<St;)Bt=255&ct.charCodeAt(Wt)|(255&ct.charCodeAt(++Wt))<<8|(255&ct.charCodeAt(++Wt))<<16|(255&ct.charCodeAt(++Wt))<<24,++Wt,At=27492+(65535&(Mt=5*(65535&(At=(At^=Bt=(65535&(Bt=(Bt=(65535&Bt)*Dt+(((Bt>>>16)*Dt&65535)<<16)&4294967295)<<15|Bt>>>17))*Nt+(((Bt>>>16)*Nt&65535)<<16)&4294967295)<<13|At>>>19))+((5*(At>>>16)&65535)<<16)&4294967295))+((58964+(Mt>>>16)&65535)<<16);switch(Bt=0,_t){case 3:Bt^=(255&ct.charCodeAt(Wt+2))<<16;case 2:Bt^=(255&ct.charCodeAt(Wt+1))<<8;case 1:At^=Bt=(65535&(Bt=(Bt=(65535&(Bt^=255&ct.charCodeAt(Wt)))*Dt+(((Bt>>>16)*Dt&65535)<<16)&4294967295)<<15|Bt>>>17))*Nt+(((Bt>>>16)*Nt&65535)<<16)&4294967295}return At^=ct.length,At=2246822507*(65535&(At^=At>>>16))+((2246822507*(At>>>16)&65535)<<16)&4294967295,At=3266489909*(65535&(At^=At>>>13))+((3266489909*(At>>>16)&65535)<<16)&4294967295,(At^=At>>>16)>>>0}}),k2=du(function(pt){pt.exports=function(ct,mt){for(var _t,St=ct.length,At=mt^St,Mt=0;St>=4;)_t=1540483477*(65535&(_t=255&ct.charCodeAt(Mt)|(255&ct.charCodeAt(++Mt))<<8|(255&ct.charCodeAt(++Mt))<<16|(255&ct.charCodeAt(++Mt))<<24))+((1540483477*(_t>>>16)&65535)<<16),At=1540483477*(65535&At)+((1540483477*(At>>>16)&65535)<<16)^(_t=1540483477*(65535&(_t^=_t>>>24))+((1540483477*(_t>>>16)&65535)<<16)),St-=4,++Mt;switch(St){case 3:At^=(255&ct.charCodeAt(Mt+2))<<16;case 2:At^=(255&ct.charCodeAt(Mt+1))<<8;case 1:At=1540483477*(65535&(At^=255&ct.charCodeAt(Mt)))+((1540483477*(At>>>16)&65535)<<16)}return At=1540483477*(65535&(At^=At>>>13))+((1540483477*(At>>>16)&65535)<<16),(At^=At>>>15)>>>0}}),fy=S1,N2=k2;fy.murmur3=S1,fy.murmur2=N2;class h0{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(ct,mt,_t,St){this.ids.push(w1(ct)),this.positions.push(mt,_t,St)}getPositions(ct){const mt=w1(ct);let _t=0,St=this.ids.length-1;for(;_t<St;){const Mt=_t+St>>1;this.ids[Mt]>=mt?St=Mt:_t=Mt+1}const At=[];for(;this.ids[_t]===mt;)At.push({index:this.positions[3*_t],start:this.positions[3*_t+1],end:this.positions[3*_t+2]}),_t++;return At}static serialize(ct,mt){const _t=new Float64Array(ct.ids),St=new Uint32Array(ct.positions);return i_(_t,St,0,_t.length-1),mt&&mt.push(_t.buffer,St.buffer),{ids:_t,positions:St}}static deserialize(ct){const mt=new h0;return mt.ids=ct.ids,mt.positions=ct.positions,mt.indexed=!0,mt}}function w1(pt){const ct=+pt;return!isNaN(ct)&&Number.MIN_SAFE_INTEGER<=ct&&ct<=Number.MAX_SAFE_INTEGER?ct:fy(String(pt))}function i_(pt,ct,mt,_t){for(;mt<_t;){const St=pt[mt+_t>>1];let At=mt-1,Mt=_t+1;for(;;){do At++;while(pt[At]<St);do Mt--;while(pt[Mt]>St);if(At>=Mt)break;p0(pt,At,Mt),p0(ct,3*At,3*Mt),p0(ct,3*At+1,3*Mt+1),p0(ct,3*At+2,3*Mt+2)}Mt-mt<_t-Mt?(i_(pt,ct,mt,Mt),mt=Mt+1):(i_(pt,ct,Mt+1,_t),_t=Mt)}}function p0(pt,ct,mt){const _t=pt[ct];pt[ct]=pt[mt],pt[mt]=_t}ro(h0,"FeaturePositionMap");class hp{constructor(ct,mt){this.gl=ct.gl,this.location=mt}}class v0 extends hp{constructor(ct,mt){super(ct,mt),this.current=0}set(ct){this.current!==ct&&(this.current=ct,this.gl.uniform1f(this.location,ct))}}class C1 extends hp{constructor(ct,mt){super(ct,mt),this.current=[0,0,0,0]}set(ct){ct[0]===this.current[0]&&ct[1]===this.current[1]&&ct[2]===this.current[2]&&ct[3]===this.current[3]||(this.current=ct,this.gl.uniform4f(this.location,ct[0],ct[1],ct[2],ct[3]))}}class T1 extends hp{constructor(ct,mt){super(ct,mt),this.current=$o.transparent}set(ct){ct.r===this.current.r&&ct.g===this.current.g&&ct.b===this.current.b&&ct.a===this.current.a||(this.current=ct,this.gl.uniform4f(this.location,ct.r,ct.g,ct.b,ct.a))}}const F2=new Float32Array(16),z2=new Float32Array(9),B2=new Float32Array(4);function o_(pt){return[xo(255*pt.r,255*pt.g),xo(255*pt.b,255*pt.a)]}class dy{constructor(ct,mt,_t){this.value=ct,this.uniformNames=mt.map(St=>`u_${St}`),this.type=_t}setUniform(ct,mt,_t){ct.set(_t.constantOr(this.value))}getBinding(ct,mt,_t){return this.type==="color"?new T1(ct,mt):new v0(ct,mt)}}class Cm{constructor(ct,mt){this.uniformNames=mt.map(_t=>`u_${_t}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(ct,mt){this.pixelRatioFrom=mt.pixelRatio||1,this.pixelRatioTo=ct.pixelRatio||1,this.patternFrom=mt.tl.concat(mt.br),this.patternTo=ct.tl.concat(ct.br)}setUniform(ct,mt,_t,St){const At=St==="u_pattern_to"||St==="u_dash_to"?this.patternTo:St==="u_pattern_from"||St==="u_dash_from"?this.patternFrom:St==="u_pixel_ratio_to"?this.pixelRatioTo:St==="u_pixel_ratio_from"?this.pixelRatioFrom:null;At&&ct.set(At)}getBinding(ct,mt,_t){return _t==="u_pattern_from"||_t==="u_pattern_to"||_t==="u_dash_from"||_t==="u_dash_to"?new C1(ct,mt):new v0(ct,mt)}}class pp{constructor(ct,mt,_t,St){this.expression=ct,this.type=_t,this.maxValue=0,this.paintVertexAttributes=mt.map(At=>({name:`a_${At}`,type:"Float32",components:_t==="color"?2:1,offset:0})),this.paintVertexArray=new St}populatePaintArray(ct,mt,_t,St,At,Mt){const Dt=this.paintVertexArray.length,Nt=this.expression.evaluate(new Cr(0),mt,{},At,St,Mt);this.paintVertexArray.resize(ct),this._setPaintValue(Dt,ct,Nt)}updatePaintArray(ct,mt,_t,St,At){const Mt=this.expression.evaluate({zoom:0},_t,St,void 0,At);this._setPaintValue(ct,mt,Mt)}_setPaintValue(ct,mt,_t){if(this.type==="color"){const St=o_(_t);for(let At=ct;At<mt;At++)this.paintVertexArray.emplace(At,St[0],St[1])}else{for(let St=ct;St<mt;St++)this.paintVertexArray.emplace(St,_t);this.maxValue=Math.max(this.maxValue,Math.abs(_t))}}upload(ct){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=ct.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class $u{constructor(ct,mt,_t,St,At,Mt){this.expression=ct,this.uniformNames=mt.map(Dt=>`u_${Dt}_t`),this.type=_t,this.useIntegerZoom=St,this.zoom=At,this.maxValue=0,this.paintVertexAttributes=mt.map(Dt=>({name:`a_${Dt}`,type:"Float32",components:_t==="color"?4:2,offset:0})),this.paintVertexArray=new Mt}populatePaintArray(ct,mt,_t,St,At,Mt){const Dt=this.expression.evaluate(new Cr(this.zoom),mt,{},At,St,Mt),Nt=this.expression.evaluate(new Cr(this.zoom+1),mt,{},At,St,Mt),Bt=this.paintVertexArray.length;this.paintVertexArray.resize(ct),this._setPaintValue(Bt,ct,Dt,Nt)}updatePaintArray(ct,mt,_t,St,At){const Mt=this.expression.evaluate({zoom:this.zoom},_t,St,void 0,At),Dt=this.expression.evaluate({zoom:this.zoom+1},_t,St,void 0,At);this._setPaintValue(ct,mt,Mt,Dt)}_setPaintValue(ct,mt,_t,St){if(this.type==="color"){const At=o_(_t),Mt=o_(St);for(let Dt=ct;Dt<mt;Dt++)this.paintVertexArray.emplace(Dt,At[0],At[1],Mt[0],Mt[1])}else{for(let At=ct;At<mt;At++)this.paintVertexArray.emplace(At,_t,St);this.maxValue=Math.max(this.maxValue,Math.abs(_t),Math.abs(St))}}upload(ct){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=ct.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(ct,mt){const _t=this.useIntegerZoom?Math.floor(mt.zoom):mt.zoom,St=Ot(this.expression.interpolationFactor(_t,this.zoom,this.zoom+1),0,1);ct.set(St)}getBinding(ct,mt,_t){return new v0(ct,mt)}}class Yp{constructor(ct,mt,_t,St,At,Mt,Dt){this.expression=ct,this.type=_t,this.useIntegerZoom=St,this.zoom=At,this.layerId=Dt,this.paintVertexAttributes=(_t==="array"?O2:L2).members;for(let Nt=0;Nt<mt.length;++Nt);this.zoomInPaintVertexArray=new Mt,this.zoomOutPaintVertexArray=new Mt}populatePaintArray(ct,mt,_t){const St=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(ct),this.zoomOutPaintVertexArray.resize(ct),this._setPaintValues(St,ct,mt.patterns&&mt.patterns[this.layerId],_t)}updatePaintArray(ct,mt,_t,St,At,Mt){this._setPaintValues(ct,mt,_t.patterns&&_t.patterns[this.layerId],Mt)}_setPaintValues(ct,mt,_t,St){if(!St||!_t)return;const{min:At,mid:Mt,max:Dt}=_t,Nt=St[At],Bt=St[Mt],Wt=St[Dt];if(Nt&&Bt&&Wt)for(let qt=ct;qt<mt;qt++)this._setPaintValue(this.zoomInPaintVertexArray,qt,Bt,Nt),this._setPaintValue(this.zoomOutPaintVertexArray,qt,Bt,Wt)}_setPaintValue(ct,mt,_t,St){ct.emplace(mt,_t.tl[0],_t.tl[1],_t.br[0],_t.br[1],St.tl[0],St.tl[1],St.br[0],St.br[1],_t.pixelRatio,St.pixelRatio)}upload(ct){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=ct.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=ct.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class qp{constructor(ct,mt,_t=()=>!0){this.binders={},this._buffers=[];const St=[];for(const At in ct.paint._values){if(!_t(At))continue;const Mt=ct.paint.get(At);if(!(Mt instanceof xn&&Bp(Mt.property.specification)))continue;const Dt=U2(At,ct.type),Nt=Mt.value,Bt=Mt.property.specification.type,Wt=Mt.property.useIntegerZoom,qt=Mt.property.specification["property-type"],Xt=qt==="cross-faded"||qt==="cross-faded-data-driven",ar=String(At)==="line-dasharray"&&ct.layout.get("line-cap").value.kind!=="constant";if(Nt.kind!=="constant"||ar)if(Nt.kind==="source"||ar||Xt){const lr=E1(At,Bt,"source");this.binders[At]=Xt?new Yp(Nt,Dt,Bt,Wt,mt,lr,ct.id):new pp(Nt,Dt,Bt,lr),St.push(`/a_${At}`)}else{const lr=E1(At,Bt,"composite");this.binders[At]=new $u(Nt,Dt,Bt,Wt,mt,lr),St.push(`/z_${At}`)}else this.binders[At]=Xt?new Cm(Nt.value,Dt):new dy(Nt.value,Dt,Bt),St.push(`/u_${At}`)}this.cacheKey=St.sort().join("")}getMaxValue(ct){const mt=this.binders[ct];return mt instanceof pp||mt instanceof $u?mt.maxValue:0}populatePaintArrays(ct,mt,_t,St,At,Mt){for(const Dt in this.binders){const Nt=this.binders[Dt];(Nt instanceof pp||Nt instanceof $u||Nt instanceof Yp)&&Nt.populatePaintArray(ct,mt,_t,St,At,Mt)}}setConstantPatternPositions(ct,mt){for(const _t in this.binders){const St=this.binders[_t];St instanceof Cm&&St.setConstantPatternPositions(ct,mt)}}updatePaintArrays(ct,mt,_t,St,At,Mt){let Dt=!1;for(const Nt in ct){const Bt=mt.getPositions(Nt);for(const Wt of Bt){const qt=_t.feature(Wt.index);for(const Xt in this.binders){const ar=this.binders[Xt];if((ar instanceof pp||ar instanceof $u||ar instanceof Yp)&&ar.expression.isStateDependent===!0){const lr=St.paint.get(Xt);ar.expression=lr.value,ar.updatePaintArray(Wt.start,Wt.end,qt,ct[Nt],At,Mt),Dt=!0}}}}return Dt}defines(){const ct=[];for(const mt in this.binders){const _t=this.binders[mt];(_t instanceof dy||_t instanceof Cm)&&ct.push(..._t.uniformNames.map(St=>`#define HAS_UNIFORM_${St}`))}return ct}getBinderAttributes(){const ct=[];for(const mt in this.binders){const _t=this.binders[mt];if(_t instanceof pp||_t instanceof $u||_t instanceof Yp)for(let St=0;St<_t.paintVertexAttributes.length;St++)ct.push(_t.paintVertexAttributes[St].name)}return ct}getBinderUniforms(){const ct=[];for(const mt in this.binders){const _t=this.binders[mt];if(_t instanceof dy||_t instanceof Cm||_t instanceof $u)for(const St of _t.uniformNames)ct.push(St)}return ct}getPaintVertexBuffers(){return this._buffers}getUniforms(ct,mt){const _t=[];for(const St in this.binders){const At=this.binders[St];if(At instanceof dy||At instanceof Cm||At instanceof $u){for(const Mt of At.uniformNames)if(mt[Mt]){const Dt=At.getBinding(ct,mt[Mt],Mt);_t.push({name:Mt,property:St,binding:Dt})}}}return _t}setUniforms(ct,mt,_t,St){for(const{name:At,property:Mt,binding:Dt}of mt)this.binders[Mt].setUniform(Dt,St,_t.get(Mt),At)}updatePaintBuffers(ct){this._buffers=[];for(const mt in this.binders){const _t=this.binders[mt];if(ct&&_t instanceof Yp){const St=ct.fromScale===2?_t.zoomInPaintVertexBuffer:_t.zoomOutPaintVertexBuffer;St&&this._buffers.push(St)}else(_t instanceof pp||_t instanceof $u)&&_t.paintVertexBuffer&&this._buffers.push(_t.paintVertexBuffer)}}upload(ct){for(const mt in this.binders){const _t=this.binders[mt];(_t instanceof pp||_t instanceof $u||_t instanceof Yp)&&_t.upload(ct)}this.updatePaintBuffers()}destroy(){for(const ct in this.binders){const mt=this.binders[ct];(mt instanceof pp||mt instanceof $u||mt instanceof Yp)&&mt.destroy()}}}class Rv{constructor(ct,mt,_t=()=>!0){this.programConfigurations={};for(const St of ct)this.programConfigurations[St.id]=new qp(St,mt,_t);this.needsUpload=!1,this._featureMap=new h0,this._bufferOffset=0}populatePaintArrays(ct,mt,_t,St,At,Mt,Dt){for(const Nt in this.programConfigurations)this.programConfigurations[Nt].populatePaintArrays(ct,mt,St,At,Mt,Dt);mt.id!==void 0&&this._featureMap.add(mt.id,_t,this._bufferOffset,ct),this._bufferOffset=ct,this.needsUpload=!0}updatePaintArrays(ct,mt,_t,St,At){for(const Mt of _t)this.needsUpload=this.programConfigurations[Mt.id].updatePaintArrays(ct,this._featureMap,mt,Mt,St,At)||this.needsUpload}get(ct){return this.programConfigurations[ct]}upload(ct){if(this.needsUpload){for(const mt in this.programConfigurations)this.programConfigurations[mt].upload(ct);this.needsUpload=!1}}destroy(){for(const ct in this.programConfigurations)this.programConfigurations[ct].destroy()}}const V2={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function U2(pt,ct){return V2[pt]||[pt.replace(`${ct}-`,"").replace(/-/g,"_")]}const j2={"line-pattern":{source:ps,composite:ps},"fill-pattern":{source:ps,composite:ps},"fill-extrusion-pattern":{source:ps,composite:ps},"line-dasharray":{source:Os,composite:Os}},G2={color:{source:Pu,composite:us},number:{source:uu,composite:Pu}};function E1(pt,ct,mt){const _t=j2[pt];return _t&&_t[mt]||G2[ct][mt]}ro(dy,"ConstantBinder"),ro(Cm,"CrossFadedConstantBinder"),ro(pp,"SourceExpressionBinder"),ro(Yp,"CrossFadedCompositeBinder"),ro($u,"CompositeExpressionBinder"),ro(qp,"ProgramConfiguration",{omit:["_buffers"]}),ro(Rv,"ProgramConfigurationSet");const m0="-transition";class Mu extends bo{constructor(ct,mt){if(super(),this.id=ct.id,this.type=ct.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,ct.type!=="custom"&&(this.metadata=(ct=ct).metadata,this.minzoom=ct.minzoom,this.maxzoom=ct.maxzoom,ct.type!=="background"&&ct.type!=="sky"&&(this.source=ct.source,this.sourceLayer=ct["source-layer"],this.filter=ct.filter),mt.layout&&(this._unevaluatedLayout=new mn(mt.layout)),mt.paint)){this._transitionablePaint=new $r(mt.paint);for(const _t in ct.paint)this.setPaintProperty(_t,ct.paint[_t],{validate:!1});for(const _t in ct.layout)this.setLayoutProperty(_t,ct.layout[_t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gn(mt.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(ct){return ct==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ct)}setLayoutProperty(ct,mt,_t={}){mt!=null&&this._validate(n_,`layers.${this.id}.layout.${ct}`,ct,mt,_t)||(ct!=="visibility"?this._unevaluatedLayout.setValue(ct,mt):this.visibility=mt)}getPaintProperty(ct){return dr(ct,m0)?this._transitionablePaint.getTransition(ct.slice(0,-m0.length)):this._transitionablePaint.getValue(ct)}setPaintProperty(ct,mt,_t={}){if(mt!=null&&this._validate(Jy,`layers.${this.id}.paint.${ct}`,ct,mt,_t))return!1;if(dr(ct,m0))return this._transitionablePaint.setTransition(ct.slice(0,-m0.length),mt||void 0),!1;{const St=this._transitionablePaint._values[ct],At=St.property.specification["property-type"]==="cross-faded-data-driven",Mt=St.value.isDataDriven(),Dt=St.value;this._transitionablePaint.setValue(ct,mt),this._handleSpecialPaintPropertyUpdate(ct);const Nt=this._transitionablePaint._values[ct].value;return Nt.isDataDriven()||Mt||At||this._handleOverridablePaintPropertyUpdate(ct,Dt,Nt)}}_handleSpecialPaintPropertyUpdate(ct){}getProgramIds(){return null}getProgramConfiguration(ct){return null}_handleOverridablePaintPropertyUpdate(ct,mt,_t){return!1}isHidden(ct){return!!(this.minzoom&&ct<this.minzoom)||!!(this.maxzoom&&ct>=this.maxzoom)||this.visibility==="none"}updateTransitions(ct){this._transitioningPaint=this._transitionablePaint.transitioned(ct,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(ct,mt){ct.getCrossfadeParameters&&(this._crossfadeParameters=ct.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ct,void 0,mt)),this.paint=this._transitioningPaint.possiblyEvaluate(ct,void 0,mt)}serialize(){const ct={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ct.layout=ct.layout||{},ct.layout.visibility=this.visibility),fr(ct,(mt,_t)=>!(mt===void 0||_t==="layout"&&!Object.keys(mt).length||_t==="paint"&&!Object.keys(mt).length))}_validate(ct,mt,_t,St,At={}){return(!At||At.validate!==!1)&&e0(this,ct.call(Qy,{key:mt,layerType:this.type,objectKey:_t,value:St,styleSpec:Ur,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const ct in this.paint._values){const mt=this.paint.get(ct);if(mt instanceof xn&&Bp(mt.property.specification)&&(mt.value.kind==="source"||mt.value.kind==="composite")&&mt.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=cp(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const H2=Zn([{name:"a_pos",components:2,type:"Int16"}],4),W2=Zn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ks{constructor(ct=[]){this.segments=ct}prepareSegment(ct,mt,_t,St){let At=this.segments[this.segments.length-1];return ct>ks.MAX_VERTEX_ARRAY_LENGTH&&wr(`Max vertices per segment is ${ks.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${ct}`),(!At||At.vertexLength+ct>ks.MAX_VERTEX_ARRAY_LENGTH||At.sortKey!==St)&&(At={vertexOffset:mt.length,primitiveOffset:_t.length,vertexLength:0,primitiveLength:0},St!==void 0&&(At.sortKey=St),this.segments.push(At)),At}get(){return this.segments}destroy(){for(const ct of this.segments)for(const mt in ct.vaos)ct.vaos[mt].destroy()}static simpleSegment(ct,mt,_t,St){return new ks([{vertexOffset:ct,primitiveOffset:mt,vertexLength:_t,primitiveLength:St,vaos:{},sortKey:0}])}}ks.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ro(ks,"SegmentVector");var Ao=8192;class Zp{constructor(ct,mt){ct&&(mt?this.setSouthWest(ct).setNorthEast(mt):ct.length===4?this.setSouthWest([ct[0],ct[1]]).setNorthEast([ct[2],ct[3]]):this.setSouthWest(ct[0]).setNorthEast(ct[1]))}setNorthEast(ct){return this._ne=ct instanceof vs?new vs(ct.lng,ct.lat):vs.convert(ct),this}setSouthWest(ct){return this._sw=ct instanceof vs?new vs(ct.lng,ct.lat):vs.convert(ct),this}extend(ct){const mt=this._sw,_t=this._ne;let St,At;if(ct instanceof vs)St=ct,At=ct;else{if(!(ct instanceof Zp))return Array.isArray(ct)?ct.length===4||ct.every(Array.isArray)?this.extend(Zp.convert(ct)):this.extend(vs.convert(ct)):this;if(St=ct._sw,At=ct._ne,!St||!At)return this}return mt||_t?(mt.lng=Math.min(St.lng,mt.lng),mt.lat=Math.min(St.lat,mt.lat),_t.lng=Math.max(At.lng,_t.lng),_t.lat=Math.max(At.lat,_t.lat)):(this._sw=new vs(St.lng,St.lat),this._ne=new vs(At.lng,At.lat)),this}getCenter(){return new vs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new vs(this.getWest(),this.getNorth())}getSouthEast(){return new vs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(ct){const{lng:mt,lat:_t}=vs.convert(ct);let St=this._sw.lng<=mt&&mt<=this._ne.lng;return this._sw.lng>this._ne.lng&&(St=this._sw.lng>=mt&&mt>=this._ne.lng),this._sw.lat<=_t&&_t<=this._ne.lat&&St}static convert(ct){return!ct||ct instanceof Zp?ct:new Zp(ct)}}const s_=63710088e-1;class vs{constructor(ct,mt){if(isNaN(ct)||isNaN(mt))throw new Error(`Invalid LngLat object: (${ct}, ${mt})`);if(this.lng=+ct,this.lat=+mt,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new vs(Ft(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(ct){const mt=Math.PI/180,_t=this.lat*mt,St=ct.lat*mt,At=Math.sin(_t)*Math.sin(St)+Math.cos(_t)*Math.cos(St)*Math.cos((ct.lng-this.lng)*mt);return s_*Math.acos(Math.min(At,1))}toBounds(ct=0){const mt=360*ct/40075017,_t=mt/Math.cos(Math.PI/180*this.lat);return new Zp(new vs(this.lng-_t,this.lat-mt),new vs(this.lng+_t,this.lat+mt))}static convert(ct){if(ct instanceof vs)return ct;if(Array.isArray(ct)&&(ct.length===2||ct.length===3))return new vs(Number(ct[0]),Number(ct[1]));if(!Array.isArray(ct)&&typeof ct=="object"&&ct!==null)return new vs(Number("lng"in ct?ct.lng:ct.lon),Number(ct.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const A1=2*Math.PI*s_;function l_(pt){return A1*Math.cos(pt*Math.PI/180)}function Dv(pt){return(180+pt)/360}function Lv(pt){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+pt*Math.PI/360)))/360}function _u(pt,ct){return pt/l_(ct)}function $l(pt){return 360*pt-180}function Gs(pt){return 360/Math.PI*Math.atan(Math.exp((180-360*pt)*Math.PI/180))-90}function P1(pt,ct){return pt*l_(Gs(ct))}const ju=85.051129;class Tm{constructor(ct,mt,_t=0){this.x=+ct,this.y=+mt,this.z=+_t}static fromLngLat(ct,mt=0){const _t=vs.convert(ct);return new Tm(Dv(_t.lng),Lv(_t.lat),_u(mt,_t.lat))}toLngLat(){return new vs($l(this.x),Gs(this.y))}toAltitude(){return P1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/A1*(ct=Gs(this.y),1/Math.cos(ct*Math.PI/180));var ct}}function u_(pt,ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=(ct+_t)/2,Wt=(mt+St)/2,qt=new dt(Bt,Wt);Dt(qt),function(Xt,ar,lr,hr,Sr,Ar){const Vr=lr-Sr,Fr=hr-Ar;return Math.abs((hr-ar)*Vr-(lr-Xt)*Fr)/Math.hypot(Vr,Fr)}(qt.x,qt.y,At.x,At.y,Mt.x,Mt.y)>=Nt?(u_(pt,ct,mt,Bt,Wt,At,qt,Dt,Nt),u_(pt,Bt,Wt,_t,St,qt,Mt,Dt,Nt)):pt.push(Mt)}function $1(pt,ct,mt){let _t=pt[0],St=_t.x,At=_t.y;ct(_t);const Mt=[_t];for(let Dt=1;Dt<pt.length;Dt++){const Nt=pt[Dt],{x:Bt,y:Wt}=Nt;ct(Nt),u_(Mt,St,At,Bt,Wt,_t,Nt,ct,mt),St=Bt,At=Wt,_t=Nt}return Mt}function c_(pt,ct,mt,_t,St){if(St(ct,mt)){const At=ct.add(mt).mult(.5);_t(At),c_(pt,ct,At,_t,St),c_(pt,At,mt,_t,St)}else pt.push(mt)}function K2(pt,ct,mt){let _t=pt[0];ct(_t);const St=[_t];for(let At=1;At<pt.length;At++){const Mt=pt[At];ct(Mt),c_(St,_t,Mt,ct,mt),_t=Mt}return St}const f_=Math.pow(2,14)-1,M1=-f_-1;function Y2(pt,ct){const mt=Math.round(pt.x*ct),_t=Math.round(pt.y*ct);return pt.x=Ot(mt,M1,f_),pt.y=Ot(_t,M1,f_),(mt<pt.x||mt>pt.x+1||_t<pt.y||_t>pt.y+1)&&wr("Geometry exceeds allowed extent, reduce your vector tile buffer size"),pt}function vp(pt,ct,mt){const _t=pt.loadGeometry(),St=pt.extent,At=Ao/St;if(ct&&mt&&mt.projection.isReprojectedInTileSpace){const Mt=1<<ct.z,{scale:Dt,x:Nt,y:Bt,projection:Wt}=mt,qt=Xt=>{const ar=$l((ct.x+Xt.x/St)/Mt),lr=Gs((ct.y+Xt.y/St)/Mt),hr=Wt.project(ar,lr);Xt.x=(hr.x*Dt-Nt)*St,Xt.y=(hr.y*Dt-Bt)*St};for(let Xt=0;Xt<_t.length;Xt++)if(pt.type!==1)_t[Xt]=$1(_t[Xt],qt,1);else{const ar=[];for(const lr of _t[Xt])lr.x<0||lr.x>=St||lr.y<0||lr.y>=St||(qt(lr),ar.push(lr));_t[Xt]=ar}}for(const Mt of _t)for(const Dt of Mt)Y2(Dt,At);return _t}function Ov(pt,ct){return{type:pt.type,id:pt.id,properties:pt.properties,geometry:ct?vp(pt):[]}}function g0(pt,ct,mt,_t,St){pt.emplaceBack(2*ct+(_t+1)/2,2*mt+(St+1)/2)}function y0(pt,ct,mt){pt.emplaceBack(ct.x,ct.y,ct.z,mt[0]*16384,mt[1]*16384,mt[2]*16384)}class d_{constructor(ct){this.zoom=ct.zoom,this.overscaling=ct.overscaling,this.layers=ct.layers,this.layerIds=this.layers.map(mt=>mt.id),this.index=ct.index,this.hasPattern=!1,this.projection=ct.projection,this.layoutVertexArray=new Co,this.indexArray=new es,this.segments=new ks,this.programConfigurations=new Rv(ct.layers,ct.zoom),this.stateDependentLayerIds=this.layers.filter(mt=>mt.isStateDependent()).map(mt=>mt.id)}populate(ct,mt,_t,St){const At=this.layers[0],Mt=[];let Dt=null;At.type==="circle"&&(Dt=At.layout.get("circle-sort-key"));for(const{feature:Bt,id:Wt,index:qt,sourceLayerIndex:Xt}of ct){const ar=this.layers[0]._featureFilter.needGeometry,lr=Ov(Bt,ar);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),lr,_t))continue;const hr=Dt?Dt.evaluate(lr,{},_t):void 0,Sr={id:Wt,properties:Bt.properties,type:Bt.type,sourceLayerIndex:Xt,index:qt,geometry:ar?lr.geometry:vp(Bt,_t,St),patterns:{},sortKey:hr};Mt.push(Sr)}Dt&&Mt.sort((Bt,Wt)=>Bt.sortKey-Wt.sortKey);let Nt=null;St.projection.name==="globe"&&(this.globeExtVertexArray=new b1,Nt=St.projection);for(const Bt of Mt){const{geometry:Wt,index:qt,sourceLayerIndex:Xt}=Bt,ar=ct[qt].feature;this.addFeature(Bt,Wt,qt,mt.availableImages,_t,Nt),mt.featureIndex.insert(ar,Wt,qt,Xt,this.index)}}update(ct,mt,_t,St){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(ct,mt,this.stateDependentLayers,_t,St)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(ct){this.uploaded||(this.layoutVertexBuffer=ct.createVertexBuffer(this.layoutVertexArray,H2.members),this.indexBuffer=ct.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=ct.createVertexBuffer(this.globeExtVertexArray,W2.members))),this.programConfigurations.upload(ct),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(ct,mt,_t,St,At,Mt){for(const Dt of mt)for(const Nt of Dt){const Bt=Nt.x,Wt=Nt.y;if(Bt<0||Bt>=Ao||Wt<0||Wt>=Ao)continue;if(Mt){const ar=Mt.projectTilePoint(Bt,Wt,At),lr=Mt.upVector(At,Bt,Wt),hr=this.globeExtVertexArray;y0(hr,ar,lr),y0(hr,ar,lr),y0(hr,ar,lr),y0(hr,ar,lr)}const qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,ct.sortKey),Xt=qt.vertexLength;g0(this.layoutVertexArray,Bt,Wt,-1,-1),g0(this.layoutVertexArray,Bt,Wt,1,-1),g0(this.layoutVertexArray,Bt,Wt,1,1),g0(this.layoutVertexArray,Bt,Wt,-1,1),this.indexArray.emplaceBack(Xt,Xt+1,Xt+2),this.indexArray.emplaceBack(Xt,Xt+2,Xt+3),qt.vertexLength+=4,qt.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,ct,_t,{},St,At)}}function I1(pt,ct){for(let mt=0;mt<pt.length;mt++)if(kv(ct,pt[mt]))return!0;for(let mt=0;mt<ct.length;mt++)if(kv(pt,ct[mt]))return!0;return!!h_(pt,ct)}function q2(pt,ct,mt){return!!kv(pt,ct)||!!p_(ct,pt,mt)}function R1(pt,ct){if(pt.length===1)return L1(ct,pt[0]);for(let mt=0;mt<ct.length;mt++){const _t=ct[mt];for(let St=0;St<_t.length;St++)if(kv(pt,_t[St]))return!0}for(let mt=0;mt<pt.length;mt++)if(L1(ct,pt[mt]))return!0;for(let mt=0;mt<ct.length;mt++)if(h_(pt,ct[mt]))return!0;return!1}function Z2(pt,ct,mt){if(pt.length>1){if(h_(pt,ct))return!0;for(let _t=0;_t<ct.length;_t++)if(p_(ct[_t],pt,mt))return!0}for(let _t=0;_t<pt.length;_t++)if(p_(pt[_t],ct,mt))return!0;return!1}function h_(pt,ct){if(pt.length===0||ct.length===0)return!1;for(let mt=0;mt<pt.length-1;mt++){const _t=pt[mt],St=pt[mt+1];for(let At=0;At<ct.length-1;At++)if(X2(_t,St,ct[At],ct[At+1]))return!0}return!1}function X2(pt,ct,mt,_t){return Mr(pt,mt,_t)!==Mr(ct,mt,_t)&&Mr(pt,ct,mt)!==Mr(pt,ct,_t)}function p_(pt,ct,mt){const _t=mt*mt;if(ct.length===1)return pt.distSqr(ct[0])<_t;for(let St=1;St<ct.length;St++)if(D1(pt,ct[St-1],ct[St])<_t)return!0;return!1}function D1(pt,ct,mt){const _t=ct.distSqr(mt);if(_t===0)return pt.distSqr(ct);const St=((pt.x-ct.x)*(mt.x-ct.x)+(pt.y-ct.y)*(mt.y-ct.y))/_t;return pt.distSqr(St<0?ct:St>1?mt:mt.sub(ct)._mult(St)._add(ct))}function L1(pt,ct){let mt,_t,St,At=!1;for(let Mt=0;Mt<pt.length;Mt++){mt=pt[Mt];for(let Dt=0,Nt=mt.length-1;Dt<mt.length;Nt=Dt++)_t=mt[Dt],St=mt[Nt],_t.y>ct.y!=St.y>ct.y&&ct.x<(St.x-_t.x)*(ct.y-_t.y)/(St.y-_t.y)+_t.x&&(At=!At)}return At}function kv(pt,ct){let mt=!1;for(let _t=0,St=pt.length-1;_t<pt.length;St=_t++){const At=pt[_t],Mt=pt[St];At.y>ct.y!=Mt.y>ct.y&&ct.x<(Mt.x-At.x)*(ct.y-At.y)/(Mt.y-At.y)+At.x&&(mt=!mt)}return mt}function O1(pt,ct,mt,_t,St){for(const Mt of pt)if(ct<=Mt.x&&mt<=Mt.y&&_t>=Mt.x&&St>=Mt.y)return!0;const At=[new dt(ct,mt),new dt(ct,St),new dt(_t,St),new dt(_t,mt)];if(pt.length>2){for(const Mt of At)if(kv(pt,Mt))return!0}for(let Mt=0;Mt<pt.length-1;Mt++)if(Q2(pt[Mt],pt[Mt+1],At))return!0;return!1}function Q2(pt,ct,mt){const _t=mt[0],St=mt[2];if(pt.x<_t.x&&ct.x<_t.x||pt.x>St.x&&ct.x>St.x||pt.y<_t.y&&ct.y<_t.y||pt.y>St.y&&ct.y>St.y)return!1;const At=Mr(pt,ct,mt[0]);return At!==Mr(pt,ct,mt[1])||At!==Mr(pt,ct,mt[2])||At!==Mr(pt,ct,mt[3])}function Em(pt,ct,mt){const _t=ct.paint.get(pt).value;return _t.kind==="constant"?_t.value:mt.programConfigurations.get(ct.id).getMaxValue(pt)}function _0(pt){return Math.sqrt(pt[0]*pt[0]+pt[1]*pt[1])}function k1(pt,ct,mt,_t,St){if(!ct[0]&&!ct[1])return pt;const At=dt.convert(ct)._mult(St);mt==="viewport"&&At._rotate(-_t);const Mt=[];for(let Dt=0;Dt<pt.length;Dt++)Mt.push(pt[Dt].sub(At));return Mt}function N1(pt,ct,mt,_t){const St=dt.convert(pt)._mult(_t);return ct==="viewport"&&St._rotate(-mt),St}ro(d_,"CircleBucket",{omit:["layers"]});const J2=new Tn({"circle-sort-key":new kr(Ur.layout_circle["circle-sort-key"])});var eS={paint:new Tn({"circle-radius":new kr(Ur.paint_circle["circle-radius"]),"circle-color":new kr(Ur.paint_circle["circle-color"]),"circle-blur":new kr(Ur.paint_circle["circle-blur"]),"circle-opacity":new kr(Ur.paint_circle["circle-opacity"]),"circle-translate":new hn(Ur.paint_circle["circle-translate"]),"circle-translate-anchor":new hn(Ur.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new hn(Ur.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new hn(Ur.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kr(Ur.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kr(Ur.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kr(Ur.paint_circle["circle-stroke-opacity"])}),layout:J2},x0=1e-6,Yl=typeof Float32Array!="undefined"?Float32Array:Array;function F1(){var pt=new Yl(9);return Yl!=Float32Array&&(pt[1]=0,pt[2]=0,pt[3]=0,pt[5]=0,pt[6]=0,pt[7]=0),pt[0]=1,pt[4]=1,pt[8]=1,pt}function Zl(pt){return pt[0]=1,pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=0,pt[5]=1,pt[6]=0,pt[7]=0,pt[8]=0,pt[9]=0,pt[10]=1,pt[11]=0,pt[12]=0,pt[13]=0,pt[14]=0,pt[15]=1,pt}function Xp(pt,ct,mt){var _t=ct[0],St=ct[1],At=ct[2],Mt=ct[3],Dt=ct[4],Nt=ct[5],Bt=ct[6],Wt=ct[7],qt=ct[8],Xt=ct[9],ar=ct[10],lr=ct[11],hr=ct[12],Sr=ct[13],Ar=ct[14],Vr=ct[15],Fr=mt[0],jr=mt[1],Wr=mt[2],Yr=mt[3];return pt[0]=Fr*_t+jr*Dt+Wr*qt+Yr*hr,pt[1]=Fr*St+jr*Nt+Wr*Xt+Yr*Sr,pt[2]=Fr*At+jr*Bt+Wr*ar+Yr*Ar,pt[3]=Fr*Mt+jr*Wt+Wr*lr+Yr*Vr,pt[4]=(Fr=mt[4])*_t+(jr=mt[5])*Dt+(Wr=mt[6])*qt+(Yr=mt[7])*hr,pt[5]=Fr*St+jr*Nt+Wr*Xt+Yr*Sr,pt[6]=Fr*At+jr*Bt+Wr*ar+Yr*Ar,pt[7]=Fr*Mt+jr*Wt+Wr*lr+Yr*Vr,pt[8]=(Fr=mt[8])*_t+(jr=mt[9])*Dt+(Wr=mt[10])*qt+(Yr=mt[11])*hr,pt[9]=Fr*St+jr*Nt+Wr*Xt+Yr*Sr,pt[10]=Fr*At+jr*Bt+Wr*ar+Yr*Ar,pt[11]=Fr*Mt+jr*Wt+Wr*lr+Yr*Vr,pt[12]=(Fr=mt[12])*_t+(jr=mt[13])*Dt+(Wr=mt[14])*qt+(Yr=mt[15])*hr,pt[13]=Fr*St+jr*Nt+Wr*Xt+Yr*Sr,pt[14]=Fr*At+jr*Bt+Wr*ar+Yr*Ar,pt[15]=Fr*Mt+jr*Wt+Wr*lr+Yr*Vr,pt}function Nv(pt,ct,mt){var _t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr=mt[0],Sr=mt[1],Ar=mt[2];return ct===pt?(pt[12]=ct[0]*hr+ct[4]*Sr+ct[8]*Ar+ct[12],pt[13]=ct[1]*hr+ct[5]*Sr+ct[9]*Ar+ct[13],pt[14]=ct[2]*hr+ct[6]*Sr+ct[10]*Ar+ct[14],pt[15]=ct[3]*hr+ct[7]*Sr+ct[11]*Ar+ct[15]):(St=ct[1],At=ct[2],Mt=ct[3],Dt=ct[4],Nt=ct[5],Bt=ct[6],Wt=ct[7],qt=ct[8],Xt=ct[9],ar=ct[10],lr=ct[11],pt[0]=_t=ct[0],pt[1]=St,pt[2]=At,pt[3]=Mt,pt[4]=Dt,pt[5]=Nt,pt[6]=Bt,pt[7]=Wt,pt[8]=qt,pt[9]=Xt,pt[10]=ar,pt[11]=lr,pt[12]=_t*hr+Dt*Sr+qt*Ar+ct[12],pt[13]=St*hr+Nt*Sr+Xt*Ar+ct[13],pt[14]=At*hr+Bt*Sr+ar*Ar+ct[14],pt[15]=Mt*hr+Wt*Sr+lr*Ar+ct[15]),pt}function Gu(pt,ct,mt){var _t=mt[0],St=mt[1],At=mt[2];return pt[0]=ct[0]*_t,pt[1]=ct[1]*_t,pt[2]=ct[2]*_t,pt[3]=ct[3]*_t,pt[4]=ct[4]*St,pt[5]=ct[5]*St,pt[6]=ct[6]*St,pt[7]=ct[7]*St,pt[8]=ct[8]*At,pt[9]=ct[9]*At,pt[10]=ct[10]*At,pt[11]=ct[11]*At,pt[12]=ct[12],pt[13]=ct[13],pt[14]=ct[14],pt[15]=ct[15],pt}function b0(pt,ct,mt){var _t=Math.sin(mt),St=Math.cos(mt),At=ct[4],Mt=ct[5],Dt=ct[6],Nt=ct[7],Bt=ct[8],Wt=ct[9],qt=ct[10],Xt=ct[11];return ct!==pt&&(pt[0]=ct[0],pt[1]=ct[1],pt[2]=ct[2],pt[3]=ct[3],pt[12]=ct[12],pt[13]=ct[13],pt[14]=ct[14],pt[15]=ct[15]),pt[4]=At*St+Bt*_t,pt[5]=Mt*St+Wt*_t,pt[6]=Dt*St+qt*_t,pt[7]=Nt*St+Xt*_t,pt[8]=Bt*St-At*_t,pt[9]=Wt*St-Mt*_t,pt[10]=qt*St-Dt*_t,pt[11]=Xt*St-Nt*_t,pt}function S0(pt,ct,mt){var _t=Math.sin(mt),St=Math.cos(mt),At=ct[0],Mt=ct[1],Dt=ct[2],Nt=ct[3],Bt=ct[8],Wt=ct[9],qt=ct[10],Xt=ct[11];return ct!==pt&&(pt[4]=ct[4],pt[5]=ct[5],pt[6]=ct[6],pt[7]=ct[7],pt[12]=ct[12],pt[13]=ct[13],pt[14]=ct[14],pt[15]=ct[15]),pt[0]=At*St-Bt*_t,pt[1]=Mt*St-Wt*_t,pt[2]=Dt*St-qt*_t,pt[3]=Nt*St-Xt*_t,pt[8]=At*_t+Bt*St,pt[9]=Mt*_t+Wt*St,pt[10]=Dt*_t+qt*St,pt[11]=Nt*_t+Xt*St,pt}function z1(pt,ct,mt){var _t,St,At,Mt=mt[0],Dt=mt[1],Nt=mt[2],Bt=Math.hypot(Mt,Dt,Nt);return Bt<x0?null:(Mt*=Bt=1/Bt,Dt*=Bt,Nt*=Bt,_t=Math.sin(ct),St=Math.cos(ct),pt[0]=Mt*Mt*(At=1-St)+St,pt[1]=Dt*Mt*At+Nt*_t,pt[2]=Nt*Mt*At-Dt*_t,pt[3]=0,pt[4]=Mt*Dt*At-Nt*_t,pt[5]=Dt*Dt*At+St,pt[6]=Nt*Dt*At+Mt*_t,pt[7]=0,pt[8]=Mt*Nt*At+Dt*_t,pt[9]=Dt*Nt*At-Mt*_t,pt[10]=Nt*Nt*At+St,pt[11]=0,pt[12]=0,pt[13]=0,pt[14]=0,pt[15]=1,pt)}Math.hypot||(Math.hypot=function(){for(var pt=0,ct=arguments.length;ct--;)pt+=arguments[ct]*arguments[ct];return Math.sqrt(pt)});var tS=Xp;function v_(){var pt=new Yl(3);return Yl!=Float32Array&&(pt[0]=0,pt[1]=0,pt[2]=0),pt}function B1(pt){var ct=new Yl(3);return ct[0]=pt[0],ct[1]=pt[1],ct[2]=pt[2],ct}function hy(pt){return Math.hypot(pt[0],pt[1],pt[2])}function Am(pt,ct,mt){var _t=new Yl(3);return _t[0]=pt,_t[1]=ct,_t[2]=mt,_t}function Qp(pt,ct,mt){return pt[0]=ct[0]+mt[0],pt[1]=ct[1]+mt[1],pt[2]=ct[2]+mt[2],pt}function m_(pt,ct,mt){return pt[0]=ct[0]-mt[0],pt[1]=ct[1]-mt[1],pt[2]=ct[2]-mt[2],pt}function V1(pt,ct,mt){return pt[0]=ct[0]*mt[0],pt[1]=ct[1]*mt[1],pt[2]=ct[2]*mt[2],pt}function w0(pt,ct,mt){return pt[0]=Math.min(ct[0],mt[0]),pt[1]=Math.min(ct[1],mt[1]),pt[2]=Math.min(ct[2],mt[2]),pt}function C0(pt,ct,mt){return pt[0]=Math.max(ct[0],mt[0]),pt[1]=Math.max(ct[1],mt[1]),pt[2]=Math.max(ct[2],mt[2]),pt}function Hu(pt,ct,mt){return pt[0]=ct[0]*mt,pt[1]=ct[1]*mt,pt[2]=ct[2]*mt,pt}function T0(pt,ct,mt,_t){return pt[0]=ct[0]+mt[0]*_t,pt[1]=ct[1]+mt[1]*_t,pt[2]=ct[2]+mt[2]*_t,pt}function Ml(pt,ct){var mt=ct[0],_t=ct[1],St=ct[2],At=mt*mt+_t*_t+St*St;return At>0&&(At=1/Math.sqrt(At)),pt[0]=ct[0]*At,pt[1]=ct[1]*At,pt[2]=ct[2]*At,pt}function xu(pt,ct){return pt[0]*ct[0]+pt[1]*ct[1]+pt[2]*ct[2]}function g_(pt,ct,mt){var _t=ct[0],St=ct[1],At=ct[2],Mt=mt[0],Dt=mt[1],Nt=mt[2];return pt[0]=St*Nt-At*Dt,pt[1]=At*Mt-_t*Nt,pt[2]=_t*Dt-St*Mt,pt}function xl(pt,ct,mt){var _t=ct[0],St=ct[1],At=ct[2],Mt=mt[3]*_t+mt[7]*St+mt[11]*At+mt[15];return pt[0]=(mt[0]*_t+mt[4]*St+mt[8]*At+mt[12])/(Mt=Mt||1),pt[1]=(mt[1]*_t+mt[5]*St+mt[9]*At+mt[13])/Mt,pt[2]=(mt[2]*_t+mt[6]*St+mt[10]*At+mt[14])/Mt,pt}function U1(pt,ct,mt){var _t=mt[0],St=mt[1],At=mt[2],Mt=ct[0],Dt=ct[1],Nt=ct[2],Bt=St*Nt-At*Dt,Wt=At*Mt-_t*Nt,qt=_t*Dt-St*Mt,Xt=St*qt-At*Wt,ar=At*Bt-_t*qt,lr=_t*Wt-St*Bt,hr=2*mt[3];return Wt*=hr,qt*=hr,ar*=2,lr*=2,pt[0]=Mt+(Bt*=hr)+(Xt*=2),pt[1]=Dt+Wt+ar,pt[2]=Nt+qt+lr,pt}var py,bu=m_,rS=V1,nS=hy;function j1(pt,ct,mt){return pt[0]=ct[0]*mt,pt[1]=ct[1]*mt,pt[2]=ct[2]*mt,pt[3]=ct[3]*mt,pt}function Fv(pt,ct,mt){var _t=ct[0],St=ct[1],At=ct[2],Mt=ct[3];return pt[0]=mt[0]*_t+mt[4]*St+mt[8]*At+mt[12]*Mt,pt[1]=mt[1]*_t+mt[5]*St+mt[9]*At+mt[13]*Mt,pt[2]=mt[2]*_t+mt[6]*St+mt[10]*At+mt[14]*Mt,pt[3]=mt[3]*_t+mt[7]*St+mt[11]*At+mt[15]*Mt,pt}function G1(){var pt=new Yl(4);return Yl!=Float32Array&&(pt[0]=0,pt[1]=0,pt[2]=0),pt[3]=1,pt}function H1(pt){return pt[0]=0,pt[1]=0,pt[2]=0,pt[3]=1,pt}function W1(pt,ct,mt){mt*=.5;var _t=ct[0],St=ct[1],At=ct[2],Mt=ct[3],Dt=Math.sin(mt),Nt=Math.cos(mt);return pt[0]=_t*Nt+Mt*Dt,pt[1]=St*Nt+At*Dt,pt[2]=At*Nt-St*Dt,pt[3]=Mt*Nt-_t*Dt,pt}function K1(pt,ct,mt){mt*=.5;var _t=ct[0],St=ct[1],At=ct[2],Mt=ct[3],Dt=Math.sin(mt),Nt=Math.cos(mt);return pt[0]=_t*Nt-At*Dt,pt[1]=St*Nt+Mt*Dt,pt[2]=At*Nt+_t*Dt,pt[3]=Mt*Nt-St*Dt,pt}v_(),py=new Yl(4),Yl!=Float32Array&&(py[0]=0,py[1]=0,py[2]=0,py[3]=0),v_(),Am(1,0,0),Am(0,1,0),G1(),G1(),F1();class y_{constructor(ct,mt){this.pos=ct,this.dir=mt}intersectsPlane(ct,mt,_t){const St=xu(mt,this.dir);if(Math.abs(St)<1e-6)return!1;const At=((ct[0]-this.pos[0])*mt[0]+(ct[1]-this.pos[1])*mt[1]+(ct[2]-this.pos[2])*mt[2])/St;return _t[0]=this.pos[0]+this.dir[0]*At,_t[1]=this.pos[1]+this.dir[1]*At,_t[2]=this.pos[2]+this.dir[2]*At,!0}closestPointOnSphere(ct,mt,_t){if(function(ar,lr){var hr=ar[0],Sr=ar[1],Ar=ar[2],Vr=lr[0],Fr=lr[1],jr=lr[2];return Math.abs(hr-Vr)<=x0*Math.max(1,Math.abs(hr),Math.abs(Vr))&&Math.abs(Sr-Fr)<=x0*Math.max(1,Math.abs(Sr),Math.abs(Fr))&&Math.abs(Ar-jr)<=x0*Math.max(1,Math.abs(Ar),Math.abs(jr))}(this.pos,ct)||mt===0)return _t[0]=_t[1]=_t[2]=0,!1;const[St,At,Mt]=this.dir,Dt=this.pos[0]-ct[0],Nt=this.pos[1]-ct[1],Bt=this.pos[2]-ct[2],Wt=St*St+At*At+Mt*Mt,qt=2*(Dt*St+Nt*At+Bt*Mt),Xt=qt*qt-4*Wt*(Dt*Dt+Nt*Nt+Bt*Bt-mt*mt);if(Xt<0){const ar=Math.max(-qt/2,0),lr=Dt+St*ar,hr=Nt+At*ar,Sr=Bt+Mt*ar,Ar=Math.hypot(lr,hr,Sr);return _t[0]=lr*mt/Ar,_t[1]=hr*mt/Ar,_t[2]=Sr*mt/Ar,!1}{const ar=(-qt-Math.sqrt(Xt))/(2*Wt);if(ar<0){const lr=Math.hypot(Dt,Nt,Bt);return _t[0]=Dt*mt/lr,_t[1]=Nt*mt/lr,_t[2]=Bt*mt/lr,!1}return _t[0]=Dt+St*ar,_t[1]=Nt+At*ar,_t[2]=Bt+Mt*ar,!0}}}class __{constructor(ct,mt,_t,St,At){this.TL=ct,this.TR=mt,this.BR=_t,this.BL=St,this.horizon=At}static fromInvProjectionMatrix(ct,mt,_t){const St=[-1,1,1],At=[1,1,1],Mt=[1,-1,1],Dt=[-1,-1,1],Nt=xl(St,St,ct),Bt=xl(At,At,ct),Wt=xl(Mt,Mt,ct),qt=xl(Dt,Dt,ct);return new __(Nt,Bt,Wt,qt,mt/_t)}}class x_{constructor(ct,mt){this.points=ct,this.planes=mt}static fromInvProjectionMatrix(ct,mt,_t,St){const At=Math.pow(2,_t),Mt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Nt=>{const Bt=Fv([],Nt,ct),Wt=1/Bt[3]/mt*At;return function(qt,Xt,ar){return qt[0]=Xt[0]*ar[0],qt[1]=Xt[1]*ar[1],qt[2]=Xt[2]*ar[2],qt[3]=Xt[3]*ar[3],qt}(Bt,Bt,[Wt,Wt,St?1/Bt[3]:Wt,Wt])}),Dt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Nt=>{const Bt=Ml([],g_([],bu([],Mt[Nt[0]],Mt[Nt[1]]),bu([],Mt[Nt[2]],Mt[Nt[1]]))),Wt=-xu(Bt,Mt[Nt[1]]);return Bt.concat(Wt)});return new x_(Mt,Dt)}}class cu{constructor(ct,mt){this.min=ct,this.max=mt,this.center=Hu([],Qp([],this.min,this.max),.5)}quadrant(ct){const mt=[ct%2==0,ct<2],_t=B1(this.min),St=B1(this.max);for(let At=0;At<mt.length;At++)_t[At]=mt[At]?this.min[At]:this.center[At],St[At]=mt[At]?this.center[At]:this.max[At];return St[2]=this.max[2],new cu(_t,St)}distanceX(ct){return Math.max(Math.min(this.max[0],ct[0]),this.min[0])-ct[0]}distanceY(ct){return Math.max(Math.min(this.max[1],ct[1]),this.min[1])-ct[1]}distanceZ(ct){return Math.max(Math.min(this.max[2],ct[2]),this.min[2])-ct[2]}getCorners(){const ct=this.min,mt=this.max;return[[ct[0],ct[1],ct[2]],[mt[0],ct[1],ct[2]],[mt[0],mt[1],ct[2]],[ct[0],mt[1],ct[2]],[ct[0],ct[1],mt[2]],[mt[0],ct[1],mt[2]],[mt[0],mt[1],mt[2]],[ct[0],mt[1],mt[2]]]}intersects(ct){const mt=this.getCorners();let _t=!0;for(let St=0;St<ct.planes.length;St++){const At=ct.planes[St];let Mt=0;for(let Dt=0;Dt<mt.length;Dt++)Mt+=xu(At,mt[Dt])+At[3]>=0;if(Mt===0)return 0;Mt!==mt.length&&(_t=!1)}if(_t)return 2;for(let St=0;St<3;St++){let At=Number.MAX_VALUE,Mt=-Number.MAX_VALUE;for(let Dt=0;Dt<ct.points.length;Dt++){const Nt=ct.points[Dt][St]-this.min[St];At=Math.min(At,Nt),Mt=Math.max(Mt,Nt)}if(Mt<0||At>this.max[St]-this.min[St])return 0}return 1}}function Y1(pt,ct,mt,_t,St,At,Mt,Dt,Nt){if(At&&pt.queryGeometry.isAboveHorizon)return!1;At&&(Nt*=pt.pixelToTileUnitsFactor);const Bt=pt.tileID.canonical,Wt=mt.projection.upVectorScale(Bt,mt.center.lat,mt.worldSize).metersToTile;for(const qt of ct)for(const Xt of qt){const ar=Xt.add(Dt),lr=St&&mt.elevation?mt.elevation.exaggeration()*St.getElevationAt(ar.x,ar.y,!0):0,hr=mt.projection.projectTilePoint(ar.x,ar.y,Bt);if(lr>0){const Fr=mt.projection.upVector(Bt,ar.x,ar.y);hr.x+=Fr[0]*Wt*lr,hr.y+=Fr[1]*Wt*lr,hr.z+=Fr[2]*Wt*lr}const Sr=At?ar:aS(hr.x,hr.y,hr.z,_t),Ar=At?pt.tilespaceRays.map(Fr=>oS(Fr,lr)):pt.queryGeometry.screenGeometry,Vr=Fv([],[hr.x,hr.y,hr.z,1],_t);if(!Mt&&At?Nt*=Vr[3]/mt.cameraToCenterDistance:Mt&&!At&&(Nt*=mt.cameraToCenterDistance/Vr[3]),At){const Fr=Gs((Xt.y/Ao+Bt.y)/(1<<Bt.z));Nt/=mt.projection.pixelsPerMeter(Fr,1)/_u(1,Fr)}if(q2(Ar,Sr,Nt))return!0}return!1}function aS(pt,ct,mt,_t){const St=Fv([],[pt,ct,mt,1],_t);return new dt(St[0]/St[3],St[1]/St[3])}const q1=Am(0,0,0),iS=Am(0,0,1);function oS(pt,ct){const mt=v_();return q1[2]=ct,pt.intersectsPlane(q1,iS,mt),new dt(mt[0],mt[1])}class Z1 extends d_{}function X1(pt,{width:ct,height:mt},_t,St){if(St){if(St instanceof Uint8ClampedArray)St=new Uint8Array(St.buffer);else if(St.length!==ct*mt*_t)throw new RangeError("mismatched image size")}else St=new Uint8Array(ct*mt*_t);return pt.width=ct,pt.height=mt,pt.data=St,pt}function Q1(pt,ct,mt){const{width:_t,height:St}=ct;_t===pt.width&&St===pt.height||(b_(pt,ct,{x:0,y:0},{x:0,y:0},{width:Math.min(pt.width,_t),height:Math.min(pt.height,St)},mt),pt.width=_t,pt.height=St,pt.data=ct.data)}function b_(pt,ct,mt,_t,St,At){if(St.width===0||St.height===0)return ct;if(St.width>pt.width||St.height>pt.height||mt.x>pt.width-St.width||mt.y>pt.height-St.height)throw new RangeError("out of range source coordinates for image copy");if(St.width>ct.width||St.height>ct.height||_t.x>ct.width-St.width||_t.y>ct.height-St.height)throw new RangeError("out of range destination coordinates for image copy");const Mt=pt.data,Dt=ct.data;for(let Nt=0;Nt<St.height;Nt++){const Bt=((mt.y+Nt)*pt.width+mt.x)*At,Wt=((_t.y+Nt)*ct.width+_t.x)*At;for(let qt=0;qt<St.width*At;qt++)Dt[Wt+qt]=Mt[Bt+qt]}return ct}ro(Z1,"HeatmapBucket",{omit:["layers"]});class mp{constructor(ct,mt){X1(this,ct,1,mt)}resize(ct){Q1(this,new mp(ct),1)}clone(){return new mp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(ct,mt,_t,St,At){b_(ct,mt,_t,St,At,1)}}class Xl{constructor(ct,mt){X1(this,ct,4,mt)}resize(ct){Q1(this,new Xl(ct),4)}replace(ct,mt){mt?this.data.set(ct):this.data=ct instanceof Uint8ClampedArray?new Uint8Array(ct.buffer):ct}clone(){return new Xl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(ct,mt,_t,St,At){b_(ct,mt,_t,St,At,4)}}ro(mp,"AlphaImage"),ro(Xl,"RGBAImage");var sS={paint:new Tn({"heatmap-radius":new kr(Ur.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kr(Ur.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new hn(Ur.paint_heatmap["heatmap-intensity"]),"heatmap-color":new na(Ur.paint_heatmap["heatmap-color"]),"heatmap-opacity":new hn(Ur.paint_heatmap["heatmap-opacity"])})};function S_(pt){const ct={},mt=pt.resolution||256,_t=pt.clips?pt.clips.length:1,St=pt.image||new Xl({width:mt,height:_t}),At=(Mt,Dt,Nt)=>{ct[pt.evaluationKey]=Nt;const Bt=pt.expression.evaluate(ct);St.data[Mt+Dt+0]=Math.floor(255*Bt.r/Bt.a),St.data[Mt+Dt+1]=Math.floor(255*Bt.g/Bt.a),St.data[Mt+Dt+2]=Math.floor(255*Bt.b/Bt.a),St.data[Mt+Dt+3]=Math.floor(255*Bt.a)};if(pt.clips)for(let Mt=0,Dt=0;Mt<_t;++Mt,Dt+=4*mt)for(let Nt=0,Bt=0;Nt<mt;Nt++,Bt+=4){const Wt=Nt/(mt-1),{start:qt,end:Xt}=pt.clips[Mt];At(Dt,Bt,qt*(1-Wt)+Xt*Wt)}else for(let Mt=0,Dt=0;Mt<mt;Mt++,Dt+=4)At(0,Dt,Mt/(mt-1));return St}var lS={paint:new Tn({"hillshade-illumination-direction":new hn(Ur.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new hn(Ur.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new hn(Ur.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new hn(Ur.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new hn(Ur.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new hn(Ur.paint_hillshade["hillshade-accent-color"])})};const uS=Zn([{name:"a_pos",components:2,type:"Int16"}],4),{members:cS}=uS;var E0=A0,fS=A0;function A0(pt,ct,mt){mt=mt||2;var _t,St,At,Mt,Dt,Nt,Bt,Wt=ct&&ct.length,qt=Wt?ct[0]*mt:pt.length,Xt=J1(pt,0,qt,mt,!0),ar=[];if(!Xt||Xt.next===Xt.prev)return ar;if(Wt&&(Xt=function(hr,Sr,Ar,Vr){var Fr,jr,Wr,Yr=[];for(Fr=0,jr=Sr.length;Fr<jr;Fr++)(Wr=J1(hr,Sr[Fr]*Vr,Fr<jr-1?Sr[Fr+1]*Vr:hr.length,Vr,!1))===Wr.next&&(Wr.steiner=!0),Yr.push(_S(Wr));for(Yr.sort(mS),Fr=0;Fr<Yr.length;Fr++)Ar=Jp(Ar=gS(Yr[Fr],Ar),Ar.next);return Ar}(pt,ct,Xt,mt)),pt.length>80*mt){_t=At=pt[0],St=Mt=pt[1];for(var lr=mt;lr<qt;lr+=mt)(Dt=pt[lr])<_t&&(_t=Dt),(Nt=pt[lr+1])<St&&(St=Nt),Dt>At&&(At=Dt),Nt>Mt&&(Mt=Nt);Bt=(Bt=Math.max(At-_t,Mt-St))!==0?1/Bt:0}return vy(Xt,ar,mt,_t,St,Bt),ar}function J1(pt,ct,mt,_t,St){var At,Mt;if(St===T_(pt,ct,mt,_t)>0)for(At=ct;At<mt;At+=_t)Mt=rx(At,pt[At],pt[At+1],Mt);else for(At=mt-_t;At>=ct;At-=_t)Mt=rx(At,pt[At],pt[At+1],Mt);return Mt&&P0(Mt,Mt.next)&&(gy(Mt),Mt=Mt.next),Mt}function Jp(pt,ct){if(!pt)return pt;ct||(ct=pt);var mt,_t=pt;do if(mt=!1,_t.steiner||!P0(_t,_t.next)&&Us(_t.prev,_t,_t.next)!==0)_t=_t.next;else{if(gy(_t),(_t=ct=_t.prev)===_t.next)break;mt=!0}while(mt||_t!==ct);return ct}function vy(pt,ct,mt,_t,St,At,Mt){if(pt){!Mt&&At&&function(Wt,qt,Xt,ar){var lr=Wt;do lr.z===null&&(lr.z=w_(lr.x,lr.y,qt,Xt,ar)),lr.prevZ=lr.prev,lr.nextZ=lr.next,lr=lr.next;while(lr!==Wt);lr.prevZ.nextZ=null,lr.prevZ=null,function(hr){var Sr,Ar,Vr,Fr,jr,Wr,Yr,_n,bn=1;do{for(Ar=hr,hr=null,jr=null,Wr=0;Ar;){for(Wr++,Vr=Ar,Yr=0,Sr=0;Sr<bn&&(Yr++,Vr=Vr.nextZ);Sr++);for(_n=bn;Yr>0||_n>0&&Vr;)Yr!==0&&(_n===0||!Vr||Ar.z<=Vr.z)?(Fr=Ar,Ar=Ar.nextZ,Yr--):(Fr=Vr,Vr=Vr.nextZ,_n--),jr?jr.nextZ=Fr:hr=Fr,Fr.prevZ=jr,jr=Fr;Ar=Vr}jr.nextZ=null,bn*=2}while(Wr>1)}(lr)}(pt,_t,St,At);for(var Dt,Nt,Bt=pt;pt.prev!==pt.next;)if(Dt=pt.prev,Nt=pt.next,At?hS(pt,_t,St,At):dS(pt))ct.push(Dt.i/mt),ct.push(pt.i/mt),ct.push(Nt.i/mt),gy(pt),pt=Nt.next,Bt=Nt.next;else if((pt=Nt)===Bt){Mt?Mt===1?vy(pt=pS(Jp(pt),ct,mt),ct,mt,_t,St,At,2):Mt===2&&vS(pt,ct,mt,_t,St,At):vy(Jp(pt),ct,mt,_t,St,At,1);break}}}function dS(pt){var ct=pt.prev,mt=pt,_t=pt.next;if(Us(ct,mt,_t)>=0)return!1;for(var St=pt.next.next;St!==pt.prev;){if(Pm(ct.x,ct.y,mt.x,mt.y,_t.x,_t.y,St.x,St.y)&&Us(St.prev,St,St.next)>=0)return!1;St=St.next}return!0}function hS(pt,ct,mt,_t){var St=pt.prev,At=pt,Mt=pt.next;if(Us(St,At,Mt)>=0)return!1;for(var Dt=St.x>At.x?St.x>Mt.x?St.x:Mt.x:At.x>Mt.x?At.x:Mt.x,Nt=St.y>At.y?St.y>Mt.y?St.y:Mt.y:At.y>Mt.y?At.y:Mt.y,Bt=w_(St.x<At.x?St.x<Mt.x?St.x:Mt.x:At.x<Mt.x?At.x:Mt.x,St.y<At.y?St.y<Mt.y?St.y:Mt.y:At.y<Mt.y?At.y:Mt.y,ct,mt,_t),Wt=w_(Dt,Nt,ct,mt,_t),qt=pt.prevZ,Xt=pt.nextZ;qt&&qt.z>=Bt&&Xt&&Xt.z<=Wt;){if(qt!==pt.prev&&qt!==pt.next&&Pm(St.x,St.y,At.x,At.y,Mt.x,Mt.y,qt.x,qt.y)&&Us(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,Xt!==pt.prev&&Xt!==pt.next&&Pm(St.x,St.y,At.x,At.y,Mt.x,Mt.y,Xt.x,Xt.y)&&Us(Xt.prev,Xt,Xt.next)>=0))return!1;Xt=Xt.nextZ}for(;qt&&qt.z>=Bt;){if(qt!==pt.prev&&qt!==pt.next&&Pm(St.x,St.y,At.x,At.y,Mt.x,Mt.y,qt.x,qt.y)&&Us(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;Xt&&Xt.z<=Wt;){if(Xt!==pt.prev&&Xt!==pt.next&&Pm(St.x,St.y,At.x,At.y,Mt.x,Mt.y,Xt.x,Xt.y)&&Us(Xt.prev,Xt,Xt.next)>=0)return!1;Xt=Xt.nextZ}return!0}function pS(pt,ct,mt){var _t=pt;do{var St=_t.prev,At=_t.next.next;!P0(St,At)&&ex(St,_t,_t.next,At)&&my(St,At)&&my(At,St)&&(ct.push(St.i/mt),ct.push(_t.i/mt),ct.push(At.i/mt),gy(_t),gy(_t.next),_t=pt=At),_t=_t.next}while(_t!==pt);return Jp(_t)}function vS(pt,ct,mt,_t,St,At){var Mt=pt;do{for(var Dt=Mt.next.next;Dt!==Mt.prev;){if(Mt.i!==Dt.i&&xS(Mt,Dt)){var Nt=tx(Mt,Dt);return Mt=Jp(Mt,Mt.next),Nt=Jp(Nt,Nt.next),vy(Mt,ct,mt,_t,St,At),void vy(Nt,ct,mt,_t,St,At)}Dt=Dt.next}Mt=Mt.next}while(Mt!==pt)}function mS(pt,ct){return pt.x-ct.x}function gS(pt,ct){var mt=function(At,Mt){var Dt,Nt=Mt,Bt=At.x,Wt=At.y,qt=-1/0;do{if(Wt<=Nt.y&&Wt>=Nt.next.y&&Nt.next.y!==Nt.y){var Xt=Nt.x+(Wt-Nt.y)*(Nt.next.x-Nt.x)/(Nt.next.y-Nt.y);if(Xt<=Bt&&Xt>qt){if(qt=Xt,Xt===Bt){if(Wt===Nt.y)return Nt;if(Wt===Nt.next.y)return Nt.next}Dt=Nt.x<Nt.next.x?Nt:Nt.next}}Nt=Nt.next}while(Nt!==Mt);if(!Dt)return null;if(Bt===qt)return Dt;var ar,lr=Dt,hr=Dt.x,Sr=Dt.y,Ar=1/0;Nt=Dt;do Bt>=Nt.x&&Nt.x>=hr&&Bt!==Nt.x&&Pm(Wt<Sr?Bt:qt,Wt,hr,Sr,Wt<Sr?qt:Bt,Wt,Nt.x,Nt.y)&&(ar=Math.abs(Wt-Nt.y)/(Bt-Nt.x),my(Nt,At)&&(ar<Ar||ar===Ar&&(Nt.x>Dt.x||Nt.x===Dt.x&&yS(Dt,Nt)))&&(Dt=Nt,Ar=ar)),Nt=Nt.next;while(Nt!==lr);return Dt}(pt,ct);if(!mt)return ct;var _t=tx(mt,pt),St=Jp(mt,mt.next);return Jp(_t,_t.next),ct===mt?St:ct}function yS(pt,ct){return Us(pt.prev,pt,ct.prev)<0&&Us(ct.next,pt,pt.next)<0}function w_(pt,ct,mt,_t,St){return(pt=1431655765&((pt=858993459&((pt=252645135&((pt=16711935&((pt=32767*(pt-mt)*St)|pt<<8))|pt<<4))|pt<<2))|pt<<1))|(ct=1431655765&((ct=858993459&((ct=252645135&((ct=16711935&((ct=32767*(ct-_t)*St)|ct<<8))|ct<<4))|ct<<2))|ct<<1))<<1}function _S(pt){var ct=pt,mt=pt;do(ct.x<mt.x||ct.x===mt.x&&ct.y<mt.y)&&(mt=ct),ct=ct.next;while(ct!==pt);return mt}function Pm(pt,ct,mt,_t,St,At,Mt,Dt){return(St-Mt)*(ct-Dt)-(pt-Mt)*(At-Dt)>=0&&(pt-Mt)*(_t-Dt)-(mt-Mt)*(ct-Dt)>=0&&(mt-Mt)*(At-Dt)-(St-Mt)*(_t-Dt)>=0}function xS(pt,ct){return pt.next.i!==ct.i&&pt.prev.i!==ct.i&&!function(mt,_t){var St=mt;do{if(St.i!==mt.i&&St.next.i!==mt.i&&St.i!==_t.i&&St.next.i!==_t.i&&ex(St,St.next,mt,_t))return!0;St=St.next}while(St!==mt);return!1}(pt,ct)&&(my(pt,ct)&&my(ct,pt)&&function(mt,_t){var St=mt,At=!1,Mt=(mt.x+_t.x)/2,Dt=(mt.y+_t.y)/2;do St.y>Dt!=St.next.y>Dt&&St.next.y!==St.y&&Mt<(St.next.x-St.x)*(Dt-St.y)/(St.next.y-St.y)+St.x&&(At=!At),St=St.next;while(St!==mt);return At}(pt,ct)&&(Us(pt.prev,pt,ct.prev)||Us(pt,ct.prev,ct))||P0(pt,ct)&&Us(pt.prev,pt,pt.next)>0&&Us(ct.prev,ct,ct.next)>0)}function Us(pt,ct,mt){return(ct.y-pt.y)*(mt.x-ct.x)-(ct.x-pt.x)*(mt.y-ct.y)}function P0(pt,ct){return pt.x===ct.x&&pt.y===ct.y}function ex(pt,ct,mt,_t){var St=M0(Us(pt,ct,mt)),At=M0(Us(pt,ct,_t)),Mt=M0(Us(mt,_t,pt)),Dt=M0(Us(mt,_t,ct));return St!==At&&Mt!==Dt||!(St!==0||!$0(pt,mt,ct))||!(At!==0||!$0(pt,_t,ct))||!(Mt!==0||!$0(mt,pt,_t))||!(Dt!==0||!$0(mt,ct,_t))}function $0(pt,ct,mt){return ct.x<=Math.max(pt.x,mt.x)&&ct.x>=Math.min(pt.x,mt.x)&&ct.y<=Math.max(pt.y,mt.y)&&ct.y>=Math.min(pt.y,mt.y)}function M0(pt){return pt>0?1:pt<0?-1:0}function my(pt,ct){return Us(pt.prev,pt,pt.next)<0?Us(pt,ct,pt.next)>=0&&Us(pt,pt.prev,ct)>=0:Us(pt,ct,pt.prev)<0||Us(pt,pt.next,ct)<0}function tx(pt,ct){var mt=new C_(pt.i,pt.x,pt.y),_t=new C_(ct.i,ct.x,ct.y),St=pt.next,At=ct.prev;return pt.next=ct,ct.prev=pt,mt.next=St,St.prev=mt,_t.next=mt,mt.prev=_t,At.next=_t,_t.prev=At,_t}function rx(pt,ct,mt,_t){var St=new C_(pt,ct,mt);return _t?(St.next=_t.next,St.prev=_t,_t.next.prev=St,_t.next=St):(St.prev=St,St.next=St),St}function gy(pt){pt.next.prev=pt.prev,pt.prev.next=pt.next,pt.prevZ&&(pt.prevZ.nextZ=pt.nextZ),pt.nextZ&&(pt.nextZ.prevZ=pt.prevZ)}function C_(pt,ct,mt){this.i=pt,this.x=ct,this.y=mt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T_(pt,ct,mt,_t){for(var St=0,At=ct,Mt=mt-_t;At<mt;At+=_t)St+=(pt[Mt]-pt[At])*(pt[At+1]+pt[Mt+1]),Mt=At;return St}function bS(pt,ct,mt,_t,St){nx(pt,ct,mt||0,_t||pt.length-1,St||SS)}function nx(pt,ct,mt,_t,St){for(;_t>mt;){if(_t-mt>600){var At=_t-mt+1,Mt=ct-mt+1,Dt=Math.log(At),Nt=.5*Math.exp(2*Dt/3),Bt=.5*Math.sqrt(Dt*Nt*(At-Nt)/At)*(Mt-At/2<0?-1:1);nx(pt,ct,Math.max(mt,Math.floor(ct-Mt*Nt/At+Bt)),Math.min(_t,Math.floor(ct+(At-Mt)*Nt/At+Bt)),St)}var Wt=pt[ct],qt=mt,Xt=_t;for(yy(pt,mt,ct),St(pt[_t],Wt)>0&&yy(pt,mt,_t);qt<Xt;){for(yy(pt,qt,Xt),qt++,Xt--;St(pt[qt],Wt)<0;)qt++;for(;St(pt[Xt],Wt)>0;)Xt--}St(pt[mt],Wt)===0?yy(pt,mt,Xt):yy(pt,++Xt,_t),Xt<=ct&&(mt=Xt+1),ct<=Xt&&(_t=Xt-1)}}function yy(pt,ct,mt){var _t=pt[ct];pt[ct]=pt[mt],pt[mt]=_t}function SS(pt,ct){return pt<ct?-1:pt>ct?1:0}function E_(pt,ct){const mt=pt.length;if(mt<=1)return[pt];const _t=[];let St,At;for(let Mt=0;Mt<mt;Mt++){const Dt=Lr(pt[Mt]);Dt!==0&&(pt[Mt].area=Math.abs(Dt),At===void 0&&(At=Dt<0),At===Dt<0?(St&&_t.push(St),St=[pt[Mt]]):St.push(pt[Mt]))}if(St&&_t.push(St),ct>1)for(let Mt=0;Mt<_t.length;Mt++)_t[Mt].length<=ct||(bS(_t[Mt],ct,1,_t[Mt].length-1,wS),_t[Mt]=_t[Mt].slice(0,ct));return _t}function wS(pt,ct){return ct.area-pt.area}function A_(pt,ct,mt){const _t=mt.patternDependencies;let St=!1;for(const At of ct){const Mt=At.paint.get(`${pt}-pattern`);Mt.isConstant()||(St=!0);const Dt=Mt.constantOr(null);Dt&&(St=!0,_t[Dt.to]=!0,_t[Dt.from]=!0)}return St}function P_(pt,ct,mt,_t,St){const At=St.patternDependencies;for(const Mt of ct){const Dt=Mt.paint.get(`${pt}-pattern`).value;if(Dt.kind!=="constant"){let Nt=Dt.evaluate({zoom:_t-1},mt,{},St.availableImages),Bt=Dt.evaluate({zoom:_t},mt,{},St.availableImages),Wt=Dt.evaluate({zoom:_t+1},mt,{},St.availableImages);Nt=Nt&&Nt.name?Nt.name:Nt,Bt=Bt&&Bt.name?Bt.name:Bt,Wt=Wt&&Wt.name?Wt.name:Wt,At[Nt]=!0,At[Bt]=!0,At[Wt]=!0,mt.patterns[Mt.id]={min:Nt,mid:Bt,max:Wt}}}return mt}A0.deviation=function(pt,ct,mt,_t){var St=ct&&ct.length,At=Math.abs(T_(pt,0,St?ct[0]*mt:pt.length,mt));if(St)for(var Mt=0,Dt=ct.length;Mt<Dt;Mt++)At-=Math.abs(T_(pt,ct[Mt]*mt,Mt<Dt-1?ct[Mt+1]*mt:pt.length,mt));var Nt=0;for(Mt=0;Mt<_t.length;Mt+=3){var Bt=_t[Mt]*mt,Wt=_t[Mt+1]*mt,qt=_t[Mt+2]*mt;Nt+=Math.abs((pt[Bt]-pt[qt])*(pt[Wt+1]-pt[Bt+1])-(pt[Bt]-pt[Wt])*(pt[qt+1]-pt[Bt+1]))}return At===0&&Nt===0?0:Math.abs((Nt-At)/At)},A0.flatten=function(pt){for(var ct=pt[0][0].length,mt={vertices:[],holes:[],dimensions:ct},_t=0,St=0;St<pt.length;St++){for(var At=0;At<pt[St].length;At++)for(var Mt=0;Mt<ct;Mt++)mt.vertices.push(pt[St][At][Mt]);St>0&&mt.holes.push(_t+=pt[St-1].length)}return mt},E0.default=fS;class I0{constructor(ct){this.zoom=ct.zoom,this.overscaling=ct.overscaling,this.layers=ct.layers,this.layerIds=this.layers.map(mt=>mt.id),this.index=ct.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Co,this.indexArray=new es,this.indexArray2=new Vs,this.programConfigurations=new Rv(ct.layers,ct.zoom),this.segments=new ks,this.segments2=new ks,this.stateDependentLayerIds=this.layers.filter(mt=>mt.isStateDependent()).map(mt=>mt.id),this.projection=ct.projection}populate(ct,mt,_t,St){this.hasPattern=A_("fill",this.layers,mt);const At=this.layers[0].layout.get("fill-sort-key"),Mt=[];for(const{feature:Dt,id:Nt,index:Bt,sourceLayerIndex:Wt}of ct){const qt=this.layers[0]._featureFilter.needGeometry,Xt=Ov(Dt,qt);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),Xt,_t))continue;const ar=At?At.evaluate(Xt,{},_t,mt.availableImages):void 0,lr={id:Nt,properties:Dt.properties,type:Dt.type,sourceLayerIndex:Wt,index:Bt,geometry:qt?Xt.geometry:vp(Dt,_t,St),patterns:{},sortKey:ar};Mt.push(lr)}At&&Mt.sort((Dt,Nt)=>Dt.sortKey-Nt.sortKey);for(const Dt of Mt){const{geometry:Nt,index:Bt,sourceLayerIndex:Wt}=Dt;if(this.hasPattern){const qt=P_("fill",this.layers,Dt,this.zoom,mt);this.patternFeatures.push(qt)}else this.addFeature(Dt,Nt,Bt,_t,{},mt.availableImages);mt.featureIndex.insert(ct[Bt].feature,Nt,Bt,Wt,this.index)}}update(ct,mt,_t,St){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(ct,mt,this.stateDependentLayers,_t,St)}addFeatures(ct,mt,_t,St,At){for(const Mt of this.patternFeatures)this.addFeature(Mt,Mt.geometry,Mt.index,mt,_t,St)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(ct){this.uploaded||(this.layoutVertexBuffer=ct.createVertexBuffer(this.layoutVertexArray,cS),this.indexBuffer=ct.createIndexBuffer(this.indexArray),this.indexBuffer2=ct.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(ct),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(ct,mt,_t,St,At,Mt=[]){for(const Dt of E_(mt,500)){let Nt=0;for(const lr of Dt)Nt+=lr.length;const Bt=this.segments.prepareSegment(Nt,this.layoutVertexArray,this.indexArray),Wt=Bt.vertexLength,qt=[],Xt=[];for(const lr of Dt){if(lr.length===0)continue;lr!==Dt[0]&&Xt.push(qt.length/2);const hr=this.segments2.prepareSegment(lr.length,this.layoutVertexArray,this.indexArray2),Sr=hr.vertexLength;this.layoutVertexArray.emplaceBack(lr[0].x,lr[0].y),this.indexArray2.emplaceBack(Sr+lr.length-1,Sr),qt.push(lr[0].x),qt.push(lr[0].y);for(let Ar=1;Ar<lr.length;Ar++)this.layoutVertexArray.emplaceBack(lr[Ar].x,lr[Ar].y),this.indexArray2.emplaceBack(Sr+Ar-1,Sr+Ar),qt.push(lr[Ar].x),qt.push(lr[Ar].y);hr.vertexLength+=lr.length,hr.primitiveLength+=lr.length}const ar=E0(qt,Xt);for(let lr=0;lr<ar.length;lr+=3)this.indexArray.emplaceBack(Wt+ar[lr],Wt+ar[lr+1],Wt+ar[lr+2]);Bt.vertexLength+=Nt,Bt.primitiveLength+=ar.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,ct,_t,At,Mt,St)}}ro(I0,"FillBucket",{omit:["layers","patternFeatures"]});const CS=new Tn({"fill-sort-key":new kr(Ur.layout_fill["fill-sort-key"])});var TS={paint:new Tn({"fill-antialias":new hn(Ur.paint_fill["fill-antialias"]),"fill-opacity":new kr(Ur.paint_fill["fill-opacity"]),"fill-color":new kr(Ur.paint_fill["fill-color"]),"fill-outline-color":new kr(Ur.paint_fill["fill-outline-color"]),"fill-translate":new hn(Ur.paint_fill["fill-translate"]),"fill-translate-anchor":new hn(Ur.paint_fill["fill-translate-anchor"]),"fill-pattern":new On(Ur.paint_fill["fill-pattern"])}),layout:CS};const ES=Zn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),AS=Zn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),PS=Zn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:$S}=ES;var ax=$m;function $m(pt,ct,mt,_t,St){this.properties={},this.extent=mt,this.type=0,this._pbf=pt,this._geometry=-1,this._keys=_t,this._values=St,pt.readFields(MS,this,ct)}function MS(pt,ct,mt){pt==1?ct.id=mt.readVarint():pt==2?function(_t,St){for(var At=_t.readVarint()+_t.pos;_t.pos<At;){var Mt=St._keys[_t.readVarint()],Dt=St._values[_t.readVarint()];St.properties[Mt]=Dt}}(mt,ct):pt==3?ct.type=mt.readVarint():pt==4&&(ct._geometry=mt.pos)}function IS(pt){for(var ct,mt,_t=0,St=0,At=pt.length,Mt=At-1;St<At;Mt=St++)_t+=((mt=pt[Mt]).x-(ct=pt[St]).x)*(ct.y+mt.y);return _t}$m.types=["Unknown","Point","LineString","Polygon"],$m.prototype.loadGeometry=function(){var pt=this._pbf;pt.pos=this._geometry;for(var ct,mt=pt.readVarint()+pt.pos,_t=1,St=0,At=0,Mt=0,Dt=[];pt.pos<mt;){if(St<=0){var Nt=pt.readVarint();_t=7&Nt,St=Nt>>3}if(St--,_t===1||_t===2)At+=pt.readSVarint(),Mt+=pt.readSVarint(),_t===1&&(ct&&Dt.push(ct),ct=[]),ct.push(new dt(At,Mt));else{if(_t!==7)throw new Error("unknown command "+_t);ct&&ct.push(ct[0].clone())}}return ct&&Dt.push(ct),Dt},$m.prototype.bbox=function(){var pt=this._pbf;pt.pos=this._geometry;for(var ct=pt.readVarint()+pt.pos,mt=1,_t=0,St=0,At=0,Mt=1/0,Dt=-1/0,Nt=1/0,Bt=-1/0;pt.pos<ct;){if(_t<=0){var Wt=pt.readVarint();mt=7&Wt,_t=Wt>>3}if(_t--,mt===1||mt===2)(St+=pt.readSVarint())<Mt&&(Mt=St),St>Dt&&(Dt=St),(At+=pt.readSVarint())<Nt&&(Nt=At),At>Bt&&(Bt=At);else if(mt!==7)throw new Error("unknown command "+mt)}return[Mt,Nt,Dt,Bt]},$m.prototype.toGeoJSON=function(pt,ct,mt){var _t,St,At=this.extent*Math.pow(2,mt),Mt=this.extent*pt,Dt=this.extent*ct,Nt=this.loadGeometry(),Bt=$m.types[this.type];function Wt(ar){for(var lr=0;lr<ar.length;lr++){var hr=ar[lr];ar[lr]=[360*(hr.x+Mt)/At-180,360/Math.PI*Math.atan(Math.exp((180-360*(hr.y+Dt)/At)*Math.PI/180))-90]}}switch(this.type){case 1:var qt=[];for(_t=0;_t<Nt.length;_t++)qt[_t]=Nt[_t][0];Wt(Nt=qt);break;case 2:for(_t=0;_t<Nt.length;_t++)Wt(Nt[_t]);break;case 3:for(Nt=function(ar){var lr=ar.length;if(lr<=1)return[ar];for(var hr,Sr,Ar=[],Vr=0;Vr<lr;Vr++){var Fr=IS(ar[Vr]);Fr!==0&&(Sr===void 0&&(Sr=Fr<0),Sr===Fr<0?(hr&&Ar.push(hr),hr=[ar[Vr]]):hr.push(ar[Vr]))}return hr&&Ar.push(hr),Ar}(Nt),_t=0;_t<Nt.length;_t++)for(St=0;St<Nt[_t].length;St++)Wt(Nt[_t][St])}Nt.length===1?Nt=Nt[0]:Bt="Multi"+Bt;var Xt={type:"Feature",geometry:{type:Bt,coordinates:Nt},properties:this.properties};return"id"in this&&(Xt.id=this.id),Xt};var ix=ox;function ox(pt,ct){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=pt,this._keys=[],this._values=[],this._features=[],pt.readFields(RS,this,ct),this.length=this._features.length}function RS(pt,ct,mt){pt===15?ct.version=mt.readVarint():pt===1?ct.name=mt.readString():pt===5?ct.extent=mt.readVarint():pt===2?ct._features.push(mt.pos):pt===3?ct._keys.push(mt.readString()):pt===4&&ct._values.push(function(_t){for(var St=null,At=_t.readVarint()+_t.pos;_t.pos<At;){var Mt=_t.readVarint()>>3;St=Mt===1?_t.readString():Mt===2?_t.readFloat():Mt===3?_t.readDouble():Mt===4?_t.readVarint64():Mt===5?_t.readVarint():Mt===6?_t.readSVarint():Mt===7?_t.readBoolean():null}return St}(mt))}function DS(pt,ct,mt){if(pt===3){var _t=new ix(mt,mt.readVarint()+mt.pos);_t.length&&(ct[_t.name]=_t)}}ox.prototype.feature=function(pt){if(pt<0||pt>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[pt];var ct=this._pbf.readVarint()+this._pbf.pos;return new ax(this._pbf,ct,this.extent,this._keys,this._values)};var zv={VectorTile:function(pt,ct){this.layers=pt.readFields(DS,{},ct)},VectorTileFeature:ax,VectorTileLayer:ix};function R0(pt,ct,mt,_t){const St=[],At=_t===0?(Mt,Dt,Nt,Bt,Wt,qt)=>{Mt.push(new dt(qt,Nt+(qt-Dt)/(Bt-Dt)*(Wt-Nt)))}:(Mt,Dt,Nt,Bt,Wt,qt)=>{Mt.push(new dt(Dt+(qt-Nt)/(Wt-Nt)*(Bt-Dt),qt))};for(const Mt of pt){const Dt=[];for(const Nt of Mt){if(Nt.length<=2)continue;const Bt=[];for(let Xt=0;Xt<Nt.length-1;Xt++){const ar=Nt[Xt].x,lr=Nt[Xt].y,hr=Nt[Xt+1].x,Sr=Nt[Xt+1].y,Ar=_t===0?ar:lr,Vr=_t===0?hr:Sr;Ar<ct?Vr>ct&&At(Bt,ar,lr,hr,Sr,ct):Ar>mt?Vr<mt&&At(Bt,ar,lr,hr,Sr,mt):Bt.push(Nt[Xt]),Vr<ct&&Ar>=ct&&At(Bt,ar,lr,hr,Sr,ct),Vr>mt&&Ar<=mt&&At(Bt,ar,lr,hr,Sr,mt)}let Wt=Nt[Nt.length-1];const qt=_t===0?Wt.x:Wt.y;qt>=ct&&qt<=mt&&Bt.push(Wt),Bt.length&&(Wt=Bt[Bt.length-1],Bt[0].x===Wt.x&&Bt[0].y===Wt.y||Bt.push(Bt[0]),Dt.push(Bt))}Dt.length&&St.push(Dt)}return St}const LS=zv.VectorTileFeature.types,OS=Math.pow(2,13);function _y(pt,ct,mt,_t,St,At,Mt,Dt){pt.emplaceBack((ct<<1)+Mt,(mt<<1)+At,(Math.floor(_t*OS)<<1)+St,Math.round(Dt))}function xy(pt,ct,mt){pt.emplaceBack(ct.x,ct.y,ct.z,mt[0]*16384,mt[1]*16384,mt[2]*16384)}class sx{constructor(){this.acc=new dt(0,0),this.polyCount=[]}startRing(ct){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new dt(ct.x,ct.y),this.max=new dt(ct.x,ct.y))}append(ct,mt){this.currentPolyCount.edges++,this.acc._add(ct);const _t=this.min,St=this.max;ct.x<_t.x?_t.x=ct.x:ct.x>St.x&&(St.x=ct.x),ct.y<_t.y?_t.y=ct.y:ct.y>St.y&&(St.y=ct.y),((ct.x===0||ct.x===Ao)&&ct.x===mt.x)!=((ct.y===0||ct.y===Ao)&&ct.y===mt.y)&&this.processBorderOverlap(ct,mt),mt.x<0!=ct.x<0&&this.addBorderIntersection(0,Yo(mt.y,ct.y,(0-mt.x)/(ct.x-mt.x))),mt.x>Ao!=ct.x>Ao&&this.addBorderIntersection(1,Yo(mt.y,ct.y,(Ao-mt.x)/(ct.x-mt.x))),mt.y<0!=ct.y<0&&this.addBorderIntersection(2,Yo(mt.x,ct.x,(0-mt.y)/(ct.y-mt.y))),mt.y>Ao!=ct.y>Ao&&this.addBorderIntersection(3,Yo(mt.x,ct.x,(Ao-mt.y)/(ct.y-mt.y)))}addBorderIntersection(ct,mt){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const _t=this.borders[ct];mt<_t[0]&&(_t[0]=mt),mt>_t[1]&&(_t[1]=mt)}processBorderOverlap(ct,mt){if(ct.x===mt.x){if(ct.y===mt.y)return;const _t=ct.x===0?0:1;this.addBorderIntersection(_t,mt.y),this.addBorderIntersection(_t,ct.y)}else{const _t=ct.y===0?2:3;this.addBorderIntersection(_t,mt.x),this.addBorderIntersection(_t,ct.x)}}centroid(){const ct=this.polyCount.reduce((mt,_t)=>mt+_t.edges,0);return ct!==0?this.acc.div(ct)._round():new dt(0,0)}span(){return new dt(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((ct,mt)=>ct+ +(mt[0]!==Number.MAX_VALUE),0)}}class by{constructor(ct){this.zoom=ct.zoom,this.canonical=ct.canonical,this.overscaling=ct.overscaling,this.layers=ct.layers,this.layerIds=this.layers.map(mt=>mt.id),this.index=ct.index,this.hasPattern=!1,this.projection=ct.projection,this.layoutVertexArray=new yo,this.centroidVertexArray=new _1,this.indexArray=new es,this.programConfigurations=new Rv(ct.layers,ct.zoom),this.segments=new ks,this.stateDependentLayerIds=this.layers.filter(mt=>mt.isStateDependent()).map(mt=>mt.id),this.enableTerrain=ct.enableTerrain}populate(ct,mt,_t,St){this.features=[],this.hasPattern=A_("fill-extrusion",this.layers,mt),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(At){const Mt=Math.exp(Math.PI*(1-At.y/(1<<At.z)*2));return 80150034*Mt/(Mt*Mt+1)/Ao/(1<<At.z)}(_t);for(const{feature:At,id:Mt,index:Dt,sourceLayerIndex:Nt}of ct){const Bt=this.layers[0]._featureFilter.needGeometry,Wt=Ov(At,Bt);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),Wt,_t))continue;const qt={id:Mt,sourceLayerIndex:Nt,index:Dt,geometry:Bt?Wt.geometry:vp(At,_t,St),properties:At.properties,type:At.type,patterns:{}},Xt=this.layoutVertexArray.length;this.hasPattern?this.features.push(P_("fill-extrusion",this.layers,qt,this.zoom,mt)):this.addFeature(qt,qt.geometry,Dt,_t,{},mt.availableImages,St),mt.featureIndex.insert(At,qt.geometry,Dt,Nt,this.index,Xt)}this.sortBorders()}addFeatures(ct,mt,_t,St,At){for(const Mt of this.features){const{geometry:Dt}=Mt;this.addFeature(Mt,Dt,Mt.index,mt,_t,St,At)}this.sortBorders()}update(ct,mt,_t,St){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(ct,mt,this.stateDependentLayers,_t,St)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(ct){this.uploaded||(this.layoutVertexBuffer=ct.createVertexBuffer(this.layoutVertexArray,$S),this.indexBuffer=ct.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=ct.createVertexBuffer(this.layoutVertexExtArray,PS.members,!0))),this.programConfigurations.upload(ct),this.uploaded=!0}uploadCentroid(ct){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=ct.createVertexBuffer(this.centroidVertexArray,AS.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(ct,mt,_t,St,At,Mt,Dt){const Nt=[new dt(0,0),new dt(Ao,Ao)],Bt=Dt.projection,Wt=Bt.name==="globe",qt=this.enableTerrain&&!Wt?new sx:null;Wt&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new s1);const Xt=E_(mt,500);for(let hr=Xt.length-1;hr>=0;hr--){const Sr=Xt[hr];(Sr.length===0||(ar=Sr[0]).every(Ar=>Ar.x<=0)||ar.every(Ar=>Ar.x>=Ao)||ar.every(Ar=>Ar.y<=0)||ar.every(Ar=>Ar.y>=Ao))&&Xt.splice(hr,1)}var ar;let lr;if(Wt)lr=ux(Xt,Nt,St);else{lr=[];for(const hr of Xt)lr.push({polygon:hr,bounds:Nt})}for(const hr of lr){const Sr=hr.polygon;let Ar=0,Vr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let _n=0;_n<Sr.length;_n++){const bn=Sr[_n];if(bn.length===0)continue;Ar+=bn.length;let Dn=0;qt&&qt.startRing(bn[0]);for(let jn=0;jn<bn.length;jn++){const dn=bn[jn];if(jn>=1){const An=bn[jn-1];if(!kS(dn,An,hr.bounds)){qt&&qt.append(dn,An),Vr.vertexLength+4>ks.MAX_VERTEX_ARRAY_LENGTH&&(Vr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Wn=dn.sub(An)._perp(),Kn=Wn.x/(Math.abs(Wn.x)+Math.abs(Wn.y)),eo=Wn.y>0?1:0,Un=An.dist(dn);Dn+Un>32768&&(Dn=0),_y(this.layoutVertexArray,dn.x,dn.y,Kn,eo,0,0,Dn),_y(this.layoutVertexArray,dn.x,dn.y,Kn,eo,0,1,Dn),Dn+=Un,_y(this.layoutVertexArray,An.x,An.y,Kn,eo,0,0,Dn),_y(this.layoutVertexArray,An.x,An.y,Kn,eo,0,1,Dn);const xa=Vr.vertexLength;if(this.indexArray.emplaceBack(xa,xa+2,xa+1),this.indexArray.emplaceBack(xa+1,xa+2,xa+3),Vr.vertexLength+=4,Vr.primitiveLength+=2,Wt){const No=this.layoutVertexExtArray,Bo=Bt.projectTilePoint(dn.x,dn.y,St),So=Bt.projectTilePoint(An.x,An.y,St),ao=Bt.upVector(St,dn.x,dn.y),jo=Bt.upVector(St,An.x,An.y);xy(No,Bo,ao),xy(No,Bo,ao),xy(No,So,jo),xy(No,So,jo)}}}}}if(Vr.vertexLength+Ar>ks.MAX_VERTEX_ARRAY_LENGTH&&(Vr=this.segments.prepareSegment(Ar,this.layoutVertexArray,this.indexArray)),LS[ct.type]!=="Polygon")continue;const Fr=[],jr=[],Wr=Vr.vertexLength;for(let _n=0;_n<Sr.length;_n++){const bn=Sr[_n];if(bn.length!==0){bn!==Sr[0]&&jr.push(Fr.length/2);for(let Dn=0;Dn<bn.length;Dn++){const jn=bn[Dn];_y(this.layoutVertexArray,jn.x,jn.y,0,0,1,1,0),Fr.push(jn.x),Fr.push(jn.y),qt&&qt.currentPolyCount.top++,Wt&&xy(this.layoutVertexExtArray,Bt.projectTilePoint(jn.x,jn.y,St),Bt.upVector(St,jn.x,jn.y))}}}const Yr=E0(Fr,jr);for(let _n=0;_n<Yr.length;_n+=3)this.indexArray.emplaceBack(Wr+Yr[_n],Wr+Yr[_n+2],Wr+Yr[_n+1]);Vr.primitiveLength+=Yr.length/3,Vr.vertexLength+=Ar}if(qt&&qt.polyCount.length>0){if(qt.borders){qt.vertexArrayOffset=this.centroidVertexArray.length;const hr=qt.borders,Sr=this.featuresOnBorder.push(qt)-1;for(let Ar=0;Ar<4;Ar++)hr[Ar][0]!==Number.MAX_VALUE&&this.borders[Ar].push(Sr)}this.encodeCentroid(qt.borders?void 0:qt.centroid(),qt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,ct,_t,At,Mt,St)}sortBorders(){for(let ct=0;ct<4;ct++)this.borders[ct].sort((mt,_t)=>this.featuresOnBorder[mt].borders[ct][0]-this.featuresOnBorder[_t].borders[ct][0])}encodeCentroid(ct,mt,_t=!0){let St,At;if(ct)if(ct.y!==0){const Dt=mt.span()._mult(this.tileToMeter);St=(Math.max(ct.x,1)<<3)+Math.min(7,Math.round(Dt.x/10)),At=(Math.max(ct.y,1)<<3)+Math.min(7,Math.round(Dt.y/10))}else St=Math.ceil(7*(ct.x+450)),At=0;else St=0,At=+_t;let Mt=_t?this.centroidVertexArray.length:mt.vertexArrayOffset;for(const Dt of mt.polyCount){_t&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*Dt.edges+Dt.top);for(let Nt=0;Nt<2*Dt.edges;Nt++)this.centroidVertexArray.emplace(Mt++,0,At),this.centroidVertexArray.emplace(Mt++,St,At);for(let Nt=0;Nt<Dt.top;Nt++)this.centroidVertexArray.emplace(Mt++,St,At)}}}function kS(pt,ct,mt){return pt.x===ct.x&&(pt.x<mt[0].x||pt.x>mt[1].x)||pt.y===ct.y&&(pt.y<mt[0].y||pt.y>mt[1].y)}function lx(){const pt=Math.PI/32,ct=Math.tan(pt),mt=s_;return mt*Math.sqrt(1+2*ct*ct)-mt}function ux(pt,ct,mt){const _t=1<<mt.z,St=$l(mt.x/_t),At=$l((mt.x+1)/_t),Mt=Gs(mt.y/_t),Dt=Gs((mt.y+1)/_t);return function(Nt,Bt,Wt,qt,Xt=0,ar){const lr=[];if(!Nt.length||!Wt||!qt)return lr;const hr=(Yr,_n)=>{for(const bn of Yr)lr.push({polygon:bn,bounds:_n})},Sr=Math.ceil(Math.log2(Wt)),Ar=Math.ceil(Math.log2(qt)),Vr=Sr-Ar,Fr=[];for(let Yr=0;Yr<Math.abs(Vr);Yr++)Fr.push(Vr>0?0:1);for(let Yr=0;Yr<Math.min(Sr,Ar);Yr++)Fr.push(0),Fr.push(1);let jr=Nt;if(jr=R0(jr,Bt[0].y-Xt,Bt[1].y+Xt,1),jr=R0(jr,Bt[0].x-Xt,Bt[1].x+Xt,0),!jr.length)return lr;const Wr=[];for(Fr.length?Wr.push({polygons:jr,bounds:Bt,depth:0}):hr(jr,Bt);Wr.length;){const Yr=Wr.pop(),_n=Yr.depth,bn=Fr[_n],Dn=Yr.bounds[0],jn=Yr.bounds[1],dn=bn===0?Dn.x:Dn.y,An=bn===0?jn.x:jn.y,Wn=ar?ar(bn,dn,An):.5*(dn+An),Kn=R0(Yr.polygons,dn-Xt,Wn+Xt,bn),eo=R0(Yr.polygons,Wn-Xt,An+Xt,bn);if(Kn.length){const Un=[Dn,new dt(bn===0?Wn:jn.x,bn===1?Wn:jn.y)];Fr.length>_n+1?Wr.push({polygons:Kn,bounds:Un,depth:_n+1}):hr(Kn,Un)}if(eo.length){const Un=[new dt(bn===0?Wn:Dn.x,bn===1?Wn:Dn.y),jn];Fr.length>_n+1?Wr.push({polygons:eo,bounds:Un,depth:_n+1}):hr(eo,Un)}}return lr}(pt,ct,Math.ceil((At-St)/11.25),Math.ceil((Mt-Dt)/11.25),1,(Nt,Bt,Wt)=>{if(Nt===0)return .5*(Bt+Wt);{const qt=Gs((mt.y+Bt/Ao)/_t);return(Lv(.5*(Gs((mt.y+Wt/Ao)/_t)+qt))*_t-mt.y)*Ao}})}ro(by,"FillExtrusionBucket",{omit:["layers","features"]}),ro(sx,"PartMetadata");var NS={paint:new Tn({"fill-extrusion-opacity":new hn(Ur["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kr(Ur["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new hn(Ur["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new hn(Ur["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new On(Ur["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kr(Ur["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kr(Ur["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new hn(Ur["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function cx(pt,ct,mt){var _t=2*Math.PI*6378137/256/Math.pow(2,mt);return[pt*_t-2*Math.PI*6378137/2,ct*_t-2*Math.PI*6378137/2]}class D0{constructor(ct,mt,_t){this.z=ct,this.x=mt,this.y=_t,this.key=Sy(0,ct,ct,mt,_t)}equals(ct){return this.z===ct.z&&this.x===ct.x&&this.y===ct.y}url(ct,mt){const _t=function(At,Mt,Dt){var Nt=cx(256*At,256*(Mt=Math.pow(2,Dt)-Mt-1),Dt),Bt=cx(256*(At+1),256*(Mt+1),Dt);return Nt[0]+","+Nt[1]+","+Bt[0]+","+Bt[1]}(this.x,this.y,this.z),St=function(At,Mt,Dt){let Nt,Bt="";for(let Wt=At;Wt>0;Wt--)Nt=1<<Wt-1,Bt+=(Mt&Nt?1:0)+(Dt&Nt?2:0);return Bt}(this.z,this.x,this.y);return ct[(this.x+this.y)%ct.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(mt==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",St).replace("{bbox-epsg-3857}",_t)}toString(){return`${this.z}/${this.x}/${this.y}`}}class fx{constructor(ct,mt){this.wrap=ct,this.canonical=mt,this.key=Sy(ct,mt.z,mt.z,mt.x,mt.y)}}class Il{constructor(ct,mt,_t,St,At){this.overscaledZ=ct,this.wrap=mt,this.canonical=new D0(_t,+St,+At),this.key=mt===0&&ct===_t?this.canonical.key:Sy(mt,ct,_t,St,At)}equals(ct){return this.overscaledZ===ct.overscaledZ&&this.wrap===ct.wrap&&this.canonical.equals(ct.canonical)}scaledTo(ct){const mt=this.canonical.z-ct;return ct>this.canonical.z?new Il(ct,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Il(ct,this.wrap,ct,this.canonical.x>>mt,this.canonical.y>>mt)}calculateScaledKey(ct,mt=!0){if(this.overscaledZ===ct&&mt)return this.key;if(ct>this.canonical.z)return Sy(this.wrap*+mt,ct,this.canonical.z,this.canonical.x,this.canonical.y);{const _t=this.canonical.z-ct;return Sy(this.wrap*+mt,ct,ct,this.canonical.x>>_t,this.canonical.y>>_t)}}isChildOf(ct){if(ct.wrap!==this.wrap)return!1;const mt=this.canonical.z-ct.canonical.z;return ct.overscaledZ===0||ct.overscaledZ<this.overscaledZ&&ct.canonical.x===this.canonical.x>>mt&&ct.canonical.y===this.canonical.y>>mt}children(ct){if(this.overscaledZ>=ct)return[new Il(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const mt=this.canonical.z+1,_t=2*this.canonical.x,St=2*this.canonical.y;return[new Il(mt,this.wrap,mt,_t,St),new Il(mt,this.wrap,mt,_t+1,St),new Il(mt,this.wrap,mt,_t,St+1),new Il(mt,this.wrap,mt,_t+1,St+1)]}isLessThan(ct){return this.wrap<ct.wrap||!(this.wrap>ct.wrap)&&(this.overscaledZ<ct.overscaledZ||!(this.overscaledZ>ct.overscaledZ)&&(this.canonical.x<ct.canonical.x||!(this.canonical.x>ct.canonical.x)&&this.canonical.y<ct.canonical.y))}wrapped(){return new Il(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(ct){return new Il(this.overscaledZ,ct,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new fx(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Sy(pt,ct,mt,_t,St){const At=1<<Math.min(mt,22);let Mt=At*(St%At)+_t%At;return pt&&mt<22&&(Mt+=At*At*((pt<0?-2*pt-1:2*pt)%(1<<2*(22-mt)))),16*(32*Mt+mt)+(ct-mt)}function wy(pt,ct){return pt.x*ct.x+pt.y*ct.y}function dx(pt,ct){if(pt.length===1){let mt=0;const _t=ct[mt++];let St;for(;!St||_t.equals(St);)if(St=ct[mt++],!St)return 1/0;for(;mt<ct.length;mt++){const At=ct[mt],Mt=pt[0],Dt=St.sub(_t),Nt=At.sub(_t),Bt=Mt.sub(_t),Wt=wy(Dt,Dt),qt=wy(Dt,Nt),Xt=wy(Nt,Nt),ar=wy(Bt,Dt),lr=wy(Bt,Nt),hr=Wt*Xt-qt*qt,Sr=(Xt*ar-qt*lr)/hr,Ar=(Wt*lr-qt*ar)/hr,Vr=_t.z*(1-Sr-Ar)+St.z*Sr+At.z*Ar;if(isFinite(Vr))return Vr}return 1/0}{let mt=1/0;for(const _t of ct)mt=Math.min(mt,_t.z);return mt}}function L0(pt){const ct=new dt(pt[0],pt[1]);return ct.z=pt[2],ct}function hx(pt,ct,mt,_t,St,At,Mt,Dt){const Nt=Mt*St.getElevationAt(pt,ct,!0,!0),Bt=At[0]!==0,Wt=Bt?At[1]===0?Mt*(At[0]/7-450):Mt*function(qt,Xt,ar){const lr=Math.floor(Xt[0]/8),hr=Math.floor(Xt[1]/8),Sr=10*(Xt[0]-8*lr),Ar=10*(Xt[1]-8*hr),Vr=qt.getElevationAt(lr,hr,!0,!0),Fr=qt.getMeterToDEM(ar),jr=Math.floor(.5*(Sr*Fr-1)),Wr=Math.floor(.5*(Ar*Fr-1)),Yr=qt.tileCoordToPixel(lr,hr),_n=2*jr+1,bn=2*Wr+1,Dn=function(eo,Un,xa,No,Bo){return[eo.getElevationAtPixel(Un,xa,!0),eo.getElevationAtPixel(Un+Bo,xa,!0),eo.getElevationAtPixel(Un,xa+Bo,!0),eo.getElevationAtPixel(Un+No,xa+Bo,!0)]}(qt,Yr.x-jr,Yr.y-Wr,_n,bn),jn=Math.abs(Dn[0]-Dn[1]),dn=Math.abs(Dn[2]-Dn[3]),An=Math.abs(Dn[0]-Dn[2])+Math.abs(Dn[1]-Dn[3]),Wn=Math.min(.25,.5*Fr*(jn+dn)/_n),Kn=Math.min(.25,.5*Fr*An/bn);return Vr+Math.max(Wn*Sr,Kn*Ar)}(St,At,Dt):Nt;return{base:Nt+(mt===0)?-1:mt,top:Bt?Math.max(Wt+_t,Nt+mt+2):Nt+_t}}ro(D0,"CanonicalTileID"),ro(Il,"OverscaledTileID",{omit:["projMatrix"]});const FS=Zn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:zS}=FS,BS=Zn([{name:"a_packed",components:4,type:"Float32"}]),{members:VS}=BS,US=zv.VectorTileFeature.types,jS=Math.cos(Math.PI/180*37.5);class O0{constructor(ct){this.zoom=ct.zoom,this.overscaling=ct.overscaling,this.layers=ct.layers,this.layerIds=this.layers.map(mt=>mt.id),this.index=ct.index,this.projection=ct.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(mt=>{this.gradients[mt.id]={}}),this.layoutVertexArray=new ko,this.layoutVertexArray2=new us,this.indexArray=new es,this.programConfigurations=new Rv(ct.layers,ct.zoom),this.segments=new ks,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(mt=>mt.isStateDependent()).map(mt=>mt.id)}populate(ct,mt,_t,St){this.hasPattern=A_("line",this.layers,mt);const At=this.layers[0].layout.get("line-sort-key"),Mt=[];for(const{feature:Wt,id:qt,index:Xt,sourceLayerIndex:ar}of ct){const lr=this.layers[0]._featureFilter.needGeometry,hr=Ov(Wt,lr);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),hr,_t))continue;const Sr=At?At.evaluate(hr,{},_t):void 0,Ar={id:qt,properties:Wt.properties,type:Wt.type,sourceLayerIndex:ar,index:Xt,geometry:lr?hr.geometry:vp(Wt,_t,St),patterns:{},sortKey:Sr};Mt.push(Ar)}At&&Mt.sort((Wt,qt)=>Wt.sortKey-qt.sortKey);const{lineAtlas:Dt,featureIndex:Nt}=mt,Bt=this.addConstantDashes(Dt);for(const Wt of Mt){const{geometry:qt,index:Xt,sourceLayerIndex:ar}=Wt;if(Bt&&this.addFeatureDashes(Wt,Dt),this.hasPattern){const lr=P_("line",this.layers,Wt,this.zoom,mt);this.patternFeatures.push(lr)}else this.addFeature(Wt,qt,Xt,_t,Dt.positions,mt.availableImages);Nt.insert(ct[Xt].feature,qt,Xt,ar,this.index)}}addConstantDashes(ct){let mt=!1;for(const _t of this.layers){const St=_t.paint.get("line-dasharray").value,At=_t.layout.get("line-cap").value;if(St.kind!=="constant"||At.kind!=="constant")mt=!0;else{const Mt=At.value,Dt=St.value;if(!Dt)continue;ct.addDash(Dt.from,Mt),ct.addDash(Dt.to,Mt),Dt.other&&ct.addDash(Dt.other,Mt)}}return mt}addFeatureDashes(ct,mt){const _t=this.zoom;for(const St of this.layers){const At=St.paint.get("line-dasharray").value,Mt=St.layout.get("line-cap").value;if(At.kind==="constant"&&Mt.kind==="constant")continue;let Dt,Nt,Bt,Wt,qt,Xt;if(At.kind==="constant"){const Sr=At.value;if(!Sr)continue;Dt=Sr.other||Sr.to,Nt=Sr.to,Bt=Sr.from}else Dt=At.evaluate({zoom:_t-1},ct),Nt=At.evaluate({zoom:_t},ct),Bt=At.evaluate({zoom:_t+1},ct);Mt.kind==="constant"?Wt=qt=Xt=Mt.value:(Wt=Mt.evaluate({zoom:_t-1},ct),qt=Mt.evaluate({zoom:_t},ct),Xt=Mt.evaluate({zoom:_t+1},ct)),mt.addDash(Dt,Wt),mt.addDash(Nt,qt),mt.addDash(Bt,Xt);const ar=mt.getKey(Dt,Wt),lr=mt.getKey(Nt,qt),hr=mt.getKey(Bt,Xt);ct.patterns[St.id]={min:ar,mid:lr,max:hr}}}update(ct,mt,_t,St){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(ct,mt,this.stateDependentLayers,_t,St)}addFeatures(ct,mt,_t,St,At){for(const Mt of this.patternFeatures)this.addFeature(Mt,Mt.geometry,Mt.index,mt,_t,St)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(ct){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=ct.createVertexBuffer(this.layoutVertexArray2,VS)),this.layoutVertexBuffer=ct.createVertexBuffer(this.layoutVertexArray,zS),this.indexBuffer=ct.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(ct),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(ct){if(ct.properties&&ct.properties.hasOwnProperty("mapbox_clip_start")&&ct.properties.hasOwnProperty("mapbox_clip_end"))return{start:+ct.properties.mapbox_clip_start,end:+ct.properties.mapbox_clip_end}}addFeature(ct,mt,_t,St,At,Mt){const Dt=this.layers[0].layout,Nt=Dt.get("line-join").evaluate(ct,{}),Bt=Dt.get("line-cap").evaluate(ct,{}),Wt=Dt.get("line-miter-limit"),qt=Dt.get("line-round-limit");this.lineClips=this.lineFeatureClips(ct);for(const Xt of mt)this.addLine(Xt,ct,Nt,Bt,Wt,qt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,ct,_t,At,Mt,St)}addLine(ct,mt,_t,St,At,Mt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ar=0;Ar<ct.length-1;Ar++)this.totalDistance+=ct[Ar].dist(ct[Ar+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Dt=US[mt.type]==="Polygon";let Nt=ct.length;for(;Nt>=2&&ct[Nt-1].equals(ct[Nt-2]);)Nt--;let Bt=0;for(;Bt<Nt-1&&ct[Bt].equals(ct[Bt+1]);)Bt++;if(Nt<(Dt?3:2))return;_t==="bevel"&&(At=1.05);const Wt=this.overscaling<=16?122880/(512*this.overscaling):0,qt=this.segments.prepareSegment(10*Nt,this.layoutVertexArray,this.indexArray);let Xt,ar,lr,hr,Sr;this.e1=this.e2=-1,Dt&&(Xt=ct[Nt-2],Sr=ct[Bt].sub(Xt)._unit()._perp());for(let Ar=Bt;Ar<Nt;Ar++){if(lr=Ar===Nt-1?Dt?ct[Bt+1]:void 0:ct[Ar+1],lr&&ct[Ar].equals(lr))continue;Sr&&(hr=Sr),Xt&&(ar=Xt),Xt=ct[Ar],Sr=lr?lr.sub(Xt)._unit()._perp():hr,hr=hr||Sr;let Vr=hr.add(Sr);Vr.x===0&&Vr.y===0||Vr._unit();const Fr=hr.x*Sr.x+hr.y*Sr.y,jr=Vr.x*Sr.x+Vr.y*Sr.y,Wr=jr!==0?1/jr:1/0,Yr=2*Math.sqrt(2-2*jr),_n=jr<jS&&ar&&lr,bn=hr.x*Sr.y-hr.y*Sr.x>0;if(_n&&Ar>Bt){const dn=Xt.dist(ar);if(dn>2*Wt){const An=Xt.sub(Xt.sub(ar)._mult(Wt/dn)._round());this.updateDistance(ar,An),this.addCurrentVertex(An,hr,0,0,qt),ar=An}}const Dn=ar&&lr;let jn=Dn?_t:Dt?"butt":St;if(Dn&&jn==="round"&&(Wr<Mt?jn="miter":Wr<=2&&(jn="fakeround")),jn==="miter"&&Wr>At&&(jn="bevel"),jn==="bevel"&&(Wr>2&&(jn="flipbevel"),Wr<At&&(jn="miter")),ar&&this.updateDistance(ar,Xt),jn==="miter")Vr._mult(Wr),this.addCurrentVertex(Xt,Vr,0,0,qt);else if(jn==="flipbevel"){if(Wr>100)Vr=Sr.mult(-1);else{const dn=Wr*hr.add(Sr).mag()/hr.sub(Sr).mag();Vr._perp()._mult(dn*(bn?-1:1))}this.addCurrentVertex(Xt,Vr,0,0,qt),this.addCurrentVertex(Xt,Vr.mult(-1),0,0,qt)}else if(jn==="bevel"||jn==="fakeround"){const dn=-Math.sqrt(Wr*Wr-1),An=bn?dn:0,Wn=bn?0:dn;if(ar&&this.addCurrentVertex(Xt,hr,An,Wn,qt),jn==="fakeround"){const Kn=Math.round(180*Yr/Math.PI/20);for(let eo=1;eo<Kn;eo++){let Un=eo/Kn;if(Un!==.5){const No=Un-.5;Un+=Un*No*(Un-1)*((1.0904+Fr*(Fr*(3.55645-1.43519*Fr)-3.2452))*No*No+(.848013+Fr*(.215638*Fr-1.06021)))}const xa=Sr.sub(hr)._mult(Un)._add(hr)._unit()._mult(bn?-1:1);this.addHalfVertex(Xt,xa.x,xa.y,!1,bn,0,qt)}}lr&&this.addCurrentVertex(Xt,Sr,-An,-Wn,qt)}else if(jn==="butt")this.addCurrentVertex(Xt,Vr,0,0,qt);else if(jn==="square"){const dn=ar?1:-1;ar||this.addCurrentVertex(Xt,Vr,dn,dn,qt),this.addCurrentVertex(Xt,Vr,0,0,qt),ar&&this.addCurrentVertex(Xt,Vr,dn,dn,qt)}else jn==="round"&&(ar&&(this.addCurrentVertex(Xt,hr,0,0,qt),this.addCurrentVertex(Xt,hr,1,1,qt,!0)),lr&&(this.addCurrentVertex(Xt,Sr,-1,-1,qt,!0),this.addCurrentVertex(Xt,Sr,0,0,qt)));if(_n&&Ar<Nt-1){const dn=Xt.dist(lr);if(dn>2*Wt){const An=Xt.add(lr.sub(Xt)._mult(Wt/dn)._round());this.updateDistance(Xt,An),this.addCurrentVertex(An,Sr,0,0,qt),Xt=An}}}}addCurrentVertex(ct,mt,_t,St,At,Mt=!1){const Dt=mt.y*St-mt.x,Nt=-mt.y-mt.x*St;this.addHalfVertex(ct,mt.x+mt.y*_t,mt.y-mt.x*_t,Mt,!1,_t,At),this.addHalfVertex(ct,Dt,Nt,Mt,!0,-St,At)}addHalfVertex({x:ct,y:mt},_t,St,At,Mt,Dt,Nt){this.layoutVertexArray.emplaceBack((ct<<1)+(At?1:0),(mt<<1)+(Mt?1:0),Math.round(63*_t)+128,Math.round(63*St)+128,1+(Dt===0?0:Dt<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const Bt=Nt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Bt),Nt.primitiveLength++),Mt?this.e2=Bt:this.e1=Bt}updateScaledDistance(){if(this.lineClips){const ct=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=ct*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(ct,mt){this.distance+=ct.dist(mt),this.updateScaledDistance()}}ro(O0,"LineBucket",{omit:["layers","patternFeatures"]});const GS=new Tn({"line-cap":new kr(Ur.layout_line["line-cap"]),"line-join":new kr(Ur.layout_line["line-join"]),"line-miter-limit":new hn(Ur.layout_line["line-miter-limit"]),"line-round-limit":new hn(Ur.layout_line["line-round-limit"]),"line-sort-key":new kr(Ur.layout_line["line-sort-key"])});var px={paint:new Tn({"line-opacity":new kr(Ur.paint_line["line-opacity"]),"line-color":new kr(Ur.paint_line["line-color"]),"line-translate":new hn(Ur.paint_line["line-translate"]),"line-translate-anchor":new hn(Ur.paint_line["line-translate-anchor"]),"line-width":new kr(Ur.paint_line["line-width"]),"line-gap-width":new kr(Ur.paint_line["line-gap-width"]),"line-offset":new kr(Ur.paint_line["line-offset"]),"line-blur":new kr(Ur.paint_line["line-blur"]),"line-dasharray":new On(Ur.paint_line["line-dasharray"]),"line-pattern":new On(Ur.paint_line["line-pattern"]),"line-gradient":new na(Ur.paint_line["line-gradient"]),"line-trim-offset":new hn(Ur.paint_line["line-trim-offset"])}),layout:GS};const vx=new class extends kr{possiblyEvaluate(pt,ct){return ct=new Cr(Math.floor(ct.zoom),{now:ct.now,fadeDuration:ct.fadeDuration,zoomHistory:ct.zoomHistory,transition:ct.transition}),super.possiblyEvaluate(pt,ct)}evaluate(pt,ct,mt,_t){return ct=jt({},ct,{zoom:Math.floor(ct.zoom)}),super.evaluate(pt,ct,mt,_t)}}(px.paint.properties["line-width"].specification);function mx(pt,ct){return ct>0?ct+2*pt:pt}vx.useIntegerZoom=!0;const HS=Zn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),WS=Zn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),KS=Zn([{name:"a_projected_pos",components:4,type:"Float32"}],4);Zn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const YS=Zn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),qS=Zn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Zn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const gx=Zn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ZS=Zn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Zn([{name:"triangle",components:3,type:"Uint16"}]),Zn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Zn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Zn([{type:"Float32",name:"offsetX"}]),Zn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Sl=24;const Wu=128;function $_(pt,ct){const{expression:mt}=ct;if(mt.kind==="constant")return{kind:"constant",layoutSize:mt.evaluate(new Cr(pt+1))};if(mt.kind==="source")return{kind:"source"};{const{zoomStops:_t,interpolationType:St}=mt;let At=0;for(;At<_t.length&&_t[At]<=pt;)At++;At=Math.max(0,At-1);let Mt=At;for(;Mt<_t.length&&_t[Mt]<pt+1;)Mt++;Mt=Math.min(_t.length-1,Mt);const Dt=_t[At],Nt=_t[Mt];return mt.kind==="composite"?{kind:"composite",minZoom:Dt,maxZoom:Nt,interpolationType:St}:{kind:"camera",minZoom:Dt,maxZoom:Nt,minSize:mt.evaluate(new Cr(Dt)),maxSize:mt.evaluate(new Cr(Nt)),interpolationType:St}}}function k0(pt,{uSize:ct,uSizeT:mt},{lowerSize:_t,upperSize:St}){return pt.kind==="source"?_t/Wu:pt.kind==="composite"?Yo(_t/Wu,St/Wu,mt):ct}function Mm(pt,ct){let mt=0,_t=0;if(pt.kind==="constant")_t=pt.layoutSize;else if(pt.kind!=="source"){const{interpolationType:St,minZoom:At,maxZoom:Mt}=pt,Dt=St?Ot(Vl.interpolationFactor(St,ct,At,Mt),0,1):0;pt.kind==="camera"?_t=Yo(pt.minSize,pt.maxSize,Dt):mt=Dt}return{uSizeT:mt,uSize:_t}}var XS=Object.freeze({__proto__:null,getSizeData:$_,evaluateSizeForFeature:k0,evaluateSizeForZoom:Mm,SIZE_PACK_FACTOR:Wu});function QS(pt,ct,mt){return pt.sections.forEach(_t=>{_t.text=function(St,At,Mt){const Dt=At.layout.get("text-transform").evaluate(Mt,{});return Dt==="uppercase"?St=St.toLocaleUpperCase():Dt==="lowercase"&&(St=St.toLocaleLowerCase()),_r.applyArabicShaping&&(St=_r.applyArabicShaping(St)),St}(_t.text,ct,mt)}),pt}const Cy={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};function JS(pt){return pt==="\uFE36"||pt==="\uFE48"||pt==="\uFE38"||pt==="\uFE44"||pt==="\uFE42"||pt==="\uFE3E"||pt==="\uFE3C"||pt==="\uFE3A"||pt==="\uFE18"||pt==="\uFE40"||pt==="\uFE10"||pt==="\uFE13"||pt==="\uFE14"||pt==="\uFF40"||pt==="\uFFE3"||pt==="\uFE11"||pt==="\uFE12"}function ew(pt){return pt==="\uFE35"||pt==="\uFE47"||pt==="\uFE37"||pt==="\uFE43"||pt==="\uFE41"||pt==="\uFE3D"||pt==="\uFE3B"||pt==="\uFE39"||pt==="\uFE17"||pt==="\uFE3F"}var yx=function(pt,ct,mt,_t,St){var At,Mt,Dt=8*St-_t-1,Nt=(1<<Dt)-1,Bt=Nt>>1,Wt=-7,qt=mt?St-1:0,Xt=mt?-1:1,ar=pt[ct+qt];for(qt+=Xt,At=ar&(1<<-Wt)-1,ar>>=-Wt,Wt+=Dt;Wt>0;At=256*At+pt[ct+qt],qt+=Xt,Wt-=8);for(Mt=At&(1<<-Wt)-1,At>>=-Wt,Wt+=_t;Wt>0;Mt=256*Mt+pt[ct+qt],qt+=Xt,Wt-=8);if(At===0)At=1-Bt;else{if(At===Nt)return Mt?NaN:1/0*(ar?-1:1);Mt+=Math.pow(2,_t),At-=Bt}return(ar?-1:1)*Mt*Math.pow(2,At-_t)},_x=function(pt,ct,mt,_t,St,At){var Mt,Dt,Nt,Bt=8*At-St-1,Wt=(1<<Bt)-1,qt=Wt>>1,Xt=St===23?Math.pow(2,-24)-Math.pow(2,-77):0,ar=_t?0:At-1,lr=_t?1:-1,hr=ct<0||ct===0&&1/ct<0?1:0;for(ct=Math.abs(ct),isNaN(ct)||ct===1/0?(Dt=isNaN(ct)?1:0,Mt=Wt):(Mt=Math.floor(Math.log(ct)/Math.LN2),ct*(Nt=Math.pow(2,-Mt))<1&&(Mt--,Nt*=2),(ct+=Mt+qt>=1?Xt/Nt:Xt*Math.pow(2,1-qt))*Nt>=2&&(Mt++,Nt/=2),Mt+qt>=Wt?(Dt=0,Mt=Wt):Mt+qt>=1?(Dt=(ct*Nt-1)*Math.pow(2,St),Mt+=qt):(Dt=ct*Math.pow(2,qt-1)*Math.pow(2,St),Mt=0));St>=8;pt[mt+ar]=255&Dt,ar+=lr,Dt/=256,St-=8);for(Mt=Mt<<St|Dt,Bt+=St;Bt>0;pt[mt+ar]=255&Mt,ar+=lr,Mt/=256,Bt-=8);pt[mt+ar-lr]|=128*hr},Ty=xs;function xs(pt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(pt)?pt:new Uint8Array(pt||0),this.pos=0,this.type=0,this.length=this.buf.length}xs.Varint=0,xs.Fixed64=1,xs.Bytes=2,xs.Fixed32=5;var M_=4294967296,xx=1/M_,bx=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function gp(pt){return pt.type===xs.Bytes?pt.readVarint()+pt.pos:pt.pos+1}function Im(pt,ct,mt){return mt?4294967296*ct+(pt>>>0):4294967296*(ct>>>0)+(pt>>>0)}function Sx(pt,ct,mt){var _t=ct<=16383?1:ct<=2097151?2:ct<=268435455?3:Math.floor(Math.log(ct)/(7*Math.LN2));mt.realloc(_t);for(var St=mt.pos-1;St>=pt;St--)mt.buf[St+_t]=mt.buf[St]}function tw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeVarint(pt[mt])}function rw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeSVarint(pt[mt])}function nw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeFloat(pt[mt])}function aw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeDouble(pt[mt])}function iw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeBoolean(pt[mt])}function ow(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeFixed32(pt[mt])}function sw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeSFixed32(pt[mt])}function lw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeFixed64(pt[mt])}function uw(pt,ct){for(var mt=0;mt<pt.length;mt++)ct.writeSFixed64(pt[mt])}function N0(pt,ct){return(pt[ct]|pt[ct+1]<<8|pt[ct+2]<<16)+16777216*pt[ct+3]}function Rm(pt,ct,mt){pt[mt]=ct,pt[mt+1]=ct>>>8,pt[mt+2]=ct>>>16,pt[mt+3]=ct>>>24}function Cx(pt,ct){return(pt[ct]|pt[ct+1]<<8|pt[ct+2]<<16)+(pt[ct+3]<<24)}function cw(pt,ct,mt){ct.glyphs=[],pt===1&&mt.readMessage(fw,ct)}function fw(pt,ct,mt){if(pt===3){const{id:_t,bitmap:St,width:At,height:Mt,left:Dt,top:Nt,advance:Bt}=mt.readMessage(dw,{});ct.glyphs.push({id:_t,bitmap:new mp({width:At+6,height:Mt+6},St),metrics:{width:At,height:Mt,left:Dt,top:Nt,advance:Bt}})}else pt===4?ct.ascender=mt.readSVarint():pt===5&&(ct.descender=mt.readSVarint())}function dw(pt,ct,mt){pt===1?ct.id=mt.readVarint():pt===2?ct.bitmap=mt.readBytes():pt===3?ct.width=mt.readVarint():pt===4?ct.height=mt.readVarint():pt===5?ct.left=mt.readSVarint():pt===6?ct.top=mt.readSVarint():pt===7&&(ct.advance=mt.readVarint())}function I_(pt){let ct=0,mt=0;for(const Mt of pt)ct+=Mt.w*Mt.h,mt=Math.max(mt,Mt.w);pt.sort((Mt,Dt)=>Dt.h-Mt.h);const _t=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(ct/.95)),mt),h:1/0}];let St=0,At=0;for(const Mt of pt)for(let Dt=_t.length-1;Dt>=0;Dt--){const Nt=_t[Dt];if(!(Mt.w>Nt.w||Mt.h>Nt.h)){if(Mt.x=Nt.x,Mt.y=Nt.y,At=Math.max(At,Mt.y+Mt.h),St=Math.max(St,Mt.x+Mt.w),Mt.w===Nt.w&&Mt.h===Nt.h){const Bt=_t.pop();Dt<_t.length&&(_t[Dt]=Bt)}else Mt.h===Nt.h?(Nt.x+=Mt.w,Nt.w-=Mt.w):Mt.w===Nt.w?(Nt.y+=Mt.h,Nt.h-=Mt.h):(_t.push({x:Nt.x+Mt.w,y:Nt.y,w:Nt.w-Mt.w,h:Mt.h}),Nt.y+=Mt.h,Nt.h-=Mt.h);break}}return{w:St,h:At,fill:ct/(St*At)||0}}xs.prototype={destroy:function(){this.buf=null},readFields:function(pt,ct,mt){for(mt=mt||this.length;this.pos<mt;){var _t=this.readVarint(),St=_t>>3,At=this.pos;this.type=7&_t,pt(St,ct,this),this.pos===At&&this.skip(_t)}return ct},readMessage:function(pt,ct){return this.readFields(pt,ct,this.readVarint()+this.pos)},readFixed32:function(){var pt=N0(this.buf,this.pos);return this.pos+=4,pt},readSFixed32:function(){var pt=Cx(this.buf,this.pos);return this.pos+=4,pt},readFixed64:function(){var pt=N0(this.buf,this.pos)+N0(this.buf,this.pos+4)*M_;return this.pos+=8,pt},readSFixed64:function(){var pt=N0(this.buf,this.pos)+Cx(this.buf,this.pos+4)*M_;return this.pos+=8,pt},readFloat:function(){var pt=yx(this.buf,this.pos,!0,23,4);return this.pos+=4,pt},readDouble:function(){var pt=yx(this.buf,this.pos,!0,52,8);return this.pos+=8,pt},readVarint:function(pt){var ct,mt,_t=this.buf;return ct=127&(mt=_t[this.pos++]),mt<128?ct:(ct|=(127&(mt=_t[this.pos++]))<<7,mt<128?ct:(ct|=(127&(mt=_t[this.pos++]))<<14,mt<128?ct:(ct|=(127&(mt=_t[this.pos++]))<<21,mt<128?ct:function(St,At,Mt){var Dt,Nt,Bt=Mt.buf;if(Dt=(112&(Nt=Bt[Mt.pos++]))>>4,Nt<128||(Dt|=(127&(Nt=Bt[Mt.pos++]))<<3,Nt<128)||(Dt|=(127&(Nt=Bt[Mt.pos++]))<<10,Nt<128)||(Dt|=(127&(Nt=Bt[Mt.pos++]))<<17,Nt<128)||(Dt|=(127&(Nt=Bt[Mt.pos++]))<<24,Nt<128)||(Dt|=(1&(Nt=Bt[Mt.pos++]))<<31,Nt<128))return Im(St,Dt,At);throw new Error("Expected varint not more than 10 bytes")}(ct|=(15&(mt=_t[this.pos]))<<28,pt,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var pt=this.readVarint();return pt%2==1?(pt+1)/-2:pt/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var pt=this.readVarint()+this.pos,ct=this.pos;return this.pos=pt,pt-ct>=12&&bx?function(mt,_t,St){return bx.decode(mt.subarray(_t,St))}(this.buf,ct,pt):function(mt,_t,St){for(var At="",Mt=_t;Mt<St;){var Dt,Nt,Bt,Wt=mt[Mt],qt=null,Xt=Wt>239?4:Wt>223?3:Wt>191?2:1;if(Mt+Xt>St)break;Xt===1?Wt<128&&(qt=Wt):Xt===2?(192&(Dt=mt[Mt+1]))==128&&(qt=(31&Wt)<<6|63&Dt)<=127&&(qt=null):Xt===3?(Nt=mt[Mt+2],(192&(Dt=mt[Mt+1]))==128&&(192&Nt)==128&&((qt=(15&Wt)<<12|(63&Dt)<<6|63&Nt)<=2047||qt>=55296&&qt<=57343)&&(qt=null)):Xt===4&&(Nt=mt[Mt+2],Bt=mt[Mt+3],(192&(Dt=mt[Mt+1]))==128&&(192&Nt)==128&&(192&Bt)==128&&((qt=(15&Wt)<<18|(63&Dt)<<12|(63&Nt)<<6|63&Bt)<=65535||qt>=1114112)&&(qt=null)),qt===null?(qt=65533,Xt=1):qt>65535&&(qt-=65536,At+=String.fromCharCode(qt>>>10&1023|55296),qt=56320|1023&qt),At+=String.fromCharCode(qt),Mt+=Xt}return At}(this.buf,ct,pt)},readBytes:function(){var pt=this.readVarint()+this.pos,ct=this.buf.subarray(this.pos,pt);return this.pos=pt,ct},readPackedVarint:function(pt,ct){if(this.type!==xs.Bytes)return pt.push(this.readVarint(ct));var mt=gp(this);for(pt=pt||[];this.pos<mt;)pt.push(this.readVarint(ct));return pt},readPackedSVarint:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readSVarint());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readSVarint());return pt},readPackedBoolean:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readBoolean());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readBoolean());return pt},readPackedFloat:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readFloat());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readFloat());return pt},readPackedDouble:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readDouble());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readDouble());return pt},readPackedFixed32:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readFixed32());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readFixed32());return pt},readPackedSFixed32:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readSFixed32());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readSFixed32());return pt},readPackedFixed64:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readFixed64());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readFixed64());return pt},readPackedSFixed64:function(pt){if(this.type!==xs.Bytes)return pt.push(this.readSFixed64());var ct=gp(this);for(pt=pt||[];this.pos<ct;)pt.push(this.readSFixed64());return pt},skip:function(pt){var ct=7&pt;if(ct===xs.Varint)for(;this.buf[this.pos++]>127;);else if(ct===xs.Bytes)this.pos=this.readVarint()+this.pos;else if(ct===xs.Fixed32)this.pos+=4;else{if(ct!==xs.Fixed64)throw new Error("Unimplemented type: "+ct);this.pos+=8}},writeTag:function(pt,ct){this.writeVarint(pt<<3|ct)},realloc:function(pt){for(var ct=this.length||16;ct<this.pos+pt;)ct*=2;if(ct!==this.length){var mt=new Uint8Array(ct);mt.set(this.buf),this.buf=mt,this.length=ct}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(pt){this.realloc(4),Rm(this.buf,pt,this.pos),this.pos+=4},writeSFixed32:function(pt){this.realloc(4),Rm(this.buf,pt,this.pos),this.pos+=4},writeFixed64:function(pt){this.realloc(8),Rm(this.buf,-1&pt,this.pos),Rm(this.buf,Math.floor(pt*xx),this.pos+4),this.pos+=8},writeSFixed64:function(pt){this.realloc(8),Rm(this.buf,-1&pt,this.pos),Rm(this.buf,Math.floor(pt*xx),this.pos+4),this.pos+=8},writeVarint:function(pt){(pt=+pt||0)>268435455||pt<0?function(ct,mt){var _t,St;if(ct>=0?(_t=ct%4294967296|0,St=ct/4294967296|0):(St=~(-ct/4294967296),4294967295^(_t=~(-ct%4294967296))?_t=_t+1|0:(_t=0,St=St+1|0)),ct>=0xffffffffffffffff||ct<-0xffffffffffffffff)throw new Error("Given varint doesn't fit into 10 bytes");mt.realloc(10),function(At,Mt,Dt){Dt.buf[Dt.pos++]=127&At|128,At>>>=7,Dt.buf[Dt.pos++]=127&At|128,At>>>=7,Dt.buf[Dt.pos++]=127&At|128,At>>>=7,Dt.buf[Dt.pos++]=127&At|128,Dt.buf[Dt.pos]=127&(At>>>=7)}(_t,0,mt),function(At,Mt){var Dt=(7&At)<<4;Mt.buf[Mt.pos++]|=Dt|((At>>>=3)?128:0),At&&(Mt.buf[Mt.pos++]=127&At|((At>>>=7)?128:0),At&&(Mt.buf[Mt.pos++]=127&At|((At>>>=7)?128:0),At&&(Mt.buf[Mt.pos++]=127&At|((At>>>=7)?128:0),At&&(Mt.buf[Mt.pos++]=127&At|((At>>>=7)?128:0),At&&(Mt.buf[Mt.pos++]=127&At)))))}(St,mt)}(pt,this):(this.realloc(4),this.buf[this.pos++]=127&pt|(pt>127?128:0),pt<=127||(this.buf[this.pos++]=127&(pt>>>=7)|(pt>127?128:0),pt<=127||(this.buf[this.pos++]=127&(pt>>>=7)|(pt>127?128:0),pt<=127||(this.buf[this.pos++]=pt>>>7&127))))},writeSVarint:function(pt){this.writeVarint(pt<0?2*-pt-1:2*pt)},writeBoolean:function(pt){this.writeVarint(Boolean(pt))},writeString:function(pt){pt=String(pt),this.realloc(4*pt.length),this.pos++;var ct=this.pos;this.pos=function(_t,St,At){for(var Mt,Dt,Nt=0;Nt<St.length;Nt++){if((Mt=St.charCodeAt(Nt))>55295&&Mt<57344){if(!Dt){Mt>56319||Nt+1===St.length?(_t[At++]=239,_t[At++]=191,_t[At++]=189):Dt=Mt;continue}if(Mt<56320){_t[At++]=239,_t[At++]=191,_t[At++]=189,Dt=Mt;continue}Mt=Dt-55296<<10|Mt-56320|65536,Dt=null}else Dt&&(_t[At++]=239,_t[At++]=191,_t[At++]=189,Dt=null);Mt<128?_t[At++]=Mt:(Mt<2048?_t[At++]=Mt>>6|192:(Mt<65536?_t[At++]=Mt>>12|224:(_t[At++]=Mt>>18|240,_t[At++]=Mt>>12&63|128),_t[At++]=Mt>>6&63|128),_t[At++]=63&Mt|128)}return At}(this.buf,pt,this.pos);var mt=this.pos-ct;mt>=128&&Sx(ct,mt,this),this.pos=ct-1,this.writeVarint(mt),this.pos+=mt},writeFloat:function(pt){this.realloc(4),_x(this.buf,pt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(pt){this.realloc(8),_x(this.buf,pt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(pt){var ct=pt.length;this.writeVarint(ct),this.realloc(ct);for(var mt=0;mt<ct;mt++)this.buf[this.pos++]=pt[mt]},writeRawMessage:function(pt,ct){this.pos++;var mt=this.pos;pt(ct,this);var _t=this.pos-mt;_t>=128&&Sx(mt,_t,this),this.pos=mt-1,this.writeVarint(_t),this.pos+=_t},writeMessage:function(pt,ct,mt){this.writeTag(pt,xs.Bytes),this.writeRawMessage(ct,mt)},writePackedVarint:function(pt,ct){ct.length&&this.writeMessage(pt,tw,ct)},writePackedSVarint:function(pt,ct){ct.length&&this.writeMessage(pt,rw,ct)},writePackedBoolean:function(pt,ct){ct.length&&this.writeMessage(pt,iw,ct)},writePackedFloat:function(pt,ct){ct.length&&this.writeMessage(pt,nw,ct)},writePackedDouble:function(pt,ct){ct.length&&this.writeMessage(pt,aw,ct)},writePackedFixed32:function(pt,ct){ct.length&&this.writeMessage(pt,ow,ct)},writePackedSFixed32:function(pt,ct){ct.length&&this.writeMessage(pt,sw,ct)},writePackedFixed64:function(pt,ct){ct.length&&this.writeMessage(pt,lw,ct)},writePackedSFixed64:function(pt,ct){ct.length&&this.writeMessage(pt,uw,ct)},writeBytesField:function(pt,ct){this.writeTag(pt,xs.Bytes),this.writeBytes(ct)},writeFixed32Field:function(pt,ct){this.writeTag(pt,xs.Fixed32),this.writeFixed32(ct)},writeSFixed32Field:function(pt,ct){this.writeTag(pt,xs.Fixed32),this.writeSFixed32(ct)},writeFixed64Field:function(pt,ct){this.writeTag(pt,xs.Fixed64),this.writeFixed64(ct)},writeSFixed64Field:function(pt,ct){this.writeTag(pt,xs.Fixed64),this.writeSFixed64(ct)},writeVarintField:function(pt,ct){this.writeTag(pt,xs.Varint),this.writeVarint(ct)},writeSVarintField:function(pt,ct){this.writeTag(pt,xs.Varint),this.writeSVarint(ct)},writeStringField:function(pt,ct){this.writeTag(pt,xs.Bytes),this.writeString(ct)},writeFloatField:function(pt,ct){this.writeTag(pt,xs.Fixed32),this.writeFloat(ct)},writeDoubleField:function(pt,ct){this.writeTag(pt,xs.Fixed64),this.writeDouble(ct)},writeBooleanField:function(pt,ct){this.writeVarintField(pt,Boolean(ct))}};class R_{constructor(ct,{pixelRatio:mt,version:_t,stretchX:St,stretchY:At,content:Mt}){this.paddedRect=ct,this.pixelRatio=mt,this.stretchX=St,this.stretchY=At,this.content=Mt,this.version=_t}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Tx{constructor(ct,mt){const _t={},St={};this.haveRenderCallbacks=[];const At=[];this.addImages(ct,_t,At),this.addImages(mt,St,At);const{w:Mt,h:Dt}=I_(At),Nt=new Xl({width:Mt||1,height:Dt||1});for(const Bt in ct){const Wt=ct[Bt],qt=_t[Bt].paddedRect;Xl.copy(Wt.data,Nt,{x:0,y:0},{x:qt.x+1,y:qt.y+1},Wt.data)}for(const Bt in mt){const Wt=mt[Bt],qt=St[Bt].paddedRect,Xt=qt.x+1,ar=qt.y+1,lr=Wt.data.width,hr=Wt.data.height;Xl.copy(Wt.data,Nt,{x:0,y:0},{x:Xt,y:ar},Wt.data),Xl.copy(Wt.data,Nt,{x:0,y:hr-1},{x:Xt,y:ar-1},{width:lr,height:1}),Xl.copy(Wt.data,Nt,{x:0,y:0},{x:Xt,y:ar+hr},{width:lr,height:1}),Xl.copy(Wt.data,Nt,{x:lr-1,y:0},{x:Xt-1,y:ar},{width:1,height:hr}),Xl.copy(Wt.data,Nt,{x:0,y:0},{x:Xt+lr,y:ar},{width:1,height:hr})}this.image=Nt,this.iconPositions=_t,this.patternPositions=St}addImages(ct,mt,_t){for(const St in ct){const At=ct[St],Mt={x:0,y:0,w:At.data.width+2,h:At.data.height+2};_t.push(Mt),mt[St]=new R_(Mt,At),At.hasRenderCallback&&this.haveRenderCallbacks.push(St)}}patchUpdatedImages(ct,mt){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(_t=>ct.hasImage(_t)),ct.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const _t in ct.updatedImages)this.patchUpdatedImage(this.iconPositions[_t],ct.getImage(_t),mt),this.patchUpdatedImage(this.patternPositions[_t],ct.getImage(_t),mt)}patchUpdatedImage(ct,mt,_t){if(!ct||!mt||ct.version===mt.version)return;ct.version=mt.version;const[St,At]=ct.tl;_t.update(mt.data,void 0,{x:St,y:At})}}ro(R_,"ImagePosition"),ro(Tx,"ImageAtlas");const fu={horizontal:1,vertical:2,horizontalOnly:3};class Ey{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(ct,mt){const _t=new Ey;return _t.scale=ct||1,_t.fontStack=mt,_t}static forImage(ct){const mt=new Ey;return mt.imageName=ct,mt}}class Dm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(ct,mt){const _t=new Dm;for(let St=0;St<ct.sections.length;St++){const At=ct.sections[St];At.image?_t.addImageSection(At):_t.addTextSection(At,mt)}return _t}length(){return this.text.length}getSection(ct){return this.sections[this.sectionIndex[ct]]}getSections(){return this.sections}getSectionIndex(ct){return this.sectionIndex[ct]}getCharCode(ct){return this.text.charCodeAt(ct)}verticalizePunctuation(ct){this.text=function(mt,_t){let St="";for(let At=0;At<mt.length;At++){const Mt=mt.charCodeAt(At+1)||null,Dt=mt.charCodeAt(At-1)||null;St+=!_t&&(Mt&&bt(Mt)&&!Cy[mt[At+1]]||Dt&&bt(Dt)&&!Cy[mt[At-1]])||!Cy[mt[At]]?mt[At]:Cy[mt[At]]}return St}(this.text,ct)}trim(){let ct=0;for(let _t=0;_t<this.text.length&&F0[this.text.charCodeAt(_t)];_t++)ct++;let mt=this.text.length;for(let _t=this.text.length-1;_t>=0&&_t>=ct&&F0[this.text.charCodeAt(_t)];_t--)mt--;this.text=this.text.substring(ct,mt),this.sectionIndex=this.sectionIndex.slice(ct,mt)}substring(ct,mt){const _t=new Dm;return _t.text=this.text.substring(ct,mt),_t.sectionIndex=this.sectionIndex.slice(ct,mt),_t.sections=this.sections,_t}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((ct,mt)=>Math.max(ct,this.sections[mt].scale),0)}addTextSection(ct,mt){this.text+=ct.text,this.sections.push(Ey.forText(ct.scale,ct.fontStack||mt));const _t=this.sections.length-1;for(let St=0;St<ct.text.length;++St)this.sectionIndex.push(_t)}addImageSection(ct){const mt=ct.image?ct.image.name:"";if(mt.length===0)return void wr("Can't add FormattedSection with an empty image.");const _t=this.getNextImageSectionCharCode();_t?(this.text+=String.fromCharCode(_t),this.sections.push(Ey.forImage(mt)),this.sectionIndex.push(this.sections.length-1)):wr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function D_(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr){const Sr=Dm.fromFeature(pt,St);let Ar;qt===fu.vertical&&Sr.verticalizePunctuation(Xt);const{processBidirectionalText:Vr,processStyledBidirectionalText:Fr}=_r;if(Vr&&Sr.sections.length===1){Ar=[];const Yr=Vr(Sr.toString(),L_(Sr,Bt,At,ct,_t,ar,lr));for(const _n of Yr){const bn=new Dm;bn.text=_n,bn.sections=Sr.sections;for(let Dn=0;Dn<_n.length;Dn++)bn.sectionIndex.push(0);Ar.push(bn)}}else if(Fr){Ar=[];const Yr=Fr(Sr.text,Sr.sectionIndex,L_(Sr,Bt,At,ct,_t,ar,lr));for(const _n of Yr){const bn=new Dm;bn.text=_n[0],bn.sectionIndex=_n[1],bn.sections=Sr.sections,Ar.push(bn)}}else Ar=function(Yr,_n){const bn=[],Dn=Yr.text;let jn=0;for(const dn of _n)bn.push(Yr.substring(jn,dn)),jn=dn;return jn<Dn.length&&bn.push(Yr.substring(jn,Dn.length)),bn}(Sr,L_(Sr,Bt,At,ct,_t,ar,lr));const jr=[],Wr={positionedLines:jr,text:Sr.toString(),top:Wt[1],bottom:Wt[1],left:Wt[0],right:Wt[0],writingMode:qt,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Yr,_n,bn,Dn,jn,dn,An,Wn,Kn,eo,Un,xa){let No=0,Bo=0,So=0;const ao=Wn==="right"?1:Wn==="left"?0:.5;let jo=!1;for(const Go of jn){const is=Go.getSections();for(const bs of is){if(bs.imageName)continue;const _s=_n[bs.fontStack];if(_s&&(jo=_s.ascender!==void 0&&_s.descender!==void 0,!jo))break}if(!jo)break}let zo=0;for(const Go of jn){Go.trim();const is=Go.getMaxScale(),bs=(is-1)*Sl,_s={positionedGlyphs:[],lineOffset:0};Yr.positionedLines[zo]=_s;const ms=_s.positionedGlyphs;let ws=0;if(!Go.length()){Bo+=dn,++zo;continue}let Ps=0,Js=0;for(let qo=0;qo<Go.length();qo++){const Ds=Go.getSection(qo),El=Go.getSectionIndex(qo),ds=Go.getCharCode(qo);let $s=Ds.scale,Dl=null,Es=null,Fs=null,yl=Sl,Xs=0;const Cl=!(Kn===fu.horizontal||!Un&&!ht(ds)||Un&&(F0[ds]||(go=ds,a0(go)||i0(go)||$v(go)||oy(go)||uy(go))));if(Ds.imageName){const Ll=Dn[Ds.imageName];if(!Ll)continue;Fs=Ds.imageName,Yr.iconsInText=Yr.iconsInText||!0,Es=Ll.paddedRect;const _l=Ll.displaySize;$s=$s*Sl/xa,Dl={width:_l[0],height:_l[1],left:1,top:-3,advance:Cl?_l[1]:_l[0],localGlyph:!1},Xs=jo?-Dl.height*$s:is*Sl-17-_l[1]*$s,yl=Dl.advance;const _p=(Cl?_l[0]:_l[1])*$s-Sl*is;_p>0&&_p>ws&&(ws=_p)}else{const Ll=bn[Ds.fontStack];if(!Ll)continue;Ll[ds]&&(Es=Ll[ds]);const _l=_n[Ds.fontStack];if(!_l)continue;const _p=_l.glyphs[ds];if(!_p)continue;if(Dl=_p.metrics,yl=ds!==8203?Sl:0,jo){const zm=_l.ascender!==void 0?Math.abs(_l.ascender):0,ky=_l.descender!==void 0?Math.abs(_l.descender):0,Ny=(zm+ky)*$s;Ps<Ny&&(Ps=Ny,Js=(zm-ky)/2*$s),Xs=-zm*$s}else Xs=(is-$s)*Sl-17}Cl?(Yr.verticalizable=!0,ms.push({glyph:ds,imageName:Fs,x:No,y:Bo+Xs,vertical:Cl,scale:$s,localGlyph:Dl.localGlyph,fontStack:Ds.fontStack,sectionIndex:El,metrics:Dl,rect:Es}),No+=yl*$s+eo):(ms.push({glyph:ds,imageName:Fs,x:No,y:Bo+Xs,vertical:Cl,scale:$s,localGlyph:Dl.localGlyph,fontStack:Ds.fontStack,sectionIndex:El,metrics:Dl,rect:Es}),No+=Dl.advance*$s+eo)}ms.length!==0&&(So=Math.max(No-eo,So),jo?Mx(ms,ao,ws,Js,dn*is/2):Mx(ms,ao,ws,0,dn/2)),No=0;const Gl=dn*is+ws;_s.lineOffset=Math.max(ws,bs),Bo+=Gl,++zo}var go;const Hs=Bo,{horizontalAlign:Ns,verticalAlign:Rs}=O_(An);(function(Go,is,bs,_s,ms,ws){const Ps=(is-bs)*ms,Js=-ws*_s;for(const Gl of Go)for(const qo of Gl.positionedGlyphs)qo.x+=Ps,qo.y+=Js})(Yr.positionedLines,ao,Ns,Rs,So,Hs),Yr.top+=-Rs*Hs,Yr.bottom=Yr.top+Hs,Yr.left+=-Ns*So,Yr.right=Yr.left+So,Yr.hasBaseline=jo}(Wr,ct,mt,_t,Ar,Mt,Dt,Nt,qt,Bt,Xt,hr),!function(Yr){for(const _n of Yr)if(_n.positionedGlyphs.length!==0)return!1;return!0}(jr)&&Wr}const F0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hw={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Ex(pt,ct,mt,_t,St,At){if(ct.imageName){const Mt=_t[ct.imageName];return Mt?Mt.displaySize[0]*ct.scale*Sl/At+St:0}{const Mt=mt[ct.fontStack],Dt=Mt&&Mt.glyphs[pt];return Dt?Dt.metrics.advance*ct.scale+St:0}}function Ax(pt,ct,mt,_t){const St=Math.pow(pt-ct,2);return _t?pt<ct?St/2:2*St:St+Math.abs(mt)*mt}function pw(pt,ct,mt){let _t=0;return pt===10&&(_t-=1e4),mt&&(_t+=150),pt!==40&&pt!==65288||(_t+=50),ct!==41&&ct!==65289||(_t+=50),_t}function Px(pt,ct,mt,_t,St,At){let Mt=null,Dt=Ax(ct,mt,St,At);for(const Nt of _t){const Bt=Ax(ct-Nt.x,mt,St,At)+Nt.badness;Bt<=Dt&&(Mt=Nt,Dt=Bt)}return{index:pt,x:ct,priorBreak:Mt,badness:Dt}}function $x(pt){return pt?$x(pt.priorBreak).concat(pt.index):[]}function L_(pt,ct,mt,_t,St,At,Mt){if(At!=="point")return[];if(!pt)return[];const Dt=[],Nt=function(Xt,ar,lr,hr,Sr,Ar){let Vr=0;for(let Fr=0;Fr<Xt.length();Fr++){const jr=Xt.getSection(Fr);Vr+=Ex(Xt.getCharCode(Fr),jr,hr,Sr,ar,Ar)}return Vr/Math.max(1,Math.ceil(Vr/lr))}(pt,ct,mt,_t,St,Mt),Bt=pt.text.indexOf("\u200B")>=0;let Wt=0;for(let Xt=0;Xt<pt.length();Xt++){const ar=pt.getSection(Xt),lr=pt.getCharCode(Xt);if(F0[lr]||(Wt+=Ex(lr,ar,_t,St,ct,Mt)),Xt<pt.length()-1){const hr=!((qt=lr)<11904||!(ry(qt)||ty(qt)||sy(qt)||f0(qt)||xm(qt)||o0(qt)||ny(qt)||mm(qt)||l0(qt)||iy(qt)||_m(qt)||cy(qt)||gm(qt)||Mv(qt)||s0(qt)||ay(qt)||ym(qt)||d0(qt)||bm(qt)||u0(qt)));(hw[lr]||hr||ar.imageName)&&Dt.push(Px(Xt+1,Wt,Nt,Dt,pw(lr,pt.getCharCode(Xt+1),hr&&Bt),!1))}}var qt;return $x(Px(pt.length(),Wt,Nt,Dt,0,!0))}function O_(pt){let ct=.5,mt=.5;switch(pt){case"right":case"top-right":case"bottom-right":ct=1;break;case"left":case"top-left":case"bottom-left":ct=0}switch(pt){case"bottom":case"bottom-right":case"bottom-left":mt=1;break;case"top":case"top-right":case"top-left":mt=0}return{horizontalAlign:ct,verticalAlign:mt}}function Mx(pt,ct,mt,_t,St){if(!(ct||mt||_t||St))return;const At=pt.length-1,Mt=pt[At],Dt=(Mt.x+Mt.metrics.advance*Mt.scale)*ct;for(let Nt=0;Nt<=At;Nt++)pt[Nt].x-=Dt,pt[Nt].y+=mt+_t+St}function vw(pt,ct,mt){const{horizontalAlign:_t,verticalAlign:St}=O_(mt),At=ct[0]-pt.displaySize[0]*_t,Mt=ct[1]-pt.displaySize[1]*St;return{image:pt,top:Mt,bottom:Mt+pt.displaySize[1],left:At,right:At+pt.displaySize[0]}}function Ix(pt,ct,mt,_t,St,At){const Mt=pt.image;let Dt;if(Mt.content){const Sr=Mt.content,Ar=Mt.pixelRatio||1;Dt=[Sr[0]/Ar,Sr[1]/Ar,Mt.displaySize[0]-Sr[2]/Ar,Mt.displaySize[1]-Sr[3]/Ar]}const Nt=ct.left*At,Bt=ct.right*At;let Wt,qt,Xt,ar;mt==="width"||mt==="both"?(ar=St[0]+Nt-_t[3],qt=St[0]+Bt+_t[1]):(ar=St[0]+(Nt+Bt-Mt.displaySize[0])/2,qt=ar+Mt.displaySize[0]);const lr=ct.top*At,hr=ct.bottom*At;return mt==="height"||mt==="both"?(Wt=St[1]+lr-_t[0],Xt=St[1]+hr+_t[2]):(Wt=St[1]+(lr+hr-Mt.displaySize[1])/2,Xt=Wt+Mt.displaySize[1]),{image:Mt,top:Wt,right:qt,bottom:Xt,left:ar,collisionPadding:Dt}}class yp extends dt{constructor(ct,mt,_t,St,At){super(ct,mt),this.angle=St,this.z=_t,At!==void 0&&(this.segment=At)}clone(){return new yp(this.x,this.y,this.z,this.angle,this.segment)}}function Rx(pt,ct,mt,_t,St){if(ct.segment===void 0)return!0;let At=ct,Mt=ct.segment+1,Dt=0;for(;Dt>-mt/2;){if(Mt--,Mt<0)return!1;Dt-=pt[Mt].dist(At),At=pt[Mt]}Dt+=pt[Mt].dist(pt[Mt+1]),Mt++;const Nt=[];let Bt=0;for(;Dt<mt/2;){const Wt=pt[Mt],qt=pt[Mt+1];if(!qt)return!1;let Xt=pt[Mt-1].angleTo(Wt)-Wt.angleTo(qt);for(Xt=Math.abs((Xt+3*Math.PI)%(2*Math.PI)-Math.PI),Nt.push({distance:Dt,angleDelta:Xt}),Bt+=Xt;Dt-Nt[0].distance>_t;)Bt-=Nt.shift().angleDelta;if(Bt>St)return!1;Mt++,Dt+=Wt.dist(qt)}return!0}function Dx(pt){let ct=0;for(let mt=0;mt<pt.length-1;mt++)ct+=pt[mt].dist(pt[mt+1]);return ct}function Lx(pt,ct,mt){return pt?.6*ct*mt:0}function Ox(pt,ct){return Math.max(pt?pt.right-pt.left:0,ct?ct.right-ct.left:0)}function mw(pt,ct,mt,_t,St,At){const Mt=Lx(mt,St,At),Dt=Ox(mt,_t)*At;let Nt=0;const Bt=Dx(pt)/2;for(let Wt=0;Wt<pt.length-1;Wt++){const qt=pt[Wt],Xt=pt[Wt+1],ar=qt.dist(Xt);if(Nt+ar>Bt){const lr=(Bt-Nt)/ar,hr=Yo(qt.x,Xt.x,lr),Sr=Yo(qt.y,Xt.y,lr),Ar=new yp(hr,Sr,0,Xt.angleTo(qt),Wt);return!Mt||Rx(pt,Ar,Dt,Mt,ct)?Ar:void 0}Nt+=ar}}function gw(pt,ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=Lx(_t,At,Mt),Wt=Ox(_t,St),qt=Wt*Mt,Xt=pt[0].x===0||pt[0].x===Nt||pt[0].y===0||pt[0].y===Nt;return ct-qt<ct/4&&(ct=qt+ct/4),kx(pt,Xt?ct/2*Dt%ct:(Wt/2+2*At)*Mt*Dt%ct,ct,Bt,mt,qt,Xt,!1,Nt)}function kx(pt,ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=At/2,Wt=Dx(pt);let qt=0,Xt=ct-mt,ar=[];for(let lr=0;lr<pt.length-1;lr++){const hr=pt[lr],Sr=pt[lr+1],Ar=hr.dist(Sr),Vr=Sr.angleTo(hr);for(;Xt+mt<qt+Ar;){Xt+=mt;const Fr=(Xt-qt)/Ar,jr=Yo(hr.x,Sr.x,Fr),Wr=Yo(hr.y,Sr.y,Fr);if(jr>=0&&jr<Nt&&Wr>=0&&Wr<Nt&&Xt-Bt>=0&&Xt+Bt<=Wt){const Yr=new yp(jr,Wr,0,Vr,lr);Yr._round(),_t&&!Rx(pt,Yr,At,_t,St)||ar.push(Yr)}}qt+=Ar}return Dt||ar.length||Mt||(ar=kx(pt,qt/2,mt,_t,St,At,Mt,!0,Nt)),ar}function Nx(pt,ct,mt,_t,St){const At=[];for(let Mt=0;Mt<pt.length;Mt++){const Dt=pt[Mt];let Nt;for(let Bt=0;Bt<Dt.length-1;Bt++){let Wt=Dt[Bt],qt=Dt[Bt+1];Wt.x<ct&&qt.x<ct||(Wt.x<ct?Wt=new dt(ct,Wt.y+(ct-Wt.x)/(qt.x-Wt.x)*(qt.y-Wt.y))._round():qt.x<ct&&(qt=new dt(ct,Wt.y+(ct-Wt.x)/(qt.x-Wt.x)*(qt.y-Wt.y))._round()),Wt.y<mt&&qt.y<mt||(Wt.y<mt?Wt=new dt(Wt.x+(mt-Wt.y)/(qt.y-Wt.y)*(qt.x-Wt.x),mt)._round():qt.y<mt&&(qt=new dt(Wt.x+(mt-Wt.y)/(qt.y-Wt.y)*(qt.x-Wt.x),mt)._round()),Wt.x>=_t&&qt.x>=_t||(Wt.x>=_t?Wt=new dt(_t,Wt.y+(_t-Wt.x)/(qt.x-Wt.x)*(qt.y-Wt.y))._round():qt.x>=_t&&(qt=new dt(_t,Wt.y+(_t-Wt.x)/(qt.x-Wt.x)*(qt.y-Wt.y))._round()),Wt.y>=St&&qt.y>=St||(Wt.y>=St?Wt=new dt(Wt.x+(St-Wt.y)/(qt.y-Wt.y)*(qt.x-Wt.x),St)._round():qt.y>=St&&(qt=new dt(Wt.x+(St-Wt.y)/(qt.y-Wt.y)*(qt.x-Wt.x),St)._round()),Nt&&Wt.equals(Nt[Nt.length-1])||(Nt=[Wt],At.push(Nt)),Nt.push(qt)))))}}return At}ro(yp,"Anchor");const Ay=1e20;function Fx(pt,ct,mt,_t,St,At,Mt,Dt,Nt){for(let Bt=ct;Bt<ct+_t;Bt++)zx(pt,mt*At+Bt,At,St,Mt,Dt,Nt);for(let Bt=mt;Bt<mt+St;Bt++)zx(pt,Bt*At+ct,1,_t,Mt,Dt,Nt)}function zx(pt,ct,mt,_t,St,At,Mt){At[0]=0,Mt[0]=-Ay,Mt[1]=Ay,St[0]=pt[ct];for(let Dt=1,Nt=0,Bt=0;Dt<_t;Dt++){St[Dt]=pt[ct+Dt*mt];const Wt=Dt*Dt;do{const qt=At[Nt];Bt=(St[Dt]-St[qt]+Wt-qt*qt)/(Dt-qt)/2}while(Bt<=Mt[Nt]&&--Nt>-1);Nt++,At[Nt]=Dt,Mt[Nt]=Bt,Mt[Nt+1]=Ay}for(let Dt=0,Nt=0;Dt<_t;Dt++){for(;Mt[Nt+1]<Dt;)Nt++;const Bt=At[Nt],Wt=Dt-Bt;pt[ct+Dt*mt]=St[Bt]+Wt*Wt}}const k_={none:0,ideographs:1,all:2};class Lm{constructor(ct,mt,_t){this.requestManager=ct,this.localGlyphMode=mt,this.localFontFamily=_t,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(ct){this.url=ct}getGlyphs(ct,mt){const _t=[];for(const St in ct)for(const At of ct[St])_t.push({stack:St,id:At});zt(_t,({stack:St,id:At},Mt)=>{let Dt=this.entries[St];Dt||(Dt=this.entries[St]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let Nt=Dt.glyphs[At];if(Nt!==void 0)return void Mt(null,{stack:St,id:At,glyph:Nt});if(Nt=this._tinySDF(Dt,St,At),Nt)return Dt.glyphs[At]=Nt,void Mt(null,{stack:St,id:At,glyph:Nt});const Bt=Math.floor(At/256);if(256*Bt>65535)return void Mt(new Error("glyphs > 65535 not supported"));if(Dt.ranges[Bt])return void Mt(null,{stack:St,id:At,glyph:Nt});let Wt=Dt.requests[Bt];Wt||(Wt=Dt.requests[Bt]=[],Lm.loadGlyphRange(St,Bt,this.url,this.requestManager,(qt,Xt)=>{if(Xt){Dt.ascender=Xt.ascender,Dt.descender=Xt.descender;for(const ar in Xt.glyphs)this._doesCharSupportLocalGlyph(+ar)||(Dt.glyphs[+ar]=Xt.glyphs[+ar]);Dt.ranges[Bt]=!0}for(const ar of Wt)ar(qt,Xt);delete Dt.requests[Bt]})),Wt.push((qt,Xt)=>{qt?Mt(qt):Xt&&Mt(null,{stack:St,id:At,glyph:Xt.glyphs[At]||null})})},(St,At)=>{if(St)mt(St);else if(At){const Mt={};for(const{stack:Dt,id:Nt,glyph:Bt}of At)Mt[Dt]===void 0&&(Mt[Dt]={}),Mt[Dt].glyphs===void 0&&(Mt[Dt].glyphs={}),Mt[Dt].glyphs[Nt]=Bt&&{id:Bt.id,bitmap:Bt.bitmap.clone(),metrics:Bt.metrics},Mt[Dt].ascender=this.entries[Dt].ascender,Mt[Dt].descender=this.entries[Dt].descender;mt(null,Mt)}})}_doesCharSupportLocalGlyph(ct){return this.localGlyphMode!==k_.none&&(this.localGlyphMode===k_.all?!!this.localFontFamily:!!this.localFontFamily&&(iy(ct)||c0(ct)||gm(ct)||ym(ct)||mm(ct)))}_tinySDF(ct,mt,_t){const St=this.localFontFamily;if(!St||!this._doesCharSupportLocalGlyph(_t))return;let At=ct.tinySDF;if(!At){let hr="400";/bold/i.test(mt)?hr="900":/medium/i.test(mt)?hr="500":/light/i.test(mt)&&(hr="200"),At=ct.tinySDF=new Lm.TinySDF({fontFamily:St,fontWeight:hr,fontSize:48,buffer:6,radius:16}),At.fontWeight=hr}if(this.localGlyphs[At.fontWeight][_t])return this.localGlyphs[At.fontWeight][_t];const Mt=String.fromCharCode(_t),{data:Dt,width:Nt,height:Bt,glyphWidth:Wt,glyphHeight:qt,glyphLeft:Xt,glyphTop:ar,glyphAdvance:lr}=At.draw(Mt);return this.localGlyphs[At.fontWeight][_t]={id:_t,bitmap:new mp({width:Nt,height:Bt},Dt),metrics:{width:Wt/2,height:qt/2,left:Xt/2,top:ar/2-27,advance:lr/2,localGlyph:!0}}}}function Bx(pt,ct,mt,_t){const St=[],At=pt.image,Mt=At.pixelRatio,Dt=At.paddedRect.w-2,Nt=At.paddedRect.h-2,Bt=pt.right-pt.left,Wt=pt.bottom-pt.top,qt=At.stretchX||[[0,Dt]],Xt=At.stretchY||[[0,Nt]],ar=(dn,An)=>dn+An[1]-An[0],lr=qt.reduce(ar,0),hr=Xt.reduce(ar,0),Sr=Dt-lr,Ar=Nt-hr;let Vr=0,Fr=lr,jr=0,Wr=hr,Yr=0,_n=Sr,bn=0,Dn=Ar;if(At.content&&_t){const dn=At.content;Vr=z0(qt,0,dn[0]),jr=z0(Xt,0,dn[1]),Fr=z0(qt,dn[0],dn[2]),Wr=z0(Xt,dn[1],dn[3]),Yr=dn[0]-Vr,bn=dn[1]-jr,_n=dn[2]-dn[0]-Fr,Dn=dn[3]-dn[1]-Wr}const jn=(dn,An,Wn,Kn)=>{const eo=B0(dn.stretch-Vr,Fr,Bt,pt.left),Un=V0(dn.fixed-Yr,_n,dn.stretch,lr),xa=B0(An.stretch-jr,Wr,Wt,pt.top),No=V0(An.fixed-bn,Dn,An.stretch,hr),Bo=B0(Wn.stretch-Vr,Fr,Bt,pt.left),So=V0(Wn.fixed-Yr,_n,Wn.stretch,lr),ao=B0(Kn.stretch-jr,Wr,Wt,pt.top),jo=V0(Kn.fixed-bn,Dn,Kn.stretch,hr),zo=new dt(eo,xa),go=new dt(Bo,xa),Hs=new dt(Bo,ao),Ns=new dt(eo,ao),Rs=new dt(Un/Mt,No/Mt),Go=new dt(So/Mt,jo/Mt),is=ct*Math.PI/180;if(is){const ms=Math.sin(is),ws=Math.cos(is),Ps=[ws,-ms,ms,ws];zo._matMult(Ps),go._matMult(Ps),Ns._matMult(Ps),Hs._matMult(Ps)}const bs=dn.stretch+dn.fixed,_s=An.stretch+An.fixed;return{tl:zo,tr:go,bl:Ns,br:Hs,tex:{x:At.paddedRect.x+1+bs,y:At.paddedRect.y+1+_s,w:Wn.stretch+Wn.fixed-bs,h:Kn.stretch+Kn.fixed-_s},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Rs,pixelOffsetBR:Go,minFontScaleX:_n/Mt/Bt,minFontScaleY:Dn/Mt/Wt,isSDF:mt}};if(_t&&(At.stretchX||At.stretchY)){const dn=Vx(qt,Sr,lr),An=Vx(Xt,Ar,hr);for(let Wn=0;Wn<dn.length-1;Wn++){const Kn=dn[Wn],eo=dn[Wn+1];for(let Un=0;Un<An.length-1;Un++)St.push(jn(Kn,An[Un],eo,An[Un+1]))}}else St.push(jn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Dt+1},{fixed:0,stretch:Nt+1}));return St}function z0(pt,ct,mt){let _t=0;for(const St of pt)_t+=Math.max(ct,Math.min(mt,St[1]))-Math.max(ct,Math.min(mt,St[0]));return _t}function Vx(pt,ct,mt){const _t=[{fixed:-1,stretch:0}];for(const[St,At]of pt){const Mt=_t[_t.length-1];_t.push({fixed:St-Mt.stretch,stretch:Mt.stretch}),_t.push({fixed:St-Mt.stretch,stretch:Mt.stretch+(At-St)})}return _t.push({fixed:ct+1,stretch:mt}),_t}function B0(pt,ct,mt,_t){return pt/ct*mt+_t}function V0(pt,ct,mt,_t){return pt-ct*mt/_t}function yw(pt,ct,mt,_t){const St=ct+pt.positionedLines[_t].lineOffset;return _t===0?mt+St/2:mt+(St+(ct+pt.positionedLines[_t-1].lineOffset))/2}Lm.loadGlyphRange=function(pt,ct,mt,_t,St){const At=256*ct,Mt=At+255,Dt=_t.transformRequest(_t.normalizeGlyphsURL(mt).replace("{fontstack}",pt).replace("{range}",`${At}-${Mt}`),Er.Glyphs);Or(Dt,(Nt,Bt)=>{if(Nt)St(Nt);else if(Bt){const Wt={},qt=function(Xt){return new Ty(Xt).readFields(cw,{})}(Bt);for(const Xt of qt.glyphs)Wt[Xt.id]=Xt;St(null,{glyphs:Wt,ascender:qt.ascender,descender:qt.descender})}})},Lm.TinySDF=class{constructor({fontSize:pt=24,buffer:ct=3,radius:mt=8,cutoff:_t=.25,fontFamily:St="sans-serif",fontWeight:At="normal",fontStyle:Mt="normal"}={}){this.buffer=ct,this.cutoff=_t,this.radius=mt;const Dt=this.size=pt+4*ct,Nt=this._createCanvas(Dt),Bt=this.ctx=Nt.getContext("2d",{willReadFrequently:!0});Bt.font=`${Mt} ${At} ${pt}px ${St}`,Bt.textBaseline="alphabetic",Bt.textAlign="left",Bt.fillStyle="black",this.gridOuter=new Float64Array(Dt*Dt),this.gridInner=new Float64Array(Dt*Dt),this.f=new Float64Array(Dt),this.z=new Float64Array(Dt+1),this.v=new Uint16Array(Dt)}_createCanvas(pt){const ct=document.createElement("canvas");return ct.width=ct.height=pt,ct}draw(pt){const{width:ct,actualBoundingBoxAscent:mt,actualBoundingBoxDescent:_t,actualBoundingBoxLeft:St,actualBoundingBoxRight:At}=this.ctx.measureText(pt),Mt=Math.ceil(mt),Dt=Math.min(this.size-this.buffer,Math.ceil(At-St)),Nt=Math.min(this.size-this.buffer,Mt+Math.ceil(_t)),Bt=Dt+2*this.buffer,Wt=Nt+2*this.buffer,qt=Math.max(Bt*Wt,0),Xt=new Uint8ClampedArray(qt),ar={data:Xt,width:Bt,height:Wt,glyphWidth:Dt,glyphHeight:Nt,glyphTop:Mt,glyphLeft:0,glyphAdvance:ct};if(Dt===0||Nt===0)return ar;const{ctx:lr,buffer:hr,gridInner:Sr,gridOuter:Ar}=this;lr.clearRect(hr,hr,Dt,Nt),lr.fillText(pt,hr,hr+Mt);const Vr=lr.getImageData(hr,hr,Dt,Nt);Ar.fill(Ay,0,qt),Sr.fill(0,0,qt);for(let Fr=0;Fr<Nt;Fr++)for(let jr=0;jr<Dt;jr++){const Wr=Vr.data[4*(Fr*Dt+jr)+3]/255;if(Wr===0)continue;const Yr=(Fr+hr)*Bt+jr+hr;if(Wr===1)Ar[Yr]=0,Sr[Yr]=Ay;else{const _n=.5-Wr;Ar[Yr]=_n>0?_n*_n:0,Sr[Yr]=_n<0?_n*_n:0}}Fx(Ar,0,0,Bt,Wt,Bt,this.f,this.v,this.z),Fx(Sr,hr,hr,Dt,Nt,Bt,this.f,this.v,this.z);for(let Fr=0;Fr<qt;Fr++){const jr=Math.sqrt(Ar[Fr])-Math.sqrt(Sr[Fr]);Xt[Fr]=Math.round(255-255*(jr/this.radius+this.cutoff))}return ar}};class _w{constructor(ct=[],mt=xw){if(this.data=ct,this.length=this.data.length,this.compare=mt,this.length>0)for(let _t=(this.length>>1)-1;_t>=0;_t--)this._down(_t)}push(ct){this.data.push(ct),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const ct=this.data[0],mt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=mt,this._down(0)),ct}peek(){return this.data[0]}_up(ct){const{data:mt,compare:_t}=this,St=mt[ct];for(;ct>0;){const At=ct-1>>1,Mt=mt[At];if(_t(St,Mt)>=0)break;mt[ct]=Mt,ct=At}mt[ct]=St}_down(ct){const{data:mt,compare:_t}=this,St=this.length>>1,At=mt[ct];for(;ct<St;){let Mt=1+(ct<<1),Dt=mt[Mt];const Nt=Mt+1;if(Nt<this.length&&_t(mt[Nt],Dt)<0&&(Mt=Nt,Dt=mt[Nt]),_t(Dt,At)>=0)break;mt[ct]=Dt,ct=Mt}mt[ct]=At}}function xw(pt,ct){return pt<ct?-1:pt>ct?1:0}function bw(pt,ct=1,mt=!1){let _t=1/0,St=1/0,At=-1/0,Mt=-1/0;const Dt=pt[0];for(let ar=0;ar<Dt.length;ar++){const lr=Dt[ar];(!ar||lr.x<_t)&&(_t=lr.x),(!ar||lr.y<St)&&(St=lr.y),(!ar||lr.x>At)&&(At=lr.x),(!ar||lr.y>Mt)&&(Mt=lr.y)}const Nt=Math.min(At-_t,Mt-St);let Bt=Nt/2;const Wt=new _w([],Sw);if(Nt===0)return new dt(_t,St);for(let ar=_t;ar<At;ar+=Nt)for(let lr=St;lr<Mt;lr+=Nt)Wt.push(new Om(ar+Bt,lr+Bt,Bt,pt));let qt=function(ar){let lr=0,hr=0,Sr=0;const Ar=ar[0];for(let Vr=0,Fr=Ar.length,jr=Fr-1;Vr<Fr;jr=Vr++){const Wr=Ar[Vr],Yr=Ar[jr],_n=Wr.x*Yr.y-Yr.x*Wr.y;hr+=(Wr.x+Yr.x)*_n,Sr+=(Wr.y+Yr.y)*_n,lr+=3*_n}return new Om(hr/lr,Sr/lr,0,ar)}(pt),Xt=Wt.length;for(;Wt.length;){const ar=Wt.pop();(ar.d>qt.d||!qt.d)&&(qt=ar,mt&&console.log("found best %d after %d probes",Math.round(1e4*ar.d)/1e4,Xt)),ar.max-qt.d<=ct||(Bt=ar.h/2,Wt.push(new Om(ar.p.x-Bt,ar.p.y-Bt,Bt,pt)),Wt.push(new Om(ar.p.x+Bt,ar.p.y-Bt,Bt,pt)),Wt.push(new Om(ar.p.x-Bt,ar.p.y+Bt,Bt,pt)),Wt.push(new Om(ar.p.x+Bt,ar.p.y+Bt,Bt,pt)),Xt+=4)}return mt&&(console.log(`num probes: ${Xt}`),console.log(`best distance: ${qt.d}`)),qt.p}function Sw(pt,ct){return ct.max-pt.max}function Om(pt,ct,mt,_t){this.p=new dt(pt,ct),this.h=mt,this.d=function(St,At){let Mt=!1,Dt=1/0;for(let Nt=0;Nt<At.length;Nt++){const Bt=At[Nt];for(let Wt=0,qt=Bt.length,Xt=qt-1;Wt<qt;Xt=Wt++){const ar=Bt[Wt],lr=Bt[Xt];ar.y>St.y!=lr.y>St.y&&St.x<(lr.x-ar.x)*(St.y-ar.y)/(lr.y-ar.y)+ar.x&&(Mt=!Mt),Dt=Math.min(Dt,D1(St,ar,lr))}}return(Mt?1:-1)*Math.sqrt(Dt)}(this.p,_t),this.max=this.d+this.h*Math.SQRT2}const N_=Number.POSITIVE_INFINITY,ww=Math.sqrt(2);function Ux(pt,ct){return ct[1]!==N_?function(mt,_t,St){let At=0,Mt=0;switch(_t=Math.abs(_t),St=Math.abs(St),mt){case"top-right":case"top-left":case"top":Mt=St-7;break;case"bottom-right":case"bottom-left":case"bottom":Mt=7-St}switch(mt){case"top-right":case"bottom-right":case"right":At=-_t;break;case"top-left":case"bottom-left":case"left":At=_t}return[At,Mt]}(pt,ct[0],ct[1]):function(mt,_t){let St=0,At=0;_t<0&&(_t=0);const Mt=_t/ww;switch(mt){case"top-right":case"top-left":At=Mt-7;break;case"bottom-right":case"bottom-left":At=7-Mt;break;case"bottom":At=7-_t;break;case"top":At=_t-7}switch(mt){case"top-right":case"bottom-right":St=-Mt;break;case"top-left":case"bottom-left":St=Mt;break;case"left":St=_t;break;case"right":St=-_t}return[St,At]}(pt,ct[0])}function Cw(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt){pt.createArrays(),pt.tilePixelRatio=Ao/(512*pt.overscaling),pt.compareText={},pt.iconsNeedLinear=!1;const Wt=pt.layers[0].layout,qt=pt.layers[0]._unevaluatedLayout._values,Xt={};if(pt.textSizeData.kind==="composite"){const{minZoom:hr,maxZoom:Sr}=pt.textSizeData;Xt.compositeTextSizes=[qt["text-size"].possiblyEvaluate(new Cr(hr),Dt),qt["text-size"].possiblyEvaluate(new Cr(Sr),Dt)]}if(pt.iconSizeData.kind==="composite"){const{minZoom:hr,maxZoom:Sr}=pt.iconSizeData;Xt.compositeIconSizes=[qt["icon-size"].possiblyEvaluate(new Cr(hr),Dt),qt["icon-size"].possiblyEvaluate(new Cr(Sr),Dt)]}Xt.layoutTextSize=qt["text-size"].possiblyEvaluate(new Cr(Nt+1),Dt),Xt.layoutIconSize=qt["icon-size"].possiblyEvaluate(new Cr(Nt+1),Dt),Xt.textMaxSize=qt["text-size"].possiblyEvaluate(new Cr(18),Dt);const ar=Wt.get("text-rotation-alignment")==="map"&&Wt.get("symbol-placement")!=="point",lr=Wt.get("text-size");for(const hr of pt.features){const Sr=Wt.get("text-font").evaluate(hr,{},Dt).join(","),Ar=lr.evaluate(hr,{},Dt),Vr=Xt.layoutTextSize.evaluate(hr,{},Dt),Fr=(Xt.layoutIconSize.evaluate(hr,{},Dt),{horizontal:{},vertical:void 0}),jr=hr.text;let Wr,Yr=[0,0];if(jr){const Dn=jr.toString(),jn=Wt.get("text-letter-spacing").evaluate(hr,{},Dt)*Sl,dn=Wt.get("text-line-height").evaluate(hr,{},Dt)*Sl,An=wm(Dn)?jn:0,Wn=Wt.get("text-anchor").evaluate(hr,{},Dt),Kn=Wt.get("text-variable-anchor");if(!Kn){const So=Wt.get("text-radial-offset").evaluate(hr,{},Dt);Yr=So?Ux(Wn,[So*Sl,N_]):Wt.get("text-offset").evaluate(hr,{},Dt).map(ao=>ao*Sl)}let eo=ar?"center":Wt.get("text-justify").evaluate(hr,{},Dt);const Un=Wt.get("symbol-placement"),xa=Un==="point",No=Un==="point"?Wt.get("text-max-width").evaluate(hr,{},Dt)*Sl:0,Bo=So=>{pt.allowVerticalPlacement&&Sm(Dn)&&(Fr.vertical=D_(jr,ct,mt,St,Sr,No,dn,Wn,So,An,Yr,fu.vertical,!0,Un,Vr,Ar))};if(!ar&&Kn){const So=eo==="auto"?Kn.map(jo=>F_(jo)):[eo];let ao=!1;for(let jo=0;jo<So.length;jo++){const zo=So[jo];if(!Fr.horizontal[zo])if(ao)Fr.horizontal[zo]=Fr.horizontal[0];else{const go=D_(jr,ct,mt,St,Sr,No,dn,"center",zo,An,Yr,fu.horizontal,!1,Un,Vr,Ar);go&&(Fr.horizontal[zo]=go,ao=go.positionedLines.length===1)}}Bo("left")}else{if(eo==="auto"&&(eo=F_(Wn)),xa||Wt.get("text-writing-mode").indexOf("horizontal")>=0||!Sm(Dn)){const So=D_(jr,ct,mt,St,Sr,No,dn,Wn,eo,An,Yr,fu.horizontal,!1,Un,Vr,Ar);So&&(Fr.horizontal[eo]=So)}Bo(Un==="point"?"left":eo)}}let _n=!1;if(hr.icon&&hr.icon.name){const Dn=_t[hr.icon.name];Dn&&(Wr=vw(St[hr.icon.name],Wt.get("icon-offset").evaluate(hr,{},Dt),Wt.get("icon-anchor").evaluate(hr,{},Dt)),_n=Dn.sdf,pt.sdfIcons===void 0?pt.sdfIcons=Dn.sdf:pt.sdfIcons!==Dn.sdf&&wr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Dn.pixelRatio!==pt.pixelRatio||Wt.get("icon-rotate").constantOr(1)!==0)&&(pt.iconsNeedLinear=!0))}const bn=Gx(Fr.horizontal)||Fr.vertical;pt.iconsInText||(pt.iconsInText=!!bn&&bn.iconsInText),(bn||Wr)&&Tw(pt,hr,Fr,Wr,_t,Xt,Vr,0,Yr,_n,Mt,Dt,Bt)}At&&pt.generateCollisionDebugBuffers(Nt,pt.collisionBoxArray)}function F_(pt){switch(pt){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Tw(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt){let ar=At.textMaxSize.evaluate(ct,{},qt);ar===void 0&&(ar=Mt);const lr=pt.layers[0].layout,hr=lr.get("icon-offset").evaluate(ct,{},qt),Sr=Gx(mt.horizontal)||mt.vertical,Ar=Xt.name==="globe",Vr=Mt/24,Fr=pt.tilePixelRatio*ar/24,jr=(An=pt.overscaling,pt.zoom>18&&An>2&&(An>>=1),Math.max(Ao/(512*An),1)*lr.get("symbol-spacing")),Wr=lr.get("text-padding")*pt.tilePixelRatio,Yr=lr.get("icon-padding")*pt.tilePixelRatio,_n=xt(lr.get("text-max-angle")),bn=lr.get("text-rotation-alignment")==="map"&&lr.get("symbol-placement")!=="point",Dn=lr.get("icon-rotation-alignment")==="map"&&lr.get("symbol-placement")!=="point",jn=lr.get("symbol-placement"),dn=jr/2;var An;const Wn=lr.get("icon-text-fit");let Kn;_t&&Wn!=="none"&&(pt.allowVerticalPlacement&&mt.vertical&&(Kn=Ix(_t,mt.vertical,Wn,lr.get("icon-text-fit-padding"),hr,Vr)),Sr&&(_t=Ix(_t,Sr,Wn,lr.get("icon-text-fit-padding"),hr,Vr)));const eo=(Un,xa,No)=>{if(xa.x<0||xa.x>=Ao||xa.y<0||xa.y>=Ao)return;let Bo=null;if(Ar){const{x:So,y:ao,z:jo}=Xt.projectTilePoint(xa.x,xa.y,No);Bo={anchor:new yp(So,ao,jo,0,void 0),up:Xt.upVector(No,xa.x,xa.y)}}(function(So,ao,jo,zo,go,Hs,Ns,Rs,Go,is,bs,_s,ms,ws,Ps,Js,Gl,qo,Ds,El,ds,$s,Dl,Es,Fs){const yl=So.addToLineVertexArray(ao,zo);let Xs,Cl,Ll,_l,_p,zm,ky,Ny=0,P2=0,$2=0,M2=0,t1=-1,r1=-1;const Xu={};let I2=fy("");const jv=jo?jo.anchor:ao;let n1=0,a1=0;if(Go._unevaluatedLayout.getValue("text-radial-offset")===void 0?[n1,a1]=Go.layout.get("text-offset").evaluate(ds,{},Fs).map(eu=>eu*Sl):(n1=Go.layout.get("text-radial-offset").evaluate(ds,{},Fs)*Sl,a1=N_),So.allowVerticalPlacement&&go.vertical){const eu=go.vertical;if(Ps)zm=z_(eu),Rs&&(ky=z_(Rs));else{const tu=Go.layout.get("text-rotate").evaluate(ds,{},Fs)+90;Ll=U0(is,jv,ao,bs,_s,ms,eu,ws,tu,Js),Rs&&(_l=U0(is,jv,ao,bs,_s,ms,Rs,qo,tu))}}if(Hs){const eu=Go.layout.get("icon-rotate").evaluate(ds,{},Fs),tu=Go.layout.get("icon-text-fit")!=="none",Fy=Bx(Hs,eu,Dl,tu),o1=Rs?Bx(Rs,eu,Dl,tu):void 0;Cl=U0(is,jv,ao,bs,_s,ms,Hs,qo,eu),Ny=4*Fy.length;const R2=So.iconSizeData;let Gv=null;R2.kind==="source"?(Gv=[Wu*Go.layout.get("icon-size").evaluate(ds,{},Fs)],Gv[0]>ev&&wr(`${So.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):R2.kind==="composite"&&(Gv=[Wu*$s.compositeIconSizes[0].evaluate(ds,{},Fs),Wu*$s.compositeIconSizes[1].evaluate(ds,{},Fs)],(Gv[0]>ev||Gv[1]>ev)&&wr(`${So.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),So.addSymbols(So.icon,Fy,Gv,El,Ds,ds,!1,jo,ao,yl.lineStartIndex,yl.lineLength,-1,Es,Fs),t1=So.icon.placedSymbolArray.length-1,o1&&(P2=4*o1.length,So.addSymbols(So.icon,o1,Gv,El,Ds,ds,fu.vertical,jo,ao,yl.lineStartIndex,yl.lineLength,-1,Es,Fs),r1=So.icon.placedSymbolArray.length-1)}for(const eu in go.horizontal){const tu=go.horizontal[eu];Xs||(I2=fy(tu.text),Ps?_p=z_(tu):Xs=U0(is,jv,ao,bs,_s,ms,tu,ws,Go.layout.get("text-rotate").evaluate(ds,{},Fs),Js));const Fy=tu.positionedLines.length===1;if($2+=jx(So,jo,ao,tu,Ns,Go,Ps,ds,Js,yl,go.vertical?fu.horizontal:fu.horizontalOnly,Fy?Object.keys(go.horizontal):[eu],Xu,t1,$s,Es,Fs),Fy)break}go.vertical&&(M2+=jx(So,jo,ao,go.vertical,Ns,Go,Ps,ds,Js,yl,fu.vertical,["vertical"],Xu,r1,$s,Es,Fs));let ov=-1;const i1=(eu,tu)=>eu?Math.max(eu,tu):tu;ov=i1(_p,ov),ov=i1(zm,ov),ov=i1(ky,ov);const nC=ov>-1?1:0;So.glyphOffsetArray.length>=rv.MAX_GLYPHS&&wr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ds.sortKey!==void 0&&So.addToSortKeyRanges(So.symbolInstances.length,ds.sortKey),So.symbolInstances.emplaceBack(jv.x,jv.y,jv.z,ao.x,ao.y,Xu.right>=0?Xu.right:-1,Xu.center>=0?Xu.center:-1,Xu.left>=0?Xu.left:-1,Xu.vertical>=0?Xu.vertical:-1,t1,r1,I2,Xs!==void 0?Xs:So.collisionBoxArray.length,Xs!==void 0?Xs+1:So.collisionBoxArray.length,Ll!==void 0?Ll:So.collisionBoxArray.length,Ll!==void 0?Ll+1:So.collisionBoxArray.length,Cl!==void 0?Cl:So.collisionBoxArray.length,Cl!==void 0?Cl+1:So.collisionBoxArray.length,_l||So.collisionBoxArray.length,_l?_l+1:So.collisionBoxArray.length,bs,$2,M2,Ny,P2,nC,0,n1,a1,ov)})(pt,xa,Bo,Un,mt,_t,St,Kn,pt.layers[0],pt.collisionBoxArray,ct.index,ct.sourceLayerIndex,pt.index,Wr,bn,Nt,0,Yr,Dn,hr,ct,At,Bt,Wt,qt)};if(jn==="line")for(const Un of Nx(ct.geometry,0,0,Ao,Ao)){const xa=gw(Un,jr,_n,mt.vertical||Sr,_t,24,Fr,pt.overscaling,Ao);for(const No of xa){const Bo=Sr;Bo&&Ew(pt,Bo.text,dn,No)||eo(Un,No,qt)}}else if(jn==="line-center"){for(const Un of ct.geometry)if(Un.length>1){const xa=mw(Un,_n,mt.vertical||Sr,_t,24,Fr);xa&&eo(Un,xa,qt)}}else if(ct.type==="Polygon")for(const Un of E_(ct.geometry,0)){const xa=bw(Un,16);eo(Un[0],new yp(xa.x,xa.y,0,0,void 0),qt)}else if(ct.type==="LineString")for(const Un of ct.geometry)eo(Un,new yp(Un[0].x,Un[0].y,0,0,void 0),qt);else if(ct.type==="Point")for(const Un of ct.geometry)for(const xa of Un)eo([xa],new yp(xa.x,xa.y,0,0,void 0),qt)}const ev=32640;function jx(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr,hr,Sr){const Ar=function(jr,Wr,Yr,_n,bn,Dn,jn,dn){const An=[];if(Wr.positionedLines.length===0)return An;const Wn=_n.layout.get("text-rotate").evaluate(Dn,{})*Math.PI/180,Kn=function(Bo){const So=Bo[0],ao=Bo[1],jo=So*ao;return jo>0?[So,-ao]:jo<0?[-So,ao]:So===0?[ao,So]:[ao,-So]}(Yr);let eo=Math.abs(Wr.top-Wr.bottom);for(const Bo of Wr.positionedLines)eo-=Bo.lineOffset;const Un=Wr.positionedLines.length,xa=eo/Un;let No=Wr.top-Yr[1];for(let Bo=0;Bo<Un;++Bo){const So=Wr.positionedLines[Bo];No=yw(Wr,xa,No,Bo);for(const ao of So.positionedGlyphs){if(!ao.rect)continue;const jo=ao.rect||{};let zo=4,go=!0,Hs=1,Ns=0;if(ao.imageName){const Es=jn[ao.imageName];if(!Es)continue;if(Es.sdf){wr("SDF images are not supported in formatted text and will be ignored.");continue}go=!1,Hs=Es.pixelRatio,zo=1/Hs}const Rs=(bn||dn)&&ao.vertical,Go=ao.metrics.advance*ao.scale/2,is=ao.metrics,bs=ao.rect;if(bs===null)continue;dn&&Wr.verticalizable&&(Ns=ao.imageName?Go-ao.metrics.width*ao.scale/2:0);const _s=bn?[ao.x+Go,ao.y]:[0,0];let ms=[0,0],ws=[0,0],Ps=!1;bn||(Rs?(ws=[ao.x+Go+Kn[0],ao.y+Kn[1]-Ns],Ps=!0):ms=[ao.x+Go+Yr[0],ao.y+Yr[1]-Ns]);const Js=bs.w*ao.scale/(Hs*(ao.localGlyph?2:1)),Gl=bs.h*ao.scale/(Hs*(ao.localGlyph?2:1));let qo,Ds,El,ds;if(Rs){const Es=ao.y-No,Fs=new dt(-Go,Go-Es),yl=-Math.PI/2,Xs=new dt(...ws);qo=new dt(-Go+ms[0],ms[1]),qo._rotateAround(yl,Fs)._add(Xs),qo.x+=-Es+Go,qo.y-=(is.left-zo)*ao.scale;const Cl=ao.imageName?is.advance*ao.scale:Sl*ao.scale,Ll=String.fromCharCode(ao.glyph);JS(Ll)?qo.x+=(1-zo)*ao.scale:ew(Ll)?qo.x+=Cl-is.height*ao.scale+(-zo-1)*ao.scale:qo.x+=ao.imageName||is.width+2*zo===bs.w&&is.height+2*zo===bs.h?(Cl-Gl)/2:(Cl-(is.height+2*zo)*ao.scale)/2,Ds=new dt(qo.x,qo.y-Js),El=new dt(qo.x+Gl,qo.y),ds=new dt(qo.x+Gl,qo.y-Js)}else{const Es=(is.left-zo)*ao.scale-Go+ms[0],Fs=(-is.top-zo)*ao.scale+ms[1],yl=Es+Js,Xs=Fs+Gl;qo=new dt(Es,Fs),Ds=new dt(yl,Fs),El=new dt(Es,Xs),ds=new dt(yl,Xs)}if(Wn){let Es;Es=bn?new dt(0,0):Ps?new dt(Kn[0],Kn[1]):new dt(Yr[0],Yr[1]),qo._rotateAround(Wn,Es),Ds._rotateAround(Wn,Es),El._rotateAround(Wn,Es),ds._rotateAround(Wn,Es)}const $s=new dt(0,0),Dl=new dt(0,0);An.push({tl:qo,tr:Ds,bl:El,br:ds,tex:jo,writingMode:Wr.writingMode,glyphOffset:_s,sectionIndex:ao.sectionIndex,isSDF:go,pixelOffsetTL:$s,pixelOffsetBR:Dl,minFontScaleX:0,minFontScaleY:0})}}return An}(0,_t,Nt,At,Mt,Dt,St,pt.allowVerticalPlacement),Vr=pt.textSizeData;let Fr=null;Vr.kind==="source"?(Fr=[Wu*At.layout.get("text-size").evaluate(Dt,{},Sr)],Fr[0]>ev&&wr(`${pt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Vr.kind==="composite"&&(Fr=[Wu*lr.compositeTextSizes[0].evaluate(Dt,{},Sr),Wu*lr.compositeTextSizes[1].evaluate(Dt,{},Sr)],(Fr[0]>ev||Fr[1]>ev)&&wr(`${pt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),pt.addSymbols(pt.text,Ar,Fr,Nt,Mt,Dt,Wt,ct,mt,Bt.lineStartIndex,Bt.lineLength,ar,hr,Sr);for(const jr of qt)Xt[jr]=pt.text.placedSymbolArray.length-1;return 4*Ar.length}function Gx(pt){for(const ct in pt)return pt[ct];return null}function U0(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt){let Wt=Mt.top,qt=Mt.bottom,Xt=Mt.left,ar=Mt.right;const lr=Mt.collisionPadding;if(lr&&(Xt-=lr[0],Wt-=lr[1],ar+=lr[2],qt+=lr[3]),Nt){const hr=new dt(Xt,Wt),Sr=new dt(ar,Wt),Ar=new dt(Xt,qt),Vr=new dt(ar,qt),Fr=xt(Nt);let jr=new dt(0,0);Bt&&(jr=new dt(Bt[0],Bt[1])),hr._rotateAround(Fr,jr),Sr._rotateAround(Fr,jr),Ar._rotateAround(Fr,jr),Vr._rotateAround(Fr,jr),Xt=Math.min(hr.x,Sr.x,Ar.x,Vr.x),ar=Math.max(hr.x,Sr.x,Ar.x,Vr.x),Wt=Math.min(hr.y,Sr.y,Ar.y,Vr.y),qt=Math.max(hr.y,Sr.y,Ar.y,Vr.y)}return pt.emplaceBack(ct.x,ct.y,ct.z,mt.x,mt.y,Xt,Wt,ar,qt,Dt,_t,St,At),pt.length-1}function z_(pt){pt.collisionPadding&&(pt.top-=pt.collisionPadding[1],pt.bottom+=pt.collisionPadding[3]);const ct=pt.bottom-pt.top;return ct>0?Math.max(10,ct):null}function Ew(pt,ct,mt,_t){const St=pt.compareText;if(ct in St){const At=St[ct];for(let Mt=At.length-1;Mt>=0;Mt--)if(_t.dist(At[Mt])<mt)return!0}else St[ct]=[];return St[ct].push(_t),!1}const Aw=Zn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_merc_pos",components:2},{type:"Float32",name:"a_uv",components:2}]),{members:Hx}=Aw,Wx=Zn([{name:"a_pos_3",components:3,type:"Int16"}]);var Py=Zn([{name:"a_pos",type:"Int16",components:2}]);const Bv=Ao/Math.PI/2,B_=2*_u(1,0)*Bv*Math.PI,km=[64,32,16],Ql=-Bv,Jl=Bv,Pw=[new cu([Ql,Ql,Ql],[Jl,Jl,Jl]),new cu([Ql,Ql,Ql],[0,0,Jl]),new cu([0,Ql,Ql],[Jl,0,Jl]),new cu([Ql,0,Ql],[0,Jl,Jl]),new cu([0,0,Ql],[Jl,Jl,Jl])];function Kx(pt,ct,mt,_t=!0){const St=Hu([],pt._camera.position,pt.worldSize),At=[ct,mt,1,1];Fv(At,At,pt.pixelMatrixInverse),j1(At,At,1/At[3]);const Mt=Ml([],bu([],At,St)),Dt=pt.globeMatrix,Nt=[Dt[12],Dt[13],Dt[14]],Bt=bu([],Nt,St),Wt=hy(Bt),qt=Ml([],Bt),Xt=pt.worldSize/(2*Math.PI),ar=xu(qt,Mt),lr=Math.asin(Xt/Wt);if(lr<Math.acos(ar)){if(!_t)return null;const jn=[],dn=[];Hu(jn,Mt,Wt/ar),Ml(dn,bu(dn,jn,Bt)),Ml(Mt,Qp(Mt,Bt,Hu(Mt,dn,Math.tan(lr)*Wt)))}const hr=[];new y_(St,Mt).closestPointOnSphere(Nt,Xt,hr);const Sr=Ml([],yn(Dt,0)),Ar=Ml([],yn(Dt,1)),Vr=Ml([],yn(Dt,2)),Fr=xu(Sr,hr),jr=xu(Ar,hr),Wr=xu(Vr,hr),Yr=Ct(Math.asin(-jr/Xt));let _n=Ct(Math.atan2(Fr,Wr));_n=pt.center.lng+function(jn,dn){const An=(dn-jn+180)%360-180;return An<-180?An+360:An}(pt.center.lng,_n);const bn=Dv(_n),Dn=Ot(Lv(Yr),0,1);return new Tm(bn,Dn)}class $w{constructor(ct,mt,_t){this.a=bu([],ct,_t),this.b=bu([],mt,_t),this.center=_t;const St=Ml([],this.a),At=Ml([],this.b);this.angle=Math.acos(xu(St,At))}}function V_(pt,ct){if(pt.angle===0)return null;let mt;return mt=pt.a[ct]===0?1/pt.angle*.5*Math.PI:1/pt.angle*Math.atan(pt.b[ct]/pt.a[ct]/Math.sin(pt.angle)-1/Math.tan(pt.angle)),mt<0||mt>1?null:function(_t,St,At,Mt){const Dt=Math.sin(At);return _t*(Math.sin((1-Mt)*At)/Dt)+St*(Math.sin(Mt*At)/Dt)}(pt.a[ct],pt.b[ct],pt.angle,Ot(mt,0,1))+pt.center[ct]}function Ku(pt){if(pt.z<=1)return Pw[pt.z+2*pt.y+pt.x];const[ct,mt]=U_(pt),_t=[Rl(ct[0],ct[1]),Rl(ct[0],mt[1]),Rl(mt[0],ct[1]),Rl(mt[0],mt[1])],St=[Jl,Jl,Jl],At=[Ql,Ql,Ql];for(const Mt of _t)St[0]=Math.min(St[0],Mt[0]),St[1]=Math.min(St[1],Mt[1]),St[2]=Math.min(St[2],Mt[2]),At[0]=Math.max(At[0],Mt[0]),At[1]=Math.max(At[1],Mt[1]),At[2]=Math.max(At[2],Mt[2]);return new cu(St,At)}function Mw(pt,ct,mt){const _t=ct/pt.worldSize,St=Number.MAX_VALUE,At=[-St,-St,-St],Mt=[St,St,St],Dt=Zl(new Float64Array(16));if(Gu(Dt,Dt,[_t,_t,_t]),Xp(Dt,Dt,pt.globeMatrix),mt.z<=1){const dn=Ku(mt).getCorners();for(let An=0;An<dn.length;An++)xl(dn[An],dn[An],Dt),w0(Mt,Mt,dn[An]),C0(At,At,dn[An]);return new cu(Mt,At)}const[Nt,Bt]=U_(mt),Wt=new Zp;Wt.setSouthWest([Nt[1],Bt[0]]),Wt.setNorthEast([Bt[1],Nt[0]]);const qt=[Rl(Wt.getSouth(),Wt.getWest()),Rl(Wt.getSouth(),Wt.getEast()),Rl(Wt.getNorth(),Wt.getEast()),Rl(Wt.getNorth(),Wt.getWest())];for(let dn=0;dn<qt.length;dn++)xl(qt[dn],qt[dn],Dt),w0(Mt,Mt,qt[dn]),C0(At,At,qt[dn]);if(Wt.contains(pt.center)){At[2]=0;const dn=pt.point,An=[dn.x*_t,dn.y*_t,0];return w0(Mt,Mt,An),C0(At,At,An),new cu(Mt,At)}const Xt=[Dt[12],Dt[13],Dt[14]],ar=pt.center.lng,lr=Ot(pt.center.lat,-85.051129,ju),hr=[Dv(ar),Lv(lr)],Sr=Wt.getCenter().lng,Ar=Ot(Wt.getCenter().lat,-85.051129,ju),Vr=[Dv(Sr),Lv(Ar)];let Fr=new Array(3),jr=0,Wr=hr[0]-Vr[0];const Yr=hr[1]-Vr[1];if(Wr>.5?Wr-=1:Wr<-.5&&(Wr+=1),Math.abs(Wr)>Math.abs(Yr))jr=Wr>=0?1:3,Fr=Xt;else{jr=Yr>=0?0:2;const dn=[Dt[4],Dt[5],Dt[6]];let An;An=Yr>=0?-Math.sin(xt(Wt.getSouth()))*Bv:-Math.sin(xt(Wt.getNorth()))*Bv,Fr=T0(Fr,Xt,dn,An)}const _n=qt[jr],bn=qt[(jr+1)%4],Dn=new $w(_n,bn,Fr),jn=[V_(Dn,0)||_n[0],V_(Dn,1)||_n[1],V_(Dn,2)||_n[2]];return Mt[2]=Math.min(_n[2],bn[2]),w0(Mt,Mt,jn),C0(At,At,jn),new cu(Mt,At)}function U_(pt){const ct=1<<pt.z,mt=pt.x/ct,_t=(pt.x+1)/ct,St=(pt.y+1)/ct;return[[Gs(pt.y/ct),$l(mt)],[Gs(St),$l(_t)]]}function Yx(pt,ct,mt,_t=Bv){return mt=xt(mt),[pt*Math.sin(mt)*_t,-ct*_t,pt*Math.cos(mt)*_t]}function Rl(pt,ct,mt){return Yx(Math.cos(xt(pt)),Math.sin(xt(pt)),ct,mt)}function qx(pt,ct,mt){const _t=Math.pow(2,mt.z),St=(pt/Ao+mt.x)/_t;return Rl(Gs((ct/Ao+mt.y)/_t),$l(St))}function j0(pt){return 16383/Math.max(...bu([],pt.max,pt.min))}function $y(pt){const ct=Zl(new Float64Array(16)),mt=j0(pt);var _t,St;return Gu(ct,ct,[mt,mt,mt]),Nv(ct,ct,((_t=[])[0]=-(St=pt.min)[0],_t[1]=-St[1],_t[2]=-St[2],_t)),ct}function Zx(pt){const ct=Zl(new Float64Array(16)),mt=1/j0(pt);return Nv(ct,ct,pt.min),Gu(ct,ct,[mt,mt,mt]),ct}function Xx(pt,ct,mt,_t,St){const At=function(Nt){const Bt=Ao/(2*Math.PI);return Nt/(2*Math.PI)/Bt}(mt),Mt=[pt,ct,-mt/(2*Math.PI)],Dt=Zl(new Float64Array(16));return Nv(Dt,Dt,Mt),Gu(Dt,Dt,[At,At,At]),b0(Dt,Dt,xt(-St)),S0(Dt,Dt,xt(-_t)),Dt}function j_(pt){return Lt(5,6,pt)}function Qx(pt,ct){const mt=Rl(ct.lat,ct.lng);return At=(_t=m_([],function(ar){const lr=Rl(ar._center.lat,ar._center.lng);let hr=g_([],Am(0,1,0),lr);const Sr=z1([],-ar.angle,lr);hr=xl(hr,hr,Sr),z1(Sr,-ar._pitch,hr);const Ar=Ml([],lr);return Hu(Ar,Ar,ar.cameraToCenterDistance/ar.pixelsPerMeter*B_),xl(Ar,Ar,Sr),Qp([],lr,Ar)}(pt),mt))[0],Mt=_t[1],Dt=_t[2],Nt=(St=mt)[0],Bt=St[1],Wt=St[2],Xt=(qt=Math.sqrt(At*At+Mt*Mt+Dt*Dt)*Math.sqrt(Nt*Nt+Bt*Bt+Wt*Wt))&&xu(_t,St)/qt,Math.acos(Math.min(Math.max(Xt,-1),1));var _t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt}const Jx=xt(85),Iw=Math.cos(Jx),Rw=Math.sin(Jx);function e2(pt,ct){const mt=pt.fovAboveCenter,_t=pt.elevation?pt.elevation.getMinElevationBelowMSL()*ct:0,St=(pt._camera.position[2]*pt.worldSize-_t)/Math.cos(pt._pitch),At=Math.sin(mt)*St/Math.sin(Math.max(Math.PI/2-pt._pitch-mt,.01)),Mt=Math.sin(pt._pitch)*At+St;return Math.min(1.01*Mt,St*(1/pt._horizonShift))}function Vv(pt,ct){if(!ct.isReprojectedInTileSpace)return{scale:1<<pt.z,x:pt.x,y:pt.y,x2:pt.x+1,y2:pt.y+1,projection:ct};const mt=Math.pow(2,-pt.z),_t=pt.x*mt,St=(pt.x+1)*mt,At=pt.y*mt,Mt=(pt.y+1)*mt,Dt=$l(_t),Nt=$l(St),Bt=Gs(At),Wt=Gs(Mt),qt=ct.project(Dt,Bt),Xt=ct.project(Nt,Bt),ar=ct.project(Nt,Wt),lr=ct.project(Dt,Wt);let hr=Math.min(qt.x,Xt.x,ar.x,lr.x),Sr=Math.min(qt.y,Xt.y,ar.y,lr.y),Ar=Math.max(qt.x,Xt.x,ar.x,lr.x),Vr=Math.max(qt.y,Xt.y,ar.y,lr.y);const Fr=mt/16;function jr(Yr,_n,bn,Dn,jn,dn){const An=(bn+jn)/2,Wn=(Dn+dn)/2,Kn=ct.project($l(An),Gs(Wn)),eo=Math.max(0,hr-Kn.x,Sr-Kn.y,Kn.x-Ar,Kn.y-Vr);hr=Math.min(hr,Kn.x),Ar=Math.max(Ar,Kn.x),Sr=Math.min(Sr,Kn.y),Vr=Math.max(Vr,Kn.y),eo>Fr&&(jr(Yr,Kn,bn,Dn,An,Wn),jr(Kn,_n,An,Wn,jn,dn))}jr(qt,Xt,_t,At,St,At),jr(Xt,ar,St,At,St,Mt),jr(ar,lr,St,Mt,_t,Mt),jr(lr,qt,_t,Mt,_t,At),hr-=Fr,Sr-=Fr,Ar+=Fr,Vr+=Fr;const Wr=1/Math.max(Ar-hr,Vr-Sr);return{scale:Wr,x:hr*Wr,y:Sr*Wr,x2:Ar*Wr,y2:Vr*Wr,projection:ct}}const Dw=Zl(new Float32Array(16));class tv{constructor(ct){this.spec=ct,this.name=ct.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(ct,mt){return{x:0,y:0,z:0}}unproject(ct,mt){return new vs(0,0)}projectTilePoint(ct,mt,_t){return{x:ct,y:mt,z:0}}locationPoint(ct,mt,_t=!0){return ct._coordinatePoint(ct.locationCoordinate(mt),_t)}pixelsPerMeter(ct,mt){return _u(1,ct)*mt}pixelSpaceConversion(ct,mt,_t){return 1}farthestPixelDistance(ct){return e2(ct,ct.pixelsPerMeter)}pointCoordinate(ct,mt,_t,St){const At=ct.horizonLineFromTop(!1),Mt=new dt(mt,Math.max(At,_t));return ct.rayIntersectionCoordinate(ct.pointRayIntersection(Mt,St))}pointCoordinate3D(ct,mt,_t){const St=new dt(mt,_t);if(ct.elevation)return ct.elevation.pointCoordinate(St);{const At=this.pointCoordinate(ct,St.x,St.y,0);return[At.x,At.y,At.z]}}isPointAboveHorizon(ct,mt){if(ct.elevation)return!this.pointCoordinate3D(ct,mt.x,mt.y);const _t=ct.horizonLineFromTop();return mt.y<_t}createInversionMatrix(ct,mt){return Dw}createTileMatrix(ct,mt,_t){let St,At,Mt;const Dt=_t.canonical,Nt=Zl(new Float64Array(16));if(this.isReprojectedInTileSpace){const Bt=Vv(Dt,this);St=1,At=Bt.x+_t.wrap*Bt.scale,Mt=Bt.y,Gu(Nt,Nt,[St/Bt.scale,St/Bt.scale,ct.pixelsPerMeter/mt])}else St=mt/ct.zoomScale(Dt.z),At=(Dt.x+Math.pow(2,Dt.z)*_t.wrap)*St,Mt=Dt.y*St;return Nv(Nt,Nt,[At,Mt,0]),Gu(Nt,Nt,[St/Ao,St/Ao,1]),Nt}upVector(ct,mt,_t){return[0,0,1]}upVectorScale(ct,mt,_t){return{metersToTile:1}}}class Lw extends tv{constructor(ct){super(ct),this.range=[4,7],this.center=ct.center||[-96,37.5];const[mt,_t]=this.parallels=ct.parallels||[29.5,45.5],St=Math.sin(xt(mt));this.n=(St+Math.sin(xt(_t)))/2,this.c=1+St*(2*this.n-St),this.r0=Math.sqrt(this.c)/this.n}project(ct,mt){const{n:_t,c:St,r0:At}=this,Mt=xt(ct-this.center[0]),Dt=xt(mt),Nt=Math.sqrt(St-2*_t*Math.sin(Dt))/_t;return{x:Nt*Math.sin(Mt*_t),y:Nt*Math.cos(Mt*_t)-At,z:0}}unproject(ct,mt){const{n:_t,c:St,r0:At}=this,Mt=At+mt;let Dt=Math.atan2(ct,Math.abs(Mt))*Math.sign(Mt);Mt*_t<0&&(Dt-=Math.PI*Math.sign(ct)*Math.sign(Mt));const Nt=xt(this.center[0])*_t;Dt=Ft(Dt,-Math.PI-Nt,Math.PI-Nt);const Bt=Ct(Dt/_t)+this.center[0],Wt=Math.asin(Ot((St-(ct*ct+Mt*Mt)*_t*_t)/(2*_t),-1,1)),qt=Ot(Ct(Wt),-85.051129,ju);return new vs(Bt,qt)}}const My=1.340264,Iy=-.081106,Ry=893e-6,Dy=.003796,G0=Math.sqrt(3)/2;class Ow extends tv{project(ct,mt){mt=mt/180*Math.PI,ct=ct/180*Math.PI;const _t=Math.asin(G0*Math.sin(mt)),St=_t*_t,At=St*St*St;return{x:.5*(ct*Math.cos(_t)/(G0*(My+3*Iy*St+At*(7*Ry+9*Dy*St)))/Math.PI+.5),y:1-.5*(_t*(My+Iy*St+At*(Ry+Dy*St))/Math.PI+1),z:0}}unproject(ct,mt){ct=(2*ct-.5)*Math.PI;let _t=mt=(2*(1-mt)-1)*Math.PI,St=_t*_t,At=St*St*St;for(let Wt,qt,Xt,ar=0;ar<12&&(qt=_t*(My+Iy*St+At*(Ry+Dy*St))-mt,Xt=My+3*Iy*St+At*(7*Ry+9*Dy*St),Wt=qt/Xt,_t=Ot(_t-Wt,-Math.PI/3,Math.PI/3),St=_t*_t,At=St*St*St,!(Math.abs(Wt)<1e-12));++ar);const Mt=G0*ct*(My+3*Iy*St+At*(7*Ry+9*Dy*St))/Math.cos(_t),Dt=Math.asin(Math.sin(_t)/G0),Nt=Ot(180*Mt/Math.PI,-180,180),Bt=Ot(180*Dt/Math.PI,-85.051129,ju);return new vs(Nt,Bt)}}class kw extends tv{constructor(ct){super(ct),this.wrap=!0,this.supportsWorldCopies=!0}project(ct,mt){return{x:.5+ct/360,y:.5-mt/360,z:0}}unproject(ct,mt){const _t=360*(ct-.5),St=Ot(360*(.5-mt),-85.051129,ju);return new vs(_t,St)}}const Nm=Math.PI/2;function H0(pt){return Math.tan((Nm+pt)/2)}class Nw extends tv{constructor(ct){super(ct),this.center=ct.center||[0,30];const[mt,_t]=this.parallels=ct.parallels||[30,30],St=xt(mt),At=xt(_t),Mt=Math.cos(St);this.n=St===At?Math.sin(St):Math.log(Mt/Math.cos(At))/Math.log(H0(At)/H0(St)),this.f=Mt*Math.pow(H0(St),this.n)/this.n}project(ct,mt){mt=xt(mt),ct=xt(ct-this.center[0]);const _t=1e-6,{n:St,f:At}=this;At>0?mt<-Nm+_t&&(mt=-Nm+_t):mt>Nm-_t&&(mt=Nm-_t);const Mt=At/Math.pow(H0(mt),St),Dt=Mt*Math.sin(St*ct),Nt=At-Mt*Math.cos(St*ct);return{x:.5*(Dt/Math.PI+.5),y:1-.5*(Nt/Math.PI+.5),z:0}}unproject(ct,mt){ct=(2*ct-.5)*Math.PI,mt=(2*(1-mt)-.5)*Math.PI;const{n:_t,f:St}=this,At=St-mt,Mt=Math.sign(At),Dt=Math.sign(_t)*Math.sqrt(ct*ct+At*At);let Nt=Math.atan2(ct,Math.abs(At))*Mt;At*_t<0&&(Nt-=Math.PI*Math.sign(ct)*Mt);const Bt=Ot(Ct(Nt/_t)+this.center[0],-180,180),Wt=Ot(Ct(2*Math.atan(Math.pow(St/Dt,1/_t))-Nm),-85.051129,ju);return new vs(Bt,Wt)}}class t2 extends tv{constructor(ct){super(ct),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(ct,mt){return{x:Dv(ct),y:Lv(mt),z:0}}unproject(ct,mt){const _t=$l(ct),St=Gs(mt);return new vs(_t,St)}}const r2=xt(ju);class Fw extends tv{project(ct,mt){const _t=(mt=xt(mt))*mt,St=_t*_t;return{x:.5*((ct=xt(ct))*(.8707-.131979*_t+St*(St*(.003971*_t-.001529*St)-.013791))/Math.PI+.5),y:1-.5*(mt*(1.007226+_t*(.015085+St*(.028874*_t-.044475-.005916*St)))/Math.PI+1),z:0}}unproject(ct,mt){ct=(2*ct-.5)*Math.PI;let _t=mt=(2*(1-mt)-1)*Math.PI,St=25,At=0,Mt=_t*_t;do{Mt=_t*_t;const Bt=Mt*Mt;At=(_t*(1.007226+Mt*(.015085+Bt*(.028874*Mt-.044475-.005916*Bt)))-mt)/(1.007226+Mt*(.045255+Bt*(.259866*Mt-.311325-.005916*11*Bt))),_t=Ot(_t-At,-r2,r2)}while(Math.abs(At)>1e-6&&--St>0);Mt=_t*_t;const Dt=Ot(Ct(ct/(.8707+Mt*(Mt*(Mt*Mt*Mt*(.003971-.001529*Mt)-.013791)-.131979))),-180,180),Nt=Ct(_t);return new vs(Dt,Nt)}}const n2=xt(ju);class zw extends tv{project(ct,mt){mt=xt(mt),ct=xt(ct);const _t=Math.cos(mt),St=2/Math.PI,At=Math.acos(_t*Math.cos(ct/2)),Mt=Math.sin(At)/At,Dt=.5*(ct*St+2*_t*Math.sin(ct/2)/Mt)||0,Nt=.5*(mt+Math.sin(mt)/Mt)||0;return{x:.5*(Dt/Math.PI+.5),y:1-.5*(Nt/Math.PI+1),z:0}}unproject(ct,mt){let _t=ct=(2*ct-.5)*Math.PI,St=mt=(2*(1-mt)-1)*Math.PI,At=25;const Mt=1e-6;let Dt=0,Nt=0;do{const Bt=Math.cos(St),Wt=Math.sin(St),qt=2*Wt*Bt,Xt=Wt*Wt,ar=Bt*Bt,lr=Math.cos(_t/2),hr=Math.sin(_t/2),Sr=2*lr*hr,Ar=hr*hr,Vr=1-ar*lr*lr,Fr=Vr?1/Vr:0,jr=Vr?Math.acos(Bt*lr)*Math.sqrt(1/Vr):0,Wr=.5*(2*jr*Bt*hr+2*_t/Math.PI)-ct,Yr=.5*(jr*Wt+St)-mt,_n=.5*Fr*(ar*Ar+jr*Bt*lr*Xt)+1/Math.PI,bn=Fr*(Sr*qt/4-jr*Wt*hr),Dn=.125*Fr*(qt*hr-jr*Wt*ar*Sr),jn=.5*Fr*(Xt*lr+jr*Ar*Bt)+.5,dn=bn*Dn-jn*_n;Dt=(Yr*bn-Wr*jn)/dn,Nt=(Wr*Dn-Yr*_n)/dn,_t=Ot(_t-Dt,-Math.PI,Math.PI),St=Ot(St-Nt,-n2,n2)}while((Math.abs(Dt)>Mt||Math.abs(Nt)>Mt)&&--At>0);return new vs(Ct(_t),Ct(St))}}class a2 extends tv{constructor(ct){super(ct),this.center=ct.center||[0,0],this.parallels=ct.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(xt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(ct,mt){const{scale:_t,cosPhi:St}=this;return{x:xt(ct)*St*_t+.5,y:-Math.sin(xt(mt))/St*_t+.5,z:0}}unproject(ct,mt){const{scale:_t,cosPhi:St}=this,At=-(mt-.5)/_t,Mt=Ot(Ct((ct-.5)/_t)/St,-180,180),Dt=Math.asin(Ot(At*St,-1,1)),Nt=Ot(Ct(Dt),-85.051129,ju);return new vs(Mt,Nt)}}class Bw extends t2{constructor(ct){super(ct),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(ct,mt,_t){const St=Math.pow(2,_t.z),At=(ct/Ao+_t.x)/St,Mt=Rl(Gs((mt/Ao+_t.y)/St),$l(At));return xl(Mt,Mt,$y(Ku(_t))),{x:Mt[0],y:Mt[1],z:Mt[2]}}locationPoint(ct,mt){const _t=Rl(mt.lat,mt.lng),St=Ml([],_t),At=ct.elevation?ct.elevation.getAtPointOrZero(ct.locationCoordinate(mt),ct._centerAltitude):ct._centerAltitude;T0(_t,_t,St,_u(1,0)*Ao*At);const Mt=Zl(new Float64Array(16));return Xp(Mt,ct.pixelMatrix,ct.globeMatrix),xl(_t,_t,Mt),new dt(_t[0],_t[1])}pixelsPerMeter(ct,mt){return _u(1,0)*mt}pixelSpaceConversion(ct,mt,_t){const St=Yo(_u(1,45)*mt,_u(1,ct)*mt,_t);return this.pixelsPerMeter(ct,mt)/St}createTileMatrix(ct,mt,_t){const St=Zx(Ku(_t.canonical));return Xp(new Float64Array(16),ct.globeMatrix,St)}createInversionMatrix(ct,mt){const{center:_t}=ct,St=Zl(new Float64Array(16));return Xp(St,St,$y(Ku(mt))),S0(St,St,xt(_t.lng)),b0(St,St,xt(_t.lat)),Gu(St,St,[ct._projectionScaler,ct._projectionScaler,1]),Float32Array.from(St)}pointCoordinate(ct,mt,_t,St){return Kx(ct,mt,_t,!0)||new Tm(0,0)}pointCoordinate3D(ct,mt,_t){const St=this.pointCoordinate(ct,mt,_t,0);return[St.x,St.y,St.z]}isPointAboveHorizon(ct,mt){return!Kx(ct,mt.x,mt.y,!1)}farthestPixelDistance(ct){const mt=function(St,At){const Mt=St.cameraToCenterDistance,Dt=St._centerAltitude*At,Nt=St._camera,Bt=St._camera.forward(),Wt=Qp([],Hu([],Bt,-Mt),[0,0,Dt]),qt=St.worldSize/(2*Math.PI),Xt=[0,0,-qt],ar=St.width/St.height,lr=Math.tan(St.fovAboveCenter),hr=Hu([],Nt.up(),lr),Sr=Hu([],Nt.right(),lr*ar),Ar=Ml([],Qp([],Qp([],Bt,hr),Sr)),Vr=[];let Fr;if(new y_(Wt,Ar).closestPointOnSphere(Xt,qt,Vr)){const jr=Qp([],Vr,Xt),Wr=bu([],jr,Wt);Fr=Math.cos(St.fovAboveCenter)*hy(Wr)}else{const jr=bu([],Wt,Xt),Wr=bu([],Xt,Wt);Ml(Wr,Wr);const Yr=hy(jr)-qt;Fr=Math.sqrt(Yr*(Yr+2*qt));const _n=Math.acos(Fr/(qt+Yr))-Math.acos(xu(Bt,Wr));Fr*=Math.cos(_n)}return 1.01*Fr}(ct,this.pixelsPerMeter(ct.center.lat,ct.worldSize)),_t=j_(ct.zoom);if(_t>0){const St=e2(ct,_u(1,ct.center.lat)*ct.worldSize),At=ct.worldSize/(2*Math.PI),Mt=Math.max(ct.width,ct.height)/ct.worldSize*Math.PI;return Yo(mt,St+At*(1-Math.cos(Mt)),Math.pow(_t,10))}return mt}upVector(ct,mt,_t){const St=1<<ct.z,At=(mt/Ao+ct.x)/St;return Rl(Gs((_t/Ao+ct.y)/St),$l(At),1)}upVectorScale(ct){return{metersToTile:B_*j0(Ku(ct))}}}function i2(pt){const ct=pt.parallels,mt=!!ct&&Math.abs(ct[0]+ct[1])<.01;switch(pt.name){case"mercator":return new t2(pt);case"equirectangular":return new kw(pt);case"naturalEarth":return new Fw(pt);case"equalEarth":return new Ow(pt);case"winkelTripel":return new zw(pt);case"albers":return mt?new a2(pt):new Lw(pt);case"lambertConformalConic":return mt?new a2(pt):new Nw(pt);case"globe":return new Bw(pt)}throw new Error(`Invalid projection name: ${pt.name}`)}const Vw=zv.VectorTileFeature.types,Uw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function W0(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt){const ar=Dt?Math.min(ev,Math.round(Dt[0])):0,lr=Dt?Math.min(ev,Math.round(Dt[1])):0;pt.emplaceBack(ct,mt,Math.round(32*_t),Math.round(32*St),At,Mt,(ar<<1)+(Nt?1:0),lr,16*Bt,16*Wt,256*qt,256*Xt)}function K0(pt,ct,mt,_t,St,At,Mt){pt.emplaceBack(ct,mt,_t,St,At,Mt)}function Y0(pt,ct,mt,_t,St){pt.emplaceBack(ct,mt,_t,St),pt.emplaceBack(ct,mt,_t,St),pt.emplaceBack(ct,mt,_t,St),pt.emplaceBack(ct,mt,_t,St)}function jw(pt){for(const ct of pt.sections)if(kt(ct.text))return!0;return!1}class G_{constructor(ct){this.layoutVertexArray=new Ul,this.indexArray=new es,this.programConfigurations=ct,this.segments=new ks,this.dynamicLayoutVertexArray=new us,this.opacityVertexArray=new Au,this.placedSymbolArray=new c1,this.globeExtVertexArray=new gu}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(ct,mt,_t,St){this.isEmpty()||(_t&&(this.layoutVertexBuffer=ct.createVertexBuffer(this.layoutVertexArray,HS.members),this.indexBuffer=ct.createIndexBuffer(this.indexArray,mt),this.dynamicLayoutVertexBuffer=ct.createVertexBuffer(this.dynamicLayoutVertexArray,KS.members,!0),this.opacityVertexBuffer=ct.createVertexBuffer(this.opacityVertexArray,Uw,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=ct.createVertexBuffer(this.globeExtVertexArray,WS.members,!0)),this.opacityVertexBuffer.itemSize=1),(_t||St)&&this.programConfigurations.upload(ct))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}ro(G_,"SymbolBuffers");class H_{constructor(ct,mt,_t){this.layoutVertexArray=new ct,this.layoutAttributes=mt,this.indexArray=new _t,this.segments=new ks,this.collisionVertexArray=new Bs,this.collisionVertexArrayExt=new Qs}upload(ct){this.layoutVertexBuffer=ct.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=ct.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=ct.createVertexBuffer(this.collisionVertexArray,YS.members,!0),this.collisionVertexBufferExt=ct.createVertexBuffer(this.collisionVertexArrayExt,qS.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ro(H_,"CollisionBuffers");class rv{constructor(ct){this.collisionBoxArray=ct.collisionBoxArray,this.zoom=ct.zoom,this.overscaling=ct.overscaling,this.layers=ct.layers,this.layerIds=this.layers.map(Mt=>Mt.id),this.index=ct.index,this.pixelRatio=ct.pixelRatio,this.sourceLayerIndex=ct.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Zl([]),this.placementViewportMatrix=Zl([]);const mt=this.layers[0]._unevaluatedLayout._values;this.textSizeData=$_(this.zoom,mt["text-size"]),this.iconSizeData=$_(this.zoom,mt["icon-size"]);const _t=this.layers[0].layout,St=_t.get("symbol-sort-key"),At=_t.get("symbol-z-order");this.canOverlap=_t.get("text-allow-overlap")||_t.get("icon-allow-overlap")||_t.get("text-ignore-placement")||_t.get("icon-ignore-placement"),this.sortFeaturesByKey=At!=="viewport-y"&&St.constantOr(1)!==void 0,this.sortFeaturesByY=(At==="viewport-y"||At==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=_t.get("text-writing-mode").map(Mt=>fu[Mt]),this.stateDependentLayerIds=this.layers.filter(Mt=>Mt.isStateDependent()).map(Mt=>Mt.id),this.sourceID=ct.sourceID,this.projection=ct.projection}createArrays(){this.text=new G_(new Rv(this.layers,this.zoom,ct=>/^text/.test(ct))),this.icon=new G_(new Rv(this.layers,this.zoom,ct=>/^icon/.test(ct))),this.glyphOffsetArray=new h1,this.lineVertexArray=new p1,this.symbolInstances=new d1}calculateGlyphDependencies(ct,mt,_t,St,At){for(let Mt=0;Mt<ct.length;Mt++)if(mt[ct.charCodeAt(Mt)]=!0,St&&At){const Dt=Cy[ct.charAt(Mt)];Dt&&(mt[Dt.charCodeAt(0)]=!0)}}populate(ct,mt,_t,St){const At=this.layers[0],Mt=At.layout,Dt=this.projection.name==="globe",Nt=Mt.get("text-font"),Bt=Mt.get("text-field"),Wt=Mt.get("icon-image"),qt=(Bt.value.kind!=="constant"||Bt.value.value instanceof js&&!Bt.value.value.isEmpty()||Bt.value.value.toString().length>0)&&(Nt.value.kind!=="constant"||Nt.value.value.length>0),Xt=Wt.value.kind!=="constant"||!!Wt.value.value||Object.keys(Wt.parameters).length>0,ar=Mt.get("symbol-sort-key");if(this.features=[],!qt&&!Xt)return;const lr=mt.iconDependencies,hr=mt.glyphDependencies,Sr=mt.availableImages,Ar=new Cr(this.zoom);for(const{feature:Vr,id:Fr,index:jr,sourceLayerIndex:Wr}of ct){const Yr=At._featureFilter.needGeometry,_n=Ov(Vr,Yr);if(!At._featureFilter.filter(Ar,_n,_t))continue;if(Yr||(_n.geometry=vp(Vr,_t,St)),Dt&&Vr.type!==1&&_t.z<=5){const dn=_n.geometry,An=1<<_t.z,Wn=_t.x,Kn=_t.y,eo=.98078528056;for(let Un=0;Un<dn.length;Un++)dn[Un]=K2(dn[Un],xa=>xa,(xa,No)=>xu(Rl(Gs((xa.y/Ao+Kn)/An),$l((xa.x/Ao+Wn)/An),1),Rl(Gs((No.y/Ao+Kn)/An),$l((No.x/Ao+Wn)/An),1))<eo)}let bn,Dn;if(qt){const dn=At.getValueAndResolveTokens("text-field",_n,_t,Sr),An=js.factory(dn);jw(An)&&(this.hasRTLText=!0),(!this.hasRTLText||mr()==="unavailable"||this.hasRTLText&&_r.isParsed())&&(bn=QS(An,At,_n))}if(Xt){const dn=At.getValueAndResolveTokens("icon-image",_n,_t,Sr);Dn=dn instanceof Is?dn:Is.fromString(dn)}if(!bn&&!Dn)continue;const jn=this.sortFeaturesByKey?ar.evaluate(_n,{},_t):void 0;if(this.features.push({id:Fr,text:bn,icon:Dn,index:jr,sourceLayerIndex:Wr,geometry:_n.geometry,properties:Vr.properties,type:Vw[Vr.type],sortKey:jn}),Dn&&(lr[Dn.name]=!0),bn){const dn=Nt.evaluate(_n,{},_t).join(","),An=Mt.get("text-rotation-alignment")==="map"&&Mt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(fu.vertical)>=0;for(const Wn of bn.sections)if(Wn.image)lr[Wn.image.name]=!0;else{const Kn=Sm(bn.toString()),eo=Wn.fontStack||dn,Un=hr[eo]=hr[eo]||{};this.calculateGlyphDependencies(Wn.text,Un,An,this.allowVerticalPlacement,Kn)}}}Mt.get("symbol-placement")==="line"&&(this.features=function(Vr){const Fr={},jr={},Wr=[];let Yr=0;function _n(dn){Wr.push(Vr[dn]),Yr++}function bn(dn,An,Wn){const Kn=jr[dn];return delete jr[dn],jr[An]=Kn,Wr[Kn].geometry[0].pop(),Wr[Kn].geometry[0]=Wr[Kn].geometry[0].concat(Wn[0]),Kn}function Dn(dn,An,Wn){const Kn=Fr[An];return delete Fr[An],Fr[dn]=Kn,Wr[Kn].geometry[0].shift(),Wr[Kn].geometry[0]=Wn[0].concat(Wr[Kn].geometry[0]),Kn}function jn(dn,An,Wn){const Kn=Wn?An[0][An[0].length-1]:An[0][0];return`${dn}:${Kn.x}:${Kn.y}`}for(let dn=0;dn<Vr.length;dn++){const An=Vr[dn],Wn=An.geometry,Kn=An.text?An.text.toString():null;if(!Kn){_n(dn);continue}const eo=jn(Kn,Wn),Un=jn(Kn,Wn,!0);if(eo in jr&&Un in Fr&&jr[eo]!==Fr[Un]){const xa=Dn(eo,Un,Wn),No=bn(eo,Un,Wr[xa].geometry);delete Fr[eo],delete jr[Un],jr[jn(Kn,Wr[No].geometry,!0)]=No,Wr[xa].geometry=null}else eo in jr?bn(eo,Un,Wn):Un in Fr?Dn(eo,Un,Wn):(_n(dn),Fr[eo]=Yr-1,jr[Un]=Yr-1)}return Wr.filter(dn=>dn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Vr,Fr)=>Vr.sortKey-Fr.sortKey)}update(ct,mt,_t,St){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(ct,mt,this.layers,_t,St),this.icon.programConfigurations.updatePaintArrays(ct,mt,this.layers,_t,St))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(ct){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(ct),this.iconCollisionBox.upload(ct)),this.text.upload(ct,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(ct,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=i2(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(ct,mt){const _t=this.lineVertexArray.length,St=ct.segment;if(St!==void 0){let At=ct.dist(mt[St+1]),Mt=ct.dist(mt[St]);const Dt={};for(let Nt=St+1;Nt<mt.length;Nt++)Dt[Nt]={x:mt[Nt].x,y:mt[Nt].y,tileUnitDistanceFromAnchor:At},Nt<mt.length-1&&(At+=mt[Nt+1].dist(mt[Nt]));for(let Nt=St||0;Nt>=0;Nt--)Dt[Nt]={x:mt[Nt].x,y:mt[Nt].y,tileUnitDistanceFromAnchor:Mt},Nt>0&&(Mt+=mt[Nt-1].dist(mt[Nt]));for(let Nt=0;Nt<mt.length;Nt++){const Bt=Dt[Nt];this.lineVertexArray.emplaceBack(Bt.x,Bt.y,Bt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:_t,lineLength:this.lineVertexArray.length-_t}}addSymbols(ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt,qt,Xt,ar,lr){const hr=ct.indexArray,Sr=ct.layoutVertexArray,Ar=ct.globeExtVertexArray,Vr=ct.segments.prepareSegment(4*mt.length,Sr,hr,this.canOverlap?Mt.sortKey:void 0),Fr=this.glyphOffsetArray.length,jr=Vr.vertexLength,Wr=this.allowVerticalPlacement&&Dt===fu.vertical?Math.PI/2:0,Yr=Mt.text&&Mt.text.sections;for(let bn=0;bn<mt.length;bn++){const{tl:Dn,tr:jn,bl:dn,br:An,tex:Wn,pixelOffsetTL:Kn,pixelOffsetBR:eo,minFontScaleX:Un,minFontScaleY:xa,glyphOffset:No,isSDF:Bo,sectionIndex:So}=mt[bn],ao=Vr.vertexLength,jo=No[1];if(W0(Sr,Bt.x,Bt.y,Dn.x,jo+Dn.y,Wn.x,Wn.y,_t,Bo,Kn.x,Kn.y,Un,xa),W0(Sr,Bt.x,Bt.y,jn.x,jo+jn.y,Wn.x+Wn.w,Wn.y,_t,Bo,eo.x,Kn.y,Un,xa),W0(Sr,Bt.x,Bt.y,dn.x,jo+dn.y,Wn.x,Wn.y+Wn.h,_t,Bo,Kn.x,eo.y,Un,xa),W0(Sr,Bt.x,Bt.y,An.x,jo+An.y,Wn.x+Wn.w,Wn.y+Wn.h,_t,Bo,eo.x,eo.y,Un,xa),Nt){const zo=Nt.anchor,go=Nt.up;K0(Ar,zo.x,zo.y,zo.z,go[0],go[1],go[2]),K0(Ar,zo.x,zo.y,zo.z,go[0],go[1],go[2]),K0(Ar,zo.x,zo.y,zo.z,go[0],go[1],go[2]),K0(Ar,zo.x,zo.y,zo.z,go[0],go[1],go[2]),Y0(ct.dynamicLayoutVertexArray,zo.x,zo.y,zo.z,Wr)}else Y0(ct.dynamicLayoutVertexArray,Bt.x,Bt.y,Bt.z,Wr);hr.emplaceBack(ao,ao+1,ao+2),hr.emplaceBack(ao+1,ao+2,ao+3),Vr.vertexLength+=4,Vr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(No[0]),bn!==mt.length-1&&So===mt[bn+1].sectionIndex||ct.programConfigurations.populatePaintArrays(Sr.length,Mt,Mt.index,{},ar,lr,Yr&&Yr[So])}const _n=Nt?Nt.anchor:Bt;ct.placedSymbolArray.emplaceBack(_n.x,_n.y,_n.z,Bt.x,Bt.y,Fr,this.glyphOffsetArray.length-Fr,jr,Wt,qt,Bt.segment,_t?_t[0]:0,_t?_t[1]:0,St[0],St[1],Dt,0,!1,0,Xt,0)}_commitLayoutVertex(ct,mt,_t,St,At,Mt,Dt){ct.emplaceBack(mt,_t,St,At,Mt,Math.round(Dt.x),Math.round(Dt.y))}_addCollisionDebugVertices(ct,mt,_t,St,At,Mt,Dt){const Nt=_t.segments.prepareSegment(4,_t.layoutVertexArray,_t.indexArray),Bt=Nt.vertexLength,Wt=Dt.tileAnchorX,qt=Dt.tileAnchorY;for(let ar=0;ar<4;ar++)_t.collisionVertexArray.emplaceBack(0,0,0,0);_t.collisionVertexArrayExt.emplaceBack(mt,-ct.padding,-ct.padding),_t.collisionVertexArrayExt.emplaceBack(mt,ct.padding,-ct.padding),_t.collisionVertexArrayExt.emplaceBack(mt,ct.padding,ct.padding),_t.collisionVertexArrayExt.emplaceBack(mt,-ct.padding,ct.padding),this._commitLayoutVertex(_t.layoutVertexArray,St,At,Mt,Wt,qt,new dt(ct.x1,ct.y1)),this._commitLayoutVertex(_t.layoutVertexArray,St,At,Mt,Wt,qt,new dt(ct.x2,ct.y1)),this._commitLayoutVertex(_t.layoutVertexArray,St,At,Mt,Wt,qt,new dt(ct.x2,ct.y2)),this._commitLayoutVertex(_t.layoutVertexArray,St,At,Mt,Wt,qt,new dt(ct.x1,ct.y2)),Nt.vertexLength+=4;const Xt=_t.indexArray;Xt.emplaceBack(Bt,Bt+1),Xt.emplaceBack(Bt+1,Bt+2),Xt.emplaceBack(Bt+2,Bt+3),Xt.emplaceBack(Bt+3,Bt),Nt.primitiveLength+=4}_addTextDebugCollisionBoxes(ct,mt,_t,St,At,Mt){for(let Dt=St;Dt<At;Dt++){const Nt=_t.get(Dt),Bt=this.getSymbolInstanceTextSize(ct,Mt,mt,Dt);this._addCollisionDebugVertices(Nt,Bt,this.textCollisionBox,Nt.projectedAnchorX,Nt.projectedAnchorY,Nt.projectedAnchorZ,Mt)}}_addIconDebugCollisionBoxes(ct,mt,_t,St,At,Mt){for(let Dt=St;Dt<At;Dt++){const Nt=_t.get(Dt),Bt=this.getSymbolInstanceIconSize(ct,mt,Dt);this._addCollisionDebugVertices(Nt,Bt,this.iconCollisionBox,Nt.projectedAnchorX,Nt.projectedAnchorY,Nt.projectedAnchorZ,Mt)}}generateCollisionDebugBuffers(ct,mt){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new H_(Ts,gx.members,Vs),this.iconCollisionBox=new H_(Ts,gx.members,Vs);const _t=Mm(this.iconSizeData,ct),St=Mm(this.textSizeData,ct);for(let At=0;At<this.symbolInstances.length;At++){const Mt=this.symbolInstances.get(At);this._addTextDebugCollisionBoxes(St,ct,mt,Mt.textBoxStartIndex,Mt.textBoxEndIndex,Mt),this._addTextDebugCollisionBoxes(St,ct,mt,Mt.verticalTextBoxStartIndex,Mt.verticalTextBoxEndIndex,Mt),this._addIconDebugCollisionBoxes(_t,ct,mt,Mt.iconBoxStartIndex,Mt.iconBoxEndIndex,Mt),this._addIconDebugCollisionBoxes(_t,ct,mt,Mt.verticalIconBoxStartIndex,Mt.verticalIconBoxEndIndex,Mt)}}getSymbolInstanceTextSize(ct,mt,_t,St){const At=this.text.placedSymbolArray.get(mt.rightJustifiedTextSymbolIndex>=0?mt.rightJustifiedTextSymbolIndex:mt.centerJustifiedTextSymbolIndex>=0?mt.centerJustifiedTextSymbolIndex:mt.leftJustifiedTextSymbolIndex>=0?mt.leftJustifiedTextSymbolIndex:mt.verticalPlacedTextSymbolIndex>=0?mt.verticalPlacedTextSymbolIndex:St),Mt=k0(this.textSizeData,ct,At)/Sl;return this.tilePixelRatio*Mt}getSymbolInstanceIconSize(ct,mt,_t){const St=this.icon.placedSymbolArray.get(_t),At=k0(this.iconSizeData,ct,St);return this.tilePixelRatio*At}_commitDebugCollisionVertexUpdate(ct,mt,_t){ct.emplaceBack(mt,-_t,-_t),ct.emplaceBack(mt,_t,-_t),ct.emplaceBack(mt,_t,_t),ct.emplaceBack(mt,-_t,_t)}_updateTextDebugCollisionBoxes(ct,mt,_t,St,At,Mt){for(let Dt=St;Dt<At;Dt++){const Nt=_t.get(Dt),Bt=this.getSymbolInstanceTextSize(ct,Mt,mt,Dt);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,Bt,Nt.padding)}}_updateIconDebugCollisionBoxes(ct,mt,_t,St,At){for(let Mt=St;Mt<At;Mt++){const Dt=_t.get(Mt),Nt=this.getSymbolInstanceIconSize(ct,mt,Mt);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,Nt,Dt.padding)}}updateCollisionDebugBuffers(ct,mt){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const _t=Mm(this.iconSizeData,ct),St=Mm(this.textSizeData,ct);for(let At=0;At<this.symbolInstances.length;At++){const Mt=this.symbolInstances.get(At);this._updateTextDebugCollisionBoxes(St,ct,mt,Mt.textBoxStartIndex,Mt.textBoxEndIndex,Mt),this._updateTextDebugCollisionBoxes(St,ct,mt,Mt.verticalTextBoxStartIndex,Mt.verticalTextBoxEndIndex,Mt),this._updateIconDebugCollisionBoxes(_t,ct,mt,Mt.iconBoxStartIndex,Mt.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(_t,ct,mt,Mt.verticalIconBoxStartIndex,Mt.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(ct,mt,_t,St,At,Mt,Dt,Nt,Bt){const Wt={};for(let qt=mt;qt<_t;qt++){const Xt=ct.get(qt);Wt.textBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.textFeatureIndex=Xt.featureIndex;break}for(let qt=St;qt<At;qt++){const Xt=ct.get(qt);Wt.verticalTextBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.verticalTextFeatureIndex=Xt.featureIndex;break}for(let qt=Mt;qt<Dt;qt++){const Xt=ct.get(qt);Wt.iconBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.iconFeatureIndex=Xt.featureIndex;break}for(let qt=Nt;qt<Bt;qt++){const Xt=ct.get(qt);Wt.verticalIconBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.verticalIconFeatureIndex=Xt.featureIndex;break}return Wt}deserializeCollisionBoxes(ct){this.collisionArrays=[];for(let mt=0;mt<this.symbolInstances.length;mt++){const _t=this.symbolInstances.get(mt);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(ct,_t.textBoxStartIndex,_t.textBoxEndIndex,_t.verticalTextBoxStartIndex,_t.verticalTextBoxEndIndex,_t.iconBoxStartIndex,_t.iconBoxEndIndex,_t.verticalIconBoxStartIndex,_t.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(ct,mt){const _t=ct.placedSymbolArray.get(mt),St=_t.vertexStartIndex+4*_t.numGlyphs;for(let At=_t.vertexStartIndex;At<St;At+=4)ct.indexArray.emplaceBack(At,At+1,At+2),ct.indexArray.emplaceBack(At+1,At+2,At+3)}getSortedSymbolIndexes(ct){if(this.sortedAngle===ct&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const mt=Math.sin(ct),_t=Math.cos(ct),St=[],At=[],Mt=[];for(let Dt=0;Dt<this.symbolInstances.length;++Dt){Mt.push(Dt);const Nt=this.symbolInstances.get(Dt);St.push(0|Math.round(mt*Nt.tileAnchorX+_t*Nt.tileAnchorY)),At.push(Nt.featureIndex)}return Mt.sort((Dt,Nt)=>St[Dt]-St[Nt]||At[Nt]-At[Dt]),Mt}addToSortKeyRanges(ct,mt){const _t=this.sortKeyRanges[this.sortKeyRanges.length-1];_t&&_t.sortKey===mt?_t.symbolInstanceEnd=ct+1:this.sortKeyRanges.push({sortKey:mt,symbolInstanceStart:ct,symbolInstanceEnd:ct+1})}sortFeatures(ct){if(this.sortFeaturesByY&&this.sortedAngle!==ct&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(ct),this.sortedAngle=ct,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const mt of this.symbolInstanceIndexes){const _t=this.symbolInstances.get(mt);this.featureSortOrder.push(_t.featureIndex),[_t.rightJustifiedTextSymbolIndex,_t.centerJustifiedTextSymbolIndex,_t.leftJustifiedTextSymbolIndex].forEach((St,At,Mt)=>{St>=0&&Mt.indexOf(St)===At&&this.addIndicesForPlacedSymbol(this.text,St)}),_t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_t.verticalPlacedTextSymbolIndex),_t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_t.placedIconSymbolIndex),_t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ro(rv,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),rv.MAX_GLYPHS=65535,rv.addDynamicAttributes=Y0;const Gw=new Tn({"symbol-placement":new hn(Ur.layout_symbol["symbol-placement"]),"symbol-spacing":new hn(Ur.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new hn(Ur.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kr(Ur.layout_symbol["symbol-sort-key"]),"symbol-z-order":new hn(Ur.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new hn(Ur.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new hn(Ur.layout_symbol["icon-ignore-placement"]),"icon-optional":new hn(Ur.layout_symbol["icon-optional"]),"icon-rotation-alignment":new hn(Ur.layout_symbol["icon-rotation-alignment"]),"icon-size":new kr(Ur.layout_symbol["icon-size"]),"icon-text-fit":new hn(Ur.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new hn(Ur.layout_symbol["icon-text-fit-padding"]),"icon-image":new kr(Ur.layout_symbol["icon-image"]),"icon-rotate":new kr(Ur.layout_symbol["icon-rotate"]),"icon-padding":new hn(Ur.layout_symbol["icon-padding"]),"icon-keep-upright":new hn(Ur.layout_symbol["icon-keep-upright"]),"icon-offset":new kr(Ur.layout_symbol["icon-offset"]),"icon-anchor":new kr(Ur.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new hn(Ur.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new hn(Ur.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new hn(Ur.layout_symbol["text-rotation-alignment"]),"text-field":new kr(Ur.layout_symbol["text-field"]),"text-font":new kr(Ur.layout_symbol["text-font"]),"text-size":new kr(Ur.layout_symbol["text-size"]),"text-max-width":new kr(Ur.layout_symbol["text-max-width"]),"text-line-height":new kr(Ur.layout_symbol["text-line-height"]),"text-letter-spacing":new kr(Ur.layout_symbol["text-letter-spacing"]),"text-justify":new kr(Ur.layout_symbol["text-justify"]),"text-radial-offset":new kr(Ur.layout_symbol["text-radial-offset"]),"text-variable-anchor":new hn(Ur.layout_symbol["text-variable-anchor"]),"text-anchor":new kr(Ur.layout_symbol["text-anchor"]),"text-max-angle":new hn(Ur.layout_symbol["text-max-angle"]),"text-writing-mode":new hn(Ur.layout_symbol["text-writing-mode"]),"text-rotate":new kr(Ur.layout_symbol["text-rotate"]),"text-padding":new hn(Ur.layout_symbol["text-padding"]),"text-keep-upright":new hn(Ur.layout_symbol["text-keep-upright"]),"text-transform":new kr(Ur.layout_symbol["text-transform"]),"text-offset":new kr(Ur.layout_symbol["text-offset"]),"text-allow-overlap":new hn(Ur.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new hn(Ur.layout_symbol["text-ignore-placement"]),"text-optional":new hn(Ur.layout_symbol["text-optional"])});var W_={paint:new Tn({"icon-opacity":new kr(Ur.paint_symbol["icon-opacity"]),"icon-color":new kr(Ur.paint_symbol["icon-color"]),"icon-halo-color":new kr(Ur.paint_symbol["icon-halo-color"]),"icon-halo-width":new kr(Ur.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kr(Ur.paint_symbol["icon-halo-blur"]),"icon-translate":new hn(Ur.paint_symbol["icon-translate"]),"icon-translate-anchor":new hn(Ur.paint_symbol["icon-translate-anchor"]),"text-opacity":new kr(Ur.paint_symbol["text-opacity"]),"text-color":new kr(Ur.paint_symbol["text-color"],{runtimeType:ho,getOverride:pt=>pt.textColor,hasOverride:pt=>!!pt.textColor}),"text-halo-color":new kr(Ur.paint_symbol["text-halo-color"]),"text-halo-width":new kr(Ur.paint_symbol["text-halo-width"]),"text-halo-blur":new kr(Ur.paint_symbol["text-halo-blur"]),"text-translate":new hn(Ur.paint_symbol["text-translate"]),"text-translate-anchor":new hn(Ur.paint_symbol["text-translate-anchor"])}),layout:Gw};class o2{constructor(ct){this.type=ct.property.overrides?ct.property.overrides.runtimeType:ts,this.defaultValue=ct}evaluate(ct){if(ct.formattedSection){const mt=this.defaultValue.property.overrides;if(mt&&mt.hasOverride(ct.formattedSection))return mt.getOverride(ct.formattedSection)}return ct.feature&&ct.featureState?this.defaultValue.evaluate(ct.feature,ct.featureState):this.defaultValue.property.specification.default}eachChild(ct){this.defaultValue.isConstant()||ct(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ro(o2,"FormatSectionOverride",{omit:["defaultValue"]});class q0 extends Mu{constructor(ct){super(ct,W_)}recalculate(ct,mt){super.recalculate(ct,mt),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const _t=this.layout.get("text-writing-mode");if(_t){const St=[];for(const At of _t)St.indexOf(At)<0&&St.push(At);this.layout._values["text-writing-mode"]=St}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(ct,mt,_t,St){const At=this.layout.get(ct).evaluate(mt,{},_t,St),Mt=this._unevaluatedLayout._values[ct];return Mt.isDataDriven()||om(Mt.value)||!At?At:function(Dt,Nt){return Nt.replace(/{([^{}]+)}/g,(Bt,Wt)=>Wt in Dt?String(Dt[Wt]):"")}(mt.properties,At)}createBucket(ct){return new rv(ct)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const ct of W_.paint.overridableProperties){if(!q0.hasPaintOverride(this.layout,ct))continue;const mt=this.paint.get(ct),_t=new o2(mt),St=new im(_t,mt.property.specification);let At=null;At=mt.value.kind==="constant"||mt.value.kind==="source"?new sm("source",St):new bv("composite",St,mt.value.zoomStops,mt.value._interpolationType),this.paint._values[ct]=new xn(mt.property,At,mt.parameters)}}_handleOverridablePaintPropertyUpdate(ct,mt,_t){return!(!this.layout||mt.isDataDriven()||_t.isDataDriven())&&q0.hasPaintOverride(this.layout,ct)}static hasPaintOverride(ct,mt){const _t=ct.get("text-field"),St=W_.paint.properties[mt];let At=!1;const Mt=Dt=>{for(const Nt of Dt)if(St.overrides&&St.overrides.hasOverride(Nt))return void(At=!0)};if(_t.value.kind==="constant"&&_t.value.value instanceof js)Mt(_t.value.value.sections);else if(_t.value.kind==="source"){const Dt=Bt=>{At||(Bt instanceof Qu&&gs(Bt.value)===As?Mt(Bt.value.sections):Bt instanceof hu?Mt(Bt.sections):Bt.eachChild(Dt))},Nt=_t.value;Nt._styleExpression&&Dt(Nt._styleExpression.expression)}return At}getProgramConfiguration(ct){return new qp(this,ct)}}var Hw={paint:new Tn({"background-color":new hn(Ur.paint_background["background-color"]),"background-pattern":new Ln(Ur.paint_background["background-pattern"]),"background-opacity":new hn(Ur.paint_background["background-opacity"])})},Ww={paint:new Tn({"raster-opacity":new hn(Ur.paint_raster["raster-opacity"]),"raster-hue-rotate":new hn(Ur.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new hn(Ur.paint_raster["raster-brightness-min"]),"raster-brightness-max":new hn(Ur.paint_raster["raster-brightness-max"]),"raster-saturation":new hn(Ur.paint_raster["raster-saturation"]),"raster-contrast":new hn(Ur.paint_raster["raster-contrast"]),"raster-resampling":new hn(Ur.paint_raster["raster-resampling"]),"raster-fade-duration":new hn(Ur.paint_raster["raster-fade-duration"])})};class Kw extends Mu{constructor(ct){super(ct,{}),this.implementation=ct}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(ct){this.implementation.onAdd&&this.implementation.onAdd(ct,ct.painter.context.gl)}onRemove(ct){this.implementation.onRemove&&this.implementation.onRemove(ct,ct.painter.context.gl)}}var Yw={paint:new Tn({"sky-type":new hn(Ur.paint_sky["sky-type"]),"sky-atmosphere-sun":new hn(Ur.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new hn(Ur.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new hn(Ur.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new hn(Ur.paint_sky["sky-gradient-radius"]),"sky-gradient":new na(Ur.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new hn(Ur.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new hn(Ur.paint_sky["sky-atmosphere-color"]),"sky-opacity":new hn(Ur.paint_sky["sky-opacity"])})};function K_(pt,ct,mt){const _t=[0,0,1],St=H1([]);return K1(St,St,mt?-xt(pt)+Math.PI:xt(pt)),W1(St,St,-xt(ct)),U1(_t,_t,St),Ml(_t,_t)}const qw={circle:class extends Mu{constructor(pt){super(pt,eS)}createBucket(pt){return new d_(pt)}queryRadius(pt){const ct=pt;return Em("circle-radius",this,ct)+Em("circle-stroke-width",this,ct)+_0(this.paint.get("circle-translate"))}queryIntersectsFeature(pt,ct,mt,_t,St,At,Mt,Dt){const Nt=N1(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),At.angle,pt.pixelToTileUnitsFactor),Bt=this.paint.get("circle-radius").evaluate(ct,mt)+this.paint.get("circle-stroke-width").evaluate(ct,mt);return Y1(pt,_t,At,Mt,Dt,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",Nt,Bt)}getProgramIds(){return["circle"]}getProgramConfiguration(pt){return new qp(this,pt)}},heatmap:class extends Mu{createBucket(pt){return new Z1(pt)}constructor(pt){super(pt,sS),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(pt){pt==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=S_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(pt){return Em("heatmap-radius",this,pt)}queryIntersectsFeature(pt,ct,mt,_t,St,At,Mt,Dt){const Nt=this.paint.get("heatmap-radius").evaluate(ct,mt);return Y1(pt,_t,At,Mt,Dt,!0,!0,new dt(0,0),Nt)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(pt){return new qp(this,pt)}},hillshade:class extends Mu{constructor(pt){super(pt,lS)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Mu{constructor(pt){super(pt,TS)}getProgramIds(){const pt=this.paint.get("fill-pattern"),ct=pt&&pt.constantOr(1),mt=[ct?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&mt.push(ct&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),mt}getProgramConfiguration(pt){return new qp(this,pt)}recalculate(pt,ct){super.recalculate(pt,ct);const mt=this.paint._values["fill-outline-color"];mt.value.kind==="constant"&&mt.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(pt){return new I0(pt)}queryRadius(){return _0(this.paint.get("fill-translate"))}queryIntersectsFeature(pt,ct,mt,_t,St,At){return!pt.queryGeometry.isAboveHorizon&&R1(k1(pt.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),At.angle,pt.pixelToTileUnitsFactor),_t)}isTileClipped(){return!0}},"fill-extrusion":class extends Mu{constructor(pt){super(pt,NS)}createBucket(pt){return new by(pt)}queryRadius(){return _0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(pt){return new qp(this,pt)}queryIntersectsFeature(pt,ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=N1(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),At.angle,pt.pixelToTileUnitsFactor),Wt=this.paint.get("fill-extrusion-height").evaluate(ct,mt),qt=this.paint.get("fill-extrusion-base").evaluate(ct,mt),Xt=[0,0],ar=Dt&&At.elevation,lr=At.elevation?At.elevation.exaggeration():1,hr=pt.tile.getBucket(this);if(ar&&hr instanceof by){const Vr=hr.centroidVertexArray,Fr=Nt+1;if(Fr<Vr.length){const jr=Vr.get(Fr);Xt[0]=jr.a_centroid_pos0,Xt[1]=jr.a_centroid_pos1}}if(Xt[0]===0&&Xt[1]===1)return!1;At.projection.name==="globe"&&(_t=ux([_t],[new dt(0,0),new dt(Ao,Ao)],pt.tileID.canonical).map(Vr=>Vr.polygon).flat());const Sr=function(Vr,Fr,jr,Wr,Yr,_n,bn,Dn,jn,dn,An){return Vr.projection.name==="globe"?function(Wn,Kn,eo,Un,xa,No,Bo,So,ao,jo,zo){const go=[],Hs=[],Ns=Wn.projection.upVectorScale(zo,Wn.center.lat,Wn.worldSize).metersToTile,Rs=[0,0,0,1],Go=[0,0,0,1],is=(_s,ms,ws,Ps)=>{_s[0]=ms,_s[1]=ws,_s[2]=Ps,_s[3]=1},bs=lx();eo>0&&(eo+=bs),Un+=bs;for(const _s of Kn){const ms=[],ws=[];for(const Ps of _s){const Js=Ps.x+xa.x,Gl=Ps.y+xa.y,qo=Wn.projection.projectTilePoint(Js,Gl,zo),Ds=Wn.projection.upVector(zo,Ps.x,Ps.y);let El=eo,ds=Un;if(Bo){const $s=hx(Js,Gl,eo,Un,Bo,So,ao,jo);El+=$s.base,ds+=$s.top}eo!==0?is(Rs,qo.x+Ds[0]*Ns*El,qo.y+Ds[1]*Ns*El,qo.z+Ds[2]*Ns*El):is(Rs,qo.x,qo.y,qo.z),is(Go,qo.x+Ds[0]*Ns*ds,qo.y+Ds[1]*Ns*ds,qo.z+Ds[2]*Ns*ds),xl(Rs,Rs,No),xl(Go,Go,No),ms.push(L0(Rs)),ws.push(L0(Go))}go.push(ms),Hs.push(ws)}return[go,Hs]}(Vr,Fr,jr,Wr,Yr,_n,bn,Dn,jn,dn,An):bn?function(Wn,Kn,eo,Un,xa,No,Bo,So,ao){const jo=[],zo=[],go=[0,0,0,1];for(const Hs of Wn){const Ns=[],Rs=[];for(const Go of Hs){const is=Go.x+Un.x,bs=Go.y+Un.y,_s=hx(is,bs,Kn,eo,No,Bo,So,ao);go[0]=is,go[1]=bs,go[2]=_s.base,go[3]=1,Fv(go,go,xa),go[3]=Math.max(go[3],1e-5);const ms=L0([go[0]/go[3],go[1]/go[3],go[2]/go[3]]);go[0]=is,go[1]=bs,go[2]=_s.top,go[3]=1,Fv(go,go,xa),go[3]=Math.max(go[3],1e-5);const ws=L0([go[0]/go[3],go[1]/go[3],go[2]/go[3]]);Ns.push(ms),Rs.push(ws)}jo.push(Ns),zo.push(Rs)}return[jo,zo]}(Fr,jr,Wr,Yr,_n,bn,Dn,jn,dn):function(Wn,Kn,eo,Un,xa){const No=[],Bo=[],So=xa[8]*Kn,ao=xa[9]*Kn,jo=xa[10]*Kn,zo=xa[11]*Kn,go=xa[8]*eo,Hs=xa[9]*eo,Ns=xa[10]*eo,Rs=xa[11]*eo;for(const Go of Wn){const is=[],bs=[];for(const _s of Go){const ms=_s.x+Un.x,ws=_s.y+Un.y,Ps=xa[0]*ms+xa[4]*ws+xa[12],Js=xa[1]*ms+xa[5]*ws+xa[13],Gl=xa[2]*ms+xa[6]*ws+xa[14],qo=xa[3]*ms+xa[7]*ws+xa[15],Ds=Ps+So,El=Js+ao,ds=Gl+jo,$s=Math.max(qo+zo,1e-5),Dl=Ps+go,Es=Js+Hs,Fs=Gl+Ns,yl=Math.max(qo+Rs,1e-5),Xs=new dt(Ds/$s,El/$s);Xs.z=ds/$s,is.push(Xs);const Cl=new dt(Dl/yl,Es/yl);Cl.z=Fs/yl,bs.push(Cl)}No.push(is),Bo.push(bs)}return[No,Bo]}(Fr,jr,Wr,Yr,_n)}(At,_t,qt,Wt,Bt,Mt,ar?Dt:null,Xt,lr,At.center.lat,pt.tileID.canonical),Ar=pt.queryGeometry;return function(Vr,Fr,jr){let Wr=1/0;R1(jr,Fr)&&(Wr=dx(jr,Fr[0]));for(let Yr=0;Yr<Fr.length;Yr++){const _n=Fr[Yr],bn=Vr[Yr];for(let Dn=0;Dn<_n.length-1;Dn++){const jn=_n[Dn],dn=[jn,_n[Dn+1],bn[Dn+1],bn[Dn],jn];I1(jr,dn)&&(Wr=Math.min(Wr,dx(jr,dn)))}}return Wr!==1/0&&Wr}(Sr[0],Sr[1],Ar.isPointQuery()?Ar.screenBounds:Ar.screenGeometry)}},line:class extends Mu{constructor(pt){super(pt,px),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(pt){if(pt==="line-gradient"){const ct=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ct._styleExpression&&ct._styleExpression.expression instanceof ep,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(pt,ct){super.recalculate(pt,ct),this.paint._values["line-floorwidth"]=vx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,pt)}createBucket(pt){return new O0(pt)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(pt){return new qp(this,pt)}queryRadius(pt){const ct=pt,mt=mx(Em("line-width",this,ct),Em("line-gap-width",this,ct)),_t=Em("line-offset",this,ct);return mt/2+Math.abs(_t)+_0(this.paint.get("line-translate"))}queryIntersectsFeature(pt,ct,mt,_t,St,At){if(pt.queryGeometry.isAboveHorizon)return!1;const Mt=k1(pt.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),At.angle,pt.pixelToTileUnitsFactor),Dt=pt.pixelToTileUnitsFactor/2*mx(this.paint.get("line-width").evaluate(ct,mt),this.paint.get("line-gap-width").evaluate(ct,mt)),Nt=this.paint.get("line-offset").evaluate(ct,mt);return Nt&&(_t=function(Bt,Wt){const qt=[],Xt=new dt(0,0);for(let ar=0;ar<Bt.length;ar++){const lr=Bt[ar],hr=[];for(let Sr=0;Sr<lr.length;Sr++){const Ar=lr[Sr-1],Vr=lr[Sr],Fr=lr[Sr+1],jr=Sr===0?Xt:Vr.sub(Ar)._unit()._perp(),Wr=Sr===lr.length-1?Xt:Fr.sub(Vr)._unit()._perp(),Yr=jr._add(Wr)._unit();Yr._mult(1/(Yr.x*Wr.x+Yr.y*Wr.y)),hr.push(Yr._mult(Wt)._add(Vr))}qt.push(hr)}return qt}(_t,Nt*pt.pixelToTileUnitsFactor)),function(Bt,Wt,qt){for(let Xt=0;Xt<Wt.length;Xt++){const ar=Wt[Xt];if(Bt.length>=3){for(let lr=0;lr<ar.length;lr++)if(kv(Bt,ar[lr]))return!0}if(Z2(Bt,ar,qt))return!0}return!1}(Mt,_t,Dt)}isTileClipped(){return!0}},symbol:q0,background:class extends Mu{constructor(pt){super(pt,Hw)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Mu{constructor(pt){super(pt,Ww)}getProgramIds(){return["raster"]}},sky:class extends Mu{constructor(pt){super(pt,Yw),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(pt){pt==="sky-gradient"?this._updateColorRamp():pt!=="sky-atmosphere-sun"&&pt!=="sky-atmosphere-halo-color"&&pt!=="sky-atmosphere-color"&&pt!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=S_({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(pt){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const ct=pt.style.light.properties.get("position");return this._lightPosition.azimuthal!==ct.azimuthal||this._lightPosition.polar!==ct.polar}return!1}getCenter(pt,ct){if(this.paint.get("sky-type")==="atmosphere"){const _t=this.paint.get("sky-atmosphere-sun"),St=!_t,At=pt.style.light,Mt=At.properties.get("position");return St&&At.properties.get("anchor")==="viewport"&&wr("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),St?K_(Mt.azimuthal,90-Mt.polar,ct):K_(_t[0],90-_t[1],ct)}const mt=this.paint.get("sky-gradient-center");return K_(mt[0],90-mt[1],ct)}is3D(){return!1}isSky(){return!0}markSkyboxValid(pt){this._skyboxInvalidated=!1,this._lightPosition=pt.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const pt=this.paint.get("sky-type");return pt==="atmosphere"?["skyboxCapture","skybox"]:pt==="gradient"?["skyboxGradient"]:null}}};class Ly{constructor(ct,mt,_t,St){this.context=ct,this.format=_t,this.texture=ct.gl.createTexture(),this.update(mt,St)}update(ct,mt,_t){const{width:St,height:At}=ct,{context:Mt}=this,{gl:Dt}=Mt,{HTMLImageElement:Nt,HTMLCanvasElement:Bt,HTMLVideoElement:Wt,ImageData:qt,ImageBitmap:Xt}=st;if(Dt.bindTexture(Dt.TEXTURE_2D,this.texture),Mt.pixelStoreUnpackFlipY.set(!1),Mt.pixelStoreUnpack.set(1),Mt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Dt.RGBA&&(!mt||mt.premultiply!==!1)),_t||this.size&&this.size[0]===St&&this.size[1]===At){const{x:ar,y:lr}=_t||{x:0,y:0};ct instanceof Nt||ct instanceof Bt||ct instanceof Wt||ct instanceof qt||Xt&&ct instanceof Xt?Dt.texSubImage2D(Dt.TEXTURE_2D,0,ar,lr,Dt.RGBA,Dt.UNSIGNED_BYTE,ct):Dt.texSubImage2D(Dt.TEXTURE_2D,0,ar,lr,St,At,Dt.RGBA,Dt.UNSIGNED_BYTE,ct.data)}else this.size=[St,At],ct instanceof Nt||ct instanceof Bt||ct instanceof Wt||ct instanceof qt||Xt&&ct instanceof Xt?Dt.texImage2D(Dt.TEXTURE_2D,0,this.format,this.format,Dt.UNSIGNED_BYTE,ct):Dt.texImage2D(Dt.TEXTURE_2D,0,this.format,St,At,0,this.format,Dt.UNSIGNED_BYTE,ct.data);this.useMipmap=Boolean(mt&&mt.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&Dt.generateMipmap(Dt.TEXTURE_2D)}bind(ct,mt){const{context:_t}=this,{gl:St}=_t;St.bindTexture(St.TEXTURE_2D,this.texture),ct!==this.filter&&(St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MAG_FILTER,ct),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MIN_FILTER,this.useMipmap?ct===St.NEAREST?St.NEAREST_MIPMAP_NEAREST:St.LINEAR_MIPMAP_NEAREST:ct),this.filter=ct),mt!==this.wrap&&(St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_S,mt),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_T,mt),this.wrap=mt)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:ct}=this.context;ct.deleteTexture(this.texture),this.texture=null}}class Y_{constructor(ct,mt){this.width=ct,this.height=mt,this.nextRow=0,this.image=new mp({width:ct,height:mt}),this.positions={},this.uploaded=!1}getDash(ct,mt){const _t=this.getKey(ct,mt);return this.positions[_t]}trim(){const ct=this.width,mt=this.height=Qt(this.nextRow);this.image.resize({width:ct,height:mt})}getKey(ct,mt){return ct.join(",")+mt}getDashRanges(ct,mt,_t){const St=[];let At=ct.length%2==1?-ct[ct.length-1]*_t:0,Mt=ct[0]*_t,Dt=!0;St.push({left:At,right:Mt,isDash:Dt,zeroLength:ct[0]===0});let Nt=ct[0];for(let Bt=1;Bt<ct.length;Bt++){Dt=!Dt;const Wt=ct[Bt];At=Nt*_t,Nt+=Wt,Mt=Nt*_t,St.push({left:At,right:Mt,isDash:Dt,zeroLength:Wt===0})}return St}addRoundDash(ct,mt,_t){const St=mt/2;for(let At=-_t;At<=_t;At++){const Mt=this.width*(this.nextRow+_t+At);let Dt=0,Nt=ct[Dt];for(let Bt=0;Bt<this.width;Bt++){Bt/Nt.right>1&&(Nt=ct[++Dt]);const Wt=Math.abs(Bt-Nt.left),qt=Math.abs(Bt-Nt.right),Xt=Math.min(Wt,qt);let ar;const lr=At/_t*(St+1);if(Nt.isDash){const hr=St-Math.abs(lr);ar=Math.sqrt(Xt*Xt+hr*hr)}else ar=St-Math.sqrt(Xt*Xt+lr*lr);this.image.data[Mt+Bt]=Math.max(0,Math.min(255,ar+128))}}}addRegularDash(ct,mt){for(let Nt=ct.length-1;Nt>=0;--Nt){const Bt=ct[Nt],Wt=ct[Nt+1];Bt.zeroLength?ct.splice(Nt,1):Wt&&Wt.isDash===Bt.isDash&&(Wt.left=Bt.left,ct.splice(Nt,1))}const _t=ct[0],St=ct[ct.length-1];_t.isDash===St.isDash&&(_t.left=St.left-this.width,St.right=_t.right+this.width);const At=this.width*this.nextRow;let Mt=0,Dt=ct[Mt];for(let Nt=0;Nt<this.width;Nt++){Nt/Dt.right>1&&(Dt=ct[++Mt]);const Bt=Math.abs(Nt-Dt.left),Wt=Math.abs(Nt-Dt.right),qt=Math.min(Bt,Wt);this.image.data[At+Nt]=Math.max(0,Math.min(255,(Dt.isDash?qt:-qt)+mt+128))}}addDash(ct,mt){const _t=this.getKey(ct,mt);if(this.positions[_t])return this.positions[_t];const St=mt==="round",At=St?7:0,Mt=2*At+1;if(this.nextRow+Mt>this.height)return wr("LineAtlas out of space"),null;ct.length===0&&ct.push(1);let Dt=0;for(let Wt=0;Wt<ct.length;Wt++)ct[Wt]<0&&(wr("Negative value is found in line dasharray, replacing values with 0"),ct[Wt]=0),Dt+=ct[Wt];if(Dt!==0){const Wt=this.width/Dt,qt=this.getDashRanges(ct,this.width,Wt);St?this.addRoundDash(qt,Wt,At):this.addRegularDash(qt,mt==="square"?.5*Wt:0)}const Nt=this.nextRow+At;this.nextRow+=Mt;const Bt={tl:[Nt,At],br:[Dt,0]};return this.positions[_t]=Bt,Bt}}ro(Y_,"LineAtlas");class Zw{constructor(ct){this._callback=ct,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Xw{constructor(){this.tasks={},this.taskQueue=[],nr(["process"],this),this.invoker=new Zw(this.process),this.nextId=0}add(ct,mt){const _t=this.nextId++,St=function({type:At,isSymbolTile:Mt,zoom:Dt}){return Dt=Dt||0,At==="message"?0:At!=="maybePrepare"||Mt?At!=="parseTile"||Mt?At==="parseTile"&&Mt?300-Dt:At==="maybePrepare"&&Mt?400-Dt:500:200-Dt:100-Dt}(mt);if(St===0){Br();try{ct()}finally{}return{cancel:()=>{}}}return this.tasks[_t]={fn:ct,metadata:mt,priority:St,id:_t},this.taskQueue.push(_t),this.invoker.trigger(),{cancel:()=>{delete this.tasks[_t]}}}process(){Br();try{if(this.taskQueue=this.taskQueue.filter(_t=>!!this.tasks[_t]),!this.taskQueue.length)return;const ct=this.pick();if(ct===null)return;const mt=this.tasks[ct];if(delete this.tasks[ct],this.taskQueue.length&&this.invoker.trigger(),!mt)return;mt.fn()}finally{}}pick(){let ct=null,mt=1/0;for(let St=0;St<this.taskQueue.length;St++){const At=this.tasks[this.taskQueue[St]];At.priority<mt&&(mt=At.priority,ct=St)}if(ct===null)return null;const _t=this.taskQueue[ct];return this.taskQueue.splice(ct,1),_t}remove(){this.invoker.remove()}}class s2{constructor(ct){this._stringToNumber={},this._numberToString=[];for(let mt=0;mt<ct.length;mt++){const _t=ct[mt];this._stringToNumber[_t]=mt,this._numberToString[mt]=_t}}encode(ct){return this._stringToNumber[ct]}decode(ct){return this._numberToString[ct]}}const Qw=["tile","layer","source","sourceLayer","state"];class l2{constructor(ct,mt,_t,St,At){this.type="Feature",this._vectorTileFeature=ct,this._z=mt,this._x=_t,this._y=St,this.properties=ct.properties,this.id=At}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(ct){this._geometry=ct}toJSON(){const ct={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(ct.id=this.id);for(const mt of Qw)this[mt]!==void 0&&(ct[mt]=this[mt]);return ct}}const Su=32,Yu=33,nv=new Uint16Array(8184);for(let pt=0;pt<2046;pt++){let ct=pt+2,mt=0,_t=0,St=0,At=0,Mt=0,Dt=0;for(1&ct?St=At=Mt=Su:mt=_t=Dt=Su;(ct>>=1)>1;){const Bt=mt+St>>1,Wt=_t+At>>1;1&ct?(St=mt,At=_t,mt=Mt,_t=Dt):(mt=St,_t=At,St=Mt,At=Dt),Mt=Bt,Dt=Wt}const Nt=4*pt;nv[Nt+0]=mt,nv[Nt+1]=_t,nv[Nt+2]=St,nv[Nt+3]=At}const qu=new Uint16Array(2178),av=new Uint8Array(1089),Z0=new Uint16Array(1089);function u2(pt){return pt===0?-.03125:pt===32?.03125:0}var c2=Zn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const f2={type:2,extent:Ao,loadGeometry:()=>[[new dt(0,0),new dt(8193,0),new dt(8193,8193),new dt(0,8193),new dt(0,0)]]};class q_{constructor(ct,mt,_t,St,At){this.tileID=ct,this.uid=Kt(),this.uses=0,this.tileSize=mt,this.tileZoom=_t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=At,this.expiredRequestCount=0,this.state="loading",St&&St.transform&&(this.projection=St.transform.projection)}registerFadeDuration(ct){const mt=ct+this.timeAdded;mt<Mn.now()||this.fadeEndTime&&mt<this.fadeEndTime||(this.fadeEndTime=mt)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Vv(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(ct,mt,_t){if(this.unloadVectorData(),this.state="loaded",ct){ct.featureIndex&&(this.latestFeatureIndex=ct.featureIndex,ct.rawTileData?(this.latestRawTileData=ct.rawTileData,this.latestFeatureIndex.rawTileData=ct.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=ct.collisionBoxArray,this.buckets=function(St,At){const Mt={};if(!At)return Mt;for(const Dt of St){const Nt=Dt.layerIds.map(Bt=>At.getLayer(Bt)).filter(Boolean);if(Nt.length!==0){Dt.layers=Nt,Dt.stateDependentLayerIds&&(Dt.stateDependentLayers=Dt.stateDependentLayerIds.map(Bt=>Nt.filter(Wt=>Wt.id===Bt)[0]));for(const Bt of Nt)Mt[Bt.id]=Dt}}return Mt}(ct.buckets,mt.style),this.hasSymbolBuckets=!1;for(const St in this.buckets){const At=this.buckets[St];if(At instanceof rv){if(this.hasSymbolBuckets=!0,!_t)break;At.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const St in this.buckets){const At=this.buckets[St];if(At instanceof rv&&At.hasRTLText){this.hasRTLText=!0,_r.isLoading()||_r.isLoaded()||mr()!=="deferred"||Ir();break}}this.queryPadding=0;for(const St in this.buckets){const At=this.buckets[St];this.queryPadding=Math.max(this.queryPadding,mt.style.getLayer(St).queryRadius(At))}ct.imageAtlas&&(this.imageAtlas=ct.imageAtlas),ct.glyphAtlasImage&&(this.glyphAtlasImage=ct.glyphAtlasImage),ct.lineAtlas&&(this.lineAtlas=ct.lineAtlas)}else this.collisionBoxArray=new a_}unloadVectorData(){if(this.hasData()){for(const ct in this.buckets)this.buckets[ct].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(ct){return this.buckets[ct.id]}upload(ct){for(const _t in this.buckets){const St=this.buckets[_t];St.uploadPending()&&St.upload(ct)}const mt=ct.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ly(ct,this.imageAtlas.image,mt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ly(ct,this.glyphAtlasImage,mt.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ly(ct,this.lineAtlas.image,mt.ALPHA),this.lineAtlas.uploaded=!0)}prepare(ct){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(ct,this.imageAtlasTexture)}queryRenderedFeatures(ct,mt,_t,St,At,Mt,Dt,Nt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:St,pixelPosMatrix:Dt,transform:Mt,params:At,tileTransform:this.tileTransform},ct,mt,_t):{}}querySourceFeatures(ct,mt){const _t=this.latestFeatureIndex;if(!_t||!_t.rawTileData)return;const St=_t.loadVTLayers(),At=mt?mt.sourceLayer:"",Mt=St._geojsonTileLayer||St[At];if(!Mt)return;const Dt=cp(mt&&mt.filter),{z:Nt,x:Bt,y:Wt}=this.tileID.canonical,qt={z:Nt,x:Bt,y:Wt};for(let Xt=0;Xt<Mt.length;Xt++){const ar=Mt.feature(Xt);if(Dt.needGeometry){const Sr=Ov(ar,!0);if(!Dt.filter(new Cr(this.tileID.overscaledZ),Sr,this.tileID.canonical))continue}else if(!Dt.filter(new Cr(this.tileID.overscaledZ),ar))continue;const lr=_t.getId(ar,At),hr=new l2(ar,Nt,Bt,Wt,lr);hr.tile=qt,ct.push(hr)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(ct){const mt=this.expirationTime;if(ct.cacheControl){const _t=qr(ct.cacheControl);_t["max-age"]&&(this.expirationTime=Date.now()+1e3*_t["max-age"])}else ct.expires&&(this.expirationTime=new Date(ct.expires).getTime());if(this.expirationTime){const _t=Date.now();let St=!1;if(this.expirationTime>_t)St=!1;else if(mt)if(this.expirationTime<mt)St=!0;else{const At=this.expirationTime-mt;At?this.expirationTime=_t+Math.max(At,3e4):St=!0}else St=!0;St?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(ct,mt){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(ct).length===0||!mt)return;const _t=this.latestFeatureIndex.loadVTLayers(),St=mt.style.listImages();for(const At in this.buckets){if(!mt.style.hasLayer(At))continue;const Mt=this.buckets[At],Dt=Mt.layers[0].sourceLayer||"_geojsonTileLayer",Nt=_t[Dt],Bt=ct[Dt];if(!Nt||!Bt||Object.keys(Bt).length===0)continue;if(Mt.update(Bt,Nt,St,this.imageAtlas&&this.imageAtlas.patternPositions||{}),Mt instanceof O0||Mt instanceof I0){const qt=mt.style._getSourceCache(Mt.layers[0].source);mt._terrain&&mt._terrain.enabled&&qt&&Mt.programConfigurations.needsUpload&&mt._terrain._clearRenderCacheForTile(qt.id,this.tileID)}const Wt=mt&&mt.style&&mt.style.getLayer(At);Wt&&(this.queryPadding=Math.max(this.queryPadding,Wt.queryRadius(Mt)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Mn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(ct){this.symbolFadeHoldUntil=Mn.now()+ct}setTexture(ct,mt){const _t=mt.context,St=_t.gl;this.texture=mt.getTileTexture(ct.width),this.texture?this.texture.update(ct,{useMipmap:!0}):(this.texture=new Ly(_t,ct,St.RGBA,{useMipmap:!0}),this.texture.bind(St.LINEAR,St.CLAMP_TO_EDGE),_t.extTextureFilterAnisotropic&&St.texParameterf(St.TEXTURE_2D,_t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_t.extTextureFilterAnisotropicMax))}setDependencies(ct,mt){const _t={};for(const St of mt)_t[St]=!0;this.dependencies[ct]=_t}hasDependency(ct,mt){for(const _t of ct){const St=this.dependencies[_t];if(St){for(const At of mt)if(St[At])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(ct,mt){if(!mt||mt.name==="mercator"||this._tileDebugBuffer)return;const _t=vp(f2,this.tileID.canonical,this.tileTransform)[0],St=new Co,At=new yu;for(let Mt=0;Mt<_t.length;Mt++){const{x:Dt,y:Nt}=_t[Mt];St.emplaceBack(Dt,Nt),At.emplaceBack(Mt)}At.emplaceBack(0),this._tileDebugIndexBuffer=ct.createIndexBuffer(At),this._tileDebugBuffer=ct.createVertexBuffer(St,Py.members),this._tileDebugSegments=ks.simpleSegment(0,0,St.length,At.length)}_makeTileBoundsBuffers(ct,mt){if(this._tileBoundsBuffer||!mt||mt.name==="mercator")return;const _t=vp(f2,this.tileID.canonical,this.tileTransform)[0];let St,At;if(this.isRaster){const Mt=function(Dt,Nt){const Bt=Vv(Dt,Nt),Wt=Math.pow(2,Dt.z);for(let Sr=0;Sr<Yu;Sr++)for(let Ar=0;Ar<Yu;Ar++){const Vr=$l((Dt.x+(Ar+u2(Ar))/Su)/Wt),Fr=Gs((Dt.y+(Sr+u2(Sr))/Su)/Wt),jr=Nt.project(Vr,Fr),Wr=Sr*Yu+Ar;qu[2*Wr+0]=Math.round((jr.x*Bt.scale-Bt.x)*Ao),qu[2*Wr+1]=Math.round((jr.y*Bt.scale-Bt.y)*Ao)}av.fill(0),Z0.fill(0);for(let Sr=2045;Sr>=0;Sr--){const Ar=4*Sr,Vr=nv[Ar+0],Fr=nv[Ar+1],jr=nv[Ar+2],Wr=nv[Ar+3],Yr=Vr+jr>>1,_n=Fr+Wr>>1,bn=Yr+_n-Fr,Dn=_n+Vr-Yr,jn=Fr*Yu+Vr,dn=Wr*Yu+jr,An=_n*Yu+Yr,Wn=Math.hypot((qu[2*jn+0]+qu[2*dn+0])/2-qu[2*An+0],(qu[2*jn+1]+qu[2*dn+1])/2-qu[2*An+1])>=16;if(av[An]=av[An]||(Wn?1:0),Sr<1022){const Kn=(Fr+Dn>>1)*Yu+(Vr+bn>>1),eo=(Wr+Dn>>1)*Yu+(jr+bn>>1);av[An]=av[An]||av[Kn]||av[eo]}}const qt=new yo,Xt=new es;let ar=0;function lr(Sr,Ar){const Vr=Ar*Yu+Sr;return Z0[Vr]===0&&(qt.emplaceBack(qu[2*Vr+0],qu[2*Vr+1],Sr*Ao/Su,Ar*Ao/Su),Z0[Vr]=++ar),Z0[Vr]-1}function hr(Sr,Ar,Vr,Fr,jr,Wr){const Yr=Sr+Vr>>1,_n=Ar+Fr>>1;if(Math.abs(Sr-jr)+Math.abs(Ar-Wr)>1&&av[_n*Yu+Yr])hr(jr,Wr,Sr,Ar,Yr,_n),hr(Vr,Fr,jr,Wr,Yr,_n);else{const bn=lr(Sr,Ar),Dn=lr(Vr,Fr),jn=lr(jr,Wr);Xt.emplaceBack(bn,Dn,jn)}}return hr(0,0,Su,Su,Su,0),hr(Su,Su,0,0,0,Su),{vertices:qt,indices:Xt}}(this.tileID.canonical,mt);St=Mt.vertices,At=Mt.indices}else{St=new yo,At=new es;for(const{x:Dt,y:Nt}of _t)St.emplaceBack(Dt,Nt,0,0);const Mt=E0(St.int16,void 0,4);for(let Dt=0;Dt<Mt.length;Dt+=3)At.emplaceBack(Mt[Dt],Mt[Dt+1],Mt[Dt+2])}this._tileBoundsBuffer=ct.createVertexBuffer(St,c2.members),this._tileBoundsIndexBuffer=ct.createIndexBuffer(At),this._tileBoundsSegments=ks.simpleSegment(0,0,St.length,At.length)}_makeGlobeTileDebugBuffers(ct,mt){if(this._globeTileDebugBorderBuffer||this._globeTileDebugTextBuffer||!mt||mt.name!=="globe")return;const _t=this.tileID.canonical,St=$y(Ku(_t));this._makeGlobeTileDebugBorderBuffer(ct,_t,St),this._makeGlobeTileDebugTextBuffer(ct,_t,St)}_makeGlobeTileDebugBorderBuffer(ct,mt,_t){const St=new Co,At=new yu,Mt=new Fo,Dt=(Bt,Wt,qt,Xt,ar)=>{const lr=(qt-Bt)/(ar-1),hr=(Xt-Wt)/(ar-1),Sr=St.length;for(let Ar=0;Ar<ar;Ar++){const Vr=Bt+Ar*lr,Fr=Wt+Ar*hr;St.emplaceBack(Vr,Fr);const jr=qx(Vr,Fr,mt),Wr=xl(jr,jr,_t);Mt.emplaceBack(Wr[0],Wr[1],Wr[2]),At.emplaceBack(Sr+Ar)}},Nt=Ao;Dt(0,0,Nt,0,16),Dt(Nt,0,Nt,Nt,16),Dt(Nt,Nt,0,Nt,16),Dt(0,Nt,0,0,16),this._tileDebugIndexBuffer=ct.createIndexBuffer(At),this._tileDebugBuffer=ct.createVertexBuffer(St,Py.members),this._globeTileDebugBorderBuffer=ct.createVertexBuffer(Mt,Wx.members),this._tileDebugSegments=ks.simpleSegment(0,0,St.length,At.length)}_makeGlobeTileDebugTextBuffer(ct,mt,_t){const St=new Co,At=new es,Mt=new Fo,Dt=25;At.reserve(32),St.reserve(Dt),Mt.reserve(Dt);const Nt=(Bt,Wt)=>Dt*Bt+Wt;for(let Bt=0;Bt<Dt;Bt++){const Wt=2048*Bt;for(let qt=0;qt<Dt;qt++){const Xt=2048*qt;St.emplaceBack(Xt,Wt);const ar=qx(Xt,Wt,mt),lr=xl(ar,ar,_t);Mt.emplaceBack(lr[0],lr[1],lr[2])}}for(let Bt=0;Bt<4;Bt++)for(let Wt=0;Wt<4;Wt++){const qt=Nt(Bt,Wt),Xt=Nt(Bt,Wt+1),ar=Nt(Bt+1,Wt),lr=Nt(Bt+1,Wt+1);At.emplaceBack(qt,Xt,ar),At.emplaceBack(ar,Xt,lr)}this._tileDebugTextIndexBuffer=ct.createIndexBuffer(At),this._tileDebugTextBuffer=ct.createVertexBuffer(St,Py.members),this._globeTileDebugTextBuffer=ct.createVertexBuffer(Mt,Wx.members),this._tileDebugTextSegments=ks.simpleSegment(0,0,Dt,32)}}class Jw{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(ct,mt,_t){const St=String(mt);if(this.stateChanges[ct]=this.stateChanges[ct]||{},this.stateChanges[ct][St]=this.stateChanges[ct][St]||{},jt(this.stateChanges[ct][St],_t),this.deletedStates[ct]===null){this.deletedStates[ct]={};for(const At in this.state[ct])At!==St&&(this.deletedStates[ct][At]=null)}else if(this.deletedStates[ct]&&this.deletedStates[ct][St]===null){this.deletedStates[ct][St]={};for(const At in this.state[ct][St])_t[At]||(this.deletedStates[ct][St][At]=null)}else for(const At in _t)this.deletedStates[ct]&&this.deletedStates[ct][St]&&this.deletedStates[ct][St][At]===null&&delete this.deletedStates[ct][St][At]}removeFeatureState(ct,mt,_t){if(this.deletedStates[ct]===null)return;const St=String(mt);if(this.deletedStates[ct]=this.deletedStates[ct]||{},_t&&mt!==void 0)this.deletedStates[ct][St]!==null&&(this.deletedStates[ct][St]=this.deletedStates[ct][St]||{},this.deletedStates[ct][St][_t]=null);else if(mt!==void 0)if(this.stateChanges[ct]&&this.stateChanges[ct][St])for(_t in this.deletedStates[ct][St]={},this.stateChanges[ct][St])this.deletedStates[ct][St][_t]=null;else this.deletedStates[ct][St]=null;else this.deletedStates[ct]=null}getState(ct,mt){const _t=String(mt),St=jt({},(this.state[ct]||{})[_t],(this.stateChanges[ct]||{})[_t]);if(this.deletedStates[ct]===null)return{};if(this.deletedStates[ct]){const At=this.deletedStates[ct][mt];if(At===null)return{};for(const Mt in At)delete St[Mt]}return St}initializeTileState(ct,mt){ct.setFeatureState(this.state,mt)}coalesceChanges(ct,mt){const _t={};for(const St in this.stateChanges){this.state[St]=this.state[St]||{};const At={};for(const Mt in this.stateChanges[St])this.state[St][Mt]||(this.state[St][Mt]={}),jt(this.state[St][Mt],this.stateChanges[St][Mt]),At[Mt]=this.state[St][Mt];_t[St]=At}for(const St in this.deletedStates){this.state[St]=this.state[St]||{};const At={};if(this.deletedStates[St]===null)for(const Mt in this.state[St])At[Mt]={},this.state[St][Mt]={};else for(const Mt in this.deletedStates[St]){if(this.deletedStates[St][Mt]===null)this.state[St][Mt]={};else for(const Dt of Object.keys(this.deletedStates[St][Mt]))delete this.state[St][Mt][Dt];At[Mt]=this.state[St][Mt]}_t[St]=_t[St]||{},jt(_t[St],At)}if(this.stateChanges={},this.deletedStates={},Object.keys(_t).length!==0)for(const St in ct)ct[St].setFeatureState(_t,mt)}}class d2{constructor(ct){this.size=ct,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(ct,mt){const _t=this.toIdx(ct,mt);return{min:this.minimums[_t],max:this.maximums[_t]}}isLeaf(ct,mt){return this.leaves[this.toIdx(ct,mt)]}toIdx(ct,mt){return mt*this.size+ct}}function h2(pt,ct,mt,_t){let St=0,At=Number.MAX_VALUE;for(let Mt=0;Mt<3;Mt++)if(Math.abs(_t[Mt])<1e-15){if(mt[Mt]<pt[Mt]||mt[Mt]>ct[Mt])return null}else{const Dt=1/_t[Mt];let Nt=(pt[Mt]-mt[Mt])*Dt,Bt=(ct[Mt]-mt[Mt])*Dt;if(Nt>Bt){const Wt=Nt;Nt=Bt,Bt=Wt}if(Nt>St&&(St=Nt),Bt<At&&(At=Bt),St>At)return null}return St}function p2(pt,ct,mt,_t,St,At,Mt,Dt,Nt,Bt,Wt){const qt=_t-pt,Xt=St-ct,ar=At-mt,lr=Mt-pt,hr=Dt-ct,Sr=Nt-mt,Ar=Wt[1]*Sr-Wt[2]*hr,Vr=Wt[2]*lr-Wt[0]*Sr,Fr=Wt[0]*hr-Wt[1]*lr,jr=qt*Ar+Xt*Vr+ar*Fr;if(Math.abs(jr)<1e-15)return null;const Wr=1/jr,Yr=Bt[0]-pt,_n=Bt[1]-ct,bn=Bt[2]-mt,Dn=(Yr*Ar+_n*Vr+bn*Fr)*Wr;if(Dn<0||Dn>1)return null;const jn=_n*ar-bn*Xt,dn=bn*qt-Yr*ar,An=Yr*Xt-_n*qt,Wn=(Wt[0]*jn+Wt[1]*dn+Wt[2]*An)*Wr;return Wn<0||Dn+Wn>1?null:(lr*jn+hr*dn+Sr*An)*Wr}function m2(pt,ct,mt){return(pt-ct)/(mt-ct)}function g2(pt,ct,mt,_t,St,At,Mt,Dt,Nt){const Bt=1<<mt,Wt=At-_t,qt=Mt-St,Xt=(pt+1)/Bt*Wt+_t,ar=(ct+0)/Bt*qt+St,lr=(ct+1)/Bt*qt+St;Dt[0]=(pt+0)/Bt*Wt+_t,Dt[1]=ar,Nt[0]=Xt,Nt[1]=lr}class y2{constructor(ct){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=ct,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const mt=function(At){const Mt=Math.ceil(Math.log2(At.dim/8)),Dt=[];let Nt=Math.ceil(Math.pow(2,Mt));const Bt=1/Nt,Wt=(ar,lr,hr,Sr,Ar)=>{const Vr=Sr?1:0,Fr=(ar+1)*hr-Vr,jr=lr*hr,Wr=(lr+1)*hr-Vr;Ar[0]=ar*hr,Ar[1]=jr,Ar[2]=Fr,Ar[3]=Wr};let qt=new d2(Nt);const Xt=[];for(let ar=0;ar<Nt*Nt;ar++){Wt(ar%Nt,Math.floor(ar/Nt),Bt,!1,Xt);const lr=iv(Xt[0],Xt[1],At),hr=iv(Xt[2],Xt[1],At),Sr=iv(Xt[2],Xt[3],At),Ar=iv(Xt[0],Xt[3],At);qt.minimums.push(Math.min(lr,hr,Sr,Ar)),qt.maximums.push(Math.max(lr,hr,Sr,Ar)),qt.leaves.push(1)}for(Dt.push(qt),Nt/=2;Nt>=1;Nt/=2){const ar=Dt[Dt.length-1];qt=new d2(Nt);for(let lr=0;lr<Nt*Nt;lr++){Wt(lr%Nt,Math.floor(lr/Nt),2,!0,Xt);const hr=ar.getElevation(Xt[0],Xt[1]),Sr=ar.getElevation(Xt[2],Xt[1]),Ar=ar.getElevation(Xt[2],Xt[3]),Vr=ar.getElevation(Xt[0],Xt[3]),Fr=ar.isLeaf(Xt[0],Xt[1]),jr=ar.isLeaf(Xt[2],Xt[1]),Wr=ar.isLeaf(Xt[2],Xt[3]),Yr=ar.isLeaf(Xt[0],Xt[3]),_n=Math.min(hr.min,Sr.min,Ar.min,Vr.min),bn=Math.max(hr.max,Sr.max,Ar.max,Vr.max),Dn=Fr&&jr&&Wr&&Yr;qt.maximums.push(bn),qt.minimums.push(_n),qt.leaves.push(bn-_n<=5&&Dn?1:0)}Dt.push(qt)}return Dt}(this.dem),_t=mt.length-1,St=mt[_t];this._addNode(St.minimums[0],St.maximums[0],St.leaves[0]),this._construct(mt,0,0,_t,0)}raycastRoot(ct,mt,_t,St,At,Mt,Dt=1){return h2([ct,mt,-100],[_t,St,this.maximums[0]*Dt],At,Mt)}raycast(ct,mt,_t,St,At,Mt,Dt=1){if(!this.nodeCount)return null;const Nt=this.raycastRoot(ct,mt,_t,St,At,Mt,Dt);if(Nt==null)return null;const Bt=[],Wt=[],qt=[],Xt=[],ar=[{idx:0,t:Nt,nodex:0,nodey:0,depth:0}];for(;ar.length>0;){const{idx:lr,t:hr,nodex:Sr,nodey:Ar,depth:Vr}=ar.pop();if(this.leaves[lr]){g2(Sr,Ar,Vr,ct,mt,_t,St,qt,Xt);const jr=1<<Vr,Wr=(Sr+0)/jr,Yr=(Sr+1)/jr,_n=(Ar+0)/jr,bn=(Ar+1)/jr,Dn=iv(Wr,_n,this.dem)*Dt,jn=iv(Yr,_n,this.dem)*Dt,dn=iv(Yr,bn,this.dem)*Dt,An=iv(Wr,bn,this.dem)*Dt,Wn=p2(qt[0],qt[1],Dn,Xt[0],qt[1],jn,Xt[0],Xt[1],dn,At,Mt),Kn=p2(Xt[0],Xt[1],dn,qt[0],Xt[1],An,qt[0],qt[1],Dn,At,Mt),eo=Math.min(Wn!==null?Wn:Number.MAX_VALUE,Kn!==null?Kn:Number.MAX_VALUE);if(eo!==Number.MAX_VALUE)return eo;{const Un=T0([],At,Mt,hr);if(_2(Dn,jn,An,dn,m2(Un[0],qt[0],Xt[0]),m2(Un[1],qt[1],Xt[1]))>=Un[2])return hr}continue}let Fr=0;for(let jr=0;jr<this._siblingOffset.length;jr++){g2((Sr<<1)+this._siblingOffset[jr][0],(Ar<<1)+this._siblingOffset[jr][1],Vr+1,ct,mt,_t,St,qt,Xt),qt[2]=-100,Xt[2]=this.maximums[this.childOffsets[lr]+jr]*Dt;const Wr=h2(qt,Xt,At,Mt);if(Wr!=null){const Yr=Wr;Bt[jr]=Yr;let _n=!1;for(let bn=0;bn<Fr&&!_n;bn++)Yr>=Bt[Wt[bn]]&&(Wt.splice(bn,0,jr),_n=!0);_n||(Wt[Fr]=jr),Fr++}}for(let jr=0;jr<Fr;jr++){const Wr=Wt[jr];ar.push({idx:this.childOffsets[lr]+Wr,t:Bt[Wr],nodex:(Sr<<1)+this._siblingOffset[Wr][0],nodey:(Ar<<1)+this._siblingOffset[Wr][1],depth:Vr+1})}}return null}_addNode(ct,mt,_t){return this.minimums.push(ct),this.maximums.push(mt),this.leaves.push(_t),this.childOffsets.push(0),this.nodeCount++}_construct(ct,mt,_t,St,At){if(ct[St].isLeaf(mt,_t)===1)return;this.childOffsets[At]||(this.childOffsets[At]=this.nodeCount);const Mt=St-1,Dt=ct[Mt];let Nt=0,Bt=0;for(let Wt=0;Wt<this._siblingOffset.length;Wt++){const qt=2*mt+this._siblingOffset[Wt][0],Xt=2*_t+this._siblingOffset[Wt][1],ar=Dt.getElevation(qt,Xt),lr=Dt.isLeaf(qt,Xt),hr=this._addNode(ar.min,ar.max,lr);lr&&(Nt|=1<<Wt),Bt||(Bt=hr)}for(let Wt=0;Wt<this._siblingOffset.length;Wt++)Nt&1<<Wt||this._construct(ct,2*mt+this._siblingOffset[Wt][0],2*_t+this._siblingOffset[Wt][1],Mt,Bt+Wt)}}function _2(pt,ct,mt,_t,St,At){return Yo(Yo(pt,mt,At),Yo(ct,_t,At),St)}function iv(pt,ct,mt){const _t=mt.dim,St=Ot(pt*_t-.5,0,_t-1),At=Ot(ct*_t-.5,0,_t-1),Mt=Math.floor(St),Dt=Math.floor(At),Nt=Math.min(Mt+1,_t-1),Bt=Math.min(Dt+1,_t-1);return _2(mt.get(Mt,Dt),mt.get(Nt,Dt),mt.get(Mt,Bt),mt.get(Nt,Bt),St-Mt,At-Dt)}const x2={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class X0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(ct,mt,_t,St=!1,At=!1){if(this.uid=ct,mt.height!==mt.width)throw new RangeError("DEM tiles must be square");if(_t&&_t!=="mapbox"&&_t!=="terrarium")return wr(`"${_t}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=mt.height;const Mt=this.dim=mt.height-2,Dt=new Uint32Array(mt.data.buffer);if(this.pixels=new Uint8Array(mt.data.buffer),this.encoding=_t||"mapbox",this.borderReady=St,!St){for(let Nt=0;Nt<Mt;Nt++)Dt[this._idx(-1,Nt)]=Dt[this._idx(0,Nt)],Dt[this._idx(Mt,Nt)]=Dt[this._idx(Mt-1,Nt)],Dt[this._idx(Nt,-1)]=Dt[this._idx(Nt,0)],Dt[this._idx(Nt,Mt)]=Dt[this._idx(Nt,Mt-1)];Dt[this._idx(-1,-1)]=Dt[this._idx(0,0)],Dt[this._idx(Mt,-1)]=Dt[this._idx(Mt-1,0)],Dt[this._idx(-1,Mt)]=Dt[this._idx(0,Mt-1)],Dt[this._idx(Mt,Mt)]=Dt[this._idx(Mt-1,Mt-1)],At&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new y2(this)}get(ct,mt,_t=!1){_t&&(ct=Ot(ct,-1,this.dim),mt=Ot(mt,-1,this.dim));const St=4*this._idx(ct,mt);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[St],this.pixels[St+1],this.pixels[St+2])}static getUnpackVector(ct){return x2[ct]}get unpackVector(){return x2[this.encoding]}_idx(ct,mt){if(ct<-1||ct>=this.dim+1||mt<-1||mt>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(mt+1)*this.stride+(ct+1)}_unpackMapbox(ct,mt,_t){return(256*ct*256+256*mt+_t)/10-1e4}_unpackTerrarium(ct,mt,_t){return 256*ct+mt+_t/256-32768}static pack(ct,mt){const _t=[0,0,0,0],St=X0.getUnpackVector(mt);let At=Math.floor((ct+St[3])/St[2]);return _t[2]=At%256,At=Math.floor(At/256),_t[1]=At%256,At=Math.floor(At/256),_t[0]=At,_t}getPixels(){return new Xl({width:this.stride,height:this.stride},this.pixels)}backfillBorder(ct,mt,_t){if(this.dim!==ct.dim)throw new Error("dem dimension mismatch");let St=mt*this.dim,At=mt*this.dim+this.dim,Mt=_t*this.dim,Dt=_t*this.dim+this.dim;switch(mt){case-1:St=At-1;break;case 1:At=St+1}switch(_t){case-1:Mt=Dt-1;break;case 1:Dt=Mt+1}const Nt=-mt*this.dim,Bt=-_t*this.dim;for(let Wt=Mt;Wt<Dt;Wt++)for(let qt=St;qt<At;qt++){const Xt=4*this._idx(qt,Wt),ar=4*this._idx(qt+Nt,Wt+Bt);this.pixels[Xt+0]=ct.pixels[ar+0],this.pixels[Xt+1]=ct.pixels[ar+1],this.pixels[Xt+2]=ct.pixels[ar+2],this.pixels[Xt+3]=ct.pixels[ar+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}ro(X0,"DEMData"),ro(y2,"DemMinMaxQuadTree",{omit:["dem"]});class eC{constructor(ct,mt){this.max=ct,this.onRemove=mt,this.reset()}reset(){for(const ct in this.data)for(const mt of this.data[ct])mt.timeout&&clearTimeout(mt.timeout),this.onRemove(mt.value);return this.data={},this.order=[],this}add(ct,mt,_t){const St=ct.wrapped().key;this.data[St]===void 0&&(this.data[St]=[]);const At={value:mt,timeout:void 0};if(_t!==void 0&&(At.timeout=setTimeout(()=>{this.remove(ct,At)},_t)),this.data[St].push(At),this.order.push(St),this.order.length>this.max){const Mt=this._getAndRemoveByKey(this.order[0]);Mt&&this.onRemove(Mt)}return this}has(ct){return ct.wrapped().key in this.data}getAndRemove(ct){return this.has(ct)?this._getAndRemoveByKey(ct.wrapped().key):null}_getAndRemoveByKey(ct){const mt=this.data[ct].shift();return mt.timeout&&clearTimeout(mt.timeout),this.data[ct].length===0&&delete this.data[ct],this.order.splice(this.order.indexOf(ct),1),mt.value}getByKey(ct){const mt=this.data[ct];return mt?mt[0].value:null}get(ct){return this.has(ct)?this.data[ct.wrapped().key][0].value:null}remove(ct,mt){if(!this.has(ct))return this;const _t=ct.wrapped().key,St=mt===void 0?0:this.data[_t].indexOf(mt),At=this.data[_t][St];return this.data[_t].splice(St,1),At.timeout&&clearTimeout(At.timeout),this.data[_t].length===0&&delete this.data[_t],this.onRemove(At.value),this.order.splice(this.order.indexOf(_t),1),this}setMaxSize(ct){for(this.max=ct;this.order.length>this.max;){const mt=this._getAndRemoveByKey(this.order[0]);mt&&this.onRemove(mt)}return this}filter(ct){const mt=[];for(const _t in this.data)for(const St of this.data[_t])ct(St.value)||mt.push(St);for(const _t of mt)this.remove(_t.value.tileID,_t)}}class Fm{constructor(ct,mt,_t){this.func=ct,this.mask=mt,this.range=_t}}Fm.ReadOnly=!1,Fm.ReadWrite=!0,Fm.disabled=new Fm(519,Fm.ReadOnly,[0,1]);const Z_=7680;class X_{constructor(ct,mt,_t,St,At,Mt){this.test=ct,this.ref=mt,this.mask=_t,this.fail=St,this.depthFail=At,this.pass=Mt}}X_.disabled=new X_({func:519,mask:0},0,0,Z_,Z_,Z_);class Zu{constructor(ct,mt,_t){this.blendFunction=ct,this.blendColor=mt,this.mask=_t}}Zu.Replace=[1,0],Zu.disabled=new Zu(Zu.Replace,$o.transparent,[!1,!1,!1,!1]),Zu.unblended=new Zu(Zu.Replace,$o.transparent,[!0,!0,!0,!0]),Zu.alphaBlended=new Zu([1,771],$o.transparent,[!0,!0,!0,!0]);const Q_=1029,J_=2305;class Iu{constructor(ct,mt,_t){this.enable=ct,this.mode=mt,this.frontFace=_t}}Iu.disabled=new Iu(!1,Q_,J_),Iu.backCCW=new Iu(!0,Q_,J_),Iu.backCW=new Iu(!0,Q_,2304),Iu.frontCW=new Iu(!0,1028,2304),Iu.frontCCW=new Iu(!0,1028,J_);class Uv extends bo{constructor(ct,mt,_t){super(),this.id=ct,this._onlySymbols=_t,mt.on("data",St=>{St.dataType==="source"&&St.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&St.dataType==="source"&&St.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),mt.on("error",()=>{this._sourceErrored=!0}),this._source=mt,this._tiles={},this._cache=new eC(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=mt.minTileCacheSize,this._maxTileCacheSize=mt.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Jw,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(ct){this.map=ct,this._minTileCacheSize=this._minTileCacheSize===void 0&&ct?ct._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&ct?ct._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const ct in this._tiles){const mt=this._tiles[ct];if(mt.state!=="loaded"&&mt.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const ct=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ct&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(ct,mt){return ct.isSymbolTile=this._onlySymbols,this._source.loadTile(ct,mt)}_unloadTile(ct){if(this._source.unloadTile)return this._source.unloadTile(ct,()=>{})}_abortTile(ct){if(this._source.abortTile)return this._source.abortTile(ct,()=>{})}serialize(){return this._source.serialize()}prepare(ct){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(const mt in this._tiles){const _t=this._tiles[mt];this._source.prepareTile(_t)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,_t.tileID),_t.upload(ct),_t.prepare(this.map.style.imageManager)}else for(const mt in this._tiles){const _t=this._tiles[mt];_t.upload(ct),_t.prepare(this.map.style.imageManager)}}getIds(){return Gt(this._tiles).map(ct=>ct.tileID).sort(b2).map(ct=>ct.key)}getRenderableIds(ct){const mt=[];for(const _t in this._tiles)this._isIdRenderable(+_t,ct)&&mt.push(this._tiles[_t]);return ct?mt.sort((_t,St)=>{const At=_t.tileID,Mt=St.tileID,Dt=new dt(At.canonical.x,At.canonical.y)._rotate(this.transform.angle),Nt=new dt(Mt.canonical.x,Mt.canonical.y)._rotate(this.transform.angle);return At.overscaledZ-Mt.overscaledZ||Nt.y-Dt.y||Nt.x-Dt.x}).map(_t=>_t.tileID.key):mt.map(_t=>_t.tileID).sort(b2).map(_t=>_t.key)}hasRenderableParent(ct){const mt=this.findLoadedParent(ct,0);return!!mt&&this._isIdRenderable(mt.tileID.key)}_isIdRenderable(ct,mt){return this._tiles[ct]&&this._tiles[ct].hasData()&&!this._coveredTiles[ct]&&(mt||!this._tiles[ct].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const ct in this._tiles)this._tiles[ct].state!=="errored"&&this._reloadTile(+ct,"reloading")}}_reloadTile(ct,mt){const _t=this._tiles[ct];_t&&(_t.state!=="loading"&&(_t.state=mt),this._loadTile(_t,this._tileLoaded.bind(this,_t,ct,mt)))}_tileLoaded(ct,mt,_t,St){if(St)if(ct.state="errored",St.status!==404)this._source.fire(new oo(St,{tile:ct}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const At=this.map.painter.terrain;this.update(this.transform,At.getScaledDemTileSize(),!0),At.resetTileLookupCache(this.id)}else this.update(this.transform);else ct.timeAdded=Mn.now(),_t==="expired"&&(ct.refreshedUponExpiration=!0),this._setTileReloadTimer(mt,ct),this._source.type==="raster-dem"&&ct.dem&&this._backfillDEM(ct),this._state.initializeTileState(ct,this.map?this.map.painter:null),this._source.fire(new qn("data",{dataType:"source",tile:ct,coord:ct.tileID,sourceCacheId:this.id}))}_backfillDEM(ct){const mt=this.getRenderableIds();for(let St=0;St<mt.length;St++){const At=mt[St];if(ct.neighboringTiles&&ct.neighboringTiles[At]){const Mt=this.getTileByID(At);_t(ct,Mt),_t(Mt,ct)}}function _t(St,At){if(!St.dem||St.dem.borderReady)return;St.needsHillshadePrepare=!0,St.needsDEMTextureUpload=!0;let Mt=At.tileID.canonical.x-St.tileID.canonical.x;const Dt=At.tileID.canonical.y-St.tileID.canonical.y,Nt=Math.pow(2,St.tileID.canonical.z),Bt=At.tileID.key;Mt===0&&Dt===0||Math.abs(Dt)>1||(Math.abs(Mt)>1&&(Math.abs(Mt+Nt)===1?Mt+=Nt:Math.abs(Mt-Nt)===1&&(Mt-=Nt)),At.dem&&St.dem&&(St.dem.backfillBorder(At.dem,Mt,Dt),St.neighboringTiles&&St.neighboringTiles[Bt]&&(St.neighboringTiles[Bt].backfilled=!0)))}}getTile(ct){return this.getTileByID(ct.key)}getTileByID(ct){return this._tiles[ct]}_retainLoadedChildren(ct,mt,_t,St){for(const At in this._tiles){let Mt=this._tiles[At];if(St[At]||!Mt.hasData()||Mt.tileID.overscaledZ<=mt||Mt.tileID.overscaledZ>_t)continue;let Dt=Mt.tileID;for(;Mt&&Mt.tileID.overscaledZ>mt+1;){const Bt=Mt.tileID.scaledTo(Mt.tileID.overscaledZ-1);Mt=this._tiles[Bt.key],Mt&&Mt.hasData()&&(Dt=Bt)}let Nt=Dt;for(;Nt.overscaledZ>mt;)if(Nt=Nt.scaledTo(Nt.overscaledZ-1),ct[Nt.key]){St[Dt.key]=Dt;break}}}findLoadedParent(ct,mt){if(ct.key in this._loadedParentTiles){const _t=this._loadedParentTiles[ct.key];return _t&&_t.tileID.overscaledZ>=mt?_t:null}for(let _t=ct.overscaledZ-1;_t>=mt;_t--){const St=ct.scaledTo(_t),At=this._getLoadedTile(St);if(At)return At}}_getLoadedTile(ct){const mt=this._tiles[ct.key];return mt&&mt.hasData()?mt:this._cache.getByKey(this._source.reparseOverscaled?ct.wrapped().key:ct.canonical.key)}updateCacheSize(ct,mt){mt=mt||this._source.tileSize;const _t=Math.ceil(ct.width/mt)+1,St=Math.ceil(ct.height/mt)+1,At=Math.floor(_t*St*5),Mt=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,At):At,Dt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Mt):Mt;this._cache.setMaxSize(Dt)}handleWrapJump(ct){const mt=Math.round((ct-(this._prevLng===void 0?ct:this._prevLng))/360);if(this._prevLng=ct,mt){const _t={};for(const St in this._tiles){const At=this._tiles[St];At.tileID=At.tileID.unwrapTo(At.tileID.wrap+mt),_t[At.tileID.key]=At}this._tiles=_t;for(const St in this._timers)clearTimeout(this._timers[St]),delete this._timers[St];for(const St in this._tiles)this._setTileReloadTimer(+St,this._tiles[St])}}update(ct,mt,_t){if(this.transform=ct,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!_t)return;let St;this.updateCacheSize(ct,mt),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?St=ct.getVisibleUnwrappedCoordinates(this._source.tileID).map(Dt=>new Il(Dt.canonical.z,Dt.wrap,Dt.canonical.z,Dt.canonical.x,Dt.canonical.y)):(St=ct.coveringTiles({tileSize:mt||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!_t,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(St=St.filter(Dt=>this._source.hasTile(Dt)))):St=[];const At=this._updateRetainedTiles(St);if(S2(this._source.type)&&St.length!==0){const Dt={},Nt={},Bt=Object.keys(At);for(const qt of Bt){const Xt=At[qt],ar=this._tiles[qt];if(!ar||ar.fadeEndTime&&ar.fadeEndTime<=Mn.now())continue;const lr=this.findLoadedParent(Xt,Math.max(Xt.overscaledZ-Uv.maxOverzooming,this._source.minzoom));lr&&(this._addTile(lr.tileID),Dt[lr.tileID.key]=lr.tileID),Nt[qt]=Xt}const Wt=St[St.length-1].overscaledZ;for(const qt in this._tiles){const Xt=this._tiles[qt];if(At[qt]||!Xt.hasData())continue;let ar=Xt.tileID;for(;ar.overscaledZ>Wt;){ar=ar.scaledTo(ar.overscaledZ-1);const lr=this._tiles[ar.key];if(lr&&lr.hasData()&&Nt[ar.key]){At[qt]=Xt.tileID;break}}}for(const qt in Dt)At[qt]||(this._coveredTiles[qt]=!0,At[qt]=Dt[qt])}for(const Dt in At)this._tiles[Dt].clearFadeHold();const Mt=function(Dt,Nt){const Bt=[];for(const Wt in Dt)Wt in Nt||Bt.push(Wt);return Bt}(this._tiles,At);for(const Dt of Mt){const Nt=this._tiles[Dt];Nt.hasSymbolBuckets&&!Nt.holdingForFade()?Nt.setHoldDuration(this.map._fadeDuration):Nt.hasSymbolBuckets&&!Nt.symbolFadeFinished()||this._removeTile(+Dt)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const ct in this._tiles)this._tiles[ct].holdingForFade()&&this._removeTile(+ct)}_updateRetainedTiles(ct){const mt={};if(ct.length===0)return mt;const _t={},St=ct.reduce((Bt,Wt)=>Math.min(Bt,Wt.overscaledZ),1/0),At=ct[0].overscaledZ,Mt=Math.max(At-Uv.maxOverzooming,this._source.minzoom),Dt=Math.max(At+Uv.maxUnderzooming,this._source.minzoom),Nt={};for(const Bt of ct){const Wt=this._addTile(Bt);mt[Bt.key]=Bt,Wt.hasData()||St<this._source.maxzoom&&(Nt[Bt.key]=Bt)}this._retainLoadedChildren(Nt,St,Dt,mt);for(const Bt of ct){let Wt=this._tiles[Bt.key];if(Wt.hasData())continue;if(Bt.canonical.z>=this._source.maxzoom){const Xt=Bt.children(this._source.maxzoom)[0],ar=this.getTile(Xt);if(ar&&ar.hasData()){mt[Xt.key]=Xt;continue}}else{const Xt=Bt.children(this._source.maxzoom);if(mt[Xt[0].key]&&mt[Xt[1].key]&&mt[Xt[2].key]&&mt[Xt[3].key])continue}let qt=Wt.wasRequested();for(let Xt=Bt.overscaledZ-1;Xt>=Mt;--Xt){const ar=Bt.scaledTo(Xt);if(_t[ar.key]||(_t[ar.key]=!0,Wt=this.getTile(ar),!Wt&&qt&&(Wt=this._addTile(ar)),Wt&&(mt[ar.key]=ar,qt=Wt.wasRequested(),Wt.hasData())))break}}return mt}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const ct in this._tiles){const mt=[];let _t,St=this._tiles[ct].tileID;for(;St.overscaledZ>0;){if(St.key in this._loadedParentTiles){_t=this._loadedParentTiles[St.key];break}mt.push(St.key);const At=St.scaledTo(St.overscaledZ-1);if(_t=this._getLoadedTile(At),_t)break;St=At}for(const At of mt)this._loadedParentTiles[At]=_t}}_addTile(ct){let mt=this._tiles[ct.key];if(mt)return this._source.prepareTile&&this._source.prepareTile(mt),mt;mt=this._cache.getAndRemove(ct),mt&&(this._setTileReloadTimer(ct.key,mt),mt.tileID=ct,this._state.initializeTileState(mt,this.map?this.map.painter:null),this._cacheTimers[ct.key]&&(clearTimeout(this._cacheTimers[ct.key]),delete this._cacheTimers[ct.key],this._setTileReloadTimer(ct.key,mt)));const _t=Boolean(mt);if(!_t){const St=this.map?this.map.painter:null;mt=new q_(ct,this._source.tileSize*ct.overscaleFactor(),this.transform.tileZoom,St,this._isRaster),this._source.prepareTile&&this._source.prepareTile(mt)||this._loadTile(mt,this._tileLoaded.bind(this,mt,ct.key,mt.state))}return mt?(mt.uses++,this._tiles[ct.key]=mt,_t||this._source.fire(new qn("dataloading",{tile:mt,coord:mt.tileID,dataType:"source"})),mt):null}_setTileReloadTimer(ct,mt){ct in this._timers&&(clearTimeout(this._timers[ct]),delete this._timers[ct]);const _t=mt.getExpiryTimeout();_t&&(this._timers[ct]=setTimeout(()=>{this._reloadTile(ct,"expired"),delete this._timers[ct]},_t))}_removeTile(ct){const mt=this._tiles[ct];mt&&(mt.uses--,delete this._tiles[ct],this._timers[ct]&&(clearTimeout(this._timers[ct]),delete this._timers[ct]),mt.uses>0||(mt.hasData()&&mt.state!=="reloading"?this._cache.add(mt.tileID,mt,mt.getExpiryTimeout()):(mt.aborted=!0,this._abortTile(mt),this._unloadTile(mt))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const ct in this._tiles)this._removeTile(+ct);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(ct,mt,_t){const St=[],At=this.transform;if(!At)return St;const Mt=At.projection.name==="globe",Dt=Dv(At.center.lng);for(const Nt in this._tiles){const Bt=this._tiles[Nt];if(_t&&Bt.clearQueryDebugViz(),Bt.holdingForFade())continue;let Wt;if(Mt){const qt=Bt.tileID.canonical;if(qt.z===0){const Xt=[Math.abs(Ot(Dt,...Oy(qt,-1))-Dt),Math.abs(Ot(Dt,...Oy(qt,1))-Dt)];Wt=[0,2*Xt.indexOf(Math.min(...Xt))-1]}else{const Xt=[Math.abs(Ot(Dt,...Oy(qt,-1))-Dt),Math.abs(Ot(Dt,...Oy(qt,0))-Dt),Math.abs(Ot(Dt,...Oy(qt,1))-Dt)];Wt=[Xt.indexOf(Math.min(...Xt))-1]}}else Wt=[0];for(const qt of Wt){const Xt=ct.containsTile(Bt,At,mt,qt);Xt&&St.push(Xt)}}return St}getVisibleCoordinates(ct){const mt=this.getRenderableIds(ct).map(_t=>this._tiles[_t].tileID);for(const _t of mt)_t.projMatrix=this.transform.calculateProjMatrix(_t.toUnwrapped());return mt}hasTransition(){if(this._source.hasTransition())return!0;if(S2(this._source.type))for(const ct in this._tiles){const mt=this._tiles[ct];if(mt.fadeEndTime!==void 0&&mt.fadeEndTime>=Mn.now())return!0}return!1}setFeatureState(ct,mt,_t){this._state.updateState(ct=ct||"_geojsonTileLayer",mt,_t)}removeFeatureState(ct,mt,_t){this._state.removeFeatureState(ct=ct||"_geojsonTileLayer",mt,_t)}getFeatureState(ct,mt){return this._state.getState(ct=ct||"_geojsonTileLayer",mt)}setDependencies(ct,mt,_t){const St=this._tiles[ct];St&&St.setDependencies(mt,_t)}reloadTilesForDependencies(ct,mt){for(const _t in this._tiles)this._tiles[_t].hasDependency(ct,mt)&&this._reloadTile(+_t,"reloading");this._cache.filter(_t=>!_t.hasDependency(ct,mt))}_preloadTiles(ct,mt){const _t=new Map,St=Array.isArray(ct)?ct:[ct],At=this.map.painter.terrain,Mt=this.usedForTerrain&&At?At.getScaledDemTileSize():this._source.tileSize;for(const Dt of St){const Nt=Dt.coveringTiles({tileSize:Mt,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const Bt of Nt)_t.set(Bt.key,Bt);this.usedForTerrain&&Dt.updateElevation(!1)}zt(Array.from(_t.values()),(Dt,Nt)=>{const Bt=new q_(Dt,this._source.tileSize*Dt.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(Bt,Wt=>{this._source.type==="raster-dem"&&Bt.dem&&this._backfillDEM(Bt),Nt(Wt,Bt)})},mt)}}function b2(pt,ct){const mt=Math.abs(2*pt.wrap)-+(pt.wrap<0),_t=Math.abs(2*ct.wrap)-+(ct.wrap<0);return pt.overscaledZ-ct.overscaledZ||_t-mt||ct.canonical.y-pt.canonical.y||ct.canonical.x-pt.canonical.x}function S2(pt){return pt==="raster"||pt==="image"||pt==="video"}function Oy(pt,ct){const mt=1<<pt.z;return[pt.x/mt+ct,(pt.x+1)/mt+ct]}Uv.maxOverzooming=10,Uv.maxUnderzooming=3;class Q0{constructor(ct,mt,_t){this._demTile=ct,this._dem=this._demTile.dem,this._scale=mt,this._offset=_t}static create(ct,mt,_t){const St=_t||ct.findDEMTileFor(mt);if(!St||!St.dem)return;const At=St.dem,Mt=St.tileID,Dt=1<<mt.canonical.z-Mt.canonical.z;return new Q0(St,St.tileSize/Ao/Dt,[(mt.canonical.x/Dt-Mt.canonical.x)*At.dim,(mt.canonical.y/Dt-Mt.canonical.y)*At.dim])}tileCoordToPixel(ct,mt){const _t=mt*this._scale+this._offset[1],St=Math.floor(ct*this._scale+this._offset[0]),At=Math.floor(_t);return new dt(St,At)}getElevationAt(ct,mt,_t,St){const At=ct*this._scale+this._offset[0],Mt=mt*this._scale+this._offset[1],Dt=Math.floor(At),Nt=Math.floor(Mt),Bt=this._dem;return St=!!St,_t?Yo(Yo(Bt.get(Dt,Nt,St),Bt.get(Dt,Nt+1,St),Mt-Nt),Yo(Bt.get(Dt+1,Nt,St),Bt.get(Dt+1,Nt+1,St),Mt-Nt),At-Dt):Bt.get(Dt,Nt,St)}getElevationAtPixel(ct,mt,_t){return this._dem.get(ct,mt,!!_t)}getMeterToDEM(ct){return(1<<this._demTile.tileID.canonical.z)*_u(1,ct)*this._dem.stride}}class w2{constructor(ct,mt){this.tileID=ct,this.x=ct.canonical.x,this.y=ct.canonical.y,this.z=ct.canonical.z,this.grid=new Hp(Ao,16,0),this.featureIndexArray=new g1,this.promoteId=mt}insert(ct,mt,_t,St,At,Mt=0){const Dt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(_t,St,At,Mt);const Nt=this.grid;for(let Bt=0;Bt<mt.length;Bt++){const Wt=mt[Bt],qt=[1/0,1/0,-1/0,-1/0];for(let Xt=0;Xt<Wt.length;Xt++){const ar=Wt[Xt];qt[0]=Math.min(qt[0],ar.x),qt[1]=Math.min(qt[1],ar.y),qt[2]=Math.max(qt[2],ar.x),qt[3]=Math.max(qt[3],ar.y)}qt[0]<Ao&&qt[1]<Ao&&qt[2]>=0&&qt[3]>=0&&Nt.insert(Dt,qt[0],qt[1],qt[2],qt[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new zv.VectorTile(new Ty(this.rawTileData)).layers,this.sourceLayerCoder=new s2(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const ct in this.vtLayers)this.vtFeatures[ct]=[]}return this.vtLayers}query(ct,mt,_t,St){this.loadVTLayers();const At=ct.params||{},Mt=cp(At.filter),Dt=ct.tileResult,Nt=ct.transform,Bt=Dt.bufferedTilespaceBounds,Wt=this.grid.query(Bt.min.x,Bt.min.y,Bt.max.x,Bt.max.y,(lr,hr,Sr,Ar)=>O1(Dt.bufferedTilespaceGeometry,lr,hr,Sr,Ar));Wt.sort(tC);let qt=null;Nt.elevation&&Wt.length>0&&(qt=Q0.create(Nt.elevation,this.tileID));const Xt={};let ar;for(let lr=0;lr<Wt.length;lr++){const hr=Wt[lr];if(hr===ar)continue;ar=hr;const Sr=this.featureIndexArray.get(hr);let Ar=null;this.loadMatchingFeature(Xt,Sr,Mt,At.layers,At.availableImages,mt,_t,St,(Vr,Fr,jr,Wr=0)=>(Ar||(Ar=vp(Vr,this.tileID.canonical,ct.tileTransform)),Fr.queryIntersectsFeature(Dt,Vr,jr,Ar,this.z,ct.transform,ct.pixelPosMatrix,qt,Wr)))}return Xt}loadMatchingFeature(ct,mt,_t,St,At,Mt,Dt,Nt,Bt){const{featureIndex:Wt,bucketIndex:qt,sourceLayerIndex:Xt,layoutVertexArrayOffset:ar}=mt,lr=this.bucketLayerIDs[qt];if(St&&!function(Vr,Fr){for(let jr=0;jr<Vr.length;jr++)if(Fr.indexOf(Vr[jr])>=0)return!0;return!1}(St,lr))return;const hr=this.sourceLayerCoder.decode(Xt),Sr=this.vtLayers[hr].feature(Wt);if(_t.needGeometry){const Vr=Ov(Sr,!0);if(!_t.filter(new Cr(this.tileID.overscaledZ),Vr,this.tileID.canonical))return}else if(!_t.filter(new Cr(this.tileID.overscaledZ),Sr))return;const Ar=this.getId(Sr,hr);for(let Vr=0;Vr<lr.length;Vr++){const Fr=lr[Vr];if(St&&St.indexOf(Fr)<0)continue;const jr=Mt[Fr];if(!jr)continue;let Wr={};Ar!==void 0&&Nt&&(Wr=Nt.getState(jr.sourceLayer||"_geojsonTileLayer",Ar));const Yr=jt({},Dt[Fr]);Yr.paint=C2(Yr.paint,jr.paint,Sr,Wr,At),Yr.layout=C2(Yr.layout,jr.layout,Sr,Wr,At);const _n=!Bt||Bt(Sr,jr,Wr,ar);if(!_n)continue;const bn=new l2(Sr,this.z,this.x,this.y,Ar);bn.layer=Yr;let Dn=ct[Fr];Dn===void 0&&(Dn=ct[Fr]=[]),Dn.push({featureIndex:Wt,feature:bn,intersectionZ:_n})}}lookupSymbolFeatures(ct,mt,_t,St,At,Mt,Dt,Nt){const Bt={};this.loadVTLayers();const Wt=cp(At);for(const qt of ct)this.loadMatchingFeature(Bt,{bucketIndex:_t,sourceLayerIndex:St,featureIndex:qt,layoutVertexArrayOffset:0},Wt,Mt,Dt,Nt,mt);return Bt}loadFeature(ct){const{featureIndex:mt,sourceLayerIndex:_t}=ct;this.loadVTLayers();const St=this.sourceLayerCoder.decode(_t),At=this.vtFeatures[St];if(At[mt])return At[mt];const Mt=this.vtLayers[St].feature(mt);return At[mt]=Mt,Mt}hasLayer(ct){for(const mt of this.bucketLayerIDs)for(const _t of mt)if(ct===_t)return!0;return!1}getId(ct,mt){let _t=ct.id;return this.promoteId&&(_t=ct.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[mt]],typeof _t=="boolean"&&(_t=Number(_t))),_t}}function C2(pt,ct,mt,_t,St){return sr(pt,(At,Mt)=>{const Dt=ct instanceof gn?ct.get(Mt):null;return Dt&&Dt.evaluate?Dt.evaluate(mt,_t,St):Dt})}function tC(pt,ct){return ct-pt}ro(w2,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class T2{constructor(ct){const mt={},_t=[];for(const Dt in ct){const Nt=ct[Dt],Bt=mt[Dt]={};for(const Wt in Nt.glyphs){const qt=Nt.glyphs[+Wt];if(!qt||qt.bitmap.width===0||qt.bitmap.height===0)continue;const Xt=qt.metrics.localGlyph?2:1,ar={x:0,y:0,w:qt.bitmap.width+2*Xt,h:qt.bitmap.height+2*Xt};_t.push(ar),Bt[Wt]=ar}}const{w:St,h:At}=I_(_t),Mt=new mp({width:St||1,height:At||1});for(const Dt in ct){const Nt=ct[Dt];for(const Bt in Nt.glyphs){const Wt=Nt.glyphs[+Bt];if(!Wt||Wt.bitmap.width===0||Wt.bitmap.height===0)continue;const qt=mt[Dt][Bt],Xt=Wt.metrics.localGlyph?2:1;mp.copy(Wt.bitmap,Mt,{x:0,y:0},{x:qt.x+Xt,y:qt.y+Xt},Wt.bitmap)}}this.image=Mt,this.positions=mt}}ro(T2,"GlyphAtlas");class rC{constructor(ct){this.tileID=new Il(ct.tileID.overscaledZ,ct.tileID.wrap,ct.tileID.canonical.z,ct.tileID.canonical.x,ct.tileID.canonical.y),this.tileZoom=ct.tileZoom,this.uid=ct.uid,this.zoom=ct.zoom,this.canonical=ct.tileID.canonical,this.pixelRatio=ct.pixelRatio,this.tileSize=ct.tileSize,this.source=ct.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ct.showCollisionBoxes,this.collectResourceTiming=!!ct.collectResourceTiming,this.returnDependencies=!!ct.returnDependencies,this.promoteId=ct.promoteId,this.enableTerrain=!!ct.enableTerrain,this.isSymbolTile=ct.isSymbolTile,this.tileTransform=Vv(ct.tileID.canonical,ct.projection),this.projection=ct.projection}parse(ct,mt,_t,St,At){this.status="parsing",this.data=ct,this.collisionBoxArray=new a_;const Mt=new s2(Object.keys(ct.layers).sort()),Dt=new w2(this.tileID,this.promoteId);Dt.bucketLayerIDs=[];const Nt={},Bt=new Y_(256,256),Wt={featureIndex:Dt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Bt,availableImages:_t},qt=mt.familiesBySource[this.source];for(const Wr in qt){const Yr=ct.layers[Wr];if(!Yr)continue;let _n=!1,bn=!1;for(const dn of qt[Wr])dn[0].type==="symbol"?_n=!0:bn=!0;if(this.isSymbolTile===!0&&!_n||this.isSymbolTile===!1&&!bn)continue;Yr.version===1&&wr(`Vector tile source "${this.source}" layer "${Wr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Dn=Mt.encode(Wr),jn=[];for(let dn=0;dn<Yr.length;dn++){const An=Yr.feature(dn),Wn=Dt.getId(An,Wr);jn.push({feature:An,id:Wn,index:dn,sourceLayerIndex:Dn})}for(const dn of qt[Wr]){const An=dn[0];this.isSymbolTile!==void 0&&An.type==="symbol"!==this.isSymbolTile||An.minzoom&&this.zoom<Math.floor(An.minzoom)||An.maxzoom&&this.zoom>=An.maxzoom||An.visibility!=="none"&&(e1(dn,this.zoom,_t),(Nt[An.id]=An.createBucket({index:Dt.bucketLayerIDs.length,layers:dn,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Dn,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:_t})).populate(jn,Wt,this.tileID.canonical,this.tileTransform),Dt.bucketLayerIDs.push(dn.map(Wn=>Wn.id)))}}let Xt,ar,lr,hr;Bt.trim();const Sr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ar=sr(Wt.glyphDependencies,Wr=>Object.keys(Wr).map(Number));Object.keys(Ar).length?St.send("getGlyphs",{uid:this.uid,stacks:Ar},(Wr,Yr)=>{Xt||(Xt=Wr,ar=Yr,jr.call(this))},void 0,!1,Sr):ar={};const Vr=Object.keys(Wt.iconDependencies);Vr.length?St.send("getImages",{icons:Vr,source:this.source,tileID:this.tileID,type:"icons"},(Wr,Yr)=>{Xt||(Xt=Wr,lr=Yr,jr.call(this))},void 0,!1,Sr):lr={};const Fr=Object.keys(Wt.patternDependencies);function jr(){if(Xt)return At(Xt);if(ar&&lr&&hr){const Wr=new T2(ar),Yr=new Tx(lr,hr);for(const _n in Nt){const bn=Nt[_n];bn instanceof rv?(e1(bn.layers,this.zoom,_t),Cw(bn,ar,Wr.positions,lr,Yr.iconPositions,this.showCollisionBoxes,_t,this.tileID.canonical,this.tileZoom,this.projection)):bn.hasPattern&&(bn instanceof O0||bn instanceof I0||bn instanceof by)&&(e1(bn.layers,this.zoom,_t),bn.addFeatures(Wt,this.tileID.canonical,Yr.patternPositions,_t,this.tileTransform))}this.status="done",At(null,{buckets:Gt(Nt).filter(_n=>!_n.isEmpty()),featureIndex:Dt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Wr.image,lineAtlas:Bt,imageAtlas:Yr,glyphMap:this.returnDependencies?ar:null,iconMap:this.returnDependencies?lr:null,glyphPositions:this.returnDependencies?Wr.positions:null})}}Fr.length?St.send("getImages",{icons:Fr,source:this.source,tileID:this.tileID,type:"patterns"},(Wr,Yr)=>{Xt||(Xt=Wr,hr=Yr,jr.call(this))},void 0,!1,Sr):hr={},jr.call(this)}}function e1(pt,ct,mt){const _t=new Cr(ct);for(const St of pt)St.recalculate(_t,mt)}class E2{constructor(ct){this.entries={},this.scheduler=ct}request(ct,mt,_t,St){const At=this.entries[ct]=this.entries[ct]||{callbacks:[]};if(At.result){const[Mt,Dt]=At.result;return this.scheduler?this.scheduler.add(()=>{St(Mt,Dt)},mt):St(Mt,Dt),()=>{}}return At.callbacks.push(St),At.cancel||(At.cancel=_t((Mt,Dt)=>{At.result=[Mt,Dt];for(const Nt of At.callbacks)this.scheduler?this.scheduler.add(()=>{Nt(Mt,Dt)},mt):Nt(Mt,Dt);setTimeout(()=>delete this.entries[ct],3e3)})),()=>{At.result||(At.callbacks=At.callbacks.filter(Mt=>Mt!==St),At.callbacks.length||(At.cancel(),delete this.entries[ct]))}}}function A2(pt,ct,mt){const _t=JSON.stringify(pt.request);return pt.data&&(this.deduped.entries[_t]={result:[null,pt.data]}),this.deduped.request(_t,{type:"parseTile",isSymbolTile:pt.isSymbolTile,zoom:pt.tileZoom},St=>{const At=Or(pt.request,(Mt,Dt,Nt,Bt)=>{Mt?St(Mt):Dt&&St(null,{vectorTile:mt?void 0:new zv.VectorTile(new Ty(Dt)),rawData:Dt,cacheControl:Nt,expires:Bt})});return()=>{At.cancel(),St()}},ct)}it.ARRAY_TYPE=Yl,it.AUTH_ERR_MSG=vo,it.Aabb=cu,it.Actor=class{constructor(pt,ct,mt){this.target=pt,this.parent=ct,this.mapId=mt,this.callbacks={},this.cancelCallbacks={},nr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Br()?pt:st,this.scheduler=new Xw}send(pt,ct,mt,_t,St=!1,At){const Mt=Math.round(1e18*Math.random()).toString(36).substring(0,10);mt&&(mt.metadata=At,this.callbacks[Mt]=mt);const Dt=Jr(this.globalScope)?void 0:[];return this.target.postMessage({id:Mt,type:pt,hasCallback:!!mt,targetMapId:_t,mustQueue:St,sourceMapId:this.mapId,data:Av(ct,Dt)},Dt),{cancel:()=>{mt&&delete this.callbacks[Mt],this.target.postMessage({id:Mt,type:"<cancel>",targetMapId:_t,sourceMapId:this.mapId})}}}receive(pt){const ct=pt.data,mt=ct.id;if(mt&&(!ct.targetMapId||this.mapId===ct.targetMapId))if(ct.type==="<cancel>"){const _t=this.cancelCallbacks[mt];delete this.cancelCallbacks[mt],_t&&_t.cancel()}else if(ct.mustQueue||Br()){const _t=this.callbacks[mt];this.cancelCallbacks[mt]=this.scheduler.add(()=>this.processTask(mt,ct),_t&&_t.metadata||{type:"message"})}else this.processTask(mt,ct)}processTask(pt,ct){if(ct.type==="<response>"){const mt=this.callbacks[pt];delete this.callbacks[pt],mt&&(ct.error?mt(Pv(ct.error)):mt(null,Pv(ct.data)))}else{const mt=Jr(this.globalScope)?void 0:[],_t=ct.hasCallback?(At,Mt)=>{delete this.cancelCallbacks[pt],this.target.postMessage({id:pt,type:"<response>",sourceMapId:this.mapId,error:At?Av(At):null,data:Av(Mt,mt)},mt)}:At=>{},St=Pv(ct.data);if(this.parent[ct.type])this.parent[ct.type](ct.sourceMapId,St,_t);else if(this.parent.getWorkerSource){const At=ct.type.split(".");this.parent.getWorkerSource(ct.sourceMapId,At[0],St.source)[At[1]](St,_t)}else _t(new Error(`Could not find function ${ct.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},it.CanonicalTileID=D0,it.Color=$o,it.ColorMode=Zu,it.CullFaceMode=Iu,it.DEMData=X0,it.DataConstantProperty=hn,it.DedupedRequest=E2,it.DepthMode=Fm,it.EXTENT=Ao,it.Elevation=class{isDataAvailableAtPoint(pt){const ct=this._source();if(!ct||pt.y<0||pt.y>1)return!1;const mt=ct.getSource().maxzoom,_t=1<<mt,St=Math.floor(pt.x),At=Math.floor((pt.x-St)*_t),Mt=Math.floor(pt.y*_t),Dt=this.findDEMTileFor(new Il(mt,St,mt,At,Mt));return!(!Dt||!Dt.dem)}getAtPointOrZero(pt,ct=0){return this.getAtPoint(pt,ct)||0}getAtPoint(pt,ct,mt=!0){ct==null&&(ct=null);const _t=this._source();if(!_t||pt.y<0||pt.y>1)return ct;const St=_t.getSource().maxzoom,At=1<<St,Mt=Math.floor(pt.x),Dt=pt.x-Mt,Nt=new Il(St,Mt,St,Math.floor(Dt*At),Math.floor(pt.y*At)),Bt=this.findDEMTileFor(Nt);if(!Bt||!Bt.dem)return ct;const Wt=Bt.dem,qt=1<<Bt.tileID.canonical.z,Xt=(Dt*qt-Bt.tileID.canonical.x)*Wt.dim,ar=(pt.y*qt-Bt.tileID.canonical.y)*Wt.dim,lr=Math.floor(Xt),hr=Math.floor(ar);return(mt?this.exaggeration():1)*Yo(Yo(Wt.get(lr,hr),Wt.get(lr,hr+1),ar-hr),Yo(Wt.get(lr+1,hr),Wt.get(lr+1,hr+1),ar-hr),Xt-lr)}getAtTileOffset(pt,ct,mt){const _t=1<<pt.canonical.z;return this.getAtPointOrZero(new Tm(pt.wrap+(pt.canonical.x+ct/Ao)/_t,(pt.canonical.y+mt/Ao)/_t))}getAtTileOffsetFunc(pt,ct,mt,_t){return St=>{const At=this.getAtTileOffset(pt,St.x,St.y),Mt=_t.upVector(pt.canonical,St.x,St.y);return Hu(Mt,Mt,At*_t.upVectorScale(pt.canonical,ct,mt).metersToTile),Mt}}getForTilePoints(pt,ct,mt,_t){const St=Q0.create(this,pt,_t);return!!St&&(ct.forEach(At=>{At[2]=this.exaggeration()*St.getElevationAt(At[0],At[1],mt)}),!0)}getMinMaxForTile(pt){const ct=this.findDEMTileFor(pt);if(!ct||!ct.dem)return null;const mt=ct.dem.tree,_t=ct.tileID,St=1<<pt.canonical.z-_t.canonical.z;let At=pt.canonical.x/St-_t.canonical.x,Mt=pt.canonical.y/St-_t.canonical.y,Dt=0;for(let Nt=0;Nt<pt.canonical.z-_t.canonical.z&&!mt.leaves[Dt];Nt++){At*=2,Mt*=2;const Bt=2*Math.floor(Mt)+Math.floor(At);Dt=mt.childOffsets[Dt]+Bt,At%=1,Mt%=1}return{min:this.exaggeration()*mt.minimums[Dt],max:this.exaggeration()*mt.maximums[Dt]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(pt,ct,mt){throw new Error("Pure virtual method called.")}pointCoordinate(pt){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(pt){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},it.ErrorEvent=oo,it.EvaluationParameters=Cr,it.Event=qn,it.Evented=bo,it.FillExtrusionBucket=by,it.Frustum=x_,it.FrustumCorners=__,it.GLOBE_METERS_TO_ECEF=B_,it.GLOBE_RADIUS=Bv,it.GLOBE_SCALE_MATCH_LATITUDE=45,it.GLOBE_ZOOM_THRESHOLD_MAX=6,it.GLOBE_ZOOM_THRESHOLD_MIN=5,it.GlobeSharedBuffers=class{constructor(pt){this._createGrid(pt),this._createPoles(pt)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const pt of this._poleSegments)pt.destroy();for(const pt of this._gridSegments)pt.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const pt of this._wireframeSegments)pt.destroy()}}_createGrid(pt){const ct=new Co,mt=new es,_t=65;for(let St=0;St<_t;St++)for(let At=0;At<_t;At++)ct.emplaceBack(At,St);this._gridSegments=[];for(let St=0,At=0;St<km.length;St++){const Mt=km[St];for(let Nt=0;Nt<Mt;Nt++)for(let Bt=0;Bt<64;Bt++){const Wt=Nt*_t+Bt;mt.emplaceBack(Wt+1,Wt,Wt+_t),mt.emplaceBack(Wt+_t,Wt+_t+1,Wt+1)}const Dt=64*Mt*2;this._gridSegments.push(ks.simpleSegment(0,At,(Mt+1)*_t,Dt)),At+=Dt}this._gridBuffer=pt.createVertexBuffer(ct,Py.members),this._gridIndexBuffer=pt.createIndexBuffer(mt,!0)}_createPoles(pt){const ct=new es;for(let St=0;St<=64;St++)ct.emplaceBack(0,St+1,St+2);this._poleIndexBuffer=pt.createIndexBuffer(ct,!0);const mt=new Wp,_t=new Wp;this._poleSegments=[];for(let St=0,At=0;St<5;St++){const Mt=1<<St,Dt=512*Mt/Math.PI/2,Nt=360/Mt;mt.emplaceBack(0,-Dt,0,0,0,.5,0),_t.emplaceBack(0,-Dt,0,0,0,.5,1);for(let Bt=0;Bt<=64;Bt++){const Wt=Bt/64,qt=Yo(0,Nt,Wt),[Xt,ar,lr]=Yx(Iw,Rw,qt,Dt);mt.emplaceBack(Xt,ar,lr,0,0,Wt,0),_t.emplaceBack(Xt,ar,lr,0,0,Wt,1)}this._poleSegments.push(ks.simpleSegment(At,0,66,64)),At+=66}this._poleNorthVertexBuffer=pt.createVertexBuffer(mt,Hx,!1),this._poleSouthVertexBuffer=pt.createVertexBuffer(_t,Hx,!1)}getGridBuffers(pt){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[pt]]}getPoleBuffers(pt){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[pt]]}getWirefameBuffers(pt,ct){if(!this._wireframeSegments){const mt=new Vs,_t=64,St=_t+1;this._wireframeSegments=[];for(let At=0,Mt=0;At<km.length;At++){const Dt=km[At];for(let Bt=0;Bt<Dt;Bt++)for(let Wt=0;Wt<_t;Wt++){const qt=Bt*St+Wt;mt.emplaceBack(qt,qt+1),mt.emplaceBack(qt,qt+St),mt.emplaceBack(qt,qt+St+1)}const Nt=Dt*_t*3;this._wireframeSegments.push(ks.simpleSegment(0,Mt,(Dt+1)*St,Nt)),Mt+=Nt}this._wireframeIndexBuffer=pt.createIndexBuffer(mt)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[ct]]}},it.GlyphManager=Lm,it.ImagePosition=R_,it.LineAtlas=Y_,it.LngLat=vs,it.LngLatBounds=Zp,it.LocalGlyphMode=k_,it.MAX_MERCATOR_LATITUDE=ju,it.MercatorCoordinate=Tm,it.ONE_EM=Sl,it.OverscaledTileID=Il,it.Properties=Tn,it.RGBAImage=Xl,it.Ray=y_,it.RequestManager=class{constructor(pt,ct,mt){this._transformRequestFn=pt,this._customAccessToken=ct,this._silenceAuthErrors=!!mt,this._createSkuToken()}_createSkuToken(){const pt=function(){let ct="";for(let mt=0;mt<10;mt++)ct+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",so,ct].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=pt.token,this._skuTokenExpiresAt=pt.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(pt,ct){return this._transformRequestFn&&this._transformRequestFn(pt,ct)||{url:pt}}normalizeStyleURL(pt,ct){if(!Eo(pt))return pt;const mt=$a(pt);return mt.path=`/styles/v1${mt.path}`,this._makeAPIURL(mt,this._customAccessToken||ct)}normalizeGlyphsURL(pt,ct){if(!Eo(pt))return pt;const mt=$a(pt);return mt.path=`/fonts/v1${mt.path}`,this._makeAPIURL(mt,this._customAccessToken||ct)}normalizeSourceURL(pt,ct,mt,_t){if(!Eo(pt))return pt;const St=$a(pt);return St.path=`/v4/${St.authority}.json`,St.params.push("secure"),mt&&St.params.push(`language=${mt}`),_t&&St.params.push(`worldview=${_t}`),this._makeAPIURL(St,this._customAccessToken||ct)}normalizeSpriteURL(pt,ct,mt,_t){const St=$a(pt);return Eo(pt)?(St.path=`/styles/v1${St.path}/sprite${ct}${mt}`,this._makeAPIURL(St,this._customAccessToken||_t)):(St.path+=`${ct}${mt}`,mo(St))}normalizeTileURL(pt,ct,mt){if(this._isSkuTokenExpired()&&this._createSkuToken(),pt&&!Eo(pt))return pt;const _t=$a(pt);_t.path=_t.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${ct||mt&&_t.authority!=="raster"&&mt===512?"@2x":""}${wn.supported?".webp":"$1"}`),_t.authority==="raster"?_t.path=`/${Xr.RASTER_URL_PREFIX}${_t.path}`:(_t.path=_t.path.replace(/^.+\/v4\//,"/"),_t.path=`/${Xr.TILE_URL_VERSION}${_t.path}`);const St=this._customAccessToken||function(At){for(const Mt of At){const Dt=Mt.match(/^access_token=(.*)$/);if(Dt)return Dt[1]}return null}(_t.params)||Xr.ACCESS_TOKEN;return Xr.REQUIRE_ACCESS_TOKEN&&St&&this._skuToken&&_t.params.push(`sku=${this._skuToken}`),this._makeAPIURL(_t,St)}canonicalizeTileURL(pt,ct){const mt=$a(pt);if(!mt.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!mt.path.match(/\.[\w]+$/))return pt;let _t="mapbox://";mt.path.match(/^\/raster\/v1\//)?_t+=`raster/${mt.path.replace(`/${Xr.RASTER_URL_PREFIX}/`,"")}`:_t+=`tiles/${mt.path.replace(`/${Xr.TILE_URL_VERSION}/`,"")}`;let St=mt.params;return ct&&(St=St.filter(At=>!At.match(/^access_token=/))),St.length&&(_t+=`?${St.join("&")}`),_t}canonicalizeTileset(pt,ct){const mt=!!ct&&Eo(ct),_t=[];for(const St of pt.tiles||[])To(St)?_t.push(this.canonicalizeTileURL(St,mt)):_t.push(St);return _t}_makeAPIURL(pt,ct){const mt="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",_t=$a(Xr.API_URL);if(pt.protocol=_t.protocol,pt.authority=_t.authority,pt.protocol==="http"){const St=pt.params.indexOf("secure");St>=0&&pt.params.splice(St,1)}if(_t.path!=="/"&&(pt.path=`${_t.path}${pt.path}`),!Xr.REQUIRE_ACCESS_TOKEN)return mo(pt);if(ct=ct||Xr.ACCESS_TOKEN,!this._silenceAuthErrors){if(!ct)throw new Error(`An API access token is required to use Mapbox GL. ${mt}`);if(ct[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${mt}`)}return pt.params=pt.params.filter(St=>St.indexOf("access_token")===-1),pt.params.push(`access_token=${ct||""}`),mo(pt)}},it.ResourceType=Er,it.SegmentVector=ks,it.SourceCache=Uv,it.StencilMode=X_,it.StructArrayLayout1ui2=yu,it.StructArrayLayout2f1f2i16=fs,it.StructArrayLayout2i4=Co,it.StructArrayLayout2ui4=Vs,it.StructArrayLayout3f12=Qs,it.StructArrayLayout3ui6=es,it.StructArrayLayout4i8=yo,it.StructArrayLayout5f20=Kp,it.Texture=Ly,it.Tile=q_,it.Transitionable=$r,it.Uniform1f=v0,it.Uniform1i=class extends hp{constructor(pt,ct){super(pt,ct),this.current=0}set(pt){this.current!==pt&&(this.current=pt,this.gl.uniform1i(this.location,pt))}},it.Uniform2f=class extends hp{constructor(pt,ct){super(pt,ct),this.current=[0,0]}set(pt){pt[0]===this.current[0]&&pt[1]===this.current[1]||(this.current=pt,this.gl.uniform2f(this.location,pt[0],pt[1]))}},it.Uniform3f=class extends hp{constructor(pt,ct){super(pt,ct),this.current=[0,0,0]}set(pt){pt[0]===this.current[0]&&pt[1]===this.current[1]&&pt[2]===this.current[2]||(this.current=pt,this.gl.uniform3f(this.location,pt[0],pt[1],pt[2]))}},it.Uniform4f=C1,it.UniformColor=T1,it.UniformMatrix2f=class extends hp{constructor(pt,ct){super(pt,ct),this.current=B2}set(pt){for(let ct=0;ct<4;ct++)if(pt[ct]!==this.current[ct]){this.current=pt,this.gl.uniformMatrix2fv(this.location,!1,pt);break}}},it.UniformMatrix3f=class extends hp{constructor(pt,ct){super(pt,ct),this.current=z2}set(pt){for(let ct=0;ct<9;ct++)if(pt[ct]!==this.current[ct]){this.current=pt,this.gl.uniformMatrix3fv(this.location,!1,pt);break}}},it.UniformMatrix4f=class extends hp{constructor(pt,ct){super(pt,ct),this.current=F2}set(pt){if(pt[12]!==this.current[12]||pt[0]!==this.current[0])return this.current=pt,void this.gl.uniformMatrix4fv(this.location,!1,pt);for(let ct=1;ct<16;ct++)if(pt[ct]!==this.current[ct]){this.current=pt,this.gl.uniformMatrix4fv(this.location,!1,pt);break}}},it.UnwrappedTileID=fx,it.ValidationError=to,it.VectorTileWorkerSource=class extends bo{constructor(pt,ct,mt,_t,St){super(),this.actor=pt,this.layerIndex=ct,this.availableImages=mt,this.loadVectorData=St||A2,this.loading={},this.loaded={},this.deduped=new E2(pt.scheduler),this.isSpriteLoaded=_t,this.scheduler=pt.scheduler}loadTile(pt,ct){const mt=pt.uid,_t=pt&&pt.request,St=_t&&_t.collectResourceTiming,At=this.loading[mt]=new rC(pt);At.abort=this.loadVectorData(pt,(Mt,Dt)=>{const Nt=!this.loading[mt];if(delete this.loading[mt],Nt||Mt||!Dt)return At.status="done",Nt||(this.loaded[mt]=At),ct(Mt);const Bt=Dt.rawData,Wt={};Dt.expires&&(Wt.expires=Dt.expires),Dt.cacheControl&&(Wt.cacheControl=Dt.cacheControl),At.vectorTile=Dt.vectorTile||new zv.VectorTile(new Ty(Bt));const qt=()=>{At.parse(At.vectorTile,this.layerIndex,this.availableImages,this.actor,(Xt,ar)=>{if(Xt||!ar)return ct(Xt);const lr={};if(St){const hr=ln(_t);hr.length>0&&(lr.resourceTiming=JSON.parse(JSON.stringify(hr)))}ct(null,jt({rawTileData:Bt.slice(0)},ar,Wt,lr))})};this.isSpriteLoaded?qt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(qt,{type:"parseTile",isSymbolTile:pt.isSymbolTile,zoom:pt.tileZoom}):qt()}),this.loaded=this.loaded||{},this.loaded[mt]=At})}reloadTile(pt,ct){const mt=this.loaded,_t=pt.uid,St=this;if(mt&&mt[_t]){const At=mt[_t];At.showCollisionBoxes=pt.showCollisionBoxes,At.enableTerrain=!!pt.enableTerrain,At.projection=pt.projection,At.tileTransform=Vv(pt.tileID.canonical,pt.projection);const Mt=(Dt,Nt)=>{const Bt=At.reloadCallback;Bt&&(delete At.reloadCallback,At.parse(At.vectorTile,St.layerIndex,this.availableImages,St.actor,Bt)),ct(Dt,Nt)};At.status==="parsing"?At.reloadCallback=Mt:At.status==="done"&&(At.vectorTile?At.parse(At.vectorTile,this.layerIndex,this.availableImages,this.actor,Mt):Mt())}}abortTile(pt,ct){const mt=pt.uid,_t=this.loading[mt];_t&&(_t.abort&&_t.abort(),delete this.loading[mt]),ct()}removeTile(pt,ct){const mt=this.loaded,_t=pt.uid;mt&&mt[_t]&&delete mt[_t],ct()}},it.WritingMode=fu,it.ZoomHistory=n0,it.add=Qp,it.addDynamicAttributes=Y0,it.adjoint=function(pt,ct){var mt=ct[0],_t=ct[1],St=ct[2],At=ct[3],Mt=ct[4],Dt=ct[5],Nt=ct[6],Bt=ct[7],Wt=ct[8];return pt[0]=Mt*Wt-Dt*Bt,pt[1]=St*Bt-_t*Wt,pt[2]=_t*Dt-St*Mt,pt[3]=Dt*Nt-At*Wt,pt[4]=mt*Wt-St*Nt,pt[5]=St*At-mt*Dt,pt[6]=At*Bt-Mt*Nt,pt[7]=_t*Nt-mt*Bt,pt[8]=mt*Mt-_t*At,pt},it.asyncAll=zt,it.bezier=$t,it.bindAll=nr,it.boundsAttributes=c2,it.bufferConvexPolygon=function(pt,ct){const mt=[];for(let _t=0;_t<pt.length;_t++){const St=Ft(_t-1,-1,pt.length-1),At=Ft(_t+1,-1,pt.length-1),Mt=pt[_t],Dt=pt[At],Nt=pt[St].sub(Mt).unit(),Bt=Dt.sub(Mt).unit(),Wt=Bt.angleWithSep(Nt.x,Nt.y),qt=Nt.add(Bt).unit().mult(-1*ct/Math.sin(Wt/2));mt.push(Mt.add(qt))}return mt},it.cacheEntryPossiblyAdded=function(pt){gr++,gr>ba&&(pt.getActor().send("enforceCacheSizeLimit",cs),gr=0)},it.calculateGlobeLabelMatrix=function(pt,ct){const{x:mt,y:_t}=pt.point,St=Xx(mt,_t,pt.worldSize/pt._projectionScaler,0,0);return Xp(St,St,Zx(Ku(ct)))},it.calculateGlobeMatrix=function(pt){const{x:ct,y:mt}=pt.point,{lng:_t,lat:St}=pt._center;return Xx(ct,mt,pt.worldSize,_t,St)},it.calculateGlobeMercatorMatrix=function(pt){const ct=pt.worldSize,mt=pt.point,_t=_u(1,pt.center.lat)*ct,St=pt.pixelsPerMeter,At=ct/(_t/pt.pixelsPerMeter),Mt=Zl(new Float64Array(16));return Nv(Mt,Mt,[mt.x,mt.y,0]),Gu(Mt,Mt,[At,At,St]),Float32Array.from(Mt)},it.circumferenceAtLatitude=l_,it.clamp=Ot,it.clearTileCache=function(pt){const ct=[];for(const mt in lo)ct.push(st.caches.delete(mt)),delete lo[mt];pt&&Promise.all(ct).catch(pt).then(()=>pt())},it.clipLine=Nx,it.clone=function(pt){var ct=new Yl(16);return ct[0]=pt[0],ct[1]=pt[1],ct[2]=pt[2],ct[3]=pt[3],ct[4]=pt[4],ct[5]=pt[5],ct[6]=pt[6],ct[7]=pt[7],ct[8]=pt[8],ct[9]=pt[9],ct[10]=pt[10],ct[11]=pt[11],ct[12]=pt[12],ct[13]=pt[13],ct[14]=pt[14],ct[15]=pt[15],ct},it.clone$1=yr,it.collisionCircleLayout=ZS,it.config=Xr,it.conjugate=function(pt,ct){return pt[0]=-ct[0],pt[1]=-ct[1],pt[2]=-ct[2],pt[3]=ct[3],pt},it.create=function(){var pt=new Yl(16);return Yl!=Float32Array&&(pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=0,pt[6]=0,pt[7]=0,pt[8]=0,pt[9]=0,pt[11]=0,pt[12]=0,pt[13]=0,pt[14]=0),pt[0]=1,pt[5]=1,pt[10]=1,pt[15]=1,pt},it.create$1=F1,it.createExpression=sp,it.createLayout=Zn,it.createStyleLayer=function(pt){return pt.type==="custom"?new Kw(pt):new qw[pt.type](pt)},it.cross=g_,it.degToRad=xt,it.distance=function(pt,ct){return Math.hypot(ct[0]-pt[0],ct[1]-pt[1],ct[2]-pt[2])},it.div=function(pt,ct,mt){return pt[0]=ct[0]/mt[0],pt[1]=ct[1]/mt[1],pt[2]=ct[2]/mt[2],pt},it.dot=xu,it.ease=It,it.easeCubicInOut=Et,it.emitValidationErrors=e0,it.endsWith=dr,it.enforceCacheSizeLimit=function(pt){for(const ct in lo)ur(ct),lo[ct].then(mt=>{mt.keys().then(_t=>{for(let St=0;St<_t.length-pt;St++)mt.delete(_t[St])})})},it.evaluateSizeForFeature=k0,it.evaluateSizeForZoom=Mm,it.evaluateVariableOffset=Ux,it.evented=br,it.exactEquals=function(pt,ct){return pt[0]===ct[0]&&pt[1]===ct[1]&&pt[2]===ct[2]&&pt[3]===ct[3]},it.exactEquals$1=function(pt,ct){return pt[0]===ct[0]&&pt[1]===ct[1]&&pt[2]===ct[2]},it.exported=Mn,it.exported$1=wn,it.extend=jt,it.extend$1=ss,it.fillExtrusionHeightLift=lx,it.filterObject=fr,it.fromMat4=function(pt,ct){return pt[0]=ct[0],pt[1]=ct[1],pt[2]=ct[2],pt[3]=ct[4],pt[4]=ct[5],pt[5]=ct[6],pt[6]=ct[8],pt[7]=ct[9],pt[8]=ct[10],pt},it.fromQuat=function(pt,ct){var mt=ct[0],_t=ct[1],St=ct[2],At=ct[3],Mt=mt+mt,Dt=_t+_t,Nt=St+St,Bt=mt*Mt,Wt=_t*Mt,qt=_t*Dt,Xt=St*Mt,ar=St*Dt,lr=St*Nt,hr=At*Mt,Sr=At*Dt,Ar=At*Nt;return pt[0]=1-qt-lr,pt[1]=Wt+Ar,pt[2]=Xt-Sr,pt[3]=0,pt[4]=Wt-Ar,pt[5]=1-Bt-lr,pt[6]=ar+hr,pt[7]=0,pt[8]=Xt+Sr,pt[9]=ar-hr,pt[10]=1-Bt-qt,pt[11]=0,pt[12]=0,pt[13]=0,pt[14]=0,pt[15]=1,pt},it.fromRotation=function(pt,ct){var mt=Math.sin(ct),_t=Math.cos(ct);return pt[0]=_t,pt[1]=mt,pt[2]=0,pt[3]=-mt,pt[4]=_t,pt[5]=0,pt[6]=0,pt[7]=0,pt[8]=1,pt},it.fromScaling=function(pt,ct){return pt[0]=ct[0],pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=0,pt[5]=ct[1],pt[6]=0,pt[7]=0,pt[8]=0,pt[9]=0,pt[10]=ct[2],pt[11]=0,pt[12]=0,pt[13]=0,pt[14]=0,pt[15]=1,pt},it.furthestTileCorner=function(pt){const ct=Math.round((pt+45+360)%360/90)%4;return wt[ct]},it.getAABBPointSquareDist=function(pt,ct,mt){let _t=0;for(let St=0;St<2;++St){const At=mt?mt[St]:0;pt[St]>At&&(_t+=(pt[St]-At)*(pt[St]-At)),ct[St]<At&&(_t+=(At-ct[St])*(At-ct[St]))}return _t},it.getAnchorAlignment=O_,it.getAnchorJustification=F_,it.getBounds=function(pt){let ct=1/0,mt=1/0,_t=-1/0,St=-1/0;for(const At of pt)ct=Math.min(ct,At.x),mt=Math.min(mt,At.y),_t=Math.max(_t,At.x),St=Math.max(St,At.y);return{min:new dt(ct,mt),max:new dt(_t,St)}},it.getColumn=yn,it.getGridMatrix=function(pt,ct,mt){const[_t,St]=ct,At=.015625;return[0,(St[1]-_t[1])*At,1<<pt.z,(St[0]-_t[0])/km[mt],0,pt.y,_t[0],_t[1],At]},it.getImage=_i,it.getJSON=function(pt,ct){return Hr(jt(pt,{type:"json"}),ct)},it.getLatitudinalLod=function(pt){const ct=80.051129;pt=Ot(pt,-80.051129,ct)/ct*90;const mt=Math.pow(Math.abs(Math.sin(xt(pt))),3);return Math.round(mt*(km.length-1))},it.getMapSessionAPI=Uo,it.getPerformanceMeasurement=ln,it.getProjection=i2,it.getRTLTextPluginStatus=mr,it.getReferrer=Kr,it.getTilePoint=function(pt,{x:ct,y:mt},_t=0){return new dt(((ct-_t)*pt.scale-pt.x)*Ao,(mt*pt.scale-pt.y)*Ao)},it.getTileVec3=function(pt,ct,mt=0){return Am(((ct.x-mt)*pt.scale-pt.x)*Ao,(ct.y*pt.scale-pt.y)*Ao,P1(ct.z,ct.y))},it.getVideo=function(pt,ct){const mt=st.document.createElement("video");mt.muted=!0,mt.onloadstart=function(){ct(null,mt)};for(let _t=0;_t<pt.length;_t++){const St=st.document.createElement("source");Gn(pt[_t])||(mt.crossOrigin="Anonymous"),St.src=pt[_t],mt.appendChild(St)}return{cancel:()=>{}}},it.globeCenterToScreenPoint=function(pt){const ct=[0,0,0],mt=Zl(new Float64Array(16));return Xp(mt,pt.pixelMatrix,pt.globeMatrix),xl(ct,ct,mt),new dt(ct[0],ct[1])},it.globeECEFOrigin=function(pt,ct){const mt=[0,0,0];return xl(mt,mt,$y(Ku(ct.canonical))),xl(mt,mt,pt),mt},it.globeNormalizeECEF=$y,it.globePixelsToTileUnits=function(pt,ct){return Ao/(512*Math.pow(2,pt))*j0(Ku(ct))},it.globePoleMatrixForTile=function(pt,ct,mt){const _t=Zl(new Float64Array(16)),St=1<<pt,At=360*(ct/St-.5),Mt=mt.point,Dt=mt.worldSize/(mt.tileSize*St);return Nv(_t,_t,[Mt.x,Mt.y,-mt.worldSize/Math.PI/2]),Gu(_t,_t,[Dt,Dt,Dt]),b0(_t,_t,xt(-mt._center.lat)),S0(_t,_t,xt(-mt._center.lng+At)),Float32Array.from(_t)},it.globeTileBounds=Ku,it.globeTileLatLngCorners=U_,it.globeTiltAtLngLat=Qx,it.globeToMercatorTransition=j_,it.globeUseCustomAntiAliasing=function(pt,ct,mt){const _t=j_(mt.zoom),St=pt.style.map._antialias,At=!!ct.extStandardDerivatives,Mt=ct.extStandardDerivativesForceOff||pt.terrain&&pt.terrain.exaggeration()>0;return _t===0&&!St&&!Mt&&At},it.identity=Zl,it.identity$1=H1,it.invert=function(pt,ct){var mt=ct[0],_t=ct[1],St=ct[2],At=ct[3],Mt=ct[4],Dt=ct[5],Nt=ct[6],Bt=ct[7],Wt=ct[8],qt=ct[9],Xt=ct[10],ar=ct[11],lr=ct[12],hr=ct[13],Sr=ct[14],Ar=ct[15],Vr=mt*Dt-_t*Mt,Fr=mt*Nt-St*Mt,jr=mt*Bt-At*Mt,Wr=_t*Nt-St*Dt,Yr=_t*Bt-At*Dt,_n=St*Bt-At*Nt,bn=Wt*hr-qt*lr,Dn=Wt*Sr-Xt*lr,jn=Wt*Ar-ar*lr,dn=qt*Sr-Xt*hr,An=qt*Ar-ar*hr,Wn=Xt*Ar-ar*Sr,Kn=Vr*Wn-Fr*An+jr*dn+Wr*jn-Yr*Dn+_n*bn;return Kn?(pt[0]=(Dt*Wn-Nt*An+Bt*dn)*(Kn=1/Kn),pt[1]=(St*An-_t*Wn-At*dn)*Kn,pt[2]=(hr*_n-Sr*Yr+Ar*Wr)*Kn,pt[3]=(Xt*Yr-qt*_n-ar*Wr)*Kn,pt[4]=(Nt*jn-Mt*Wn-Bt*Dn)*Kn,pt[5]=(mt*Wn-St*jn+At*Dn)*Kn,pt[6]=(Sr*jr-lr*_n-Ar*Fr)*Kn,pt[7]=(Wt*_n-Xt*jr+ar*Fr)*Kn,pt[8]=(Mt*An-Dt*jn+Bt*bn)*Kn,pt[9]=(_t*jn-mt*An-At*bn)*Kn,pt[10]=(lr*Yr-hr*jr+Ar*Vr)*Kn,pt[11]=(qt*jr-Wt*Yr-ar*Vr)*Kn,pt[12]=(Dt*Dn-Mt*dn-Nt*bn)*Kn,pt[13]=(mt*dn-_t*Dn+St*bn)*Kn,pt[14]=(hr*Fr-lr*Wr-Sr*Vr)*Kn,pt[15]=(Wt*Wr-qt*Fr+Xt*Vr)*Kn,pt):null},it.isLngLatBehindGlobe=function(pt,ct){return Qx(pt,ct)>Math.PI/2*1.01},it.isMapAuthenticated=function(pt){return Zo.has(pt)},it.isMapboxURL=Eo,it.isSafariWithAntialiasingBug=function(pt){const ct=pt.navigator?pt.navigator.userAgent:null;return!!Jr(pt)&&ct&&(ct.match("Version/15.4")||ct.match("Version/15.5")||ct.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},it.latFromMercatorY=Gs,it.len=nS,it.length=hy,it.length$1=function(pt){return Math.hypot(pt[0],pt[1],pt[2],pt[3])},it.loadVectorTile=A2,it.makeRequest=Hr,it.mapValue=function(pt,ct,mt,_t,St){return Ot((pt-ct)/(mt-ct)*(St-_t)+_t,_t,St)},it.mercatorXfromLng=Dv,it.mercatorYfromLat=Lv,it.mercatorZfromAltitude=_u,it.mul=tS,it.mul$1=rS,it.multiply=Xp,it.multiply$1=function(pt,ct,mt){var _t=ct[0],St=ct[1],At=ct[2],Mt=ct[3],Dt=ct[4],Nt=ct[5],Bt=ct[6],Wt=ct[7],qt=ct[8],Xt=mt[0],ar=mt[1],lr=mt[2],hr=mt[3],Sr=mt[4],Ar=mt[5],Vr=mt[6],Fr=mt[7],jr=mt[8];return pt[0]=Xt*_t+ar*Mt+lr*Bt,pt[1]=Xt*St+ar*Dt+lr*Wt,pt[2]=Xt*At+ar*Nt+lr*qt,pt[3]=hr*_t+Sr*Mt+Ar*Bt,pt[4]=hr*St+Sr*Dt+Ar*Wt,pt[5]=hr*At+Sr*Nt+Ar*qt,pt[6]=Vr*_t+Fr*Mt+jr*Bt,pt[7]=Vr*St+Fr*Dt+jr*Wt,pt[8]=Vr*At+Fr*Nt+jr*qt,pt},it.multiply$2=V1,it.nextPowerOfTwo=Qt,it.normalize=Ml,it.normalize$1=function(pt,ct){var mt=ct[0],_t=ct[1],St=ct[2],At=ct[3],Mt=mt*mt+_t*_t+St*St+At*At;return Mt>0&&(Mt=1/Math.sqrt(Mt)),pt[0]=mt*Mt,pt[1]=_t*Mt,pt[2]=St*Mt,pt[3]=At*Mt,pt},it.number=Yo,it.ortho=function(pt,ct,mt,_t,St,At,Mt){var Dt=1/(ct-mt),Nt=1/(_t-St),Bt=1/(At-Mt);return pt[0]=-2*Dt,pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=0,pt[5]=-2*Nt,pt[6]=0,pt[7]=0,pt[8]=0,pt[9]=0,pt[10]=2*Bt,pt[11]=0,pt[12]=(ct+mt)*Dt,pt[13]=(St+_t)*Nt,pt[14]=(Mt+At)*Bt,pt[15]=1,pt},it.pbf=Ty,it.perspective=function(pt,ct,mt,_t,St){var At,Mt=1/Math.tan(ct/2);return pt[0]=Mt/mt,pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=0,pt[5]=Mt,pt[6]=0,pt[7]=0,pt[8]=0,pt[9]=0,pt[11]=-1,pt[12]=0,pt[13]=0,pt[15]=0,St!=null&&St!==1/0?(pt[10]=(St+_t)*(At=1/(_t-St)),pt[14]=2*St*_t*At):(pt[10]=-1,pt[14]=-2*_t),pt},it.pick=function(pt,ct){const mt={};for(let _t=0;_t<ct.length;_t++){const St=ct[_t];St in pt&&(mt[St]=pt[St])}return mt},it.plugin=_r,it.pointGeometry=dt,it.polygonContainsPoint=kv,it.polygonIntersectsBox=O1,it.polygonIntersectsPolygon=I1,it.polygonizeBounds=function(pt,ct,mt=0,_t=!0){const St=new dt(mt,mt),At=pt.sub(St),Mt=ct.add(St),Dt=[At,new dt(Mt.x,At.y),Mt,new dt(At.x,Mt.y)];return _t&&Dt.push(At.clone()),Dt},it.posAttributes=Py,it.postMapLoadEvent=os,it.postTurnstileEvent=Oo,it.potpack=I_,it.prevPowerOfTwo=function(pt){return pt<=1?1:Math.pow(2,Math.floor(Math.log(pt)/Math.LN2))},it.radToDeg=Ct,it.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],it.registerForPluginStateChange=function(pt){return pt({pluginStatus:ir,pluginURL:cr}),br.on("pluginStateChange",pt),pt},it.removeAuthState=function(pt){Zo.delete(pt)},it.renderColorRamp=S_,it.resample=$1,it.rotateX=b0,it.rotateX$1=W1,it.rotateY=S0,it.rotateY$1=K1,it.rotateZ=function(pt,ct,mt){var _t=Math.sin(mt),St=Math.cos(mt),At=ct[0],Mt=ct[1],Dt=ct[2],Nt=ct[3],Bt=ct[4],Wt=ct[5],qt=ct[6],Xt=ct[7];return ct!==pt&&(pt[8]=ct[8],pt[9]=ct[9],pt[10]=ct[10],pt[11]=ct[11],pt[12]=ct[12],pt[13]=ct[13],pt[14]=ct[14],pt[15]=ct[15]),pt[0]=At*St+Bt*_t,pt[1]=Mt*St+Wt*_t,pt[2]=Dt*St+qt*_t,pt[3]=Nt*St+Xt*_t,pt[4]=Bt*St-At*_t,pt[5]=Wt*St-Mt*_t,pt[6]=qt*St-Dt*_t,pt[7]=Xt*St-Nt*_t,pt},it.rotateZ$1=function(pt,ct,mt){mt*=.5;var _t=ct[0],St=ct[1],At=ct[2],Mt=ct[3],Dt=Math.sin(mt),Nt=Math.cos(mt);return pt[0]=_t*Nt+St*Dt,pt[1]=St*Nt-_t*Dt,pt[2]=At*Nt+Mt*Dt,pt[3]=Mt*Nt-At*Dt,pt},it.scale=Gu,it.scale$1=j1,it.scale$2=Hu,it.scaleAndAdd=T0,it.setCacheLimits=function(pt,ct){cs=pt,ba=ct},it.setColumn=function(pt,ct,mt){pt[4*ct+0]=mt[0],pt[4*ct+1]=mt[1],pt[4*ct+2]=mt[2],pt[4*ct+3]=mt[3]},it.setRTLTextPlugin=function(pt,ct,mt=!1){if(ir===Vt||ir===Ht||ir===Yt)throw new Error("setRTLTextPlugin cannot be called multiple times.");cr=Mn.resolveURL(pt),ir=Vt,Jt=ct,xr(),mt||Ir()},it.smoothstep=Lt,it.spec=Ur,it.storeAuthState=function(pt,ct){ct?Zo.add(pt):Zo.delete(pt)},it.sub=bu,it.subtract=m_,it.symbolSize=XS,it.tileAABB=function(pt,ct,mt,_t,St,At,Mt,Dt,Nt){if(Nt.name==="globe")return Mw(pt,ct,new D0(mt,_t,St));const Bt=Vv({z:mt,x:_t,y:St},Nt);return new cu([(At+Bt.x/Bt.scale)*ct,ct*(Bt.y/Bt.scale),Mt],[(At+Bt.x2/Bt.scale)*ct,ct*(Bt.y2/Bt.scale),Dt])},it.tileTransform=Vv,it.transformMat3=function(pt,ct,mt){var _t=ct[0],St=ct[1],At=ct[2];return pt[0]=_t*mt[0]+St*mt[3]+At*mt[6],pt[1]=_t*mt[1]+St*mt[4]+At*mt[7],pt[2]=_t*mt[2]+St*mt[5]+At*mt[8],pt},it.transformMat4=xl,it.transformMat4$1=Fv,it.transformQuat=U1,it.translate=Nv,it.transpose=function(pt,ct){if(pt===ct){var mt=ct[1],_t=ct[2],St=ct[5];pt[1]=ct[3],pt[2]=ct[6],pt[3]=mt,pt[5]=ct[7],pt[6]=_t,pt[7]=St}else pt[0]=ct[0],pt[1]=ct[3],pt[2]=ct[6],pt[3]=ct[1],pt[4]=ct[4],pt[5]=ct[7],pt[6]=ct[2],pt[7]=ct[5],pt[8]=ct[8];return pt},it.triggerPluginCompletionEvent=pr,it.uniqueId=Kt,it.updateGlobeVertexNormal=function(pt,ct,mt,_t,St){const At=5*ct+2;pt.float32[At+0]=mt,pt.float32[At+1]=_t,pt.float32[At+2]=St},it.validateCustomStyleLayer=function(pt){const ct=[],mt=pt.id;return mt===void 0&&ct.push({message:`layers.${mt}: missing required property "id"`}),pt.render===void 0&&ct.push({message:`layers.${mt}: missing required method "render"`}),pt.renderingMode&&pt.renderingMode!=="2d"&&pt.renderingMode!=="3d"&&ct.push({message:`layers.${mt}: property "renderingMode" must be either "2d" or "3d"`}),ct},it.validateFilter=pt=>lu(Jm(pt)),it.validateFog=pt=>lu(Zy(pt)),it.validateLayer=pt=>lu(Yy(pt)),it.validateLight=pt=>lu(_g(pt)),it.validateSource=pt=>lu(qy(pt)),it.validateStyle=Qy,it.validateTerrain=pt=>lu(ey(pt)),it.values=Gt,it.vectorTile=zv,it.version=Sn,it.warnOnce=wr,it.window=st,it.wrap=Ft}),at(["./shared"],function(it){function st(ur){if(typeof ur=="number"||typeof ur=="boolean"||typeof ur=="string"||ur==null)return JSON.stringify(ur);if(Array.isArray(ur)){let or="[";for(const gr of ur)or+=`${st(gr)},`;return`${or}]`}let tr="{";for(const or of Object.keys(ur).sort())tr+=`${or}:${st(ur[or])},`;return`${tr}}`}function ut(ur){let tr="";for(const or of it.refProperties)tr+=`/${st(ur[or])}`;return tr}class ft{constructor(tr){this.keyCache={},tr&&this.replace(tr)}replace(tr){this._layerConfigs={},this._layers={},this.update(tr,[])}update(tr,or){for(const Er of tr)this._layerConfigs[Er.id]=Er,(this._layers[Er.id]=it.createStyleLayer(Er)).compileFilter(),this.keyCache[Er.id]&&delete this.keyCache[Er.id];for(const Er of or)delete this.keyCache[Er],delete this._layerConfigs[Er],delete this._layers[Er];this.familiesBySource={};const gr=function(Er,zr){const Kr={};for(let Or=0;Or<Er.length;Or++){const Zr=zr&&zr[Er[Or].id]||ut(Er[Or]);zr&&(zr[Er[Or].id]=Zr);let En=Kr[Zr];En||(En=Kr[Zr]=[]),En.push(Er[Or])}const Hr=[];for(const Or in Kr)Hr.push(Kr[Or]);return Hr}(it.values(this._layerConfigs),this.keyCache);for(const Er of gr){const zr=Er.map(Gn=>this._layers[Gn.id]),Kr=zr[0];if(Kr.visibility==="none")continue;const Hr=Kr.source||"";let Or=this.familiesBySource[Hr];Or||(Or=this.familiesBySource[Hr]={});const Zr=Kr.sourceLayer||"_geojsonTileLayer";let En=Or[Zr];En||(En=Or[Zr]=[]),En.push(zr)}}}class dt{loadTile(tr,or){const{uid:gr,encoding:Er,rawImageData:zr,padding:Kr,buildQuadTree:Hr}=tr,Or=it.window.ImageBitmap&&zr instanceof it.window.ImageBitmap?this.getImageData(zr,Kr):zr;or(null,new it.DEMData(gr,Or,Er,Kr<1,Hr))}getImageData(tr,or){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(tr.width,tr.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=tr.width,this.offscreenCanvas.height=tr.height,this.offscreenCanvasContext.drawImage(tr,0,0,tr.width,tr.height);const gr=this.offscreenCanvasContext.getImageData(-or,-or,tr.width+2*or,tr.height+2*or);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),gr}}var vt=function ur(tr,or){var gr,Er=tr&&tr.type;if(Er==="FeatureCollection")for(gr=0;gr<tr.features.length;gr++)ur(tr.features[gr],or);else if(Er==="GeometryCollection")for(gr=0;gr<tr.geometries.length;gr++)ur(tr.geometries[gr],or);else if(Er==="Feature")ur(tr.geometry,or);else if(Er==="Polygon")gt(tr.coordinates,or);else if(Er==="MultiPolygon")for(gr=0;gr<tr.coordinates.length;gr++)gt(tr.coordinates[gr],or);return tr};function gt(ur,tr){if(ur.length!==0){yt(ur[0],tr);for(var or=1;or<ur.length;or++)yt(ur[or],!tr)}}function yt(ur,tr){for(var or=0,gr=0,Er=0,zr=ur.length,Kr=zr-1;Er<zr;Kr=Er++){var Hr=(ur[Er][0]-ur[Kr][0])*(ur[Kr][1]+ur[Er][1]),Or=or+Hr;gr+=Math.abs(or)>=Math.abs(Hr)?or-Or+Hr:Hr-Or+or,or=Or}or+gr>=0!=!!tr&&ur.reverse()}const xt=it.vectorTile.VectorTileFeature.prototype.toGeoJSON;class Ct{constructor(tr){this._feature=tr,this.extent=it.EXTENT,this.type=tr.type,this.properties=tr.tags,"id"in tr&&!isNaN(tr.id)&&(this.id=parseInt(tr.id,10))}loadGeometry(){if(this._feature.type===1){const tr=[];for(const or of this._feature.geometry)tr.push([new it.pointGeometry(or[0],or[1])]);return tr}{const tr=[];for(const or of this._feature.geometry){const gr=[];for(const Er of or)gr.push(new it.pointGeometry(Er[0],Er[1]));tr.push(gr)}return tr}}toGeoJSON(tr,or,gr){return xt.call(this,tr,or,gr)}}class wt{constructor(tr){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=it.EXTENT,this.length=tr.length,this._features=tr}feature(tr){return new Ct(this._features[tr])}}var Et=it.vectorTile.VectorTileFeature,$t=It;function It(ur,tr){this.options=tr||{},this.features=ur,this.length=ur.length}function Ot(ur,tr){this.id=typeof ur.id=="number"?ur.id:void 0,this.type=ur.type,this.rawGeometry=ur.type===1?[ur.geometry]:ur.geometry,this.properties=ur.tags,this.extent=tr||4096}It.prototype.feature=function(ur){return new Ot(this.features[ur],this.options.extent)},Ot.prototype.loadGeometry=function(){var ur=this.rawGeometry;this.geometry=[];for(var tr=0;tr<ur.length;tr++){for(var or=ur[tr],gr=[],Er=0;Er<or.length;Er++)gr.push(new it.pointGeometry(or[Er][0],or[Er][1]));this.geometry.push(gr)}return this.geometry},Ot.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ur=this.geometry,tr=1/0,or=-1/0,gr=1/0,Er=-1/0,zr=0;zr<ur.length;zr++)for(var Kr=ur[zr],Hr=0;Hr<Kr.length;Hr++){var Or=Kr[Hr];tr=Math.min(tr,Or.x),or=Math.max(or,Or.x),gr=Math.min(gr,Or.y),Er=Math.max(Er,Or.y)}return[tr,gr,or,Er]},Ot.prototype.toGeoJSON=Et.prototype.toGeoJSON;var Lt=zt,Ft=$t;function zt(ur){var tr=new it.pbf;return function(or,gr){for(var Er in or.layers)gr.writeMessage(3,Gt,or.layers[Er])}(ur,tr),tr.finish()}function Gt(ur,tr){var or;tr.writeVarintField(15,ur.version||1),tr.writeStringField(1,ur.name||""),tr.writeVarintField(5,ur.extent||4096);var gr={keys:[],values:[],keycache:{},valuecache:{}};for(or=0;or<ur.length;or++)gr.feature=ur.feature(or),tr.writeMessage(2,jt,gr);var Er=gr.keys;for(or=0;or<Er.length;or++)tr.writeStringField(3,Er[or]);var zr=gr.values;for(or=0;or<zr.length;or++)tr.writeMessage(4,rr,zr[or])}function jt(ur,tr){var or=ur.feature;or.id!==void 0&&tr.writeVarintField(1,or.id),tr.writeMessage(2,Ut,ur),tr.writeVarintField(3,or.type),tr.writeMessage(4,Qt,or)}function Ut(ur,tr){var or=ur.feature,gr=ur.keys,Er=ur.values,zr=ur.keycache,Kr=ur.valuecache;for(var Hr in or.properties){var Or=or.properties[Hr],Zr=zr[Hr];if(Or!==null){Zr===void 0&&(gr.push(Hr),zr[Hr]=Zr=gr.length-1),tr.writeVarint(Zr);var En=typeof Or;En!=="string"&&En!=="boolean"&&En!=="number"&&(Or=JSON.stringify(Or));var Gn=En+":"+Or,Cn=Kr[Gn];Cn===void 0&&(Er.push(Or),Kr[Gn]=Cn=Er.length-1),tr.writeVarint(Cn)}}}function Kt(ur,tr){return(tr<<3)+(7&ur)}function Zt(ur){return ur<<1^ur>>31}function Qt(ur,tr){for(var or=ur.loadGeometry(),gr=ur.type,Er=0,zr=0,Kr=or.length,Hr=0;Hr<Kr;Hr++){var Or=or[Hr],Zr=1;gr===1&&(Zr=Or.length),tr.writeVarint(Kt(1,Zr));for(var En=gr===3?Or.length-1:Or.length,Gn=0;Gn<En;Gn++){Gn===1&&gr!==1&&tr.writeVarint(Kt(2,En-1));var Cn=Or[Gn].x-Er,ga=Or[Gn].y-zr;tr.writeVarint(Zt(Cn)),tr.writeVarint(Zt(ga)),Er+=Cn,zr+=ga}gr===3&&tr.writeVarint(Kt(7,1))}}function rr(ur,tr){var or=typeof ur;or==="string"?tr.writeStringField(1,ur):or==="boolean"?tr.writeBooleanField(7,ur):or==="number"&&(ur%1!=0?tr.writeDoubleField(3,ur):ur<0?tr.writeSVarintField(6,ur):tr.writeVarintField(5,ur))}function nr(ur,tr,or,gr,Er,zr){if(Er-gr<=or)return;const Kr=gr+Er>>1;dr(ur,tr,Kr,gr,Er,zr%2),nr(ur,tr,or,gr,Kr-1,zr+1),nr(ur,tr,or,Kr+1,Er,zr+1)}function dr(ur,tr,or,gr,Er,zr){for(;Er>gr;){if(Er-gr>600){const Zr=Er-gr+1,En=or-gr+1,Gn=Math.log(Zr),Cn=.5*Math.exp(2*Gn/3),ga=.5*Math.sqrt(Gn*Cn*(Zr-Cn)/Zr)*(En-Zr/2<0?-1:1);dr(ur,tr,or,Math.max(gr,Math.floor(or-En*Cn/Zr+ga)),Math.min(Er,Math.floor(or+(Zr-En)*Cn/Zr+ga)),zr)}const Kr=tr[2*or+zr];let Hr=gr,Or=Er;for(sr(ur,tr,gr,or),tr[2*Er+zr]>Kr&&sr(ur,tr,gr,Er);Hr<Or;){for(sr(ur,tr,Hr,Or),Hr++,Or--;tr[2*Hr+zr]<Kr;)Hr++;for(;tr[2*Or+zr]>Kr;)Or--}tr[2*gr+zr]===Kr?sr(ur,tr,gr,Or):(Or++,sr(ur,tr,Or,Er)),Or<=or&&(gr=Or+1),or<=Or&&(Er=Or-1)}}function sr(ur,tr,or,gr){fr(ur,or,gr),fr(tr,2*or,2*gr),fr(tr,2*or+1,2*gr+1)}function fr(ur,tr,or){const gr=ur[tr];ur[tr]=ur[or],ur[or]=gr}function yr(ur,tr,or,gr){const Er=ur-or,zr=tr-gr;return Er*Er+zr*zr}Lt.fromVectorTileJs=zt,Lt.fromGeojsonVt=function(ur,tr){tr=tr||{};var or={};for(var gr in ur)or[gr]=new $t(ur[gr].features,tr),or[gr].name=gr,or[gr].version=tr.version,or[gr].extent=tr.extent;return zt({layers:or})},Lt.GeoJSONWrapper=Ft;const Pr=ur=>ur[0],wr=ur=>ur[1];class Mr{constructor(tr,or=Pr,gr=wr,Er=64,zr=Float64Array){this.nodeSize=Er,this.points=tr;const Kr=tr.length<65536?Uint16Array:Uint32Array,Hr=this.ids=new Kr(tr.length),Or=this.coords=new zr(2*tr.length);for(let Zr=0;Zr<tr.length;Zr++)Hr[Zr]=Zr,Or[2*Zr]=or(tr[Zr]),Or[2*Zr+1]=gr(tr[Zr]);nr(Hr,Or,Er,0,Hr.length-1,0)}range(tr,or,gr,Er){return function(zr,Kr,Hr,Or,Zr,En,Gn){const Cn=[0,zr.length-1,0],ga=[];let uo,_i;for(;Cn.length;){const co=Cn.pop(),Vn=Cn.pop(),qn=Cn.pop();if(Vn-qn<=Gn){for(let Ur=qn;Ur<=Vn;Ur++)uo=Kr[2*Ur],_i=Kr[2*Ur+1],uo>=Hr&&uo<=Zr&&_i>=Or&&_i<=En&&ga.push(zr[Ur]);continue}const oo=Math.floor((qn+Vn)/2);uo=Kr[2*oo],_i=Kr[2*oo+1],uo>=Hr&&uo<=Zr&&_i>=Or&&_i<=En&&ga.push(zr[oo]);const bo=(co+1)%2;(co===0?Hr<=uo:Or<=_i)&&(Cn.push(qn),Cn.push(oo-1),Cn.push(bo)),(co===0?Zr>=uo:En>=_i)&&(Cn.push(oo+1),Cn.push(Vn),Cn.push(bo))}return ga}(this.ids,this.coords,tr,or,gr,Er,this.nodeSize)}within(tr,or,gr){return function(Er,zr,Kr,Hr,Or,Zr){const En=[0,Er.length-1,0],Gn=[],Cn=Or*Or;for(;En.length;){const ga=En.pop(),uo=En.pop(),_i=En.pop();if(uo-_i<=Zr){for(let bo=_i;bo<=uo;bo++)yr(zr[2*bo],zr[2*bo+1],Kr,Hr)<=Cn&&Gn.push(Er[bo]);continue}const co=Math.floor((_i+uo)/2),Vn=zr[2*co],qn=zr[2*co+1];yr(Vn,qn,Kr,Hr)<=Cn&&Gn.push(Er[co]);const oo=(ga+1)%2;(ga===0?Kr-Or<=Vn:Hr-Or<=qn)&&(En.push(_i),En.push(co-1),En.push(oo)),(ga===0?Kr+Or>=Vn:Hr+Or>=qn)&&(En.push(co+1),En.push(uo),En.push(oo))}return Gn}(this.ids,this.coords,tr,or,gr,this.nodeSize)}}const Lr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ur=>ur},Br=Math.fround||(qr=new Float32Array(1),ur=>(qr[0]=+ur,qr[0]));var qr;class Qr{constructor(tr){this.options=Pn(Object.create(Lr),tr),this.trees=new Array(this.options.maxZoom+1)}load(tr){const{log:or,minZoom:gr,maxZoom:Er,nodeSize:zr}=this.options;or&&console.time("total time");const Kr=`prepare ${tr.length} points`;or&&console.time(Kr),this.points=tr;let Hr=[];for(let Or=0;Or<tr.length;Or++)tr[Or].geometry&&Hr.push(sn(tr[Or],Or));this.trees[Er+1]=new Mr(Hr,In,Rn,zr,Float32Array),or&&console.timeEnd(Kr);for(let Or=Er;Or>=gr;Or--){const Zr=+Date.now();Hr=this._cluster(Hr,Or),this.trees[Or]=new Mr(Hr,In,Rn,zr,Float32Array),or&&console.log("z%d: %d clusters in %dms",Or,Hr.length,+Date.now()-Zr)}return or&&console.timeEnd("total time"),this}getClusters(tr,or){let gr=((tr[0]+180)%360+360)%360-180;const Er=Math.max(-90,Math.min(90,tr[1]));let zr=tr[2]===180?180:((tr[2]+180)%360+360)%360-180;const Kr=Math.max(-90,Math.min(90,tr[3]));if(tr[2]-tr[0]>=360)gr=-180,zr=180;else if(gr>zr){const En=this.getClusters([gr,Er,180,Kr],or),Gn=this.getClusters([-180,Er,zr,Kr],or);return En.concat(Gn)}const Hr=this.trees[this._limitZoom(or)],Or=Hr.range(ln(gr),Sn(Kr),ln(zr),Sn(Er)),Zr=[];for(const En of Or){const Gn=Hr.points[En];Zr.push(Gn.numPoints?yn(Gn):this.points[Gn.index])}return Zr}getChildren(tr){const or=this._getOriginId(tr),gr=this._getOriginZoom(tr),Er="No cluster with the specified id.",zr=this.trees[gr];if(!zr)throw new Error(Er);const Kr=zr.points[or];if(!Kr)throw new Error(Er);const Hr=this.options.radius/(this.options.extent*Math.pow(2,gr-1)),Or=zr.within(Kr.x,Kr.y,Hr),Zr=[];for(const En of Or){const Gn=zr.points[En];Gn.parentId===tr&&Zr.push(Gn.numPoints?yn(Gn):this.points[Gn.index])}if(Zr.length===0)throw new Error(Er);return Zr}getLeaves(tr,or,gr){const Er=[];return this._appendLeaves(Er,tr,or=or||10,gr=gr||0,0),Er}getTile(tr,or,gr){const Er=this.trees[this._limitZoom(tr)],zr=Math.pow(2,tr),{extent:Kr,radius:Hr}=this.options,Or=Hr/Kr,Zr=(gr-Or)/zr,En=(gr+1+Or)/zr,Gn={features:[]};return this._addTileFeatures(Er.range((or-Or)/zr,Zr,(or+1+Or)/zr,En),Er.points,or,gr,zr,Gn),or===0&&this._addTileFeatures(Er.range(1-Or/zr,Zr,1,En),Er.points,zr,gr,zr,Gn),or===zr-1&&this._addTileFeatures(Er.range(0,Zr,Or/zr,En),Er.points,-1,gr,zr,Gn),Gn.features.length?Gn:null}getClusterExpansionZoom(tr){let or=this._getOriginZoom(tr)-1;for(;or<=this.options.maxZoom;){const gr=this.getChildren(tr);if(or++,gr.length!==1)break;tr=gr[0].properties.cluster_id}return or}_appendLeaves(tr,or,gr,Er,zr){const Kr=this.getChildren(or);for(const Hr of Kr){const Or=Hr.properties;if(Or&&Or.cluster?zr+Or.point_count<=Er?zr+=Or.point_count:zr=this._appendLeaves(tr,Or.cluster_id,gr,Er,zr):zr<Er?zr++:tr.push(Hr),tr.length===gr)break}return zr}_addTileFeatures(tr,or,gr,Er,zr,Kr){for(const Hr of tr){const Or=or[Hr],Zr=Or.numPoints;let En,Gn,Cn;if(Zr)En=pn(Or),Gn=Or.x,Cn=Or.y;else{const _i=this.points[Or.index];En=_i.properties,Gn=ln(_i.geometry.coordinates[0]),Cn=Sn(_i.geometry.coordinates[1])}const ga={type:1,geometry:[[Math.round(this.options.extent*(Gn*zr-gr)),Math.round(this.options.extent*(Cn*zr-Er))]],tags:En};let uo;Zr?uo=Or.id:this.options.generateId?uo=Or.index:this.points[Or.index].id&&(uo=this.points[Or.index].id),uo!==void 0&&(ga.id=uo),Kr.features.push(ga)}}_limitZoom(tr){return Math.max(this.options.minZoom,Math.min(+tr,this.options.maxZoom+1))}_cluster(tr,or){const gr=[],{radius:Er,extent:zr,reduce:Kr,minPoints:Hr}=this.options,Or=Er/(zr*Math.pow(2,or));for(let Zr=0;Zr<tr.length;Zr++){const En=tr[Zr];if(En.zoom<=or)continue;En.zoom=or;const Gn=this.trees[or+1],Cn=Gn.within(En.x,En.y,Or),ga=En.numPoints||1;let uo=ga;for(const _i of Cn){const co=Gn.points[_i];co.zoom>or&&(uo+=co.numPoints||1)}if(uo>ga&&uo>=Hr){let _i=En.x*ga,co=En.y*ga,Vn=Kr&&ga>1?this._map(En,!0):null;const qn=(Zr<<5)+(or+1)+this.points.length;for(const oo of Cn){const bo=Gn.points[oo];if(bo.zoom<=or)continue;bo.zoom=or;const Ur=bo.numPoints||1;_i+=bo.x*Ur,co+=bo.y*Ur,bo.parentId=qn,Kr&&(Vn||(Vn=this._map(En,!0)),Kr(Vn,this._map(bo)))}En.parentId=qn,gr.push(Jr(_i/uo,co/uo,qn,uo,Vn))}else if(gr.push(En),uo>1)for(const _i of Cn){const co=Gn.points[_i];co.zoom<=or||(co.zoom=or,gr.push(co))}}return gr}_getOriginId(tr){return tr-this.points.length>>5}_getOriginZoom(tr){return(tr-this.points.length)%32}_map(tr,or){if(tr.numPoints)return or?Pn({},tr.properties):tr.properties;const gr=this.points[tr.index].properties,Er=this.options.map(gr);return or&&Er===gr?Pn({},Er):Er}}function Jr(ur,tr,or,gr,Er){return{x:Br(ur),y:Br(tr),zoom:1/0,id:or,parentId:-1,numPoints:gr,properties:Er}}function sn(ur,tr){const[or,gr]=ur.geometry.coordinates;return{x:Br(ln(or)),y:Br(Sn(gr)),zoom:1/0,index:tr,parentId:-1}}function yn(ur){return{type:"Feature",id:ur.id,properties:pn(ur),geometry:{type:"Point",coordinates:[(tr=ur.x,360*(tr-.5)),cn(ur.y)]}};var tr}function pn(ur){const tr=ur.numPoints,or=tr>=1e4?`${Math.round(tr/1e3)}k`:tr>=1e3?Math.round(tr/100)/10+"k":tr;return Pn(Pn({},ur.properties),{cluster:!0,cluster_id:ur.id,point_count:tr,point_count_abbreviated:or})}function ln(ur){return ur/360+.5}function Sn(ur){const tr=Math.sin(ur*Math.PI/180),or=.5-.25*Math.log((1+tr)/(1-tr))/Math.PI;return or<0?0:or>1?1:or}function cn(ur){const tr=(180-360*ur)*Math.PI/180;return 360*Math.atan(Math.exp(tr))/Math.PI-90}function Pn(ur,tr){for(const or in tr)ur[or]=tr[or];return ur}function In(ur){return ur.x}function Rn(ur){return ur.y}function Mn(ur,tr,or,gr){for(var Er,zr=gr,Kr=or-tr>>1,Hr=or-tr,Or=ur[tr],Zr=ur[tr+1],En=ur[or],Gn=ur[or+1],Cn=tr+3;Cn<or;Cn+=3){var ga=Fn(ur[Cn],ur[Cn+1],Or,Zr,En,Gn);if(ga>zr)Er=Cn,zr=ga;else if(ga===zr){var uo=Math.abs(Cn-Kr);uo<Hr&&(Er=Cn,Hr=uo)}}zr>gr&&(Er-tr>3&&Mn(ur,tr,Er,gr),ur[Er+2]=zr,or-Er>3&&Mn(ur,Er,or,gr))}function Fn(ur,tr,or,gr,Er,zr){var Kr=Er-or,Hr=zr-gr;if(Kr!==0||Hr!==0){var Or=((ur-or)*Kr+(tr-gr)*Hr)/(Kr*Kr+Hr*Hr);Or>1?(or=Er,gr=zr):Or>0&&(or+=Kr*Or,gr+=Hr*Or)}return(Kr=ur-or)*Kr+(Hr=tr-gr)*Hr}function Xr(ur,tr,or,gr){var Er={id:ur===void 0?null:ur,type:tr,geometry:or,tags:gr,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(zr){var Kr=zr.geometry,Hr=zr.type;if(Hr==="Point"||Hr==="MultiPoint"||Hr==="LineString")wn(zr,Kr);else if(Hr==="Polygon"||Hr==="MultiLineString")for(var Or=0;Or<Kr.length;Or++)wn(zr,Kr[Or]);else if(Hr==="MultiPolygon")for(Or=0;Or<Kr.length;Or++)for(var Zr=0;Zr<Kr[Or].length;Zr++)wn(zr,Kr[Or][Zr])}(Er),Er}function wn(ur,tr){for(var or=0;or<tr.length;or+=3)ur.minX=Math.min(ur.minX,tr[or]),ur.minY=Math.min(ur.minY,tr[or+1]),ur.maxX=Math.max(ur.maxX,tr[or]),ur.maxY=Math.max(ur.maxY,tr[or+1])}function vn(ur,tr,or,gr){if(tr.geometry){var Er=tr.geometry.coordinates,zr=tr.geometry.type,Kr=Math.pow(or.tolerance/((1<<or.maxZoom)*or.extent),2),Hr=[],Or=tr.id;if(or.promoteId?Or=tr.properties[or.promoteId]:or.generateId&&(Or=gr||0),zr==="Point")$n(Er,Hr);else if(zr==="MultiPoint")for(var Zr=0;Zr<Er.length;Zr++)$n(Er[Zr],Hr);else if(zr==="LineString")Xn(Er,Hr,Kr,!1);else if(zr==="MultiLineString"){if(or.lineMetrics){for(Zr=0;Zr<Er.length;Zr++)Xn(Er[Zr],Hr=[],Kr,!1),ur.push(Xr(Or,"LineString",Hr,tr.properties));return}no(Er,Hr,Kr,!1)}else if(zr==="Polygon")no(Er,Hr,Kr,!0);else{if(zr!=="MultiPolygon"){if(zr==="GeometryCollection"){for(Zr=0;Zr<tr.geometry.geometries.length;Zr++)vn(ur,{id:Or,geometry:tr.geometry.geometries[Zr],properties:tr.properties},or,gr);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Zr=0;Zr<Er.length;Zr++){var En=[];no(Er[Zr],En,Kr,!0),Hr.push(En)}}ur.push(Xr(Or,zr,Hr,tr.properties))}}function $n(ur,tr){tr.push(zn(ur[0])),tr.push(so(ur[1])),tr.push(0)}function Xn(ur,tr,or,gr){for(var Er,zr,Kr=0,Hr=0;Hr<ur.length;Hr++){var Or=zn(ur[Hr][0]),Zr=so(ur[Hr][1]);tr.push(Or),tr.push(Zr),tr.push(0),Hr>0&&(Kr+=gr?(Er*Zr-Or*zr)/2:Math.sqrt(Math.pow(Or-Er,2)+Math.pow(Zr-zr,2))),Er=Or,zr=Zr}var En=tr.length-3;tr[2]=1,Mn(tr,0,En,or),tr[En+2]=1,tr.size=Math.abs(Kr),tr.start=0,tr.end=tr.size}function no(ur,tr,or,gr){for(var Er=0;Er<ur.length;Er++){var zr=[];Xn(ur[Er],zr,or,gr),tr.push(zr)}}function zn(ur){return ur/360+.5}function so(ur){var tr=Math.sin(ur*Math.PI/180),or=.5-.25*Math.log((1+tr)/(1-tr))/Math.PI;return or<0?0:or>1?1:or}function vo(ur,tr,or,gr,Er,zr,Kr,Hr){if(gr/=tr,zr>=(or/=tr)&&Kr<gr)return ur;if(Kr<or||zr>=gr)return null;for(var Or=[],Zr=0;Zr<ur.length;Zr++){var En=ur[Zr],Gn=En.geometry,Cn=En.type,ga=Er===0?En.minX:En.minY,uo=Er===0?En.maxX:En.maxY;if(ga>=or&&uo<gr)Or.push(En);else if(!(uo<or||ga>=gr)){var _i=[];if(Cn==="Point"||Cn==="MultiPoint")Eo(Gn,_i,or,gr,Er);else if(Cn==="LineString")To(Gn,_i,or,gr,Er,!1,Hr.lineMetrics);else if(Cn==="MultiLineString")$a(Gn,_i,or,gr,Er,!1);else if(Cn==="Polygon")$a(Gn,_i,or,gr,Er,!0);else if(Cn==="MultiPolygon")for(var co=0;co<Gn.length;co++){var Vn=[];$a(Gn[co],Vn,or,gr,Er,!0),Vn.length&&_i.push(Vn)}if(_i.length){if(Hr.lineMetrics&&Cn==="LineString"){for(co=0;co<_i.length;co++)Or.push(Xr(En.id,Cn,_i[co],En.tags));continue}Cn!=="LineString"&&Cn!=="MultiLineString"||(_i.length===1?(Cn="LineString",_i=_i[0]):Cn="MultiLineString"),Cn!=="Point"&&Cn!=="MultiPoint"||(Cn=_i.length===3?"Point":"MultiPoint"),Or.push(Xr(En.id,Cn,_i,En.tags))}}}return Or.length?Or:null}function Eo(ur,tr,or,gr,Er){for(var zr=0;zr<ur.length;zr+=3){var Kr=ur[zr+Er];Kr>=or&&Kr<=gr&&(tr.push(ur[zr]),tr.push(ur[zr+1]),tr.push(ur[zr+2]))}}function To(ur,tr,or,gr,Er,zr,Kr){for(var Hr,Or,Zr=Io(ur),En=Er===0?Po:Ro,Gn=ur.start,Cn=0;Cn<ur.length-3;Cn+=3){var ga=ur[Cn],uo=ur[Cn+1],_i=ur[Cn+2],co=ur[Cn+3],Vn=ur[Cn+4],qn=Er===0?ga:uo,oo=Er===0?co:Vn,bo=!1;Kr&&(Hr=Math.sqrt(Math.pow(ga-co,2)+Math.pow(uo-Vn,2))),qn<or?oo>or&&(Or=En(Zr,ga,uo,co,Vn,or),Kr&&(Zr.start=Gn+Hr*Or)):qn>gr?oo<gr&&(Or=En(Zr,ga,uo,co,Vn,gr),Kr&&(Zr.start=Gn+Hr*Or)):mo(Zr,ga,uo,_i),oo<or&&qn>=or&&(Or=En(Zr,ga,uo,co,Vn,or),bo=!0),oo>gr&&qn<=gr&&(Or=En(Zr,ga,uo,co,Vn,gr),bo=!0),!zr&&bo&&(Kr&&(Zr.end=Gn+Hr*Or),tr.push(Zr),Zr=Io(ur)),Kr&&(Gn+=Hr)}var Ur=ur.length-3;ga=ur[Ur],uo=ur[Ur+1],_i=ur[Ur+2],(qn=Er===0?ga:uo)>=or&&qn<=gr&&mo(Zr,ga,uo,_i),Ur=Zr.length-3,zr&&Ur>=3&&(Zr[Ur]!==Zr[0]||Zr[Ur+1]!==Zr[1])&&mo(Zr,Zr[0],Zr[1],Zr[2]),Zr.length&&tr.push(Zr)}function Io(ur){var tr=[];return tr.size=ur.size,tr.start=ur.start,tr.end=ur.end,tr}function $a(ur,tr,or,gr,Er,zr){for(var Kr=0;Kr<ur.length;Kr++)To(ur[Kr],tr,or,gr,Er,zr,!1)}function mo(ur,tr,or,gr){ur.push(tr),ur.push(or),ur.push(gr)}function Po(ur,tr,or,gr,Er,zr){var Kr=(zr-tr)/(gr-tr);return ur.push(zr),ur.push(or+(Er-or)*Kr),ur.push(1),Kr}function Ro(ur,tr,or,gr,Er,zr){var Kr=(zr-or)/(Er-or);return ur.push(tr+(gr-tr)*Kr),ur.push(zr),ur.push(1),Kr}function Vo(ur,tr){for(var or=[],gr=0;gr<ur.length;gr++){var Er,zr=ur[gr],Kr=zr.type;if(Kr==="Point"||Kr==="MultiPoint"||Kr==="LineString")Er=Oo(zr.geometry,tr);else if(Kr==="MultiLineString"||Kr==="Polygon"){Er=[];for(var Hr=0;Hr<zr.geometry.length;Hr++)Er.push(Oo(zr.geometry[Hr],tr))}else if(Kr==="MultiPolygon")for(Er=[],Hr=0;Hr<zr.geometry.length;Hr++){for(var Or=[],Zr=0;Zr<zr.geometry[Hr].length;Zr++)Or.push(Oo(zr.geometry[Hr][Zr],tr));Er.push(Or)}or.push(Xr(zr.id,Kr,Er,zr.tags))}return or}function Oo(ur,tr){var or=[];or.size=ur.size,ur.start!==void 0&&(or.start=ur.start,or.end=ur.end);for(var gr=0;gr<ur.length;gr+=3)or.push(ur[gr]+tr,ur[gr+1],ur[gr+2]);return or}function Wo(ur,tr){if(ur.transformed)return ur;var or,gr,Er,zr=1<<ur.z,Kr=ur.x,Hr=ur.y;for(or=0;or<ur.features.length;or++){var Or=ur.features[or],Zr=Or.geometry,En=Or.type;if(Or.geometry=[],En===1)for(gr=0;gr<Zr.length;gr+=2)Or.geometry.push(os(Zr[gr],Zr[gr+1],tr,zr,Kr,Hr));else for(gr=0;gr<Zr.length;gr++){var Gn=[];for(Er=0;Er<Zr[gr].length;Er+=2)Gn.push(os(Zr[gr][Er],Zr[gr][Er+1],tr,zr,Kr,Hr));Or.geometry.push(Gn)}}return ur.transformed=!0,ur}function os(ur,tr,or,gr,Er,zr){return[Math.round(or*(ur*gr-Er)),Math.round(or*(tr*gr-zr))]}function hs(ur,tr,or,gr,Er){for(var zr=tr===Er.maxZoom?0:Er.tolerance/((1<<tr)*Er.extent),Kr={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:or,y:gr,z:tr,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Hr=0;Hr<ur.length;Hr++){Kr.numFeatures++,Uo(Kr,ur[Hr],zr,Er);var Or=ur[Hr].minX,Zr=ur[Hr].minY,En=ur[Hr].maxX,Gn=ur[Hr].maxY;Or<Kr.minX&&(Kr.minX=Or),Zr<Kr.minY&&(Kr.minY=Zr),En>Kr.maxX&&(Kr.maxX=En),Gn>Kr.maxY&&(Kr.maxY=Gn)}return Kr}function Uo(ur,tr,or,gr){var Er=tr.geometry,zr=tr.type,Kr=[];if(zr==="Point"||zr==="MultiPoint")for(var Hr=0;Hr<Er.length;Hr+=3)Kr.push(Er[Hr]),Kr.push(Er[Hr+1]),ur.numPoints++,ur.numSimplified++;else if(zr==="LineString")Zo(Kr,Er,ur,or,!1,!1);else if(zr==="MultiLineString"||zr==="Polygon")for(Hr=0;Hr<Er.length;Hr++)Zo(Kr,Er[Hr],ur,or,zr==="Polygon",Hr===0);else if(zr==="MultiPolygon")for(var Or=0;Or<Er.length;Or++){var Zr=Er[Or];for(Hr=0;Hr<Zr.length;Hr++)Zo(Kr,Zr[Hr],ur,or,!0,Hr===0)}if(Kr.length){var En=tr.tags||null;if(zr==="LineString"&&gr.lineMetrics){for(var Gn in En={},tr.tags)En[Gn]=tr.tags[Gn];En.mapbox_clip_start=Er.start/Er.size,En.mapbox_clip_end=Er.end/Er.size}var Cn={geometry:Kr,type:zr==="Polygon"||zr==="MultiPolygon"?3:zr==="LineString"||zr==="MultiLineString"?2:1,tags:En};tr.id!==null&&(Cn.id=tr.id),ur.features.push(Cn)}}function Zo(ur,tr,or,gr,Er,zr){var Kr=gr*gr;if(gr>0&&tr.size<(Er?Kr:gr))or.numPoints+=tr.length/3;else{for(var Hr=[],Or=0;Or<tr.length;Or+=3)(gr===0||tr[Or+2]>Kr)&&(or.numSimplified++,Hr.push(tr[Or]),Hr.push(tr[Or+1])),or.numPoints++;Er&&function(Zr,En){for(var Gn=0,Cn=0,ga=Zr.length,uo=ga-2;Cn<ga;uo=Cn,Cn+=2)Gn+=(Zr[Cn]-Zr[uo])*(Zr[Cn+1]+Zr[uo+1]);if(Gn>0===En)for(Cn=0,ga=Zr.length;Cn<ga/2;Cn+=2){var _i=Zr[Cn],co=Zr[Cn+1];Zr[Cn]=Zr[ga-2-Cn],Zr[Cn+1]=Zr[ga-1-Cn],Zr[ga-2-Cn]=_i,Zr[ga-1-Cn]=co}}(Hr,zr),ur.push(Hr)}}function Lo(ur,tr){var or=(tr=this.options=function(Er,zr){for(var Kr in zr)Er[Kr]=zr[Kr];return Er}(Object.create(this.options),tr)).debug;if(or&&console.time("preprocess data"),tr.maxZoom<0||tr.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(tr.promoteId&&tr.generateId)throw new Error("promoteId and generateId cannot be used together.");var gr=function(Er,zr){var Kr=[];if(Er.type==="FeatureCollection")for(var Hr=0;Hr<Er.features.length;Hr++)vn(Kr,Er.features[Hr],zr,Hr);else vn(Kr,Er.type==="Feature"?Er:{geometry:Er},zr);return Kr}(ur,tr);this.tiles={},this.tileCoords=[],or&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",tr.indexMaxZoom,tr.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(gr=function(Er,zr){var Kr=zr.buffer/zr.extent,Hr=Er,Or=vo(Er,1,-1-Kr,Kr,0,-1,2,zr),Zr=vo(Er,1,1-Kr,2+Kr,0,-1,2,zr);return(Or||Zr)&&(Hr=vo(Er,1,-Kr,1+Kr,0,-1,2,zr)||[],Or&&(Hr=Vo(Or,1).concat(Hr)),Zr&&(Hr=Hr.concat(Vo(Zr,-1)))),Hr}(gr,tr)).length&&this.splitTile(gr,0,0,0),or&&(gr.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function cs(ur,tr,or){return 32*((1<<ur)*or+tr)+ur}function ba(ur,tr){const or=ur.tileID.canonical;if(!this._geoJSONIndex)return tr(null,null);const gr=this._geoJSONIndex.getTile(or.z,or.x,or.y);if(!gr)return tr(null,null);const Er=new wt(gr.features);let zr=Lt(Er);zr.byteOffset===0&&zr.byteLength===zr.buffer.byteLength||(zr=new Uint8Array(zr)),tr(null,{vectorTile:Er,rawData:zr.buffer})}Lo.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Lo.prototype.splitTile=function(ur,tr,or,gr,Er,zr,Kr){for(var Hr=[ur,tr,or,gr],Or=this.options,Zr=Or.debug;Hr.length;){gr=Hr.pop(),or=Hr.pop(),tr=Hr.pop(),ur=Hr.pop();var En=1<<tr,Gn=cs(tr,or,gr),Cn=this.tiles[Gn];if(!Cn&&(Zr>1&&console.time("creation"),Cn=this.tiles[Gn]=hs(ur,tr,or,gr,Or),this.tileCoords.push({z:tr,x:or,y:gr}),Zr)){Zr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",tr,or,gr,Cn.numFeatures,Cn.numPoints,Cn.numSimplified),console.timeEnd("creation"));var ga="z"+tr;this.stats[ga]=(this.stats[ga]||0)+1,this.total++}if(Cn.source=ur,Er){if(tr===Or.maxZoom||tr===Er)continue;var uo=1<<Er-tr;if(or!==Math.floor(zr/uo)||gr!==Math.floor(Kr/uo))continue}else if(tr===Or.indexMaxZoom||Cn.numPoints<=Or.indexMaxPoints)continue;if(Cn.source=null,ur.length!==0){Zr>1&&console.time("clipping");var _i,co,Vn,qn,oo,bo,Ur=.5*Or.buffer/Or.extent,ss=.5-Ur,Ho=.5+Ur,Xo=1+Ur;_i=co=Vn=qn=null,oo=vo(ur,En,or-Ur,or+Ho,0,Cn.minX,Cn.maxX,Or),bo=vo(ur,En,or+ss,or+Xo,0,Cn.minX,Cn.maxX,Or),ur=null,oo&&(_i=vo(oo,En,gr-Ur,gr+Ho,1,Cn.minY,Cn.maxY,Or),co=vo(oo,En,gr+ss,gr+Xo,1,Cn.minY,Cn.maxY,Or),oo=null),bo&&(Vn=vo(bo,En,gr-Ur,gr+Ho,1,Cn.minY,Cn.maxY,Or),qn=vo(bo,En,gr+ss,gr+Xo,1,Cn.minY,Cn.maxY,Or),bo=null),Zr>1&&console.timeEnd("clipping"),Hr.push(_i||[],tr+1,2*or,2*gr),Hr.push(co||[],tr+1,2*or,2*gr+1),Hr.push(Vn||[],tr+1,2*or+1,2*gr),Hr.push(qn||[],tr+1,2*or+1,2*gr+1)}}},Lo.prototype.getTile=function(ur,tr,or){var gr=this.options,Er=gr.extent,zr=gr.debug;if(ur<0||ur>24)return null;var Kr=1<<ur,Hr=cs(ur,tr=(tr%Kr+Kr)%Kr,or);if(this.tiles[Hr])return Wo(this.tiles[Hr],Er);zr>1&&console.log("drilling down to z%d-%d-%d",ur,tr,or);for(var Or,Zr=ur,En=tr,Gn=or;!Or&&Zr>0;)Zr--,En=Math.floor(En/2),Gn=Math.floor(Gn/2),Or=this.tiles[cs(Zr,En,Gn)];return Or&&Or.source?(zr>1&&console.log("found parent tile z%d-%d-%d",Zr,En,Gn),zr>1&&console.time("drilling down"),this.splitTile(Or.source,Zr,En,Gn,ur,tr,or),zr>1&&console.timeEnd("drilling down"),this.tiles[Hr]?Wo(this.tiles[Hr],Er):null):null};class lo extends it.VectorTileWorkerSource{constructor(tr,or,gr,Er,zr){super(tr,or,gr,Er,ba),zr&&(this.loadGeoJSON=zr)}loadData(tr,or){const gr=tr&&tr.request,Er=gr&&gr.collectResourceTiming;this.loadGeoJSON(tr,(zr,Kr)=>{if(zr||!Kr)return or(zr);if(typeof Kr!="object")return or(new Error(`Input data given to '${tr.source}' is not a valid GeoJSON object.`));{vt(Kr,!0);try{if(tr.filter){const Or=it.createExpression(tr.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Or.result==="error")throw new Error(Or.value.map(En=>`${En.key}: ${En.message}`).join(", "));const Zr=Kr.features.filter(En=>Or.value.evaluate({zoom:0},En));Kr={type:"FeatureCollection",features:Zr}}this._geoJSONIndex=tr.cluster?new Qr(function({superclusterOptions:Or,clusterProperties:Zr}){if(!Zr||!Or)return Or;const En={},Gn={},Cn={accumulated:null,zoom:0},ga={properties:null},uo=Object.keys(Zr);for(const _i of uo){const[co,Vn]=Zr[_i],qn=it.createExpression(Vn),oo=it.createExpression(typeof co=="string"?[co,["accumulated"],["get",_i]]:co);En[_i]=qn.value,Gn[_i]=oo.value}return Or.map=_i=>{ga.properties=_i;const co={};for(const Vn of uo)co[Vn]=En[Vn].evaluate(Cn,ga);return co},Or.reduce=(_i,co)=>{ga.properties=co;for(const Vn of uo)Cn.accumulated=_i[Vn],_i[Vn]=Gn[Vn].evaluate(Cn,ga)},Or}(tr)).load(Kr.features):function(Or,Zr){return new Lo(Or,Zr)}(Kr,tr.geojsonVtOptions)}catch(Or){return or(Or)}this.loaded={};const Hr={};if(Er){const Or=it.getPerformanceMeasurement(gr);Or&&(Hr.resourceTiming={},Hr.resourceTiming[tr.source]=JSON.parse(JSON.stringify(Or)))}or(null,Hr)}})}reloadTile(tr,or){const gr=this.loaded;return gr&&gr[tr.uid]?super.reloadTile(tr,or):this.loadTile(tr,or)}loadGeoJSON(tr,or){if(tr.request)it.getJSON(tr.request,or);else{if(typeof tr.data!="string")return or(new Error(`Input data given to '${tr.source}' is not a valid GeoJSON object.`));try{return or(null,JSON.parse(tr.data))}catch{return or(new Error(`Input data given to '${tr.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(tr,or){try{or(null,this._geoJSONIndex.getClusterExpansionZoom(tr.clusterId))}catch(gr){or(gr)}}getClusterChildren(tr,or){try{or(null,this._geoJSONIndex.getChildren(tr.clusterId))}catch(gr){or(gr)}}getClusterLeaves(tr,or){try{or(null,this._geoJSONIndex.getLeaves(tr.clusterId,tr.limit,tr.offset))}catch(gr){or(gr)}}}class Bn{constructor(tr){this.self=tr,this.actor=new it.Actor(tr,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=it.getProjection({name:"mercator"}),this.workerSourceTypes={vector:it.VectorTileWorkerSource,geojson:lo},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(or,gr)=>{if(this.workerSourceTypes[or])throw new Error(`Worker source with name "${or}" already registered.`);this.workerSourceTypes[or]=gr},this.self.registerRTLTextPlugin=or=>{if(it.plugin.isParsed())throw new Error("RTL text plugin already registered.");it.plugin.applyArabicShaping=or.applyArabicShaping,it.plugin.processBidirectionalText=or.processBidirectionalText,it.plugin.processStyledBidirectionalText=or.processStyledBidirectionalText}}clearCaches(tr,or,gr){delete this.layerIndexes[tr],delete this.availableImages[tr],delete this.workerSources[tr],delete this.demWorkerSources[tr],gr()}checkIfReady(tr,or,gr){gr()}setReferrer(tr,or){this.referrer=or}spriteLoaded(tr,or){this.isSpriteLoaded[tr]=or;for(const gr in this.workerSources[tr]){const Er=this.workerSources[tr][gr];for(const zr in Er)Er[zr]instanceof it.VectorTileWorkerSource&&(Er[zr].isSpriteLoaded=or,Er[zr].fire(new it.Event("isSpriteLoaded")))}}setImages(tr,or,gr){this.availableImages[tr]=or;for(const Er in this.workerSources[tr]){const zr=this.workerSources[tr][Er];for(const Kr in zr)zr[Kr].availableImages=or}gr()}enableTerrain(tr,or,gr){this.terrain=or,gr()}setProjection(tr,or){this.projections[tr]=it.getProjection(or)}setLayers(tr,or,gr){this.getLayerIndex(tr).replace(or),gr()}updateLayers(tr,or,gr){this.getLayerIndex(tr).update(or.layers,or.removedIds),gr()}loadTile(tr,or,gr){const Er=this.enableTerrain?it.extend({enableTerrain:this.terrain},or):or;Er.projection=this.projections[tr]||this.defaultProjection,this.getWorkerSource(tr,or.type,or.source).loadTile(Er,gr)}loadDEMTile(tr,or,gr){const Er=this.enableTerrain?it.extend({buildQuadTree:this.terrain},or):or;this.getDEMWorkerSource(tr,or.source).loadTile(Er,gr)}reloadTile(tr,or,gr){const Er=this.enableTerrain?it.extend({enableTerrain:this.terrain},or):or;Er.projection=this.projections[tr]||this.defaultProjection,this.getWorkerSource(tr,or.type,or.source).reloadTile(Er,gr)}abortTile(tr,or,gr){this.getWorkerSource(tr,or.type,or.source).abortTile(or,gr)}removeTile(tr,or,gr){this.getWorkerSource(tr,or.type,or.source).removeTile(or,gr)}removeSource(tr,or,gr){if(!this.workerSources[tr]||!this.workerSources[tr][or.type]||!this.workerSources[tr][or.type][or.source])return;const Er=this.workerSources[tr][or.type][or.source];delete this.workerSources[tr][or.type][or.source],Er.removeSource!==void 0?Er.removeSource(or,gr):gr()}loadWorkerSource(tr,or,gr){try{this.self.importScripts(or.url),gr()}catch(Er){gr(Er.toString())}}syncRTLPluginState(tr,or,gr){try{it.plugin.setState(or);const Er=it.plugin.getPluginURL();if(it.plugin.isLoaded()&&!it.plugin.isParsed()&&Er!=null){this.self.importScripts(Er);const zr=it.plugin.isParsed();gr(zr?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Er}`),zr)}}catch(Er){gr(Er.toString())}}getAvailableImages(tr){let or=this.availableImages[tr];return or||(or=[]),or}getLayerIndex(tr){let or=this.layerIndexes[tr];return or||(or=this.layerIndexes[tr]=new ft),or}getWorkerSource(tr,or,gr){return this.workerSources[tr]||(this.workerSources[tr]={}),this.workerSources[tr][or]||(this.workerSources[tr][or]={}),this.workerSources[tr][or][gr]||(this.workerSources[tr][or][gr]=new this.workerSourceTypes[or]({send:(Er,zr,Kr,Hr,Or,Zr)=>{this.actor.send(Er,zr,Kr,tr,Or,Zr)},scheduler:this.actor.scheduler},this.getLayerIndex(tr),this.getAvailableImages(tr),this.isSpriteLoaded[tr])),this.workerSources[tr][or][gr]}getDEMWorkerSource(tr,or){return this.demWorkerSources[tr]||(this.demWorkerSources[tr]={}),this.demWorkerSources[tr][or]||(this.demWorkerSources[tr][or]=new dt),this.demWorkerSources[tr][or]}enforceCacheSizeLimit(tr,or){it.enforceCacheSizeLimit(or)}getWorkerPerformanceMetrics(tr,or,gr){gr(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new Bn(self)),Bn}),at(["./shared"],function(it){function st(Tt,ht){if(Array.isArray(Tt)){if(!Array.isArray(ht)||Tt.length!==ht.length)return!1;for(let bt=0;bt<Tt.length;bt++)if(!st(Tt[bt],ht[bt]))return!1;return!0}if(typeof Tt=="object"&&Tt!==null&&ht!==null){if(typeof ht!="object"||Object.keys(Tt).length!==Object.keys(ht).length)return!1;for(const bt in Tt)if(!st(Tt[bt],ht[bt]))return!1;return!0}return Tt===ht}var ut=ft;function ft(Tt){return!function(ht){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Pt,Rt,kt=new Blob([""],{type:"text/javascript"}),Vt=URL.createObjectURL(kt);try{Rt=new Worker(Vt),Pt=!0}catch{Pt=!1}return Rt&&Rt.terminate(),URL.revokeObjectURL(Vt),Pt}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var Pt=document.createElement("canvas");Pt.width=Pt.height=1;var Rt=Pt.getContext("2d");if(!Rt)return!1;var kt=Rt.getImageData(0,0,1,1);return kt&&kt.width===Pt.width}()?(dt[bt=ht&&ht.failIfMajorPerformanceCaveat]===void 0&&(dt[bt]=function(Pt){var Rt,kt=function(Vt){var Ht=document.createElement("canvas"),Yt=Object.create(ft.webGLContextAttributes);return Yt.failIfMajorPerformanceCaveat=Vt,Ht.getContext("webgl",Yt)||Ht.getContext("experimental-webgl",Yt)}(Pt);if(!kt)return!1;try{Rt=kt.createShader(kt.VERTEX_SHADER)}catch{return!1}return!(!Rt||kt.isContextLost())&&(kt.shaderSource(Rt,"void main() {}"),kt.compileShader(Rt),kt.getShaderParameter(Rt,kt.COMPILE_STATUS)===!0)}(bt)),dt[bt]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var bt}(Tt)}var dt={};function vt(Tt,ht,bt){const Pt=it.window.document.createElement(Tt);return ht!==void 0&&(Pt.className=ht),bt&&bt.appendChild(Pt),Pt}function gt(Tt,ht,bt){const Pt=it.window.document.createElementNS("http://www.w3.org/2000/svg",Tt);for(const Rt of Object.keys(ht))Pt.setAttributeNS(null,Rt,ht[Rt]);return bt&&bt.appendChild(Pt),Pt}ft.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const yt=it.window.document&&it.window.document.documentElement.style,xt=yt&&yt.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Ct;function wt(){yt&&xt&&(Ct=yt[xt],yt[xt]="none")}function Et(){yt&&xt&&(yt[xt]=Ct)}function $t(Tt){Tt.preventDefault(),Tt.stopPropagation(),it.window.removeEventListener("click",$t,!0)}function It(){it.window.addEventListener("click",$t,!0),it.window.setTimeout(()=>{it.window.removeEventListener("click",$t,!0)},0)}function Ot(Tt,ht){const bt=Tt.getBoundingClientRect();return zt(Tt,bt,ht)}function Lt(Tt,ht){const bt=Tt.getBoundingClientRect(),Pt=[];for(let Rt=0;Rt<ht.length;Rt++)Pt.push(zt(Tt,bt,ht[Rt]));return Pt}function Ft(Tt){return it.window.InstallTrigger!==void 0&&Tt.button===2&&Tt.ctrlKey&&it.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:Tt.button}function zt(Tt,ht,bt){const Pt=Tt.offsetWidth===ht.width?1:Tt.offsetWidth/ht.width;return new it.pointGeometry((bt.clientX-ht.left)*Pt,(bt.clientY-ht.top)*Pt)}function Gt(Tt,ht){var bt=ht[0],Pt=ht[1],Rt=ht[2],kt=ht[3],Vt=bt*kt-Rt*Pt;return Vt?(Tt[0]=kt*(Vt=1/Vt),Tt[1]=-Pt*Vt,Tt[2]=-Rt*Vt,Tt[3]=bt*Vt,Tt):null}function jt(Tt){const{userImage:ht}=Tt;return!!(ht&&ht.render&&ht.render())&&(Tt.data.replace(new Uint8Array(ht.data.buffer)),!0)}class Ut extends it.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new it.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(ht){if(this.loaded!==ht&&(this.loaded=ht,ht)){for(const{ids:bt,callback:Pt}of this.requestors)this._notify(bt,Pt);this.requestors=[]}}hasImage(ht){return!!this.getImage(ht)}getImage(ht){return this.images[ht]}addImage(ht,bt){this._validate(ht,bt)&&(this.images[ht]=bt)}_validate(ht,bt){let Pt=!0;return this._validateStretch(bt.stretchX,bt.data&&bt.data.width)||(this.fire(new it.ErrorEvent(new Error(`Image "${ht}" has invalid "stretchX" value`))),Pt=!1),this._validateStretch(bt.stretchY,bt.data&&bt.data.height)||(this.fire(new it.ErrorEvent(new Error(`Image "${ht}" has invalid "stretchY" value`))),Pt=!1),this._validateContent(bt.content,bt)||(this.fire(new it.ErrorEvent(new Error(`Image "${ht}" has invalid "content" value`))),Pt=!1),Pt}_validateStretch(ht,bt){if(!ht)return!0;let Pt=0;for(const Rt of ht){if(Rt[0]<Pt||Rt[1]<Rt[0]||bt<Rt[1])return!1;Pt=Rt[1]}return!0}_validateContent(ht,bt){return!(ht&&(ht.length!==4||ht[0]<0||bt.data.width<ht[0]||ht[1]<0||bt.data.height<ht[1]||ht[2]<0||bt.data.width<ht[2]||ht[3]<0||bt.data.height<ht[3]||ht[2]<ht[0]||ht[3]<ht[1]))}updateImage(ht,bt){bt.version=this.images[ht].version+1,this.images[ht]=bt,this.updatedImages[ht]=!0}removeImage(ht){const bt=this.images[ht];delete this.images[ht],delete this.patterns[ht],bt.userImage&&bt.userImage.onRemove&&bt.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(ht,bt){let Pt=!0;if(!this.isLoaded())for(const Rt of ht)this.images[Rt]||(Pt=!1);this.isLoaded()||Pt?this._notify(ht,bt):this.requestors.push({ids:ht,callback:bt})}_notify(ht,bt){const Pt={};for(const Rt of ht){this.images[Rt]||this.fire(new it.Event("styleimagemissing",{id:Rt}));const kt=this.images[Rt];kt?Pt[Rt]={data:kt.data.clone(),pixelRatio:kt.pixelRatio,sdf:kt.sdf,version:kt.version,stretchX:kt.stretchX,stretchY:kt.stretchY,content:kt.content,hasRenderCallback:Boolean(kt.userImage&&kt.userImage.render)}:it.warnOnce(`Image "${Rt}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}bt(null,Pt)}getPixelSize(){const{width:ht,height:bt}=this.atlasImage;return{width:ht,height:bt}}getPattern(ht){const bt=this.patterns[ht],Pt=this.getImage(ht);if(!Pt)return null;if(bt&&bt.position.version===Pt.version)return bt.position;if(bt)bt.position.version=Pt.version;else{const Rt={w:Pt.data.width+2,h:Pt.data.height+2,x:0,y:0},kt=new it.ImagePosition(Rt,Pt);this.patterns[ht]={bin:Rt,position:kt}}return this._updatePatternAtlas(),this.patterns[ht].position}bind(ht){const bt=ht.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new it.Texture(ht,this.atlasImage,bt.RGBA),this.atlasTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE)}_updatePatternAtlas(){const ht=[];for(const kt in this.patterns)ht.push(this.patterns[kt].bin);const{w:bt,h:Pt}=it.potpack(ht),Rt=this.atlasImage;Rt.resize({width:bt||1,height:Pt||1});for(const kt in this.patterns){const{bin:Vt}=this.patterns[kt],Ht=Vt.x+1,Yt=Vt.y+1,Jt=this.images[kt].data,ir=Jt.width,cr=Jt.height;it.RGBAImage.copy(Jt,Rt,{x:0,y:0},{x:Ht,y:Yt},{width:ir,height:cr}),it.RGBAImage.copy(Jt,Rt,{x:0,y:cr-1},{x:Ht,y:Yt-1},{width:ir,height:1}),it.RGBAImage.copy(Jt,Rt,{x:0,y:0},{x:Ht,y:Yt+cr},{width:ir,height:1}),it.RGBAImage.copy(Jt,Rt,{x:ir-1,y:0},{x:Ht-1,y:Yt},{width:1,height:cr}),it.RGBAImage.copy(Jt,Rt,{x:0,y:0},{x:Ht+ir,y:Yt},{width:1,height:cr})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(ht){for(const bt of ht){if(this.callbackDispatchedThisFrame[bt])continue;this.callbackDispatchedThisFrame[bt]=!0;const Pt=this.images[bt];jt(Pt)&&this.updateImage(bt,Pt)}}}const Kt=new it.Properties({anchor:new it.DataConstantProperty(it.spec.light.anchor),position:new class{constructor(){this.specification=it.spec.light.position}possiblyEvaluate(Tt,ht){return function([bt,Pt,Rt]){const kt=it.degToRad(Pt+90),Vt=it.degToRad(Rt);return{x:bt*Math.cos(kt)*Math.sin(Vt),y:bt*Math.sin(kt)*Math.sin(Vt),z:bt*Math.cos(Vt),azimuthal:Pt,polar:Rt}}(Tt.expression.evaluate(ht))}interpolate(Tt,ht,bt){return{x:it.number(Tt.x,ht.x,bt),y:it.number(Tt.y,ht.y,bt),z:it.number(Tt.z,ht.z,bt),azimuthal:it.number(Tt.azimuthal,ht.azimuthal,bt),polar:it.number(Tt.polar,ht.polar,bt)}}},color:new it.DataConstantProperty(it.spec.light.color),intensity:new it.DataConstantProperty(it.spec.light.intensity)}),Zt="-transition";class Qt extends it.Evented{constructor(ht){super(),this._transitionable=new it.Transitionable(Kt),this.setLight(ht),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(ht,bt={}){if(!this._validate(it.validateLight,ht,bt))for(const Pt in ht){const Rt=ht[Pt];it.endsWith(Pt,Zt)?this._transitionable.setTransition(Pt.slice(0,-Zt.length),Rt):this._transitionable.setValue(Pt,Rt)}}updateTransitions(ht){this._transitioning=this._transitionable.transitioned(ht,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ht){this.properties=this._transitioning.possiblyEvaluate(ht)}_validate(ht,bt,Pt){return(!Pt||Pt.validate!==!1)&&it.emitValidationErrors(this,ht.call(it.validateStyle,it.extend({value:bt,style:{glyphs:!0,sprite:!0},styleSpec:it.spec})))}}const rr=new it.Properties({source:new it.DataConstantProperty(it.spec.terrain.source),exaggeration:new it.DataConstantProperty(it.spec.terrain.exaggeration)}),nr="-transition";class dr extends it.Evented{constructor(ht,bt){super(),this._transitionable=new it.Transitionable(rr),this.set(ht),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=bt}get(){return this._transitionable.serialize()}set(ht){for(const bt in ht){const Pt=ht[bt];it.endsWith(bt,nr)?this._transitionable.setTransition(bt.slice(0,-nr.length),Pt):this._transitionable.setValue(bt,Pt)}}updateTransitions(ht){this._transitioning=this._transitionable.transitioned(ht,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ht){this.properties=this._transitioning.possiblyEvaluate(ht)}}function sr(Tt,ht,bt,Pt){const Rt=it.smoothstep(45,65,bt),[kt,Vt]=fr(Tt,Pt),Ht=it.length(ht);let Yt=1-Math.min(1,Math.exp((Ht-kt)/(Vt-kt)*-6));return Yt*=Yt*Yt,Yt=Math.min(1,1.00747*Yt),Yt*Rt*Tt.alpha}function fr(Tt,ht){const bt=.5/Math.tan(.5*ht);return[Tt.range[0]+bt,Tt.range[1]+bt]}const yr=new it.Properties({range:new it.DataConstantProperty(it.spec.fog.range),color:new it.DataConstantProperty(it.spec.fog.color),"high-color":new it.DataConstantProperty(it.spec.fog["high-color"]),"space-color":new it.DataConstantProperty(it.spec.fog["space-color"]),"horizon-blend":new it.DataConstantProperty(it.spec.fog["horizon-blend"]),"star-intensity":new it.DataConstantProperty(it.spec.fog["star-intensity"])}),Pr="-transition";class wr extends it.Evented{constructor(ht,bt){super(),this._transitionable=new it.Transitionable(yr),this.set(ht),this._transitioning=this._transitionable.untransitioned(),this._transform=bt}get state(){const ht=this._transform,bt=ht.projection.name==="globe",Pt=it.globeToMercatorTransition(ht.zoom),Rt=this.properties.get("range"),kt=[.5,3];return{range:bt?[it.number(kt[0],Rt[0],Pt),it.number(kt[1],Rt[1],Pt)]:Rt,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(ht,bt={}){if(!this._validate(it.validateFog,ht,bt)){for(const Pt of Object.keys(it.spec.fog))ht&&ht[Pt]===void 0&&(ht[Pt]=it.spec.fog[Pt].default);for(const Pt in ht){const Rt=ht[Pt];it.endsWith(Pt,Pr)?this._transitionable.setTransition(Pt.slice(0,-Pr.length),Rt):this._transitionable.setValue(Pt,Rt)}}}getOpacity(ht){if(!this._transform.projection.supportsFog)return 0;const bt=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:it.smoothstep(45,65,ht))*bt.a}getOpacityAtLatLng(ht,bt){return this._transform.projection.supportsFog?function(Pt,Rt,kt){const Vt=it.MercatorCoordinate.fromLngLat(Rt),Ht=kt.elevation?kt.elevation.getAtPointOrZero(Vt):0,Yt=[Vt.x,Vt.y,Ht];return it.transformMat4(Yt,Yt,kt.mercatorFogMatrix),sr(Pt,Yt,kt.pitch,kt._fov)}(this.state,ht,bt):0}getFovAdjustedRange(ht){return this._transform.projection.supportsFog?fr(this.state,ht):[0,1]}updateTransitions(ht){this._transitioning=this._transitionable.transitioned(ht,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ht){this.properties=this._transitioning.possiblyEvaluate(ht)}_validate(ht,bt,Pt){return(!Pt||Pt.validate!==!1)&&it.emitValidationErrors(this,ht.call(it.validateStyle,it.extend({value:bt,style:{glyphs:!0,sprite:!0},styleSpec:it.spec})))}}class Mr{constructor(ht,bt){this.workerPool=ht,this.actors=[],this.currentActor=0,this.id=it.uniqueId();const Pt=this.workerPool.acquire(this.id);for(let Rt=0;Rt<Pt.length;Rt++){const kt=new Mr.Actor(Pt[Rt],bt,this.id);kt.name=`Worker ${Rt}`,this.actors.push(kt)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(ht,bt,Pt){it.asyncAll(this.actors,(Rt,kt)=>{Rt.send(ht,bt,kt)},Pt=Pt||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(ht=>{ht.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Lr(Tt,ht,bt){return ht*(it.EXTENT/(Tt.tileSize*Math.pow(2,bt-Tt.tileID.overscaledZ)))}Mr.Actor=it.Actor;class Br{constructor(ht,bt,Pt,Rt){this.screenBounds=ht,this.cameraPoint=bt,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=Pt,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,Rt)}static createFromScreenPoints(ht,bt){let Pt,Rt;if(ht instanceof it.pointGeometry||typeof ht[0]=="number"){const kt=it.pointGeometry.convert(ht);Pt=[it.pointGeometry.convert(ht)],Rt=bt.isPointAboveHorizon(kt)}else{const kt=it.pointGeometry.convert(ht[0]),Vt=it.pointGeometry.convert(ht[1]);Pt=[kt,Vt],Rt=it.polygonizeBounds(kt,Vt).every(Ht=>bt.isPointAboveHorizon(Ht))}return new Br(Pt,bt.getCameraPoint(),Rt,bt)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(ht){return it.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],ht)}bufferedCameraGeometry(ht){const bt=this.screenBounds[0],Pt=this.screenBounds.length===1?this.screenBounds[0].add(new it.pointGeometry(1,1)):this.screenBounds[1],Rt=it.polygonizeBounds(bt,Pt,0,!1);return this.cameraPoint.y>Pt.y&&(this.cameraPoint.x>bt.x&&this.cameraPoint.x<Pt.x?Rt.splice(3,0,this.cameraPoint):this.cameraPoint.x>=Pt.x?Rt[2]=this.cameraPoint:this.cameraPoint.x<=bt.x&&(Rt[3]=this.cameraPoint)),it.bufferConvexPolygon(Rt,ht)}bufferedCameraGeometryGlobe(ht){const bt=this.screenBounds[0],Pt=this.screenBounds.length===1?this.screenBounds[0].add(new it.pointGeometry(1,1)):this.screenBounds[1],Rt=it.polygonizeBounds(bt,Pt,ht),kt=this.cameraPoint.clone();switch(3*((kt.y>bt.y)+(kt.y>Pt.y))+((kt.x>bt.x)+(kt.x>Pt.x))){case 0:Rt[0]=kt,Rt[4]=kt.clone();break;case 1:Rt.splice(1,0,kt);break;case 2:Rt[1]=kt;break;case 3:Rt.splice(4,0,kt);break;case 5:Rt.splice(2,0,kt);break;case 6:Rt[3]=kt;break;case 7:Rt.splice(3,0,kt);break;case 8:Rt[2]=kt}return Rt}containsTile(ht,bt,Pt,Rt=0){const kt=ht.queryPadding/bt._projectionScaler+1,Vt=Pt?this._bufferedCameraMercator(kt,bt):this._bufferedScreenMercator(kt,bt);let Ht=ht.tileID.wrap+(Vt.unwrapped?Rt:0);const Yt=Vt.polygon.map(Ir=>it.getTilePoint(ht.tileTransform,Ir,Ht));if(!it.polygonIntersectsBox(Yt,0,0,it.EXTENT,it.EXTENT))return;Ht=ht.tileID.wrap+(this.screenGeometryMercator.unwrapped?Rt:0);const Jt=this.screenGeometryMercator.polygon.map(Ir=>it.getTileVec3(ht.tileTransform,Ir,Ht)),ir=Jt.map(Ir=>new it.pointGeometry(Ir[0],Ir[1])),cr=bt.getFreeCameraOptions().position||new it.MercatorCoordinate(0,0,0),pr=it.getTileVec3(ht.tileTransform,cr,Ht),xr=Jt.map(Ir=>{const _r=it.sub(Ir,Ir,pr);return it.normalize(_r,_r),new it.Ray(pr,_r)}),br=Lr(ht,1,bt.zoom)*bt._projectionScaler;return{queryGeometry:this,tilespaceGeometry:ir,tilespaceRays:xr,bufferedTilespaceGeometry:Yt,bufferedTilespaceBounds:(mr=it.getBounds(Yt),mr.min.x=it.clamp(mr.min.x,0,it.EXTENT),mr.min.y=it.clamp(mr.min.y,0,it.EXTENT),mr.max.x=it.clamp(mr.max.x,0,it.EXTENT),mr.max.y=it.clamp(mr.max.y,0,it.EXTENT),mr),tile:ht,tileID:ht.tileID,pixelToTileUnitsFactor:br};var mr}_bufferedScreenMercator(ht,bt){const Pt=Jr(ht);if(this._screenRaycastCache[Pt])return this._screenRaycastCache[Pt];{let Rt;return Rt=bt.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(ht),bt):{polygon:this.bufferedScreenGeometry(ht).map(kt=>bt.pointCoordinate3D(kt)),unwrapped:!0},this._screenRaycastCache[Pt]=Rt,Rt}}_bufferedCameraMercator(ht,bt){const Pt=Jr(ht);if(this._cameraRaycastCache[Pt])return this._cameraRaycastCache[Pt];{let Rt;return Rt=bt.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(ht),bt):{polygon:this.bufferedCameraGeometry(ht).map(kt=>bt.pointCoordinate3D(kt)),unwrapped:!0},this._cameraRaycastCache[Pt]=Rt,Rt}}_projectAndResample(ht,bt){const Pt=function(kt,Vt){const Ht=it.multiply([],Vt.pixelMatrix,Vt.globeMatrix),Yt=[0,-it.GLOBE_RADIUS,0,1],Jt=[0,it.GLOBE_RADIUS,0,1],ir=[0,0,0,1];it.transformMat4$1(Yt,Yt,Ht),it.transformMat4$1(Jt,Jt,Ht),it.transformMat4$1(ir,ir,Ht);const cr=new it.pointGeometry(Yt[0]/Yt[3],Yt[1]/Yt[3]),pr=new it.pointGeometry(Jt[0]/Jt[3],Jt[1]/Jt[3]),xr=it.polygonContainsPoint(kt,cr)&&Yt[3]<ir[3],br=it.polygonContainsPoint(kt,pr)&&Jt[3]<ir[3];if(!xr&&!br)return null;const mr=function(Gr,mn,xn){for(let gn=1;gn<Gr.length;gn++){const hn=Qr(mn.pointCoordinate3D(Gr[gn-1]).x),kr=Qr(mn.pointCoordinate3D(Gr[gn]).x);if(xn<0){if(hn<kr)return{idx:gn,t:-hn/(kr-1-hn)}}else if(kr<hn)return{idx:gn,t:(1-hn)/(kr+1-hn)}}return null}(kt,Vt,xr?-1:1);if(!mr)return null;const{idx:Ir,t:_r}=mr;let Cr=Ir>1?qr(kt.slice(0,Ir),Vt):[],Tr=Ir<kt.length?qr(kt.slice(Ir),Vt):[];Cr=Cr.map(Gr=>new it.pointGeometry(Qr(Gr.x),Gr.y)),Tr=Tr.map(Gr=>new it.pointGeometry(Qr(Gr.x),Gr.y));const Nr=[...Cr];Nr.length===0&&Nr.push(Tr[Tr.length-1]);const $r=it.number(Nr[Nr.length-1].y,(Tr.length===0?Cr[0]:Tr[0]).y,_r);let Dr;return Dr=xr?[new it.pointGeometry(0,$r),new it.pointGeometry(0,0),new it.pointGeometry(1,0),new it.pointGeometry(1,$r)]:[new it.pointGeometry(1,$r),new it.pointGeometry(1,1),new it.pointGeometry(0,1),new it.pointGeometry(0,$r)],Nr.push(...Dr),Tr.length===0?Nr.push(Cr[0]):Nr.push(...Tr),{polygon:Nr.map(Gr=>new it.MercatorCoordinate(Gr.x,Gr.y)),unwrapped:!1}}(ht,bt);if(Pt)return Pt;const Rt=function(kt,Vt){let Ht=!1,Yt=-1/0,Jt=0;for(let cr=0;cr<kt.length-1;cr++)kt[cr].x>Yt&&(Yt=kt[cr].x,Jt=cr);for(let cr=0;cr<kt.length-1;cr++){const pr=(Jt+cr)%(kt.length-1),xr=kt[pr],br=kt[pr+1];Math.abs(xr.x-br.x)>.5&&(xr.x<br.x?(xr.x+=1,pr===0&&(kt[kt.length-1].x+=1)):(br.x+=1,pr+1===kt.length-1&&(kt[0].x+=1)),Ht=!0)}const ir=it.mercatorXfromLng(Vt.center.lng);return Ht&&ir<Math.abs(ir-1)&&kt.forEach(cr=>{cr.x-=1}),{polygon:kt,unwrapped:Ht}}(qr(ht,bt).map(kt=>new it.pointGeometry(Qr(kt.x),kt.y)),bt);return{polygon:Rt.polygon.map(kt=>new it.MercatorCoordinate(kt.x,kt.y)),unwrapped:Rt.unwrapped}}}function qr(Tt,ht){return it.resample(Tt,bt=>{const Pt=ht.pointCoordinate3D(bt);bt.x=Pt.x,bt.y=Pt.y},1/256)}function Qr(Tt){return Tt<0?1+Tt%1:Tt%1}function Jr(Tt){return 100*Tt|0}function sn(Tt,ht,bt,Pt,Rt){const kt=function(Vt,Ht){if(Vt)return Rt(Vt);if(Ht){const Yt=it.pick(it.extend(Ht,Tt),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ht.vector_layers&&(Yt.vectorLayers=Ht.vector_layers,Yt.vectorLayerIds=Yt.vectorLayers.map(Jt=>Jt.id)),Ht.language_options&&(Yt.languageOptions=Ht.language_options),Ht.language&&Ht.language[Ht.id]&&(Yt.language=Ht.language[Ht.id]),Ht.worldview_options&&(Yt.worldviewOptions=Ht.worldview_options),Ht.worldview?Yt.worldview=Ht.worldview[Ht.id]:Ht.worldview_default&&(Yt.worldview=Ht.worldview_default),Yt.tiles=ht.canonicalizeTileset(Yt,Tt.url),Rt(null,Yt)}};return Tt.url?it.getJSON(ht.transformRequest(ht.normalizeSourceURL(Tt.url,null,bt,Pt),it.ResourceType.Source),kt):it.exported.frame(()=>kt(null,Tt))}class yn{constructor(ht,bt,Pt){this.bounds=it.LngLatBounds.convert(this.validateBounds(ht)),this.minzoom=bt||0,this.maxzoom=Pt||24}validateBounds(ht){return Array.isArray(ht)&&ht.length===4?[Math.max(-180,ht[0]),Math.max(-90,ht[1]),Math.min(180,ht[2]),Math.min(90,ht[3])]:[-180,-90,180,90]}contains(ht){const bt=Math.pow(2,ht.z),Pt=Math.floor(it.mercatorXfromLng(this.bounds.getWest())*bt),Rt=Math.floor(it.mercatorYfromLat(this.bounds.getNorth())*bt),kt=Math.ceil(it.mercatorXfromLng(this.bounds.getEast())*bt),Vt=Math.ceil(it.mercatorYfromLat(this.bounds.getSouth())*bt);return ht.x>=Pt&&ht.x<kt&&ht.y>=Rt&&ht.y<Vt}}class pn{constructor(ht,bt,Pt){this.context=ht;const Rt=ht.gl;this.buffer=Rt.createBuffer(),this.dynamicDraw=Boolean(Pt),this.context.unbindVAO(),ht.bindElementBuffer.set(this.buffer),Rt.bufferData(Rt.ELEMENT_ARRAY_BUFFER,bt.arrayBuffer,this.dynamicDraw?Rt.DYNAMIC_DRAW:Rt.STATIC_DRAW),this.dynamicDraw||bt.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(ht){const bt=this.context.gl;this.context.unbindVAO(),this.bind(),bt.bufferSubData(bt.ELEMENT_ARRAY_BUFFER,0,ht.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ln={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Sn{constructor(ht,bt,Pt,Rt){this.length=bt.length,this.attributes=Pt,this.itemSize=bt.bytesPerElement,this.dynamicDraw=Rt,this.context=ht;const kt=ht.gl;this.buffer=kt.createBuffer(),ht.bindVertexBuffer.set(this.buffer),kt.bufferData(kt.ARRAY_BUFFER,bt.arrayBuffer,this.dynamicDraw?kt.DYNAMIC_DRAW:kt.STATIC_DRAW),this.dynamicDraw||bt.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(ht){const bt=this.context.gl;this.bind(),bt.bufferSubData(bt.ARRAY_BUFFER,0,ht.arrayBuffer)}enableAttributes(ht,bt){for(let Pt=0;Pt<this.attributes.length;Pt++){const Rt=bt.attributes[this.attributes[Pt].name];Rt!==void 0&&ht.enableVertexAttribArray(Rt)}}setVertexAttribPointers(ht,bt,Pt){for(let Rt=0;Rt<this.attributes.length;Rt++){const kt=this.attributes[Rt],Vt=bt.attributes[kt.name];Vt!==void 0&&ht.vertexAttribPointer(Vt,kt.components,ht[ln[kt.type]],!1,this.itemSize,kt.offset+this.itemSize*(Pt||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class cn{constructor(ht){this.gl=ht.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(ht){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Pn extends cn{getDefault(){return it.Color.transparent}set(ht){const bt=this.current;(ht.r!==bt.r||ht.g!==bt.g||ht.b!==bt.b||ht.a!==bt.a||this.dirty)&&(this.gl.clearColor(ht.r,ht.g,ht.b,ht.a),this.current=ht,this.dirty=!1)}}class In extends cn{getDefault(){return 1}set(ht){(ht!==this.current||this.dirty)&&(this.gl.clearDepth(ht),this.current=ht,this.dirty=!1)}}class Rn extends cn{getDefault(){return 0}set(ht){(ht!==this.current||this.dirty)&&(this.gl.clearStencil(ht),this.current=ht,this.dirty=!1)}}class Mn extends cn{getDefault(){return[!0,!0,!0,!0]}set(ht){const bt=this.current;(ht[0]!==bt[0]||ht[1]!==bt[1]||ht[2]!==bt[2]||ht[3]!==bt[3]||this.dirty)&&(this.gl.colorMask(ht[0],ht[1],ht[2],ht[3]),this.current=ht,this.dirty=!1)}}class Fn extends cn{getDefault(){return!0}set(ht){(ht!==this.current||this.dirty)&&(this.gl.depthMask(ht),this.current=ht,this.dirty=!1)}}class Xr extends cn{getDefault(){return 255}set(ht){(ht!==this.current||this.dirty)&&(this.gl.stencilMask(ht),this.current=ht,this.dirty=!1)}}class wn extends cn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(ht){const bt=this.current;(ht.func!==bt.func||ht.ref!==bt.ref||ht.mask!==bt.mask||this.dirty)&&(this.gl.stencilFunc(ht.func,ht.ref,ht.mask),this.current=ht,this.dirty=!1)}}class vn extends cn{getDefault(){const ht=this.gl;return[ht.KEEP,ht.KEEP,ht.KEEP]}set(ht){const bt=this.current;(ht[0]!==bt[0]||ht[1]!==bt[1]||ht[2]!==bt[2]||this.dirty)&&(this.gl.stencilOp(ht[0],ht[1],ht[2]),this.current=ht,this.dirty=!1)}}class $n extends cn{getDefault(){return!1}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;ht?bt.enable(bt.STENCIL_TEST):bt.disable(bt.STENCIL_TEST),this.current=ht,this.dirty=!1}}class Xn extends cn{getDefault(){return[0,1]}set(ht){const bt=this.current;(ht[0]!==bt[0]||ht[1]!==bt[1]||this.dirty)&&(this.gl.depthRange(ht[0],ht[1]),this.current=ht,this.dirty=!1)}}class no extends cn{getDefault(){return!1}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;ht?bt.enable(bt.DEPTH_TEST):bt.disable(bt.DEPTH_TEST),this.current=ht,this.dirty=!1}}class zn extends cn{getDefault(){return this.gl.LESS}set(ht){(ht!==this.current||this.dirty)&&(this.gl.depthFunc(ht),this.current=ht,this.dirty=!1)}}class so extends cn{getDefault(){return!1}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;ht?bt.enable(bt.BLEND):bt.disable(bt.BLEND),this.current=ht,this.dirty=!1}}class vo extends cn{getDefault(){const ht=this.gl;return[ht.ONE,ht.ZERO]}set(ht){const bt=this.current;(ht[0]!==bt[0]||ht[1]!==bt[1]||this.dirty)&&(this.gl.blendFunc(ht[0],ht[1]),this.current=ht,this.dirty=!1)}}class Eo extends cn{getDefault(){return it.Color.transparent}set(ht){const bt=this.current;(ht.r!==bt.r||ht.g!==bt.g||ht.b!==bt.b||ht.a!==bt.a||this.dirty)&&(this.gl.blendColor(ht.r,ht.g,ht.b,ht.a),this.current=ht,this.dirty=!1)}}class To extends cn{getDefault(){return this.gl.FUNC_ADD}set(ht){(ht!==this.current||this.dirty)&&(this.gl.blendEquation(ht),this.current=ht,this.dirty=!1)}}class Io extends cn{getDefault(){return!1}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;ht?bt.enable(bt.CULL_FACE):bt.disable(bt.CULL_FACE),this.current=ht,this.dirty=!1}}class $a extends cn{getDefault(){return this.gl.BACK}set(ht){(ht!==this.current||this.dirty)&&(this.gl.cullFace(ht),this.current=ht,this.dirty=!1)}}class mo extends cn{getDefault(){return this.gl.CCW}set(ht){(ht!==this.current||this.dirty)&&(this.gl.frontFace(ht),this.current=ht,this.dirty=!1)}}class Po extends cn{getDefault(){return null}set(ht){(ht!==this.current||this.dirty)&&(this.gl.useProgram(ht),this.current=ht,this.dirty=!1)}}class Ro extends cn{getDefault(){return this.gl.TEXTURE0}set(ht){(ht!==this.current||this.dirty)&&(this.gl.activeTexture(ht),this.current=ht,this.dirty=!1)}}class Vo extends cn{getDefault(){const ht=this.gl;return[0,0,ht.drawingBufferWidth,ht.drawingBufferHeight]}set(ht){const bt=this.current;(ht[0]!==bt[0]||ht[1]!==bt[1]||ht[2]!==bt[2]||ht[3]!==bt[3]||this.dirty)&&(this.gl.viewport(ht[0],ht[1],ht[2],ht[3]),this.current=ht,this.dirty=!1)}}class Oo extends cn{getDefault(){return null}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.bindFramebuffer(bt.FRAMEBUFFER,ht),this.current=ht,this.dirty=!1}}class Wo extends cn{getDefault(){return null}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.bindRenderbuffer(bt.RENDERBUFFER,ht),this.current=ht,this.dirty=!1}}class os extends cn{getDefault(){return null}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.bindTexture(bt.TEXTURE_2D,ht),this.current=ht,this.dirty=!1}}class hs extends cn{getDefault(){return null}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.bindBuffer(bt.ARRAY_BUFFER,ht),this.current=ht,this.dirty=!1}}class Uo extends cn{getDefault(){return null}set(ht){const bt=this.gl;bt.bindBuffer(bt.ELEMENT_ARRAY_BUFFER,ht),this.current=ht,this.dirty=!1}}class Zo extends cn{constructor(ht){super(ht),this.vao=ht.extVertexArrayObject}getDefault(){return null}set(ht){this.vao&&(ht!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(ht),this.current=ht,this.dirty=!1)}}class Lo extends cn{getDefault(){return 4}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.pixelStorei(bt.UNPACK_ALIGNMENT,ht),this.current=ht,this.dirty=!1}}class cs extends cn{getDefault(){return!1}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.pixelStorei(bt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ht),this.current=ht,this.dirty=!1}}class ba extends cn{getDefault(){return!1}set(ht){if(ht===this.current&&!this.dirty)return;const bt=this.gl;bt.pixelStorei(bt.UNPACK_FLIP_Y_WEBGL,ht),this.current=ht,this.dirty=!1}}class lo extends cn{constructor(ht,bt){super(ht),this.context=ht,this.parent=bt}getDefault(){return null}}class Bn extends lo{setDirty(){this.dirty=!0}set(ht){if(ht===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const bt=this.gl;bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,ht,0),this.current=ht,this.dirty=!1}}class ur extends lo{attachment(){return this.gl.DEPTH_ATTACHMENT}set(ht){if(ht===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const bt=this.gl;bt.framebufferRenderbuffer(bt.FRAMEBUFFER,this.attachment(),bt.RENDERBUFFER,ht),this.current=ht,this.dirty=!1}}class tr extends ur{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class or{constructor(ht,bt,Pt,Rt){this.context=ht,this.width=bt,this.height=Pt;const kt=this.framebuffer=ht.gl.createFramebuffer();this.colorAttachment=new Bn(ht,kt),Rt&&(this.depthAttachment=new ur(ht,kt))}destroy(){const ht=this.context.gl,bt=this.colorAttachment.get();if(bt&&ht.deleteTexture(bt),this.depthAttachment){const Pt=this.depthAttachment.get();Pt&&ht.deleteRenderbuffer(Pt)}ht.deleteFramebuffer(this.framebuffer)}}class gr{constructor(ht){this.gl=ht,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Pn(this),this.clearDepth=new In(this),this.clearStencil=new Rn(this),this.colorMask=new Mn(this),this.depthMask=new Fn(this),this.stencilMask=new Xr(this),this.stencilFunc=new wn(this),this.stencilOp=new vn(this),this.stencilTest=new $n(this),this.depthRange=new Xn(this),this.depthTest=new no(this),this.depthFunc=new zn(this),this.blend=new so(this),this.blendFunc=new vo(this),this.blendColor=new Eo(this),this.blendEquation=new To(this),this.cullFace=new Io(this),this.cullFaceSide=new $a(this),this.frontFace=new mo(this),this.program=new Po(this),this.activeTexture=new Ro(this),this.viewport=new Vo(this),this.bindFramebuffer=new Oo(this),this.bindRenderbuffer=new Wo(this),this.bindTexture=new os(this),this.bindVertexBuffer=new hs(this),this.bindElementBuffer=new Uo(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Zo(this),this.pixelStoreUnpack=new Lo(this),this.pixelStoreUnpackPremultiplyAlpha=new cs(this),this.pixelStoreUnpackFlipY=new ba(this),this.extTextureFilterAnisotropic=ht.getExtension("EXT_texture_filter_anisotropic")||ht.getExtension("MOZ_EXT_texture_filter_anisotropic")||ht.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=ht.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extTextureHalfFloat=ht.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(ht.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=ht.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=ht.getExtension("OES_standard_derivatives"),this.extTimerQuery=ht.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=ht.getParameter(ht.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(ht,bt){return new pn(this,ht,bt)}createVertexBuffer(ht,bt,Pt){return new Sn(this,ht,bt,Pt)}createRenderbuffer(ht,bt,Pt){const Rt=this.gl,kt=Rt.createRenderbuffer();return this.bindRenderbuffer.set(kt),Rt.renderbufferStorage(Rt.RENDERBUFFER,ht,bt,Pt),this.bindRenderbuffer.set(null),kt}createFramebuffer(ht,bt,Pt){return new or(this,ht,bt,Pt)}clear({color:ht,depth:bt,stencil:Pt}){const Rt=this.gl;let kt=0;ht&&(kt|=Rt.COLOR_BUFFER_BIT,this.clearColor.set(ht),this.colorMask.set([!0,!0,!0,!0])),bt!==void 0&&(kt|=Rt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(bt),this.depthMask.set(!0)),Pt!==void 0&&(kt|=Rt.STENCIL_BUFFER_BIT,this.clearStencil.set(Pt),this.stencilMask.set(255)),Rt.clear(kt)}setCullFace(ht){ht.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(ht.mode),this.frontFace.set(ht.frontFace))}setDepthMode(ht){ht.func!==this.gl.ALWAYS||ht.mask?(this.depthTest.set(!0),this.depthFunc.set(ht.func),this.depthMask.set(ht.mask),this.depthRange.set(ht.range)):this.depthTest.set(!1)}setStencilMode(ht){ht.test.func!==this.gl.ALWAYS||ht.mask?(this.stencilTest.set(!0),this.stencilMask.set(ht.mask),this.stencilOp.set([ht.fail,ht.depthFail,ht.pass]),this.stencilFunc.set({func:ht.test.func,ref:ht.ref,mask:ht.test.mask})):this.stencilTest.set(!1)}setColorMode(ht){st(ht.blendFunction,it.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(ht.blendFunction),this.blendColor.set(ht.blendColor)),this.colorMask.set(ht.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Er extends it.Evented{constructor(ht,bt,Pt,Rt){super(),this.id=ht,this.dispatcher=Pt,this.setEventedParent(Rt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=it.extend({type:"raster"},bt),it.extend(this,it.pick(bt,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new it.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=sn(this._options,this.map._requestManager,null,null,(ht,bt)=>{this._tileJSONRequest=null,this._loaded=!0,ht?this.fire(new it.ErrorEvent(ht)):bt&&(it.extend(this,bt),bt.bounds&&(this.tileBounds=new yn(bt.bounds,this.minzoom,this.maxzoom)),it.postTurnstileEvent(bt.tiles),this.fire(new it.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new it.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(ht){this.map=ht,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return it.extend({},this._options)}hasTile(ht){return!this.tileBounds||this.tileBounds.contains(ht.canonical)}loadTile(ht,bt){const Pt=it.exported.devicePixelRatio>=2,Rt=this.map._requestManager.normalizeTileURL(ht.tileID.canonical.url(this.tiles,this.scheme),Pt,this.tileSize);ht.request=it.getImage(this.map._requestManager.transformRequest(Rt,it.ResourceType.Tile),(kt,Vt,Ht,Yt)=>(delete ht.request,ht.aborted?(ht.state="unloaded",bt(null)):kt?(ht.state="errored",bt(kt)):Vt?(this.map._refreshExpiredTiles&&ht.setExpiryData({cacheControl:Ht,expires:Yt}),ht.setTexture(Vt,this.map.painter),ht.state="loaded",it.cacheEntryPossiblyAdded(this.dispatcher),void bt(null)):bt(null)))}static loadTileData(ht,bt,Pt){ht.setTexture(bt,Pt)}static unloadTileData(ht,bt){ht.texture&&bt.saveTileTexture(ht.texture)}abortTile(ht,bt){ht.request&&(ht.request.cancel(),delete ht.request),bt()}unloadTile(ht,bt){ht.texture&&this.map.painter.saveTileTexture(ht.texture),bt()}hasTransition(){return!1}}let zr;function Kr(Tt,ht,bt,Pt,Rt,kt,Vt,Ht){const Yt=[Tt,bt,Rt,ht,Pt,kt,1,1,1],Jt=[Vt,Ht,1],ir=it.adjoint([],Yt),[cr,pr,xr]=it.transformMat3(Jt,Jt,it.transpose(ir,ir));return it.multiply$1(Yt,[cr,0,0,0,pr,0,0,0,xr],Yt)}class Hr extends it.Evented{constructor(ht,bt,Pt,Rt){super(),this.id=ht,this.dispatcher=Pt,this.coordinates=bt.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Rt),this.options=bt}load(ht,bt){this._loaded=bt||!1,this.fire(new it.Event("dataloading",{dataType:"source"})),this.url=this.options.url,it.getImage(this.map._requestManager.transformRequest(this.url,it.ResourceType.Image),(Pt,Rt)=>{if(this._loaded=!0,Pt)this.fire(new it.ErrorEvent(Pt));else if(Rt){const{HTMLImageElement:kt}=it.window;this.image=Rt instanceof kt?it.exported.getImageData(Rt):Rt,this.width=this.image.width,this.height=this.image.height,ht&&(this.coordinates=ht),this._finishLoading()}})}loaded(){return this._loaded}updateImage(ht){return this.image&&ht.url?(this.options.url=ht.url,this.load(ht.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new it.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(ht){this.map=ht,this.load()}onRemove(){this.texture&&this.texture.destroy()}setCoordinates(ht){this.coordinates=ht,this._boundsArray=void 0;const bt=ht.map(it.MercatorCoordinate.fromLngLat);return this.tileID=function(Pt){let Rt=1/0,kt=1/0,Vt=-1/0,Ht=-1/0;for(const cr of Pt)Rt=Math.min(Rt,cr.x),kt=Math.min(kt,cr.y),Vt=Math.max(Vt,cr.x),Ht=Math.max(Ht,cr.y);const Yt=Math.max(Vt-Rt,Ht-kt),Jt=Math.max(0,Math.floor(-Math.log(Yt)/Math.LN2)),ir=Math.pow(2,Jt);return new it.CanonicalTileID(Jt,Math.floor((Rt+Vt)/2*ir),Math.floor((kt+Ht)/2*ir))}(bt),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new it.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(ht){for(const Yt in this.tiles){const Jt=this.tiles[Yt];Jt.state!=="loaded"&&(Jt.state="loaded",Jt.texture=this.texture)}if(this._boundsArray)return;const bt=it.tileTransform(this.tileID,this.map.transform.projection),[Pt,Rt,kt,Vt]=this.coordinates.map(Yt=>{const Jt=bt.projection.project(Yt[0],Yt[1]);return it.getTilePoint(bt,Jt)._round()});this.perspectiveTransform=function(Yt,Jt,ir,cr,pr,xr,br,mr,Ir,_r){const Cr=Kr(0,0,Yt,0,0,Jt,Yt,Jt),Tr=Kr(ir,cr,pr,xr,br,mr,Ir,_r);return it.multiply$1(Tr,it.adjoint(Cr,Cr),Tr),[Tr[6]/Tr[8]*Yt/it.EXTENT,Tr[7]/Tr[8]*Jt/it.EXTENT]}(this.width,this.height,Pt.x,Pt.y,Rt.x,Rt.y,Vt.x,Vt.y,kt.x,kt.y);const Ht=this._boundsArray=new it.StructArrayLayout4i8;Ht.emplaceBack(Pt.x,Pt.y,0,0),Ht.emplaceBack(Rt.x,Rt.y,it.EXTENT,0),Ht.emplaceBack(Vt.x,Vt.y,0,it.EXTENT),Ht.emplaceBack(kt.x,kt.y,it.EXTENT,it.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=ht.createVertexBuffer(Ht,it.boundsAttributes.members),this.boundsSegments=it.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const ht=this.map.painter.context,bt=ht.gl;this.texture?this.texture.update(this.image):(this.texture=new it.Texture(ht,this.image,bt.RGBA),this.texture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE)),this._prepareData(ht)}loadTile(ht,bt){this.tileID&&this.tileID.equals(ht.tileID.canonical)?(this.tiles[String(ht.tileID.wrap)]=ht,ht.buckets={},bt(null)):(ht.state="errored",bt(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Or={vector:class extends it.Evented{constructor(Tt,ht,bt,Pt){if(super(),this.id=Tt,this.dispatcher=bt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,it.extend(this,it.pick(ht,["url","scheme","tileSize","promoteId"])),this._options=it.extend({type:"vector"},ht),this._collectResourceTiming=ht.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Pt),this._tileWorkers={},this._deduped=new it.DedupedRequest}load(Tt){this._loaded=!1,this.fire(new it.Event("dataloading",{dataType:"source"}));const ht=this.language||this.map._language,bt=this.worldview||this.map._worldview;this._tileJSONRequest=sn(this._options,this.map._requestManager,ht,bt,(Pt,Rt)=>{this._tileJSONRequest=null,this._loaded=!0,Pt?(ht&&console.warn(`Ensure that your requested language string is a valid BCP-47 code. Found: ${ht}`),bt&&bt.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${bt}`),this.fire(new it.ErrorEvent(Pt))):Rt&&(it.extend(this,Rt),Rt.bounds&&(this.tileBounds=new yn(Rt.bounds,this.minzoom,this.maxzoom)),it.postTurnstileEvent(Rt.tiles,this.map._requestManager._customAccessToken),this.fire(new it.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new it.Event("data",{dataType:"source",sourceDataType:"content"}))),Tt&&Tt(Pt)})}loaded(){return this._loaded}hasTile(Tt){return!this.tileBounds||this.tileBounds.contains(Tt.canonical)}onAdd(Tt){this.map=Tt,this.load()}setSourceProperty(Tt){this._tileJSONRequest&&this._tileJSONRequest.cancel(),Tt(),this.load(()=>{const ht=this.map.style._getSourceCaches(this.id);for(const bt of ht)bt.clearTiles()})}setTiles(Tt){return this.setSourceProperty(()=>{this._options.tiles=Tt}),this}setUrl(Tt){return this.setSourceProperty(()=>{this.url=Tt,this._options.url=Tt}),this}_setLanguage(Tt){return Tt===this.language||this.setSourceProperty(()=>{this.language=Tt}),this}_setWorldview(Tt){return Tt===this.worldview?this:this.worldviewOptions&&Tt&&!this.worldviewOptions[Tt]?(console.warn(`Vector tile source "${this.id}" does not support worldview "${Tt}".`),this):(this.setSourceProperty(()=>{this.worldview=Tt}),this)}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return it.extend({},this._options)}loadTile(Tt,ht){const bt=this.map._requestManager.normalizeTileURL(Tt.tileID.canonical.url(this.tiles,this.scheme)),Pt={request:this.map._requestManager.transformRequest(bt,it.ResourceType.Tile),data:void 0,uid:Tt.uid,tileID:Tt.tileID,tileZoom:Tt.tileZoom,zoom:Tt.tileID.overscaledZ,tileSize:this.tileSize*Tt.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:it.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:Tt.isSymbolTile};if(Pt.request.collectResourceTiming=this._collectResourceTiming,Tt.actor&&Tt.state!=="expired")Tt.state==="loading"?Tt.reloadCallback=ht:Tt.request=Tt.actor.send("reloadTile",Pt,Rt.bind(this));else if(Tt.actor=this._tileWorkers[bt]=this._tileWorkers[bt]||this.dispatcher.getActor(),this.dispatcher.ready)Tt.request=Tt.actor.send("loadTile",Pt,Rt.bind(this),void 0,!0);else{const kt=it.loadVectorTile.call({deduped:this._deduped},Pt,(Vt,Ht)=>{Vt||!Ht?Rt.call(this,Vt):(Pt.data={cacheControl:Ht.cacheControl,expires:Ht.expires,rawData:Ht.rawData.slice(0)},Tt.actor&&Tt.actor.send("loadTile",Pt,Rt.bind(this),void 0,!0))},!0);Tt.request={cancel:kt}}function Rt(kt,Vt){return delete Tt.request,Tt.aborted?ht(null):kt&&kt.status!==404?ht(kt):(Vt&&Vt.resourceTiming&&(Tt.resourceTiming=Vt.resourceTiming),this.map._refreshExpiredTiles&&Vt&&Tt.setExpiryData(Vt),Tt.loadVectorData(Vt,this.map.painter),it.cacheEntryPossiblyAdded(this.dispatcher),ht(null),void(Tt.reloadCallback&&(this.loadTile(Tt,Tt.reloadCallback),Tt.reloadCallback=null)))}}abortTile(Tt){Tt.request&&(Tt.request.cancel(),delete Tt.request),Tt.actor&&Tt.actor.send("abortTile",{uid:Tt.uid,type:this.type,source:this.id})}unloadTile(Tt){Tt.unloadVectorData(),Tt.actor&&Tt.actor.send("removeTile",{uid:Tt.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:Er,"raster-dem":class extends Er{constructor(Tt,ht,bt,Pt){super(Tt,ht,bt,Pt),this.type="raster-dem",this.maxzoom=22,this._options=it.extend({type:"raster-dem"},ht),this.encoding=ht.encoding||"mapbox"}loadTile(Tt,ht){const bt=this.map._requestManager.normalizeTileURL(Tt.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function Pt(Rt,kt){Rt&&(Tt.state="errored",ht(Rt)),kt&&(Tt.dem=kt,Tt.dem.onDeserialize(),Tt.needsHillshadePrepare=!0,Tt.needsDEMTextureUpload=!0,Tt.state="loaded",ht(null))}Tt.request=it.getImage(this.map._requestManager.transformRequest(bt,it.ResourceType.Tile),function(Rt,kt,Vt,Ht){if(delete Tt.request,Tt.aborted)Tt.state="unloaded",ht(null);else if(Rt)Tt.state="errored",ht(Rt);else if(kt){this.map._refreshExpiredTiles&&Tt.setExpiryData({cacheControl:Vt,expires:Ht});const Yt=it.window.ImageBitmap&&kt instanceof it.window.ImageBitmap&&(zr==null&&(zr=it.window.OffscreenCanvas&&new it.window.OffscreenCanvas(1,1).getContext("2d")&&typeof it.window.createImageBitmap=="function"),zr),Jt=1-(kt.width-it.prevPowerOfTwo(kt.width))/2;Jt<1||Tt.neighboringTiles||(Tt.neighboringTiles=this._getNeighboringTiles(Tt.tileID));const ir=Yt?kt:it.exported.getImageData(kt,Jt),cr={uid:Tt.uid,coord:Tt.tileID,source:this.id,rawImageData:ir,encoding:this.encoding,padding:Jt};Tt.actor&&Tt.state!=="expired"||(Tt.actor=this.dispatcher.getActor(),Tt.actor.send("loadDEMTile",cr,Pt.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(Tt){const ht=Tt.canonical,bt=Math.pow(2,ht.z),Pt=(ht.x-1+bt)%bt,Rt=ht.x===0?Tt.wrap-1:Tt.wrap,kt=(ht.x+1+bt)%bt,Vt=ht.x+1===bt?Tt.wrap+1:Tt.wrap,Ht={};return Ht[new it.OverscaledTileID(Tt.overscaledZ,Rt,ht.z,Pt,ht.y).key]={backfilled:!1},Ht[new it.OverscaledTileID(Tt.overscaledZ,Vt,ht.z,kt,ht.y).key]={backfilled:!1},ht.y>0&&(Ht[new it.OverscaledTileID(Tt.overscaledZ,Rt,ht.z,Pt,ht.y-1).key]={backfilled:!1},Ht[new it.OverscaledTileID(Tt.overscaledZ,Tt.wrap,ht.z,ht.x,ht.y-1).key]={backfilled:!1},Ht[new it.OverscaledTileID(Tt.overscaledZ,Vt,ht.z,kt,ht.y-1).key]={backfilled:!1}),ht.y+1<bt&&(Ht[new it.OverscaledTileID(Tt.overscaledZ,Rt,ht.z,Pt,ht.y+1).key]={backfilled:!1},Ht[new it.OverscaledTileID(Tt.overscaledZ,Tt.wrap,ht.z,ht.x,ht.y+1).key]={backfilled:!1},Ht[new it.OverscaledTileID(Tt.overscaledZ,Vt,ht.z,kt,ht.y+1).key]={backfilled:!1}),Ht}unloadTile(Tt){Tt.demTexture&&this.map.painter.saveTileTexture(Tt.demTexture),Tt.fbo&&(Tt.fbo.destroy(),delete Tt.fbo),Tt.dem&&delete Tt.dem,delete Tt.neighboringTiles,Tt.state="unloaded"}},geojson:class extends it.Evented{constructor(Tt,ht,bt,Pt){super(),this.id=Tt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=bt.getActor(),this.setEventedParent(Pt),this._data=ht.data,this._options=it.extend({},ht),this._collectResourceTiming=ht.collectResourceTiming,ht.maxzoom!==void 0&&(this.maxzoom=ht.maxzoom),ht.type&&(this.type=ht.type),ht.attribution&&(this.attribution=ht.attribution),this.promoteId=ht.promoteId;const Rt=it.EXTENT/this.tileSize;this.workerOptions=it.extend({source:this.id,cluster:ht.cluster||!1,geojsonVtOptions:{buffer:(ht.buffer!==void 0?ht.buffer:128)*Rt,tolerance:(ht.tolerance!==void 0?ht.tolerance:.375)*Rt,extent:it.EXTENT,maxZoom:this.maxzoom,lineMetrics:ht.lineMetrics||!1,generateId:ht.generateId||!1},superclusterOptions:{maxZoom:ht.clusterMaxZoom!==void 0?ht.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,ht.clusterMinPoints||2),extent:it.EXTENT,radius:(ht.clusterRadius!==void 0?ht.clusterRadius:50)*Rt,log:!1,generateId:ht.generateId||!1},clusterProperties:ht.clusterProperties,filter:ht.filter},ht.workerOptions)}onAdd(Tt){this.map=Tt,this.setData(this._data)}setData(Tt){return this._data=Tt,this._updateWorkerData(),this}getClusterExpansionZoom(Tt,ht){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:Tt,source:this.id},ht),this}getClusterChildren(Tt,ht){return this.actor.send("geojson.getClusterChildren",{clusterId:Tt,source:this.id},ht),this}getClusterLeaves(Tt,ht,bt,Pt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:Tt,limit:ht,offset:bt},Pt),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new it.Event("dataloading",{dataType:"source"})),this._loaded=!1;const Tt=it.extend({},this.workerOptions),ht=this._data;typeof ht=="string"?(Tt.request=this.map._requestManager.transformRequest(it.exported.resolveURL(ht),it.ResourceType.Source),Tt.request.collectResourceTiming=this._collectResourceTiming):Tt.data=JSON.stringify(ht),this._pendingLoad=this.actor.send(`${this.type}.loadData`,Tt,(bt,Pt)=>{if(this._loaded=!0,this._pendingLoad=null,bt)this.fire(new it.ErrorEvent(bt));else{const Rt={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&Pt&&Pt.resourceTiming&&Pt.resourceTiming[this.id]&&(Rt.resourceTiming=Pt.resourceTiming[this.id]),this.fire(new it.Event("data",Rt)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(Tt,ht){const bt=Tt.actor?"reloadTile":"loadTile";Tt.actor=this.actor,Tt.request=this.actor.send(bt,{type:this.type,uid:Tt.uid,tileID:Tt.tileID,tileZoom:Tt.tileZoom,zoom:Tt.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:it.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(Pt,Rt)=>(delete Tt.request,Tt.unloadVectorData(),Tt.aborted?ht(null):Pt?ht(Pt):(Tt.loadVectorData(Rt,this.map.painter,bt==="reloadTile"),ht(null))),void 0,bt==="loadTile")}abortTile(Tt){Tt.request&&(Tt.request.cancel(),delete Tt.request),Tt.aborted=!0}unloadTile(Tt){Tt.unloadVectorData(),this.actor.send("removeTile",{uid:Tt.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return it.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Hr{constructor(Tt,ht,bt,Pt){super(Tt,ht,bt,Pt),this.roundZoom=!0,this.type="video",this.options=ht}load(){this._loaded=!1;const Tt=this.options;this.urls=[];for(const ht of Tt.urls)this.urls.push(this.map._requestManager.transformRequest(ht,it.ResourceType.Source).url);it.getVideo(this.urls,(ht,bt)=>{this._loaded=!0,ht?this.fire(new it.ErrorEvent(ht)):bt&&(this.video=bt,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(Tt){if(this.video){const ht=this.video.seekable;Tt<ht.start(0)||Tt>ht.end(0)?this.fire(new it.ErrorEvent(new it.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${ht.start(0)} and ${ht.end(0)}-second mark.`))):this.video.currentTime=Tt}}getVideo(){return this.video}onAdd(Tt){this.map||(this.map=Tt,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const Tt=this.map.painter.context,ht=Tt.gl;this.texture?this.video.paused||(this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),ht.texSubImage2D(ht.TEXTURE_2D,0,0,0,ht.RGBA,ht.UNSIGNED_BYTE,this.video)):(this.texture=new it.Texture(Tt,this.video,ht.RGBA),this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(Tt)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Hr,canvas:class extends Hr{constructor(Tt,ht,bt,Pt){super(Tt,ht,bt,Pt),ht.coordinates?Array.isArray(ht.coordinates)&&ht.coordinates.length===4&&!ht.coordinates.some(Rt=>!Array.isArray(Rt)||Rt.length!==2||Rt.some(kt=>typeof kt!="number"))||this.fire(new it.ErrorEvent(new it.ValidationError(`sources.${Tt}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new it.ErrorEvent(new it.ValidationError(`sources.${Tt}`,null,'missing required property "coordinates"'))),ht.animate&&typeof ht.animate!="boolean"&&this.fire(new it.ErrorEvent(new it.ValidationError(`sources.${Tt}`,null,'optional "animate" property must be a boolean value'))),ht.canvas?typeof ht.canvas=="string"||ht.canvas instanceof it.window.HTMLCanvasElement||this.fire(new it.ErrorEvent(new it.ValidationError(`sources.${Tt}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new it.ErrorEvent(new it.ValidationError(`sources.${Tt}`,null,'missing required property "canvas"'))),this.options=ht,this.animate=ht.animate===void 0||ht.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof it.window.HTMLCanvasElement?this.options.canvas:it.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new it.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(Tt){this.map=Tt,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let Tt=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,Tt=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,Tt=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const ht=this.map.painter.context;this.texture?(Tt||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new it.Texture(ht,this.canvas,ht.gl.RGBA,{premultiply:!0}),this._prepareData(ht)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const Tt of[this.canvas.width,this.canvas.height])if(isNaN(Tt)||Tt<=0)return!0;return!1}},custom:class extends it.Evented{constructor(Tt,ht,bt,Pt){super(),this.id=Tt,this.type="custom",this._dataType="raster",this._dispatcher=bt,this._implementation=ht,this.setEventedParent(Pt),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new it.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new it.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new yn(this._implementation.bounds,this.minzoom,this.maxzoom)),ht.update=this._update.bind(this),ht.coveringTiles=this._coveringTiles.bind(this),it.extend(this,it.pick(ht,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return it.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new it.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new it.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(Tt){this._map=Tt,this._loaded=!1,this.fire(new it.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(Tt),this.load()}onRemove(Tt){this._implementation.onRemove&&this._implementation.onRemove(Tt)}hasTile(Tt){if(this._implementation.hasTile){const{x:ht,y:bt,z:Pt}=Tt.canonical;return this._implementation.hasTile({x:ht,y:bt,z:Pt})}return!this.tileBounds||this.tileBounds.contains(Tt.canonical)}loadTile(Tt,ht){const{x:bt,y:Pt,z:Rt}=Tt.tileID.canonical,kt=new it.window.AbortController,Vt=this._implementation.loadTile({x:bt,y:Pt,z:Rt},{signal:kt.signal});if(!Vt)return this.loadTileData(Tt,{width:this.tileSize,height:this.tileSize,data:null}),Tt.state="loaded",ht(null);Vt.cancel=()=>kt.abort(),Tt.request=Vt.then(function(Ht){return delete Tt.request,Tt.aborted?(Tt.state="unloaded",ht(null)):Ht?function(Yt){return Yt instanceof it.window.ImageData||Yt instanceof it.window.ImageBitmap||Yt instanceof it.window.HTMLCanvasElement}(Ht)?(this.loadTileData(Tt,Ht),Tt.state="loaded",void ht(null)):(Tt.state="errored",ht(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`))):(this.loadTileData(Tt,{width:this.tileSize,height:this.tileSize,data:null}),Tt.state="loaded",ht(null))}.bind(this)).catch(Ht=>{Ht.code!==20&&(Tt.state="errored",ht(Ht))})}loadTileData(Tt,ht){Er.loadTileData(Tt,ht,this._map.painter)}unloadTileData(Tt){Er.unloadTileData(Tt,this._map.painter)}prepareTile(Tt){if(!this._implementation.prepareTile)return null;const{x:ht,y:bt,z:Pt}=Tt.tileID.canonical,Rt=this._implementation.prepareTile({x:ht,y:bt,z:Pt});return Rt?(this.loadTileData(Tt,Rt),Tt.state="loaded",Rt):null}unloadTile(Tt,ht){if(this.unloadTileData(Tt),this._implementation.unloadTile){const{x:bt,y:Pt,z:Rt}=Tt.tileID.canonical;this._implementation.unloadTile({x:bt,y:Pt,z:Rt})}ht()}abortTile(Tt,ht){Tt.request&&Tt.request.cancel&&(Tt.request.cancel(),delete Tt.request),ht()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(Tt=>({x:Tt.canonical.x,y:Tt.canonical.y,z:Tt.canonical.z}))}_update(){this.fire(new it.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Zr=function(Tt,ht,bt,Pt){const Rt=new Or[ht.type](Tt,ht,bt,Pt);if(Rt.id!==Tt)throw new Error(`Expected Source id to be ${Tt} instead of ${Rt.id}`);return it.bindAll(["load","abort","unload","serialize","prepare"],Rt),Rt};function En(Tt,ht){const bt=it.identity([]);return it.scale(bt,bt,[.5*Tt.width,.5*-Tt.height,1]),it.translate(bt,bt,[1,-1,0]),it.multiply(bt,bt,Tt.calculateProjMatrix(ht.toUnwrapped())),Float32Array.from(bt)}function Gn(Tt,ht,bt,Pt,Rt,kt,Vt,Ht=!1){const Yt=Tt.tilesIn(Pt,Vt,Ht);Yt.sort(ga);const Jt=[];for(const cr of Yt)Jt.push({wrappedTileID:cr.tile.tileID.wrapped().key,queryResults:cr.tile.queryRenderedFeatures(ht,bt,Tt._state,cr,Rt,kt,En(Tt.transform,cr.tile.tileID),Ht)});const ir=function(cr){const pr={},xr={};for(const br of cr){const mr=br.queryResults,Ir=br.wrappedTileID,_r=xr[Ir]=xr[Ir]||{};for(const Cr in mr){const Tr=mr[Cr],Nr=_r[Cr]=_r[Cr]||{},$r=pr[Cr]=pr[Cr]||[];for(const Dr of Tr)Nr[Dr.featureIndex]||(Nr[Dr.featureIndex]=!0,$r.push(Dr))}}return pr}(Jt);for(const cr in ir)ir[cr].forEach(pr=>{const xr=pr.feature,br=xr.layer;br&&br.type!=="background"&&br.type!=="sky"&&(xr.source=br.source,br["source-layer"]&&(xr.sourceLayer=br["source-layer"]),xr.state=xr.id!==void 0?Tt.getFeatureState(br["source-layer"],xr.id):{})});return ir}function Cn(Tt,ht){const bt=Tt.getRenderableIds().map(kt=>Tt.getTileByID(kt)),Pt=[],Rt={};for(let kt=0;kt<bt.length;kt++){const Vt=bt[kt],Ht=Vt.tileID.canonical.key;Rt[Ht]||(Rt[Ht]=!0,Vt.querySourceFeatures(Pt,ht))}return Pt}function ga(Tt,ht){const bt=Tt.tileID,Pt=ht.tileID;return bt.overscaledZ-Pt.overscaledZ||bt.canonical.y-Pt.canonical.y||bt.wrap-Pt.wrap||bt.canonical.x-Pt.canonical.x}function uo(){return wm.workerClass!=null?new wm.workerClass:new it.window.Worker(wm.workerUrl)}const _i="mapboxgl_preloaded_worker_pool";class co{constructor(){this.active={}}acquire(ht){if(!this.workers)for(this.workers=[];this.workers.length<co.workerCount;)this.workers.push(new uo);return this.active[ht]=!0,this.workers.slice()}release(ht){delete this.active[ht],this.numActive()===0&&(this.workers.forEach(bt=>{bt.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[_i]}numActive(){return Object.keys(this.active).length}}let Vn;function qn(){return Vn||(Vn=new co),Vn}function oo(Tt,ht){const bt={};for(const Pt in Tt)Pt!=="ref"&&(bt[Pt]=Tt[Pt]);return it.refProperties.forEach(Pt=>{Pt in ht&&(bt[Pt]=ht[Pt])}),bt}function bo(Tt){Tt=Tt.slice();const ht=Object.create(null);for(let bt=0;bt<Tt.length;bt++)ht[Tt[bt].id]=Tt[bt];for(let bt=0;bt<Tt.length;bt++)"ref"in Tt[bt]&&(Tt[bt]=oo(Tt[bt],ht[Tt[bt].ref]));return Tt}co.workerCount=2;const Ur={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ss(Tt,ht,bt){bt.push({command:Ur.addSource,args:[Tt,ht[Tt]]})}function Ho(Tt,ht,bt){ht.push({command:Ur.removeSource,args:[Tt]}),bt[Tt]=!0}function Xo(Tt,ht,bt,Pt){Ho(Tt,bt,Pt),ss(Tt,ht,bt)}function Ws(Tt,ht,bt){let Pt;for(Pt in Tt[bt])if(Tt[bt].hasOwnProperty(Pt)&&Pt!=="data"&&!st(Tt[bt][Pt],ht[bt][Pt]))return!1;for(Pt in ht[bt])if(ht[bt].hasOwnProperty(Pt)&&Pt!=="data"&&!st(Tt[bt][Pt],ht[bt][Pt]))return!1;return!0}function Cs(Tt,ht,bt,Pt,Rt,kt){let Vt;for(Vt in ht=ht||{},Tt=Tt||{})Tt.hasOwnProperty(Vt)&&(st(Tt[Vt],ht[Vt])||bt.push({command:kt,args:[Pt,Vt,ht[Vt],Rt]}));for(Vt in ht)ht.hasOwnProperty(Vt)&&!Tt.hasOwnProperty(Vt)&&(st(Tt[Vt],ht[Vt])||bt.push({command:kt,args:[Pt,Vt,ht[Vt],Rt]}))}function Al(Tt){return Tt.id}function Ol(Tt,ht){return Tt[ht.id]=ht,Tt}class ts{constructor(ht,bt){this.reset(ht,bt)}reset(ht,bt){this.points=ht||[],this._distances=[0];for(let Pt=1;Pt<this.points.length;Pt++)this._distances[Pt]=this._distances[Pt-1]+this.points[Pt].dist(this.points[Pt-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(bt||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(ht){if(this.points.length===1)return this.points[0];ht=it.clamp(ht,0,1);let bt=1,Pt=this._distances[bt];const Rt=ht*this.paddedLength+this.padding;for(;Pt<Rt&&bt<this._distances.length;)Pt=this._distances[++bt];const kt=bt-1,Vt=this._distances[kt],Ht=Pt-Vt,Yt=Ht>0?(Rt-Vt)/Ht:0;return this.points[kt].mult(1-Yt).add(this.points[bt].mult(Yt))}}class Nn{constructor(ht,bt,Pt){const Rt=this.boxCells=[],kt=this.circleCells=[];this.xCellCount=Math.ceil(ht/Pt),this.yCellCount=Math.ceil(bt/Pt);for(let Vt=0;Vt<this.xCellCount*this.yCellCount;Vt++)Rt.push([]),kt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=ht,this.height=bt,this.xScale=this.xCellCount/ht,this.yScale=this.yCellCount/bt,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(ht,bt,Pt,Rt,kt){this._forEachCell(bt,Pt,Rt,kt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(ht),this.bboxes.push(bt),this.bboxes.push(Pt),this.bboxes.push(Rt),this.bboxes.push(kt)}insertCircle(ht,bt,Pt,Rt){this._forEachCell(bt-Rt,Pt-Rt,bt+Rt,Pt+Rt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(ht),this.circles.push(bt),this.circles.push(Pt),this.circles.push(Rt)}_insertBoxCell(ht,bt,Pt,Rt,kt,Vt){this.boxCells[kt].push(Vt)}_insertCircleCell(ht,bt,Pt,Rt,kt,Vt){this.circleCells[kt].push(Vt)}_query(ht,bt,Pt,Rt,kt,Vt){if(Pt<0||ht>this.width||Rt<0||bt>this.height)return!kt&&[];const Ht=[];if(ht<=0&&bt<=0&&this.width<=Pt&&this.height<=Rt){if(kt)return!0;for(let Yt=0;Yt<this.boxKeys.length;Yt++)Ht.push({key:this.boxKeys[Yt],x1:this.bboxes[4*Yt],y1:this.bboxes[4*Yt+1],x2:this.bboxes[4*Yt+2],y2:this.bboxes[4*Yt+3]});for(let Yt=0;Yt<this.circleKeys.length;Yt++){const Jt=this.circles[3*Yt],ir=this.circles[3*Yt+1],cr=this.circles[3*Yt+2];Ht.push({key:this.circleKeys[Yt],x1:Jt-cr,y1:ir-cr,x2:Jt+cr,y2:ir+cr})}return Vt?Ht.filter(Vt):Ht}return this._forEachCell(ht,bt,Pt,Rt,this._queryCell,Ht,{hitTest:kt,seenUids:{box:{},circle:{}}},Vt),kt?Ht.length>0:Ht}_queryCircle(ht,bt,Pt,Rt,kt){const Vt=ht-Pt,Ht=ht+Pt,Yt=bt-Pt,Jt=bt+Pt;if(Ht<0||Vt>this.width||Jt<0||Yt>this.height)return!Rt&&[];const ir=[];return this._forEachCell(Vt,Yt,Ht,Jt,this._queryCellCircle,ir,{hitTest:Rt,circle:{x:ht,y:bt,radius:Pt},seenUids:{box:{},circle:{}}},kt),Rt?ir.length>0:ir}query(ht,bt,Pt,Rt,kt){return this._query(ht,bt,Pt,Rt,!1,kt)}hitTest(ht,bt,Pt,Rt,kt){return this._query(ht,bt,Pt,Rt,!0,kt)}hitTestCircle(ht,bt,Pt,Rt){return this._queryCircle(ht,bt,Pt,!0,Rt)}_queryCell(ht,bt,Pt,Rt,kt,Vt,Ht,Yt){const Jt=Ht.seenUids,ir=this.boxCells[kt];if(ir!==null){const pr=this.bboxes;for(const xr of ir)if(!Jt.box[xr]){Jt.box[xr]=!0;const br=4*xr;if(ht<=pr[br+2]&&bt<=pr[br+3]&&Pt>=pr[br+0]&&Rt>=pr[br+1]&&(!Yt||Yt(this.boxKeys[xr]))){if(Ht.hitTest)return Vt.push(!0),!0;Vt.push({key:this.boxKeys[xr],x1:pr[br],y1:pr[br+1],x2:pr[br+2],y2:pr[br+3]})}}}const cr=this.circleCells[kt];if(cr!==null){const pr=this.circles;for(const xr of cr)if(!Jt.circle[xr]){Jt.circle[xr]=!0;const br=3*xr;if(this._circleAndRectCollide(pr[br],pr[br+1],pr[br+2],ht,bt,Pt,Rt)&&(!Yt||Yt(this.circleKeys[xr]))){if(Ht.hitTest)return Vt.push(!0),!0;{const mr=pr[br],Ir=pr[br+1],_r=pr[br+2];Vt.push({key:this.circleKeys[xr],x1:mr-_r,y1:Ir-_r,x2:mr+_r,y2:Ir+_r})}}}}}_queryCellCircle(ht,bt,Pt,Rt,kt,Vt,Ht,Yt){const Jt=Ht.circle,ir=Ht.seenUids,cr=this.boxCells[kt];if(cr!==null){const xr=this.bboxes;for(const br of cr)if(!ir.box[br]){ir.box[br]=!0;const mr=4*br;if(this._circleAndRectCollide(Jt.x,Jt.y,Jt.radius,xr[mr+0],xr[mr+1],xr[mr+2],xr[mr+3])&&(!Yt||Yt(this.boxKeys[br])))return Vt.push(!0),!0}}const pr=this.circleCells[kt];if(pr!==null){const xr=this.circles;for(const br of pr)if(!ir.circle[br]){ir.circle[br]=!0;const mr=3*br;if(this._circlesCollide(xr[mr],xr[mr+1],xr[mr+2],Jt.x,Jt.y,Jt.radius)&&(!Yt||Yt(this.circleKeys[br])))return Vt.push(!0),!0}}}_forEachCell(ht,bt,Pt,Rt,kt,Vt,Ht,Yt){const Jt=this._convertToXCellCoord(ht),ir=this._convertToYCellCoord(bt),cr=this._convertToXCellCoord(Pt),pr=this._convertToYCellCoord(Rt);for(let xr=Jt;xr<=cr;xr++)for(let br=ir;br<=pr;br++)if(kt.call(this,ht,bt,Pt,Rt,this.xCellCount*br+xr,Vt,Ht,Yt))return}_convertToXCellCoord(ht){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(ht*this.xScale)))}_convertToYCellCoord(ht){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(ht*this.yScale)))}_circlesCollide(ht,bt,Pt,Rt,kt,Vt){const Ht=Rt-ht,Yt=kt-bt,Jt=Pt+Vt;return Jt*Jt>Ht*Ht+Yt*Yt}_circleAndRectCollide(ht,bt,Pt,Rt,kt,Vt,Ht){const Yt=(Vt-Rt)/2,Jt=Math.abs(ht-(Rt+Yt));if(Jt>Yt+Pt)return!1;const ir=(Ht-kt)/2,cr=Math.abs(bt-(kt+ir));if(cr>ir+Pt)return!1;if(Jt<=Yt||cr<=ir)return!0;const pr=Jt-Yt,xr=cr-ir;return pr*pr+xr*xr<=Pt*Pt}}const fo=Math.tan(85*Math.PI/180);function Hn(Tt,ht,bt,Pt,Rt,kt,Vt){const Ht=it.create();if(bt)if(kt.name==="globe"){const Yt=it.calculateGlobeLabelMatrix(Rt,ht);it.multiply(Ht,Ht,Yt)}else{const Yt=Gt([],Vt);Ht[0]=Yt[0],Ht[1]=Yt[1],Ht[4]=Yt[2],Ht[5]=Yt[3],Pt||it.rotateZ(Ht,Ht,Rt.angle)}else it.multiply(Ht,Rt.labelPlaneMatrix,Tt);return Ht}function ho(Tt,ht,bt,Pt,Rt,kt,Vt){const Ht=Hn(Tt,ht,bt,Pt,Rt,kt,Vt);return kt.name==="globe"&&bt||(Ht[2]=Ht[6]=Ht[10]=Ht[14]=0),Ht}function Qo(Tt,ht,bt,Pt,Rt,kt,Vt){if(bt){if(kt.name==="globe"){const Ht=Hn(Tt,ht,bt,Pt,Rt,kt,Vt);return it.invert(Ht,Ht),it.multiply(Ht,Tt,Ht),Ht}{const Ht=it.clone(Tt),Yt=it.identity([]);return Yt[0]=Vt[0],Yt[1]=Vt[1],Yt[4]=Vt[2],Yt[5]=Vt[3],it.multiply(Ht,Ht,Yt),Pt||it.rotateZ(Ht,Ht,-Rt.angle),Ht}}return Rt.glCoordMatrix}function po(Tt,ht,bt=0){const Pt=[Tt.x,Tt.y,bt,1];bt?it.transformMat4$1(Pt,Pt,ht):$o(Pt,Pt,ht);const Rt=Pt[3];return{point:[Pt[0]/Rt,Pt[1]/Rt,Pt[2]/Rt],signedDistanceFromCamera:Rt}}function Jo(Tt,ht){const bt=[Tt[0],Tt[1],Tt[2],1];it.transformMat4$1(bt,bt,ht);const Pt=bt[3];return{point:[bt[0]/Pt,bt[1]/Pt,bt[2]/Pt],signedDistanceFromCamera:Pt}}function As(Tt,ht){return Math.min(.5+Tt/ht*.5,1.5)}function Ls(Tt,ht){const bt=Tt[0]/Tt[3],Pt=Tt[1]/Tt[3];return bt>=-ht[0]&&bt<=ht[0]&&Pt>=-ht[1]&&Pt<=ht[1]}function Ms(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt){const ir=bt.transform,cr=Pt?Tt.textSizeData:Tt.iconSizeData,pr=it.evaluateSizeForZoom(cr,bt.transform.zoom),xr=ir.projection.name==="globe",br=[256/bt.width*2+1,256/bt.height*2+1],mr=Pt?Tt.text.dynamicLayoutVertexArray:Tt.icon.dynamicLayoutVertexArray;mr.clear();let Ir=null;xr&&(Ir=Pt?Tt.text.globeExtVertexArray:Tt.icon.globeExtVertexArray);const _r=Tt.lineVertexArray,Cr=Pt?Tt.text.placedSymbolArray:Tt.icon.placedSymbolArray,Tr=bt.transform.width/bt.transform.height;let Nr=!1;for(let $r=0;$r<Cr.length;$r++){const Dr=Cr.get($r);if(Dr.writingMode!==it.WritingMode.vertical||Nr||$r!==0&&Cr.get($r-1).writingMode===it.WritingMode.horizontal||(Nr=!0),(Dr.hidden||Dr.writingMode===it.WritingMode.vertical)&&!Nr){wo(Dr.numGlyphs,mr);continue}Nr=!1;const Gr=new it.pointGeometry(Dr.tileAnchorX,Dr.tileAnchorY),mn=Yt?Yt(Gr):[0,0,0],xn=ir.projection.projectTilePoint(Gr.x,Gr.y,Jt.canonical),gn=[xn.x+mn[0],xn.y+mn[1],xn.z+mn[2]],hn=[...gn,1];if(it.transformMat4$1(hn,hn,ht),!Ls(hn,br)){wo(Dr.numGlyphs,mr);continue}const kr=As(bt.transform.cameraToCenterDistance,hn[3]),On=it.evaluateSizeForFeature(cr,pr,Dr),Ln=Vt?On/kr:On*kr,na=po(new it.pointGeometry(gn[0],gn[1]),Rt,gn[2]);if(na.signedDistanceFromCamera<=0){wo(Dr.numGlyphs,mr);continue}let Tn={};const xo=Vt?null:Yt,Jn=zs(Dr,Ln,!1,Ht,ht,Rt,kt,Tt.glyphOffsetArray,_r,mr,Ir,na.point,Gr,Tn,Tr,xo,ir.projection,Jt,Vt);Nr=Jn.useVertical,xo&&Jn.needsFlipping&&(Tn={}),(Jn.notEnoughRoom||Nr||Jn.needsFlipping&&zs(Dr,Ln,!0,Ht,ht,Rt,kt,Tt.glyphOffsetArray,_r,mr,Ir,na.point,Gr,Tn,Tr,xo,ir.projection,Jt,Vt).notEnoughRoom)&&wo(Dr.numGlyphs,mr)}Pt?(Tt.text.dynamicLayoutVertexBuffer.updateData(mr),Ir&&Tt.text.globeExtVertexBuffer.updateData(Ir)):(Tt.icon.dynamicLayoutVertexBuffer.updateData(mr),Ir&&Tt.icon.globeExtVertexBuffer.updateData(Ir))}function Ko(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr){const Ir=Ht.glyphStartIndex+Ht.numGlyphs,_r=Ht.lineStartIndex,Cr=Ht.lineStartIndex+Ht.lineLength,Tr=ht.getoffsetX(Ht.glyphStartIndex),Nr=ht.getoffsetX(Ir-1),$r=du(Tt*Tr,bt,Pt,Rt,kt,Vt,Ht.segment,_r,Cr,Yt,Jt,ir,cr,pr,!0,xr,br,mr);if(!$r)return null;const Dr=du(Tt*Nr,bt,Pt,Rt,kt,Vt,Ht.segment,_r,Cr,Yt,Jt,ir,cr,pr,!0,xr,br,mr);return Dr?{first:$r,last:Dr}:null}function Nl(Tt,ht,bt,Pt){return Tt.writingMode===it.WritingMode.horizontal&&Math.abs(bt.y-ht.y)>Math.abs(bt.x-ht.x)*Pt?{useVertical:!0}:Tt.writingMode===it.WritingMode.vertical?ht.y<bt.y?{needsFlipping:!0}:null:Tt.flipState!==0&&function(Rt,kt,Vt){const Ht=(kt.x-Rt.x)*Vt;return Ht===0||Math.abs((kt.y-Rt.y)/Ht)>fo}(ht,bt,Pt)?Tt.flipState===1?{needsFlipping:!0}:null:ht.x>bt.x?{needsFlipping:!0}:null}function zs(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr,Ir,_r,Cr){const Tr=ht/24,Nr=Tt.lineOffsetX*Tr,$r=Tt.lineOffsetY*Tr;let Dr;if(Tt.numGlyphs>1){const Gr=Tt.glyphStartIndex+Tt.numGlyphs,mn=Tt.lineStartIndex,xn=Tt.lineStartIndex+Tt.lineLength,gn=Ko(Tr,Ht,Nr,$r,bt,cr,pr,Tt,Yt,kt,xr,mr,!1,Ir,_r,Cr);if(!gn)return{notEnoughRoom:!0};const hn=Jo(gn.first.point,Vt).point,kr=Jo(gn.last.point,Vt).point,On=new it.pointGeometry(hn[0],hn[1]),Ln=new it.pointGeometry(kr[0],kr[1]);if(Pt&&!bt){const na=Nl(Tt,On,Ln,br);if(Tt.flipState=na&&na.needsFlipping?1:2,na)return na}Dr=[gn.first];for(let na=Tt.glyphStartIndex+1;na<Gr-1;na++)Dr.push(du(Tr*Ht.getoffsetX(na),Nr,$r,bt,cr,pr,Tt.segment,mn,xn,Yt,kt,xr,mr,!1,!1,Ir,_r,Cr));Dr.push(gn.last)}else{if(Pt&&!bt){const mn=po(pr,Rt).point,xn=Tt.lineStartIndex+Tt.segment+1,gn=new it.pointGeometry(Yt.getx(xn),Yt.gety(xn)),hn=po(gn,Rt),kr=hn.signedDistanceFromCamera>0?hn.point:nu(pr,gn,mn,1,Rt,void 0,Ir,_r.canonical),On=Nl(Tt,new it.pointGeometry(mn[0],mn[1]),new it.pointGeometry(kr[0],kr[1]),br);if(Tt.flipState=On&&On.needsFlipping?1:2,On)return On}const Gr=du(Tr*Ht.getoffsetX(Tt.glyphStartIndex),Nr,$r,bt,cr,pr,Tt.segment,Tt.lineStartIndex,Tt.lineStartIndex+Tt.lineLength,Yt,kt,xr,mr,!1,!1,Ir,_r,Cr);if(!Gr)return{notEnoughRoom:!0};Dr=[Gr]}if(ir)for(const Gr of Dr)it.updateGlobeVertexNormal(ir,Jt.length+0,Gr.up[0],Gr.up[1],Gr.up[2]),it.updateGlobeVertexNormal(ir,Jt.length+1,Gr.up[0],Gr.up[1],Gr.up[2]),it.updateGlobeVertexNormal(ir,Jt.length+2,Gr.up[0],Gr.up[1],Gr.up[2]),it.updateGlobeVertexNormal(ir,Jt.length+3,Gr.up[0],Gr.up[1],Gr.up[2]),it.addDynamicAttributes(Jt,Gr.point[0],Gr.point[1],Gr.point[2],Gr.angle);else for(const Gr of Dr)it.addDynamicAttributes(Jt,Gr.point[0],Gr.point[1],Gr.point[2],Gr.angle);return{}}function ru(Tt,ht,bt,Pt,Rt){const kt=Pt.projectTilePoint(Tt.x,Tt.y,ht);if(!Rt)return po(kt,bt,kt.z);const Vt=Rt(Tt);return po(new it.pointGeometry(kt.x+Vt[0],kt.y+Vt[1]),bt,kt.z+Vt[2])}function nu(Tt,ht,bt,Pt,Rt,kt,Vt,Ht){const Yt=ru(Tt.add(Tt.sub(ht)._unit()),Ht,Rt,Vt,kt).point,Jt=it.sub([],bt,Yt);return it.scaleAndAdd([],bt,Jt,Pt/it.length(Jt))}function du(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr,Ir,_r){const Cr=Pt?Tt-ht:Tt+ht;let Tr=Cr>0?1:-1,Nr=0;Pt&&(Tr*=-1,Nr=Math.PI),Tr<0&&(Nr+=Math.PI);let $r=Tr>0?Ht+Vt:Ht+Vt+1,Dr=Rt,Gr=Rt,mn=0,xn=0;const gn=Math.abs(Cr),hn=[],kr=[];let On=kt;const Ln=()=>{const yo=$r-Tr;return mn===0?kt:new it.pointGeometry(Jt.getx(yo),Jt.gety(yo))},na=()=>nu(Ln(),On,Gr,gn-mn+1,ir,pr,mr,Ir.canonical);for(;mn+xn<=gn;){if($r+=Tr,$r<Ht||$r>=Yt)return null;if(Gr=Dr,hn.push(Dr),xr&&kr.push(On||Ln()),Dr=cr[$r],Dr===void 0){On=new it.pointGeometry(Jt.getx($r),Jt.gety($r));const yo=ru(On,Ir.canonical,ir,mr,pr);Dr=yo.signedDistanceFromCamera>0?cr[$r]=yo.point:na()}else On=null;mn+=xn,xn=it.distance(Gr,Dr)}On=On||new it.pointGeometry(Jt.getx($r),Jt.gety($r));const Tn=Ln();br&&pr&&(cr[$r]=Dr=cr[$r]===void 0?Dr:na(),xn=it.distance(Gr,Dr));const xo=(gn-mn)/xn,Jn=On.sub(Tn).mult(xo)._add(Tn),Qn=it.sub([],Dr,Gr),Yn=it.scaleAndAdd([],Gr,Qn,xo);let Zn=[0,0,1],Mo=Qn[0],Co=Qn[1];if(_r&&(Zn=mr.upVector(Ir.canonical,Jn.x,Jn.y),Zn[0]!==0||Zn[1]!==0||Zn[2]!==1)){const yo=[1,0,0],ko=[0,1,0];yo[0]=Zn[2],yo[1]=0,yo[2]=-Zn[0],it.cross(ko,Zn,yo),it.normalize(yo,yo),it.normalize(ko,ko),Mo=it.dot(Qn,yo),Co=it.dot(Qn,ko)}if(bt){const yo=it.cross([],Zn,Qn);it.normalize(yo,yo),it.scaleAndAdd(Yn,Yn,yo,bt*Tr)}const Fo=Nr+Math.atan2(Co,Mo);return hn.push(Yn),xr&&kr.push(Jn),{point:Yn,angle:Fo,path:hn,tilePath:kr,up:Zn}}const xp=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function wo(Tt,ht){for(let bt=0;bt<Tt;bt++){const Pt=ht.length;ht.resize(Pt+4),ht.float32.set(xp,4*Pt)}}function $o(Tt,ht,bt){const Pt=ht[0],Rt=ht[1];return Tt[0]=bt[0]*Pt+bt[4]*Rt+bt[12],Tt[1]=bt[1]*Pt+bt[5]*Rt+bt[13],Tt[3]=bt[3]*Pt+bt[7]*Rt+bt[15],Tt}const ls=100;class Ks{constructor(ht,bt,Pt=new Nn(ht.width+200,ht.height+200,25),Rt=new Nn(ht.width+200,ht.height+200,25)){this.transform=ht,this.grid=Pt,this.ignoredGrid=Rt,this.pitchfactor=Math.cos(ht._pitch)*ht.cameraToCenterDistance,this.screenRightBoundary=ht.width+ls,this.screenBottomBoundary=ht.height+ls,this.gridRightBoundary=ht.width+200,this.gridBottomBoundary=ht.height+200,this.fogState=bt}placeCollisionBox(ht,bt,Pt,Rt,kt,Vt,Ht,Yt){let Jt=Pt.projectedAnchorX,ir=Pt.projectedAnchorY,cr=Pt.projectedAnchorZ;const pr=Pt.elevation,xr=Pt.tileID;if(pr&&xr){const $r=ht.getProjection().upVector(xr.canonical,Pt.tileAnchorX,Pt.tileAnchorY),Dr=ht.getProjection().upVectorScale(xr.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;Jt+=$r[0]*pr*Dr,ir+=$r[1]*pr*Dr,cr+=$r[2]*pr*Dr}const br=this.projectAndGetPerspectiveRatio(Ht,[Jt,ir,cr],Pt.tileID,ht.projection.name==="globe"||!!pr||this.transform.pitch>0,ht.getProjection()),mr=Vt*br.perspectiveRatio,Ir=(Pt.x1*bt+Rt.x-Pt.padding)*mr+br.point.x,_r=(Pt.y1*bt+Rt.y-Pt.padding)*mr+br.point.y,Cr=(Pt.x2*bt+Rt.x+Pt.padding)*mr+br.point.x,Tr=(Pt.y2*bt+Rt.y+Pt.padding)*mr+br.point.y,Nr=br.perspectiveRatio<=.55||br.occluded;return!this.isInsideGrid(Ir,_r,Cr,Tr)||!kt&&this.grid.hitTest(Ir,_r,Cr,Tr,Yt)||Nr?{box:[],offscreen:!1,occluded:br.occluded}:{box:[Ir,_r,Cr,Tr],offscreen:this.isOffscreen(Ir,_r,Cr,Tr),occluded:!1}}placeCollisionCircles(ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr){const Ir=[],_r=this.transform.elevation,Cr=_r?_r.getAtTileOffsetFunc(mr,this.transform.center.lat,this.transform.worldSize,ht.getProjection()):Tn=>[0,0,0],Tr=new it.pointGeometry(Pt.tileAnchorX,Pt.tileAnchorY),Nr=ht.getProjection().projectTilePoint(Pt.tileAnchorX,Pt.tileAnchorY,mr.canonical),$r=Cr(Tr),Dr=[Nr.x+$r[0],Nr.y+$r[1],Nr.z+$r[2]],Gr=ht.projection.name==="globe",mn=this.projectAndGetPerspectiveRatio(Ht,[Dr[0],Dr[1],Dr[2]],mr,Gr||!!_r||this.transform.pitch>0,ht.getProjection()),{perspectiveRatio:xn}=mn,gn=(cr?Vt/xn:Vt*xn)/it.ONE_EM,hn=po(new it.pointGeometry(Dr[0],Dr[1]),Yt,Dr[2]).point,kr=mn.signedDistanceFromCamera>0?Ko(gn,kt,Pt.lineOffsetX*gn,Pt.lineOffsetY*gn,!1,hn,Tr,Pt,Rt,Yt,{},_r&&!cr?Cr:null,cr&&!!_r,ht.getProjection(),mr,cr):null;let On=!1,Ln=!1,na=!0;if(kr&&!mn.occluded){const Tn=.5*xr*xn+br,xo=new it.pointGeometry(-100,-100),Jn=new it.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Qn=new ts,Yn=kr.first,Zn=kr.last;let Mo=[];for(let yo=Yn.path.length-1;yo>=1;yo--)Mo.push(Yn.path[yo]);for(let yo=1;yo<Zn.path.length;yo++)Mo.push(Zn.path[yo]);const Co=2.5*Tn;if(Jt){const yo=Mo.map(_r&&!Gr?(ko,us)=>{const ps=Cr(us<Yn.path.length-1?Yn.tilePath[Yn.path.length-1-us]:Zn.tilePath[us-Yn.path.length+2]);return ko[2]=ps[2],Jo(ko,Jt)}:ko=>Jo(ko,Jt));Mo=yo.some(ko=>ko.signedDistanceFromCamera<=0)?[]:yo.map(ko=>ko.point)}let Fo=[];if(Mo.length>0){const yo=Mo.map(ys=>new it.pointGeometry(ys[0],ys[1]));let ko=1/0,us=-1/0,ps=1/0,Os=-1/0;for(let ys=0;ys<yo.length;ys++)ko=Math.min(ko,yo[ys].x),ps=Math.min(ps,yo[ys].y),us=Math.max(us,yo[ys].x),Os=Math.max(Os,yo[ys].y);Fo=ko>=xo.x&&us<=Jn.x&&ps>=xo.y&&Os<=Jn.y?[yo]:us<xo.x||ko>Jn.x||Os<xo.y||ps>Jn.y?[]:it.clipLine([yo],xo.x,xo.y,Jn.x,Jn.y)}for(const yo of Fo){Qn.reset(yo,.25*Tn);let ko=0;ko=Qn.length<=.5*Tn?1:Math.ceil(Qn.paddedLength/Co)+1;for(let us=0;us<ko;us++){const ps=us/Math.max(ko-1,1),Os=Qn.lerp(ps),ys=Os.x+ls,Ul=Os.y+ls;Ir.push(ys,Ul,Tn,0);const gu=ys-Tn,Au=Ul-Tn,Ss=ys+Tn,Ts=Ul+Tn;if(na=na&&this.isOffscreen(gu,Au,Ss,Ts),Ln=Ln||this.isInsideGrid(gu,Au,Ss,Ts),!bt&&this.grid.hitTestCircle(ys,Ul,Tn,pr)&&(On=!0,!ir))return{circles:[],offscreen:!1,collisionDetected:On,occluded:!1}}}}return{circles:!ir&&On||!Ln?[]:Ir,offscreen:na,collisionDetected:On,occluded:mn.occluded}}queryRenderedSymbols(ht){if(ht.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const bt=[];let Pt=1/0,Rt=1/0,kt=-1/0,Vt=-1/0;for(const ir of ht){const cr=new it.pointGeometry(ir.x+ls,ir.y+ls);Pt=Math.min(Pt,cr.x),Rt=Math.min(Rt,cr.y),kt=Math.max(kt,cr.x),Vt=Math.max(Vt,cr.y),bt.push(cr)}const Ht=this.grid.query(Pt,Rt,kt,Vt).concat(this.ignoredGrid.query(Pt,Rt,kt,Vt)),Yt={},Jt={};for(const ir of Ht){const cr=ir.key;if(Yt[cr.bucketInstanceId]===void 0&&(Yt[cr.bucketInstanceId]={}),Yt[cr.bucketInstanceId][cr.featureIndex])continue;const pr=[new it.pointGeometry(ir.x1,ir.y1),new it.pointGeometry(ir.x2,ir.y1),new it.pointGeometry(ir.x2,ir.y2),new it.pointGeometry(ir.x1,ir.y2)];it.polygonIntersectsPolygon(bt,pr)&&(Yt[cr.bucketInstanceId][cr.featureIndex]=!0,Jt[cr.bucketInstanceId]===void 0&&(Jt[cr.bucketInstanceId]=[]),Jt[cr.bucketInstanceId].push(cr.featureIndex))}return Jt}insertCollisionBox(ht,bt,Pt,Rt,kt){(bt?this.ignoredGrid:this.grid).insert({bucketInstanceId:Pt,featureIndex:Rt,collisionGroupID:kt},ht[0],ht[1],ht[2],ht[3])}insertCollisionCircles(ht,bt,Pt,Rt,kt){const Vt=bt?this.ignoredGrid:this.grid,Ht={bucketInstanceId:Pt,featureIndex:Rt,collisionGroupID:kt};for(let Yt=0;Yt<ht.length;Yt+=4)Vt.insertCircle(Ht,ht[Yt],ht[Yt+1],ht[Yt+2])}projectAndGetPerspectiveRatio(ht,bt,Pt,Rt,kt){const Vt=[bt[0],bt[1],bt[2],1];let Ht=!1;if(bt[2]||this.transform.pitch>0){it.transformMat4$1(Vt,Vt,ht);const Yt=kt.name==="globe";this.fogState&&Pt&&!Yt&&(Ht=function(Jt,ir,cr,pr,xr,br){const mr=br.calculateFogTileMatrix(xr),Ir=[ir,cr,pr];return it.transformMat4(Ir,Ir,mr),sr(Jt,Ir,br.pitch,br._fov)}(this.fogState,bt[0],bt[1],bt[2],Pt.toUnwrapped(),this.transform)>.9)}else $o(Vt,Vt,ht);return{point:new it.pointGeometry((Vt[0]/Vt[3]+1)/2*this.transform.width+ls,(-Vt[1]/Vt[3]+1)/2*this.transform.height+ls),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(kt)/Vt[3]*.5,1.5),signedDistanceFromCamera:Vt[3],occluded:Rt&&Vt[2]>Vt[3]||Ht}}isOffscreen(ht,bt,Pt,Rt){return Pt<ls||ht>=this.screenRightBoundary||Rt<ls||bt>this.screenBottomBoundary}isInsideGrid(ht,bt,Pt,Rt){return Pt>=0&&ht<this.gridRightBoundary&&Rt>=0&&bt<this.gridBottomBoundary}getViewportMatrix(){const ht=it.identity([]);return it.translate(ht,ht,[-100,-100,0]),ht}}function js(Tt,ht,bt){const Pt=ht.createTileMatrix(Tt,Tt.worldSize,bt.toUnwrapped());return it.multiply(new Float32Array(16),Tt.projMatrix,Pt)}function Is(Tt,ht,bt){if(ht.projection.name===bt.projection.name)return Tt.projMatrix;const Pt=bt.clone();return Pt.setProjection(ht.projection),js(Pt,ht.getProjection(),Tt)}function wu(Tt,ht,bt){return ht.name===bt.projection.name?Tt.projMatrix:js(bt,ht,Tt)}class au{constructor(ht,bt,Pt,Rt){this.opacity=ht?Math.max(0,Math.min(1,ht.opacity+(ht.placed?bt:-bt))):Rt&&Pt?1:0,this.placed=Pt}isHidden(){return this.opacity===0&&!this.placed}}class gs{constructor(ht,bt,Pt,Rt,kt,Vt=!1){this.text=new au(ht?ht.text:null,bt,Pt,kt),this.icon=new au(ht?ht.icon:null,bt,Rt,kt),this.clipped=Vt}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fl{constructor(ht,bt,Pt,Rt=!1){this.text=ht,this.icon=bt,this.skipFade=Pt,this.clipped=Rt}}class sv{constructor(){this.invProjMatrix=it.create(),this.viewportMatrix=it.create(),this.circles=[]}}class Qu{constructor(ht,bt,Pt,Rt,kt){this.bucketInstanceId=ht,this.featureIndex=bt,this.sourceLayerIndex=Pt,this.bucketIndex=Rt,this.tileID=kt}}class Ys{constructor(ht){this.crossSourceCollisions=ht,this.maxGroupID=0,this.collisionGroups={}}get(ht){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[ht]){const bt=++this.maxGroupID;this.collisionGroups[ht]={ID:bt,predicate:Pt=>Pt.collisionGroupID===bt}}return this.collisionGroups[ht]}}function bp(Tt,ht,bt,Pt,Rt){const{horizontalAlign:kt,verticalAlign:Vt}=it.getAnchorAlignment(Tt),Ht=-(kt-.5)*ht,Yt=-(Vt-.5)*bt,Jt=it.evaluateVariableOffset(Tt,Pt);return new it.pointGeometry(Ht+Jt[0]*Rt,Yt+Jt[1]*Rt)}function Ju(Tt,ht,bt,Pt,Rt){const kt=new it.pointGeometry(Tt,ht);return bt&&kt._rotate(Pt?Rt:-Rt),kt}class iu{constructor(ht,bt,Pt,Rt,kt){this.transform=ht.clone(),this.projection=ht.projection.name,this.collisionIndex=new Ks(this.transform,kt),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=bt,this.retainedQueryData={},this.collisionGroups=new Ys(Pt),this.collisionCircleArrays={},this.prevPlacement=Rt,Rt&&(Rt.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(ht,bt,Pt,Rt){const kt=Pt.getBucket(bt),Vt=Pt.latestFeatureIndex;if(!kt||!Vt||bt.id!==kt.layerIds[0])return;const Ht=kt.layers[0].layout,Yt=Pt.collisionBoxArray,Jt=Math.pow(2,this.transform.zoom-Pt.tileID.overscaledZ),ir=Pt.tileSize/it.EXTENT,cr=Pt.tileID.toUnwrapped();this.transform.setProjection(kt.projection);const pr=(xr=Pt.tileID,br=kt.getProjection(),mr=this.transform,br.name===this.projection?mr.calculateProjMatrix(xr.toUnwrapped()):js(mr,br,xr));var xr,br,mr;const Ir=Ht.get("text-pitch-alignment")==="map",_r=Ht.get("text-rotation-alignment")==="map";bt.compileFilter();const Cr=bt.dynamicFilter(),Tr=bt.dynamicFilterNeedsFeature(),Nr=this.transform.calculatePixelsToTileUnitsMatrix(Pt),$r=ho(pr,Pt.tileID.canonical,Ir,_r,this.transform,kt.getProjection(),Nr);let Dr=null;if(Ir){const xn=Qo(pr,Pt.tileID.canonical,Ir,_r,this.transform,kt.getProjection(),Nr);Dr=it.multiply([],this.transform.labelPlaneMatrix,xn)}let Gr=null;Cr&&Pt.latestFeatureIndex&&(Gr={unwrappedTileID:cr,dynamicFilter:Cr,dynamicFilterNeedsFeature:Tr,featureIndex:Pt.latestFeatureIndex}),this.retainedQueryData[kt.bucketInstanceId]=new Qu(kt.bucketInstanceId,Vt,kt.sourceLayerIndex,kt.index,Pt.tileID);const mn={bucket:kt,layout:Ht,posMatrix:pr,textLabelPlaneMatrix:$r,labelToScreenMatrix:Dr,clippingData:Gr,scale:Jt,textPixelRatio:ir,holdingForFade:Pt.holdingForFade(),collisionBoxArray:Yt,partiallyEvaluatedTextSize:it.evaluateSizeForZoom(kt.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:it.evaluateSizeForZoom(kt.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(kt.sourceID)};if(Rt)for(const xn of kt.sortKeyRanges){const{sortKey:gn,symbolInstanceStart:hn,symbolInstanceEnd:kr}=xn;ht.push({sortKey:gn,symbolInstanceStart:hn,symbolInstanceEnd:kr,parameters:mn})}else ht.push({symbolInstanceStart:0,symbolInstanceEnd:kt.symbolInstances.length,parameters:mn})}attemptAnchorPlacement(ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr,Ir,_r,Cr){const Tr=[pr.textOffset0,pr.textOffset1],Nr=bp(ht,Pt,Rt,Tr,kt),$r=this.collisionIndex.placeCollisionBox(br,kt,bt,Ju(Nr.x,Nr.y,Vt,Ht,this.transform.angle),cr,Yt,Jt,ir.predicate);if((!Ir||this.collisionIndex.placeCollisionBox(br,br.getSymbolInstanceIconSize(Cr,this.transform.zoom,xr),Ir,Ju(Nr.x,Nr.y,Vt,Ht,this.transform.angle),cr,Yt,Jt,ir.predicate).box.length!==0)&&$r.box.length>0){let Dr;return this.prevPlacement&&this.prevPlacement.variableOffsets[pr.crossTileID]&&this.prevPlacement.placements[pr.crossTileID]&&this.prevPlacement.placements[pr.crossTileID].text&&(Dr=this.prevPlacement.variableOffsets[pr.crossTileID].anchor),this.variableOffsets[pr.crossTileID]={textOffset:Tr,width:Pt,height:Rt,anchor:ht,textScale:kt,prevAnchor:Dr},this.markUsedJustification(br,ht,pr,mr),br.allowVerticalPlacement&&(this.markUsedOrientation(br,mr,pr),this.placedOrientations[pr.crossTileID]=mr),{shift:Nr,placedGlyphBoxes:$r}}}placeLayerBucketPart(ht,bt,Pt,Rt){const{bucket:kt,layout:Vt,posMatrix:Ht,textLabelPlaneMatrix:Yt,labelToScreenMatrix:Jt,clippingData:ir,textPixelRatio:cr,holdingForFade:pr,collisionBoxArray:xr,partiallyEvaluatedTextSize:br,partiallyEvaluatedIconSize:mr,collisionGroup:Ir}=ht.parameters,_r=Vt.get("text-optional"),Cr=Vt.get("icon-optional"),Tr=Vt.get("text-allow-overlap"),Nr=Vt.get("icon-allow-overlap"),$r=Vt.get("text-rotation-alignment")==="map",Dr=Vt.get("text-pitch-alignment")==="map",Gr=Vt.get("icon-text-fit")!=="none",mn=Vt.get("symbol-z-order")==="viewport-y";this.transform.setProjection(kt.projection);let xn=Tr&&(Nr||!kt.hasIconData()||Cr),gn=Nr&&(Tr||!kt.hasTextData()||_r);!kt.collisionArrays&&xr&&kt.deserializeCollisionBoxes(xr),Pt&&Rt&&kt.updateCollisionDebugBuffers(this.transform.zoom,xr);const hn=(kr,On,Ln)=>{if(ir){const Ss={zoom:this.transform.zoom,pitch:this.transform.pitch};let Ts=null;if(ir.dynamicFilterNeedsFeature){const fs=this.retainedQueryData[kt.bucketInstanceId];Ts=ir.featureIndex.loadFeature({featureIndex:kr.featureIndex,bucketIndex:fs.bucketIndex,sourceLayerIndex:fs.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,ir.dynamicFilter)(Ss,Ts,this.retainedQueryData[kt.bucketInstanceId].tileID.canonical,new it.pointGeometry(kr.tileAnchorX,kr.tileAnchorY),this.transform.calculateDistanceTileData(ir.unwrappedTileID)))return this.placements[kr.crossTileID]=new Fl(!1,!1,!1,!0),void(bt[kr.crossTileID]=!0)}if(bt[kr.crossTileID])return;if(pr)return void(this.placements[kr.crossTileID]=new Fl(!1,!1,!1));let na=!1,Tn=!1,xo=!0,Jn=!1,Qn=!1,Yn=null,Zn={box:null,offscreen:null,occluded:null},Mo={box:null,offscreen:null,occluded:null},Co=null,Fo=null,yo=null,ko=0,us=0,ps=0;Ln.textFeatureIndex?ko=Ln.textFeatureIndex:kr.useRuntimeCollisionCircles&&(ko=kr.featureIndex),Ln.verticalTextFeatureIndex&&(us=Ln.verticalTextFeatureIndex);const Os=Ss=>{Ss.tileID=this.retainedQueryData[kt.bucketInstanceId].tileID,(this.transform.elevation||Ss.elevation)&&(Ss.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[kt.bucketInstanceId].tileID,Ss.tileAnchorX,Ss.tileAnchorY):0)},ys=Ln.textBox;if(ys){Os(ys);const Ss=fs=>{let Bs=it.WritingMode.horizontal;if(kt.allowVerticalPlacement&&!fs&&this.prevPlacement){const Qs=this.prevPlacement.placedOrientations[kr.crossTileID];Qs&&(this.placedOrientations[kr.crossTileID]=Qs,Bs=Qs,this.markUsedOrientation(kt,Bs,kr))}return Bs},Ts=(fs,Bs)=>{if(kt.allowVerticalPlacement&&kr.numVerticalGlyphVertices>0&&Ln.verticalTextBox){for(const Qs of kt.writingModes)if(Qs===it.WritingMode.vertical?(Zn=Bs(),Mo=Zn):Zn=fs(),Zn&&Zn.box&&Zn.box.length)break}else Zn=fs()};if(Vt.get("text-variable-anchor")){let fs=Vt.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[kr.crossTileID]){const es=this.prevPlacement.variableOffsets[kr.crossTileID];fs.indexOf(es.anchor)>0&&(fs=fs.filter(Pl=>Pl!==es.anchor),fs.unshift(es.anchor))}const Bs=(es,Pl,dp)=>{const uu=kt.getSymbolInstanceTextSize(br,kr,this.transform.zoom,On),Wp=(es.x2-es.x1)*uu+2*es.padding,Kp=(es.y2-es.y1)*uu+2*es.padding,Uu=Gr&&!Nr?Pl:null;Uu&&Os(Uu);let Vs={box:[],offscreen:!1,occluded:!1};const yu=Tr?2*fs.length:fs.length;for(let Pu=0;Pu<yu;++Pu){const Iv=this.attemptAnchorPlacement(fs[Pu%fs.length],es,Wp,Kp,uu,$r,Dr,cr,Ht,Ir,Pu>=fs.length,kr,On,kt,dp,Uu,br,mr);if(Iv&&(Vs=Iv.placedGlyphBoxes,Vs&&Vs.box&&Vs.box.length)){na=!0,Yn=Iv.shift;break}}return Vs};Ts(()=>Bs(ys,Ln.iconBox,it.WritingMode.horizontal),()=>{const es=Ln.verticalTextBox;return es&&Os(es),kt.allowVerticalPlacement&&!(Zn&&Zn.box&&Zn.box.length)&&kr.numVerticalGlyphVertices>0&&es?Bs(es,Ln.verticalIconBox,it.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Zn&&(na=Zn.box,xo=Zn.offscreen,Jn=Zn.occluded);const Qs=Ss(Zn&&Zn.box);if(!na&&this.prevPlacement){const es=this.prevPlacement.variableOffsets[kr.crossTileID];es&&(this.variableOffsets[kr.crossTileID]=es,this.markUsedJustification(kt,es.anchor,kr,Qs))}}else{const fs=(Bs,Qs)=>{const es=kt.getSymbolInstanceTextSize(br,kr,this.transform.zoom,On),Pl=this.collisionIndex.placeCollisionBox(kt,es,Bs,new it.pointGeometry(0,0),Tr,cr,Ht,Ir.predicate);return Pl&&Pl.box&&Pl.box.length&&(this.markUsedOrientation(kt,Qs,kr),this.placedOrientations[kr.crossTileID]=Qs),Pl};Ts(()=>fs(ys,it.WritingMode.horizontal),()=>{const Bs=Ln.verticalTextBox;return kt.allowVerticalPlacement&&kr.numVerticalGlyphVertices>0&&Bs?(Os(Bs),fs(Bs,it.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Ss(Zn&&Zn.box&&Zn.box.length)}}if(Co=Zn,na=Co&&Co.box&&Co.box.length>0,xo=Co&&Co.offscreen,Jn=Co&&Co.occluded,kr.useRuntimeCollisionCircles){const Ss=kt.text.placedSymbolArray.get(kr.centerJustifiedTextSymbolIndex>=0?kr.centerJustifiedTextSymbolIndex:kr.verticalPlacedTextSymbolIndex),Ts=it.evaluateSizeForFeature(kt.textSizeData,br,Ss),fs=Vt.get("text-padding");Fo=this.collisionIndex.placeCollisionCircles(kt,Tr,Ss,kt.lineVertexArray,kt.glyphOffsetArray,Ts,Ht,Yt,Jt,Pt,Dr,Ir.predicate,kr.collisionCircleDiameter*Ts/it.ONE_EM,fs,this.retainedQueryData[kt.bucketInstanceId].tileID),na=Tr||Fo.circles.length>0&&!Fo.collisionDetected,xo=xo&&Fo.offscreen,Jn=Fo.occluded}if(Ln.iconFeatureIndex&&(ps=Ln.iconFeatureIndex),Ln.iconBox){const Ss=Ts=>{Os(Ts);const fs=Gr&&Yn?Ju(Yn.x,Yn.y,$r,Dr,this.transform.angle):new it.pointGeometry(0,0),Bs=kt.getSymbolInstanceIconSize(mr,this.transform.zoom,On);return this.collisionIndex.placeCollisionBox(kt,Bs,Ts,fs,Nr,cr,Ht,Ir.predicate)};Mo&&Mo.box&&Mo.box.length&&Ln.verticalIconBox?(yo=Ss(Ln.verticalIconBox),Tn=yo.box.length>0):(yo=Ss(Ln.iconBox),Tn=yo.box.length>0),xo=xo&&yo.offscreen,Qn=yo.occluded}const Ul=_r||kr.numHorizontalGlyphVertices===0&&kr.numVerticalGlyphVertices===0,gu=Cr||kr.numIconVertices===0;if(Ul||gu?gu?Ul||(Tn=Tn&&na):na=Tn&&na:Tn=na=Tn&&na,na&&Co&&Co.box&&this.collisionIndex.insertCollisionBox(Co.box,Vt.get("text-ignore-placement"),kt.bucketInstanceId,Mo&&Mo.box&&us?us:ko,Ir.ID),Tn&&yo&&this.collisionIndex.insertCollisionBox(yo.box,Vt.get("icon-ignore-placement"),kt.bucketInstanceId,ps,Ir.ID),Fo&&(na&&this.collisionIndex.insertCollisionCircles(Fo.circles,Vt.get("text-ignore-placement"),kt.bucketInstanceId,ko,Ir.ID),Pt)){const Ss=kt.bucketInstanceId;let Ts=this.collisionCircleArrays[Ss];Ts===void 0&&(Ts=this.collisionCircleArrays[Ss]=new sv);for(let fs=0;fs<Fo.circles.length;fs+=4)Ts.circles.push(Fo.circles[fs+0]),Ts.circles.push(Fo.circles[fs+1]),Ts.circles.push(Fo.circles[fs+2]),Ts.circles.push(Fo.collisionDetected?1:0)}const Au=kt.projection.name!=="globe";xn=xn&&(Au||!Jn),gn=gn&&(Au||!Qn),this.placements[kr.crossTileID]=new Fl(na||xn,Tn||gn,xo||kt.justReloaded),bt[kr.crossTileID]=!0};if(mn){const kr=kt.getSortedSymbolIndexes(this.transform.angle);for(let On=kr.length-1;On>=0;--On){const Ln=kr[On];hn(kt.symbolInstances.get(Ln),Ln,kt.collisionArrays[Ln])}}else for(let kr=ht.symbolInstanceStart;kr<ht.symbolInstanceEnd;kr++)hn(kt.symbolInstances.get(kr),kr,kt.collisionArrays[kr]);if(Pt&&kt.bucketInstanceId in this.collisionCircleArrays){const kr=this.collisionCircleArrays[kt.bucketInstanceId];it.invert(kr.invProjMatrix,Ht),kr.viewportMatrix=this.collisionIndex.getViewportMatrix()}kt.justReloaded=!1}markUsedJustification(ht,bt,Pt,Rt){let kt;kt=Rt===it.WritingMode.vertical?Pt.verticalPlacedTextSymbolIndex:{left:Pt.leftJustifiedTextSymbolIndex,center:Pt.centerJustifiedTextSymbolIndex,right:Pt.rightJustifiedTextSymbolIndex}[it.getAnchorJustification(bt)];const Vt=[Pt.leftJustifiedTextSymbolIndex,Pt.centerJustifiedTextSymbolIndex,Pt.rightJustifiedTextSymbolIndex,Pt.verticalPlacedTextSymbolIndex];for(const Ht of Vt)Ht>=0&&(ht.text.placedSymbolArray.get(Ht).crossTileID=kt>=0&&Ht!==kt?0:Pt.crossTileID)}markUsedOrientation(ht,bt,Pt){const Rt=bt===it.WritingMode.horizontal||bt===it.WritingMode.horizontalOnly?bt:0,kt=bt===it.WritingMode.vertical?bt:0,Vt=[Pt.leftJustifiedTextSymbolIndex,Pt.centerJustifiedTextSymbolIndex,Pt.rightJustifiedTextSymbolIndex];for(const Ht of Vt)ht.text.placedSymbolArray.get(Ht).placedOrientation=Rt;Pt.verticalPlacedTextSymbolIndex&&(ht.text.placedSymbolArray.get(Pt.verticalPlacedTextSymbolIndex).placedOrientation=kt)}commit(ht){this.commitTime=ht,this.zoomAtLastRecencyCheck=this.transform.zoom;const bt=this.prevPlacement;let Pt=!1;this.prevZoomAdjustment=bt?bt.zoomAdjustment(this.transform.zoom):0;const Rt=bt?bt.symbolFadeChange(ht):1,kt=bt?bt.opacities:{},Vt=bt?bt.variableOffsets:{},Ht=bt?bt.placedOrientations:{};for(const Yt in this.placements){const Jt=this.placements[Yt],ir=kt[Yt];ir?(this.opacities[Yt]=new gs(ir,Rt,Jt.text,Jt.icon,null,Jt.clipped),Pt=Pt||Jt.text!==ir.text.placed||Jt.icon!==ir.icon.placed):(this.opacities[Yt]=new gs(null,Rt,Jt.text,Jt.icon,Jt.skipFade,Jt.clipped),Pt=Pt||Jt.text||Jt.icon)}for(const Yt in kt){const Jt=kt[Yt];if(!this.opacities[Yt]){const ir=new gs(Jt,Rt,!1,!1);ir.isHidden()||(this.opacities[Yt]=ir,Pt=Pt||Jt.text.placed||Jt.icon.placed)}}for(const Yt in Vt)this.variableOffsets[Yt]||!this.opacities[Yt]||this.opacities[Yt].isHidden()||(this.variableOffsets[Yt]=Vt[Yt]);for(const Yt in Ht)this.placedOrientations[Yt]||!this.opacities[Yt]||this.opacities[Yt].isHidden()||(this.placedOrientations[Yt]=Ht[Yt]);Pt?this.lastPlacementChangeTime=ht:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=bt?bt.lastPlacementChangeTime:ht)}updateLayerOpacities(ht,bt){const Pt={};for(const Rt of bt){const kt=Rt.getBucket(ht);kt&&Rt.latestFeatureIndex&&ht.id===kt.layerIds[0]&&this.updateBucketOpacities(kt,Pt,Rt.collisionBoxArray)}}updateBucketOpacities(ht,bt,Pt){ht.hasTextData()&&ht.text.opacityVertexArray.clear(),ht.hasIconData()&&ht.icon.opacityVertexArray.clear(),ht.hasIconCollisionBoxData()&&ht.iconCollisionBox.collisionVertexArray.clear(),ht.hasTextCollisionBoxData()&&ht.textCollisionBox.collisionVertexArray.clear();const Rt=ht.layers[0].layout,kt=!!ht.layers[0].dynamicFilter(),Vt=new gs(null,0,!1,!1,!0),Ht=Rt.get("text-allow-overlap"),Yt=Rt.get("icon-allow-overlap"),Jt=Rt.get("text-variable-anchor"),ir=Rt.get("text-rotation-alignment")==="map",cr=Rt.get("text-pitch-alignment")==="map",pr=Rt.get("icon-text-fit")!=="none",xr=new gs(null,0,Ht&&(Yt||!ht.hasIconData()||Rt.get("icon-optional")),Yt&&(Ht||!ht.hasTextData()||Rt.get("text-optional")),!0);!ht.collisionArrays&&Pt&&(ht.hasIconCollisionBoxData()||ht.hasTextCollisionBoxData())&&ht.deserializeCollisionBoxes(Pt);const br=(Ir,_r,Cr)=>{for(let Tr=0;Tr<_r/4;Tr++)Ir.opacityVertexArray.emplaceBack(Cr)};let mr=0;for(let Ir=0;Ir<ht.symbolInstances.length;Ir++){const _r=ht.symbolInstances.get(Ir),{numHorizontalGlyphVertices:Cr,numVerticalGlyphVertices:Tr,crossTileID:Nr}=_r;let $r=this.opacities[Nr];bt[Nr]?$r=Vt:$r||($r=xr,this.opacities[Nr]=$r),bt[Nr]=!0;const Dr=Cr>0||Tr>0,Gr=_r.numIconVertices>0,mn=this.placedOrientations[_r.crossTileID],xn=mn===it.WritingMode.vertical,gn=mn===it.WritingMode.horizontal||mn===it.WritingMode.horizontalOnly;if(!Dr&&!Gr||$r.isHidden()||mr++,Dr){const hn=ou($r.text);br(ht.text,Cr,xn?Cu:hn),br(ht.text,Tr,gn?Cu:hn);const kr=$r.text.isHidden();[_r.rightJustifiedTextSymbolIndex,_r.centerJustifiedTextSymbolIndex,_r.leftJustifiedTextSymbolIndex].forEach(na=>{na>=0&&(ht.text.placedSymbolArray.get(na).hidden=kr||xn?1:0)}),_r.verticalPlacedTextSymbolIndex>=0&&(ht.text.placedSymbolArray.get(_r.verticalPlacedTextSymbolIndex).hidden=kr||gn?1:0);const On=this.variableOffsets[_r.crossTileID];On&&this.markUsedJustification(ht,On.anchor,_r,mn);const Ln=this.placedOrientations[_r.crossTileID];Ln&&(this.markUsedJustification(ht,"left",_r,Ln),this.markUsedOrientation(ht,Ln,_r))}if(Gr){const hn=ou($r.icon);_r.placedIconSymbolIndex>=0&&(br(ht.icon,_r.numIconVertices,xn?Cu:hn),ht.icon.placedSymbolArray.get(_r.placedIconSymbolIndex).hidden=$r.icon.isHidden()),_r.verticalPlacedIconSymbolIndex>=0&&(br(ht.icon,_r.numVerticalIconVertices,gn?Cu:hn),ht.icon.placedSymbolArray.get(_r.verticalPlacedIconSymbolIndex).hidden=$r.icon.isHidden())}if(ht.hasIconCollisionBoxData()||ht.hasTextCollisionBoxData()){const hn=ht.collisionArrays[Ir];if(hn){let kr=new it.pointGeometry(0,0),On=!0;if(hn.textBox||hn.verticalTextBox){if(Jt){const na=this.variableOffsets[Nr];na?(kr=bp(na.anchor,na.width,na.height,na.textOffset,na.textScale),ir&&kr._rotate(cr?this.transform.angle:-this.transform.angle)):On=!1}kt&&(On=!$r.clipped),hn.textBox&&hu(ht.textCollisionBox.collisionVertexArray,$r.text.placed,!On||xn,kr.x,kr.y),hn.verticalTextBox&&hu(ht.textCollisionBox.collisionVertexArray,$r.text.placed,!On||gn,kr.x,kr.y)}const Ln=On&&Boolean(!gn&&hn.verticalIconBox);hn.iconBox&&hu(ht.iconCollisionBox.collisionVertexArray,$r.icon.placed,Ln,pr?kr.x:0,pr?kr.y:0),hn.verticalIconBox&&hu(ht.iconCollisionBox.collisionVertexArray,$r.icon.placed,!Ln,pr?kr.x:0,pr?kr.y:0)}}}if(ht.fullyClipped=mr===0,ht.sortFeatures(this.transform.angle),this.retainedQueryData[ht.bucketInstanceId]&&(this.retainedQueryData[ht.bucketInstanceId].featureSortOrder=ht.featureSortOrder),ht.hasTextData()&&ht.text.opacityVertexBuffer&&ht.text.opacityVertexBuffer.updateData(ht.text.opacityVertexArray),ht.hasIconData()&&ht.icon.opacityVertexBuffer&&ht.icon.opacityVertexBuffer.updateData(ht.icon.opacityVertexArray),ht.hasIconCollisionBoxData()&&ht.iconCollisionBox.collisionVertexBuffer&&ht.iconCollisionBox.collisionVertexBuffer.updateData(ht.iconCollisionBox.collisionVertexArray),ht.hasTextCollisionBoxData()&&ht.textCollisionBox.collisionVertexBuffer&&ht.textCollisionBox.collisionVertexBuffer.updateData(ht.textCollisionBox.collisionVertexArray),ht.bucketInstanceId in this.collisionCircleArrays){const Ir=this.collisionCircleArrays[ht.bucketInstanceId];ht.placementInvProjMatrix=Ir.invProjMatrix,ht.placementViewportMatrix=Ir.viewportMatrix,ht.collisionCircleArray=Ir.circles,delete this.collisionCircleArrays[ht.bucketInstanceId]}}symbolFadeChange(ht){return this.fadeDuration===0?1:(ht-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(ht){return Math.max(0,(this.transform.zoom-ht)/1.5)}hasTransitions(ht){return this.stale||ht-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(ht,bt){const Pt=this.zoomAtLastRecencyCheck===bt?1-this.zoomAdjustment(bt):1;return this.zoomAtLastRecencyCheck=bt,this.commitTime+this.fadeDuration*Pt>ht}setStale(){this.stale=!0}}function hu(Tt,ht,bt,Pt,Rt){Tt.emplaceBack(ht?1:0,bt?1:0,Pt||0,Rt||0),Tt.emplaceBack(ht?1:0,bt?1:0,Pt||0,Rt||0),Tt.emplaceBack(ht?1:0,bt?1:0,Pt||0,Rt||0),Tt.emplaceBack(ht?1:0,bt?1:0,Pt||0,Rt||0)}const Sp=Math.pow(2,25),Bm=Math.pow(2,24),_f=Math.pow(2,17),Ru=Math.pow(2,16),Vm=Math.pow(2,9),Hv=Math.pow(2,8),Du=Math.pow(2,1);function ou(Tt){if(Tt.opacity===0&&!Tt.placed)return 0;if(Tt.opacity===1&&Tt.placed)return 4294967295;const ht=Tt.placed?1:0,bt=Math.floor(127*Tt.opacity);return bt*Sp+ht*Bm+bt*_f+ht*Ru+bt*Vm+ht*Hv+bt*Du+ht}const Cu=0;class zl{constructor(ht){this._sortAcrossTiles=ht.layout.get("symbol-z-order")!=="viewport-y"&&ht.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(ht,bt,Pt,Rt,kt){const Vt=this._bucketParts;for(;this._currentTileIndex<ht.length;)if(bt.getBucketParts(Vt,Rt,ht[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,kt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Vt.sort((Ht,Yt)=>Ht.sortKey-Yt.sortKey));this._currentPartIndex<Vt.length;){const Ht=Vt[this._currentPartIndex];if(bt.placeLayerBucketPart(Ht,this._seenCrossTileIDs,Pt,Ht.symbolInstanceStart===0),this._currentPartIndex++,kt())return!0}return!1}}class wp{constructor(ht,bt,Pt,Rt,kt,Vt,Ht,Yt){this.placement=new iu(ht,kt,Vt,Ht,Yt),this._currentPlacementIndex=bt.length-1,this._forceFullPlacement=Pt,this._showCollisionBoxes=Rt,this._done=!1}isDone(){return this._done}continuePlacement(ht,bt,Pt){const Rt=it.exported.now(),kt=()=>{const Vt=it.exported.now()-Rt;return!this._forceFullPlacement&&Vt>2};for(;this._currentPlacementIndex>=0;){const Vt=bt[ht[this._currentPlacementIndex]],Ht=this.placement.collisionIndex.transform.zoom;if(Vt.type==="symbol"&&(!Vt.minzoom||Vt.minzoom<=Ht)&&(!Vt.maxzoom||Vt.maxzoom>Ht)){if(this._inProgressLayer||(this._inProgressLayer=new zl(Vt)),this._inProgressLayer.continuePlacement(Pt[Vt.source],this.placement,this._showCollisionBoxes,Vt,kt))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(ht){return this.placement.commit(ht),this.placement}}const Cp=512/it.EXTENT/2;class Um{constructor(ht,bt,Pt){this.tileID=ht,this.indexedSymbolInstances={},this.bucketInstanceId=Pt;for(let Rt=0;Rt<bt.length;Rt++){const kt=bt.get(Rt),Vt=kt.key;this.indexedSymbolInstances[Vt]||(this.indexedSymbolInstances[Vt]=[]),this.indexedSymbolInstances[Vt].push({crossTileID:kt.crossTileID,coord:this.getScaledCoordinates(kt,ht)})}}getScaledCoordinates(ht,bt){const Pt=Cp/Math.pow(2,bt.canonical.z-this.tileID.canonical.z);return{x:Math.floor((bt.canonical.x*it.EXTENT+ht.tileAnchorX)*Pt),y:Math.floor((bt.canonical.y*it.EXTENT+ht.tileAnchorY)*Pt)}}findMatches(ht,bt,Pt){const Rt=this.tileID.canonical.z<bt.canonical.z?1:Math.pow(2,this.tileID.canonical.z-bt.canonical.z);for(let kt=0;kt<ht.length;kt++){const Vt=ht.get(kt);if(Vt.crossTileID)continue;const Ht=this.indexedSymbolInstances[Vt.key];if(!Ht)continue;const Yt=this.getScaledCoordinates(Vt,bt);for(const Jt of Ht)if(Math.abs(Jt.coord.x-Yt.x)<=Rt&&Math.abs(Jt.coord.y-Yt.y)<=Rt&&!Pt[Jt.crossTileID]){Pt[Jt.crossTileID]=!0,Vt.crossTileID=Jt.crossTileID;break}}}}class Wv{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class lv{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(ht){const bt=Math.round((ht-this.lng)/360);if(bt!==0)for(const Pt in this.indexes){const Rt=this.indexes[Pt],kt={};for(const Vt in Rt){const Ht=Rt[Vt];Ht.tileID=Ht.tileID.unwrapTo(Ht.tileID.wrap+bt),kt[Ht.tileID.key]=Ht}this.indexes[Pt]=kt}this.lng=ht}addBucket(ht,bt,Pt){if(this.indexes[ht.overscaledZ]&&this.indexes[ht.overscaledZ][ht.key]){if(this.indexes[ht.overscaledZ][ht.key].bucketInstanceId===bt.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(ht.overscaledZ,this.indexes[ht.overscaledZ][ht.key])}for(let kt=0;kt<bt.symbolInstances.length;kt++)bt.symbolInstances.get(kt).crossTileID=0;this.usedCrossTileIDs[ht.overscaledZ]||(this.usedCrossTileIDs[ht.overscaledZ]={});const Rt=this.usedCrossTileIDs[ht.overscaledZ];for(const kt in this.indexes){const Vt=this.indexes[kt];if(Number(kt)>ht.overscaledZ)for(const Ht in Vt){const Yt=Vt[Ht];Yt.tileID.isChildOf(ht)&&Yt.findMatches(bt.symbolInstances,ht,Rt)}else{const Ht=Vt[ht.scaledTo(Number(kt)).key];Ht&&Ht.findMatches(bt.symbolInstances,ht,Rt)}}for(let kt=0;kt<bt.symbolInstances.length;kt++){const Vt=bt.symbolInstances.get(kt);Vt.crossTileID||(Vt.crossTileID=Pt.generate(),Rt[Vt.crossTileID]=!0)}return this.indexes[ht.overscaledZ]===void 0&&(this.indexes[ht.overscaledZ]={}),this.indexes[ht.overscaledZ][ht.key]=new Um(ht,bt.symbolInstances,bt.bucketInstanceId),!0}removeBucketCrossTileIDs(ht,bt){for(const Pt in bt.indexedSymbolInstances)for(const Rt of bt.indexedSymbolInstances[Pt])delete this.usedCrossTileIDs[ht][Rt.crossTileID]}removeStaleBuckets(ht){let bt=!1;for(const Pt in this.indexes){const Rt=this.indexes[Pt];for(const kt in Rt)ht[Rt[kt].bucketInstanceId]||(this.removeBucketCrossTileIDs(Pt,Rt[kt]),delete Rt[kt],bt=!0)}return bt}}class Kv{constructor(){this.layerIndexes={},this.crossTileIDs=new Wv,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(ht,bt,Pt,Rt){let kt=this.layerIndexes[ht.id];kt===void 0&&(kt=this.layerIndexes[ht.id]=new lv);let Vt=!1;const Ht={};Rt.name!=="globe"&&kt.handleWrapJump(Pt);for(const Yt of bt){const Jt=Yt.getBucket(ht);Jt&&ht.id===Jt.layerIds[0]&&(Jt.bucketInstanceId||(Jt.bucketInstanceId=++this.maxBucketInstanceId),kt.addBucket(Yt.tileID,Jt,this.crossTileIDs)&&(Vt=!0),Ht[Jt.bucketInstanceId]=!0)}return kt.removeStaleBuckets(Ht)&&(Vt=!0),Vt}pruneUnusedLayers(ht){const bt={};ht.forEach(Pt=>{bt[Pt]=!0});for(const Pt in this.layerIndexes)bt[Pt]||delete this.layerIndexes[Pt]}}const Lu=(Tt,ht)=>it.emitValidationErrors(Tt,ht&&ht.filter(bt=>bt.identifier!=="source.canvas")),jm=it.pick(Ur,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Yv=it.pick(Ur,["setCenter","setZoom","setBearing","setPitch"]),qv={version:8,layers:[],sources:{}},uv={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Bl extends it.Evented{constructor(ht,bt={}){super(),this.map=ht,this.dispatcher=new Mr(qn(),this),this.imageManager=new Ut,this.imageManager.setEventedParent(this),this.glyphManager=new it.GlyphManager(ht._requestManager,bt.localFontFamily?it.LocalGlyphMode.all:bt.localIdeographFontFamily?it.LocalGlyphMode.ideographs:it.LocalGlyphMode.none,bt.localFontFamily||bt.localIdeographFontFamily),this.lineAtlas=new it.LineAtlas(256,512),this.crossTileSymbolIndex=new Kv,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new it.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",it.getReferrer());const Pt=this;this._rtlTextPluginCallback=Bl.registerForPluginStateChange(Rt=>{Pt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Rt.pluginStatus,pluginURL:Rt.pluginURL},(kt,Vt)=>{if(it.triggerPluginCompletionEvent(kt),Vt&&Vt.every(Ht=>Ht))for(const Ht in Pt._sourceCaches){const Yt=Pt._sourceCaches[Ht],Jt=Yt.getSource().type;Jt!=="vector"&&Jt!=="geojson"||Yt.reload()}})}),this.on("data",Rt=>{if(Rt.dataType!=="source"||Rt.sourceDataType!=="metadata")return;const kt=this.getSource(Rt.sourceId);if(kt&&kt.vectorLayerIds)for(const Vt in this._layers){const Ht=this._layers[Vt];Ht.source===kt.id&&this._validateLayer(Ht)}})}loadURL(ht,bt={}){this.fire(new it.Event("dataloading",{dataType:"style"}));const Pt=typeof bt.validate=="boolean"?bt.validate:!it.isMapboxURL(ht);ht=this.map._requestManager.normalizeStyleURL(ht,bt.accessToken);const Rt=this.map._requestManager.transformRequest(ht,it.ResourceType.Style);this._request=it.getJSON(Rt,(kt,Vt)=>{this._request=null,kt?this.fire(new it.ErrorEvent(kt)):Vt&&this._load(Vt,Pt)})}loadJSON(ht,bt={}){this.fire(new it.Event("dataloading",{dataType:"style"})),this._request=it.exported.frame(()=>{this._request=null,this._load(ht,bt.validate!==!1)})}loadEmpty(){this.fire(new it.Event("dataloading",{dataType:"style"})),this._load(qv,!1)}_updateLayerCount(ht,bt){const Pt=bt?1:-1;ht.is3D()&&(this._num3DLayers+=Pt),ht.type==="circle"&&(this._numCircleLayers+=Pt),ht.type==="symbol"&&(this._numSymbolLayers+=Pt)}_load(ht,bt){if(bt&&Lu(this,it.validateStyle(ht)))return;this._loaded=!0,this.stylesheet=it.clone$1(ht),this._updateMapProjection();for(const Rt in ht.sources)this.addSource(Rt,ht.sources[Rt],{validate:!1});this._changed=!1,ht.sprite?this._loadSprite(ht.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(ht.glyphs);const Pt=bo(this.stylesheet.layers);this._order=Pt.map(Rt=>Rt.id),this._layers={},this._serializedLayers={};for(let Rt of Pt)Rt=it.createStyleLayer(Rt),Rt.setEventedParent(this,{layer:{id:Rt.id}}),this._layers[Rt.id]=Rt,this._serializedLayers[Rt.id]=Rt.serialize(),this._updateLayerCount(Rt,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Qt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new it.Event("data",{dataType:"style"})),this.fire(new it.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(ht){ht?this.stylesheet.projection=ht:delete this.stylesheet.projection,this.map._explicitProjection||this.map._updateProjection()}_updateMapProjection(){this.map._explicitProjection?this.applyProjectionUpdate():this.map._updateProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_loadSprite(ht){this._spriteRequest=function(bt,Pt,Rt){let kt,Vt,Ht;const Yt=it.exported.devicePixelRatio>1?"@2x":"";let Jt=it.getJSON(Pt.transformRequest(Pt.normalizeSpriteURL(bt,Yt,".json"),it.ResourceType.SpriteJSON),(pr,xr)=>{Jt=null,Ht||(Ht=pr,kt=xr,cr())}),ir=it.getImage(Pt.transformRequest(Pt.normalizeSpriteURL(bt,Yt,".png"),it.ResourceType.SpriteImage),(pr,xr)=>{ir=null,Ht||(Ht=pr,Vt=xr,cr())});function cr(){if(Ht)Rt(Ht);else if(kt&&Vt){const pr=it.exported.getImageData(Vt),xr={};for(const br in kt){const{width:mr,height:Ir,x:_r,y:Cr,sdf:Tr,pixelRatio:Nr,stretchX:$r,stretchY:Dr,content:Gr}=kt[br],mn=new it.RGBAImage({width:mr,height:Ir});it.RGBAImage.copy(pr,mn,{x:_r,y:Cr},{x:0,y:0},{width:mr,height:Ir}),xr[br]={data:mn,pixelRatio:Nr,sdf:Tr,stretchX:$r,stretchY:Dr,content:Gr}}Rt(null,xr)}}return{cancel(){Jt&&(Jt.cancel(),Jt=null),ir&&(ir.cancel(),ir=null)}}}(ht,this.map._requestManager,(bt,Pt)=>{if(this._spriteRequest=null,bt)this.fire(new it.ErrorEvent(bt));else if(Pt)for(const Rt in Pt)this.imageManager.addImage(Rt,Pt[Rt]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new it.Event("data",{dataType:"style"}))})}_validateLayer(ht){const bt=this.getSource(ht.source);if(!bt)return;const Pt=ht.sourceLayer;Pt&&(bt.type==="geojson"||bt.vectorLayerIds&&bt.vectorLayerIds.indexOf(Pt)===-1)&&this.fire(new it.ErrorEvent(new Error(`Source layer "${Pt}" does not exist on source "${bt.id}" as specified by style layer "${ht.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const ht in this._sourceCaches)if(!this._sourceCaches[ht].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(ht){const bt=[];for(const Pt of ht){const Rt=this._layers[Pt];Rt.type!=="custom"&&bt.push(Rt.serialize())}return bt}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const ht in this._sourceCaches)if(this._sourceCaches[ht].hasTransition())return!0;for(const ht in this._layers)if(this._layers[ht].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(ht){return!!this.terrain&&uv[ht.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(ht){if(!this._loaded)return;const bt=this._changed;if(this._changed){const Rt=Object.keys(this._updatedLayers),kt=Object.keys(this._removedLayers);(Rt.length||kt.length)&&this._updateWorkerLayers(Rt,kt);for(const Vt in this._updatedSources){const Ht=this._updatedSources[Vt];Ht==="reload"?this._reloadSource(Vt):Ht==="clear"&&this._clearSource(Vt)}this._updateTilesForChangedImages();for(const Vt in this._updatedPaintProps)this._layers[Vt].updateTransitions(ht);this.light.updateTransitions(ht),this.fog&&this.fog.updateTransitions(ht),this._resetUpdates()}const Pt={};for(const Rt in this._sourceCaches){const kt=this._sourceCaches[Rt];Pt[Rt]=kt.used,kt.used=!1}for(const Rt of this._order){const kt=this._layers[Rt];if(kt.recalculate(ht,this._availableImages),!kt.isHidden(ht.zoom)){const Ht=this._getLayerSourceCache(kt);Ht&&(Ht.used=!0)}const Vt=this.map.painter;if(Vt){const Ht=kt.getProgramIds();if(!Ht)continue;const Yt=kt.getProgramConfiguration(ht.zoom);for(const Jt of Ht)Vt.useProgram(Jt,Yt)}}for(const Rt in Pt){const kt=this._sourceCaches[Rt];Pt[Rt]!==kt.used&&kt.getSource().fire(new it.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:kt.getSource().id}))}this.light.recalculate(ht),this.terrain&&this.terrain.recalculate(ht),this.fog&&this.fog.recalculate(ht),this.z=ht.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),bt&&this.fire(new it.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const ht=Object.keys(this._changedImages);if(ht.length){for(const bt in this._sourceCaches)this._sourceCaches[bt].reloadTilesForDependencies(["icons","patterns"],ht);this._changedImages={}}}_updateWorkerLayers(ht,bt){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ht),removedIds:bt})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(ht){if(this._checkLoaded(),Lu(this,it.validateStyle(ht)))return!1;(ht=it.clone$1(ht)).layers=bo(ht.layers);const bt=function(Rt,kt){if(!Rt)return[{command:Ur.setStyle,args:[kt]}];let Vt=[];try{if(!st(Rt.version,kt.version))return[{command:Ur.setStyle,args:[kt]}];st(Rt.center,kt.center)||Vt.push({command:Ur.setCenter,args:[kt.center]}),st(Rt.zoom,kt.zoom)||Vt.push({command:Ur.setZoom,args:[kt.zoom]}),st(Rt.bearing,kt.bearing)||Vt.push({command:Ur.setBearing,args:[kt.bearing]}),st(Rt.pitch,kt.pitch)||Vt.push({command:Ur.setPitch,args:[kt.pitch]}),st(Rt.sprite,kt.sprite)||Vt.push({command:Ur.setSprite,args:[kt.sprite]}),st(Rt.glyphs,kt.glyphs)||Vt.push({command:Ur.setGlyphs,args:[kt.glyphs]}),st(Rt.transition,kt.transition)||Vt.push({command:Ur.setTransition,args:[kt.transition]}),st(Rt.light,kt.light)||Vt.push({command:Ur.setLight,args:[kt.light]}),st(Rt.fog,kt.fog)||Vt.push({command:Ur.setFog,args:[kt.fog]}),st(Rt.projection,kt.projection)||Vt.push({command:Ur.setProjection,args:[kt.projection]});const Ht={},Yt=[];(function(cr,pr,xr,br){let mr;for(mr in pr=pr||{},cr=cr||{})cr.hasOwnProperty(mr)&&(pr.hasOwnProperty(mr)||Ho(mr,xr,br));for(mr in pr)pr.hasOwnProperty(mr)&&(cr.hasOwnProperty(mr)?st(cr[mr],pr[mr])||(cr[mr].type==="geojson"&&pr[mr].type==="geojson"&&Ws(cr,pr,mr)?xr.push({command:Ur.setGeoJSONSourceData,args:[mr,pr[mr].data]}):Xo(mr,pr,xr,br)):ss(mr,pr,xr))})(Rt.sources,kt.sources,Yt,Ht);const Jt=[];Rt.layers&&Rt.layers.forEach(cr=>{cr.source&&Ht[cr.source]?Vt.push({command:Ur.removeLayer,args:[cr.id]}):Jt.push(cr)});let ir=Rt.terrain;ir&&Ht[ir.source]&&(Vt.push({command:Ur.setTerrain,args:[void 0]}),ir=void 0),Vt=Vt.concat(Yt),st(ir,kt.terrain)||Vt.push({command:Ur.setTerrain,args:[kt.terrain]}),function(cr,pr,xr){pr=pr||[];const br=(cr=cr||[]).map(Al),mr=pr.map(Al),Ir=cr.reduce(Ol,{}),_r=pr.reduce(Ol,{}),Cr=br.slice(),Tr=Object.create(null);let Nr,$r,Dr,Gr,mn,xn,gn;for(Nr=0,$r=0;Nr<br.length;Nr++)Dr=br[Nr],_r.hasOwnProperty(Dr)?$r++:(xr.push({command:Ur.removeLayer,args:[Dr]}),Cr.splice(Cr.indexOf(Dr,$r),1));for(Nr=0,$r=0;Nr<mr.length;Nr++)Dr=mr[mr.length-1-Nr],Cr[Cr.length-1-Nr]!==Dr&&(Ir.hasOwnProperty(Dr)?(xr.push({command:Ur.removeLayer,args:[Dr]}),Cr.splice(Cr.lastIndexOf(Dr,Cr.length-$r),1)):$r++,xn=Cr[Cr.length-Nr],xr.push({command:Ur.addLayer,args:[_r[Dr],xn]}),Cr.splice(Cr.length-Nr,0,Dr),Tr[Dr]=!0);for(Nr=0;Nr<mr.length;Nr++)if(Dr=mr[Nr],Gr=Ir[Dr],mn=_r[Dr],!Tr[Dr]&&!st(Gr,mn))if(st(Gr.source,mn.source)&&st(Gr["source-layer"],mn["source-layer"])&&st(Gr.type,mn.type)){for(gn in Cs(Gr.layout,mn.layout,xr,Dr,null,Ur.setLayoutProperty),Cs(Gr.paint,mn.paint,xr,Dr,null,Ur.setPaintProperty),st(Gr.filter,mn.filter)||xr.push({command:Ur.setFilter,args:[Dr,mn.filter]}),st(Gr.minzoom,mn.minzoom)&&st(Gr.maxzoom,mn.maxzoom)||xr.push({command:Ur.setLayerZoomRange,args:[Dr,mn.minzoom,mn.maxzoom]}),Gr)Gr.hasOwnProperty(gn)&&gn!=="layout"&&gn!=="paint"&&gn!=="filter"&&gn!=="metadata"&&gn!=="minzoom"&&gn!=="maxzoom"&&(gn.indexOf("paint.")===0?Cs(Gr[gn],mn[gn],xr,Dr,gn.slice(6),Ur.setPaintProperty):st(Gr[gn],mn[gn])||xr.push({command:Ur.setLayerProperty,args:[Dr,gn,mn[gn]]}));for(gn in mn)mn.hasOwnProperty(gn)&&!Gr.hasOwnProperty(gn)&&gn!=="layout"&&gn!=="paint"&&gn!=="filter"&&gn!=="metadata"&&gn!=="minzoom"&&gn!=="maxzoom"&&(gn.indexOf("paint.")===0?Cs(Gr[gn],mn[gn],xr,Dr,gn.slice(6),Ur.setPaintProperty):st(Gr[gn],mn[gn])||xr.push({command:Ur.setLayerProperty,args:[Dr,gn,mn[gn]]}))}else xr.push({command:Ur.removeLayer,args:[Dr]}),xn=Cr[Cr.lastIndexOf(Dr)+1],xr.push({command:Ur.addLayer,args:[mn,xn]})}(Jt,kt.layers,Vt)}catch(Ht){console.warn("Unable to compute style diff:",Ht),Vt=[{command:Ur.setStyle,args:[kt]}]}return Vt}(this.serialize(),ht).filter(Rt=>!(Rt.command in Yv));if(bt.length===0)return!1;const Pt=bt.filter(Rt=>!(Rt.command in jm));if(Pt.length>0)throw new Error(`Unimplemented: ${Pt.map(Rt=>Rt.command).join(", ")}.`);return bt.forEach(Rt=>{Rt.command!=="setTransition"&&this[Rt.command].apply(this,Rt.args)}),this.stylesheet=ht,this._updateMapProjection(),!0}addImage(ht,bt){return this.getImage(ht)?this.fire(new it.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(ht,bt),this._afterImageUpdated(ht),this)}updateImage(ht,bt){this.imageManager.updateImage(ht,bt)}getImage(ht){return this.imageManager.getImage(ht)}removeImage(ht){return this.getImage(ht)?(this.imageManager.removeImage(ht),this._afterImageUpdated(ht),this):this.fire(new it.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(ht){this._availableImages=this.imageManager.listImages(),this._changedImages[ht]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new it.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(ht,bt,Pt={}){if(this._checkLoaded(),this.getSource(ht)!==void 0)throw new Error("There is already a source with this ID");if(!bt.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(bt).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(bt.type)>=0&&this._validate(it.validateSource,`sources.${ht}`,bt,null,Pt))return;this.map&&this.map._collectResourceTiming&&(bt.collectResourceTiming=!0);const Rt=Zr(ht,bt,this.dispatcher,this);Rt.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(ht),source:Rt.serialize(),sourceId:ht}));const kt=Vt=>{const Ht=(Vt?"symbol:":"other:")+ht,Yt=this._sourceCaches[Ht]=new it.SourceCache(Ht,Rt,Vt);(Vt?this._symbolSourceCaches:this._otherSourceCaches)[ht]=Yt,Yt.style=this,Yt.onAdd(this.map)};kt(!1),bt.type!=="vector"&&bt.type!=="geojson"||kt(!0),Rt.onAdd&&Rt.onAdd(this.map),this._changed=!0}removeSource(ht){this._checkLoaded();const bt=this.getSource(ht);if(!bt)throw new Error("There is no source with this ID");for(const Rt in this._layers)if(this._layers[Rt].source===ht)return this.fire(new it.ErrorEvent(new Error(`Source "${ht}" cannot be removed while layer "${Rt}" is using it.`)));if(this.terrain&&this.terrain.get().source===ht)return this.fire(new it.ErrorEvent(new Error(`Source "${ht}" cannot be removed while terrain is using it.`)));const Pt=this._getSourceCaches(ht);for(const Rt of Pt)delete this._sourceCaches[Rt.id],delete this._updatedSources[Rt.id],Rt.fire(new it.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Rt.getSource().id})),Rt.setEventedParent(null),Rt.clearTiles();return delete this._otherSourceCaches[ht],delete this._symbolSourceCaches[ht],bt.setEventedParent(null),bt.onRemove&&bt.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(ht,bt){this._checkLoaded(),this.getSource(ht).setData(bt),this._changed=!0}getSource(ht){const bt=this._getSourceCache(ht);return bt&&bt.getSource()}addLayer(ht,bt,Pt={}){this._checkLoaded();const Rt=ht.id;if(this.getLayer(Rt))return void this.fire(new it.ErrorEvent(new Error(`Layer with id "${Rt}" already exists on this map`)));let kt;if(ht.type==="custom"){if(Lu(this,it.validateCustomStyleLayer(ht)))return;kt=it.createStyleLayer(ht)}else{if(typeof ht.source=="object"&&(this.addSource(Rt,ht.source),ht=it.clone$1(ht),ht=it.extend(ht,{source:Rt})),this._validate(it.validateLayer,`layers.${Rt}`,ht,{arrayIndex:-1},Pt))return;kt=it.createStyleLayer(ht),this._validateLayer(kt),kt.setEventedParent(this,{layer:{id:Rt}}),this._serializedLayers[kt.id]=kt.serialize(),this._updateLayerCount(kt,!0)}const Vt=bt?this._order.indexOf(bt):this._order.length;if(bt&&Vt===-1)return void this.fire(new it.ErrorEvent(new Error(`Layer with id "${bt}" does not exist on this map.`)));this._order.splice(Vt,0,Rt),this._layerOrderChanged=!0,this._layers[Rt]=kt;const Ht=this._getLayerSourceCache(kt);if(this._removedLayers[Rt]&&kt.source&&Ht&&kt.type!=="custom"){const Yt=this._removedLayers[Rt];delete this._removedLayers[Rt],Yt.type!==kt.type?this._updatedSources[kt.source]="clear":(this._updatedSources[kt.source]="reload",Ht.pause())}this._updateLayer(kt),kt.onAdd&&kt.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(ht,bt){if(this._checkLoaded(),this._changed=!0,!this._layers[ht])return void this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style and cannot be moved.`)));if(ht===bt)return;const Pt=this._order.indexOf(ht);this._order.splice(Pt,1);const Rt=bt?this._order.indexOf(bt):this._order.length;bt&&Rt===-1?this.fire(new it.ErrorEvent(new Error(`Layer with id "${bt}" does not exist on this map.`))):(this._order.splice(Rt,0,ht),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(ht){this._checkLoaded();const bt=this._layers[ht];if(!bt)return void this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style and cannot be removed.`)));bt.setEventedParent(null),this._updateLayerCount(bt,!1);const Pt=this._order.indexOf(ht);this._order.splice(Pt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ht]=bt,delete this._layers[ht],delete this._serializedLayers[ht],delete this._updatedLayers[ht],delete this._updatedPaintProps[ht],bt.onRemove&&bt.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(ht){return this._layers[ht]}hasLayer(ht){return ht in this._layers}hasLayerType(ht){for(const bt in this._layers)if(this._layers[bt].type===ht)return!0;return!1}setLayerZoomRange(ht,bt,Pt){this._checkLoaded();const Rt=this.getLayer(ht);Rt?Rt.minzoom===bt&&Rt.maxzoom===Pt||(bt!=null&&(Rt.minzoom=bt),Pt!=null&&(Rt.maxzoom=Pt),this._updateLayer(Rt)):this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(ht,bt,Pt={}){this._checkLoaded();const Rt=this.getLayer(ht);if(Rt){if(!st(Rt.filter,bt))return bt==null?(Rt.filter=void 0,void this._updateLayer(Rt)):void(this._validate(it.validateFilter,`layers.${Rt.id}.filter`,bt,{layerType:Rt.type},Pt)||(Rt.filter=it.clone$1(bt),this._updateLayer(Rt)))}else this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style and cannot be filtered.`)))}getFilter(ht){const bt=this.getLayer(ht);return bt&&it.clone$1(bt.filter)}setLayoutProperty(ht,bt,Pt,Rt={}){this._checkLoaded();const kt=this.getLayer(ht);kt?st(kt.getLayoutProperty(bt),Pt)||(kt.setLayoutProperty(bt,Pt,Rt),this._updateLayer(kt)):this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(ht,bt){const Pt=this.getLayer(ht);if(Pt)return Pt.getLayoutProperty(bt);this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style.`)))}setPaintProperty(ht,bt,Pt,Rt={}){this._checkLoaded();const kt=this.getLayer(ht);kt?st(kt.getPaintProperty(bt),Pt)||(kt.setPaintProperty(bt,Pt,Rt)&&this._updateLayer(kt),this._changed=!0,this._updatedPaintProps[ht]=!0):this.fire(new it.ErrorEvent(new Error(`The layer '${ht}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(ht,bt){const Pt=this.getLayer(ht);return Pt&&Pt.getPaintProperty(bt)}setFeatureState(ht,bt){this._checkLoaded();const Pt=ht.source,Rt=ht.sourceLayer,kt=this.getSource(Pt);if(!kt)return void this.fire(new it.ErrorEvent(new Error(`The source '${Pt}' does not exist in the map's style.`)));const Vt=kt.type;if(Vt==="geojson"&&Rt)return void this.fire(new it.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(Vt==="vector"&&!Rt)return void this.fire(new it.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));ht.id===void 0&&this.fire(new it.ErrorEvent(new Error("The feature id parameter must be provided.")));const Ht=this._getSourceCaches(Pt);for(const Yt of Ht)Yt.setFeatureState(Rt,ht.id,bt)}removeFeatureState(ht,bt){this._checkLoaded();const Pt=ht.source,Rt=this.getSource(Pt);if(!Rt)return void this.fire(new it.ErrorEvent(new Error(`The source '${Pt}' does not exist in the map's style.`)));const kt=Rt.type,Vt=kt==="vector"?ht.sourceLayer:void 0;if(kt==="vector"&&!Vt)return void this.fire(new it.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(bt&&typeof ht.id!="string"&&typeof ht.id!="number")return void this.fire(new it.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const Ht=this._getSourceCaches(Pt);for(const Yt of Ht)Yt.removeFeatureState(Vt,ht.id,bt)}getFeatureState(ht){this._checkLoaded();const bt=ht.source,Pt=ht.sourceLayer,Rt=this.getSource(bt);if(Rt){if(Rt.type!=="vector"||Pt)return ht.id===void 0&&this.fire(new it.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(bt)[0].getFeatureState(Pt,ht.id);this.fire(new it.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new it.ErrorEvent(new Error(`The source '${bt}' does not exist in the map's style.`)))}getTransition(){return it.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const ht={};for(const bt in this._sourceCaches){const Pt=this._sourceCaches[bt].getSource();ht[Pt.id]||(ht[Pt.id]=Pt.serialize())}return it.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:ht,layers:this._serializeLayers(this._order)},bt=>bt!==void 0)}_updateLayer(ht){this._updatedLayers[ht.id]=!0;const bt=this._getLayerSourceCache(ht);ht.source&&!this._updatedSources[ht.source]&&bt&&bt.getSource().type!=="raster"&&(this._updatedSources[ht.source]="reload",bt.pause()),this._changed=!0,ht.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(ht){const bt=Vt=>this._layers[Vt].type==="fill-extrusion",Pt={},Rt=[];for(let Vt=this._order.length-1;Vt>=0;Vt--){const Ht=this._order[Vt];if(bt(Ht)){Pt[Ht]=Vt;for(const Yt of ht){const Jt=Yt[Ht];if(Jt)for(const ir of Jt)Rt.push(ir)}}}Rt.sort((Vt,Ht)=>Ht.intersectionZ-Vt.intersectionZ);const kt=[];for(let Vt=this._order.length-1;Vt>=0;Vt--){const Ht=this._order[Vt];if(bt(Ht))for(let Yt=Rt.length-1;Yt>=0;Yt--){const Jt=Rt[Yt].feature;if(Pt[Jt.layer.id]<Vt)break;kt.push(Jt),Rt.pop()}else for(const Yt of ht){const Jt=Yt[Ht];if(Jt)for(const ir of Jt)kt.push(ir.feature)}}return kt}queryRenderedFeatures(ht,bt,Pt){bt&&bt.filter&&this._validate(it.validateFilter,"queryRenderedFeatures.filter",bt.filter,null,bt);const Rt={};if(bt&&bt.layers){if(!Array.isArray(bt.layers))return this.fire(new it.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const Yt of bt.layers){const Jt=this._layers[Yt];if(!Jt)return this.fire(new it.ErrorEvent(new Error(`The layer '${Yt}' does not exist in the map's style and cannot be queried for features.`))),[];Rt[Jt.source]=!0}}const kt=[];bt.availableImages=this._availableImages;const Vt=bt&&bt.layers?bt.layers.some(Yt=>{const Jt=this.getLayer(Yt);return Jt&&Jt.is3D()}):this.has3DLayers(),Ht=Br.createFromScreenPoints(ht,Pt);for(const Yt in this._sourceCaches){const Jt=this._sourceCaches[Yt].getSource().id;bt.layers&&!Rt[Jt]||kt.push(Gn(this._sourceCaches[Yt],this._layers,this._serializedLayers,Ht,bt,Pt,Vt,!!this.map._showQueryGeometry))}return this.placement&&kt.push(function(Yt,Jt,ir,cr,pr,xr,br){const mr={},Ir=xr.queryRenderedSymbols(cr),_r=[];for(const Cr of Object.keys(Ir).map(Number))_r.push(br[Cr]);_r.sort(ga);for(const Cr of _r){const Tr=Cr.featureIndex.lookupSymbolFeatures(Ir[Cr.bucketInstanceId],Jt,Cr.bucketIndex,Cr.sourceLayerIndex,pr.filter,pr.layers,pr.availableImages,Yt);for(const Nr in Tr){const $r=mr[Nr]=mr[Nr]||[],Dr=Tr[Nr];Dr.sort((Gr,mn)=>{const xn=Cr.featureSortOrder;if(xn){const gn=xn.indexOf(Gr.featureIndex);return xn.indexOf(mn.featureIndex)-gn}return mn.featureIndex-Gr.featureIndex});for(const Gr of Dr)$r.push(Gr)}}for(const Cr in mr)mr[Cr].forEach(Tr=>{const Nr=Tr.feature,$r=ir(Yt[Cr]).getFeatureState(Nr.layer["source-layer"],Nr.id);Nr.source=Nr.layer.source,Nr.layer["source-layer"]&&(Nr.sourceLayer=Nr.layer["source-layer"]),Nr.state=$r});return mr}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),Ht.screenGeometry,bt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(kt)}querySourceFeatures(ht,bt){bt&&bt.filter&&this._validate(it.validateFilter,"querySourceFeatures.filter",bt.filter,null,bt);const Pt=this._getSourceCaches(ht);let Rt=[];for(const kt of Pt)Rt=Rt.concat(Cn(kt,bt));return Rt}addSourceType(ht,bt,Pt){return Bl.getSourceType(ht)?Pt(new Error(`A source type called "${ht}" already exists.`)):(Bl.setSourceType(ht,bt),bt.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:ht,url:bt.workerSourceURL},Pt):Pt(null,null))}getLight(){return this.light.getLight()}setLight(ht,bt={}){this._checkLoaded();const Pt=this.light.getLight();let Rt=!1;for(const Vt in ht)if(!st(ht[Vt],Pt[Vt])){Rt=!0;break}if(!Rt)return;const kt=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(ht,bt),this.light.updateTransitions(kt)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(ht,bt=1){if(this._checkLoaded(),!ht)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(bt===1){if(typeof ht.source=="object"){const Pt="terrain-dem-src";this.addSource(Pt,ht.source),ht=it.clone$1(ht),ht=it.extend(ht,{source:Pt})}if(this._validate(it.validateTerrain,"terrain",ht))return}if(!this.terrain||this.terrain&&bt!==this.terrain.drapeRenderMode)this._createTerrain(ht,bt);else{const Pt=this.terrain,Rt=Pt.get();for(const kt of Object.keys(it.spec.terrain))!ht.hasOwnProperty(kt)&&it.spec.terrain[kt].default&&(ht[kt]=it.spec.terrain[kt].default);for(const kt in ht)if(!st(ht[kt],Rt[kt])){Pt.set(ht),this.stylesheet.terrain=ht;const Vt=this._setTransitionParameters({duration:0});Pt.updateTransitions(Vt);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(ht){const bt=this.fog=new wr(ht,this.map.transform);this.stylesheet.fog=ht;const Pt=this._setTransitionParameters({duration:0});bt.updateTransitions(Pt)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const ht of this.map._markers)ht._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(ht){if(this._checkLoaded(),!ht)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const bt=this.fog,Pt=bt.get();Object.keys(ht).length===0&&bt.set(ht);for(const Rt in ht)if(!st(ht[Rt],Pt[Rt])){bt.set(ht),this.stylesheet.fog=ht;const kt=this._setTransitionParameters({duration:0});bt.updateTransitions(kt);break}}else this._createFog(ht);this._markersNeedUpdate=!0}_setTransitionParameters(ht){return{now:it.exported.now(),transition:it.extend(ht,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const ht=this._order.filter(Pt=>this.isLayerDraped(this._layers[Pt])),bt=this._order.filter(Pt=>!this.isLayerDraped(this._layers[Pt]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...ht),this._drapedFirstOrder.push(...bt)}_createTerrain(ht,bt){const Pt=this.terrain=new dr(ht,bt);this.stylesheet.terrain=ht,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const Rt=this._setTransitionParameters({duration:0});Pt.updateTransitions(Rt)}_force3DLayerUpdate(){for(const ht in this._layers){const bt=this._layers[ht];bt.type==="fill-extrusion"&&this._updateLayer(bt)}}_forceSymbolLayerUpdate(){for(const ht in this._layers){const bt=this._layers[ht];bt.type==="symbol"&&this._updateLayer(bt)}}_validate(ht,bt,Pt,Rt,kt={}){return(!kt||kt.validate!==!1)&&Lu(this,ht.call(it.validateStyle,it.extend({key:bt,style:this.serialize(),value:Pt,styleSpec:it.spec},Rt)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),it.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const ht in this._layers)this._layers[ht].setEventedParent(null);for(const ht in this._sourceCaches)this._sourceCaches[ht].clearTiles(),this._sourceCaches[ht].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(ht){const bt=this._getSourceCaches(ht);for(const Pt of bt)Pt.clearTiles()}_reloadSource(ht){const bt=this._getSourceCaches(ht);for(const Pt of bt)Pt.resume(),Pt.reload()}_updateSources(ht){for(const bt in this._sourceCaches)this._sourceCaches[bt].update(ht)}_generateCollisionBoxes(){for(const ht in this._sourceCaches){const bt=this._sourceCaches[ht];bt.resume(),bt.reload()}}_updatePlacement(ht,bt,Pt,Rt,kt=!1){let Vt=!1,Ht=!1;const Yt={};for(const Jt of this._order){const ir=this._layers[Jt];if(ir.type!=="symbol")continue;if(!Yt[ir.source]){const pr=this._getLayerSourceCache(ir);if(!pr)continue;Yt[ir.source]=pr.getRenderableIds(!0).map(xr=>pr.getTileByID(xr)).sort((xr,br)=>br.tileID.overscaledZ-xr.tileID.overscaledZ||(xr.tileID.isLessThan(br.tileID)?-1:1))}const cr=this.crossTileSymbolIndex.addLayer(ir,Yt[ir.source],ht.center.lng,ht.projection);Vt=Vt||cr}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),kt=kt||this._layerOrderChanged||Pt===0,this._layerOrderChanged&&this.fire(new it.Event("neworder")),(kt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(it.exported.now(),ht.zoom))&&(this.pauseablePlacement=new wp(ht,this._order,kt,bt,Pt,Rt,this.placement,this.fog&&ht.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Yt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(it.exported.now()),Ht=!0),Vt&&this.pauseablePlacement.placement.setStale()),Ht||Vt)for(const Jt of this._order){const ir=this._layers[Jt];ir.type==="symbol"&&this.placement.updateLayerOpacities(ir,Yt[ir.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(it.exported.now())}_releaseSymbolFadeTiles(){for(const ht in this._sourceCaches)this._sourceCaches[ht].releaseSymbolFadeTiles()}getImages(ht,bt,Pt){this.imageManager.getImages(bt.icons,Pt),this._updateTilesForChangedImages();const Rt=kt=>{kt&&kt.setDependencies(bt.tileID.key,bt.type,bt.icons)};Rt(this._otherSourceCaches[bt.source]),Rt(this._symbolSourceCaches[bt.source])}getGlyphs(ht,bt,Pt){this.glyphManager.getGlyphs(bt.stacks,Pt)}getResource(ht,bt,Pt){return it.makeRequest(bt,Pt)}_getSourceCache(ht){return this._otherSourceCaches[ht]}_getLayerSourceCache(ht){return ht.type==="symbol"?this._symbolSourceCaches[ht.source]:this._otherSourceCaches[ht.source]}_getSourceCaches(ht){const bt=[];return this._otherSourceCaches[ht]&&bt.push(this._otherSourceCaches[ht]),this._symbolSourceCaches[ht]&&bt.push(this._symbolSourceCaches[ht]),bt}_isSourceCacheLoaded(ht){const bt=this._getSourceCaches(ht);return bt.length===0?(this.fire(new it.ErrorEvent(new Error(`There is no source with ID '${ht}'`))),!1):bt.every(Pt=>Pt.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Bl.getSourceType=function(Tt){return Or[Tt]},Bl.setSourceType=function(Tt,ht){Or[Tt]=ht},Bl.registerForPluginStateChange=it.registerForPluginStateChange;var Tp=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,cv="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let _d={},Hl={};_d=rs("",`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {return currentElevation(apos);}
#endif
float unpack_depth(vec4 rgba_depth)
{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,!0),Hl=rs(`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,!0);const Ep=rs(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef TERRAIN
highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#endif`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Ou=Tp,Tu=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Ap={background:rs(`uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:rs(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:rs(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);
#else 
mat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;
#else
vec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:rs("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:rs(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
vec3 pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:rs(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:rs("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:rs("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:rs("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:rs(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:rs(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:rs(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:rs(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:rs(`varying vec4 v_color;void main() {vec4 color=v_color;
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);
#else
vec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(pos.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:rs(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);
#else
vec3 p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:rs(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:rs(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:rs(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
#ifdef RENDER_LINE_GRADIENT
highp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);
#else
vec4 out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:rs(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:rs(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:rs(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
vec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
vec4 offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:rs(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
vec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
vec4 offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:rs(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
vec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:rs(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef FOG
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
}`),terrainDepth:rs(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:rs(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cv),skyboxGradient:rs(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cv),skyboxCapture:rs(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:rs(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);vec4 color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
vec4 color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 merc_pos=a_merc_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;uv=uv*EXTENT;vec4 up_vector=vec4(elevationVector(uv),1.0);float height=elevation(uv);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector.xyz*height;vec4 globe=u_globe_matrix*vec4(globe_pos,1.0);vec4 mercator=vec4(0.0);if (u_zoom_transition > 0.0) {mercator=vec4(merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;}vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:rs(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);
#ifdef PROJECTION_GLOBE_VIEW
float globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));float horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
float horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function rs(Tt,ht,bt){const Pt=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Rt=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,kt=ht.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),Vt=Tt.match(Rt),Ht=ht.match(Rt),Yt=Tp.match(Rt);let Jt=Ht?Ht.concat(Vt):Vt;bt||(_d.staticUniforms&&(Jt=_d.staticUniforms.concat(Jt)),Hl.staticUniforms&&(Jt=Hl.staticUniforms.concat(Jt))),Jt&&(Jt=Jt.concat(Yt));const ir={};return{fragmentSource:Tt=Tt.replace(Pt,(cr,pr,xr,br,mr)=>(ir[mr]=!0,pr==="define"?`
#ifndef HAS_UNIFORM_u_${mr}
varying ${xr} ${br} ${mr};
#else
uniform ${xr} ${br} u_${mr};
#endif
`:`
#ifdef HAS_UNIFORM_u_${mr}
    ${xr} ${br} ${mr} = u_${mr};
#endif
`)),vertexSource:ht=ht.replace(Pt,(cr,pr,xr,br,mr)=>{const Ir=br==="float"?"vec2":"vec4",_r=mr.match(/color/)?"color":Ir;return ir[mr]?pr==="define"?`
#ifndef HAS_UNIFORM_u_${mr}
uniform lowp float u_${mr}_t;
attribute ${xr} ${Ir} a_${mr};
varying ${xr} ${br} ${mr};
#else
uniform ${xr} ${br} u_${mr};
#endif
`:_r==="vec4"?`
#ifndef HAS_UNIFORM_u_${mr}
    ${mr} = a_${mr};
#else
    ${xr} ${br} ${mr} = u_${mr};
#endif
`:`
#ifndef HAS_UNIFORM_u_${mr}
    ${mr} = unpack_mix_${_r}(a_${mr}, u_${mr}_t);
#else
    ${xr} ${br} ${mr} = u_${mr};
#endif
`:pr==="define"?`
#ifndef HAS_UNIFORM_u_${mr}
uniform lowp float u_${mr}_t;
attribute ${xr} ${Ir} a_${mr};
#else
uniform ${xr} ${br} u_${mr};
#endif
`:_r==="vec4"?`
#ifndef HAS_UNIFORM_u_${mr}
    ${xr} ${br} ${mr} = a_${mr};
#else
    ${xr} ${br} ${mr} = u_${mr};
#endif
`:`
#ifndef HAS_UNIFORM_u_${mr}
    ${xr} ${br} ${mr} = unpack_mix_${_r}(a_${mr}, u_${mr}_t);
#else
    ${xr} ${br} ${mr} = u_${mr};
#endif
`}),staticAttributes:kt,staticUniforms:Jt}}class fv{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt){this.context=ht;let ir=this.boundPaintVertexBuffers.length!==Rt.length;for(let cr=0;!ir&&cr<Rt.length;cr++)this.boundPaintVertexBuffers[cr]!==Rt[cr]&&(ir=!0);ht.extVertexArrayObject&&this.vao&&this.boundProgram===bt&&this.boundLayoutVertexBuffer===Pt&&!ir&&this.boundIndexBuffer===kt&&this.boundVertexOffset===Vt&&this.boundDynamicVertexBuffer===Ht&&this.boundDynamicVertexBuffer2===Yt&&this.boundDynamicVertexBuffer3===Jt?(ht.bindVertexArrayOES.set(this.vao),Ht&&Ht.bind(),kt&&kt.dynamicDraw&&kt.bind(),Yt&&Yt.bind(),Jt&&Jt.bind()):this.freshBind(bt,Pt,Rt,kt,Vt,Ht,Yt,Jt)}freshBind(ht,bt,Pt,Rt,kt,Vt,Ht,Yt){let Jt;const ir=ht.numAttributes,cr=this.context,pr=cr.gl;if(cr.extVertexArrayObject)this.vao&&this.destroy(),this.vao=cr.extVertexArrayObject.createVertexArrayOES(),cr.bindVertexArrayOES.set(this.vao),Jt=0,this.boundProgram=ht,this.boundLayoutVertexBuffer=bt,this.boundPaintVertexBuffers=Pt,this.boundIndexBuffer=Rt,this.boundVertexOffset=kt,this.boundDynamicVertexBuffer=Vt,this.boundDynamicVertexBuffer2=Ht,this.boundDynamicVertexBuffer3=Yt;else{Jt=cr.currentNumAttributes||0;for(let xr=ir;xr<Jt;xr++)pr.disableVertexAttribArray(xr)}bt.enableAttributes(pr,ht);for(const xr of Pt)xr.enableAttributes(pr,ht);Vt&&Vt.enableAttributes(pr,ht),Ht&&Ht.enableAttributes(pr,ht),Yt&&Yt.enableAttributes(pr,ht),bt.bind(),bt.setVertexAttribPointers(pr,ht,kt);for(const xr of Pt)xr.bind(),xr.setVertexAttribPointers(pr,ht,kt);Vt&&(Vt.bind(),Vt.setVertexAttribPointers(pr,ht,kt)),Rt&&Rt.bind(),Ht&&(Ht.bind(),Ht.setVertexAttribPointers(pr,ht,kt)),Yt&&(Yt.bind(),Yt.setVertexAttribPointers(pr,ht,kt)),cr.currentNumAttributes=ir}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function dv(Tt,ht){const bt=Math.pow(2,ht.canonical.z),Pt=ht.canonical.y;return[new it.MercatorCoordinate(0,Pt/bt).toLngLat().lat,new it.MercatorCoordinate(0,(Pt+1)/bt).toLngLat().lat]}function Zv(Tt,ht,bt,Pt,Rt,kt,Vt){const Ht=Tt.context,Yt=Ht.gl,Jt=bt.fbo;if(!Jt)return;Tt.prepareDrawTile();const ir=Tt.useProgram("hillshade");Ht.activeTexture.set(Yt.TEXTURE0),Yt.bindTexture(Yt.TEXTURE_2D,Jt.colorAttachment.get());const cr=((mr,Ir,_r,Cr)=>{const Tr=_r.paint.get("hillshade-shadow-color"),Nr=_r.paint.get("hillshade-highlight-color"),$r=_r.paint.get("hillshade-accent-color");let Dr=_r.paint.get("hillshade-illumination-direction")*(Math.PI/180);_r.paint.get("hillshade-illumination-anchor")==="viewport"&&(Dr-=mr.transform.angle);const Gr=!mr.options.moving;return{u_matrix:Cr||mr.transform.calculateProjMatrix(Ir.tileID.toUnwrapped(),Gr),u_image:0,u_latrange:dv(0,Ir.tileID),u_light:[_r.paint.get("hillshade-exaggeration"),Dr],u_shadow:Tr,u_highlight:Nr,u_accent:$r}})(Tt,bt,Pt,Tt.terrain?ht.projMatrix:null);Tt.prepareDrawProgram(Ht,ir,ht.toUnwrapped());const{tileBoundsBuffer:pr,tileBoundsIndexBuffer:xr,tileBoundsSegments:br}=Tt.getTileBoundsBuffers(bt);ir.draw(Ht,Yt.TRIANGLES,Rt,kt,Vt,it.CullFaceMode.disabled,cr,Pt.id,pr,xr,br)}function _h(Tt,ht,bt){if(!ht.needsDEMTextureUpload)return;const Pt=Tt.context,Rt=Pt.gl;Pt.pixelStoreUnpackPremultiplyAlpha.set(!1),ht.demTexture=ht.demTexture||Tt.getTileTexture(bt.stride);const kt=bt.getPixels();ht.demTexture?ht.demTexture.update(kt,{premultiply:!1}):ht.demTexture=new it.Texture(Pt,kt,Rt.RGBA,{premultiply:!1}),ht.needsDEMTextureUpload=!1}function Pp(Tt,ht,bt,Pt,Rt,kt){const Vt=Tt.context,Ht=Vt.gl;if(!ht.dem)return;const Yt=ht.dem;if(Vt.activeTexture.set(Ht.TEXTURE1),_h(Tt,ht,Yt),!ht.demTexture)return;ht.demTexture.bind(Ht.NEAREST,Ht.CLAMP_TO_EDGE);const Jt=Yt.dim;Vt.activeTexture.set(Ht.TEXTURE0);let ir=ht.fbo;if(!ir){const br=new it.Texture(Vt,{width:Jt,height:Jt,data:null},Ht.RGBA);br.bind(Ht.LINEAR,Ht.CLAMP_TO_EDGE),ir=ht.fbo=Vt.createFramebuffer(Jt,Jt,!0),ir.colorAttachment.set(br.texture)}Vt.bindFramebuffer.set(ir.framebuffer),Vt.viewport.set([0,0,Jt,Jt]);const{tileBoundsBuffer:cr,tileBoundsIndexBuffer:pr,tileBoundsSegments:xr}=Tt.getMercatorTileBoundsBuffers();Tt.useProgram("hillshadePrepare").draw(Vt,Ht.TRIANGLES,Pt,Rt,kt,it.CullFaceMode.disabled,((br,mr)=>{const Ir=mr.stride,_r=it.create();return it.ortho(_r,0,it.EXTENT,-it.EXTENT,0,0,1),it.translate(_r,_r,[0,-it.EXTENT,0]),{u_matrix:_r,u_image:1,u_dimension:[Ir,Ir],u_zoom:br.overscaledZ,u_unpack:mr.unpackVector}})(ht.tileID,Yt),bt.id,cr,pr,xr),ht.needsHillshadePrepare=!1}const $p=(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_image0:new it.Uniform1i(Tt,ht.u_image0),u_skirt_height:new it.Uniform1f(Tt,ht.u_skirt_height)}),ep=(Tt,ht)=>({u_matrix:Tt,u_image0:0,u_skirt_height:ht}),Yo=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr)=>({u_proj_matrix:Float32Array.from(Tt),u_globe_matrix:ht,u_normalize_matrix:Float32Array.from(Pt),u_merc_matrix:bt,u_zoom_transition:Rt,u_merc_center:kt,u_image0:0,u_frustum_tl:Vt,u_frustum_tr:Ht,u_frustum_br:Yt,u_frustum_bl:Jt,u_globe_pos:ir,u_globe_radius:cr,u_viewport:pr,u_grid_matrix:xr?Float32Array.from(xr):new Float32Array(9)});function tp(Tt,ht){return Tt!=null&&ht!=null&&!(!Tt.hasData()||!ht.hasData())&&Tt.demTexture!=null&&ht.demTexture!=null&&Tt.tileID.key!==ht.tileID.key}const pu=new class{constructor(){this.operations={}}newMorphing(Tt,ht,bt,Pt,Rt){if(Tt in this.operations){const kt=this.operations[Tt];kt.to.tileID.key!==bt.tileID.key&&(kt.queued=bt)}else this.operations[Tt]={startTime:Pt,phase:0,duration:Rt,from:ht,to:bt,queued:null}}getMorphValuesForProxy(Tt){if(!(Tt in this.operations))return null;const ht=this.operations[Tt];return{from:ht.from,to:ht.to,phase:ht.phase}}update(Tt){for(const ht in this.operations){const bt=this.operations[ht];for(bt.phase=(Tt-bt.startTime)/bt.duration;bt.phase>=1||!this._validOp(bt);)if(!this._nextOp(bt,Tt)){delete this.operations[ht];break}}}_nextOp(Tt,ht){return!!Tt.queued&&(Tt.from=Tt.to,Tt.to=Tt.queued,Tt.queued=null,Tt.phase=0,Tt.startTime=ht,!0)}_validOp(Tt){return Tt.from.hasData()&&Tt.to.hasData()}},rp={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Xv(Tt,ht){const bt=1<<Tt.z;return!ht&&(Tt.x===0||Tt.x===bt-1)||Tt.y===0||Tt.y===bt-1}const ku=Tt=>({u_matrix:Tt});function hv(Tt,ht,bt,Pt,Rt){if(Rt>0){const kt=it.exported.now(),Vt=(kt-Tt.timeAdded)/Rt,Ht=ht?(kt-ht.timeAdded)/Rt:-1,Yt=bt.getSource(),Jt=Pt.coveringZoomLevel({tileSize:Yt.tileSize,roundZoom:Yt.roundZoom}),ir=!ht||Math.abs(ht.tileID.overscaledZ-Jt)>Math.abs(Tt.tileID.overscaledZ-Jt),cr=ir&&Tt.refreshedUponExpiration?1:it.clamp(ir?Vt:1-Ht,0,1);return Tt.refreshedUponExpiration&&Vt>=1&&(Tt.refreshedUponExpiration=!1),ht?{opacity:1,mix:1-cr}:{opacity:cr,mix:0}}return{opacity:1,mix:0}}class Gm extends it.SourceCache{constructor(ht){const bt={type:"raster-dem",maxzoom:ht.transform.maxZoom},Pt=new Mr(qn(),null),Rt=Zr("mock-dem",bt,Pt,ht.style);super("mock-dem",Rt,!1),Rt.setEventedParent(this),this._sourceLoaded=!0}_loadTile(ht,bt){ht.state="loaded",bt(null)}}class Qv extends it.SourceCache{constructor(ht){const bt=Zr("proxy",{type:"geojson",maxzoom:ht.transform.maxZoom},new Mr(qn(),null),ht.style);super("proxy",bt,!1),bt.setEventedParent(this),this.map=this.getSource().map=ht,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(ht,bt,Pt){if(ht.freezeTileCoverage)return;this.transform=ht;const Rt=ht.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((kt,Vt)=>{if(kt[Vt.key]="",!this._tiles[Vt.key]){const Ht=new it.Tile(Vt,this._source.tileSize*Vt.overscaleFactor(),ht.tileZoom);Ht.state="loaded",this._tiles[Vt.key]=Ht}return kt},{});for(const kt in this._tiles)kt in Rt||(this.freeFBO(kt),this._tiles[kt].unloadVectorData(),delete this._tiles[kt])}freeFBO(ht){const bt=this.proxyCachedFBO[ht];if(bt!==void 0){const Pt=Object.values(bt);this.renderCachePool.push(...Pt),delete this.proxyCachedFBO[ht]}}deallocRenderCache(){this.renderCache.forEach(ht=>ht.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Mp extends it.OverscaledTileID{constructor(ht,bt,Pt){super(ht.overscaledZ,ht.wrap,ht.canonical.z,ht.canonical.x,ht.canonical.y),this.proxyTileKey=bt,this.projMatrix=Pt}}class pv extends it.Elevation{constructor(ht,bt){super(),this.painter=ht,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[Pt,Rt,kt]=function(Yt){const Jt=new it.StructArrayLayout4i8,ir=new it.StructArrayLayout3ui6,cr=131;Jt.reserve(17161),ir.reserve(33800);const pr=it.EXTENT/128,xr=it.EXTENT+pr/2,br=xr+pr;for(let Ir=-pr;Ir<br;Ir+=pr)for(let _r=-pr;_r<br;_r+=pr){const Cr=_r<0||_r>xr||Ir<0||Ir>xr?24575:0,Tr=it.clamp(Math.round(_r),0,it.EXTENT),Nr=it.clamp(Math.round(Ir),0,it.EXTENT);Jt.emplaceBack(Tr+Cr,Nr,Tr,Nr)}const mr=(Ir,_r)=>{const Cr=_r*cr+Ir;ir.emplaceBack(Cr+1,Cr,Cr+cr),ir.emplaceBack(Cr+cr,Cr+cr+1,Cr+1)};for(let Ir=1;Ir<129;Ir++)for(let _r=1;_r<129;_r++)mr(_r,Ir);return[0,129].forEach(Ir=>{for(let _r=0;_r<130;_r++)mr(_r,Ir),mr(Ir,_r)}),[Jt,ir,32768]}(),Vt=ht.context;this.gridBuffer=Vt.createVertexBuffer(Pt,it.boundsAttributes.members),this.gridIndexBuffer=Vt.createIndexBuffer(Rt),this.gridSegments=it.SegmentVector.simpleSegment(0,0,Pt.length,Rt.length),this.gridNoSkirtSegments=it.SegmentVector.simpleSegment(0,0,Pt.length,kt),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Qv(bt.map),this.orthoMatrix=it.create(),it.ortho(this.orthoMatrix,0,it.EXTENT,0,it.EXTENT,0,1);const Ht=Vt.gl;this._overlapStencilMode=new it.StencilMode({func:Ht.GEQUAL,mask:255},0,255,Ht.KEEP,Ht.KEEP,Ht.REPLACE),this._previousZoom=ht.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=bt,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Gm(bt.map)}set style(ht){ht.on("data",this._onStyleDataEvent.bind(this)),ht.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=ht,this._checkRenderCacheEfficiency()}update(ht,bt,Pt){if(ht&&ht.terrain){this._style!==ht&&(this.style=ht),this.enabled=!0;const Rt=ht.terrain.properties;this.sourceCache=ht.terrain.drapeRenderMode===0?this._mockSourceCache:ht._getSourceCache(Rt.get("source")),this._exaggeration=Rt.get("exaggeration");const kt=()=>{this.sourceCache.used&&it.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Vt=this.getScaledDemTileSize();this.sourceCache.update(bt,Vt,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,kt(),this._initializing=!0),kt(),bt.updateElevation(!Pt),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(bt),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(ht){this._findCoveringTileCache[ht]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const ht=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||ht.efficiency!==100&&it.warnOnce(`Terrain render cache efficiency is not optimal (${ht.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${ht.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(ht){ht.coord&&ht.dataType==="source"?this._clearRenderCacheForTile(ht.sourceCacheId,ht.coord):ht.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const ht in this._style._sourceCaches)this._style._sourceCaches[ht].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(ht=>ht.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const ht=2*this.proxySourceCache.getSource().tileSize;return[ht,ht]}set useVertexMorphing(ht){this._useVertexMorphing=ht}updateTileBinding(ht){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const bt=this.proxySourceCache,Pt=this.painter.transform;this._initializing&&(this._initializing=Pt._centerAltitude===0&&this.getAtPointOrZero(it.MercatorCoordinate.fromLngLat(Pt.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const Rt=this.proxyCoords=bt.getIds().map(Yt=>{const Jt=bt.getTileByID(Yt).tileID;return Jt.projMatrix=Pt.calculateProjMatrix(Jt.toUnwrapped()),Jt});(function(Yt,Jt){const ir=Jt.transform.pointCoordinate(Jt.transform.getCameraPoint()),cr=new it.pointGeometry(ir.x,ir.y);Yt.sort((pr,xr)=>{if(xr.overscaledZ-pr.overscaledZ)return xr.overscaledZ-pr.overscaledZ;const br=new it.pointGeometry(pr.canonical.x+(1<<pr.canonical.z)*pr.wrap,pr.canonical.y),mr=new it.pointGeometry(xr.canonical.x+(1<<xr.canonical.z)*xr.wrap,xr.canonical.y),Ir=cr.mult(1<<pr.canonical.z);return Ir.x-=.5,Ir.y-=.5,Ir.distSqr(br)-Ir.distSqr(mr)})})(Rt,this.painter),this._previousZoom=Pt.zoom;const kt=this.proxyToSource||{};this.proxyToSource={},Rt.forEach(Yt=>{this.proxyToSource[Yt.key]={}}),this.terrainTileForTile={};const Vt=this._style._sourceCaches;for(const Yt in Vt){const Jt=Vt[Yt];if(!Jt.used||(Jt!==this.sourceCache&&this.resetTileLookupCache(Jt.id),this._setupProxiedCoordsForOrtho(Jt,ht[Yt],kt),Jt.usedForTerrain))continue;const ir=ht[Yt];Jt.getSource().reparseOverscaled&&this._assignTerrainTiles(ir)}this.proxiedCoords[bt.id]=Rt.map(Yt=>new Mp(Yt,Yt.key,this.orthoMatrix)),this._assignTerrainTiles(Rt),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(kt),this.renderingToTexture=!1,this._updateTimestamp=it.exported.now();const Ht={};this._visibleDemTiles=[];for(const Yt of this.proxyCoords){const Jt=this.terrainTileForTile[Yt.key];if(!Jt)continue;const ir=Jt.tileID.key;ir in Ht||(this._visibleDemTiles.push(Jt),Ht[ir]=ir)}}_assignTerrainTiles(ht){this._initializing||ht.forEach(bt=>{if(this.terrainTileForTile[bt.key])return;const Pt=this._findTileCoveringTileID(bt,this.sourceCache);Pt&&(this.terrainTileForTile[bt.key]=Pt)})}_prepareDEMTextures(){const ht=this.painter.context,bt=ht.gl;for(const Pt in this.terrainTileForTile){const Rt=this.terrainTileForTile[Pt],kt=Rt.dem;!kt||Rt.demTexture&&!Rt.needsDEMTextureUpload||(ht.activeTexture.set(bt.TEXTURE1),_h(this.painter,Rt,kt))}}_prepareDemTileUniforms(ht,bt,Pt,Rt){if(!bt||bt.demTexture==null)return!1;const kt=ht.tileID.canonical,Vt=Math.pow(2,bt.tileID.canonical.z-kt.z),Ht=Rt||"";return Pt[`u_dem_tl${Ht}`]=[kt.x*Vt%1,kt.y*Vt%1],Pt[`u_dem_scale${Ht}`]=Vt,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const ht=this.painter.context,bt=ht.gl;if(!this._emptyDepthBufferTexture){const Pt=new it.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new it.Texture(ht,Pt,bt.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let ht=0;const bt=this._visibleDemTiles.reduce((Pt,Rt)=>{if(!Rt.dem)return Pt;const kt=Rt.dem.tree.minimums[0];return kt>0&&ht++,Pt+kt},0);return ht?bt/ht:0}_updateEmptyDEMTexture(){const ht=this.painter.context,bt=ht.gl;ht.activeTexture.set(bt.TEXTURE2);const Pt=this._getLoadedAreaMinimum(),Rt=new it.RGBAImage({width:1,height:1},new Uint8Array(it.DEMData.pack(Pt,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let kt=this._emptyDEMTexture;return kt?kt.update(Rt,{premultiply:!1}):kt=this._emptyDEMTexture=new it.Texture(ht,Rt,bt.RGBA,{premultiply:!1}),kt}setupElevationDraw(ht,bt,Pt){const Rt=this.painter.context,kt=Rt.gl,Vt=(Ht=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:it.DEMData.getUnpackVector(Ht),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var Ht;Vt.u_dem_size=this.sourceCache.getSource().tileSize,Vt.u_exaggeration=this.exaggeration();const Yt=this.painter.transform,Jt=Yt.projection,ir=ht.tileID.canonical;Vt.u_tile_tl_up=Jt.upVector(ir,0,0),Vt.u_tile_tr_up=Jt.upVector(ir,it.EXTENT,0),Vt.u_tile_br_up=Jt.upVector(ir,it.EXTENT,it.EXTENT),Vt.u_tile_bl_up=Jt.upVector(ir,0,it.EXTENT),Vt.u_tile_up_scale=Pt&&Pt.useDenormalizedUpVectorScale?it.GLOBE_METERS_TO_ECEF:Jt.upVectorScale(ir,Yt.center.lat,Yt.worldSize).metersToTile;let cr=null,pr=null,xr=1;if(Pt&&Pt.morphing&&this._useVertexMorphing){const br=Pt.morphing.srcDemTile,mr=Pt.morphing.dstDemTile;xr=Pt.morphing.phase,br&&mr&&(this._prepareDemTileUniforms(ht,br,Vt,"_prev")&&(pr=br),this._prepareDemTileUniforms(ht,mr,Vt)&&(cr=mr))}if(pr&&cr?(Rt.activeTexture.set(kt.TEXTURE2),cr.demTexture.bind(kt.NEAREST,kt.CLAMP_TO_EDGE,kt.NEAREST),Rt.activeTexture.set(kt.TEXTURE4),pr.demTexture.bind(kt.NEAREST,kt.CLAMP_TO_EDGE,kt.NEAREST),Vt.u_dem_lerp=xr):(cr=this.terrainTileForTile[ht.tileID.key],Rt.activeTexture.set(kt.TEXTURE2),(this._prepareDemTileUniforms(ht,cr,Vt)?cr.demTexture:this.emptyDEMTexture).bind(kt.NEAREST,kt.CLAMP_TO_EDGE)),Rt.activeTexture.set(kt.TEXTURE3),Pt&&Pt.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(kt.NEAREST,kt.CLAMP_TO_EDGE),this._depthFBO&&(Vt.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(kt.NEAREST,kt.CLAMP_TO_EDGE),Vt.u_depth_size_inv=[1,1]),Pt&&Pt.useMeterToDem&&cr){const br=(1<<cr.tileID.canonical.z)*it.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;Vt.u_meter_to_dem=br}Pt&&Pt.labelPlaneMatrixInv&&(Vt.u_label_plane_matrix_inv=Pt.labelPlaneMatrixInv),bt.setTerrainUniformValues(Rt,Vt)}renderToBackBuffer(ht){const bt=this.painter,Pt=this.painter.context;ht.length!==0&&(Pt.bindFramebuffer.set(null),Pt.viewport.set([0,0,bt.width,bt.height]),bt.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(Rt,kt,Vt,Ht,Yt){if(Rt.transform.projection.name==="globe")(function(Jt,ir,cr,pr,xr){const br=Jt.context,mr=br.gl;let Ir,_r;const Cr=Jt.options.showTerrainWireframe?2:0,Tr=Jt.transform,Nr=it.globeUseCustomAntiAliasing(Jt,br,Tr),$r=(kr,On)=>{if(_r===kr)return;const Ln=[rp[kr],"PROJECTION_GLOBE_VIEW"];Nr&&Ln.push("CUSTOM_ANTIALIASING"),On&&Ln.push(rp[Cr]),Ir=Jt.useProgram("globeRaster",null,Ln),_r=kr},Dr=Jt.colorModeForRenderPass(),Gr=new it.DepthMode(mr.LEQUAL,it.DepthMode.ReadWrite,Jt.depthRangeFor3D);pu.update(xr);const mn=it.calculateGlobeMercatorMatrix(Tr),xn=[it.mercatorXfromLng(Tr.center.lng),it.mercatorYfromLat(Tr.center.lat)],gn=Jt.globeSharedBuffers,hn=[Tr.width*it.exported.devicePixelRatio,Tr.height*it.exported.devicePixelRatio];if((Cr?[!1,!0]:[!1]).forEach(kr=>{_r=-1;const On=kr?mr.LINES:mr.TRIANGLES;for(const Ln of pr){const na=cr.getTile(Ln),Tn=it.StencilMode.disabled,xo=ir.prevTerrainTileForTile[Ln.key],Jn=ir.terrainTileForTile[Ln.key];tp(xo,Jn)&&pu.newMorphing(Ln.key,xo,Jn,xr,250),br.activeTexture.set(mr.TEXTURE0),na.texture.bind(mr.LINEAR,mr.CLAMP_TO_EDGE);const Qn=pu.getMorphValuesForProxy(Ln.key),Yn=Qn?1:0,Zn={useDenormalizedUpVectorScale:!0};Qn&&it.extend$1(Zn,{morphing:{srcDemTile:Qn.from,dstDemTile:Qn.to,phase:it.easeCubicInOut(Qn.phase)}});const Mo=Float32Array.from(Tr.globeMatrix),Co=it.globeTileLatLngCorners(Ln.canonical),Fo=it.getLatitudinalLod((Co[0][0]+Co[1][0])/2),yo=it.getGridMatrix(Ln.canonical,Co,Fo),ko=it.globeNormalizeECEF(it.globeTileBounds(Ln.canonical)),us=Yo(Tr.projMatrix,Mo,mn,ko,it.globeToMercatorTransition(Tr.zoom),xn,Tr.frustumCorners.TL,Tr.frustumCorners.TR,Tr.frustumCorners.BR,Tr.frustumCorners.BL,Tr.globeCenterInViewSpace,Tr.globeRadius,hn,yo);if($r(Yn,kr),ir.setupElevationDraw(na,Ir,Zn),Jt.prepareDrawProgram(br,Ir,Ln.toUnwrapped()),gn){const[ps,Os,ys]=kr?gn.getWirefameBuffers(Jt.context,Fo):gn.getGridBuffers(Fo);Ir.draw(br,On,Gr,Tn,Dr,it.CullFaceMode.backCCW,us,"globe_raster",ps,Os,ys)}}}),gn){const kr=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Nr&&kr.push("CUSTOM_ANTIALIASING"),Ir=Jt.useProgram("globeRaster",null,kr);for(const On of pr){const{x:Ln,y:na,z:Tn}=On.canonical,xo=na===0,Jn=na===(1<<Tn)-1,[Qn,Yn,Zn,Mo]=gn.getPoleBuffers(Tn);if(Mo&&(xo||Jn)){const Co=cr.getTile(On);br.activeTexture.set(mr.TEXTURE0),Co.texture.bind(mr.LINEAR,mr.CLAMP_TO_EDGE);let Fo=it.globePoleMatrixForTile(Tn,Ln,Tr);const yo=it.globeNormalizeECEF(it.globeTileBounds(On.canonical)),ko=(us,ps)=>us.draw(br,mr.TRIANGLES,Gr,it.StencilMode.disabled,Dr,it.CullFaceMode.disabled,Yo(Tr.projMatrix,Fo,Fo,yo,0,xn,Tr.frustumCorners.TL,Tr.frustumCorners.TR,Tr.frustumCorners.BR,Tr.frustumCorners.BL,Tr.globeCenterInViewSpace,Tr.globeRadius,hn),"globe_pole_raster",ps,Zn,Mo);ir.setupElevationDraw(Co,Ir,{}),Jt.prepareDrawProgram(br,Ir,On.toUnwrapped()),xo&&ko(Ir,Qn),Jn&&(Fo=it.scale(it.create(),Fo,[1,-1,1]),ko(Ir,Yn))}}}})(Rt,kt,Vt,Ht,Yt);else{const Jt=Rt.context,ir=Jt.gl;let cr,pr;const xr=Rt.options.showTerrainWireframe?2:0,br=(Tr,Nr)=>{if(pr===Tr)return;const $r=[rp[Tr]];Nr&&$r.push(rp[xr]),cr=Rt.useProgram("terrainRaster",null,$r),pr=Tr},mr=Rt.colorModeForRenderPass(),Ir=new it.DepthMode(ir.LEQUAL,it.DepthMode.ReadWrite,Rt.depthRangeFor3D);pu.update(Yt);const _r=Rt.transform,Cr=6*Math.pow(1.5,22-_r.zoom)*kt.exaggeration();(xr?[!1,!0]:[!1]).forEach(Tr=>{pr=-1;const Nr=Tr?ir.LINES:ir.TRIANGLES,[$r,Dr]=Tr?kt.getWirefameBuffer():[kt.gridIndexBuffer,kt.gridSegments];for(const Gr of Ht){const mn=Vt.getTile(Gr),xn=it.StencilMode.disabled,gn=kt.prevTerrainTileForTile[Gr.key],hn=kt.terrainTileForTile[Gr.key];tp(gn,hn)&&pu.newMorphing(Gr.key,gn,hn,Yt,250),Jt.activeTexture.set(ir.TEXTURE0),mn.texture.bind(ir.LINEAR,ir.CLAMP_TO_EDGE,ir.LINEAR_MIPMAP_NEAREST);const kr=pu.getMorphValuesForProxy(Gr.key),On=kr?1:0;let Ln;kr&&(Ln={morphing:{srcDemTile:kr.from,dstDemTile:kr.to,phase:it.easeCubicInOut(kr.phase)}});const na=ep(Gr.projMatrix,Xv(Gr.canonical,_r.renderWorldCopies)?Cr/10:Cr);br(On,Tr),kt.setupElevationDraw(mn,cr,Ln),Rt.prepareDrawProgram(Jt,cr,Gr.toUnwrapped()),cr.draw(Jt,Nr,Ir,xn,mr,it.CullFaceMode.backCCW,na,"terrain_raster",kt.gridBuffer,$r,Dr)}})}}(bt,this,this.proxySourceCache,ht,this._updateTimestamp),this.renderingToTexture=!0,bt.gpuTimingDeferredRenderEnd(),ht.splice(0,ht.length))}renderBatch(ht){if(this._drapedRenderBatches.length===0)return ht+1;this.renderingToTexture=!0;const bt=this.painter,Pt=this.painter.context,Rt=this.proxySourceCache,kt=this.proxiedCoords[Rt.id],Vt=this._drapedRenderBatches.shift(),Ht=[],Yt=bt.style.order;let Jt=0;for(const ir of kt){const cr=Rt.getTileByID(ir.proxyTileKey),pr=Rt.proxyCachedFBO[ir.key]?Rt.proxyCachedFBO[ir.key][ht]:void 0,xr=pr!==void 0?Rt.renderCache[pr]:this.pool[Jt++],br=pr!==void 0;if(cr.texture=xr.tex,br&&!xr.dirty){Ht.push(cr.tileID);continue}let mr;Pt.bindFramebuffer.set(xr.fb.framebuffer),this.renderedToTile=!1,xr.dirty&&(Pt.clear({color:it.Color.transparent,stencil:0}),xr.dirty=!1);for(let Ir=Vt.start;Ir<=Vt.end;++Ir){const _r=bt.style._layers[Yt[Ir]];if(_r.isHidden(bt.transform.zoom))continue;const Cr=bt.style._getLayerSourceCache(_r),Tr=Cr?this.proxyToSource[ir.key][Cr.id]:[ir];if(!Tr)continue;const Nr=Tr;Pt.viewport.set([0,0,xr.fb.width,xr.fb.height]),mr!==(Cr?Cr.id:null)&&(this._setupStencil(xr,Tr,_r,Cr),mr=Cr?Cr.id:null),bt.renderLayer(bt,Cr,_r,Nr)}this.renderedToTile?(xr.dirty=!0,Ht.push(cr.tileID)):br||--Jt,Jt===5&&(Jt=0,this.renderToBackBuffer(Ht))}return this.renderToBackBuffer(Ht),this.renderingToTexture=!1,Pt.bindFramebuffer.set(null),Pt.viewport.set([0,0,bt.width,bt.height]),Vt.end+1}postRender(){}renderCacheEfficiency(ht){const bt=ht.order.length;if(bt===0)return{efficiency:100};let Pt,Rt=0,kt=0,Vt=!1;for(let Ht=0;Ht<bt;++Ht){const Yt=ht._layers[ht.order[Ht]];this._style.isLayerDraped(Yt)?(Vt&&++Rt,++kt):Vt||(Vt=!0,Pt=Yt.id)}return kt===0?{efficiency:100}:{efficiency:100*(1-Rt/kt),firstUndrapedLayer:Pt}}getMinElevationBelowMSL(){let ht=0;return this._visibleDemTiles.filter(bt=>bt.dem).forEach(bt=>{ht=Math.min(ht,bt.dem.tree.minimums[0])}),ht===0?ht:(ht-30)*this._exaggeration}raycast(ht,bt,Pt){if(!this._visibleDemTiles)return null;const Rt=this._visibleDemTiles.filter(kt=>kt.dem).map(kt=>{const Vt=kt.tileID,Ht=Math.pow(2,Vt.overscaledZ),{x:Yt,y:Jt}=Vt.canonical,ir=Yt/Ht,cr=(Yt+1)/Ht,pr=Jt/Ht,xr=(Jt+1)/Ht;return{minx:ir,miny:pr,maxx:cr,maxy:xr,t:kt.dem.tree.raycastRoot(ir,pr,cr,xr,ht,bt,Pt),tile:kt}});Rt.sort((kt,Vt)=>(kt.t!==null?kt.t:Number.MAX_VALUE)-(Vt.t!==null?Vt.t:Number.MAX_VALUE));for(const kt of Rt){if(kt.t==null)return null;const Vt=kt.tile.dem.tree.raycast(kt.minx,kt.miny,kt.maxx,kt.maxy,ht,bt,Pt);if(Vt!=null)return Vt}return null}_createFBO(){const ht=this.painter.context,bt=ht.gl,Pt=this.drapeBufferSize;ht.activeTexture.set(bt.TEXTURE0);const Rt=new it.Texture(ht,{width:Pt[0],height:Pt[1],data:null},bt.RGBA);Rt.bind(bt.LINEAR,bt.CLAMP_TO_EDGE);const kt=ht.createFramebuffer(Pt[0],Pt[1],!1);return kt.colorAttachment.set(Rt.texture),kt.depthAttachment=new tr(ht,kt.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=ht.createRenderbuffer(ht.gl.DEPTH_STENCIL,Pt[0],Pt[1]),this._stencilRef=0,kt.depthAttachment.set(this._sharedDepthStencil),ht.clear({stencil:0})):kt.depthAttachment.set(this._sharedDepthStencil),ht.extTextureFilterAnisotropic&&!ht.extTextureFilterAnisotropicForceOff&&bt.texParameterf(bt.TEXTURE_2D,ht.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ht.extTextureFilterAnisotropicMax),{fb:kt,tex:Rt,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const ht in this._style._sourceCaches)if(this._style._sourceCaches[ht].hasTransition())return!0;return this._style.order.some(ht=>{const bt=this._style._layers[ht],Pt=bt.isHidden(this.painter.transform.zoom),Rt=bt.getCrossfadeParameters(),kt=!!Rt&&Rt.t!==1,Vt=bt.hasTransition();return bt.type!=="custom"&&!Pt&&(kt||Vt)})}_clearRasterFadeFromRenderCache(){let ht=!1;for(const bt in this._style._sourceCaches)if(this._style._sourceCaches[bt]._source instanceof Er){ht=!0;break}if(ht)for(let bt=0;bt<this._style.order.length;++bt){const Pt=this._style._layers[this._style.order[bt]],Rt=Pt.isHidden(this.painter.transform.zoom),kt=this._style._getLayerSourceCache(Pt);if(Pt.type!=="raster"||Rt||!kt)continue;const Vt=Pt.paint.get("raster-fade-duration");for(const Ht of this.proxyCoords){const Yt=this.proxyToSource[Ht.key][kt.id];if(Yt)for(const Jt of Yt){const ir=hv(kt.getTile(Jt),kt.findLoadedParent(Jt,0),kt,this.painter.transform,Vt);(ir.opacity!==1||ir.mix!==0)&&this._clearRenderCacheForTile(kt.id,Jt)}}}}_setupDrapedRenderBatches(){const ht=this._style.order,bt=ht.length;if(bt===0)return;const Pt=[];let Rt,kt=0,Vt=this._style._layers[ht[kt]];for(;!this._style.isLayerDraped(Vt)&&Vt.isHidden(this.painter.transform.zoom)&&++kt<bt;)Vt=this._style._layers[ht[kt]];for(;kt<bt;++kt){const Ht=this._style._layers[ht[kt]];Ht.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(Ht)?Rt===void 0&&(Rt=kt):Rt!==void 0&&(Pt.push({start:Rt,end:kt-1}),Rt=void 0))}Rt!==void 0&&Pt.push({start:Rt,end:kt-1}),this._drapedRenderBatches=Pt}_setupRenderCache(ht){const bt=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,bt.renderCache.length>bt.renderCachePool.length){const Vt=Object.values(bt.proxyCachedFBO);bt.proxyCachedFBO={};for(let Ht=0;Ht<Vt.length;++Ht){const Yt=Object.values(Vt[Ht]);bt.renderCachePool.push(...Yt)}}return}this._clearRasterFadeFromRenderCache();const Pt=this.proxyCoords,Rt=this._tilesDirty;for(let Vt=Pt.length-1;Vt>=0;Vt--){const Ht=Pt[Vt];if(bt.getTileByID(Ht.key),bt.proxyCachedFBO[Ht.key]!==void 0){const Yt=ht[Ht.key],Jt=this.proxyToSource[Ht.key];let ir=0;for(const cr in Jt){const pr=Jt[cr],xr=Yt[cr];if(!xr||xr.length!==pr.length||pr.some((br,mr)=>br!==xr[mr]||Rt[cr]&&Rt[cr].hasOwnProperty(br.key))){ir=-1;break}++ir}for(const cr in bt.proxyCachedFBO[Ht.key])bt.renderCache[bt.proxyCachedFBO[Ht.key][cr]].dirty=ir<0||ir!==Object.values(Yt).length}}const kt=[...this._drapedRenderBatches];kt.sort((Vt,Ht)=>Ht.end-Ht.start-(Vt.end-Vt.start));for(const Vt of kt)for(const Ht of Pt){if(bt.proxyCachedFBO[Ht.key])continue;let Yt=bt.renderCachePool.pop();Yt===void 0&&bt.renderCache.length<50&&(Yt=bt.renderCache.length,bt.renderCache.push(this._createFBO())),Yt!==void 0&&(bt.proxyCachedFBO[Ht.key]={},bt.proxyCachedFBO[Ht.key][Vt.start]=Yt,bt.renderCache[Yt].dirty=!0)}this._tilesDirty={}}_setupStencil(ht,bt,Pt,Rt){if(!Rt||!this._sourceTilesOverlap[Rt.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const kt=this.painter.context,Vt=kt.gl;if(bt.length<=1)return void(this._overlapStencilType=!1);let Ht;if(Pt.isTileClipped())Ht=bt.length,this._overlapStencilMode.test={func:Vt.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(bt[0].overscaledZ>bt[bt.length-1].overscaledZ))return void(this._overlapStencilType=!1);Ht=1,this._overlapStencilMode.test={func:Vt.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+Ht>255&&(kt.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=Ht,this._overlapStencilMode.ref=this._stencilRef,Pt.isTileClipped()&&this._renderTileClippingMasks(bt,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(ht){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[ht.key]),this._overlapStencilMode):it.StencilMode.disabled}_renderTileClippingMasks(ht,bt){const Pt=this.painter,Rt=this.painter.context,kt=Rt.gl;Pt._tileClippingMaskIDs={},Rt.setColorMode(it.ColorMode.disabled),Rt.setDepthMode(it.DepthMode.disabled);const Vt=Pt.useProgram("clippingMask");for(const Ht of ht){const Yt=Pt._tileClippingMaskIDs[Ht.key]=--bt;Vt.draw(Rt,kt.TRIANGLES,it.DepthMode.disabled,new it.StencilMode({func:kt.ALWAYS,mask:0},Yt,255,kt.KEEP,kt.KEEP,kt.REPLACE),it.ColorMode.disabled,it.CullFaceMode.disabled,ku(Ht.projMatrix),"$clipping",Pt.tileExtentBuffer,Pt.quadTriangleIndexBuffer,Pt.tileExtentSegments)}}pointCoordinate(ht){const bt=this.painter.transform;if(ht.x<0||ht.x>bt.width||ht.y<0||ht.y>bt.height)return null;const Pt=[ht.x,ht.y,1,1];it.transformMat4$1(Pt,Pt,bt.pixelMatrixInverse),it.scale$1(Pt,Pt,1/Pt[3]),Pt[0]/=bt.worldSize,Pt[1]/=bt.worldSize;const Rt=bt._camera.position,kt=it.mercatorZfromAltitude(1,bt.center.lat),Vt=[Rt[0],Rt[1],Rt[2]/kt,0],Ht=it.subtract([],Pt.slice(0,3),Vt);it.normalize(Ht,Ht);const Yt=this.raycast(Vt,Ht,this._exaggeration);return Yt!==null&&Yt?(it.scaleAndAdd(Vt,Vt,Ht,Yt),Vt[3]=Vt[2],Vt[2]*=kt,Vt):null}drawDepth(){const ht=this.painter,bt=ht.context,Pt=this.proxySourceCache,Rt=Math.ceil(ht.width),kt=Math.ceil(ht.height);if(!this._depthFBO||this._depthFBO.width===Rt&&this._depthFBO.height===kt||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const Vt=bt.gl,Ht=bt.createFramebuffer(Rt,kt,!0);bt.activeTexture.set(Vt.TEXTURE0);const Yt=new it.Texture(bt,{width:Rt,height:kt,data:null},Vt.RGBA);Yt.bind(Vt.NEAREST,Vt.CLAMP_TO_EDGE),Ht.colorAttachment.set(Yt.texture);const Jt=bt.createRenderbuffer(bt.gl.DEPTH_COMPONENT16,Rt,kt);Ht.depthAttachment.set(Jt),this._depthFBO=Ht,this._depthTexture=Yt}bt.bindFramebuffer.set(this._depthFBO.framebuffer),bt.viewport.set([0,0,Rt,kt]),function(Vt,Ht,Yt,Jt){if(Vt.transform.projection.name==="globe")return;const ir=Vt.context,cr=ir.gl;ir.clear({depth:1});const pr=Vt.useProgram("terrainDepth"),xr=new it.DepthMode(cr.LESS,it.DepthMode.ReadWrite,Vt.depthRangeFor3D);for(const br of Jt){const mr=Yt.getTile(br),Ir=ep(br.projMatrix,0);Ht.setupElevationDraw(mr,pr),pr.draw(ir,cr.TRIANGLES,xr,it.StencilMode.disabled,it.ColorMode.unblended,it.CullFaceMode.backCCW,Ir,"terrain_depth",Ht.gridBuffer,Ht.gridIndexBuffer,Ht.gridNoSkirtSegments)}}(ht,this,Pt,this.proxyCoords)}_setupProxiedCoordsForOrtho(ht,bt,Pt){if(ht.getSource()instanceof Hr)return this._setupProxiedCoordsForImageSource(ht,bt,Pt);this._findCoveringTileCache[ht.id]=this._findCoveringTileCache[ht.id]||{};const Rt=this.proxiedCoords[ht.id]=[],kt=this.proxyCoords;for(let Ht=0;Ht<kt.length;Ht++){const Yt=kt[Ht],Jt=this._findTileCoveringTileID(Yt,ht);if(Jt){const ir=this._createProxiedId(Yt,Jt,Pt[Yt.key]&&Pt[Yt.key][ht.id]);Rt.push(ir),this.proxyToSource[Yt.key][ht.id]=[ir]}}let Vt=!1;for(let Ht=0;Ht<bt.length;Ht++){const Yt=ht.getTile(bt[Ht]);if(!Yt||!Yt.hasData())continue;const Jt=this._findTileCoveringTileID(Yt.tileID,this.proxySourceCache);if(Jt&&Jt.tileID.canonical.z!==Yt.tileID.canonical.z){const ir=this.proxyToSource[Jt.tileID.key][ht.id],cr=this._createProxiedId(Jt.tileID,Yt,Pt[Jt.tileID.key]&&Pt[Jt.tileID.key][ht.id]);ir?ir.splice(ir.length-1,0,cr):this.proxyToSource[Jt.tileID.key][ht.id]=[cr],Rt.push(cr),Vt=!0}}this._sourceTilesOverlap[ht.id]=Vt}_setupProxiedCoordsForImageSource(ht,bt,Pt){if(!ht.getSource().loaded())return;const Rt=this.proxiedCoords[ht.id]=[],kt=this.proxyCoords,Vt=ht.getSource(),Ht=new it.pointGeometry(Vt.tileID.x,Vt.tileID.y)._div(1<<Vt.tileID.z),Yt=Vt.coordinates.map(it.MercatorCoordinate.fromLngLat).reduce((ir,cr)=>(ir.min.x=Math.min(ir.min.x,cr.x-Ht.x),ir.min.y=Math.min(ir.min.y,cr.y-Ht.y),ir.max.x=Math.max(ir.max.x,cr.x-Ht.x),ir.max.y=Math.max(ir.max.y,cr.y-Ht.y),ir),{min:new it.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new it.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Jt=(ir,cr)=>{const pr=ir.wrap+ir.canonical.x/(1<<ir.canonical.z),xr=ir.canonical.y/(1<<ir.canonical.z),br=it.EXTENT/(1<<ir.canonical.z),mr=cr.wrap+cr.canonical.x/(1<<cr.canonical.z),Ir=cr.canonical.y/(1<<cr.canonical.z);return pr+br<mr+Yt.min.x||pr>mr+Yt.max.x||xr+br<Ir+Yt.min.y||xr>Ir+Yt.max.y};for(let ir=0;ir<kt.length;ir++){const cr=kt[ir];for(let pr=0;pr<bt.length;pr++){const xr=ht.getTile(bt[pr]);if(!xr||!xr.hasData()||Jt(cr,xr.tileID))continue;const br=this._createProxiedId(cr,xr,Pt[cr.key]&&Pt[cr.key][ht.id]),mr=this.proxyToSource[cr.key][ht.id];mr?mr.push(br):this.proxyToSource[cr.key][ht.id]=[br],Rt.push(br)}}}_createProxiedId(ht,bt,Pt){let Rt=this.orthoMatrix;if(Pt){const kt=Pt.find(Vt=>Vt.key===bt.tileID.key);if(kt)return kt}if(bt.tileID.key!==ht.key){const kt=ht.canonical.z-bt.tileID.canonical.z;let Vt,Ht,Yt;Rt=it.create();const Jt=bt.tileID.wrap-ht.wrap<<ht.overscaledZ;kt>0?(Vt=it.EXTENT>>kt,Ht=Vt*((bt.tileID.canonical.x<<kt)-ht.canonical.x+Jt),Yt=Vt*((bt.tileID.canonical.y<<kt)-ht.canonical.y)):(Vt=it.EXTENT<<-kt,Ht=it.EXTENT*(bt.tileID.canonical.x-(ht.canonical.x+Jt<<-kt)),Yt=it.EXTENT*(bt.tileID.canonical.y-(ht.canonical.y<<-kt))),it.ortho(Rt,0,Vt,0,Vt,0,1),it.translate(Rt,Rt,[Ht,Yt,0])}return new Mp(bt.tileID,ht.key,Rt)}_findTileCoveringTileID(ht,bt){let Pt=bt.getTile(ht);if(Pt&&Pt.hasData())return Pt;const Rt=this._findCoveringTileCache[bt.id],kt=Rt[ht.key];if(Pt=kt?bt.getTileByID(kt):null,Pt&&Pt.hasData()||kt===null)return Pt;let Vt=Pt?Pt.tileID:ht,Ht=Vt.overscaledZ;const Yt=bt.getSource().minzoom,Jt=[];if(!kt){const cr=bt.getSource().maxzoom;if(ht.canonical.z>=cr){const pr=ht.canonical.z-cr;bt.getSource().reparseOverscaled?(Ht=Math.max(ht.canonical.z+2,bt.transform.tileZoom),Vt=new it.OverscaledTileID(Ht,ht.wrap,cr,ht.canonical.x>>pr,ht.canonical.y>>pr)):pr!==0&&(Ht=cr,Vt=new it.OverscaledTileID(Ht,ht.wrap,cr,ht.canonical.x>>pr,ht.canonical.y>>pr))}Vt.key!==ht.key&&(Jt.push(Vt.key),Pt=bt.getTile(Vt))}const ir=cr=>{Jt.forEach(pr=>{Rt[pr]=cr}),Jt.length=0};for(Ht-=1;Ht>=Yt&&(!Pt||!Pt.hasData());Ht--){Pt&&ir(Pt.tileID.key);const cr=Vt.calculateScaledKey(Ht);if(Pt=bt.getTileByID(cr),Pt&&Pt.hasData())break;const pr=Rt[cr];if(pr===null)break;pr===void 0?Jt.push(cr):Pt=bt.getTileByID(pr)}return ir(Pt?Pt.tileID.key:null),Pt&&Pt.hasData()?Pt:null}findDEMTileFor(ht){return this.enabled?this._findTileCoveringTileID(ht,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(ht,bt){let Pt=this._tilesDirty[ht];Pt||(Pt=this._tilesDirty[ht]={}),Pt[bt.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const ht=function(bt){let Pt=0;const Rt=new it.StructArrayLayout2ui4,kt=131;for(let Vt=1;Vt<129;Vt++){for(let Ht=1;Ht<129;Ht++)Pt=Vt*kt+Ht,Rt.emplaceBack(Pt,Pt+1),Rt.emplaceBack(Pt,Pt+kt),Rt.emplaceBack(Pt+1,Pt+kt),Vt===128&&Rt.emplaceBack(Pt+kt,Pt+kt+1);Rt.emplaceBack(Pt+1,Pt+1+kt)}return Rt}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(ht),this.wireframeSegments=it.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,ht.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function np(Tt){const ht=[];for(let bt=0;bt<Tt.length;bt++){if(Tt[bt]===null)continue;const Pt=Tt[bt].split(" ");ht.push(Pt.pop())}return ht}class Ip{static cacheKey(ht,bt,Pt){let Rt=`${ht}${Pt?Pt.cacheKey:""}`;for(const kt of bt)Rt+=`/${kt}`;return Rt}constructor(ht,bt,Pt,Rt,kt,Vt){const Ht=ht.gl;this.program=Ht.createProgram();const Yt=np(Pt.staticAttributes),Jt=Rt?Rt.getBinderAttributes():[],ir=Yt.concat(Jt),cr=Pt.staticUniforms?np(Pt.staticUniforms):[],pr=Rt?Rt.getBinderUniforms():[],xr=cr.concat(pr),br=[];for(const $r of xr)br.indexOf($r)<0&&br.push($r);let mr=Rt?Rt.defines():[];mr=mr.concat(Vt.map($r=>`#define ${$r}`));const Ir=mr.concat(ht.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Tu):Tu,Tu,Ou,Ep.fragmentSource,Hl.fragmentSource,Pt.fragmentSource).join(`
`),_r=mr.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Ou,Ep.vertexSource,Hl.vertexSource,_d.vertexSource,Pt.vertexSource).join(`
`),Cr=Ht.createShader(Ht.FRAGMENT_SHADER);if(Ht.isContextLost())return void(this.failedToCreate=!0);Ht.shaderSource(Cr,Ir),Ht.compileShader(Cr),Ht.attachShader(this.program,Cr);const Tr=Ht.createShader(Ht.VERTEX_SHADER);if(Ht.isContextLost())return void(this.failedToCreate=!0);Ht.shaderSource(Tr,_r),Ht.compileShader(Tr),Ht.attachShader(this.program,Tr),this.attributes={};const Nr={};this.numAttributes=ir.length;for(let $r=0;$r<this.numAttributes;$r++)ir[$r]&&(Ht.bindAttribLocation(this.program,$r,ir[$r]),this.attributes[ir[$r]]=$r);Ht.linkProgram(this.program),Ht.deleteShader(Tr),Ht.deleteShader(Cr);for(let $r=0;$r<br.length;$r++){const Dr=br[$r];if(Dr&&!Nr[Dr]){const Gr=Ht.getUniformLocation(this.program,Dr);Gr&&(Nr[Dr]=Gr)}}this.fixedUniforms=kt(ht,Nr),this.binderUniforms=Rt?Rt.getUniforms(ht,Nr):[],Vt.indexOf("TERRAIN")!==-1&&(this.terrainUniforms=(($r,Dr)=>({u_dem:new it.Uniform1i($r,Dr.u_dem),u_dem_prev:new it.Uniform1i($r,Dr.u_dem_prev),u_dem_unpack:new it.Uniform4f($r,Dr.u_dem_unpack),u_dem_tl:new it.Uniform2f($r,Dr.u_dem_tl),u_dem_scale:new it.Uniform1f($r,Dr.u_dem_scale),u_dem_tl_prev:new it.Uniform2f($r,Dr.u_dem_tl_prev),u_dem_scale_prev:new it.Uniform1f($r,Dr.u_dem_scale_prev),u_dem_size:new it.Uniform1f($r,Dr.u_dem_size),u_dem_lerp:new it.Uniform1f($r,Dr.u_dem_lerp),u_exaggeration:new it.Uniform1f($r,Dr.u_exaggeration),u_depth:new it.Uniform1i($r,Dr.u_depth),u_depth_size_inv:new it.Uniform2f($r,Dr.u_depth_size_inv),u_meter_to_dem:new it.Uniform1f($r,Dr.u_meter_to_dem),u_label_plane_matrix_inv:new it.UniformMatrix4f($r,Dr.u_label_plane_matrix_inv),u_tile_tl_up:new it.Uniform3f($r,Dr.u_tile_tl_up),u_tile_tr_up:new it.Uniform3f($r,Dr.u_tile_tr_up),u_tile_br_up:new it.Uniform3f($r,Dr.u_tile_br_up),u_tile_bl_up:new it.Uniform3f($r,Dr.u_tile_bl_up),u_tile_up_scale:new it.Uniform1f($r,Dr.u_tile_up_scale)}))(ht,Nr)),Vt.indexOf("FOG")!==-1&&(this.fogUniforms=(($r,Dr)=>({u_fog_matrix:new it.UniformMatrix4f($r,Dr.u_fog_matrix),u_fog_range:new it.Uniform2f($r,Dr.u_fog_range),u_fog_color:new it.Uniform4f($r,Dr.u_fog_color),u_fog_horizon_blend:new it.Uniform1f($r,Dr.u_fog_horizon_blend),u_fog_temporal_offset:new it.Uniform1f($r,Dr.u_fog_temporal_offset),u_frustum_tl:new it.Uniform3f($r,Dr.u_frustum_tl),u_frustum_tr:new it.Uniform3f($r,Dr.u_frustum_tr),u_frustum_br:new it.Uniform3f($r,Dr.u_frustum_br),u_frustum_bl:new it.Uniform3f($r,Dr.u_frustum_bl),u_globe_pos:new it.Uniform3f($r,Dr.u_globe_pos),u_globe_radius:new it.Uniform1f($r,Dr.u_globe_radius),u_globe_transition:new it.Uniform1f($r,Dr.u_globe_transition),u_is_globe:new it.Uniform1i($r,Dr.u_is_globe),u_viewport:new it.Uniform2f($r,Dr.u_viewport)}))(ht,Nr))}setTerrainUniformValues(ht,bt){if(!this.terrainUniforms)return;const Pt=this.terrainUniforms;if(!this.failedToCreate){ht.program.set(this.program);for(const Rt in bt)Pt[Rt].set(bt[Rt])}}setFogUniformValues(ht,bt){if(!this.fogUniforms)return;const Pt=this.fogUniforms;if(!this.failedToCreate){ht.program.set(this.program);for(const Rt in bt)Pt[Rt].location&&Pt[Rt].set(bt[Rt])}}draw(ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr,Ir,_r){const Cr=ht.gl;if(this.failedToCreate)return;ht.program.set(this.program),ht.setDepthMode(Pt),ht.setStencilMode(Rt),ht.setColorMode(kt),ht.setCullFace(Vt);for(const Nr of Object.keys(this.fixedUniforms))this.fixedUniforms[Nr].set(Ht[Nr]);br&&br.setUniforms(ht,this.binderUniforms,pr,{zoom:xr});const Tr={[Cr.LINES]:2,[Cr.TRIANGLES]:3,[Cr.LINE_STRIP]:1}[bt];for(const Nr of cr.get()){const $r=Nr.vaos||(Nr.vaos={});($r[Yt]||($r[Yt]=new fv)).bind(ht,this,Jt,br?br.getPaintVertexBuffers():[],ir,Nr.vertexOffset,mr,Ir,_r),Cr.drawElements(bt,Nr.primitiveLength*Tr,Cr.UNSIGNED_SHORT,Nr.primitiveOffset*Tr*2)}}}function Rp(Tt,ht,bt){const Pt=1/Lr(bt,1,ht.transform.tileZoom),Rt=Math.pow(2,bt.tileID.overscaledZ),kt=bt.tileSize*Math.pow(2,ht.transform.tileZoom)/Rt,Vt=kt*(bt.tileID.canonical.x+bt.tileID.wrap*Rt),Ht=kt*bt.tileID.canonical.y;return{u_image:0,u_texsize:bt.imageAtlasTexture.size,u_scale:[Pt,Tt.fromScale,Tt.toScale],u_fade:Tt.t,u_pixel_coord_upper:[Vt>>16,Ht>>16],u_pixel_coord_lower:[65535&Vt,65535&Ht]}}const Jv=it.create(),vv=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt)=>{const Jt=ht.style.light,ir=Jt.properties.get("position"),cr=[ir.x,ir.y,ir.z],pr=it.create$1();Jt.properties.get("anchor")==="viewport"&&(it.fromRotation(pr,-ht.transform.angle),it.transformMat3(cr,cr,pr));const xr=Jt.properties.get("color"),br=ht.transform,mr={u_matrix:Tt,u_lightpos:cr,u_lightintensity:Jt.properties.get("intensity"),u_lightcolor:[xr.r,xr.g,xr.b],u_vertical_gradient:+bt,u_opacity:Pt,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Jv,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0};return br.projection.name==="globe"&&(mr.u_tile_id=[Rt.canonical.x,Rt.canonical.y,1<<Rt.canonical.z],mr.u_zoom_transition=Vt,mr.u_inv_rot_matrix=Yt,mr.u_merc_center=Ht,mr.u_up_dir=br.projection.upVector(new it.CanonicalTileID(0,0,0),Ht[0]*it.EXTENT,Ht[1]*it.EXTENT),mr.u_height_lift=kt),mr},Nu=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir)=>{const cr=vv(Tt,ht,bt,Pt,Rt,Ht,Yt,Jt,ir),pr={u_height_factor:-Math.pow(2,Rt.overscaledZ)/Vt.tileSize/8};return it.extend(cr,Rp(kt,ht,Vt),pr)},Fu=Tt=>({u_matrix:Tt}),mv=(Tt,ht,bt,Pt)=>it.extend(Fu(Tt),Rp(bt,ht,Pt)),Dp=(Tt,ht)=>({u_matrix:Tt,u_world:ht}),zu=(Tt,ht,bt,Pt,Rt)=>it.extend(mv(Tt,ht,bt,Pt),{u_world:Rt}),Vl=it.create(),Lp=(Tt,ht,bt,Pt,Rt,kt)=>{const Vt=Tt.transform,Ht=Vt.projection.name==="globe";let Yt;if(kt.paint.get("circle-pitch-alignment")==="map")if(Ht){const ir=it.globePixelsToTileUnits(Vt.zoom,ht.canonical)*Vt._projectionScaler;Yt=Float32Array.from([ir,0,0,ir])}else Yt=Vt.calculatePixelsToTileUnitsMatrix(bt);else Yt=new Float32Array([Vt.pixelsToGLUnits[0],0,0,Vt.pixelsToGLUnits[1]]);const Jt={u_camera_to_center_distance:Vt.cameraToCenterDistance,u_matrix:Tt.translatePosMatrix(ht.projMatrix,bt,kt.paint.get("circle-translate"),kt.paint.get("circle-translate-anchor")),u_device_pixel_ratio:it.exported.devicePixelRatio,u_extrude_scale:Yt,u_inv_rot_matrix:Vl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Ht){Jt.u_inv_rot_matrix=Pt,Jt.u_merc_center=Rt,Jt.u_tile_id=[ht.canonical.x,ht.canonical.y,1<<ht.canonical.z],Jt.u_zoom_transition=it.globeToMercatorTransition(Vt.zoom);const ir=Rt[0]*it.EXTENT,cr=Rt[1]*it.EXTENT;Jt.u_up_dir=Vt.projection.upVector(new it.CanonicalTileID(0,0,0),ir,cr)}return Jt},gv=Tt=>{const ht=[];return Tt.paint.get("circle-pitch-alignment")==="map"&&ht.push("PITCH_WITH_MAP"),Tt.paint.get("circle-pitch-scale")==="map"&&ht.push("SCALE_WITH_MAP"),ht},yv=(Tt,ht,bt,Pt)=>{const Rt=it.EXTENT/bt.tileSize;return{u_matrix:Tt,u_camera_to_center_distance:ht.getCameraToCenterDistance(Pt),u_extrude_scale:[ht.pixelsToGLUnits[0]/Rt,ht.pixelsToGLUnits[1]/Rt]}},Op=(Tt,ht,bt=1)=>({u_matrix:Tt,u_color:ht,u_overlay:0,u_overlay_scale:bt}),_v=it.create(),kp=(Tt,ht,bt,Pt,Rt,kt,Vt)=>{const Ht=Tt.transform,Yt=Ht.projection.name==="globe",Jt=Yt?it.globePixelsToTileUnits(Ht.zoom,ht.canonical)*Ht._projectionScaler:Lr(bt,1,kt),ir={u_matrix:ht.projMatrix,u_extrude_scale:Jt,u_intensity:Vt,u_inv_rot_matrix:_v,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Yt){ir.u_inv_rot_matrix=Pt,ir.u_merc_center=Rt,ir.u_tile_id=[ht.canonical.x,ht.canonical.y,1<<ht.canonical.z],ir.u_zoom_transition=it.globeToMercatorTransition(Ht.zoom);const cr=Rt[0]*it.EXTENT,pr=Rt[1]*it.EXTENT;ir.u_up_dir=Ht.projection.upVector(new it.CanonicalTileID(0,0,0),cr,pr)}return ir},Bu=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht)=>{const Yt=Tt.transform,Jt=Yt.calculatePixelsToTileUnitsMatrix(ht),ir={u_matrix:em(Tt,ht,bt,Rt),u_pixels_to_tile_units:Jt,u_device_pixel_ratio:Vt,u_units_to_pixels:[1/Yt.pixelsToGLUnits[0],1/Yt.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:kt,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:Ht};if(Np(bt)){const cr=Vu(ht,Tt.transform);ir.u_texsize=ht.lineAtlasTexture.size,ir.u_scale=[cr,Pt.fromScale,Pt.toScale],ir.u_mix=Pt.t}return ir},Hm=(Tt,ht,bt,Pt,Rt,kt)=>{const Vt=Tt.transform,Ht=Vu(ht,Vt);return{u_matrix:em(Tt,ht,bt,Rt),u_texsize:ht.imageAtlasTexture.size,u_pixels_to_tile_units:Vt.calculatePixelsToTileUnitsMatrix(ht),u_device_pixel_ratio:kt,u_image:0,u_scale:[Ht,Pt.fromScale,Pt.toScale],u_fade:Pt.t,u_units_to_pixels:[1/Vt.pixelsToGLUnits[0],1/Vt.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Vu(Tt,ht){return 1/Lr(Tt,1,ht.tileZoom)}function em(Tt,ht,bt,Pt){return Tt.translatePosMatrix(Pt||ht.tileID.projMatrix,ht,bt.paint.get("line-translate"),bt.paint.get("line-translate-anchor"))}function Np(Tt){const ht=Tt.paint.get("line-dasharray").value;return ht.value||ht.kind!=="constant"}const Wm=(Tt,ht,bt,Pt,Rt,kt)=>{return{u_matrix:Tt,u_tl_parent:ht,u_scale_parent:bt,u_fade_t:Pt.mix,u_opacity:Pt.opacity*Rt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Rt.paint.get("raster-brightness-min"),u_brightness_high:Rt.paint.get("raster-brightness-max"),u_saturation_factor:(Ht=Rt.paint.get("raster-saturation"),Ht>0?1-1/(1.001-Ht):-Ht),u_contrast_factor:(Vt=Rt.paint.get("raster-contrast"),Vt>0?1/(1-Vt):1+Vt),u_spin_weights:Rr(Rt.paint.get("raster-hue-rotate")),u_perspective_transform:kt};var Vt,Ht};function Rr(Tt){Tt*=Math.PI/180;const ht=Math.sin(Tt),bt=Math.cos(Tt);return[(2*bt+1)/3,(-Math.sqrt(3)*ht-bt+1)/3,(Math.sqrt(3)*ht-bt+1)/3]}const Do=it.create(),su=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr)=>{const Ir=Rt.transform,_r={u_is_size_zoom_constant:+(Tt==="constant"||Tt==="source"),u_is_size_feature_constant:+(Tt==="constant"||Tt==="camera"),u_size_t:ht?ht.uSizeT:0,u_size:ht?ht.uSize:0,u_camera_to_center_distance:Ir.cameraToCenterDistance,u_rotate_symbol:+bt,u_aspect_ratio:Ir.width/Ir.height,u_fade_change:Rt.options.fadeDuration?Rt.symbolFadeChange:1,u_matrix:kt,u_label_plane_matrix:Vt,u_coord_matrix:Ht,u_is_text:+Yt,u_pitch_with_map:+Pt,u_texsize:Jt,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Do,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Do,u_up_vector:[0,-1,0]};return mr.name==="globe"&&(_r.u_tile_id=[ir.canonical.x,ir.canonical.y,1<<ir.canonical.z],_r.u_zoom_transition=cr,_r.u_inv_rot_matrix=xr,_r.u_merc_center=pr,_r.u_camera_forward=Ir._camera.forward(),_r.u_ecef_origin=it.globeECEFOrigin(Ir.globeMatrix,ir.toUnwrapped()),_r.u_tile_matrix=Float32Array.from(Ir.globeMatrix),_r.u_up_vector=br),_r},Fp=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr,Ir)=>it.extend(su(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,cr,pr,xr,br,mr,Ir),{u_gamma_scale:Pt?Rt.transform.cameraToCenterDistance*Math.cos(Rt.terrain?0:Rt.transform._pitch):1,u_device_pixel_ratio:it.exported.devicePixelRatio,u_is_halo:+ir}),ap=(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr,pr,xr,br,mr)=>it.extend(Fp(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,!0,Yt,!0,ir,cr,pr,xr,br,mr),{u_texsize_icon:Jt,u_texture_icon:1}),ip=(Tt,ht,bt)=>({u_matrix:Tt,u_opacity:ht,u_color:bt}),io=(Tt,ht,bt,Pt,Rt,kt)=>it.extend(function(Vt,Ht,Yt,Jt){const ir=Yt.imageManager.getPattern(Vt.from.toString()),cr=Yt.imageManager.getPattern(Vt.to.toString()),{width:pr,height:xr}=Yt.imageManager.getPixelSize(),br=Math.pow(2,Jt.tileID.overscaledZ),mr=Jt.tileSize*Math.pow(2,Yt.transform.tileZoom)/br,Ir=mr*(Jt.tileID.canonical.x+Jt.tileID.wrap*br),_r=mr*Jt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ir.tl,u_pattern_br_a:ir.br,u_pattern_tl_b:cr.tl,u_pattern_br_b:cr.br,u_texsize:[pr,xr],u_mix:Ht.t,u_pattern_size_a:ir.displaySize,u_pattern_size_b:cr.displaySize,u_scale_a:Ht.fromScale,u_scale_b:Ht.toScale,u_tile_units_to_pixels:1/Lr(Jt,1,Yt.transform.tileZoom),u_pixel_coord_upper:[Ir>>16,_r>>16],u_pixel_coord_lower:[65535&Ir,65535&_r]}}(Pt,kt,bt,Rt),{u_matrix:Tt,u_opacity:ht}),er={fillExtrusion:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_lightpos:new it.Uniform3f(Tt,ht.u_lightpos),u_lightintensity:new it.Uniform1f(Tt,ht.u_lightintensity),u_lightcolor:new it.Uniform3f(Tt,ht.u_lightcolor),u_vertical_gradient:new it.Uniform1f(Tt,ht.u_vertical_gradient),u_opacity:new it.Uniform1f(Tt,ht.u_opacity),u_tile_id:new it.Uniform3f(Tt,ht.u_tile_id),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_inv_rot_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_rot_matrix),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_up_dir:new it.Uniform3f(Tt,ht.u_up_dir),u_height_lift:new it.Uniform1f(Tt,ht.u_height_lift)}),fillExtrusionPattern:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_lightpos:new it.Uniform3f(Tt,ht.u_lightpos),u_lightintensity:new it.Uniform1f(Tt,ht.u_lightintensity),u_lightcolor:new it.Uniform3f(Tt,ht.u_lightcolor),u_vertical_gradient:new it.Uniform1f(Tt,ht.u_vertical_gradient),u_height_factor:new it.Uniform1f(Tt,ht.u_height_factor),u_tile_id:new it.Uniform3f(Tt,ht.u_tile_id),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_inv_rot_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_rot_matrix),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_up_dir:new it.Uniform3f(Tt,ht.u_up_dir),u_height_lift:new it.Uniform1f(Tt,ht.u_height_lift),u_image:new it.Uniform1i(Tt,ht.u_image),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_pixel_coord_upper:new it.Uniform2f(Tt,ht.u_pixel_coord_upper),u_pixel_coord_lower:new it.Uniform2f(Tt,ht.u_pixel_coord_lower),u_scale:new it.Uniform3f(Tt,ht.u_scale),u_fade:new it.Uniform1f(Tt,ht.u_fade),u_opacity:new it.Uniform1f(Tt,ht.u_opacity)}),fill:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix)}),fillPattern:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_image:new it.Uniform1i(Tt,ht.u_image),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_pixel_coord_upper:new it.Uniform2f(Tt,ht.u_pixel_coord_upper),u_pixel_coord_lower:new it.Uniform2f(Tt,ht.u_pixel_coord_lower),u_scale:new it.Uniform3f(Tt,ht.u_scale),u_fade:new it.Uniform1f(Tt,ht.u_fade)}),fillOutline:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_world:new it.Uniform2f(Tt,ht.u_world)}),fillOutlinePattern:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_world:new it.Uniform2f(Tt,ht.u_world),u_image:new it.Uniform1i(Tt,ht.u_image),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_pixel_coord_upper:new it.Uniform2f(Tt,ht.u_pixel_coord_upper),u_pixel_coord_lower:new it.Uniform2f(Tt,ht.u_pixel_coord_lower),u_scale:new it.Uniform3f(Tt,ht.u_scale),u_fade:new it.Uniform1f(Tt,ht.u_fade)}),circle:(Tt,ht)=>({u_camera_to_center_distance:new it.Uniform1f(Tt,ht.u_camera_to_center_distance),u_extrude_scale:new it.UniformMatrix2f(Tt,ht.u_extrude_scale),u_device_pixel_ratio:new it.Uniform1f(Tt,ht.u_device_pixel_ratio),u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_inv_rot_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_rot_matrix),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_tile_id:new it.Uniform3f(Tt,ht.u_tile_id),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_up_dir:new it.Uniform3f(Tt,ht.u_up_dir)}),collisionBox:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_camera_to_center_distance:new it.Uniform1f(Tt,ht.u_camera_to_center_distance),u_extrude_scale:new it.Uniform2f(Tt,ht.u_extrude_scale)}),collisionCircle:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_inv_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_matrix),u_camera_to_center_distance:new it.Uniform1f(Tt,ht.u_camera_to_center_distance),u_viewport_size:new it.Uniform2f(Tt,ht.u_viewport_size)}),debug:(Tt,ht)=>({u_color:new it.UniformColor(Tt,ht.u_color),u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_overlay:new it.Uniform1i(Tt,ht.u_overlay),u_overlay_scale:new it.Uniform1f(Tt,ht.u_overlay_scale)}),clippingMask:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix)}),heatmap:(Tt,ht)=>({u_extrude_scale:new it.Uniform1f(Tt,ht.u_extrude_scale),u_intensity:new it.Uniform1f(Tt,ht.u_intensity),u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_inv_rot_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_rot_matrix),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_tile_id:new it.Uniform3f(Tt,ht.u_tile_id),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_up_dir:new it.Uniform3f(Tt,ht.u_up_dir)}),heatmapTexture:(Tt,ht)=>({u_image:new it.Uniform1i(Tt,ht.u_image),u_color_ramp:new it.Uniform1i(Tt,ht.u_color_ramp),u_opacity:new it.Uniform1f(Tt,ht.u_opacity)}),hillshade:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_image:new it.Uniform1i(Tt,ht.u_image),u_latrange:new it.Uniform2f(Tt,ht.u_latrange),u_light:new it.Uniform2f(Tt,ht.u_light),u_shadow:new it.UniformColor(Tt,ht.u_shadow),u_highlight:new it.UniformColor(Tt,ht.u_highlight),u_accent:new it.UniformColor(Tt,ht.u_accent)}),hillshadePrepare:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_image:new it.Uniform1i(Tt,ht.u_image),u_dimension:new it.Uniform2f(Tt,ht.u_dimension),u_zoom:new it.Uniform1f(Tt,ht.u_zoom),u_unpack:new it.Uniform4f(Tt,ht.u_unpack)}),line:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_pixels_to_tile_units:new it.UniformMatrix2f(Tt,ht.u_pixels_to_tile_units),u_device_pixel_ratio:new it.Uniform1f(Tt,ht.u_device_pixel_ratio),u_units_to_pixels:new it.Uniform2f(Tt,ht.u_units_to_pixels),u_dash_image:new it.Uniform1i(Tt,ht.u_dash_image),u_gradient_image:new it.Uniform1i(Tt,ht.u_gradient_image),u_image_height:new it.Uniform1f(Tt,ht.u_image_height),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_scale:new it.Uniform3f(Tt,ht.u_scale),u_mix:new it.Uniform1f(Tt,ht.u_mix),u_alpha_discard_threshold:new it.Uniform1f(Tt,ht.u_alpha_discard_threshold),u_trim_offset:new it.Uniform2f(Tt,ht.u_trim_offset)}),linePattern:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_pixels_to_tile_units:new it.UniformMatrix2f(Tt,ht.u_pixels_to_tile_units),u_device_pixel_ratio:new it.Uniform1f(Tt,ht.u_device_pixel_ratio),u_image:new it.Uniform1i(Tt,ht.u_image),u_units_to_pixels:new it.Uniform2f(Tt,ht.u_units_to_pixels),u_scale:new it.Uniform3f(Tt,ht.u_scale),u_fade:new it.Uniform1f(Tt,ht.u_fade),u_alpha_discard_threshold:new it.Uniform1f(Tt,ht.u_alpha_discard_threshold)}),raster:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_tl_parent:new it.Uniform2f(Tt,ht.u_tl_parent),u_scale_parent:new it.Uniform1f(Tt,ht.u_scale_parent),u_fade_t:new it.Uniform1f(Tt,ht.u_fade_t),u_opacity:new it.Uniform1f(Tt,ht.u_opacity),u_image0:new it.Uniform1i(Tt,ht.u_image0),u_image1:new it.Uniform1i(Tt,ht.u_image1),u_brightness_low:new it.Uniform1f(Tt,ht.u_brightness_low),u_brightness_high:new it.Uniform1f(Tt,ht.u_brightness_high),u_saturation_factor:new it.Uniform1f(Tt,ht.u_saturation_factor),u_contrast_factor:new it.Uniform1f(Tt,ht.u_contrast_factor),u_spin_weights:new it.Uniform3f(Tt,ht.u_spin_weights),u_perspective_transform:new it.Uniform2f(Tt,ht.u_perspective_transform)}),symbolIcon:(Tt,ht)=>({u_is_size_zoom_constant:new it.Uniform1i(Tt,ht.u_is_size_zoom_constant),u_is_size_feature_constant:new it.Uniform1i(Tt,ht.u_is_size_feature_constant),u_size_t:new it.Uniform1f(Tt,ht.u_size_t),u_size:new it.Uniform1f(Tt,ht.u_size),u_camera_to_center_distance:new it.Uniform1f(Tt,ht.u_camera_to_center_distance),u_rotate_symbol:new it.Uniform1i(Tt,ht.u_rotate_symbol),u_aspect_ratio:new it.Uniform1f(Tt,ht.u_aspect_ratio),u_fade_change:new it.Uniform1f(Tt,ht.u_fade_change),u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_label_plane_matrix:new it.UniformMatrix4f(Tt,ht.u_label_plane_matrix),u_coord_matrix:new it.UniformMatrix4f(Tt,ht.u_coord_matrix),u_is_text:new it.Uniform1i(Tt,ht.u_is_text),u_pitch_with_map:new it.Uniform1i(Tt,ht.u_pitch_with_map),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_tile_id:new it.Uniform3f(Tt,ht.u_tile_id),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_inv_rot_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_rot_matrix),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_camera_forward:new it.Uniform3f(Tt,ht.u_camera_forward),u_tile_matrix:new it.UniformMatrix4f(Tt,ht.u_tile_matrix),u_up_vector:new it.Uniform3f(Tt,ht.u_up_vector),u_ecef_origin:new it.Uniform3f(Tt,ht.u_ecef_origin),u_texture:new it.Uniform1i(Tt,ht.u_texture)}),symbolSDF:(Tt,ht)=>({u_is_size_zoom_constant:new it.Uniform1i(Tt,ht.u_is_size_zoom_constant),u_is_size_feature_constant:new it.Uniform1i(Tt,ht.u_is_size_feature_constant),u_size_t:new it.Uniform1f(Tt,ht.u_size_t),u_size:new it.Uniform1f(Tt,ht.u_size),u_camera_to_center_distance:new it.Uniform1f(Tt,ht.u_camera_to_center_distance),u_rotate_symbol:new it.Uniform1i(Tt,ht.u_rotate_symbol),u_aspect_ratio:new it.Uniform1f(Tt,ht.u_aspect_ratio),u_fade_change:new it.Uniform1f(Tt,ht.u_fade_change),u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_label_plane_matrix:new it.UniformMatrix4f(Tt,ht.u_label_plane_matrix),u_coord_matrix:new it.UniformMatrix4f(Tt,ht.u_coord_matrix),u_is_text:new it.Uniform1i(Tt,ht.u_is_text),u_pitch_with_map:new it.Uniform1i(Tt,ht.u_pitch_with_map),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_texture:new it.Uniform1i(Tt,ht.u_texture),u_gamma_scale:new it.Uniform1f(Tt,ht.u_gamma_scale),u_device_pixel_ratio:new it.Uniform1f(Tt,ht.u_device_pixel_ratio),u_tile_id:new it.Uniform3f(Tt,ht.u_tile_id),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_inv_rot_matrix:new it.UniformMatrix4f(Tt,ht.u_inv_rot_matrix),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_camera_forward:new it.Uniform3f(Tt,ht.u_camera_forward),u_tile_matrix:new it.UniformMatrix4f(Tt,ht.u_tile_matrix),u_up_vector:new it.Uniform3f(Tt,ht.u_up_vector),u_ecef_origin:new it.Uniform3f(Tt,ht.u_ecef_origin),u_is_halo:new it.Uniform1i(Tt,ht.u_is_halo)}),symbolTextAndIcon:(Tt,ht)=>({u_is_size_zoom_constant:new it.Uniform1i(Tt,ht.u_is_size_zoom_constant),u_is_size_feature_constant:new it.Uniform1i(Tt,ht.u_is_size_feature_constant),u_size_t:new it.Uniform1f(Tt,ht.u_size_t),u_size:new it.Uniform1f(Tt,ht.u_size),u_camera_to_center_distance:new it.Uniform1f(Tt,ht.u_camera_to_center_distance),u_rotate_symbol:new it.Uniform1i(Tt,ht.u_rotate_symbol),u_aspect_ratio:new it.Uniform1f(Tt,ht.u_aspect_ratio),u_fade_change:new it.Uniform1f(Tt,ht.u_fade_change),u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_label_plane_matrix:new it.UniformMatrix4f(Tt,ht.u_label_plane_matrix),u_coord_matrix:new it.UniformMatrix4f(Tt,ht.u_coord_matrix),u_is_text:new it.Uniform1i(Tt,ht.u_is_text),u_pitch_with_map:new it.Uniform1i(Tt,ht.u_pitch_with_map),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_texsize_icon:new it.Uniform2f(Tt,ht.u_texsize_icon),u_texture:new it.Uniform1i(Tt,ht.u_texture),u_texture_icon:new it.Uniform1i(Tt,ht.u_texture_icon),u_gamma_scale:new it.Uniform1f(Tt,ht.u_gamma_scale),u_device_pixel_ratio:new it.Uniform1f(Tt,ht.u_device_pixel_ratio),u_is_halo:new it.Uniform1i(Tt,ht.u_is_halo)}),background:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_opacity:new it.Uniform1f(Tt,ht.u_opacity),u_color:new it.UniformColor(Tt,ht.u_color)}),backgroundPattern:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_opacity:new it.Uniform1f(Tt,ht.u_opacity),u_image:new it.Uniform1i(Tt,ht.u_image),u_pattern_tl_a:new it.Uniform2f(Tt,ht.u_pattern_tl_a),u_pattern_br_a:new it.Uniform2f(Tt,ht.u_pattern_br_a),u_pattern_tl_b:new it.Uniform2f(Tt,ht.u_pattern_tl_b),u_pattern_br_b:new it.Uniform2f(Tt,ht.u_pattern_br_b),u_texsize:new it.Uniform2f(Tt,ht.u_texsize),u_mix:new it.Uniform1f(Tt,ht.u_mix),u_pattern_size_a:new it.Uniform2f(Tt,ht.u_pattern_size_a),u_pattern_size_b:new it.Uniform2f(Tt,ht.u_pattern_size_b),u_scale_a:new it.Uniform1f(Tt,ht.u_scale_a),u_scale_b:new it.Uniform1f(Tt,ht.u_scale_b),u_pixel_coord_upper:new it.Uniform2f(Tt,ht.u_pixel_coord_upper),u_pixel_coord_lower:new it.Uniform2f(Tt,ht.u_pixel_coord_lower),u_tile_units_to_pixels:new it.Uniform1f(Tt,ht.u_tile_units_to_pixels)}),terrainRaster:$p,terrainDepth:$p,skybox:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_sun_direction:new it.Uniform3f(Tt,ht.u_sun_direction),u_cubemap:new it.Uniform1i(Tt,ht.u_cubemap),u_opacity:new it.Uniform1f(Tt,ht.u_opacity),u_temporal_offset:new it.Uniform1f(Tt,ht.u_temporal_offset)}),skyboxGradient:(Tt,ht)=>({u_matrix:new it.UniformMatrix4f(Tt,ht.u_matrix),u_color_ramp:new it.Uniform1i(Tt,ht.u_color_ramp),u_center_direction:new it.Uniform3f(Tt,ht.u_center_direction),u_radius:new it.Uniform1f(Tt,ht.u_radius),u_opacity:new it.Uniform1f(Tt,ht.u_opacity),u_temporal_offset:new it.Uniform1f(Tt,ht.u_temporal_offset)}),skyboxCapture:(Tt,ht)=>({u_matrix_3f:new it.UniformMatrix3f(Tt,ht.u_matrix_3f),u_sun_direction:new it.Uniform3f(Tt,ht.u_sun_direction),u_sun_intensity:new it.Uniform1f(Tt,ht.u_sun_intensity),u_color_tint_r:new it.Uniform4f(Tt,ht.u_color_tint_r),u_color_tint_m:new it.Uniform4f(Tt,ht.u_color_tint_m),u_luminance:new it.Uniform1f(Tt,ht.u_luminance)}),globeRaster:(Tt,ht)=>({u_proj_matrix:new it.UniformMatrix4f(Tt,ht.u_proj_matrix),u_globe_matrix:new it.UniformMatrix4f(Tt,ht.u_globe_matrix),u_normalize_matrix:new it.UniformMatrix4f(Tt,ht.u_normalize_matrix),u_merc_matrix:new it.UniformMatrix4f(Tt,ht.u_merc_matrix),u_zoom_transition:new it.Uniform1f(Tt,ht.u_zoom_transition),u_merc_center:new it.Uniform2f(Tt,ht.u_merc_center),u_image0:new it.Uniform1i(Tt,ht.u_image0),u_grid_matrix:new it.UniformMatrix3f(Tt,ht.u_grid_matrix),u_frustum_tl:new it.Uniform3f(Tt,ht.u_frustum_tl),u_frustum_tr:new it.Uniform3f(Tt,ht.u_frustum_tr),u_frustum_br:new it.Uniform3f(Tt,ht.u_frustum_br),u_frustum_bl:new it.Uniform3f(Tt,ht.u_frustum_bl),u_globe_pos:new it.Uniform3f(Tt,ht.u_globe_pos),u_globe_radius:new it.Uniform1f(Tt,ht.u_globe_radius),u_viewport:new it.Uniform2f(Tt,ht.u_viewport)}),globeAtmosphere:(Tt,ht)=>({u_frustum_tl:new it.Uniform3f(Tt,ht.u_frustum_tl),u_frustum_tr:new it.Uniform3f(Tt,ht.u_frustum_tr),u_frustum_br:new it.Uniform3f(Tt,ht.u_frustum_br),u_frustum_bl:new it.Uniform3f(Tt,ht.u_frustum_bl),u_horizon:new it.Uniform1f(Tt,ht.u_horizon),u_transition:new it.Uniform1f(Tt,ht.u_transition),u_fadeout_range:new it.Uniform1f(Tt,ht.u_fadeout_range),u_color:new it.Uniform4f(Tt,ht.u_color),u_high_color:new it.Uniform4f(Tt,ht.u_high_color),u_space_color:new it.Uniform4f(Tt,ht.u_space_color),u_star_intensity:new it.Uniform1f(Tt,ht.u_star_intensity),u_star_density:new it.Uniform1f(Tt,ht.u_star_density),u_star_size:new it.Uniform1f(Tt,ht.u_star_size),u_temporal_offset:new it.Uniform1f(Tt,ht.u_temporal_offset),u_horizon_angle:new it.Uniform1f(Tt,ht.u_horizon_angle),u_rotation_matrix:new it.UniformMatrix4f(Tt,ht.u_rotation_matrix)})};let vr;function kn(Tt,ht,bt,Pt,Rt,kt,Vt){const Ht=Tt.context,Yt=Ht.gl,Jt=Tt.transform,ir=Tt.useProgram("collisionBox"),cr=[];let pr=0,xr=0;for(let Nr=0;Nr<Pt.length;Nr++){const $r=Pt[Nr],Dr=ht.getTile($r),Gr=Dr.getBucket(bt);if(!Gr)continue;const mn=Is($r,Gr,Jt);let xn=mn;Rt[0]===0&&Rt[1]===0||(xn=Tt.translatePosMatrix(mn,Dr,Rt,kt));const gn=Vt?Gr.textCollisionBox:Gr.iconCollisionBox,hn=Gr.collisionCircleArray;if(hn.length>0){const kr=it.create(),On=xn;it.mul(kr,Gr.placementInvProjMatrix,Jt.glCoordMatrix),it.mul(kr,kr,Gr.placementViewportMatrix),cr.push({circleArray:hn,circleOffset:xr,transform:On,invTransform:kr,projection:Gr.getProjection()}),pr+=hn.length/4,xr=pr}gn&&(Tt.terrain&&Tt.terrain.setupElevationDraw(Dr,ir),ir.draw(Ht,Yt.LINES,it.DepthMode.disabled,it.StencilMode.disabled,Tt.colorModeForRenderPass(),it.CullFaceMode.disabled,yv(xn,Jt,Dr,Gr.getProjection()),bt.id,gn.layoutVertexBuffer,gn.indexBuffer,gn.segments,null,Jt.zoom,null,gn.collisionVertexBuffer,gn.collisionVertexBufferExt))}if(!Vt||!cr.length)return;const br=Tt.useProgram("collisionCircle"),mr=new it.StructArrayLayout2f1f2i16;mr.resize(4*pr),mr._trim();let Ir=0;for(const Nr of cr)for(let $r=0;$r<Nr.circleArray.length/4;$r++){const Dr=4*$r,Gr=Nr.circleArray[Dr+0],mn=Nr.circleArray[Dr+1],xn=Nr.circleArray[Dr+2],gn=Nr.circleArray[Dr+3];mr.emplace(Ir++,Gr,mn,xn,gn,0),mr.emplace(Ir++,Gr,mn,xn,gn,1),mr.emplace(Ir++,Gr,mn,xn,gn,2),mr.emplace(Ir++,Gr,mn,xn,gn,3)}(!vr||vr.length<2*pr)&&(vr=function(Nr){const $r=2*Nr,Dr=new it.StructArrayLayout3ui6;Dr.resize($r),Dr._trim();for(let Gr=0;Gr<$r;Gr++){const mn=6*Gr;Dr.uint16[mn+0]=4*Gr+0,Dr.uint16[mn+1]=4*Gr+1,Dr.uint16[mn+2]=4*Gr+2,Dr.uint16[mn+3]=4*Gr+2,Dr.uint16[mn+4]=4*Gr+3,Dr.uint16[mn+5]=4*Gr+0}return Dr}(pr));const _r=Ht.createIndexBuffer(vr,!0),Cr=Ht.createVertexBuffer(mr,it.collisionCircleLayout.members,!0);for(const Nr of cr){const $r={u_matrix:Nr.transform,u_inv_matrix:Nr.invTransform,u_camera_to_center_distance:(Tr=Jt).getCameraToCenterDistance(Nr.projection),u_viewport_size:[Tr.width,Tr.height]};br.draw(Ht,Yt.TRIANGLES,it.DepthMode.disabled,it.StencilMode.disabled,Tt.colorModeForRenderPass(),it.CullFaceMode.disabled,$r,bt.id,Cr,_r,it.SegmentVector.simpleSegment(0,2*Nr.circleOffset,Nr.circleArray.length,Nr.circleArray.length/2),null,Jt.zoom)}var Tr;Cr.destroy(),_r.destroy()}const _o=it.create();function ns(Tt,ht,bt,Pt,Rt,kt){const{horizontalAlign:Vt,verticalAlign:Ht}=it.getAnchorAlignment(Tt),Yt=-(Vt-.5)*ht,Jt=-(Ht-.5)*bt,ir=it.evaluateVariableOffset(Tt,Pt);return new it.pointGeometry((Yt/Rt+ir[0])*kt,(Jt/Rt+ir[1])*kt)}function vu(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir){const cr=Tt.text.placedSymbolArray,pr=Tt.text.dynamicLayoutVertexArray,xr=Tt.icon.dynamicLayoutVertexArray,br={},mr=wu(Ht,Tt.getProjection(),kt),Ir=kt.elevation,_r=Tt.getProjection().upVectorScale(Ht.canonical,kt.center.lat,kt.worldSize);pr.clear();for(let Cr=0;Cr<cr.length;Cr++){const Tr=cr.get(Cr),Nr=Tt.allowVerticalPlacement&&!Tr.placedOrientation,$r=Tr.hidden||!Tr.crossTileID||Nr?null:Pt[Tr.crossTileID];if($r){const Dr=new it.pointGeometry(Tr.tileAnchorX,Tr.tileAnchorY),Gr=Tt.getProjection().upVector(Ht.canonical,Dr.x,Dr.y),mn=Ir?Ir.getAtTileOffset(Ht,Dr.x,Dr.y):0,xn=Jo([Tr.projectedAnchorX+mn*Gr[0]*_r.metersToTile,Tr.projectedAnchorY+mn*Gr[1]*_r.metersToTile,Tr.projectedAnchorZ+mn*Gr[2]*_r.metersToTile],bt?mr:Vt),gn=As(kt.getCameraToCenterDistance(Tt.getProjection()),xn.signedDistanceFromCamera);let hn=Rt.evaluateSizeForFeature(Tt.textSizeData,Jt,Tr)*gn/it.ONE_EM;bt&&(hn*=Tt.tilePixelRatio/Yt);const{width:kr,height:On,anchor:Ln,textOffset:na,textScale:Tn}=$r,xo=ns(Ln,kr,On,na,Tn,hn);let Jn;if(bt){const Yn=Dr.add(xo),{x:Zn,y:Mo,z:Co}=Tt.getProjection().projectTilePoint(Yn.x,Yn.y,Ht.canonical);Jn=Jo([Zn+mn*Gr[0]*_r.metersToTile,Mo+mn*Gr[1]*_r.metersToTile,Co+mn*Gr[2]*_r.metersToTile],Vt).point}else{const Yn=ht?xo.rotate(-kt.angle):xo;Jn=[xn.point[0]+Yn.x,xn.point[1]+Yn.y,0]}const Qn=Tt.allowVerticalPlacement&&Tr.placedOrientation===it.WritingMode.vertical?Math.PI/2:0;for(let Yn=0;Yn<Tr.numGlyphs;Yn++)it.addDynamicAttributes(pr,Jn[0],Jn[1],Jn[2],Qn);ir&&Tr.associatedIconIndex>=0&&(br[Tr.associatedIconIndex]={shiftedAnchor:Jn,angle:Qn})}else wo(Tr.numGlyphs,pr)}if(ir){xr.clear();const Cr=Tt.icon.placedSymbolArray;for(let Tr=0;Tr<Cr.length;Tr++){const Nr=Cr.get(Tr);if(Nr.hidden)wo(Nr.numGlyphs,xr);else{const $r=br[Tr];if($r)for(let Dr=0;Dr<Nr.numGlyphs;Dr++)it.addDynamicAttributes(xr,$r.shiftedAnchor[0],$r.shiftedAnchor[1],$r.shiftedAnchor[2],$r.angle);else wo(Nr.numGlyphs,xr)}}Tt.icon.dynamicLayoutVertexBuffer.updateData(xr)}Tt.text.dynamicLayoutVertexBuffer.updateData(pr)}function Eu(Tt,ht,bt){return bt.iconsInText&&ht?"symbolTextAndIcon":Tt?"symbolSDF":"symbolIcon"}function tm(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt,Jt,ir,cr){const pr=Tt.context,xr=pr.gl,br=Tt.transform,mr=Ht==="map",Ir=Yt==="map",_r=mr&&bt.layout.get("symbol-placement")!=="point",Cr=mr&&!Ir&&!_r,Tr=bt.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Nr=!1;const $r=Tt.depthModeForSublayer(0,it.DepthMode.ReadOnly),Dr=[it.mercatorXfromLng(br.center.lng),it.mercatorYfromLat(br.center.lat)],Gr=bt.layout.get("text-variable-anchor"),mn=br.projection.name==="globe",xn=[],gn=[0,-1,0];let hn=gn;!mn&&!br.mercatorFromTransition||mr||(hn=function(kr){const On=kr._camera.getWorldToCamera(kr.worldSize,1),Ln=it.multiply([],On,kr.globeMatrix);it.invert(Ln,Ln);const na=[0,0,0],Tn=[0,1,0,0];return it.transformMat4$1(Tn,Tn,Ln),na[0]=Tn[0],na[1]=Tn[1],na[2]=Tn[2],it.normalize(na,na),na}(br));for(const kr of Pt){const On=ht.getTile(kr),Ln=On.getBucket(bt);if(!Ln||Ln.projection.name==="mercator"&&mn)continue;const na=Rt?Ln.text:Ln.icon;if(!na||Ln.fullyClipped||!na.segments.get().length)continue;const Tn=na.programConfigurations.get(bt.id),xo=Rt||Ln.sdfIcons,Jn=Rt?Ln.textSizeData:Ln.iconSizeData,Qn=Ir||br.pitch!==0,Yn=it.evaluateSizeForZoom(Jn,br.zoom);let Zn,Mo,Co,Fo,yo=[0,0],ko=null;if(Rt){if(Mo=On.glyphAtlasTexture,Co=xr.LINEAR,Zn=On.glyphAtlasTexture.size,Ln.iconsInText){yo=On.imageAtlasTexture.size,ko=On.imageAtlasTexture;const Vs=Jn.kind==="composite"||Jn.kind==="camera";Fo=Qn||Tt.options.rotating||Tt.options.zooming||Vs?xr.LINEAR:xr.NEAREST}}else{const Vs=bt.layout.get("icon-size").constantOr(0)!==1||Ln.iconsNeedLinear;Mo=On.imageAtlasTexture,Co=xo||Tt.options.rotating||Tt.options.zooming||Vs||Qn?xr.LINEAR:xr.NEAREST,Zn=On.imageAtlasTexture.size}const us=Ln.projection.name==="globe",ps=us?hn:gn,Os=us?it.globeToMercatorTransition(br.zoom):0,ys=wu(kr,Ln.getProjection(),br),Ul=br.calculatePixelsToTileUnitsMatrix(On),gu=Hn(ys,On.tileID.canonical,Ir,mr,br,Ln.getProjection(),Ul),Au=Tt.terrain&&Ir&&_r?it.invert(it.create(),gu):_o,Ss=Qo(ys,On.tileID.canonical,Ir,mr,br,Ln.getProjection(),Ul),Ts=Gr&&Ln.hasTextData(),fs=bt.layout.get("icon-text-fit")!=="none"&&Ts&&Ln.hasIconData();if(_r){const Vs=br.elevation,yu=Vs?Vs.getAtTileOffsetFunc(kr,br.center.lat,br.worldSize,Ln.getProjection()):Iv=>[0,0,0],Pu=ho(ys,On.tileID.canonical,Ir,mr,br,Ln.getProjection(),Ul);Ms(Ln,ys,Tt,Rt,Pu,Ss,Ir,Jt,yu,kr)}const Bs=_r||Rt&&Gr||fs,Qs=Tt.translatePosMatrix(ys,On,kt,Vt),es=Bs?_o:gu,Pl=Tt.translatePosMatrix(Ss,On,kt,Vt,!0),dp=Ln.getProjection().createInversionMatrix(br,kr.canonical),uu=[];Tt.terrain&&Ir&&uu.push("PITCH_WITH_MAP_TERRAIN"),us&&uu.push("PROJECTION_GLOBE_VIEW"),Bs&&uu.push("PROJECTED_POS_ON_VIEWPORT");const Wp=xo&&bt.paint.get(Rt?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Kp;Kp=xo?Ln.iconsInText?ap(Jn.kind,Yn,Cr,Ir,Tt,Qs,es,Pl,Zn,yo,kr,Os,Dr,dp,ps,Ln.getProjection()):Fp(Jn.kind,Yn,Cr,Ir,Tt,Qs,es,Pl,Rt,Zn,!0,kr,Os,Dr,dp,ps,Ln.getProjection()):su(Jn.kind,Yn,Cr,Ir,Tt,Qs,es,Pl,Rt,Zn,kr,Os,Dr,dp,ps,Ln.getProjection());const Uu={program:Tt.useProgram(Eu(xo,Rt,Ln),Tn,uu),buffers:na,uniformValues:Kp,atlasTexture:Mo,atlasTextureIcon:ko,atlasInterpolation:Co,atlasInterpolationIcon:Fo,isSDF:xo,hasHalo:Wp,tile:On,labelPlaneMatrixInv:Au};if(Tr&&Ln.canOverlap){Nr=!0;const Vs=na.segments.get();for(const yu of Vs)xn.push({segments:new it.SegmentVector([yu]),sortKey:yu.sortKey,state:Uu})}else xn.push({segments:na.segments,sortKey:0,state:Uu})}Nr&&xn.sort((kr,On)=>kr.sortKey-On.sortKey);for(const kr of xn){const On=kr.state;if(Tt.terrain&&Tt.terrain.setupElevationDraw(On.tile,On.program,{useDepthForOcclusion:!mn,labelPlaneMatrixInv:On.labelPlaneMatrixInv}),pr.activeTexture.set(xr.TEXTURE0),On.atlasTexture.bind(On.atlasInterpolation,xr.CLAMP_TO_EDGE),On.atlasTextureIcon&&(pr.activeTexture.set(xr.TEXTURE1),On.atlasTextureIcon&&On.atlasTextureIcon.bind(On.atlasInterpolationIcon,xr.CLAMP_TO_EDGE)),On.isSDF){const Ln=On.uniformValues;On.hasHalo&&(Ln.u_is_halo=1,Km(On.buffers,kr.segments,bt,Tt,On.program,$r,ir,cr,Ln)),Ln.u_is_halo=0}Km(On.buffers,kr.segments,bt,Tt,On.program,$r,ir,cr,On.uniformValues)}}function Km(Tt,ht,bt,Pt,Rt,kt,Vt,Ht,Yt){const Jt=Pt.context;Rt.draw(Jt,Jt.gl.TRIANGLES,kt,Vt,Ht,it.CullFaceMode.disabled,Yt,bt.id,Tt.layoutVertexBuffer,Tt.indexBuffer,ht,bt.paint,Pt.transform.zoom,Tt.programConfigurations.get(bt.id),Tt.dynamicLayoutVertexBuffer,Tt.opacityVertexBuffer,Tt.globeExtVertexBuffer)}function Ym(Tt,ht,bt,Pt,Rt,kt,Vt){const Ht=Tt.context.gl,Yt=bt.paint.get("fill-pattern"),Jt=Yt&&Yt.constantOr(1),ir=bt.getCrossfadeParameters();let cr,pr,xr,br,mr;Vt?(pr=Jt&&!bt.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",cr=Ht.LINES):(pr=Jt?"fillPattern":"fill",cr=Ht.TRIANGLES);for(const Ir of Pt){const _r=ht.getTile(Ir);if(Jt&&!_r.patternsLoaded())continue;const Cr=_r.getBucket(bt);if(!Cr)continue;Tt.prepareDrawTile();const Tr=Cr.programConfigurations.get(bt.id),Nr=Tt.useProgram(pr,Tr);Jt&&(Tt.context.activeTexture.set(Ht.TEXTURE0),_r.imageAtlasTexture.bind(Ht.LINEAR,Ht.CLAMP_TO_EDGE),Tr.updatePaintBuffers(ir));const $r=Yt.constantOr(null);if($r&&_r.imageAtlas){const Gr=_r.imageAtlas,mn=Gr.patternPositions[$r.to.toString()],xn=Gr.patternPositions[$r.from.toString()];mn&&xn&&Tr.setConstantPatternPositions(mn,xn)}const Dr=Tt.translatePosMatrix(Ir.projMatrix,_r,bt.paint.get("fill-translate"),bt.paint.get("fill-translate-anchor"));if(Vt){br=Cr.indexBuffer2,mr=Cr.segments2;const Gr=Tt.terrain&&Tt.terrain.renderingToTexture?Tt.terrain.drapeBufferSize:[Ht.drawingBufferWidth,Ht.drawingBufferHeight];xr=pr==="fillOutlinePattern"&&Jt?zu(Dr,Tt,ir,_r,Gr):Dp(Dr,Gr)}else br=Cr.indexBuffer,mr=Cr.segments,xr=Jt?mv(Dr,Tt,ir,_r):Fu(Dr);Tt.prepareDrawProgram(Tt.context,Nr,Ir.toUnwrapped()),Nr.draw(Tt.context,cr,Rt,Tt.stencilModeForClipping(Ir),kt,it.CullFaceMode.disabled,xr,bt.id,Cr.layoutVertexBuffer,br,mr,bt.paint,Tt.transform.zoom,Tr)}}function rm(Tt,ht,bt,Pt,Rt,kt,Vt){const Ht=Tt.context,Yt=Ht.gl,Jt=Tt.transform,ir=bt.paint.get("fill-extrusion-pattern"),cr=ir.constantOr(1),pr=bt.getCrossfadeParameters(),xr=bt.paint.get("fill-extrusion-opacity"),br=Jt.projection.name==="globe"?it.fillExtrusionHeightLift():0,mr=Jt.projection.name==="globe",Ir=mr?it.globeToMercatorTransition(Jt.zoom):0,_r=[it.mercatorXfromLng(Jt.center.lng),it.mercatorYfromLat(Jt.center.lat)],Cr=[];mr&&Cr.push("PROJECTION_GLOBE_VIEW");for(const Tr of Pt){const Nr=ht.getTile(Tr),$r=Nr.getBucket(bt);if(!$r||$r.projection.name!==Jt.projection.name)continue;const Dr=$r.programConfigurations.get(bt.id),Gr=Tt.useProgram(cr?"fillExtrusionPattern":"fillExtrusion",Dr,Cr);if(Tt.terrain){const On=Tt.terrain;if(Tt.style.terrainSetForDrapingOnly())On.setupElevationDraw(Nr,Gr,{useMeterToDem:!0});else{if(!$r.enableTerrain)continue;if(On.setupElevationDraw(Nr,Gr,{useMeterToDem:!0}),qm(Ht,ht,Tr,$r,bt,On),!$r.centroidVertexBuffer){const Ln=Gr.attributes.a_centroid_pos;Ln!==void 0&&Yt.vertexAttrib2f(Ln,0,0)}}}cr&&(Tt.context.activeTexture.set(Yt.TEXTURE0),Nr.imageAtlasTexture.bind(Yt.LINEAR,Yt.CLAMP_TO_EDGE),Dr.updatePaintBuffers(pr));const mn=ir.constantOr(null);if(mn&&Nr.imageAtlas){const On=Nr.imageAtlas,Ln=On.patternPositions[mn.to.toString()],na=On.patternPositions[mn.from.toString()];Ln&&na&&Dr.setConstantPatternPositions(Ln,na)}const xn=Tt.translatePosMatrix(Tr.projMatrix,Nr,bt.paint.get("fill-extrusion-translate"),bt.paint.get("fill-extrusion-translate-anchor")),gn=Jt.projection.createInversionMatrix(Jt,Tr.canonical),hn=bt.paint.get("fill-extrusion-vertical-gradient"),kr=cr?Nu(xn,Tt,hn,xr,Tr,pr,Nr,br,Ir,_r,gn):vv(xn,Tt,hn,xr,Tr,br,Ir,_r,gn);Tt.prepareDrawProgram(Ht,Gr,Tr.toUnwrapped()),Gr.draw(Ht,Ht.gl.TRIANGLES,Rt,kt,Vt,it.CullFaceMode.backCCW,kr,bt.id,$r.layoutVertexBuffer,$r.indexBuffer,$r.segments,bt.paint,Tt.transform.zoom,Dr,Tt.terrain?$r.centroidVertexBuffer:null,mr?$r.layoutVertexExtBuffer:null)}}function qm(Tt,ht,bt,Pt,Rt,kt){const Vt=[_r=>{let Cr=_r.canonical.x-1,Tr=_r.wrap;return Cr<0&&(Cr=(1<<_r.canonical.z)-1,Tr--),new it.OverscaledTileID(_r.overscaledZ,Tr,_r.canonical.z,Cr,_r.canonical.y)},_r=>{let Cr=_r.canonical.x+1,Tr=_r.wrap;return Cr===1<<_r.canonical.z&&(Cr=0,Tr++),new it.OverscaledTileID(_r.overscaledZ,Tr,_r.canonical.z,Cr,_r.canonical.y)},_r=>new it.OverscaledTileID(_r.overscaledZ,_r.wrap,_r.canonical.z,_r.canonical.x,(_r.canonical.y===0?1<<_r.canonical.z:_r.canonical.y)-1),_r=>new it.OverscaledTileID(_r.overscaledZ,_r.wrap,_r.canonical.z,_r.canonical.x,_r.canonical.y===(1<<_r.canonical.z)-1?0:_r.canonical.y+1)],Ht=_r=>{const Cr=ht.getSource().minzoom,Tr=$r=>{const Dr=ht.getTileByID($r);if(Dr&&Dr.hasData())return Dr.getBucket(Rt)},Nr=[0,-1,1];for(const $r of Nr){if(_r.overscaledZ+$r<Cr)continue;const Dr=Tr(_r.calculateScaledKey(_r.overscaledZ+$r));if(Dr)return Dr}},Yt=[0,0,0],Jt=(_r,Cr)=>(Yt[0]=Math.min(_r.min.y,Cr.min.y),Yt[1]=Math.max(_r.max.y,Cr.max.y),Yt[2]=it.EXTENT-Cr.min.x>_r.max.x?Cr.min.x-it.EXTENT:_r.max.x,Yt),ir=(_r,Cr)=>(Yt[0]=Math.min(_r.min.x,Cr.min.x),Yt[1]=Math.max(_r.max.x,Cr.max.x),Yt[2]=it.EXTENT-Cr.min.y>_r.max.y?Cr.min.y-it.EXTENT:_r.max.y,Yt),cr=[(_r,Cr)=>Jt(_r,Cr),(_r,Cr)=>Jt(Cr,_r),(_r,Cr)=>ir(_r,Cr),(_r,Cr)=>ir(Cr,_r)],pr=new it.pointGeometry(0,0);let xr,br,mr;const Ir=(_r,Cr,Tr,Nr,$r)=>{const Dr=[[Nr?Tr:_r,Nr?_r:Tr,0],[Nr?Tr:Cr,Nr?Cr:Tr,0]],Gr=$r<0?it.EXTENT+$r:$r,mn=[Nr?Gr:(_r+Cr)/2,Nr?(_r+Cr)/2:Gr,0];return Tr===0&&$r<0||Tr!==0&&$r>0?kt.getForTilePoints(mr,[mn],!0,br):Dr.push(mn),kt.getForTilePoints(bt,Dr,!0,xr),Math.max(Dr[0][2],Dr[1][2],mn[2])/kt.exaggeration()};for(let _r=0;_r<4;_r++){const Cr=(_r<2?1:5)-_r,Tr=Pt.borders[_r];if(Tr.length===0)continue;const Nr=mr=Vt[_r](bt),$r=Ht(Nr);if(!($r&&$r instanceof it.FillExtrusionBucket&&$r.enableTerrain)||Pt.borderDoneWithNeighborZ[_r]===$r.canonical.z&&$r.borderDoneWithNeighborZ[Cr]===Pt.canonical.z||(br=kt.findDEMTileFor(Nr),!br||!br.dem))continue;if(!xr){const xn=kt.findDEMTileFor(bt);if(!xn||!xn.dem)return;xr=xn}const Dr=$r.borders[Cr];let Gr=0;const mn=$r.borderDoneWithNeighborZ[Cr]!==Pt.canonical.z;if(Pt.canonical.z===$r.canonical.z){for(let xn=0;xn<Tr.length;xn++){const gn=Pt.featuresOnBorder[Tr[xn]],hn=gn.borders[_r];let kr;for(;Gr<Dr.length&&(kr=$r.featuresOnBorder[Dr[Gr]],!(kr.borders[Cr][1]>hn[0]+3));)mn&&$r.encodeCentroid(void 0,kr,!1),Gr++;if(kr&&Gr<Dr.length){const On=Gr;let Ln=0;for(;!(kr.borders[Cr][0]>hn[1]-3)&&(Ln++,++Gr!==Dr.length);)kr=$r.featuresOnBorder[Dr[Gr]];if(kr=$r.featuresOnBorder[Dr[On]],gn.intersectsCount()>1||kr.intersectsCount()>1||Ln!==1){Ln!==1&&(Gr=On),Pt.encodeCentroid(void 0,gn,!1),mn&&$r.encodeCentroid(void 0,kr,!1);continue}const na=cr[_r](gn,kr),Tn=_r%2?it.EXTENT-1:0;pr.x=Ir(na[0],Math.min(it.EXTENT-1,na[1]),Tn,_r<2,na[2]),pr.y=0,Pt.encodeCentroid(pr,gn,!1),mn&&$r.encodeCentroid(pr,kr,!1)}else Pt.encodeCentroid(void 0,gn,!1)}Pt.borderDoneWithNeighborZ[_r]=$r.canonical.z,Pt.needsCentroidUpdate=!0,mn&&($r.borderDoneWithNeighborZ[Cr]=Pt.canonical.z,$r.needsCentroidUpdate=!0)}else{for(const xn of Tr)Pt.encodeCentroid(void 0,Pt.featuresOnBorder[xn],!1);if(mn){for(const xn of Dr)$r.encodeCentroid(void 0,$r.featuresOnBorder[xn],!1);$r.borderDoneWithNeighborZ[Cr]=Pt.canonical.z,$r.needsCentroidUpdate=!0}Pt.borderDoneWithNeighborZ[_r]=$r.canonical.z,Pt.needsCentroidUpdate=!0}}(Pt.needsCentroidUpdate||!Pt.centroidVertexBuffer&&Pt.centroidVertexArray.length!==0)&&Pt.uploadCentroid(Tt)}const op=new it.Color(1,0,0,1),xv=new it.Color(0,1,0,1),zy=new it.Color(0,0,1,1),zp=new it.Color(1,0,1,1),Bp=new it.Color(0,1,1,1);function Zm(Tt,ht,bt,Pt){as(Tt,0,ht+bt/2,Tt.transform.width,bt,Pt)}function nm(Tt,ht,bt,Pt){as(Tt,ht-bt/2,0,bt,Tt.transform.height,Pt)}function as(Tt,ht,bt,Pt,Rt,kt){const Vt=Tt.context,Ht=Vt.gl;Ht.enable(Ht.SCISSOR_TEST),Ht.scissor(ht*it.exported.devicePixelRatio,bt*it.exported.devicePixelRatio,Pt*it.exported.devicePixelRatio,Rt*it.exported.devicePixelRatio),Vt.clear({color:kt}),Ht.disable(Ht.SCISSOR_TEST)}function am(Tt,ht,bt){const Pt=Tt.context,Rt=Pt.gl,kt=Tt.transform.projection.name==="globe",Vt=bt.projMatrix,Ht=Tt.useProgram("debug",null,kt?["PROJECTION_GLOBE_VIEW"]:null),Yt=ht.getTileByID(bt.key);Tt.terrain&&Tt.terrain.setupElevationDraw(Yt,Ht);const Jt=it.DepthMode.disabled,ir=it.StencilMode.disabled,cr=Tt.colorModeForRenderPass(),pr="$debug";Pt.activeTexture.set(Rt.TEXTURE0),Tt.emptyTexture.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE),kt?Yt._makeGlobeTileDebugBuffers(Tt.context,Tt.transform.projection):Yt._makeDebugTileBoundsBuffers(Tt.context,Tt.transform.projection);const xr=Yt._tileDebugBuffer||Tt.debugBuffer,br=Yt._tileDebugIndexBuffer||Tt.debugIndexBuffer,mr=Yt._tileDebugSegments||Tt.debugSegments;Ht.draw(Pt,Rt.LINE_STRIP,Jt,ir,cr,it.CullFaceMode.disabled,Op(Vt,it.Color.red),pr,xr,br,mr,null,null,null,Yt._globeTileDebugBorderBuffer);const Ir=Yt.latestRawTileData,_r=Math.floor((Ir&&Ir.byteLength||0)/1024),Cr=ht.getTile(bt).tileSize,Tr=512/Math.min(Cr,512)*(bt.overscaledZ/Tt.transform.zoom)*.5;let Nr=bt.canonical.toString();bt.overscaledZ!==bt.canonical.z&&(Nr+=` => ${bt.overscaledZ}`),function(mn,xn){mn.initDebugOverlayCanvas();const gn=mn.debugOverlayCanvas,hn=mn.context.gl,kr=mn.debugOverlayCanvas.getContext("2d");kr.clearRect(0,0,gn.width,gn.height),kr.shadowColor="white",kr.shadowBlur=2,kr.lineWidth=1.5,kr.strokeStyle="white",kr.textBaseline="top",kr.font="bold 36px Open Sans, sans-serif",kr.fillText(xn,5,5),kr.strokeText(xn,5,5),mn.debugOverlayTexture.update(gn),mn.debugOverlayTexture.bind(hn.LINEAR,hn.CLAMP_TO_EDGE)}(Tt,`${Nr} ${_r}kb`);const $r=Yt._tileDebugTextBuffer||Tt.debugBuffer,Dr=Yt._tileDebugTextIndexBuffer||Tt.quadTriangleIndexBuffer,Gr=Yt._tileDebugTextSegments||Tt.debugSegments;Ht.draw(Pt,Rt.TRIANGLES,Jt,ir,it.ColorMode.alphaBlended,it.CullFaceMode.disabled,Op(Vt,it.Color.transparent,Tr),pr,$r,Dr,Gr,null,null,null,Yt._globeTileDebugTextBuffer)}const J0=it.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:By}=J0;function Wl(Tt,ht,bt,Pt){Tt.emplaceBack(ht,bt,Pt)}class Vy{constructor(ht){this.vertexArray=new it.StructArrayLayout3f12,this.indices=new it.StructArrayLayout3ui6,Wl(this.vertexArray,-1,-1,1),Wl(this.vertexArray,1,-1,1),Wl(this.vertexArray,-1,1,1),Wl(this.vertexArray,1,1,1),Wl(this.vertexArray,-1,-1,-1),Wl(this.vertexArray,1,-1,-1),Wl(this.vertexArray,-1,1,-1),Wl(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=ht.createVertexBuffer(this.vertexArray,By),this.indexBuffer=ht.createIndexBuffer(this.indices),this.segment=it.SegmentVector.simpleSegment(0,0,36,12)}}function Vp(Tt,ht,bt,Pt,Rt,kt){const Vt=Tt.gl,Ht=ht.paint.get("sky-atmosphere-color"),Yt=ht.paint.get("sky-atmosphere-halo-color"),Jt=ht.paint.get("sky-atmosphere-sun-intensity"),ir=((cr,pr,xr,br,mr)=>({u_matrix_3f:cr,u_sun_direction:pr,u_sun_intensity:xr,u_color_tint_r:[br.r,br.g,br.b,br.a],u_color_tint_m:[mr.r,mr.g,mr.b,mr.a],u_luminance:5e-5}))(it.fromMat4(it.create$1(),Pt),Rt,Jt,Ht,Yt);Vt.framebufferTexture2D(Vt.FRAMEBUFFER,Vt.COLOR_ATTACHMENT0,Vt.TEXTURE_CUBE_MAP_POSITIVE_X+kt,ht.skyboxTexture,0),bt.draw(Tt,Vt.TRIANGLES,it.DepthMode.disabled,it.StencilMode.disabled,it.ColorMode.unblended,it.CullFaceMode.frontCW,ir,"skyboxCapture",ht.skyboxGeometry.vertexBuffer,ht.skyboxGeometry.indexBuffer,ht.skyboxGeometry.segment)}const Uy=it.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class e_{constructor(ht){const bt=new it.StructArrayLayout5f20;bt.emplaceBack(-1,1,1,0,0),bt.emplaceBack(1,1,1,1,0),bt.emplaceBack(1,-1,1,1,1),bt.emplaceBack(-1,-1,1,0,1);const Pt=new it.StructArrayLayout3ui6;Pt.emplaceBack(0,1,2),Pt.emplaceBack(2,3,0),this.vertexBuffer=ht.createVertexBuffer(bt,Uy.members),this.indexBuffer=ht.createIndexBuffer(Pt),this.segments=it.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const im={symbol:function(Tt,ht,bt,Pt,Rt){if(Tt.renderPass!=="translucent")return;const kt=it.StencilMode.disabled,Vt=Tt.colorModeForRenderPass();bt.layout.get("text-variable-anchor")&&function(Ht,Yt,Jt,ir,cr,pr,xr){const br=Yt.transform,mr=cr==="map",Ir=pr==="map";for(const _r of Ht){const Cr=ir.getTile(_r),Tr=Cr.getBucket(Jt);if(!Tr||!Tr.text||!Tr.text.segments.get().length)continue;const Nr=it.evaluateSizeForZoom(Tr.textSizeData,br.zoom),$r=wu(_r,Tr.getProjection(),br),Dr=br.calculatePixelsToTileUnitsMatrix(Cr),Gr=Hn($r,Cr.tileID.canonical,Ir,mr,br,Tr.getProjection(),Dr),mn=Jt.layout.get("icon-text-fit")!=="none"&&Tr.hasIconData();if(Nr){const xn=Math.pow(2,br.zoom-Cr.tileID.overscaledZ);vu(Tr,mr,Ir,xr,it.symbolSize,br,Gr,_r,xn,Nr,mn)}}}(Pt,Tt,bt,ht,bt.layout.get("text-rotation-alignment"),bt.layout.get("text-pitch-alignment"),Rt),bt.paint.get("icon-opacity").constantOr(1)!==0&&tm(Tt,ht,bt,Pt,!1,bt.paint.get("icon-translate"),bt.paint.get("icon-translate-anchor"),bt.layout.get("icon-rotation-alignment"),bt.layout.get("icon-pitch-alignment"),bt.layout.get("icon-keep-upright"),kt,Vt),bt.paint.get("text-opacity").constantOr(1)!==0&&tm(Tt,ht,bt,Pt,!0,bt.paint.get("text-translate"),bt.paint.get("text-translate-anchor"),bt.layout.get("text-rotation-alignment"),bt.layout.get("text-pitch-alignment"),bt.layout.get("text-keep-upright"),kt,Vt),ht.map.showCollisionBoxes&&(kn(Tt,ht,bt,Pt,bt.paint.get("text-translate"),bt.paint.get("text-translate-anchor"),!0),kn(Tt,ht,bt,Pt,bt.paint.get("icon-translate"),bt.paint.get("icon-translate-anchor"),!1))},circle:function(Tt,ht,bt,Pt){if(Tt.renderPass!=="translucent")return;const Rt=bt.paint.get("circle-opacity"),kt=bt.paint.get("circle-stroke-width"),Vt=bt.paint.get("circle-stroke-opacity"),Ht=bt.layout.get("circle-sort-key").constantOr(1)!==void 0;if(Rt.constantOr(1)===0&&(kt.constantOr(1)===0||Vt.constantOr(1)===0))return;const Yt=Tt.context,Jt=Yt.gl,ir=Tt.transform,cr=Tt.depthModeForSublayer(0,it.DepthMode.ReadOnly),pr=it.StencilMode.disabled,xr=Tt.colorModeForRenderPass(),br=ir.projection.name==="globe",mr=[it.mercatorXfromLng(ir.center.lng),it.mercatorYfromLat(ir.center.lat)],Ir=[];for(let Cr=0;Cr<Pt.length;Cr++){const Tr=Pt[Cr],Nr=ht.getTile(Tr),$r=Nr.getBucket(bt);if(!$r||$r.projection.name!==ir.projection.name)continue;const Dr=$r.programConfigurations.get(bt.id),Gr=gv(bt);br&&Gr.push("PROJECTION_GLOBE_VIEW");const mn=Tt.useProgram("circle",Dr,Gr),xn=$r.layoutVertexBuffer,gn=$r.globeExtVertexBuffer,hn=$r.indexBuffer,kr=ir.projection.createInversionMatrix(ir,Tr.canonical),On={programConfiguration:Dr,program:mn,layoutVertexBuffer:xn,globeExtVertexBuffer:gn,indexBuffer:hn,uniformValues:Lp(Tt,Tr,Nr,kr,mr,bt),tile:Nr};if(Ht){const Ln=$r.segments.get();for(const na of Ln)Ir.push({segments:new it.SegmentVector([na]),sortKey:na.sortKey,state:On})}else Ir.push({segments:$r.segments,sortKey:0,state:On})}Ht&&Ir.sort((Cr,Tr)=>Cr.sortKey-Tr.sortKey);const _r={useDepthForOcclusion:!br};for(const Cr of Ir){const{programConfiguration:Tr,program:Nr,layoutVertexBuffer:$r,globeExtVertexBuffer:Dr,indexBuffer:Gr,uniformValues:mn,tile:xn}=Cr.state,gn=Cr.segments;Tt.terrain&&Tt.terrain.setupElevationDraw(xn,Nr,_r),Tt.prepareDrawProgram(Yt,Nr,xn.tileID.toUnwrapped()),Nr.draw(Yt,Jt.TRIANGLES,cr,pr,xr,it.CullFaceMode.disabled,mn,bt.id,$r,Gr,gn,bt.paint,ir.zoom,Tr,br?Dr:null)}},heatmap:function(Tt,ht,bt,Pt){if(bt.paint.get("heatmap-opacity")!==0)if(Tt.renderPass==="offscreen"){const Rt=Tt.context,kt=Rt.gl,Vt=it.StencilMode.disabled,Ht=new it.ColorMode([kt.ONE,kt.ONE],it.Color.transparent,[!0,!0,!0,!0]);(function(xr,br,mr,Ir){const _r=xr.gl,Cr=br.width*Ir,Tr=br.height*Ir;xr.activeTexture.set(_r.TEXTURE1),xr.viewport.set([0,0,Cr,Tr]);let Nr=mr.heatmapFbo;if(!Nr||Nr&&(Nr.width!==Cr||Nr.height!==Tr)){Nr&&Nr.destroy();const $r=_r.createTexture();_r.bindTexture(_r.TEXTURE_2D,$r),_r.texParameteri(_r.TEXTURE_2D,_r.TEXTURE_WRAP_S,_r.CLAMP_TO_EDGE),_r.texParameteri(_r.TEXTURE_2D,_r.TEXTURE_WRAP_T,_r.CLAMP_TO_EDGE),_r.texParameteri(_r.TEXTURE_2D,_r.TEXTURE_MIN_FILTER,_r.LINEAR),_r.texParameteri(_r.TEXTURE_2D,_r.TEXTURE_MAG_FILTER,_r.LINEAR),Nr=mr.heatmapFbo=xr.createFramebuffer(Cr,Tr,!1),function(Dr,Gr,mn,xn,gn,hn){const kr=Dr.gl;kr.texImage2D(kr.TEXTURE_2D,0,kr.RGBA,gn,hn,0,kr.RGBA,Dr.extRenderToTextureHalfFloat?Dr.extTextureHalfFloat.HALF_FLOAT_OES:kr.UNSIGNED_BYTE,null),xn.colorAttachment.set(mn)}(xr,0,$r,Nr,Cr,Tr)}else _r.bindTexture(_r.TEXTURE_2D,Nr.colorAttachment.get()),xr.bindFramebuffer.set(Nr.framebuffer)})(Rt,Tt,bt,Tt.transform.projection.name==="globe"?.5:.25),Rt.clear({color:it.Color.transparent});const Yt=Tt.transform,Jt=Yt.projection.name==="globe",ir=Jt?["PROJECTION_GLOBE_VIEW"]:null,cr=Jt?it.CullFaceMode.frontCCW:it.CullFaceMode.disabled,pr=[it.mercatorXfromLng(Yt.center.lng),it.mercatorYfromLat(Yt.center.lat)];for(let xr=0;xr<Pt.length;xr++){const br=Pt[xr];if(ht.hasRenderableParent(br))continue;const mr=ht.getTile(br),Ir=mr.getBucket(bt);if(!Ir||Ir.projection.name!==Yt.projection.name)continue;const _r=Ir.programConfigurations.get(bt.id),Cr=Tt.useProgram("heatmap",_r,ir),{zoom:Tr}=Tt.transform;Tt.terrain&&Tt.terrain.setupElevationDraw(mr,Cr),Tt.prepareDrawProgram(Rt,Cr,br.toUnwrapped());const Nr=Yt.projection.createInversionMatrix(Yt,br.canonical);Cr.draw(Rt,kt.TRIANGLES,it.DepthMode.disabled,Vt,Ht,cr,kp(Tt,br,mr,Nr,pr,Tr,bt.paint.get("heatmap-intensity")),bt.id,Ir.layoutVertexBuffer,Ir.indexBuffer,Ir.segments,bt.paint,Tt.transform.zoom,_r,Jt?Ir.globeExtVertexBuffer:null)}Rt.viewport.set([0,0,Tt.width,Tt.height])}else Tt.renderPass==="translucent"&&(Tt.context.setColorMode(Tt.colorModeForRenderPass()),function(Rt,kt){const Vt=Rt.context,Ht=Vt.gl,Yt=kt.heatmapFbo;if(!Yt)return;Vt.activeTexture.set(Ht.TEXTURE0),Ht.bindTexture(Ht.TEXTURE_2D,Yt.colorAttachment.get()),Vt.activeTexture.set(Ht.TEXTURE1);let Jt=kt.colorRampTexture;Jt||(Jt=kt.colorRampTexture=new it.Texture(Vt,kt.colorRamp,Ht.RGBA)),Jt.bind(Ht.LINEAR,Ht.CLAMP_TO_EDGE),Rt.useProgram("heatmapTexture").draw(Vt,Ht.TRIANGLES,it.DepthMode.disabled,it.StencilMode.disabled,Rt.colorModeForRenderPass(),it.CullFaceMode.disabled,((ir,cr,pr,xr)=>({u_image:0,u_color_ramp:1,u_opacity:cr.paint.get("heatmap-opacity")}))(0,kt),kt.id,Rt.viewportBuffer,Rt.quadTriangleIndexBuffer,Rt.viewportSegments,kt.paint,Rt.transform.zoom)}(Tt,bt))},line:function(Tt,ht,bt,Pt){if(Tt.renderPass!=="translucent")return;const Rt=bt.paint.get("line-opacity"),kt=bt.paint.get("line-width");if(Rt.constantOr(1)===0||kt.constantOr(1)===0)return;const Vt=Tt.depthModeForSublayer(0,it.DepthMode.ReadOnly),Ht=Tt.colorModeForRenderPass(),Yt=Tt.terrain&&Tt.terrain.renderingToTexture?1:it.exported.devicePixelRatio,Jt=bt.paint.get("line-dasharray"),ir=Jt.constantOr(1),cr=bt.layout.get("line-cap"),pr=bt.paint.get("line-pattern"),xr=pr.constantOr(1),br=bt.paint.get("line-gradient"),mr=bt.getCrossfadeParameters(),Ir=xr?"linePattern":"line",_r=Tt.context,Cr=_r.gl,Tr=($r=>{const Dr=[];Np($r)&&Dr.push("RENDER_LINE_DASH"),$r.paint.get("line-gradient")&&Dr.push("RENDER_LINE_GRADIENT");const Gr=$r.paint.get("line-trim-offset");Gr[0]===0&&Gr[1]===0||Dr.push("RENDER_LINE_TRIM_OFFSET");const mn=$r.paint.get("line-pattern").constantOr(1),xn=$r.paint.get("line-opacity").constantOr(1)!==1;return!mn&&xn&&Dr.push("RENDER_LINE_ALPHA_DISCARD"),Dr})(bt);let Nr=Tr.includes("RENDER_LINE_ALPHA_DISCARD");Tt.terrain&&Tt.terrain.clipOrMaskOverlapStencilType()&&(Nr=!1);for(const $r of Pt){const Dr=ht.getTile($r);if(xr&&!Dr.patternsLoaded())continue;const Gr=Dr.getBucket(bt);if(!Gr)continue;Tt.prepareDrawTile();const mn=Gr.programConfigurations.get(bt.id),xn=Tt.useProgram(Ir,mn,Tr),gn=pr.constantOr(null);if(gn&&Dr.imageAtlas){const Jn=Dr.imageAtlas,Qn=Jn.patternPositions[gn.to.toString()],Yn=Jn.patternPositions[gn.from.toString()];Qn&&Yn&&mn.setConstantPatternPositions(Qn,Yn)}const hn=Jt.constantOr(null),kr=cr.constantOr(null);if(!xr&&hn&&kr&&Dr.lineAtlas){const Jn=Dr.lineAtlas,Qn=Jn.getDash(hn.to,kr),Yn=Jn.getDash(hn.from,kr);Qn&&Yn&&mn.setConstantPatternPositions(Qn,Yn)}let[On,Ln]=bt.paint.get("line-trim-offset");(kr==="round"||kr==="square")&&On!==Ln&&(On===0&&(On-=1),Ln===1&&(Ln+=1));const na=Tt.terrain?$r.projMatrix:null,Tn=xr?Hm(Tt,Dr,bt,mr,na,Yt):Bu(Tt,Dr,bt,mr,na,Gr.lineClipsArray.length,Yt,[On,Ln]);if(br){const Jn=Gr.gradients[bt.id];let Qn=Jn.texture;if(bt.gradientVersion!==Jn.version){let Yn=256;if(bt.stepInterpolant){const Zn=ht.getSource().maxzoom,Mo=$r.canonical.z===Zn?Math.ceil(1<<Tt.transform.maxZoom-$r.canonical.z):1;Yn=it.clamp(it.nextPowerOfTwo(Gr.maxLineLength/it.EXTENT*1024*Mo),256,_r.maxTextureSize)}Jn.gradient=it.renderColorRamp({expression:bt.gradientExpression(),evaluationKey:"lineProgress",resolution:Yn,image:Jn.gradient||void 0,clips:Gr.lineClipsArray}),Jn.texture?Jn.texture.update(Jn.gradient):Jn.texture=new it.Texture(_r,Jn.gradient,Cr.RGBA),Jn.version=bt.gradientVersion,Qn=Jn.texture}_r.activeTexture.set(Cr.TEXTURE1),Qn.bind(bt.stepInterpolant?Cr.NEAREST:Cr.LINEAR,Cr.CLAMP_TO_EDGE)}ir&&(_r.activeTexture.set(Cr.TEXTURE0),Dr.lineAtlasTexture.bind(Cr.LINEAR,Cr.REPEAT),mn.updatePaintBuffers(mr)),xr&&(_r.activeTexture.set(Cr.TEXTURE0),Dr.imageAtlasTexture.bind(Cr.LINEAR,Cr.CLAMP_TO_EDGE),mn.updatePaintBuffers(mr)),Tt.prepareDrawProgram(_r,xn,$r.toUnwrapped());const xo=Jn=>{xn.draw(_r,Cr.TRIANGLES,Vt,Jn,Ht,it.CullFaceMode.disabled,Tn,bt.id,Gr.layoutVertexBuffer,Gr.indexBuffer,Gr.segments,bt.paint,Tt.transform.zoom,mn,Gr.layoutVertexBuffer2)};if(Nr){const Jn=Tt.stencilModeForClipping($r).ref;Jn===0&&Tt.terrain&&_r.clear({stencil:0});const Qn={func:Cr.EQUAL,mask:255};Tn.u_alpha_discard_threshold=.8,xo(new it.StencilMode(Qn,Jn,255,Cr.KEEP,Cr.KEEP,Cr.INVERT)),Tn.u_alpha_discard_threshold=0,xo(new it.StencilMode(Qn,Jn,255,Cr.KEEP,Cr.KEEP,Cr.KEEP))}else xo(Tt.stencilModeForClipping($r))}Nr&&(Tt.resetStencilClippingMasks(),Tt.terrain&&_r.clear({stencil:0}))},fill:function(Tt,ht,bt,Pt){const Rt=bt.paint.get("fill-color"),kt=bt.paint.get("fill-opacity");if(kt.constantOr(1)===0)return;const Vt=Tt.colorModeForRenderPass(),Ht=bt.paint.get("fill-pattern"),Yt=Tt.opaquePassEnabledForLayer()&&!Ht.constantOr(1)&&Rt.constantOr(it.Color.transparent).a===1&&kt.constantOr(0)===1?"opaque":"translucent";if(Tt.renderPass===Yt){const Jt=Tt.depthModeForSublayer(1,Tt.renderPass==="opaque"?it.DepthMode.ReadWrite:it.DepthMode.ReadOnly);Ym(Tt,ht,bt,Pt,Jt,Vt,!1)}if(Tt.renderPass==="translucent"&&bt.paint.get("fill-antialias")){const Jt=Tt.depthModeForSublayer(bt.getPaintProperty("fill-outline-color")?2:0,it.DepthMode.ReadOnly);Ym(Tt,ht,bt,Pt,Jt,Vt,!0)}},"fill-extrusion":function(Tt,ht,bt,Pt){const Rt=bt.paint.get("fill-extrusion-opacity");if(Rt!==0&&Tt.renderPass==="translucent"){const kt=new it.DepthMode(Tt.context.gl.LEQUAL,it.DepthMode.ReadWrite,Tt.depthRangeFor3D);if(Rt!==1||bt.paint.get("fill-extrusion-pattern").constantOr(1))rm(Tt,ht,bt,Pt,kt,it.StencilMode.disabled,it.ColorMode.disabled),rm(Tt,ht,bt,Pt,kt,Tt.stencilModeFor3D(),Tt.colorModeForRenderPass()),Tt.resetStencilClippingMasks();else{const Vt=Tt.colorModeForRenderPass();rm(Tt,ht,bt,Pt,kt,it.StencilMode.disabled,Vt)}}},hillshade:function(Tt,ht,bt,Pt){if(Tt.renderPass!=="offscreen"&&Tt.renderPass!=="translucent")return;const Rt=Tt.context,kt=Tt.depthModeForSublayer(0,it.DepthMode.ReadOnly),Vt=Tt.colorModeForRenderPass(),Ht=Tt.terrain&&Tt.terrain.renderingToTexture,[Yt,Jt]=Tt.renderPass!=="translucent"||Ht?[{},Pt]:Tt.stencilConfigForOverlap(Pt);for(const ir of Jt){const cr=ht.getTile(ir);if(cr.needsHillshadePrepare&&Tt.renderPass==="offscreen")Pp(Tt,cr,bt,kt,it.StencilMode.disabled,Vt);else if(Tt.renderPass==="translucent"){const pr=Ht&&Tt.terrain?Tt.terrain.stencilModeForRTTOverlap(ir):Yt[ir.overscaledZ];Zv(Tt,ir,cr,bt,kt,pr,Vt)}}Rt.viewport.set([0,0,Tt.width,Tt.height]),Tt.resetStencilClippingMasks()},raster:function(Tt,ht,bt,Pt,Rt,kt){if(Tt.renderPass!=="translucent"||bt.paint.get("raster-opacity")===0||!Pt.length)return;const Vt=Tt.context,Ht=Vt.gl,Yt=ht.getSource(),Jt=Tt.useProgram("raster"),ir=Tt.colorModeForRenderPass(),cr=Tt.terrain&&Tt.terrain.renderingToTexture,[pr,xr]=Yt instanceof Hr||cr?[{},Pt]:Tt.stencilConfigForOverlap(Pt),br=xr[xr.length-1].overscaledZ,mr=!Tt.options.moving;for(const Ir of xr){const _r=cr?it.DepthMode.disabled:Tt.depthModeForSublayer(Ir.overscaledZ-br,bt.paint.get("raster-opacity")===1?it.DepthMode.ReadWrite:it.DepthMode.ReadOnly,Ht.LESS),Cr=Ir.toUnwrapped(),Tr=ht.getTile(Ir);if(cr&&(!Tr||!Tr.hasData()))continue;const Nr=cr?Ir.projMatrix:Tt.transform.calculateProjMatrix(Cr,mr),$r=Tt.terrain&&cr?Tt.terrain.stencilModeForRTTOverlap(Ir):pr[Ir.overscaledZ],Dr=kt?0:bt.paint.get("raster-fade-duration");Tr.registerFadeDuration(Dr);const Gr=ht.findLoadedParent(Ir,0),mn=hv(Tr,Gr,ht,Tt.transform,Dr);let xn,gn;Tt.terrain&&Tt.terrain.prepareDrawTile();const hn=bt.paint.get("raster-resampling")==="nearest"?Ht.NEAREST:Ht.LINEAR;Vt.activeTexture.set(Ht.TEXTURE0),Tr.texture.bind(hn,Ht.CLAMP_TO_EDGE),Vt.activeTexture.set(Ht.TEXTURE1),Gr?(Gr.texture.bind(hn,Ht.CLAMP_TO_EDGE),xn=Math.pow(2,Gr.tileID.overscaledZ-Tr.tileID.overscaledZ),gn=[Tr.tileID.canonical.x*xn%1,Tr.tileID.canonical.y*xn%1]):Tr.texture.bind(hn,Ht.CLAMP_TO_EDGE);const kr=Wm(Nr,gn||[0,0],xn||1,mn,bt,Yt instanceof Hr?Yt.perspectiveTransform:[0,0]);if(Tt.prepareDrawProgram(Vt,Jt,Cr),Yt instanceof Hr)Yt.boundsBuffer&&Yt.boundsSegments&&Jt.draw(Vt,Ht.TRIANGLES,_r,it.StencilMode.disabled,ir,it.CullFaceMode.disabled,kr,bt.id,Yt.boundsBuffer,Tt.quadTriangleIndexBuffer,Yt.boundsSegments);else{const{tileBoundsBuffer:On,tileBoundsIndexBuffer:Ln,tileBoundsSegments:na}=Tt.getTileBoundsBuffers(Tr);Jt.draw(Vt,Ht.TRIANGLES,_r,$r,ir,it.CullFaceMode.disabled,kr,bt.id,On,Ln,na)}}Tt.resetStencilClippingMasks()},background:function(Tt,ht,bt,Pt){const Rt=bt.paint.get("background-color"),kt=bt.paint.get("background-opacity");if(kt===0)return;const Vt=Tt.context,Ht=Vt.gl,Yt=Tt.transform,Jt=Yt.tileSize,ir=bt.paint.get("background-pattern");if(Tt.isPatternMissing(ir))return;const cr=!ir&&Rt.a===1&&kt===1&&Tt.opaquePassEnabledForLayer()?"opaque":"translucent";if(Tt.renderPass!==cr)return;const pr=it.StencilMode.disabled,xr=Tt.depthModeForSublayer(0,cr==="opaque"?it.DepthMode.ReadWrite:it.DepthMode.ReadOnly),br=Tt.colorModeForRenderPass(),mr=Tt.useProgram(ir?"backgroundPattern":"background");let Ir,_r=Pt;_r||(Ir=Tt.getBackgroundTiles(),_r=Object.values(Ir).map(Tr=>Tr.tileID)),ir&&(Vt.activeTexture.set(Ht.TEXTURE0),Tt.imageManager.bind(Tt.context));const Cr=bt.getCrossfadeParameters();for(const Tr of _r){const Nr=Tr.toUnwrapped(),$r=Pt?Tr.projMatrix:Tt.transform.calculateProjMatrix(Nr);Tt.prepareDrawTile();const Dr=ht?ht.getTile(Tr):Ir?Ir[Tr.key]:new it.Tile(Tr,Jt,Yt.zoom,Tt),Gr=ir?io($r,kt,Tt,ir,{tileID:Tr,tileSize:Jt},Cr):ip($r,kt,Rt);Tt.prepareDrawProgram(Vt,mr,Nr);const{tileBoundsBuffer:mn,tileBoundsIndexBuffer:xn,tileBoundsSegments:gn}=Tt.getTileBoundsBuffers(Dr);mr.draw(Vt,Ht.TRIANGLES,xr,pr,br,it.CullFaceMode.disabled,Gr,bt.id,mn,xn,gn)}},sky:function(Tt,ht,bt){const Pt=Tt.transform,Rt=Pt.projection.name==="mercator"||Pt.projection.name==="globe"?1:it.smoothstep(7,8,Pt.zoom),kt=bt.paint.get("sky-opacity")*Rt;if(kt===0)return;const Vt=Tt.context,Ht=bt.paint.get("sky-type"),Yt=new it.DepthMode(Vt.gl.LEQUAL,it.DepthMode.ReadOnly,[0,1]),Jt=Tt.frameCounter/1e3%1;Ht==="atmosphere"?Tt.renderPass==="offscreen"?bt.needsSkyboxCapture(Tt)&&(function(ir,cr,pr,xr){const br=ir.context,mr=br.gl;let Ir=cr.skyboxFbo;if(!Ir){Ir=cr.skyboxFbo=br.createFramebuffer(32,32,!1),cr.skyboxGeometry=new Vy(br),cr.skyboxTexture=br.gl.createTexture(),mr.bindTexture(mr.TEXTURE_CUBE_MAP,cr.skyboxTexture),mr.texParameteri(mr.TEXTURE_CUBE_MAP,mr.TEXTURE_WRAP_S,mr.CLAMP_TO_EDGE),mr.texParameteri(mr.TEXTURE_CUBE_MAP,mr.TEXTURE_WRAP_T,mr.CLAMP_TO_EDGE),mr.texParameteri(mr.TEXTURE_CUBE_MAP,mr.TEXTURE_MIN_FILTER,mr.LINEAR),mr.texParameteri(mr.TEXTURE_CUBE_MAP,mr.TEXTURE_MAG_FILTER,mr.LINEAR);for(let Nr=0;Nr<6;++Nr)mr.texImage2D(mr.TEXTURE_CUBE_MAP_POSITIVE_X+Nr,0,mr.RGBA,32,32,0,mr.RGBA,mr.UNSIGNED_BYTE,null)}br.bindFramebuffer.set(Ir.framebuffer),br.viewport.set([0,0,32,32]);const _r=cr.getCenter(ir,!0),Cr=ir.useProgram("skyboxCapture"),Tr=new Float64Array(16);it.identity(Tr),it.rotateY(Tr,Tr,.5*-Math.PI),Vp(br,cr,Cr,Tr,_r,0),it.identity(Tr),it.rotateY(Tr,Tr,.5*Math.PI),Vp(br,cr,Cr,Tr,_r,1),it.identity(Tr),it.rotateX(Tr,Tr,.5*-Math.PI),Vp(br,cr,Cr,Tr,_r,2),it.identity(Tr),it.rotateX(Tr,Tr,.5*Math.PI),Vp(br,cr,Cr,Tr,_r,3),it.identity(Tr),Vp(br,cr,Cr,Tr,_r,4),it.identity(Tr),it.rotateY(Tr,Tr,Math.PI),Vp(br,cr,Cr,Tr,_r,5),br.viewport.set([0,0,ir.width,ir.height])}(Tt,bt),bt.markSkyboxValid(Tt)):Tt.renderPass==="sky"&&function(ir,cr,pr,xr,br){const mr=ir.context,Ir=mr.gl,_r=ir.transform,Cr=ir.useProgram("skybox");mr.activeTexture.set(Ir.TEXTURE0),Ir.bindTexture(Ir.TEXTURE_CUBE_MAP,cr.skyboxTexture);const Tr=((Nr,$r,Dr,Gr,mn)=>({u_matrix:Nr,u_sun_direction:$r,u_cubemap:0,u_opacity:Gr,u_temporal_offset:mn}))(_r.skyboxMatrix,cr.getCenter(ir,!1),0,xr,br);ir.prepareDrawProgram(mr,Cr),Cr.draw(mr,Ir.TRIANGLES,pr,it.StencilMode.disabled,ir.colorModeForRenderPass(),it.CullFaceMode.backCW,Tr,"skybox",cr.skyboxGeometry.vertexBuffer,cr.skyboxGeometry.indexBuffer,cr.skyboxGeometry.segment)}(Tt,bt,Yt,kt,Jt):Ht==="gradient"&&Tt.renderPass==="sky"&&function(ir,cr,pr,xr,br){const mr=ir.context,Ir=mr.gl,_r=ir.transform,Cr=ir.useProgram("skyboxGradient");cr.skyboxGeometry||(cr.skyboxGeometry=new Vy(mr)),mr.activeTexture.set(Ir.TEXTURE0);let Tr=cr.colorRampTexture;Tr||(Tr=cr.colorRampTexture=new it.Texture(mr,cr.colorRamp,Ir.RGBA)),Tr.bind(Ir.LINEAR,Ir.CLAMP_TO_EDGE);const Nr=(($r,Dr,Gr,mn,xn)=>({u_matrix:$r,u_color_ramp:0,u_center_direction:Dr,u_radius:it.degToRad(Gr),u_opacity:mn,u_temporal_offset:xn}))(_r.skyboxMatrix,cr.getCenter(ir,!1),cr.paint.get("sky-gradient-radius"),xr,br);ir.prepareDrawProgram(mr,Cr),Cr.draw(mr,Ir.TRIANGLES,pr,it.StencilMode.disabled,ir.colorModeForRenderPass(),it.CullFaceMode.backCW,Nr,"skyboxGradient",cr.skyboxGeometry.vertexBuffer,cr.skyboxGeometry.indexBuffer,cr.skyboxGeometry.segment)}(Tt,bt,Yt,kt,Jt)},debug:function(Tt,ht,bt){for(let Pt=0;Pt<bt.length;Pt++)am(Tt,ht,bt[Pt])},custom:function(Tt,ht,bt){const Pt=Tt.context,Rt=bt.implementation;if(Tt.transform.projection.unsupportedLayers&&Tt.transform.projection.unsupportedLayers.includes("custom"))it.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(Tt.renderPass==="offscreen"){const kt=Rt.prerender;kt&&(Tt.setCustomLayerDefaults(),Pt.setColorMode(Tt.colorModeForRenderPass()),kt.call(Rt,Pt.gl,Tt.transform.customLayerMatrix()),Pt.setDirty(),Tt.setBaseState())}else if(Tt.renderPass==="translucent"){Tt.setCustomLayerDefaults(),Pt.setColorMode(Tt.colorModeForRenderPass()),Pt.setStencilMode(it.StencilMode.disabled);const kt=Rt.renderingMode==="3d"?new it.DepthMode(Tt.context.gl.LEQUAL,it.DepthMode.ReadWrite,Tt.depthRangeFor3D):Tt.depthModeForSublayer(0,it.DepthMode.ReadOnly);Pt.setDepthMode(kt),Rt.render(Pt.gl,Tt.transform.customLayerMatrix()),Pt.setDirty(),Tt.setBaseState(),Pt.bindFramebuffer.set(null)}}};class om{constructor(ht,bt){this.context=new gr(ht),this.transform=bt,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=it.SourceCache.maxUnderzooming+it.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Kv,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(ht,bt){const Pt=!!ht&&!!ht.terrain&&this.transform.projection.supportsTerrain;if(!(Pt||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new pv(this,ht));const Rt=this._terrain;this.transform.elevation=Pt?Rt:null,Rt.update(ht,this.transform,bt)}_updateFog(ht){const bt=ht.fog;if(!bt||this.transform.projection.name==="globe"||bt.getOpacity(this.transform.pitch)<1||bt.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[Pt,Rt]=bt.getFovAdjustedRange(this.transform._fov);if(Pt>Rt)return void(this.transform.fogCullDistSq=null);const kt=Pt+.78*(Rt-Pt);this.transform.fogCullDistSq=kt*kt}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(ht,bt){if(this.width=ht*it.exported.devicePixelRatio,this.height=bt*it.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const Pt of this.style.order)this.style._layers[Pt].resize()}setup(){const ht=this.context,bt=new it.StructArrayLayout2i4;bt.emplaceBack(0,0),bt.emplaceBack(it.EXTENT,0),bt.emplaceBack(0,it.EXTENT),bt.emplaceBack(it.EXTENT,it.EXTENT),this.tileExtentBuffer=ht.createVertexBuffer(bt,it.posAttributes.members),this.tileExtentSegments=it.SegmentVector.simpleSegment(0,0,4,2);const Pt=new it.StructArrayLayout2i4;Pt.emplaceBack(0,0),Pt.emplaceBack(it.EXTENT,0),Pt.emplaceBack(0,it.EXTENT),Pt.emplaceBack(it.EXTENT,it.EXTENT),this.debugBuffer=ht.createVertexBuffer(Pt,it.posAttributes.members),this.debugSegments=it.SegmentVector.simpleSegment(0,0,4,5);const Rt=new it.StructArrayLayout2i4;Rt.emplaceBack(-1,-1),Rt.emplaceBack(1,-1),Rt.emplaceBack(-1,1),Rt.emplaceBack(1,1),this.viewportBuffer=ht.createVertexBuffer(Rt,it.posAttributes.members),this.viewportSegments=it.SegmentVector.simpleSegment(0,0,4,2);const kt=new it.StructArrayLayout4i8;kt.emplaceBack(0,0,0,0),kt.emplaceBack(it.EXTENT,0,it.EXTENT,0),kt.emplaceBack(0,it.EXTENT,0,it.EXTENT),kt.emplaceBack(it.EXTENT,it.EXTENT,it.EXTENT,it.EXTENT),this.mercatorBoundsBuffer=ht.createVertexBuffer(kt,it.boundsAttributes.members),this.mercatorBoundsSegments=it.SegmentVector.simpleSegment(0,0,4,2);const Vt=new it.StructArrayLayout3ui6;Vt.emplaceBack(0,1,2),Vt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=ht.createIndexBuffer(Vt);const Ht=new it.StructArrayLayout1ui2;for(const Jt of[0,1,3,2,0])Ht.emplaceBack(Jt);this.debugIndexBuffer=ht.createIndexBuffer(Ht),this.emptyTexture=new it.Texture(ht,new it.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),ht.gl.RGBA),this.identityMat=it.create();const Yt=this.context.gl;this.stencilClearMode=new it.StencilMode({func:Yt.ALWAYS,mask:0},0,255,Yt.ZERO,Yt.ZERO,Yt.ZERO),this.loadTimeStamps.push(it.window.performance.now()),this.atmosphereBuffer=new e_(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(ht){return ht._makeTileBoundsBuffers(this.context,this.transform.projection),ht._tileBoundsBuffer?{tileBoundsBuffer:ht._tileBoundsBuffer,tileBoundsIndexBuffer:ht._tileBoundsIndexBuffer,tileBoundsSegments:ht._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const ht=this.context,bt=ht.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(ht,bt.TRIANGLES,it.DepthMode.disabled,this.stencilClearMode,it.ColorMode.disabled,it.CullFaceMode.disabled,ku(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(ht,bt,Pt){if(!bt||this.currentStencilSource===bt.id||!ht.isTileClipped()||!Pt||Pt.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let Ht=!1;for(const Yt of Pt)if(this._tileClippingMaskIDs[Yt.key]===void 0){Ht=!0;break}if(!Ht)return}this.currentStencilSource=bt.id;const Rt=this.context,kt=Rt.gl;this.nextStencilID+Pt.length>256&&this.clearStencil(),Rt.setColorMode(it.ColorMode.disabled),Rt.setDepthMode(it.DepthMode.disabled);const Vt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const Ht of Pt){const Yt=bt.getTile(Ht),Jt=this._tileClippingMaskIDs[Ht.key]=this.nextStencilID++,{tileBoundsBuffer:ir,tileBoundsIndexBuffer:cr,tileBoundsSegments:pr}=this.getTileBoundsBuffers(Yt);Vt.draw(Rt,kt.TRIANGLES,it.DepthMode.disabled,new it.StencilMode({func:kt.ALWAYS,mask:0},Jt,255,kt.KEEP,kt.KEEP,kt.REPLACE),it.ColorMode.disabled,it.CullFaceMode.disabled,ku(Ht.projMatrix),"$clipping",ir,cr,pr)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const ht=this.nextStencilID++,bt=this.context.gl;return new it.StencilMode({func:bt.NOTEQUAL,mask:255},ht,255,bt.KEEP,bt.KEEP,bt.REPLACE)}stencilModeForClipping(ht){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(ht);const bt=this.context.gl;return new it.StencilMode({func:bt.EQUAL,mask:255},this._tileClippingMaskIDs[ht.key],0,bt.KEEP,bt.KEEP,bt.REPLACE)}stencilConfigForOverlap(ht){const bt=this.context.gl,Pt=ht.sort((Vt,Ht)=>Ht.overscaledZ-Vt.overscaledZ),Rt=Pt[Pt.length-1].overscaledZ,kt=Pt[0].overscaledZ-Rt+1;if(kt>1){this.currentStencilSource=void 0,this.nextStencilID+kt>256&&this.clearStencil();const Vt={};for(let Ht=0;Ht<kt;Ht++)Vt[Ht+Rt]=new it.StencilMode({func:bt.GEQUAL,mask:255},Ht+this.nextStencilID,255,bt.KEEP,bt.KEEP,bt.REPLACE);return this.nextStencilID+=kt,[Vt,Pt]}return[{[Rt]:it.StencilMode.disabled},Pt]}colorModeForRenderPass(){const ht=this.context.gl;return this._showOverdrawInspector?new it.ColorMode([ht.CONSTANT_COLOR,ht.ONE],new it.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?it.ColorMode.unblended:it.ColorMode.alphaBlended}depthModeForSublayer(ht,bt,Pt){if(!this.opaquePassEnabledForLayer())return it.DepthMode.disabled;const Rt=1-((1+this.currentLayer)*this.numSublayers+ht)*this.depthEpsilon;return new it.DepthMode(Pt||this.context.gl.LEQUAL,bt,[Rt,Rt])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(ht,bt){this.style=ht,this.options=bt,this.lineAtlas=ht.lineAtlas,this.imageManager=ht.imageManager,this.glyphManager=ht.glyphManager,this.symbolFadeChange=ht.placement.symbolFadeChange(it.exported.now()),this.imageManager.beginFrame();const Pt=this.style.order,Rt=this.style._sourceCaches;for(const Yt in Rt){const Jt=Rt[Yt];Jt.used&&Jt.prepare(this.context)}const kt={},Vt={},Ht={};for(const Yt in Rt){const Jt=Rt[Yt];kt[Yt]=Jt.getVisibleCoordinates(),Vt[Yt]=kt[Yt].slice().reverse(),Ht[Yt]=Jt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Yt=0;Yt<Pt.length;Yt++)if(this.style._layers[Pt[Yt]].is3D()){this.opaquePassCutoff=Yt;break}if(this.terrain&&(this.terrain.updateTileBinding(Ht),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new it.GlobeSharedBuffers(this.context)),it.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const Yt of Pt){const Jt=this.style._layers[Yt],ir=ht._getLayerSourceCache(Jt);if(!Jt.hasOffscreenPass()||Jt.isHidden(this.transform.zoom))continue;const cr=ir?Vt[ir.id]:void 0;(Jt.type==="custom"||Jt.isSky()||cr&&cr.length)&&this.renderLayer(this,ir,Jt,cr)}if(this.depthRangeFor3D=[0,1-(ht.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:bt.showOverdrawInspector?it.Color.black:it.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=bt.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=Pt.length-1;this.currentLayer>=0;this.currentLayer--){const Yt=this.style._layers[Pt[this.currentLayer]],Jt=ht._getLayerSourceCache(Yt);if(Yt.isSky())continue;const ir=Jt?Vt[Jt.id]:void 0;this._renderTileClippingMasks(Yt,Jt,ir),this.renderLayer(this,Jt,Yt,ir)}if(this.style.fog&&this.transform.projection.supportsFog&&function(Yt,Jt){const ir=Yt.context,cr=ir.gl,pr=Yt.transform,xr=new it.DepthMode(cr.LEQUAL,it.DepthMode.ReadOnly,[0,1]),br=Yt.useProgram("globeAtmosphere",null,pr.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),mr=it.globeToMercatorTransition(pr.zoom),Ir=Jt.properties.get("color").toArray01(),_r=Jt.properties.get("high-color").toArray01(),Cr=Jt.properties.get("space-color").toArray01PremultipliedAlpha(),Tr=it.identity$1([]);it.rotateY$1(Tr,Tr,-it.degToRad(pr._center.lng)),it.rotateX$1(Tr,Tr,it.degToRad(pr._center.lat)),it.rotateZ$1(Tr,Tr,pr.angle),it.rotateX$1(Tr,Tr,-pr._pitch);const Nr=it.fromQuat(new Float32Array(16),Tr),$r=it.mapValue(Jt.properties.get("star-intensity"),0,1,0,.25),Dr=5e-4,Gr=it.mapValue(Jt.properties.get("horizon-blend"),0,1,Dr,.25),mn=it.globeUseCustomAntiAliasing(Yt,ir,pr)&&Gr===Dr?pr.worldSize/(2*Math.PI*1.025)-1:pr.globeRadius,xn=Yt.frameCounter/1e3%1,gn=it.length(pr.globeCenterInViewSpace),hn=Math.sqrt(Math.pow(gn,2)-Math.pow(mn,2)),kr=Math.acos(hn/gn),On=((na,Tn,xo,Jn,Qn,Yn,Zn,Mo,Co,Fo,yo,ko,us,ps)=>({u_frustum_tl:na,u_frustum_tr:Tn,u_frustum_br:xo,u_frustum_bl:Jn,u_horizon:Qn,u_transition:Yn,u_fadeout_range:Zn,u_color:Mo,u_high_color:Co,u_space_color:Fo,u_star_intensity:yo,u_star_size:5*it.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:ko,u_horizon_angle:us,u_rotation_matrix:ps}))(pr.frustumCorners.TL,pr.frustumCorners.TR,pr.frustumCorners.BR,pr.frustumCorners.BL,pr.frustumCorners.horizon,mr,Gr,Ir,_r,Cr,$r,xn,kr,Nr);Yt.prepareDrawProgram(ir,br);const Ln=Yt.atmosphereBuffer;Ln&&br.draw(ir,cr.TRIANGLES,xr,it.StencilMode.disabled,it.ColorMode.alphaBlended,it.CullFaceMode.backCW,On,"skybox",Ln.vertexBuffer,Ln.indexBuffer,Ln.segments)}(this,this.style.fog),this.renderPass="sky",(it.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<Pt.length;this.currentLayer++){const Yt=this.style._layers[Pt[this.currentLayer]],Jt=ht._getLayerSourceCache(Yt);Yt.isSky()&&this.renderLayer(this,Jt,Yt,Jt?Vt[Jt.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<Pt.length;){const Yt=this.style._layers[Pt[this.currentLayer]],Jt=ht._getLayerSourceCache(Yt);if(Yt.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(Yt)){if(Yt.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ir=Jt?(Yt.type==="symbol"?Ht:Vt)[Jt.id]:void 0;this._renderTileClippingMasks(Yt,Jt,Jt?kt[Jt.id]:void 0),this.renderLayer(this,Jt,Yt,ir),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let Yt=null;it.values(this.style._layers).forEach(Jt=>{const ir=ht._getLayerSourceCache(Jt);ir&&!Jt.isHidden(this.transform.zoom)&&(!Yt||Yt.getSource().maxzoom<ir.getSource().maxzoom)&&(Yt=ir)}),Yt&&this.options.showTileBoundaries&&im.debug(this,Yt,Yt.getVisibleCoordinates())}this.options.showPadding&&function(Yt){const Jt=Yt.transform.padding;Zm(Yt,Yt.transform.height-(Jt.top||0),3,op),Zm(Yt,Jt.bottom||0,3,xv),nm(Yt,Jt.left||0,3,zy),nm(Yt,Yt.transform.width-(Jt.right||0),3,zp);const ir=Yt.transform.centerPoint;(function(cr,pr,xr,br){as(cr,pr-1,xr-10,2,20,br),as(cr,pr-10,xr-1,20,2,br)})(Yt,ir.x,Yt.transform.height-ir.y,Bp)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(it.window.performance.now()),this.saveCanvasCopy())}}renderLayer(ht,bt,Pt,Rt){Pt.isHidden(this.transform.zoom)||(Pt.type==="background"||Pt.type==="sky"||Pt.type==="custom"||Rt&&Rt.length)&&(this.id=Pt.id,this.gpuTimingStart(Pt),ht.transform.projection.unsupportedLayers&&ht.transform.projection.unsupportedLayers.includes(Pt.type)||im[Pt.type](ht,bt,Pt,Rt,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(ht){if(!this.options.gpuTiming)return;const bt=this.context.extTimerQuery;let Pt=this.gpuTimers[ht.id];Pt||(Pt=this.gpuTimers[ht.id]={calls:0,cpuTime:0,query:bt.createQueryEXT()}),Pt.calls++,bt.beginQueryEXT(bt.TIME_ELAPSED_EXT,Pt.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const ht=this.context.extTimerQuery,bt=ht.createQueryEXT();this.deferredRenderGpuTimeQueries.push(bt),ht.beginQueryEXT(ht.TIME_ELAPSED_EXT,bt)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const ht=this.context.extTimerQuery;ht.endQueryEXT(ht.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const ht=this.context.extTimerQuery;ht.endQueryEXT(ht.TIME_ELAPSED_EXT)}collectGpuTimers(){const ht=this.gpuTimers;return this.gpuTimers={},ht}collectDeferredRenderGpuQueries(){const ht=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],ht}queryGpuTimers(ht){const bt={};for(const Pt in ht){const Rt=ht[Pt],kt=this.context.extTimerQuery,Vt=kt.getQueryObjectEXT(Rt.query,kt.QUERY_RESULT_EXT)/1e6;kt.deleteQueryEXT(Rt.query),bt[Pt]=Vt}return bt}queryGpuTimeDeferredRender(ht){if(!this.options.gpuTimingDeferredRender)return 0;const bt=this.context.extTimerQuery;let Pt=0;for(const Rt of ht)Pt+=bt.getQueryObjectEXT(Rt,bt.QUERY_RESULT_EXT)/1e6,bt.deleteQueryEXT(Rt);return Pt}translatePosMatrix(ht,bt,Pt,Rt,kt){if(!Pt[0]&&!Pt[1])return ht;const Vt=kt?Rt==="map"?this.transform.angle:0:Rt==="viewport"?-this.transform.angle:0;if(Vt){const Jt=Math.sin(Vt),ir=Math.cos(Vt);Pt=[Pt[0]*ir-Pt[1]*Jt,Pt[0]*Jt+Pt[1]*ir]}const Ht=[kt?Pt[0]:Lr(bt,Pt[0],this.transform.zoom),kt?Pt[1]:Lr(bt,Pt[1],this.transform.zoom),0],Yt=new Float32Array(16);return it.translate(Yt,ht,Ht),Yt}saveTileTexture(ht){const bt=this._tileTextures[ht.size[0]];bt?bt.push(ht):this._tileTextures[ht.size[0]]=[ht]}getTileTexture(ht){const bt=this._tileTextures[ht];return bt&&bt.length>0?bt.pop():null}isPatternMissing(ht){if(!ht)return!1;if(!ht.from||!ht.to)return!0;const bt=this.imageManager.getPattern(ht.from.toString()),Pt=this.imageManager.getPattern(ht.to.toString());return!bt||!Pt}currentGlobalDefines(){const ht=this.terrain&&this.terrain.renderingToTexture,bt=this.style&&this.style.fog,Pt=[];return this.terrain&&!this.terrain.renderingToTexture&&Pt.push("TERRAIN"),bt&&!ht&&bt.getOpacity(this.transform.pitch)!==0&&Pt.push("FOG"),ht&&Pt.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&Pt.push("OVERDRAW_INSPECTOR"),Pt}useProgram(ht,bt,Pt){this.cache=this.cache||{};const Rt=Pt||[],kt=this.currentGlobalDefines().concat(Rt),Vt=Ip.cacheKey(ht,kt,bt);return this.cache[Vt]||(this.cache[Vt]=new Ip(this.context,ht,Ap[ht],bt,er[ht],kt)),this.cache[Vt]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const ht=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(ht.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=it.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new it.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(ht,bt,Pt){if(this.terrain&&this.terrain.renderingToTexture)return;const Rt=this.style.fog;if(Rt){const kt=Rt.getOpacity(this.transform.pitch),Vt=((Ht,Yt,Jt,ir,cr,pr,xr,br,mr,Ir,_r)=>{const Cr=Ht.transform,Tr=Yt.properties.get("color").toArray01();Tr[3]=ir;const Nr=Ht.frameCounter/1e3%1;return{u_fog_matrix:Jt?Cr.calculateFogTileMatrix(Jt):Ht.identityMat,u_fog_range:Yt.getFovAdjustedRange(Cr._fov),u_fog_color:Tr,u_fog_horizon_blend:Yt.properties.get("horizon-blend"),u_fog_temporal_offset:Nr,u_frustum_tl:cr,u_frustum_tr:pr,u_frustum_br:xr,u_frustum_bl:br,u_globe_pos:mr,u_globe_radius:Ir,u_viewport:_r,u_globe_transition:it.globeToMercatorTransition(Cr.zoom),u_is_globe:+(Cr.projection.name==="globe")}})(this,Rt,Pt,kt,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*it.exported.devicePixelRatio,this.transform.height*it.exported.devicePixelRatio]);bt.setFogUniformValues(ht,Vt)}}setTileLoadedFlag(ht){this.tileLoaded=ht}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const ht=this.context.gl,bt=ht.createTexture();return ht.bindTexture(ht.TEXTURE_2D,bt),ht.copyTexImage2D(ht.TEXTURE_2D,0,ht.RGBA,0,0,ht.drawingBufferWidth,ht.drawingBufferHeight,0),bt}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const ht=this.style&&this.style.fog;return!!ht&&ht.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const ht=this._backgroundTiles,bt=this._backgroundTiles={},Pt=this.transform.coveringTiles({tileSize:512});for(const Rt of Pt)bt[Rt.key]=ht[Rt.key]||new it.Tile(Rt,512,this.transform.tileZoom,this);return bt}clearBackgroundTiles(){this._backgroundTiles={}}}class sp{constructor(ht=0,bt=0,Pt=0,Rt=0){if(isNaN(ht)||ht<0||isNaN(bt)||bt<0||isNaN(Pt)||Pt<0||isNaN(Rt)||Rt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=ht,this.bottom=bt,this.left=Pt,this.right=Rt}interpolate(ht,bt,Pt){return bt.top!=null&&ht.top!=null&&(this.top=it.number(ht.top,bt.top,Pt)),bt.bottom!=null&&ht.bottom!=null&&(this.bottom=it.number(ht.bottom,bt.bottom,Pt)),bt.left!=null&&ht.left!=null&&(this.left=it.number(ht.left,bt.left,Pt)),bt.right!=null&&ht.right!=null&&(this.right=it.number(ht.right,bt.right,Pt)),this}getCenter(ht,bt){const Pt=it.clamp((this.left+ht-this.right)/2,0,ht),Rt=it.clamp((this.top+bt-this.bottom)/2,0,bt);return new it.pointGeometry(Pt,Rt)}equals(ht){return this.top===ht.top&&this.bottom===ht.bottom&&this.left===ht.left&&this.right===ht.right}clone(){return new sp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function sm(Tt,ht){const bt=it.getColumn(Tt,3);it.fromQuat(Tt,ht),it.setColumn(Tt,3,bt)}function bv(Tt,ht){const bt=it.identity$1([]);return it.rotateZ$1(bt,bt,-ht),it.rotateX$1(bt,bt,-Tt),bt}function lm(Tt,ht){const bt=[Tt[0],Tt[1],0],Pt=[ht[0],ht[1],0];if(it.length(bt)>=1e-15){const Vt=it.normalize([],bt);it.scale$2(Pt,Vt,it.dot(Pt,Vt)),ht[0]=Pt[0],ht[1]=Pt[1]}const Rt=it.cross([],ht,Tt);if(it.len(Rt)<1e-15)return null;const kt=Math.atan2(-Rt[1],Rt[0]);return bv(Math.atan2(Math.sqrt(Tt[0]*Tt[0]+Tt[1]*Tt[1]),-Tt[2]),kt)}class Sv{constructor(ht,bt){this.position=ht,this.orientation=bt}get position(){return this._position}set position(ht){if(ht){const bt=ht instanceof it.MercatorCoordinate?ht:new it.MercatorCoordinate(ht[0],ht[1],ht[2]);this._renderWorldCopies&&(bt.x=it.wrap(bt.x,0,1)),this._position=bt}else this._position=null}lookAtPoint(ht,bt){if(this.orientation=null,!this.position)return;const Pt=this._elevation?this._elevation.getAtPointOrZero(it.MercatorCoordinate.fromLngLat(ht)):0,Rt=this.position,kt=it.MercatorCoordinate.fromLngLat(ht,Pt),Vt=[kt.x-Rt.x,kt.y-Rt.y,kt.z-Rt.z];bt||(bt=[0,0,1]),bt[2]=Math.abs(bt[2]),this.orientation=lm(Vt,bt)}setPitchBearing(ht,bt){this.orientation=bv(it.degToRad(ht),it.degToRad(-bt))}}class Up{constructor(ht,bt){this._transform=it.identity([]),this.orientation=bt,this.position=ht}get mercatorPosition(){const ht=this.position;return new it.MercatorCoordinate(ht[0],ht[1],ht[2])}get position(){const ht=it.getColumn(this._transform,3);return[ht[0],ht[1],ht[2]]}set position(ht){var bt;ht&&it.setColumn(this._transform,3,[(bt=ht)[0],bt[1],bt[2],1])}get orientation(){return this._orientation}set orientation(ht){this._orientation=ht||it.identity$1([]),ht&&sm(this._transform,this._orientation)}getPitchBearing(){const ht=this.forward(),bt=this.right();return{bearing:Math.atan2(-bt[1],bt[0]),pitch:Math.atan2(Math.sqrt(ht[0]*ht[0]+ht[1]*ht[1]),-ht[2])}}setPitchBearing(ht,bt){this._orientation=bv(ht,bt),sm(this._transform,this._orientation)}forward(){const ht=it.getColumn(this._transform,2);return[-ht[0],-ht[1],-ht[2]]}up(){const ht=it.getColumn(this._transform,1);return[-ht[0],-ht[1],-ht[2]]}right(){const ht=it.getColumn(this._transform,0);return[ht[0],ht[1],ht[2]]}getCameraToWorld(ht,bt){const Pt=new Float64Array(16);return it.invert(Pt,this.getWorldToCamera(ht,bt)),Pt}getWorldToCameraPosition(ht,bt,Pt){const Rt=this.position;it.scale$2(Rt,Rt,-ht);const kt=new Float64Array(16);return it.fromScaling(kt,[Pt,Pt,Pt]),it.translate(kt,kt,Rt),kt[10]*=bt,kt}getWorldToCamera(ht,bt){const Pt=new Float64Array(16),Rt=new Float64Array(4),kt=this.position;return it.conjugate(Rt,this._orientation),it.scale$2(kt,kt,-ht),it.fromQuat(Pt,Rt),it.translate(Pt,Pt,kt),Pt[1]*=-1,Pt[5]*=-1,Pt[9]*=-1,Pt[13]*=-1,Pt[8]*=bt,Pt[9]*=bt,Pt[10]*=bt,Pt[11]*=bt,Pt}getCameraToClipPerspective(ht,bt,Pt,Rt){const kt=new Float64Array(16);return it.perspective(kt,ht,bt,Pt,Rt),kt}getDistanceToElevation(ht){const bt=ht===0?0:it.mercatorZfromAltitude(ht,this.position[1]),Pt=this.forward();return(bt-this.position[2])/Pt[2]}clone(){return new Up([...this.position],[...this.orientation])}}function to(Tt,ht){const bt=wv(Tt.projection,Tt.zoom,Tt.width,Tt.height),Pt=function(kt,Vt,Ht,Yt,Jt){const ir=new it.LngLat(Ht.lng-180*lp,Ht.lat),cr=new it.LngLat(Ht.lng+180*lp,Ht.lat),pr=kt.project(ir.lng,ir.lat),xr=kt.project(cr.lng,cr.lat),br=-Math.atan2(xr.y-pr.y,xr.x-pr.x),mr=it.MercatorCoordinate.fromLngLat(Ht);mr.y=it.clamp(mr.y,-.999975,.999975);const Ir=mr.toLngLat(),_r=kt.project(Ir.lng,Ir.lat),Cr=it.MercatorCoordinate.fromLngLat(Ir);Cr.x+=lp;const Tr=Cr.toLngLat(),Nr=kt.project(Tr.lng,Tr.lat),$r=up(Nr.x-_r.x,Nr.y-_r.y,br),Dr=it.MercatorCoordinate.fromLngLat(Ir);Dr.y+=lp;const Gr=Dr.toLngLat(),mn=kt.project(Gr.lng,Gr.lat),xn=up(mn.x-_r.x,mn.y-_r.y,br),gn=Math.abs($r.x)/Math.abs(xn.y),hn=it.identity([]);it.rotateZ(hn,hn,-br*(1-(Jt?0:Yt)));const kr=it.identity([]);return it.scale(kr,kr,[1,1-(1-gn)*Yt,1]),kr[4]=-xn.x/xn.y*Yt,it.rotateZ(kr,kr,br),it.multiply(kr,hn,kr),kr}(Tt.projection,0,Tt.center,bt,ht),Rt=Kl(Tt);return it.scale(Pt,Pt,[Rt,Rt,1]),Pt}function Kl(Tt){const ht=Tt.projection,bt=wv(Tt.projection,Tt.zoom,Tt.width,Tt.height),Pt=Xm(ht,Tt.center),Rt=Xm(ht,it.LngLat.convert(ht.center));return Math.pow(2,Pt*bt+(1-bt)*Rt)}function wv(Tt,ht,bt,Pt,Rt=1/0){const kt=Tt.range;if(!kt)return 0;const Vt=Math.min(Rt,Math.max(bt,Pt)),Ht=Math.log(Vt/1024)/Math.LN2;return it.smoothstep(kt[0]+Ht,kt[1]+Ht,ht)}const lp=1/4e4;function Xm(Tt,ht){const bt=it.clamp(ht.lat,-it.MAX_MERCATOR_LATITUDE,it.MAX_MERCATOR_LATITUDE),Pt=new it.LngLat(ht.lng-180*lp,bt),Rt=new it.LngLat(ht.lng+180*lp,bt),kt=Tt.project(Pt.lng,bt),Vt=Tt.project(Rt.lng,bt),Ht=it.MercatorCoordinate.fromLngLat(Pt),Yt=it.MercatorCoordinate.fromLngLat(Rt),Jt=Vt.x-kt.x,ir=Vt.y-kt.y,cr=Yt.x-Ht.x,pr=Yt.y-Ht.y,xr=Math.sqrt((cr*cr+pr*pr)/(Jt*Jt+ir*ir));return Math.log(xr)/Math.LN2}function up(Tt,ht,bt){const Pt=Math.cos(bt),Rt=Math.sin(bt);return{x:Tt*Pt-ht*Rt,y:Tt*Rt+ht*Pt}}class um{constructor(ht,bt,Pt,Rt,kt,Vt,Ht){this.tileSize=512,this._renderWorldCopies=kt===void 0||kt,this._minZoom=ht||0,this._maxZoom=bt||22,this._minPitch=Pt==null?0:Pt,this._maxPitch=Rt==null?60:Rt,this.setProjection(Vt),this.setMaxBounds(Ht),this.width=0,this.height=0,this._center=new it.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new sp,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Up,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._projectionScaler=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const ht=new um(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return ht._elevation=this._elevation,ht._centerAltitude=this._centerAltitude,ht._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,ht.tileSize=this.tileSize,ht.width=this.width,ht.height=this.height,ht.cameraElevationReference=this.cameraElevationReference,ht._center=this._center,ht._setZoom(this.zoom),ht._seaLevelZoom=this._seaLevelZoom,ht.angle=this.angle,ht._fov=this._fov,ht._pitch=this._pitch,ht._nearZ=this._nearZ,ht._farZ=this._farZ,ht._averageElevation=this._averageElevation,ht._unmodified=this._unmodified,ht._edgeInsets=this._edgeInsets.clone(),ht._camera=this._camera.clone(),ht._calcMatrices(),ht.freezeTileCoverage=this.freezeTileCoverage,ht.frustumCorners=this.frustumCorners,ht}get elevation(){return this._elevation}set elevation(ht){this._elevation!==ht&&(this._elevation=ht,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(ht){const bt=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||bt)&&this._updateCameraOnTerrain(),(ht||bt)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return it.pick(this.projection,["name","center","parallels"])}setProjection(ht){this.projectionOptions=ht||{name:"mercator"};const bt=this.projection?this.getProjection():void 0;this.projection=it.getProjection(this.projectionOptions);const Pt=!st(bt,this.getProjection());return Pt&&this._calcMatrices(),Pt}get minZoom(){return this._minZoom}set minZoom(ht){this._minZoom!==ht&&(this._minZoom=ht,this.zoom=Math.max(this.zoom,ht))}get maxZoom(){return this._maxZoom}set maxZoom(ht){this._maxZoom!==ht&&(this._maxZoom=ht,this.zoom=Math.min(this.zoom,ht))}get minPitch(){return this._minPitch}set minPitch(ht){this._minPitch!==ht&&(this._minPitch=ht,this.pitch=Math.max(this.pitch,ht))}get maxPitch(){return this._maxPitch}set maxPitch(ht){this._maxPitch!==ht&&(this._maxPitch=ht,this.pitch=Math.min(this.pitch,ht))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(ht){ht===void 0?ht=!0:ht===null&&(ht=!1),this._renderWorldCopies=ht}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const ht=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(ht))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return it.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new it.pointGeometry(this.width,this.height)}get bearing(){return it.wrap(this.rotation,-180,180)}set bearing(ht){this.rotation=ht}get rotation(){return-this.angle/Math.PI*180}set rotation(ht){const bt=-ht*Math.PI/180;var Pt;this.angle!==bt&&(this._unmodified=!1,this.angle=bt,this._calcMatrices(),this.rotationMatrix=(Pt=new it.ARRAY_TYPE(4),it.ARRAY_TYPE!=Float32Array&&(Pt[1]=0,Pt[2]=0),Pt[0]=1,Pt[3]=1,Pt),function(Rt,kt,Vt){var Ht=kt[0],Yt=kt[1],Jt=kt[2],ir=kt[3],cr=Math.sin(Vt),pr=Math.cos(Vt);Rt[0]=Ht*pr+Jt*cr,Rt[1]=Yt*pr+ir*cr,Rt[2]=Ht*-cr+Jt*pr,Rt[3]=Yt*-cr+ir*pr}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(ht){const bt=it.clamp(ht,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==bt&&(this._unmodified=!1,this._pitch=bt,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(ht){ht=Math.max(.01,Math.min(60,ht)),this._fov!==ht&&(this._unmodified=!1,this._fov=ht/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(ht){this._averageElevation=ht,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(ht){const bt=Math.min(Math.max(ht,this.minZoom),this.maxZoom);this._zoom!==bt&&(this._unmodified=!1,this._setZoom(bt),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(ht){this._zoom=ht,this.scale=this.zoomScale(ht),this.tileZoom=Math.floor(ht),this.zoomFraction=ht-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const ht=this._elevation;this._centerAltitude=ht.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=ht.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const ht=this._elevation,bt=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],Pt=this.horizonLineFromTop();let Rt=0,kt=0;for(let Vt=0;Vt<bt.length;Vt++){const Ht=new it.pointGeometry(bt[Vt][0]*this.width,Pt+bt[Vt][1]*(this.height-Pt)),Yt=ht.pointCoordinate(Ht);if(!Yt)continue;const Jt=1/Math.hypot(Yt[0]-this._camera.position[0],Yt[1]-this._camera.position[1]);Rt+=Yt[3]*Jt,kt+=Jt}return kt===0?NaN:Rt/kt}get center(){return this._center}set center(ht){ht.lat===this._center.lat&&ht.lng===this._center.lng||(this._unmodified=!1,this._center=ht,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const ht=this._seaLevelZoom,bt=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),Pt=this.pixelsPerMeter/this.worldSize*bt,Rt=this._mercatorZfromZoom(ht),kt=this._mercatorZfromZoom(this._maxZoom),Vt=Math.max(Rt-Pt,kt);this._setZoom(this._zoomFromMercatorZ(Vt))}get padding(){return this._edgeInsets.toJSON()}set padding(ht){this._edgeInsets.equals(ht)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ht,1),this._calcMatrices())}computeZoomRelativeTo(ht){const bt=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,ht.toAltitude()));let Pt;Pt=ht.z<this._camera.position[2]?[bt.x,bt.y,bt.z]:[ht.x,ht.y,ht.z];const Rt=it.length(it.sub([],this._camera.position,Pt));return it.clamp(this._zoomFromMercatorZ(Rt),this._minZoom,this._maxZoom)}setFreeCameraOptions(ht){if(!this.height||!ht.position&&!ht.orientation)return;this._updateCameraState();let bt=!1;if(ht.orientation&&!it.exactEquals(ht.orientation,this._camera.orientation)&&(bt=this._setCameraOrientation(ht.orientation)),ht.position){const Pt=[ht.position.x,ht.position.y,ht.position.z];it.exactEquals$1(Pt,this._camera.position)||(this._setCameraPosition(Pt),bt=!0)}bt&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const ht=this._camera.position,bt=new Sv;return bt.position=new it.MercatorCoordinate(ht[0],ht[1],ht[2]),bt.orientation=this._camera.orientation,bt._elevation=this.elevation,bt._renderWorldCopies=this.renderWorldCopies,bt}_setCameraOrientation(ht){if(!it.length$1(ht))return!1;it.normalize$1(ht,ht);const bt=it.transformQuat([],[0,0,-1],ht),Pt=it.transformQuat([],[0,-1,0],ht);if(Pt[2]<0)return!1;const Rt=lm(bt,Pt);return!!Rt&&(this._camera.orientation=Rt,!0)}_setCameraPosition(ht){const bt=this.zoomScale(this.minZoom)*this.tileSize,Pt=this.zoomScale(this.maxZoom)*this.tileSize,Rt=this.cameraToCenterDistance;ht[2]=it.clamp(ht[2],Rt/Pt,Rt/bt),this._camera.position=ht}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(ht){return this._edgeInsets.equals(ht)}interpolatePadding(ht,bt,Pt){this._unmodified=!1,this._edgeInsets.interpolate(ht,bt,Pt),this._constrain(),this._calcMatrices()}coveringZoomLevel(ht){const bt=(ht.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/ht.tileSize));return Math.max(0,bt)}getVisibleUnwrappedCoordinates(ht){const bt=[new it.UnwrappedTileID(0,ht)];if(this.renderWorldCopies){const Pt=this.pointCoordinate(new it.pointGeometry(0,0)),Rt=this.pointCoordinate(new it.pointGeometry(this.width,0)),kt=this.pointCoordinate(new it.pointGeometry(this.width,this.height)),Vt=this.pointCoordinate(new it.pointGeometry(0,this.height)),Ht=Math.floor(Math.min(Pt.x,Rt.x,kt.x,Vt.x)),Yt=Math.floor(Math.max(Pt.x,Rt.x,kt.x,Vt.x)),Jt=1;for(let ir=Ht-Jt;ir<=Yt+Jt;ir++)ir!==0&&bt.push(new it.UnwrappedTileID(ir,ht))}return bt}coveringTiles(ht){let bt=this.coveringZoomLevel(ht);const Pt=bt,Rt=this.elevation&&!ht.isTerrainDEM,kt=this.projection.name==="mercator";if(ht.minzoom!==void 0&&bt<ht.minzoom)return[];ht.maxzoom!==void 0&&bt>ht.maxzoom&&(bt=ht.maxzoom);const Vt=this.locationCoordinate(this.center),Ht=this.center.lat,Yt=1<<bt,Jt=[Yt*Vt.x,Yt*Vt.y,0],ir=this.projection.name==="globe",cr=!ir,pr=it.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,bt,cr),xr=ir?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),br=Yt*it.mercatorZfromAltitude(1,this.center.lat),mr=this._camera.position[2]/it.mercatorZfromAltitude(1,this.center.lat),Ir=[Yt*xr.x,Yt*xr.y,mr*(cr?1:br)],_r=this.cameraToCenterDistance/ht.tileSize*(ht.roundZoom?1:.502),Cr=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?bt:0,Tr=ht.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Nr=ht.isTerrainDEM?-Tr:this._elevation?this._elevation.getMinElevationBelowMSL():0,$r=this.projection.isReprojectedInTileSpace?Kl(this):1,Dr=Tn=>{const Jn=new it.MercatorCoordinate(Tn.x+25e-6,Tn.y,Tn.z),Qn=new it.MercatorCoordinate(Tn.x,Tn.y+25e-6,Tn.z),Yn=Tn.toLngLat(),Zn=Jn.toLngLat(),Mo=Qn.toLngLat(),Co=this.locationCoordinate(Yn),Fo=this.locationCoordinate(Zn),yo=this.locationCoordinate(Mo),ko=Math.hypot(Fo.x-Co.x,Fo.y-Co.y),us=Math.hypot(yo.x-Co.x,yo.y-Co.y);return Math.sqrt(ko*us)*$r/25e-6},Gr=Tn=>{const xo=Tr,Jn=Nr;return{aabb:it.tileAABB(this,Yt,0,0,0,Tn,Jn,xo,this.projection),zoom:0,x:0,y:0,minZ:Jn,maxZ:xo,wrap:Tn,fullyVisible:!1}},mn=[];let xn=[];const gn=bt,hn=ht.reparseOverscaled?Pt:bt,kr=Tn=>Tn*Tn,On=kr((mr-this._centerAltitude)*br),Ln=Tn=>{if(!this._elevation||!Tn.tileID||!kt)return;const xo=this._elevation.getMinMaxForTile(Tn.tileID),Jn=Tn.aabb;xo?(Jn.min[2]=xo.min,Jn.max[2]=xo.max,Jn.center[2]=(Jn.min[2]+Jn.max[2])/2):(Tn.shouldSplit=na(Tn),Tn.shouldSplit||(Jn.min[2]=Jn.max[2]=Jn.center[2]=this._centerAltitude))},na=Tn=>{if(Tn.zoom<Cr)return!0;if(Tn.zoom===gn)return!1;if(Tn.shouldSplit!=null)return Tn.shouldSplit;const xo=Tn.aabb.distanceX(Ir),Jn=Tn.aabb.distanceY(Ir);let Qn=On,Yn=1;if(ir){Qn=kr(Tn.aabb.distanceZ(Ir));const Mo=Math.pow(2,Tn.zoom),Co=it.latFromMercatorY((Tn.y+1)/Mo),Fo=it.latFromMercatorY(Tn.y/Mo),yo=Math.min(Math.max(Ht,Co),Fo),ko=it.circumferenceAtLatitude(yo)/it.circumferenceAtLatitude(Ht);if(Yn=yo===Ht?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,ko/this._mercatorScaleRatio),this.zoom<=it.GLOBE_ZOOM_THRESHOLD_MIN&&Tn.zoom===gn-1&&ko>=.9)return!0}else if(Rt&&(Qn=kr(Tn.aabb.distanceZ(Ir)*br)),this.projection.isReprojectedInTileSpace&&Pt<=5){const Mo=Math.pow(2,Tn.zoom),Co=Dr(new it.MercatorCoordinate((Tn.x+.5)/Mo,(Tn.y+.5)/Mo));Yn=Co>.85?1:Co}const Zn=xo*xo+Jn*Jn+Qn;return Zn<kr((1<<gn-Tn.zoom)*_r*Yn*((Mo,Co)=>{if(Co*kr(.707)<Mo)return 1;const Fo=Math.sqrt(Co/Mo);return Fo/(1.4144271570014144+(Math.pow(1.1,Fo-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Qn,On),Zn))};if(this.renderWorldCopies)for(let Tn=1;Tn<=3;Tn++)mn.push(Gr(-Tn)),mn.push(Gr(Tn));for(mn.push(Gr(0));mn.length>0;){const Tn=mn.pop(),xo=Tn.x,Jn=Tn.y;let Qn=Tn.fullyVisible;if(!Qn){const Yn=Tn.aabb.intersects(pr);if(Yn===0)continue;Qn=Yn===2}if(Tn.zoom!==gn&&na(Tn))for(let Yn=0;Yn<4;Yn++){const Zn=(xo<<1)+Yn%2,Mo=(Jn<<1)+(Yn>>1),Co={aabb:kt?Tn.aabb.quadrant(Yn):it.tileAABB(this,Yt,Tn.zoom+1,Zn,Mo,Tn.wrap,Tn.minZ,Tn.maxZ,this.projection),zoom:Tn.zoom+1,x:Zn,y:Mo,wrap:Tn.wrap,fullyVisible:Qn,tileID:void 0,shouldSplit:void 0,minZ:Tn.minZ,maxZ:Tn.maxZ};Rt&&!ir&&(Co.tileID=new it.OverscaledTileID(Tn.zoom+1===gn?hn:Tn.zoom+1,Tn.wrap,Tn.zoom+1,Zn,Mo),Ln(Co)),mn.push(Co)}else{const Yn=Tn.zoom===gn?hn:Tn.zoom;if(ht.minzoom&&ht.minzoom>Yn)continue;const Zn=Jt[0]-(.5+xo+(Tn.wrap<<Tn.zoom))*(1<<bt-Tn.zoom),Mo=Jt[1]-.5-Jn,Co=Tn.tileID?Tn.tileID:new it.OverscaledTileID(Yn,Tn.wrap,Tn.zoom,xo,Jn);xn.push({tileID:Co,distanceSq:Zn*Zn+Mo*Mo})}}if(this.fogCullDistSq){const Tn=this.fogCullDistSq,xo=this.horizonLineFromTop();xn=xn.filter(Jn=>{const Qn=[0,0,0,1],Yn=[it.EXTENT,it.EXTENT,0,1],Zn=this.calculateFogTileMatrix(Jn.tileID.toUnwrapped());it.transformMat4$1(Qn,Qn,Zn),it.transformMat4$1(Yn,Yn,Zn);const Mo=it.getAABBPointSquareDist(Qn,Yn);if(Mo===0)return!0;let Co=!1;const Fo=this._elevation;if(Fo&&Mo>Tn&&xo!==0){const yo=this.calculateProjMatrix(Jn.tileID.toUnwrapped());let ko;ht.isTerrainDEM||(ko=Fo.getMinMaxForTile(Jn.tileID)),ko||(ko={min:Nr,max:Tr});const us=it.furthestTileCorner(this.rotation),ps=[us[0]*it.EXTENT,us[1]*it.EXTENT,ko.max];it.transformMat4(ps,ps,yo),Co=(1-ps[1])*this.height*.5<xo}return Mo<Tn||Co})}return xn.sort((Tn,xo)=>Tn.distanceSq-xo.distanceSq).map(Tn=>Tn.tileID)}resize(ht,bt){this.width=ht,this.height=bt,this.pixelsToGLUnits=[2/ht,-2/bt],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(ht){return Math.pow(2,ht)}scaleZoom(ht){return Math.log(ht)/Math.LN2}project(ht){const bt=it.clamp(ht.lat,-it.MAX_MERCATOR_LATITUDE,it.MAX_MERCATOR_LATITUDE),Pt=this.projection.project(ht.lng,bt);return new it.pointGeometry(Pt.x*this.worldSize,Pt.y*this.worldSize)}unproject(ht){return this.projection.unproject(ht.x/this.worldSize,ht.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(ht,bt){let Pt,Rt;const kt=this.centerPoint;if(this.projection.name==="globe"){const Ht=this.worldSize;Pt=(bt.x-kt.x)/Ht,Rt=(bt.y-kt.y)/Ht}else{const Ht=this.pointCoordinate(bt),Yt=this.pointCoordinate(kt);Pt=Ht.x-Yt.x,Rt=Ht.y-Yt.y}const Vt=this.locationCoordinate(ht);this.setLocation(new it.MercatorCoordinate(Vt.x-Pt,Vt.y-Rt))}setLocation(ht){this.center=this.coordinateLocation(ht),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(ht){return this.projection.locationPoint(this,ht)}locationPoint3D(ht){return this.projection.locationPoint(this,ht,!0)}pointLocation(ht){return this.coordinateLocation(this.pointCoordinate(ht))}pointLocation3D(ht){return this.coordinateLocation(this.pointCoordinate3D(ht))}locationCoordinate(ht,bt){const Pt=bt?it.mercatorZfromAltitude(bt,ht.lat):void 0,Rt=this.projection.project(ht.lng,ht.lat);return new it.MercatorCoordinate(Rt.x,Rt.y,Pt)}coordinateLocation(ht){return this.projection.unproject(ht.x,ht.y)}pointRayIntersection(ht,bt){const Pt=bt!=null?bt:this._centerAltitude,Rt=[ht.x,ht.y,0,1],kt=[ht.x,ht.y,1,1];it.transformMat4$1(Rt,Rt,this.pixelMatrixInverse),it.transformMat4$1(kt,kt,this.pixelMatrixInverse);const Vt=kt[3];it.scale$1(Rt,Rt,1/Rt[3]),it.scale$1(kt,kt,1/Vt);const Ht=Rt[2],Yt=kt[2];return{p0:Rt,p1:kt,t:Ht===Yt?0:(Pt-Ht)/(Yt-Ht)}}screenPointToMercatorRay(ht){const bt=[ht.x,ht.y,0,1],Pt=[ht.x,ht.y,1,1];return it.transformMat4$1(bt,bt,this.pixelMatrixInverse),it.transformMat4$1(Pt,Pt,this.pixelMatrixInverse),it.scale$1(bt,bt,1/bt[3]),it.scale$1(Pt,Pt,1/Pt[3]),bt[2]=it.mercatorZfromAltitude(bt[2],this._center.lat)*this.worldSize,Pt[2]=it.mercatorZfromAltitude(Pt[2],this._center.lat)*this.worldSize,it.scale$1(bt,bt,1/this.worldSize),it.scale$1(Pt,Pt,1/this.worldSize),new it.Ray([bt[0],bt[1],bt[2]],it.normalize([],it.sub([],Pt,bt)))}rayIntersectionCoordinate(ht){const{p0:bt,p1:Pt,t:Rt}=ht,kt=it.mercatorZfromAltitude(bt[2],this._center.lat),Vt=it.mercatorZfromAltitude(Pt[2],this._center.lat);return new it.MercatorCoordinate(it.number(bt[0],Pt[0],Rt)/this.worldSize,it.number(bt[1],Pt[1],Rt)/this.worldSize,it.number(kt,Vt,Rt))}pointCoordinate(ht,bt=this._centerAltitude){return this.projection.pointCoordinate(this,ht.x,ht.y,bt)}pointCoordinate3D(ht){if(!this.elevation)return this.pointCoordinate(ht);let bt=this.projection.pointCoordinate3D(this,ht.x,ht.y);if(bt)return new it.MercatorCoordinate(bt[0],bt[1],bt[2]);let Pt=0,Rt=this.horizonLineFromTop();if(ht.y>Rt)return this.pointCoordinate(ht);const kt=.02*Rt,Vt=ht.clone();for(let Ht=0;Ht<10&&Rt-Pt>kt;Ht++){Vt.y=it.number(Pt,Rt,.66);const Yt=this.projection.pointCoordinate3D(this,Vt.x,Vt.y);Yt?(Rt=Vt.y,bt=Yt):Pt=Vt.y}return bt?new it.MercatorCoordinate(bt[0],bt[1],bt[2]):this.pointCoordinate(ht)}isPointAboveHorizon(ht){return this.projection.isPointAboveHorizon(this,ht)}_coordinatePoint(ht,bt){const Pt=bt&&this.elevation?this.elevation.getAtPointOrZero(ht,this._centerAltitude):this._centerAltitude,Rt=[ht.x*this.worldSize,ht.y*this.worldSize,Pt+ht.toAltitude(),1];return it.transformMat4$1(Rt,Rt,this.pixelMatrix),Rt[3]>0?new it.pointGeometry(Rt[0]/Rt[3],Rt[1]/Rt[3]):new it.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(ht,bt){const Pt=new it.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),Rt=new it.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),kt=new it.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),Vt=new it.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let Ht=this.pointCoordinate(Pt,ht),Yt=this.pointCoordinate(Rt,ht);const Jt=this.pointCoordinate(kt,bt),ir=this.pointCoordinate(Vt,bt),cr=(pr,xr)=>(xr.y-pr.y)/(xr.x-pr.x);return Ht.y>1&&Yt.y>=0?Ht=new it.MercatorCoordinate((1-ir.y)/cr(ir,Ht)+ir.x,1):Ht.y<0&&Yt.y<=1&&(Ht=new it.MercatorCoordinate(-ir.y/cr(ir,Ht)+ir.x,0)),Yt.y>1&&Ht.y>=0?Yt=new it.MercatorCoordinate((1-Jt.y)/cr(Jt,Yt)+Jt.x,1):Yt.y<0&&Ht.y<=1&&(Yt=new it.MercatorCoordinate(-Jt.y/cr(Jt,Yt)+Jt.x,0)),new it.LngLatBounds().extend(this.coordinateLocation(Ht)).extend(this.coordinateLocation(Yt)).extend(this.coordinateLocation(ir)).extend(this.coordinateLocation(Jt))}_getBounds3D(){const ht=this.elevation;if(!ht.visibleDemTiles.length)return this._getBounds(0,0);const bt=ht.visibleDemTiles.reduce((Pt,Rt)=>{if(Rt.dem){const kt=Rt.dem.tree;Pt.min=Math.min(Pt.min,kt.minimums[0]),Pt.max=Math.max(Pt.max,kt.maximums[0])}return Pt},{min:Number.MAX_VALUE,max:0});return this._getBounds(bt.min*ht.exaggeration(),bt.max*ht.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(ht=!0){const bt=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,Pt=this.height/2-bt*(1-this._horizonShift);return ht?Math.max(0,Pt):Pt}getMaxBounds(){return this.maxBounds}setMaxBounds(ht){this.maxBounds=ht,this.minLat=-it.MAX_MERCATOR_LATITUDE,this.maxLat=it.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,ht&&(this.minLat=ht.getSouth(),this.maxLat=ht.getNorth(),this.minLng=ht.getWest(),this.maxLng=ht.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=it.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=it.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=it.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=it.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(ht,bt){return this.projection.createTileMatrix(this,bt,ht)}calculateDistanceTileData(ht){const bt=ht.key,Pt=this._distanceTileDataCache;if(Pt[bt])return Pt[bt];const Rt=ht.canonical,kt=1/this.height,Vt=this.cameraWorldSize/this.zoomScale(Rt.z),Ht=(Rt.x+Math.pow(2,Rt.z)*ht.wrap)*Vt,Yt=Rt.y*Vt,Jt=this.point,ir=this.angle,cr=Math.sin(-ir),pr=-Math.cos(-ir);return Pt[bt]={bearing:[cr,pr],center:[(Jt.x-Ht)*kt,(Jt.y-Yt)*kt],scale:Vt/it.EXTENT*kt},Pt[bt]}calculateFogTileMatrix(ht){const bt=ht.key,Pt=this._fogTileMatrixCache;if(Pt[bt])return Pt[bt];const Rt=this.projection.createTileMatrix(this,this.cameraWorldSize,ht);return it.multiply(Rt,this.worldToFogMatrix,Rt),Pt[bt]=new Float32Array(Rt),Pt[bt]}calculateProjMatrix(ht,bt=!1){const Pt=ht.key,Rt=bt?this._alignedProjMatrixCache:this._projMatrixCache;if(Rt[Pt])return Rt[Pt];const kt=this.calculatePosMatrix(ht,this.worldSize);return it.multiply(kt,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:bt?this.alignedProjMatrix:this.projMatrix,kt),Rt[Pt]=new Float32Array(kt),Rt[Pt]}calculatePixelsToTileUnitsMatrix(ht){const bt=ht.tileID.key,Pt=this._pixelsToTileUnitsCache;if(Pt[bt])return Pt[bt];const Rt=function(kt,Vt){const{scale:Ht}=kt.tileTransform,Yt=Ht*it.EXTENT/(kt.tileSize*Math.pow(2,Vt.zoom-kt.tileID.overscaledZ+kt.tileID.canonical.z));return Jt=new Float32Array(4),pr=(ir=Vt.inverseAdjustmentMatrix)[1],xr=ir[2],br=ir[3],Ir=(cr=[Yt,Yt])[1],Jt[0]=ir[0]*(mr=cr[0]),Jt[1]=pr*mr,Jt[2]=xr*Ir,Jt[3]=br*Ir,Jt;var Jt,ir,cr,pr,xr,br,mr,Ir}(ht,this);return Pt[bt]=Rt,Pt[bt]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const ht=this._elevation;this._updateCameraState();const bt=it.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Pt=this._computeCameraPosition(bt),Rt=this._camera.forward(),kt=it.mercatorZfromAltitude(1,this._center.lat);Pt[2]/=kt,Rt[2]/=kt,it.normalize(Rt,Rt);const Vt=ht.raycast(Pt,Rt,ht.exaggeration());if(Vt){const Ht=it.scaleAndAdd([],Pt,Rt,Vt),Yt=new it.MercatorCoordinate(Ht[0],Ht[1],it.mercatorZfromAltitude(Ht[2],it.latFromMercatorY(Ht[1]))),Jt=(Yt.z+it.length([Yt.x-Pt[0],Yt.y-Pt[1],Yt.z-Pt[2]*kt]))*this._projectionScaler;this._seaLevelZoom=this._zoomFromMercatorZ(Jt),this._centerAltitude=Yt.toAltitude(),this._center=this.coordinateLocation(Yt),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const ht=this._elevation;this._updateCameraState();const bt=it.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Pt=this._computeCameraPosition(bt),Rt=ht.getAtPointOrZero(new it.MercatorCoordinate(...Pt)),kt=this._minimumHeightOverTerrain()*Math.cos(it.degToRad(this._maxPitch)),Vt=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*Rt;if(Vt<kt){const Ht=this.locationCoordinate(this._center,this._centerAltitude),Yt=[Ht.x-Pt[0],Ht.y-Pt[1],Ht.z-Pt[2]],Jt=it.length(Yt);Yt[2]-=(kt-Vt)/this._projectionScaler;const ir=it.length(Yt);if(ir===0)return;it.scale$2(Yt,Yt,Jt/ir*this._projectionScaler),this._camera.position=[Ht.x-Yt[0],Ht.y-Yt[1],Ht.z*this._projectionScaler-Yt[2]],this._camera.orientation=lm(Yt,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;if(this._constraining=!0,this.projection.isReprojectedInTileSpace){const cr=this.center;return cr.lat=it.clamp(cr.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(cr.lng=it.clamp(cr.lng,this.minLng,this.maxLng)),this.center=cr,void(this._constraining=!1)}const ht=this._unmodified,{x:bt,y:Pt}=this.point;let Rt=0,kt=bt,Vt=Pt;const Ht=this.width/2,Yt=this.height/2,Jt=this.worldMinY*this.scale,ir=this.worldMaxY*this.scale;if(Pt-Yt<Jt&&(Vt=Jt+Yt),Pt+Yt>ir&&(Vt=ir-Yt),ir-Jt<this.height&&(Rt=Math.max(Rt,this.height/(ir-Jt)),Vt=(ir+Jt)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const cr=this.worldMinX*this.scale,pr=this.worldMaxX*this.scale,xr=this.worldSize/2-(cr+pr)/2;kt=(bt+xr+this.worldSize)%this.worldSize-xr,kt-Ht<cr&&(kt=cr+Ht),kt+Ht>pr&&(kt=pr-Ht),pr-cr<this.width&&(Rt=Math.max(Rt,this.width/(pr-cr)),kt=(pr+cr)/2)}kt===bt&&Vt===Pt||(this.center=this.unproject(new it.pointGeometry(kt,Vt))),Rt&&(this.zoom+=this.scaleZoom(Rt)),this._constrainCameraAltitude(),this._unmodified=ht,this._constraining=!1}_minZoomForBounds(){let ht=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(ht=Math.max(ht,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),ht}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const ht=this.centerOffset,bt=this.pixelsPerMeter;if(this.projection.name==="globe"){const $r=it.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,Dr=it.mercatorZfromAltitude(1,it.GLOBE_SCALE_MATCH_LATITUDE)*this.worldSize;this._mercatorScaleRatio=$r/Dr}const Pt=wv(this.projection,this.zoom,this.width,this.height,1024);this._projectionScaler=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,Pt),this.cameraToCenterDistance=this.getCameraToCenterDistance(this.projection),this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const Rt=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?bt:1),kt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);kt[8]=2*-ht.x/this.width,kt[9]=2*ht.y/this.height;let Vt=it.mul([],kt,Rt);if(this.projection.isReprojectedInTileSpace){const $r=this.locationCoordinate(this.center),Dr=it.identity([]);it.translate(Dr,Dr,[$r.x*this.worldSize,$r.y*this.worldSize,0]),it.multiply(Dr,Dr,to(this)),it.translate(Dr,Dr,[-$r.x*this.worldSize,-$r.y*this.worldSize,0]),it.multiply(Vt,Vt,Dr),this.inverseAdjustmentMatrix=function(Gr){const mn=to(Gr,!0);return Gt([],[mn[0],mn[1],mn[4],mn[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=it.scale([],Vt,[this.worldSize,this.worldSize,this.worldSize/bt,1]),this.projMatrix=Vt,this.invProjMatrix=it.invert(new Float64Array(16),this.projMatrix);const Ht=it.invert([],kt);this.frustumCorners=it.FrustumCorners.fromInvProjectionMatrix(Ht,this.horizonLineFromTop(),this.height);const Yt=new Float32Array(16);it.identity(Yt),it.scale(Yt,Yt,[1,-1,1]),it.rotateX(Yt,Yt,this._pitch),it.rotateZ(Yt,Yt,this.angle);const Jt=it.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ir=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Jt[8]=2*-ht.x/this.width,Jt[9]=2*(ht.y+ir)/this.height,this.skyboxMatrix=it.multiply(Yt,Jt,Yt);const cr=this.point,pr=cr.x,xr=cr.y,br=this.width%2/2,mr=this.height%2/2,Ir=Math.cos(this.angle),_r=Math.sin(this.angle),Cr=pr-Math.round(pr)+Ir*br+_r*mr,Tr=xr-Math.round(xr)+Ir*mr+_r*br,Nr=new Float64Array(Vt);if(it.translate(Nr,Nr,[Cr>.5?Cr-1:Cr,Tr>.5?Tr-1:Tr,0]),this.alignedProjMatrix=Nr,Vt=it.create(),it.scale(Vt,Vt,[this.width/2,-this.height/2,1]),it.translate(Vt,Vt,[1,-1,0]),this.labelPlaneMatrix=Vt,Vt=it.create(),it.scale(Vt,Vt,[1,-1,1]),it.translate(Vt,Vt,[-1,-1,0]),it.scale(Vt,Vt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Vt,this.pixelMatrix=it.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},Vt=it.invert(new Float64Array(16),this.pixelMatrix),!Vt)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=Vt,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=it.calculateGlobeMatrix(this);const $r=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=it.transformMat4($r,$r,Rt),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=Vt;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const ht=this.cameraWorldSize,bt=this.cameraPixelsPerMeter,Pt=this._camera.position,Rt=1/this.height/this._projectionScaler,kt=[ht,ht,bt];it.scale$2(kt,kt,Rt),it.scale$2(Pt,Pt,-1),it.multiply$2(Pt,Pt,kt);const Vt=it.create();it.translate(Vt,Vt,Pt),it.scale(Vt,Vt,kt),this.mercatorFogMatrix=Vt,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(ht,bt,Rt)}_computeCameraPosition(ht){const bt=(ht=ht||this.pixelsPerMeter)/this.pixelsPerMeter,Pt=this._camera.forward(),Rt=this.point,kt=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*bt-ht/this.worldSize*this._centerAltitude;return[Rt.x/this.worldSize-Pt[0]*kt,Rt.y/this.worldSize-Pt[1]*kt,ht/this.worldSize*this._centerAltitude-Pt[2]*kt]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(ht){const bt=this._maxCameraBoundsDistance()*Math.cos(this._pitch),Pt=ht[2];let Rt=1;Pt>0&&(Rt=Math.min((bt-this._camera.position[2])/Pt,1)),this._camera.position=it.scaleAndAdd([],this._camera.position,ht,Rt),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap())}_updateStateFromCamera(){const ht=this._camera.position,bt=this._camera.forward(),{pitch:Pt,bearing:Rt}=this._camera.getPitchBearing(),kt=it.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._projectionScaler,Vt=this._mercatorZfromZoom(this._maxZoom)*Math.cos(it.degToRad(this._maxPitch)),Ht=Math.max((ht[2]-kt)/Math.cos(Pt),Vt),Yt=this._zoomFromMercatorZ(Ht);it.scaleAndAdd(ht,ht,bt,Ht),this._pitch=it.clamp(Pt,it.degToRad(this.minPitch),it.degToRad(this.maxPitch)),this.angle=it.wrap(Rt,-Math.PI,Math.PI),this._setZoom(it.clamp(Yt,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new it.MercatorCoordinate(ht[0],ht[1],ht[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(ht){return Math.pow(2,ht)*this.tileSize}_mercatorZfromZoom(ht){return this.cameraToCenterDistance/this._worldSizeFromZoom(ht)}_minimumHeightOverTerrain(){const ht=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(ht)}_zoomFromMercatorZ(ht){return this.scaleZoom(this.cameraToCenterDistance/(ht*this.tileSize))}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(it.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(ht,bt){const Pt=Math.min(ht.x,bt.x),Rt=Math.max(ht.x,bt.x),kt=Math.min(ht.y,bt.y),Vt=Math.max(ht.y,bt.y);if(kt<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const Ht=[new it.pointGeometry(Pt,kt),new it.pointGeometry(Rt,Vt),new it.pointGeometry(Pt,Vt),new it.pointGeometry(Rt,kt)],Yt=this.renderWorldCopies?-3:0,Jt=this.renderWorldCopies?4:1;for(const ir of Ht){const cr=this.pointRayIntersection(ir);if(cr.t<0)return!0;const pr=this.rayIntersectionCoordinate(cr);if(pr.x<Yt||pr.y<0||pr.x>Jt||pr.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+it.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new it.pointGeometry(0,0),new it.pointGeometry(this.width,this.height))}zoomDeltaToMovement(ht,bt){const Pt=it.length(it.sub([],this._camera.position,ht)),Rt=this._zoomFromMercatorZ(Pt)+bt;return Pt-this._mercatorZfromZoom(Rt)}getCameraPoint(){if(this.projection.name==="globe"){const ht=function(bt,Pt){const Rt=[bt[0],bt[1],bt[2],1];it.transformMat4$1(Rt,Rt,Pt);const kt=Math.max(Rt[3],1e-6);return[Rt[0]/kt,Rt[1]/kt,Rt[2]/kt,kt]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new it.pointGeometry(ht[0],ht[1])}{const ht=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new it.pointGeometry(0,ht))}}getCameraToCenterDistance(ht){const bt=wv(ht,this.zoom,this.width,this.height,1024),Pt=ht.pixelSpaceConversion(this.center.lat,this.worldSize,bt);return .5/Math.tan(.5*this._fov)*this.height*Pt}}function Cv(Tt,ht){let bt=!1,Pt=null;const Rt=()=>{Pt=null,bt&&(Tt(),Pt=setTimeout(Rt,ht),bt=!1)};return()=>(bt=!0,Pt||Rt(),Pt)}class Qm{constructor(ht){this._hashName=ht&&encodeURIComponent(ht),it.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Cv(this._updateHashUnthrottled.bind(this),300)}addTo(ht){return this._map=ht,it.window.addEventListener("hashchange",this._onHashChange,!1),ht.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),it.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(ht){const bt=this._map;if(!bt)return"";const Pt=bt.getCenter(),Rt=Math.round(100*bt.getZoom())/100,kt=Math.ceil((Rt*Math.LN2+Math.log(512/360/.5))/Math.LN10),Vt=Math.pow(10,kt),Ht=Math.round(Pt.lng*Vt)/Vt,Yt=Math.round(Pt.lat*Vt)/Vt,Jt=bt.getBearing(),ir=bt.getPitch();let cr="";if(cr+=ht?`/${Ht}/${Yt}/${Rt}`:`${Rt}/${Yt}/${Ht}`,(Jt||ir)&&(cr+="/"+Math.round(10*Jt)/10),ir&&(cr+=`/${Math.round(ir)}`),this._hashName){const pr=this._hashName;let xr=!1;const br=it.window.location.hash.slice(1).split("&").map(mr=>{const Ir=mr.split("=")[0];return Ir===pr?(xr=!0,`${Ir}=${cr}`):mr}).filter(mr=>mr);return xr||br.push(`${pr}=${cr}`),`#${br.join("&")}`}return`#${cr}`}_getCurrentHash(){const ht=it.window.location.hash.replace("#","");if(this._hashName){let bt;return ht.split("&").map(Pt=>Pt.split("=")).forEach(Pt=>{Pt[0]===this._hashName&&(bt=Pt)}),(bt&&bt[1]||"").split("/")}return ht.split("/")}_onHashChange(){const ht=this._map;if(!ht)return!1;const bt=this._getCurrentHash();if(bt.length>=3&&!bt.some(Pt=>isNaN(Pt))){const Pt=ht.dragRotate.isEnabled()&&ht.touchZoomRotate.isEnabled()?+(bt[3]||0):ht.getBearing();return ht.jumpTo({center:[+bt[2],+bt[1]],zoom:+bt[0],bearing:Pt,pitch:+(bt[4]||0)}),!0}return!1}_updateHashUnthrottled(){const ht=it.window.location.href.replace(/(#.+)?$/,this.getHashString());it.window.history.replaceState(it.window.history.state,null,ht)}}const cp={linearity:.3,easing:it.bezier(0,0,.3,1)},jy=it.extend({deceleration:2500,maxSpeed:1400},cp),Gy=it.extend({deceleration:20,maxSpeed:1400},cp),jp=it.extend({deceleration:1e3,maxSpeed:360},cp),t_=it.extend({deceleration:1e3,maxSpeed:90},cp);class r_{constructor(ht){this._map=ht,this.clear()}clear(){this._inertiaBuffer=[]}record(ht){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:it.exported.now(),settings:ht})}_drainInertiaBuffer(){const ht=this._inertiaBuffer,bt=it.exported.now();for(;ht.length>0&&bt-ht[0].time>160;)ht.shift()}_onMoveEnd(ht){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const bt={zoom:0,bearing:0,pitch:0,pan:new it.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:kt}of this._inertiaBuffer)bt.zoom+=kt.zoomDelta||0,bt.bearing+=kt.bearingDelta||0,bt.pitch+=kt.pitchDelta||0,kt.panDelta&&bt.pan._add(kt.panDelta),kt.around&&(bt.around=kt.around),kt.pinchAround&&(bt.pinchAround=kt.pinchAround);const Pt=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Rt={};if(bt.pan.mag()){const kt=fp(bt.pan.mag(),Pt,it.extend({},jy,ht||{}));Rt.offset=bt.pan.mult(kt.amount/bt.pan.mag()),Rt.center=this._map.transform.center,Tv(Rt,kt)}if(bt.zoom){const kt=fp(bt.zoom,Pt,Gy);Rt.zoom=this._map.transform.zoom+kt.amount,Tv(Rt,kt)}if(bt.bearing){const kt=fp(bt.bearing,Pt,jp);Rt.bearing=this._map.transform.bearing+it.clamp(kt.amount,-179,179),Tv(Rt,kt)}if(bt.pitch){const kt=fp(bt.pitch,Pt,t_);Rt.pitch=this._map.transform.pitch+kt.amount,Tv(Rt,kt)}if(Rt.zoom||Rt.bearing){const kt=bt.pinchAround===void 0?bt.around:bt.pinchAround;Rt.around=kt?this._map.unproject(kt):this._map.getCenter()}return this.clear(),Rt.noMoveStart=!0,Rt}}function Tv(Tt,ht){(!Tt.duration||Tt.duration<ht.duration)&&(Tt.duration=ht.duration,Tt.easing=ht.easing)}function fp(Tt,ht,bt){const{maxSpeed:Pt,linearity:Rt,deceleration:kt}=bt,Vt=it.clamp(Tt*Rt/(ht/1e3),-Pt,Pt),Ht=Math.abs(Vt)/(kt*Rt);return{easing:bt.easing,duration:1e3*Ht,amount:Vt*(Ht/2)}}class Tl extends it.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ht,bt,Pt,Rt={}){const kt=Ot(bt.getCanvasContainer(),Pt),Vt=bt.unproject(kt);super(ht,it.extend({point:kt,lngLat:Vt,originalEvent:Pt},Rt)),this._defaultPrevented=!1,this.target=bt}}class Ev extends it.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ht,bt,Pt){const Rt=ht==="touchend"?Pt.changedTouches:Pt.touches,kt=Lt(bt.getCanvasContainer(),Rt),Vt=kt.map(Yt=>bt.unproject(Yt)),Ht=kt.reduce((Yt,Jt,ir,cr)=>Yt.add(Jt.div(cr.length)),new it.pointGeometry(0,0));super(ht,{points:kt,point:Ht,lngLats:Vt,lngLat:bt.unproject(Ht),originalEvent:Pt}),this._defaultPrevented=!1}}class Hy extends it.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ht,bt,Pt){super(ht,{originalEvent:Pt}),this._defaultPrevented=!1}}class cm{constructor(ht,bt){this._map=ht,this._clickTolerance=bt.clickTolerance}reset(){this._mousedownPos=void 0}wheel(ht){return this._firePreventable(new Hy(ht.type,this._map,ht))}mousedown(ht,bt){return this._mousedownPos=bt,this._firePreventable(new Tl(ht.type,this._map,ht))}mouseup(ht){this._map.fire(new Tl(ht.type,this._map,ht))}preclick(ht){const bt=it.extend({},ht);bt.type="preclick",this._map.fire(new Tl(bt.type,this._map,bt))}click(ht,bt){this._mousedownPos&&this._mousedownPos.dist(bt)>=this._clickTolerance||(this.preclick(ht),this._map.fire(new Tl(ht.type,this._map,ht)))}dblclick(ht){return this._firePreventable(new Tl(ht.type,this._map,ht))}mouseover(ht){this._map.fire(new Tl(ht.type,this._map,ht))}mouseout(ht){this._map.fire(new Tl(ht.type,this._map,ht))}touchstart(ht){return this._firePreventable(new Ev(ht.type,this._map,ht))}touchmove(ht){this._map.fire(new Ev(ht.type,this._map,ht))}touchend(ht){this._map.fire(new Ev(ht.type,this._map,ht))}touchcancel(ht){this._map.fire(new Ev(ht.type,this._map,ht))}_firePreventable(ht){if(this._map.fire(ht),ht.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jm{constructor(ht){this._map=ht}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(ht){this._map.fire(new Tl(ht.type,this._map,ht))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Tl("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(ht){this._delayContextMenu?this._contextMenuEvent=ht:this._map.fire(new Tl(ht.type,this._map,ht)),this._map.listens("contextmenu")&&ht.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wy{constructor(ht,bt){this._map=ht,this._el=ht.getCanvasContainer(),this._container=ht.getContainer(),this._clickTolerance=bt.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(ht,bt){this.isEnabled()&&ht.shiftKey&&ht.button===0&&(wt(),this._startPos=this._lastPos=bt,this._active=!0)}mousemoveWindow(ht,bt){if(!this._active)return;const Pt=bt;if(this._lastPos.equals(Pt)||!this._box&&Pt.dist(this._startPos)<this._clickTolerance)return;const Rt=this._startPos;this._lastPos=Pt,this._box||(this._box=vt("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",ht));const kt=Math.min(Rt.x,Pt.x),Vt=Math.max(Rt.x,Pt.x),Ht=Math.min(Rt.y,Pt.y),Yt=Math.max(Rt.y,Pt.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${kt}px,${Ht}px)`,this._box.style.width=Vt-kt+"px",this._box.style.height=Yt-Ht+"px")})}mouseupWindow(ht,bt){if(!this._active||ht.button!==0)return;const Pt=this._startPos,Rt=bt;if(this.reset(),It(),Pt.x!==Rt.x||Pt.y!==Rt.y)return this._map.fire(new it.Event("boxzoomend",{originalEvent:ht})),{cameraAnimation:kt=>kt.fitScreenCoordinates(Pt,Rt,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",ht)}keydown(ht){this._active&&ht.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",ht))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Et(),delete this._startPos,delete this._lastPos}_fireEvent(ht,bt){return this._map.fire(new it.Event(ht,{originalEvent:bt}))}}function fm(Tt,ht){const bt={};for(let Pt=0;Pt<Tt.length;Pt++)bt[Tt[Pt].identifier]=ht[Pt];return bt}class Ky{constructor(ht){this.reset(),this.numTouches=ht.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(ht,bt,Pt){(this.centroid||Pt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=ht.timeStamp),Pt.length===this.numTouches&&(this.centroid=function(Rt){const kt=new it.pointGeometry(0,0);for(const Vt of Rt)kt._add(Vt);return kt.div(Rt.length)}(bt),this.touches=fm(Pt,bt)))}touchmove(ht,bt,Pt){if(this.aborted||!this.centroid)return;const Rt=fm(Pt,bt);for(const kt in this.touches){const Vt=this.touches[kt],Ht=Rt[kt];(!Ht||Ht.dist(Vt)>30)&&(this.aborted=!0)}}touchend(ht,bt,Pt){if((!this.centroid||ht.timeStamp-this.startTime>500)&&(this.aborted=!0),Pt.length===0){const Rt=!this.aborted&&this.centroid;if(this.reset(),Rt)return Rt}}}class dm{constructor(ht){this.singleTap=new Ky(ht),this.numTaps=ht.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(ht,bt,Pt){this.singleTap.touchstart(ht,bt,Pt)}touchmove(ht,bt,Pt){this.singleTap.touchmove(ht,bt,Pt)}touchend(ht,bt,Pt){const Rt=this.singleTap.touchend(ht,bt,Pt);if(Rt){const kt=ht.timeStamp-this.lastTime<500,Vt=!this.lastTap||this.lastTap.dist(Rt)<30;if(kt&&Vt||this.reset(),this.count++,this.lastTime=ht.timeStamp,this.lastTap=Rt,this.count===this.numTaps)return this.reset(),Rt}}}class Yy{constructor(){this._zoomIn=new dm({numTouches:1,numTaps:2}),this._zoomOut=new dm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(ht,bt,Pt){this._zoomIn.touchstart(ht,bt,Pt),this._zoomOut.touchstart(ht,bt,Pt)}touchmove(ht,bt,Pt){this._zoomIn.touchmove(ht,bt,Pt),this._zoomOut.touchmove(ht,bt,Pt)}touchend(ht,bt,Pt){const Rt=this._zoomIn.touchend(ht,bt,Pt),kt=this._zoomOut.touchend(ht,bt,Pt);return Rt?(this._active=!0,ht.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Vt=>Vt.easeTo({duration:300,zoom:Vt.getZoom()+1,around:Vt.unproject(Rt)},{originalEvent:ht})}):kt?(this._active=!0,ht.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Vt=>Vt.easeTo({duration:300,zoom:Vt.getZoom()-1,around:Vt.unproject(kt)},{originalEvent:ht})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Gp={0:1,2:2};class hm{constructor(ht){this.reset(),this._clickTolerance=ht.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(ht,bt){return!1}_move(ht,bt){return{}}mousedown(ht,bt){if(this._lastPoint)return;const Pt=Ft(ht);this._correctButton(ht,Pt)&&(this._lastPoint=bt,this._eventButton=Pt)}mousemoveWindow(ht,bt){const Pt=this._lastPoint;if(Pt){if(ht.preventDefault(),this._eventButton!=null&&function(Rt,kt){const Vt=Gp[kt];return Rt.buttons===void 0||(Rt.buttons&Vt)!==Vt}(ht,this._eventButton))this.reset();else if(this._moved||!(bt.dist(Pt)<this._clickTolerance))return this._moved=!0,this._lastPoint=bt,this._move(Pt,bt)}}mouseupWindow(ht){this._lastPoint&&Ft(ht)===this._eventButton&&(this._moved&&It(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qy extends hm{mousedown(ht,bt){super.mousedown(ht,bt),this._lastPoint&&(this._active=!0)}_correctButton(ht,bt){return bt===0&&!ht.ctrlKey}_move(ht,bt){return{around:bt,panDelta:bt.sub(ht)}}}class _g extends hm{_correctButton(ht,bt){return bt===0&&ht.ctrlKey||bt===2}_move(ht,bt){const Pt=.8*(bt.x-ht.x);if(Pt)return this._active=!0,{bearingDelta:Pt}}contextmenu(ht){ht.preventDefault()}}class ey extends hm{_correctButton(ht,bt){return bt===0&&ht.ctrlKey||bt===2}_move(ht,bt){const Pt=-.5*(bt.y-ht.y);if(Pt)return this._active=!0,{pitchDelta:Pt}}contextmenu(ht){ht.preventDefault()}}class Zy{constructor(ht,bt){this._map=ht,this._el=ht.getCanvasContainer(),this._minTouches=1,this._clickTolerance=bt.clickTolerance||1,this.reset(),it.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new it.pointGeometry(0,0)}touchstart(ht,bt,Pt){return this._calculateTransform(ht,bt,Pt)}touchmove(ht,bt,Pt){if(this._active&&!(Pt.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(Pt.length===1)return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return ht.preventDefault(),this._calculateTransform(ht,bt,Pt)}}touchend(ht,bt,Pt){this._calculateTransform(ht,bt,Pt),this._active&&Pt.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(ht,bt,Pt){Pt.length>0&&(this._active=!0);const Rt=fm(Pt,bt),kt=new it.pointGeometry(0,0),Vt=new it.pointGeometry(0,0);let Ht=0;for(const Jt in Rt){const ir=Rt[Jt],cr=this._touches[Jt];cr&&(kt._add(ir),Vt._add(ir.sub(cr)),Ht++,Rt[Jt]=ir)}if(this._touches=Rt,Ht<this._minTouches||!Vt.mag())return;const Yt=Vt.div(Ht);return this._sum._add(Yt),this._sum.mag()<this._clickTolerance?void 0:{around:kt.div(Ht),panDelta:Yt}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=vt("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility==="hidden"&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")},500)}}class pm{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(ht){}_move(ht,bt,Pt){return{}}touchstart(ht,bt,Pt){this._firstTwoTouches||Pt.length<2||(this._firstTwoTouches=[Pt[0].identifier,Pt[1].identifier],this._start([bt[0],bt[1]]))}touchmove(ht,bt,Pt){const Rt=this._firstTwoTouches;if(!Rt)return;ht.preventDefault();const[kt,Vt]=Rt,Ht=Zs(Pt,bt,kt),Yt=Zs(Pt,bt,Vt);if(!Ht||!Yt)return;const Jt=this._aroundCenter?null:Ht.add(Yt).div(2);return this._move([Ht,Yt],Jt,ht)}touchend(ht,bt,Pt){if(!this._firstTwoTouches)return;const[Rt,kt]=this._firstTwoTouches,Vt=Zs(Pt,bt,Rt),Ht=Zs(Pt,bt,kt);Vt&&Ht||(this._active&&It(),this.reset())}touchcancel(){this.reset()}enable(ht){this._enabled=!0,this._aroundCenter=!!ht&&ht.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Zs(Tt,ht,bt){for(let Pt=0;Pt<Tt.length;Pt++)if(Tt[Pt].identifier===bt)return ht[Pt]}function Xy(Tt,ht){return Math.log(Tt/ht)/Math.LN2}class Qy extends pm{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(ht){this._startDistance=this._distance=ht[0].dist(ht[1])}_move(ht,bt){const Pt=this._distance;if(this._distance=ht[0].dist(ht[1]),this._active||!(Math.abs(Xy(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Xy(this._distance,Pt),pinchAround:bt}}}function Jy(Tt,ht){return 180*Tt.angleWith(ht)/Math.PI}class n_ extends pm{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(ht){this._startVector=this._vector=ht[0].sub(ht[1]),this._minDiameter=ht[0].dist(ht[1])}_move(ht,bt){const Pt=this._vector;if(this._vector=ht[0].sub(ht[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Jy(this._vector,Pt),pinchAround:bt}}_isBelowThreshold(ht){this._minDiameter=Math.min(this._minDiameter,ht.mag());const bt=25/(Math.PI*this._minDiameter)*360,Pt=Jy(ht,this._startVector);return Math.abs(Pt)<bt}}function lu(Tt){return Math.abs(Tt.y)>Math.abs(Tt.x)}class e0 extends pm{constructor(ht){super(),this._map=ht}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(ht){this._lastPoints=ht,lu(ht[0].sub(ht[1]))&&(this._valid=!1)}_move(ht,bt,Pt){const Rt=this._lastPoints;if(!Rt)return;const kt=ht[0].sub(Rt[0]),Vt=ht[1].sub(Rt[1]);return this._map._cooperativeGestures&&Pt.touches.length<3||(this._valid=this.gestureBeginsVertically(kt,Vt,Pt.timeStamp),!this._valid)?void 0:(this._lastPoints=ht,this._active=!0,{pitchDelta:(kt.y+Vt.y)/2*-.5})}gestureBeginsVertically(ht,bt,Pt){if(this._valid!==void 0)return this._valid;const Rt=ht.mag()>=2,kt=bt.mag()>=2;if(!Rt&&!kt)return;if(!Rt||!kt)return this._firstMove==null&&(this._firstMove=Pt),Pt-this._firstMove<100&&void 0;const Vt=ht.y>0==bt.y>0;return lu(ht)&&lu(bt)&&Vt}}const Hp={panStep:100,bearingStep:15,pitchStep:10};class mu{constructor(){const ht=Hp;this._panStep=ht.panStep,this._bearingStep=ht.bearingStep,this._pitchStep=ht.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(ht){if(ht.altKey||ht.ctrlKey||ht.metaKey)return;let bt=0,Pt=0,Rt=0,kt=0,Vt=0;switch(ht.keyCode){case 61:case 107:case 171:case 187:bt=1;break;case 189:case 109:case 173:bt=-1;break;case 37:ht.shiftKey?Pt=-1:(ht.preventDefault(),kt=-1);break;case 39:ht.shiftKey?Pt=1:(ht.preventDefault(),kt=1);break;case 38:ht.shiftKey?Rt=1:(ht.preventDefault(),Vt=-1);break;case 40:ht.shiftKey?Rt=-1:(ht.preventDefault(),Vt=1);break;default:return}return this._rotationDisabled&&(Pt=0,Rt=0),{cameraAnimation:Ht=>{const Yt=Ht.getZoom();Ht.easeTo({duration:300,easeId:"keyboardHandler",easing:vm,zoom:bt?Math.round(Yt)+bt*(ht.shiftKey?2:1):Yt,bearing:Ht.getBearing()+Pt*this._bearingStep,pitch:Ht.getPitch()+Rt*this._pitchStep,offset:[-kt*this._panStep,-Vt*this._panStep],center:Ht.getCenter()},{originalEvent:ht})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function vm(Tt){return Tt*(2-Tt)}const ro=4.000244140625;class t0{constructor(ht,bt){this._map=ht,this._el=ht.getCanvasContainer(),this._handler=bt,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,it.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}setZoomRate(ht){this._defaultZoomRate=ht}setWheelZoomRate(ht){this._wheelZoomRate=ht}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(ht){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!ht&&ht.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(ht){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(ht.ctrlKey||ht.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let bt=ht.deltaMode===it.window.WheelEvent.DOM_DELTA_LINE?40*ht.deltaY:ht.deltaY;const Pt=it.exported.now(),Rt=Pt-(this._lastWheelEventTime||0);this._lastWheelEventTime=Pt,bt!==0&&bt%ro==0?this._type="wheel":bt!==0&&Math.abs(bt)<4?this._type="trackpad":Rt>400?(this._type=null,this._lastValue=bt,this._timeout=setTimeout(this._onTimeout,40,ht)):this._type||(this._type=Math.abs(Rt*bt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,bt+=this._lastValue)),ht.shiftKey&&bt&&(bt/=4),this._type&&(this._lastWheelEvent=ht,this._delta-=bt,this._active||this._start(ht)),ht.preventDefault()}_onTimeout(ht){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(ht)}_start(ht){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const bt=Ot(this._el,ht);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:bt,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const ht=this._map.transform,bt=()=>ht._terrainEnabled()&&this._aroundCoord?ht.computeZoomRelativeTo(this._aroundCoord):ht.zoom;if(this._delta!==0){const Yt=this._type==="wheel"&&Math.abs(this._delta)>ro?this._wheelZoomRate:this._defaultZoomRate;let Jt=2/(1+Math.exp(-Math.abs(this._delta*Yt)));this._delta<0&&Jt!==0&&(Jt=1/Jt);const ir=bt(),cr=Math.pow(2,ir),pr=typeof this._targetZoom=="number"?ht.zoomScale(this._targetZoom):cr;this._targetZoom=Math.min(ht.maxZoom,Math.max(ht.minZoom,ht.scaleZoom(pr*Jt))),this._type==="wheel"&&(this._startZoom=bt(),this._easing=this._smoothOutEasing(200)),this._delta=0}const Pt=typeof this._targetZoom=="number"?this._targetZoom:bt(),Rt=this._startZoom,kt=this._easing;let Vt,Ht=!1;if(this._type==="wheel"&&Rt&&kt){const Yt=Math.min((it.exported.now()-this._lastWheelEventTime)/200,1),Jt=kt(Yt);Vt=it.number(Rt,Pt,Jt),Yt<1?this._frameId||(this._frameId=!0):Ht=!0}else Vt=Pt,Ht=!0;return this._active=!0,Ht&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ht,zoomDelta:Vt-bt(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(ht){let bt=it.ease;if(this._prevEase){const Pt=this._prevEase,Rt=(it.exported.now()-Pt.start)/Pt.duration,kt=Pt.easing(Rt+.01)-Pt.easing(Rt),Vt=.27/Math.sqrt(kt*kt+1e-4)*.01,Ht=Math.sqrt(.0729-Vt*Vt);bt=it.bezier(Vt,Ht,.25,1)}return this._prevEase={start:it.exported.now(),duration:ht,easing:bt},bt}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=vt("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(it.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_isFullscreen(){return!!it.window.document.fullscreenElement||!!it.window.document.webkitFullscreenElement}_showBlockerAlert(){this._alertContainer.style.visibility==="hidden"&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")},200)}}class r0{constructor(ht,bt){this._clickZoom=ht,this._tapZoom=bt}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Av{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(ht,bt){return ht.preventDefault(),{cameraAnimation:Pt=>{Pt.easeTo({duration:300,zoom:Pt.getZoom()+(ht.shiftKey?-1:1),around:Pt.unproject(bt)},{originalEvent:ht})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pv{constructor(){this._tap=new dm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(ht,bt,Pt){this._swipePoint||(this._tapTime&&ht.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?Pt.length>0&&(this._swipePoint=bt[0],this._swipeTouch=Pt[0].identifier):this._tap.touchstart(ht,bt,Pt))}touchmove(ht,bt,Pt){if(this._tapTime){if(this._swipePoint){if(Pt[0].identifier!==this._swipeTouch)return;const Rt=bt[0],kt=Rt.y-this._swipePoint.y;return this._swipePoint=Rt,ht.preventDefault(),this._active=!0,{zoomDelta:kt/128}}}else this._tap.touchmove(ht,bt,Pt)}touchend(ht,bt,Pt){this._tapTime?this._swipePoint&&Pt.length===0&&this.reset():this._tap.touchend(ht,bt,Pt)&&(this._tapTime=ht.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class n0{constructor(ht,bt,Pt){this._el=ht,this._mousePan=bt,this._touchPan=Pt}enable(ht){this._inertiaOptions=ht||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class a0{constructor(ht,bt,Pt){this._pitchWithRotate=ht.pitchWithRotate,this._mouseRotate=bt,this._mousePitch=Pt}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class i0{constructor(ht,bt,Pt,Rt){this._el=ht,this._touchZoom=bt,this._touchRotate=Pt,this._tapDragZoom=Rt,this._rotationDisabled=!1,this._enabled=!0}enable(ht){this._touchZoom.enable(ht),this._rotationDisabled||this._touchRotate.enable(ht),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const $v=Tt=>Tt.zoom||Tt.drag||Tt.pitch||Tt.rotate;class o0 extends it.Event{}class s0{constructor(){this.constants=[1,1,.01],this.radius=0}setup(ht,bt){const Pt=it.sub([],bt,ht);this.radius=it.length(Pt[2]<0?it.div([],Pt,this.constants):[Pt[0],Pt[1],0])}projectRay(ht){it.div(ht,ht,this.constants),it.normalize(ht,ht),it.mul$1(ht,ht,this.constants);const bt=it.scale$2([],ht,this.radius);if(bt[2]>0){const Pt=it.scale$2([],[0,0,1],it.dot(bt,[0,0,1])),Rt=it.scale$2([],it.normalize([],[bt[0],bt[1],0]),this.radius),kt=it.add([],bt,it.scale$2([],it.sub([],it.add([],Rt,Pt),bt),2));bt[0]=kt[0],bt[1]=kt[1]}return bt}}function Mv(Tt){return Tt.panDelta&&Tt.panDelta.mag()||Tt.zoomDelta||Tt.bearingDelta||Tt.pitchDelta}class mm{constructor(ht,bt){this._map=ht,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new r_(ht),this._bearingSnap=bt.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new s0,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(bt),it.bindAll(["handleEvent","handleWindowEvent"],this);const Pt=this._el;this._listeners=[[Pt,"touchstart",{passive:!0}],[Pt,"touchmove",{passive:!1}],[Pt,"touchend",void 0],[Pt,"touchcancel",void 0],[Pt,"mousedown",void 0],[Pt,"mousemove",void 0],[Pt,"mouseup",void 0],[it.window.document,"mousemove",{capture:!0}],[it.window.document,"mouseup",void 0],[Pt,"mouseover",void 0],[Pt,"mouseout",void 0],[Pt,"dblclick",void 0],[Pt,"click",void 0],[Pt,"keydown",{capture:!1}],[Pt,"keyup",void 0],[Pt,"wheel",{passive:!1}],[Pt,"contextmenu",void 0],[it.window,"blur",void 0]];for(const[Rt,kt,Vt]of this._listeners)Rt.addEventListener(kt,Rt===it.window.document?this.handleWindowEvent:this.handleEvent,Vt)}destroy(){for(const[ht,bt,Pt]of this._listeners)ht.removeEventListener(bt,ht===it.window.document?this.handleWindowEvent:this.handleEvent,Pt)}_addDefaultHandlers(ht){const bt=this._map,Pt=bt.getCanvasContainer();this._add("mapEvent",new cm(bt,ht));const Rt=bt.boxZoom=new Wy(bt,ht);this._add("boxZoom",Rt);const kt=new Yy,Vt=new Av;bt.doubleClickZoom=new r0(Vt,kt),this._add("tapZoom",kt),this._add("clickZoom",Vt);const Ht=new Pv;this._add("tapDragZoom",Ht);const Yt=bt.touchPitch=new e0(bt);this._add("touchPitch",Yt);const Jt=new _g(ht),ir=new ey(ht);bt.dragRotate=new a0(ht,Jt,ir),this._add("mouseRotate",Jt,["mousePitch"]),this._add("mousePitch",ir,["mouseRotate"]);const cr=new qy(ht),pr=new Zy(bt,ht);bt.dragPan=new n0(Pt,cr,pr),this._add("mousePan",cr),this._add("touchPan",pr,["touchZoom","touchRotate"]);const xr=new n_,br=new Qy;bt.touchZoomRotate=new i0(Pt,br,xr,Ht),this._add("touchRotate",xr,["touchPan","touchZoom"]),this._add("touchZoom",br,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Jm(bt));const mr=bt.scrollZoom=new t0(bt,this);this._add("scrollZoom",mr,["mousePan"]);const Ir=bt.keyboard=new mu;this._add("keyboard",Ir);for(const _r of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])ht.interactive&&ht[_r]&&bt[_r].enable(ht[_r])}_add(ht,bt,Pt){this._handlers.push({handlerName:ht,handler:bt,allowed:Pt}),this._handlersById[ht]=bt}stop(ht){if(!this._updatingCamera){for(const{handler:bt}of this._handlers)bt.reset();this._inertia.clear(),this._fireEvents({},{},ht),this._changes=[]}}isActive(){for(const{handler:ht}of this._handlers)if(ht.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$v(this._eventsInProgress)||this.isZooming()}_blockedByActive(ht,bt,Pt){for(const Rt in ht)if(Rt!==Pt&&(!bt||bt.indexOf(Rt)<0))return!0;return!1}handleWindowEvent(ht){this.handleEvent(ht,`${ht.type}Window`)}_getMapTouches(ht){const bt=[];for(const Pt of ht)this._el.contains(Pt.target)&&bt.push(Pt);return bt}handleEvent(ht,bt){this._updatingCamera=!0;const Pt=ht.type==="renderFrame",Rt=Pt?void 0:ht,kt={needsRenderFrame:!1},Vt={},Ht={},Yt=ht.touches?this._getMapTouches(ht.touches):void 0,Jt=Yt?Lt(this._el,Yt):Pt?void 0:Ot(this._el,ht);for(const{handlerName:pr,handler:xr,allowed:br}of this._handlers){if(!xr.isEnabled())continue;let mr;this._blockedByActive(Ht,br,pr)?xr.reset():xr[bt||ht.type]&&(mr=xr[bt||ht.type](ht,Jt,Yt),this.mergeHandlerResult(kt,Vt,mr,pr,Rt),mr&&mr.needsRenderFrame&&this._triggerRenderFrame()),(mr||xr.isActive())&&(Ht[pr]=xr)}const ir={};for(const pr in this._previousActiveHandlers)Ht[pr]||(ir[pr]=Rt);this._previousActiveHandlers=Ht,(Object.keys(ir).length||Mv(kt))&&(this._changes.push([kt,Vt,ir]),this._triggerRenderFrame()),(Object.keys(Ht).length||Mv(kt))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:cr}=kt;cr&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],cr(this._map))}mergeHandlerResult(ht,bt,Pt,Rt,kt){if(!Pt)return;it.extend(ht,Pt);const Vt={handlerName:Rt,originalEvent:Pt.originalEvent||kt};Pt.zoomDelta!==void 0&&(bt.zoom=Vt),Pt.panDelta!==void 0&&(bt.drag=Vt),Pt.pitchDelta!==void 0&&(bt.pitch=Vt),Pt.bearingDelta!==void 0&&(bt.rotate=Vt)}_applyChanges(){const ht={},bt={},Pt={};for(const[Rt,kt,Vt]of this._changes)Rt.panDelta&&(ht.panDelta=(ht.panDelta||new it.pointGeometry(0,0))._add(Rt.panDelta)),Rt.zoomDelta&&(ht.zoomDelta=(ht.zoomDelta||0)+Rt.zoomDelta),Rt.bearingDelta&&(ht.bearingDelta=(ht.bearingDelta||0)+Rt.bearingDelta),Rt.pitchDelta&&(ht.pitchDelta=(ht.pitchDelta||0)+Rt.pitchDelta),Rt.around!==void 0&&(ht.around=Rt.around),Rt.aroundCoord!==void 0&&(ht.aroundCoord=Rt.aroundCoord),Rt.pinchAround!==void 0&&(ht.pinchAround=Rt.pinchAround),Rt.noInertia&&(ht.noInertia=Rt.noInertia),it.extend(bt,kt),it.extend(Pt,Vt);this._updateMapTransform(ht,bt,Pt),this._changes=[]}_updateMapTransform(ht,bt,Pt){const Rt=this._map,kt=Rt.transform,Vt=Cr=>[Cr.x,Cr.y,Cr.z];if((Cr=>{const Tr=this._eventsInProgress.drag;return Tr&&!this._handlersById[Tr.handlerName].isActive()})()&&!Mv(ht)){const Cr=kt.zoom;kt.cameraElevationReference="sea",kt.recenterOnTerrain(),kt.cameraElevationReference="ground",Cr!==kt.zoom&&this._map._update(!0)}if(!Mv(ht))return void this._fireEvents(bt,Pt,!0);let{panDelta:Ht,zoomDelta:Yt,bearingDelta:Jt,pitchDelta:ir,around:cr,aroundCoord:pr,pinchAround:xr}=ht;xr!==void 0&&(cr=xr),(Cr=>bt.drag&&!this._eventsInProgress.drag)()&&cr&&(this._dragOrigin=Vt(kt.pointCoordinate3D(cr)),this._trackingEllipsoid.setup(kt._camera.position,this._dragOrigin)),kt.cameraElevationReference="sea",Rt._stop(!0),cr=cr||Rt.transform.centerPoint,Jt&&(kt.bearing+=Jt),ir&&(kt.pitch+=ir),kt._updateCameraState();const br=[0,0,0];if(Ht){const Cr=kt.pointCoordinate(cr);if(kt.projection.name==="globe"){const Tr=it.latFromMercatorY(Cr.y),Nr=kt.center.lat,$r=Math.min(it.mercatorZfromAltitude(1,Tr)/it.mercatorZfromAltitude(1,Nr),2);Ht=Ht.rotate(-kt.angle),br[0]=-Ht.x/kt.worldSize*$r,br[1]=-Ht.y/kt.worldSize*$r}else{const Tr=kt.pointCoordinate(cr.sub(Ht));Cr&&Tr&&(br[0]=Tr.x-Cr.x,br[1]=Tr.y-Cr.y)}}const mr=kt.zoom,Ir=[0,0,0];if(Yt){const Cr=Vt(pr||kt.pointCoordinate3D(cr)),Tr={dir:it.normalize([],it.sub([],Cr,kt._camera.position))};if(Tr.dir[2]<0){const Nr=kt.zoomDeltaToMovement(Cr,Yt);it.scale$2(Ir,Tr.dir,Nr)}}const _r=it.add(br,br,Ir);kt._translateCameraConstrained(_r),Yt&&Math.abs(kt.zoom-mr)>1e-4&&kt.recenterOnTerrain(),kt.cameraElevationReference="ground",this._map._update(),ht.noInertia||this._inertia.record(ht),this._fireEvents(bt,Pt,!0)}_fireEvents(ht,bt,Pt){const Rt=$v(this._eventsInProgress),kt=$v(ht),Vt={};for(const ir in ht){const{originalEvent:cr}=ht[ir];this._eventsInProgress[ir]||(Vt[`${ir}start`]=cr),this._eventsInProgress[ir]=ht[ir]}!Rt&&kt&&this._fireEvent("movestart",kt.originalEvent);for(const ir in Vt)this._fireEvent(ir,Vt[ir]);kt&&this._fireEvent("move",kt.originalEvent);for(const ir in ht){const{originalEvent:cr}=ht[ir];this._fireEvent(ir,cr)}const Ht={};let Yt;for(const ir in this._eventsInProgress){const{handlerName:cr,originalEvent:pr}=this._eventsInProgress[ir];this._handlersById[cr].isActive()||(delete this._eventsInProgress[ir],Yt=bt[cr]||pr,Ht[`${ir}end`]=Yt)}for(const ir in Ht)this._fireEvent(ir,Ht[ir]);const Jt=$v(this._eventsInProgress);if(Pt&&(Rt||kt)&&!Jt){this._updatingCamera=!0;const ir=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),cr=pr=>pr!==0&&-this._bearingSnap<pr&&pr<this._bearingSnap;ir?(cr(ir.bearing||this._map.getBearing())&&(ir.bearing=0),this._map.easeTo(ir,{originalEvent:Yt})):(this._map.fire(new it.Event("moveend",{originalEvent:Yt})),cr(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(ht,bt){this._map.fire(new it.Event(ht,bt?{originalEvent:bt}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(ht=>{this._frameId=void 0,this.handleEvent(new o0("renderFrame",{timeStamp:ht})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const gm="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class ym extends it.Evented{constructor(ht,bt){super(),this._moving=!1,this._zooming=!1,this.transform=ht,this._bearingSnap=bt.bearingSnap,it.bindAll(["_renderFrameCallback"],this)}getCenter(){return new it.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(ht,bt){return this.jumpTo({center:ht},bt)}panBy(ht,bt,Pt){return ht=it.pointGeometry.convert(ht).mult(-1),this.panTo(this.transform.center,it.extend({offset:ht},bt),Pt)}panTo(ht,bt,Pt){return this.easeTo(it.extend({center:ht},bt),Pt)}getZoom(){return this.transform.zoom}setZoom(ht,bt){return this.jumpTo({zoom:ht},bt),this}zoomTo(ht,bt,Pt){return this.easeTo(it.extend({zoom:ht},bt),Pt)}zoomIn(ht,bt){return this.zoomTo(this.getZoom()+1,ht,bt),this}zoomOut(ht,bt){return this.zoomTo(this.getZoom()-1,ht,bt),this}getBearing(){return this.transform.bearing}setBearing(ht,bt){return this.jumpTo({bearing:ht},bt),this}getPadding(){return this.transform.padding}setPadding(ht,bt){return this.jumpTo({padding:ht},bt),this}rotateTo(ht,bt,Pt){return this.easeTo(it.extend({bearing:ht},bt),Pt)}resetNorth(ht,bt){return this.rotateTo(0,it.extend({duration:1e3},ht),bt),this}resetNorthPitch(ht,bt){return this.easeTo(it.extend({bearing:0,pitch:0,duration:1e3},ht),bt),this}snapToNorth(ht,bt){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ht,bt):this}getPitch(){return this.transform.pitch}setPitch(ht,bt){return this.jumpTo({pitch:ht},bt),this}cameraForBounds(ht,bt){this.transform.projection.name==="globe"&&it.warnOnce('Globe projection does not support cameraForBounds API, this API may behave unexpectedly."'),ht=it.LngLatBounds.convert(ht);const Pt=bt&&bt.bearing||0;return this._cameraForBoxAndBearing(ht.getNorthWest(),ht.getSouthEast(),Pt,bt)}_extendCameraOptions(ht){const bt={top:0,bottom:0,right:0,left:0};if(typeof(ht=it.extend({padding:bt,offset:[0,0],maxZoom:this.transform.maxZoom},ht)).padding=="number"){const Pt=ht.padding;ht.padding={top:Pt,bottom:Pt,right:Pt,left:Pt}}return ht.padding=it.extend(bt,ht.padding),ht}_cameraForBoxAndBearing(ht,bt,Pt,Rt){const kt=this._extendCameraOptions(Rt),Vt=this.transform,Ht=Vt.padding,Yt=Vt.project(it.LngLat.convert(ht)),Jt=Vt.project(it.LngLat.convert(bt)),ir=new it.pointGeometry(Yt.x,Jt.y),cr=new it.pointGeometry(Jt.x,Yt.y),pr=-it.degToRad(Pt),xr=Yt.rotate(pr),br=Jt.rotate(pr),mr=ir.rotate(pr),Ir=cr.rotate(pr),_r=new it.pointGeometry(Math.max(xr.x,br.x,mr.x,Ir.x),Math.max(xr.y,br.y,mr.y,Ir.y)),Cr=new it.pointGeometry(Math.min(xr.x,br.x,mr.x,Ir.x),Math.min(xr.y,br.y,mr.y,Ir.y)),Tr=_r.sub(Cr),Nr=(Vt.width-((Ht.left||0)+(Ht.right||0)+kt.padding.left+kt.padding.right))/Tr.x,$r=(Vt.height-((Ht.top||0)+(Ht.bottom||0)+kt.padding.top+kt.padding.bottom))/Tr.y;if($r<0||Nr<0)return void it.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Dr=Math.min(Vt.scaleZoom(Vt.scale*Math.min(Nr,$r)),kt.maxZoom),Gr=typeof kt.offset.x=="number"&&typeof kt.offset.y=="number"?new it.pointGeometry(kt.offset.x,kt.offset.y):it.pointGeometry.convert(kt.offset),mn=new it.pointGeometry((kt.padding.left-kt.padding.right)/2,(kt.padding.top-kt.padding.bottom)/2).rotate(Pt*Math.PI/180),xn=Gr.add(mn).mult(Vt.scale/Vt.zoomScale(Dr));return{center:Vt.unproject(Yt.add(Jt).div(2).sub(xn)),zoom:Dr,bearing:Pt}}_cameraForBox(ht,bt,Pt,Rt,kt){const Vt=this._extendCameraOptions(kt);Pt=Pt||0,Rt=Rt||0,ht=it.LngLat.convert(ht),bt=it.LngLat.convert(bt);const Ht=this.transform.clone();Ht.padding=Vt.padding;const Yt=this.getFreeCameraOptions(),Jt=new it.LngLat(.5*(ht.lng+bt.lng),.5*(ht.lat+bt.lat)),ir=.5*(Pt+Rt);if(Ht._camera.position[2]<it.mercatorZfromAltitude(ir,Jt.lat))return void it.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");Yt.lookAtPoint(Jt),Ht.setFreeCameraOptions(Yt);const cr=it.MercatorCoordinate.fromLngLat(ht),pr=it.MercatorCoordinate.fromLngLat(bt),xr=Ht.pointRayIntersection(Ht.centerPoint,ir),br=[(mr=Ht.rayIntersectionCoordinate(xr)).x,mr.y,mr.z];var mr;const Ir=Ht.screenPointToMercatorRay(Ht.centerPoint),_r=Ht.projection.name!=="globe";let Cr,Tr=0;do{const Nr=Math.floor(Ht.zoom),$r=1<<Nr,Dr=Math.min($r*cr.x,$r*pr.x),Gr=Math.min($r*cr.y,$r*pr.y),mn=Math.max($r*cr.x,$r*pr.x),xn=Math.max($r*cr.y,$r*pr.y),gn=new it.Aabb([Dr,Gr,Pt],[mn,xn,Rt]),hn=it.Frustum.fromInvProjectionMatrix(Ht.invProjMatrix,Ht.worldSize,Nr,_r);if(gn.intersects(hn)!==2){Cr&&(Ht._camera.position=it.scaleAndAdd([],Ht._camera.position,Ir.dir,-Cr),Ht._updateStateFromCamera());break}const kr=it.sub([],Ht._camera.position,br);Cr=.5*it.length(kr),Ht._camera.position=it.scaleAndAdd([],Ht._camera.position,Ir.dir,Cr);try{Ht._updateStateFromCamera()}catch{return void it.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++Tr<10);return{center:Ht.center,zoom:Ht.zoom,bearing:Ht.bearing,pitch:Ht.pitch}}fitBounds(ht,bt,Pt){return this.transform.projection.name==="globe"&&it.warnOnce("Globe projection does not support fitBounds API, this API may behave unexpectedly."),this._fitInternal(this.cameraForBounds(ht,bt),bt,Pt)}_raycastElevationBox(ht,bt){const Pt=this.transform.elevation;if(!Pt)return;const Rt=new it.pointGeometry(ht.x,bt.y),kt=new it.pointGeometry(bt.x,ht.y),Vt=Pt.pointCoordinate(ht);if(!Vt)return;const Ht=Pt.pointCoordinate(bt);if(!Ht)return;const Yt=Pt.pointCoordinate(Rt);if(!Yt)return;const Jt=Pt.pointCoordinate(kt);if(!Jt)return;const ir=new it.MercatorCoordinate(Vt[0],Vt[1]).toLngLat(),cr=new it.MercatorCoordinate(Ht[0],Ht[1]).toLngLat(),pr=new it.MercatorCoordinate(Yt[0],Yt[1]).toLngLat(),xr=new it.MercatorCoordinate(Jt[0],Jt[1]).toLngLat(),br=Math.min(ir.lng,Math.min(cr.lng,Math.min(pr.lng,xr.lng))),mr=Math.min(ir.lat,Math.min(cr.lat,Math.min(pr.lat,xr.lat))),Ir=Math.max(ir.lng,Math.max(cr.lng,Math.max(pr.lng,xr.lng))),_r=Math.max(ir.lat,Math.max(cr.lat,Math.max(pr.lat,xr.lat))),Cr=Math.min(Vt[3],Math.min(Ht[3],Math.min(Yt[3],Jt[3]))),Tr=Math.max(Vt[3],Math.max(Ht[3],Math.max(Yt[3],Jt[3])));return{minLngLat:new it.LngLat(br,mr),maxLngLat:new it.LngLat(Ir,_r),minAltitude:Cr,maxAltitude:Tr}}fitScreenCoordinates(ht,bt,Pt,Rt,kt){let Vt,Ht,Yt,Jt;this.transform.projection.name==="globe"&&it.warnOnce("Globe projection does not support fitScreenCoordinates API, this API may behave unexpectedly.");const ir=it.pointGeometry.convert(ht),cr=it.pointGeometry.convert(bt),pr=this._raycastElevationBox(ir,cr);if(pr)Vt=pr.minLngLat,Ht=pr.maxLngLat,Yt=pr.minAltitude,Jt=pr.maxAltitude;else{if(this.transform.anyCornerOffEdge(ir,cr))return this;Vt=this.transform.pointLocation(ir),Ht=this.transform.pointLocation(cr)}return this._fitInternal(this.transform.pitch===0?this._cameraForBoxAndBearing(this.transform.pointLocation(it.pointGeometry.convert(ht)),this.transform.pointLocation(it.pointGeometry.convert(bt)),Pt,Rt):this._cameraForBox(Vt,Ht,Yt,Jt,Rt),Rt,kt)}_fitInternal(ht,bt,Pt){return ht?(delete(bt=it.extend(ht,bt)).padding,bt.linear?this.easeTo(bt,Pt):this.flyTo(bt,Pt)):this}jumpTo(ht,bt){this.stop();const Pt=ht.preloadOnly?this.transform.clone():this.transform;let Rt=!1,kt=!1,Vt=!1;return"zoom"in ht&&Pt.zoom!==+ht.zoom&&(Rt=!0,Pt.zoom=+ht.zoom),ht.center!==void 0&&(Pt.center=it.LngLat.convert(ht.center)),"bearing"in ht&&Pt.bearing!==+ht.bearing&&(kt=!0,Pt.bearing=+ht.bearing),"pitch"in ht&&Pt.pitch!==+ht.pitch&&(Vt=!0,Pt.pitch=+ht.pitch),ht.padding==null||Pt.isPaddingEqual(ht.padding)||(Pt.padding=ht.padding),ht.preloadOnly?(this._preloadTiles(Pt),this):(this.fire(new it.Event("movestart",bt)).fire(new it.Event("move",bt)),Rt&&this.fire(new it.Event("zoomstart",bt)).fire(new it.Event("zoom",bt)).fire(new it.Event("zoomend",bt)),kt&&this.fire(new it.Event("rotatestart",bt)).fire(new it.Event("rotate",bt)).fire(new it.Event("rotateend",bt)),Vt&&this.fire(new it.Event("pitchstart",bt)).fire(new it.Event("pitch",bt)).fire(new it.Event("pitchend",bt)),this.fire(new it.Event("moveend",bt)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||it.warnOnce(gm),this.transform.getFreeCameraOptions()}setFreeCameraOptions(ht,bt){const Pt=this.transform;if(!Pt.projection.supportsFreeCamera)return it.warnOnce(gm),this;this.stop();const Rt=Pt.zoom,kt=Pt.pitch,Vt=Pt.bearing;Pt.setFreeCameraOptions(ht);const Ht=Rt!==Pt.zoom,Yt=kt!==Pt.pitch,Jt=Vt!==Pt.bearing;return this.fire(new it.Event("movestart",bt)).fire(new it.Event("move",bt)),Ht&&this.fire(new it.Event("zoomstart",bt)).fire(new it.Event("zoom",bt)).fire(new it.Event("zoomend",bt)),Jt&&this.fire(new it.Event("rotatestart",bt)).fire(new it.Event("rotate",bt)).fire(new it.Event("rotateend",bt)),Yt&&this.fire(new it.Event("pitchstart",bt)).fire(new it.Event("pitch",bt)).fire(new it.Event("pitchend",bt)),this.fire(new it.Event("moveend",bt)),this}easeTo(ht,bt){this._stop(!1,ht.easeId),((ht=it.extend({offset:[0,0],duration:500,easing:it.ease},ht)).animate===!1||!ht.essential&&it.exported.prefersReducedMotion)&&(ht.duration=0);const Pt=this.transform,Rt=this.getZoom(),kt=this.getBearing(),Vt=this.getPitch(),Ht=this.getPadding(),Yt="zoom"in ht?+ht.zoom:Rt,Jt="bearing"in ht?this._normalizeBearing(ht.bearing,kt):kt,ir="pitch"in ht?+ht.pitch:Vt,cr="padding"in ht?ht.padding:Pt.padding,pr=it.pointGeometry.convert(ht.offset);let xr,br,mr;if(Pt.projection.name==="globe"){const xn=it.MercatorCoordinate.fromLngLat(Pt.center),gn=pr.rotate(-Pt.angle);xn.x+=gn.x/Pt.worldSize,xn.y+=gn.y/Pt.worldSize;const hn=xn.toLngLat(),kr=it.LngLat.convert(ht.center||hn);this._normalizeCenter(kr),xr=Pt.centerPoint.add(gn),br=new it.pointGeometry(xn.x,xn.y).mult(Pt.worldSize),mr=new it.pointGeometry(it.mercatorXfromLng(kr.lng),it.mercatorYfromLat(kr.lat)).mult(Pt.worldSize).sub(br)}else{xr=Pt.centerPoint.add(pr);const xn=Pt.pointLocation(xr),gn=it.LngLat.convert(ht.center||xn);this._normalizeCenter(gn),br=Pt.project(xn),mr=Pt.project(gn).sub(br)}const Ir=Pt.zoomScale(Yt-Rt);let _r,Cr;ht.around&&(_r=it.LngLat.convert(ht.around),Cr=Pt.locationPoint(_r));const Tr=this._zooming||Yt!==Rt,Nr=this._rotating||kt!==Jt,$r=this._pitching||ir!==Vt,Dr=!Pt.isPaddingEqual(cr),Gr=xn=>gn=>{if(Tr&&(xn.zoom=it.number(Rt,Yt,gn)),Nr&&(xn.bearing=it.number(kt,Jt,gn)),$r&&(xn.pitch=it.number(Vt,ir,gn)),Dr&&(xn.interpolatePadding(Ht,cr,gn),xr=xn.centerPoint.add(pr)),_r)xn.setLocationAtPoint(_r,Cr);else{const hn=xn.zoomScale(xn.zoom-Rt),kr=Yt>Rt?Math.min(2,Ir):Math.max(.5,Ir),On=Math.pow(kr,1-gn),Ln=xn.unproject(br.add(mr.mult(gn*On)).mult(hn));xn.setLocationAtPoint(xn.renderWorldCopies?Ln.wrap():Ln,xr)}return ht.preloadOnly||this._fireMoveEvents(bt),xn};if(ht.preloadOnly){const xn=this._emulate(Gr,ht.duration,Pt);return this._preloadTiles(xn),this}const mn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Tr,this._rotating=Nr,this._pitching=$r,this._padding=Dr,this._easeId=ht.easeId,this._prepareEase(bt,ht.noMoveStart,mn),this._ease(Gr(Pt),xn=>{Pt.recenterOnTerrain(),this._afterEase(bt,xn)},ht),this}_prepareEase(ht,bt,Pt={}){this._moving=!0,this.transform.cameraElevationReference="sea",bt||Pt.moving||this.fire(new it.Event("movestart",ht)),this._zooming&&!Pt.zooming&&this.fire(new it.Event("zoomstart",ht)),this._rotating&&!Pt.rotating&&this.fire(new it.Event("rotatestart",ht)),this._pitching&&!Pt.pitching&&this.fire(new it.Event("pitchstart",ht))}_fireMoveEvents(ht){this.fire(new it.Event("move",ht)),this._zooming&&this.fire(new it.Event("zoom",ht)),this._rotating&&this.fire(new it.Event("rotate",ht)),this._pitching&&this.fire(new it.Event("pitch",ht))}_afterEase(ht,bt){if(this._easeId&&bt&&this._easeId===bt)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const Pt=this._zooming,Rt=this._rotating,kt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Pt&&this.fire(new it.Event("zoomend",ht)),Rt&&this.fire(new it.Event("rotateend",ht)),kt&&this.fire(new it.Event("pitchend",ht)),this.fire(new it.Event("moveend",ht))}flyTo(ht,bt){if(!ht.essential&&it.exported.prefersReducedMotion){const Qn=it.pick(ht,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Qn,bt)}this.stop(),ht=it.extend({offset:[0,0],speed:1.2,curve:1.42,easing:it.ease},ht);const Pt=this.transform,Rt=this.getZoom(),kt=this.getBearing(),Vt=this.getPitch(),Ht=this.getPadding(),Yt="zoom"in ht?it.clamp(+ht.zoom,Pt.minZoom,Pt.maxZoom):Rt,Jt="bearing"in ht?this._normalizeBearing(ht.bearing,kt):kt,ir="pitch"in ht?+ht.pitch:Vt,cr="padding"in ht?ht.padding:Pt.padding,pr=Pt.zoomScale(Yt-Rt),xr=it.pointGeometry.convert(ht.offset);let br=Pt.centerPoint.add(xr);const mr=Pt.pointLocation(br),Ir=it.LngLat.convert(ht.center||mr);this._normalizeCenter(Ir);const _r=Pt.project(mr),Cr=Pt.project(Ir).sub(_r);let Tr=ht.curve;const Nr=Math.max(Pt.width,Pt.height),$r=Nr/pr,Dr=Cr.mag();if("minZoom"in ht){const Qn=it.clamp(Math.min(ht.minZoom,Rt,Yt),Pt.minZoom,Pt.maxZoom),Yn=Nr/Pt.zoomScale(Qn-Rt);Tr=Math.sqrt(Yn/Dr*2)}const Gr=Tr*Tr;function mn(Qn){const Yn=($r*$r-Nr*Nr+(Qn?-1:1)*Gr*Gr*Dr*Dr)/(2*(Qn?$r:Nr)*Gr*Dr);return Math.log(Math.sqrt(Yn*Yn+1)-Yn)}function xn(Qn){return(Math.exp(Qn)-Math.exp(-Qn))/2}function gn(Qn){return(Math.exp(Qn)+Math.exp(-Qn))/2}const hn=mn(0);let kr=function(Qn){return gn(hn)/gn(hn+Tr*Qn)},On=function(Qn){return Nr*((gn(hn)*(xn(Yn=hn+Tr*Qn)/gn(Yn))-xn(hn))/Gr)/Dr;var Yn},Ln=(mn(1)-hn)/Tr;if(Math.abs(Dr)<1e-6||!isFinite(Ln)){if(Math.abs(Nr-$r)<1e-6)return this.easeTo(ht,bt);const Qn=$r<Nr?-1:1;Ln=Math.abs(Math.log($r/Nr))/Tr,On=function(){return 0},kr=function(Yn){return Math.exp(Qn*Tr*Yn)}}ht.duration="duration"in ht?+ht.duration:1e3*Ln/("screenSpeed"in ht?+ht.screenSpeed/Tr:+ht.speed),ht.maxDuration&&ht.duration>ht.maxDuration&&(ht.duration=0);const na=kt!==Jt,Tn=ir!==Vt,xo=!Pt.isPaddingEqual(cr),Jn=Qn=>Yn=>{const Zn=Yn*Ln,Mo=1/kr(Zn);Qn.zoom=Yn===1?Yt:Rt+Qn.scaleZoom(Mo),na&&(Qn.bearing=it.number(kt,Jt,Yn)),Tn&&(Qn.pitch=it.number(Vt,ir,Yn)),xo&&(Qn.interpolatePadding(Ht,cr,Yn),br=Qn.centerPoint.add(xr));const Co=Yn===1?Ir:Qn.unproject(_r.add(Cr.mult(On(Zn))).mult(Mo));return Qn.setLocationAtPoint(Qn.renderWorldCopies?Co.wrap():Co,br),Qn._updateCameraOnTerrain(),ht.preloadOnly||this._fireMoveEvents(bt),Qn};if(ht.preloadOnly){const Qn=this._emulate(Jn,ht.duration,Pt);return this._preloadTiles(Qn),this}return this._zooming=!0,this._rotating=na,this._pitching=Tn,this._padding=xo,this._prepareEase(bt,!1),this._ease(Jn(Pt),()=>this._afterEase(bt),ht),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(ht,bt){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const Pt=this._onEaseEnd;this._onEaseEnd=void 0,Pt.call(this,bt)}if(!ht){const Pt=this.handlers;Pt&&Pt.stop(!1)}return this}_ease(ht,bt,Pt){Pt.animate===!1||Pt.duration===0?(ht(1),bt()):(this._easeStart=it.exported.now(),this._easeOptions=Pt,this._onEaseFrame=ht,this._onEaseEnd=bt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const ht=Math.min((it.exported.now()-this._easeStart)/this._easeOptions.duration,1),bt=this._onEaseFrame;bt&&bt(this._easeOptions.easing(ht)),ht<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(ht,bt){ht=it.wrap(ht,-180,180);const Pt=Math.abs(ht-bt);return Math.abs(ht-360-bt)<Pt&&(ht-=360),Math.abs(ht+360-bt)<Pt&&(ht+=360),ht}_normalizeCenter(ht){const bt=this.transform;if(!bt.renderWorldCopies||bt.maxBounds)return;const Pt=ht.lng-bt.center.lng;ht.lng+=Pt>180?-360:Pt<-180?360:0}_emulate(ht,bt,Pt){const Rt=Math.ceil(15*bt/1e3),kt=[],Vt=ht(Pt.clone());for(let Ht=0;Ht<=Rt;Ht++){const Yt=Vt(Ht/Rt);kt.push(Yt.clone())}return kt}}class ty{constructor(ht={}){this.options=ht,it.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(ht){const bt=this.options&&this.options.compact;return this._map=ht,this._container=vt("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=vt("button","mapboxgl-ctrl-attrib-button",this._container),vt("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=vt("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),bt&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),bt===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(ht,bt){const Pt=this._map._getUIString(`AttributionControl.${bt}`);ht.setAttribute("aria-label",Pt),ht.removeAttribute("title"),ht.firstElementChild&&ht.firstElementChild.setAttribute("title",Pt)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let ht=this._editLink;ht||(ht=this._editLink=this._container.querySelector(".mapbox-improve-map"));const bt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||it.config.ACCESS_TOKEN}];if(ht){const Pt=bt.reduce((Rt,kt,Vt)=>(kt.value&&(Rt+=`${kt.key}=${kt.value}${Vt<bt.length-1?"&":""}`),Rt),"?");ht.href=`${it.config.FEEDBACK_URL}/${Pt}${this._map._hash?this._map._hash.getHashString(!0):""}`,ht.rel="noopener nofollow",this._setElementTitle(ht,"MapFeedback")}}_updateData(ht){!ht||ht.sourceDataType!=="metadata"&&ht.sourceDataType!=="visibility"&&ht.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let ht=[];if(this._map.style.stylesheet){const Rt=this._map.style.stylesheet;this.styleOwner=Rt.owner,this.styleId=Rt.id}const bt=this._map.style._sourceCaches;for(const Rt in bt){const kt=bt[Rt];if(kt.used){const Vt=kt.getSource();Vt.attribution&&ht.indexOf(Vt.attribution)<0&&ht.push(Vt.attribution)}}ht.sort((Rt,kt)=>Rt.length-kt.length),ht=ht.filter((Rt,kt)=>{for(let Vt=kt+1;Vt<ht.length;Vt++)if(ht[Vt].indexOf(Rt)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?ht=[...this.options.customAttribution,...ht]:ht.unshift(this.options.customAttribution));const Pt=ht.join(" | ");Pt!==this._attribHTML&&(this._attribHTML=Pt,ht.length?(this._innerContainer.innerHTML=Pt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class ry{constructor(){it.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(ht){this._map=ht,this._container=vt("div","mapboxgl-ctrl");const bt=vt("a","mapboxgl-ctrl-logo");return bt.target="_blank",bt.rel="noopener nofollow",bt.href="https://www.mapbox.com/",bt.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),bt.setAttribute("rel","noopener nofollow"),this._container.appendChild(bt),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(ht){ht&&ht.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const ht=this._map.style._sourceCaches;if(Object.entries(ht).length===0)return!0;for(const bt in ht){const Pt=ht[bt].getSource();if(Pt.hasOwnProperty("mapbox_logo")&&!Pt.mapbox_logo)return!1}return!0}_updateCompact(){const ht=this._container.children;if(ht.length){const bt=ht[0];this._map.getCanvasContainer().offsetWidth<250?bt.classList.add("mapboxgl-compact"):bt.classList.remove("mapboxgl-compact")}}}class ny{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(ht){const bt=++this._id;return this._queue.push({callback:ht,id:bt,cancelled:!1}),bt}remove(ht){const bt=this._currentlyRunning,Pt=bt?this._queue.concat(bt):this._queue;for(const Rt of Pt)if(Rt.id===ht)return void(Rt.cancelled=!0)}run(ht=0){const bt=this._currentlyRunning=this._queue;this._queue=[];for(const Pt of bt)if(!Pt.cancelled&&(Pt.callback(ht),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function ay(Tt,ht,bt){if(Tt=new it.LngLat(Tt.lng,Tt.lat),ht){const Pt=new it.LngLat(Tt.lng-360,Tt.lat),Rt=new it.LngLat(Tt.lng+360,Tt.lat),kt=360*Math.ceil(Math.abs(Tt.lng-bt.center.lng)/360),Vt=bt.locationPoint(Tt).distSqr(ht),Ht=ht.x<0||ht.y<0||ht.x>bt.width||ht.y>bt.height;bt.locationPoint(Pt).distSqr(ht)<Vt&&(Ht||Math.abs(Pt.lng-bt.center.lng)<kt)?Tt=Pt:bt.locationPoint(Rt).distSqr(ht)<Vt&&(Ht||Math.abs(Rt.lng-bt.center.lng)<kt)&&(Tt=Rt)}for(;Math.abs(Tt.lng-bt.center.lng)>180;){const Pt=bt.locationPoint(Tt);if(Pt.x>=0&&Pt.y>=0&&Pt.x<=bt.width&&Pt.y<=bt.height)break;Tt.lng>bt.center.lng?Tt.lng-=360:Tt.lng+=360}return Tt}const _m={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class xm extends it.Evented{constructor(ht,bt){if(super(),(ht instanceof it.window.HTMLElement||bt)&&(ht=it.extend({element:ht},bt)),it.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=ht&&ht.anchor||"center",this._color=ht&&ht.color||"#3FB1CE",this._scale=ht&&ht.scale||1,this._draggable=ht&&ht.draggable||!1,this._clickTolerance=ht&&ht.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ht&&ht.rotation||0,this._rotationAlignment=ht&&ht.rotationAlignment||"auto",this._pitchAlignment=ht&&ht.pitchAlignment&&ht.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),ht&&ht.element)this._element=ht.element,this._offset=it.pointGeometry.convert(ht&&ht.offset||[0,0]);else{this._defaultMarker=!0,this._element=vt("div");const Rt=41,kt=27,Vt=gt("svg",{display:"block",height:Rt*this._scale+"px",width:kt*this._scale+"px",viewBox:`0 0 ${kt} ${Rt}`},this._element),Ht=gt("radialGradient",{id:"shadowGradient"},gt("defs",{},Vt));gt("stop",{offset:"10%","stop-opacity":.4},Ht),gt("stop",{offset:"100%","stop-opacity":.05},Ht),gt("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},Vt),gt("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},Vt),gt("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},Vt),gt("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},Vt),this._offset=it.pointGeometry.convert(ht&&ht.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",Rt=>{Rt.preventDefault()}),this._element.addEventListener("mousedown",Rt=>{Rt.preventDefault()});const Pt=this._element.classList;for(const Rt in _m)Pt.remove(`mapboxgl-marker-anchor-${Rt}`);Pt.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(ht){return ht===this._map||(this.remove(),this._map=ht,ht.getCanvasContainer().appendChild(this._element),ht.on("move",this._updateMoving),ht.on("moveend",this._update),ht.on("remove",this._clearFadeTimer),ht._addMarker(this),this.setDraggable(this._draggable),this._update(),ht.on("click",this._onMapClick)),this}remove(){const ht=this._map;return ht&&(ht.off("click",this._onMapClick),ht.off("move",this._updateMoving),ht.off("moveend",this._update),ht.off("mousedown",this._addDragHandler),ht.off("touchstart",this._addDragHandler),ht.off("mouseup",this._onUp),ht.off("touchend",this._onUp),ht.off("mousemove",this._onMove),ht.off("touchmove",this._onMove),ht.off("remove",this._clearFadeTimer),ht._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(ht){return this._lngLat=it.LngLat.convert(ht),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(ht){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ht){if(!("offset"in ht.options)){const Rt=Math.sqrt(Math.pow(13.5,2)/2);ht.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Rt,-1*(38.1-13.5+Rt)],"bottom-right":[-Rt,-1*(38.1-13.5+Rt)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=ht,ht._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(ht){const bt=ht.code,Pt=ht.charCode||ht.keyCode;bt!=="Space"&&bt!=="Enter"&&Pt!==32&&Pt!==13||this.togglePopup()}_onMapClick(ht){const bt=ht.originalEvent.target,Pt=this._element;this._popup&&(bt===Pt||Pt.contains(bt))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const ht=this._popup;return ht?(ht.isOpen()?(ht.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(ht.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const ht=this._map;if(!ht)return!1;const bt=ht.unproject(this._pos),Pt=ht.getFreeCameraOptions();if(!Pt.position)return!1;const Rt=Pt.position.toLngLat();return Rt.distanceTo(bt)<.9*Rt.distanceTo(this._lngLat)}_evaluateOpacity(){const ht=this._map;if(!ht)return;const bt=this._pos;if(!bt||bt.x<0||bt.x>ht.transform.width||bt.y<0||bt.y>ht.transform.height)return void this._clearFadeTimer();const Pt=ht.unproject(bt);let Rt;ht._usingGlobe()&&it.isLngLatBehindGlobe(ht.transform,this._lngLat)?Rt=0:(Rt=1-ht._queryFogOpacity(Pt),ht.transform._terrainEnabled()&&ht.getTerrain()&&this._behindTerrain()&&(Rt*=.2)),this._element.style.opacity=`${Rt}`,this._element.style.pointerEvents=Rt>0?"auto":"none",this._popup&&this._popup._setOpacity(Rt),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const ht=this._pos;if(!ht||!this._map)return;const bt=this._calculateXYTransform()+this._calculateZTransform(),Pt=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${ht.x}px,${ht.y}px) ${_m[this._anchor]}
            ${bt}
            translate(${Pt.x}px,${Pt.y}px)
        `}_calculateXYTransform(){const ht=this._pos,bt=this._map;if(this.getPitchAlignment()!=="map"||!bt||!ht)return"";if(!bt._usingGlobe()){const Yt=bt.getPitch();return Yt?`rotateX(${Yt}deg)`:""}const Pt=it.radToDeg(it.globeTiltAtLngLat(bt.transform,this._lngLat)),Rt=ht.sub(it.globeCenterToScreenPoint(bt.transform)),kt=Pt/(Math.abs(Rt.x)+Math.abs(Rt.y)),Vt=Rt.x*kt,Ht=-Rt.y*kt;return Ht||Vt?`rotateX(${Ht}deg) rotateY(${Vt}deg)`:""}_calculateZTransform(){const ht=this._calculateRotation();return ht?`rotateZ(${ht}deg)`:""}_calculateRotation(){if(this._rotationAlignment==="viewport"||this._rotationAlignment==="auto")return this._rotation;if(this._map&&this._rotationAlignment==="map"){const ht=this._map;if(this._pos&&ht&&ht._usingGlobe()){const bt=ht.project(new it.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),Pt=ht.project(new it.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(bt);return this._rotation+it.radToDeg(Math.atan2(Pt.y,Pt.x))-90}return this._rotation-this._map.getBearing()}return 0}_update(ht){it.window.cancelAnimationFrame(this._updateFrameId);const bt=this._map;bt&&(bt.transform.renderWorldCopies&&(this._lngLat=ay(this._lngLat,this._pos,bt.transform)),this._pos=bt.project(this._lngLat),ht===!0?this._updateFrameId=it.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),bt._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(bt._usingGlobe()||bt.getTerrain()||bt.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(ht){return this._offset=it.pointGeometry.convert(ht),this._update(),this}_onMove(ht){const bt=this._map;if(bt){if(!this._isDragging){const Pt=this._clickTolerance||bt._clickTolerance;this._isDragging=ht.point.dist(this._pointerdownPos)>=Pt}this._isDragging&&(this._pos=ht.point.sub(this._positionDelta),this._lngLat=bt.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new it.Event("dragstart"))),this.fire(new it.Event("drag")))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const ht=this._map;ht&&(ht.off("mousemove",this._onMove),ht.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new it.Event("dragend")),this._state="inactive"}_addDragHandler(ht){const bt=this._map;bt&&this._element.contains(ht.originalEvent.target)&&(ht.preventDefault(),this._positionDelta=ht.point.sub(this._pos),this._pointerdownPos=ht.point,this._state="pending",bt.on("mousemove",this._onMove),bt.on("touchmove",this._onMove),bt.once("mouseup",this._onUp),bt.once("touchend",this._onUp))}setDraggable(ht){this._draggable=!!ht;const bt=this._map;return bt&&(ht?(bt.on("mousedown",this._addDragHandler),bt.on("touchstart",this._addDragHandler)):(bt.off("mousedown",this._addDragHandler),bt.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(ht){return this._rotation=ht||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(ht){return this._rotationAlignment=ht||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"?"viewport":this._rotationAlignment}setPitchAlignment(ht){return this._pitchAlignment=ht||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}}class l0{constructor(ht){this.jumpTo(ht)}getValue(ht){if(ht<=this._startTime)return this._start;if(ht>=this._endTime)return this._end;const bt=it.easeCubicInOut((ht-this._startTime)/(this._endTime-this._startTime));return this._start*(1-bt)+this._end*bt}isEasing(ht){return ht>=this._startTime&&ht<=this._endTime}jumpTo(ht){this._startTime=-1/0,this._endTime=-1/0,this._start=ht,this._end=ht}easeTo(ht,bt,Pt){this._start=this.getValue(bt),this._end=ht,this._startTime=bt,this._endTime=bt+Pt}}const iy={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},u0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function bm(Tt){Tt.parentNode&&Tt.parentNode.removeChild(Tt)}const c0={showCompass:!0,showZoom:!0,visualizePitch:!1};class f0{constructor(ht,bt,Pt=!1){this._clickTolerance=10,this.element=bt,this.mouseRotate=new _g({clickTolerance:ht.dragRotate._mouseRotate._clickTolerance}),this.map=ht,Pt&&(this.mousePitch=new ey({clickTolerance:ht.dragRotate._mousePitch._clickTolerance})),it.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),bt.addEventListener("mousedown",this.mousedown),bt.addEventListener("touchstart",this.touchstart,{passive:!1}),bt.addEventListener("touchmove",this.touchmove),bt.addEventListener("touchend",this.touchend),bt.addEventListener("touchcancel",this.reset)}down(ht,bt){this.mouseRotate.mousedown(ht,bt),this.mousePitch&&this.mousePitch.mousedown(ht,bt),wt()}move(ht,bt){const Pt=this.map,Rt=this.mouseRotate.mousemoveWindow(ht,bt),kt=Rt&&Rt.bearingDelta;if(kt&&Pt.setBearing(Pt.getBearing()+kt),this.mousePitch){const Vt=this.mousePitch.mousemoveWindow(ht,bt),Ht=Vt&&Vt.pitchDelta;Ht&&Pt.setPitch(Pt.getPitch()+Ht)}}off(){const ht=this.element;ht.removeEventListener("mousedown",this.mousedown),ht.removeEventListener("touchstart",this.touchstart,{passive:!1}),ht.removeEventListener("touchmove",this.touchmove),ht.removeEventListener("touchend",this.touchend),ht.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Et(),it.window.removeEventListener("mousemove",this.mousemove),it.window.removeEventListener("mouseup",this.mouseup)}mousedown(ht){this.down(it.extend({},ht,{ctrlKey:!0,preventDefault:()=>ht.preventDefault()}),Ot(this.element,ht)),it.window.addEventListener("mousemove",this.mousemove),it.window.addEventListener("mouseup",this.mouseup)}mousemove(ht){this.move(ht,Ot(this.element,ht))}mouseup(ht){this.mouseRotate.mouseupWindow(ht),this.mousePitch&&this.mousePitch.mouseupWindow(ht),this.offTemp()}touchstart(ht){ht.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Lt(this.element,ht.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>ht.preventDefault()},this._startPos))}touchmove(ht){ht.targetTouches.length!==1?this.reset():(this._lastPos=Lt(this.element,ht.targetTouches)[0],this.move({preventDefault:()=>ht.preventDefault()},this._lastPos))}touchend(ht){ht.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const oy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},d0={maxWidth:100,unit:"metric"};function sy(Tt,ht,bt){const Pt=ly(ht),Rt=Pt/ht,kt={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[bt];this._map._requestDomTask(()=>{this._container.style.width=Tt*Rt+"px",this._container.innerHTML=`${Pt}&nbsp;${kt}`})}function ly(Tt){const ht=Math.pow(10,`${Math.floor(Tt)}`.length-1);let bt=Tt/ht;return bt=bt>=10?10:bt>=5?5:bt>=3?3:bt>=2?2:bt>=1?1:function(Pt){const Rt=Math.pow(10,Math.ceil(-Math.log(Pt)/Math.LN10));return Math.round(Pt*Rt)/Rt}(bt),ht*bt}const uy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},cy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Sm(Tt=new it.pointGeometry(0,0),ht="bottom"){if(typeof Tt=="number"){const bt=Math.round(Math.sqrt(.5*Math.pow(Tt,2)));switch(ht){case"top":return new it.pointGeometry(0,Tt);case"top-left":return new it.pointGeometry(bt,bt);case"top-right":return new it.pointGeometry(-bt,bt);case"bottom":return new it.pointGeometry(0,-Tt);case"bottom-left":return new it.pointGeometry(bt,-bt);case"bottom-right":return new it.pointGeometry(-bt,-bt);case"left":return new it.pointGeometry(Tt,0);case"right":return new it.pointGeometry(-Tt,0)}return new it.pointGeometry(0,0)}return Tt instanceof it.pointGeometry||Array.isArray(Tt)?it.pointGeometry.convert(Tt):it.pointGeometry.convert(Tt[ht]||[0,0])}const wm={version:it.version,supported:ut,setRTLTextPlugin:it.setRTLTextPlugin,getRTLTextPluginStatus:it.getRTLTextPluginStatus,Map:class extends ym{constructor(Tt){if((Tt=it.extend({},u0,Tt)).minZoom!=null&&Tt.maxZoom!=null&&Tt.minZoom>Tt.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(Tt.minPitch!=null&&Tt.maxPitch!=null&&Tt.minPitch>Tt.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(Tt.minPitch!=null&&Tt.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(Tt.maxPitch!=null&&Tt.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(Tt.antialias&&it.isSafariWithAntialiasingBug(it.window)&&(Tt.antialias=!1,it.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new um(Tt.minZoom,Tt.maxZoom,Tt.minPitch,Tt.maxPitch,Tt.renderWorldCopies),Tt),this._interactive=Tt.interactive,this._minTileCacheSize=Tt.minTileCacheSize,this._maxTileCacheSize=Tt.maxTileCacheSize,this._failIfMajorPerformanceCaveat=Tt.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=Tt.preserveDrawingBuffer,this._antialias=Tt.antialias,this._trackResize=Tt.trackResize,this._bearingSnap=Tt.bearingSnap,this._refreshExpiredTiles=Tt.refreshExpiredTiles,this._fadeDuration=Tt.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=Tt.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=Tt.collectResourceTiming,this._optimizeForTerrain=Tt.optimizeForTerrain,this._language=Tt.language==="auto"?it.window.navigator.language:Tt.language,this._worldview=Tt.worldview,this._renderTaskQueue=new ny,this._domRenderTaskQueue=new ny,this._controls=[],this._markers=[],this._mapId=it.uniqueId(),this._locale=it.extend({},iy,Tt.locale),this._clickTolerance=Tt.clickTolerance,this._cooperativeGestures=Tt.cooperativeGestures,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new l0(0),this._explicitProjection=null,this._requestManager=new it.RequestManager(Tt.transformRequest,Tt.accessToken,Tt.testMode),this._silenceAuthErrors=!!Tt.testMode,typeof Tt.container=="string"){if(this._container=it.window.document.getElementById(Tt.container),!this._container)throw new Error(`Container '${Tt.container}' not found.`)}else{if(!(Tt.container instanceof it.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=Tt.container}if(this._container.childNodes.length>0&&it.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),Tt.maxBounds&&this.setMaxBounds(Tt.maxBounds),it.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),it.window!==void 0&&(it.window.addEventListener("online",this._onWindowOnline,!1),it.window.addEventListener("resize",this._onWindowResize,!1),it.window.addEventListener("orientationchange",this._onWindowResize,!1),it.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new mm(this,Tt),this._localFontFamily=Tt.localFontFamily,this._localIdeographFontFamily=Tt.localIdeographFontFamily,Tt.style&&this.setStyle(Tt.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),Tt.projection&&this.setProjection(Tt.projection),this._hash=Tt.hash&&new Qm(typeof Tt.hash=="string"&&Tt.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:Tt.center,zoom:Tt.zoom,bearing:Tt.bearing,pitch:Tt.pitch}),Tt.bounds&&(this.resize(),this.fitBounds(Tt.bounds,it.extend({},Tt.fitBoundsOptions,{duration:0})))),this.resize(),Tt.attributionControl&&this.addControl(new ty({customAttribution:Tt.customAttribution})),this._logoControl=new ry,this.addControl(this._logoControl,Tt.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",ht=>{this._update(ht.dataType==="style"),this.fire(new it.Event(`${ht.dataType}data`,ht))}),this.on("dataloading",ht=>{this.fire(new it.Event(`${ht.dataType}dataloading`,ht))})}_getMapId(){return this._mapId}addControl(Tt,ht){if(ht===void 0&&(ht=Tt.getDefaultPosition?Tt.getDefaultPosition():"top-right"),!Tt||!Tt.onAdd)return this.fire(new it.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const bt=Tt.onAdd(this);this._controls.push(Tt);const Pt=this._controlPositions[ht];return ht.indexOf("bottom")!==-1?Pt.insertBefore(bt,Pt.firstChild):Pt.appendChild(bt),this}removeControl(Tt){if(!Tt||!Tt.onRemove)return this.fire(new it.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const ht=this._controls.indexOf(Tt);return ht>-1&&this._controls.splice(ht,1),Tt.onRemove(this),this}hasControl(Tt){return this._controls.indexOf(Tt)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(Tt){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const ht=!this._moving;return ht&&this.fire(new it.Event("movestart",Tt)).fire(new it.Event("move",Tt)),this.fire(new it.Event("resize",Tt)),ht&&this.fire(new it.Event("moveend",Tt)),this}getBounds(){return this.transform.projection.name==="globe"&&it.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(Tt){return this.transform.setMaxBounds(it.LngLatBounds.convert(Tt)),this._update()}setMinZoom(Tt){if((Tt=Tt==null?-2:Tt)>=-2&&Tt<=this.transform.maxZoom)return this.transform.minZoom=Tt,this._update(),this.getZoom()<Tt?this.setZoom(Tt):this.fire(new it.Event("zoomstart")).fire(new it.Event("zoom")).fire(new it.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(Tt){if((Tt=Tt==null?22:Tt)>=this.transform.minZoom)return this.transform.maxZoom=Tt,this._update(),this.getZoom()>Tt?this.setZoom(Tt):this.fire(new it.Event("zoomstart")).fire(new it.Event("zoom")).fire(new it.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(Tt){if((Tt=Tt==null?0:Tt)<0)throw new Error("minPitch must be greater than or equal to 0");if(Tt>=0&&Tt<=this.transform.maxPitch)return this.transform.minPitch=Tt,this._update(),this.getPitch()<Tt?this.setPitch(Tt):this.fire(new it.Event("pitchstart")).fire(new it.Event("pitch")).fire(new it.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(Tt){if((Tt=Tt==null?85:Tt)>85)throw new Error("maxPitch must be less than or equal to 85");if(Tt>=this.transform.minPitch)return this.transform.maxPitch=Tt,this._update(),this.getPitch()>Tt?this.setPitch(Tt):this.fire(new it.Event("pitchstart")).fire(new it.Event("pitch")).fire(new it.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(Tt){return this.transform.renderWorldCopies=Tt,this._update()}getLanguage(){return this._language}setLanguage(Tt){if(this._language=Tt==="auto"?it.window.navigator.language:Tt,this.style)for(const ht in this.style._sourceCaches){const bt=this.style._sourceCaches[ht]._source;bt._setLanguage&&bt._setLanguage(this._language)}for(const ht of this._controls)ht._setLanguage&&ht._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(Tt){if(this._worldview=Tt,this.style)for(const ht in this.style._sourceCaches){const bt=this.style._sourceCaches[ht]._source;bt._setWorldview&&bt._setWorldview(Tt)}return this}getProjection(){return this._explicitProjection?this._explicitProjection:this.style&&this.style.stylesheet&&this.style.stylesheet.projection?this.style.stylesheet.projection:{name:"mercator",center:[0,0]}}_usingGlobe(){return this.transform.projection.name==="globe"}setProjection(Tt){return this._lazyInitEmptyStyle(),Tt?typeof Tt=="string"&&(Tt={name:Tt}):Tt=null,this._updateProjection(Tt)}_updateProjection(Tt){const ht=this.getProjection();Tt===null&&(this._explicitProjection=null);const bt=Tt||this.getProjection();let Pt;if(bt&&bt.name==="globe"&&this.transform.zoom>=it.GLOBE_ZOOM_THRESHOLD_MAX?(Pt=this.transform.setProjection({name:"mercator"}),this.transform.mercatorFromTransition=!0):(Pt=this.transform.setProjection(bt),this.transform.mercatorFromTransition=!1),Tt&&(this._explicitProjection=Tt.name==="globe"?{name:"globe",center:[0,0]}:this.transform.getProjection()),this.style.applyProjectionUpdate(),Pt){if(ht.name==="globe"&&this.getProjection().name==="globe")this.style._forceSymbolLayerUpdate();else{this.painter.clearBackgroundTiles();for(const Rt in this.style._sourceCaches)this.style._sourceCaches[Rt].clearTiles()}this._update(!0)}return this}project(Tt){return this.transform.locationPoint3D(it.LngLat.convert(Tt))}unproject(Tt){return this.transform.pointLocation3D(it.pointGeometry.convert(Tt))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(Tt,ht,bt){if(Tt==="mouseenter"||Tt==="mouseover"){let Pt=!1;const Rt=Vt=>{const Ht=ht.filter(Jt=>this.getLayer(Jt)),Yt=Ht.length?this.queryRenderedFeatures(Vt.point,{layers:Ht}):[];Yt.length?Pt||(Pt=!0,bt.call(this,new Tl(Tt,this,Vt.originalEvent,{features:Yt}))):Pt=!1},kt=()=>{Pt=!1};return{layers:new Set(ht),listener:bt,delegates:{mousemove:Rt,mouseout:kt}}}if(Tt==="mouseleave"||Tt==="mouseout"){let Pt=!1;const Rt=Vt=>{const Ht=ht.filter(Yt=>this.getLayer(Yt));(Ht.length?this.queryRenderedFeatures(Vt.point,{layers:Ht}):[]).length?Pt=!0:Pt&&(Pt=!1,bt.call(this,new Tl(Tt,this,Vt.originalEvent)))},kt=Vt=>{Pt&&(Pt=!1,bt.call(this,new Tl(Tt,this,Vt.originalEvent)))};return{layers:new Set(ht),listener:bt,delegates:{mousemove:Rt,mouseout:kt}}}{const Pt=Rt=>{const kt=ht.filter(Ht=>this.getLayer(Ht)),Vt=kt.length?this.queryRenderedFeatures(Rt.point,{layers:kt}):[];Vt.length&&(Rt.features=Vt,bt.call(this,Rt),delete Rt.features)};return{layers:new Set(ht),listener:bt,delegates:{[Tt]:Pt}}}}on(Tt,ht,bt){if(bt===void 0)return super.on(Tt,ht);Array.isArray(ht)||(ht=[ht]);const Pt=this._createDelegatedListener(Tt,ht,bt);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[Tt]=this._delegatedListeners[Tt]||[],this._delegatedListeners[Tt].push(Pt);for(const Rt in Pt.delegates)this.on(Rt,Pt.delegates[Rt]);return this}once(Tt,ht,bt){if(bt===void 0)return super.once(Tt,ht);Array.isArray(ht)||(ht=[ht]);const Pt=this._createDelegatedListener(Tt,ht,bt);for(const Rt in Pt.delegates)this.once(Rt,Pt.delegates[Rt]);return this}off(Tt,ht,bt){if(bt===void 0)return super.off(Tt,ht);ht=new Set(Array.isArray(ht)?ht:[ht]);const Pt=(kt,Vt)=>{if(kt.size!==Vt.size)return!1;for(const Ht of kt)if(!Vt.has(Ht))return!1;return!0},Rt=this._delegatedListeners?this._delegatedListeners[Tt]:void 0;return Rt&&(kt=>{for(let Vt=0;Vt<kt.length;Vt++){const Ht=kt[Vt];if(Ht.listener===bt&&Pt(Ht.layers,ht)){for(const Yt in Ht.delegates)this.off(Yt,Ht.delegates[Yt]);return kt.splice(Vt,1),this}}})(Rt),this}queryRenderedFeatures(Tt,ht){return this.style?(ht!==void 0||Tt===void 0||Tt instanceof it.pointGeometry||Array.isArray(Tt)||(ht=Tt,Tt=void 0),this.style.queryRenderedFeatures(Tt=Tt||[[0,0],[this.transform.width,this.transform.height]],ht=ht||{},this.transform)):[]}querySourceFeatures(Tt,ht){return this.style.querySourceFeatures(Tt,ht)}queryTerrainElevation(Tt,ht){const bt=this.transform.elevation;return bt?(ht=it.extend({},{exaggerated:!0},ht),bt.getAtPoint(it.MercatorCoordinate.fromLngLat(Tt),null,ht.exaggerated)):null}setStyle(Tt,ht){return(ht=it.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},ht)).diff!==!1&&ht.localIdeographFontFamily===this._localIdeographFontFamily&&ht.localFontFamily===this._localFontFamily&&this.style&&Tt?(this._diffStyle(Tt,ht),this):(this._localIdeographFontFamily=ht.localIdeographFontFamily,this._localFontFamily=ht.localFontFamily,this._updateStyle(Tt,ht))}_getUIString(Tt){const ht=this._locale[Tt];if(ht==null)throw new Error(`Missing UI string '${Tt}'`);return ht}_updateStyle(Tt,ht){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),Tt&&(this.style=new Bl(this,ht||{}),this.style.setEventedParent(this,{style:this.style}),typeof Tt=="string"?this.style.loadURL(Tt):this.style.loadJSON(Tt)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Bl(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(Tt,ht){if(typeof Tt=="string"){const bt=this._requestManager.normalizeStyleURL(Tt),Pt=this._requestManager.transformRequest(bt,it.ResourceType.Style);it.getJSON(Pt,(Rt,kt)=>{Rt?this.fire(new it.ErrorEvent(Rt)):kt&&this._updateDiff(kt,ht)})}else typeof Tt=="object"&&this._updateDiff(Tt,ht)}_updateDiff(Tt,ht){try{this.style.setState(Tt)&&this._update(!0)}catch(bt){it.warnOnce(`Unable to perform style diff: ${bt.message||bt.error||bt}.  Rebuilding the style from scratch.`),this._updateStyle(Tt,ht)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(it.warnOnce("There is no style added to the map."),!1)}addSource(Tt,ht){return this._lazyInitEmptyStyle(),this.style.addSource(Tt,ht),this._update(!0)}isSourceLoaded(Tt){return!!this.style&&this.style._isSourceCacheLoaded(Tt)}areTilesLoaded(){const Tt=this.style&&this.style._sourceCaches;for(const ht in Tt){const bt=Tt[ht]._tiles;for(const Pt in bt){const Rt=bt[Pt];if(Rt.state!=="loaded"&&Rt.state!=="errored")return!1}}return!0}addSourceType(Tt,ht,bt){this._lazyInitEmptyStyle(),this.style.addSourceType(Tt,ht,bt)}removeSource(Tt){return this.style.removeSource(Tt),this._updateTerrain(),this._update(!0)}getSource(Tt){return this.style.getSource(Tt)}addImage(Tt,ht,{pixelRatio:bt=1,sdf:Pt=!1,stretchX:Rt,stretchY:kt,content:Vt}={}){if(this._lazyInitEmptyStyle(),ht instanceof it.window.HTMLImageElement||it.window.ImageBitmap&&ht instanceof it.window.ImageBitmap){const{width:Ht,height:Yt,data:Jt}=it.exported.getImageData(ht);this.style.addImage(Tt,{data:new it.RGBAImage({width:Ht,height:Yt},Jt),pixelRatio:bt,stretchX:Rt,stretchY:kt,content:Vt,sdf:Pt,version:0})}else if(ht.width===void 0||ht.height===void 0)this.fire(new it.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:Ht,height:Yt}=ht,Jt=ht;this.style.addImage(Tt,{data:new it.RGBAImage({width:Ht,height:Yt},new Uint8Array(Jt.data)),pixelRatio:bt,stretchX:Rt,stretchY:kt,content:Vt,sdf:Pt,version:0,userImage:Jt}),Jt.onAdd&&Jt.onAdd(this,Tt)}}updateImage(Tt,ht){const bt=this.style.getImage(Tt);if(!bt)return void this.fire(new it.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const Pt=ht instanceof it.window.HTMLImageElement||it.window.ImageBitmap&&ht instanceof it.window.ImageBitmap?it.exported.getImageData(ht):ht,{width:Rt,height:kt}=Pt;Rt!==void 0&&kt!==void 0?Rt===bt.data.width&&kt===bt.data.height?(bt.data.replace(Pt.data,!(ht instanceof it.window.HTMLImageElement||it.window.ImageBitmap&&ht instanceof it.window.ImageBitmap)),this.style.updateImage(Tt,bt)):this.fire(new it.ErrorEvent(new Error(`The width and height of the updated image (${Rt}, ${kt})
                must be that same as the previous version of the image
                (${bt.data.width}, ${bt.data.height})`))):this.fire(new it.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(Tt){return Tt?!!this.style.getImage(Tt):(this.fire(new it.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(Tt){this.style.removeImage(Tt)}loadImage(Tt,ht){it.getImage(this._requestManager.transformRequest(Tt,it.ResourceType.Image),(bt,Pt)=>{ht(bt,Pt instanceof it.window.HTMLImageElement?it.exported.getImageData(Pt):Pt)})}listImages(){return this.style.listImages()}addLayer(Tt,ht){return this._lazyInitEmptyStyle(),this.style.addLayer(Tt,ht),this._update(!0)}moveLayer(Tt,ht){return this.style.moveLayer(Tt,ht),this._update(!0)}removeLayer(Tt){return this.style.removeLayer(Tt),this._update(!0)}getLayer(Tt){return this.style.getLayer(Tt)}setLayerZoomRange(Tt,ht,bt){return this.style.setLayerZoomRange(Tt,ht,bt),this._update(!0)}setFilter(Tt,ht,bt={}){return this.style.setFilter(Tt,ht,bt),this._update(!0)}getFilter(Tt){return this.style.getFilter(Tt)}setPaintProperty(Tt,ht,bt,Pt={}){return this.style.setPaintProperty(Tt,ht,bt,Pt),this._update(!0)}getPaintProperty(Tt,ht){return this.style.getPaintProperty(Tt,ht)}setLayoutProperty(Tt,ht,bt,Pt={}){return this.style.setLayoutProperty(Tt,ht,bt,Pt),this._update(!0)}getLayoutProperty(Tt,ht){return this.style.getLayoutProperty(Tt,ht)}setLight(Tt,ht={}){return this._lazyInitEmptyStyle(),this.style.setLight(Tt,ht),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(Tt){return this._lazyInitEmptyStyle(),!Tt&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(Tt),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(Tt){return this._lazyInitEmptyStyle(),this.style.setFog(Tt),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(Tt){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(it.LngLat.convert(Tt),this.transform):0}setFeatureState(Tt,ht){return this.style.setFeatureState(Tt,ht),this._update()}removeFeatureState(Tt,ht){return this.style.removeFeatureState(Tt,ht),this._update()}getFeatureState(Tt){return this.style.getFeatureState(Tt)}_updateContainerDimensions(){if(!this._container)return;const Tt=this._container.getBoundingClientRect().width||400,ht=this._container.getBoundingClientRect().height||300;let bt,Pt,Rt,kt=this._container;for(;kt&&(!Pt||!Rt);){const Vt=it.window.getComputedStyle(kt).transform;Vt&&Vt!=="none"&&(bt=Vt.match(/matrix.*\((.+)\)/)[1].split(", "),bt[0]&&bt[0]!=="0"&&bt[0]!=="1"&&(Pt=bt[0]),bt[3]&&bt[3]!=="0"&&bt[3]!=="1"&&(Rt=bt[3])),kt=kt.parentElement}this._containerWidth=Pt?Math.abs(Tt/Pt):Tt,this._containerHeight=Rt?Math.abs(ht/Rt):ht}_detectMissingCSS(){it.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&it.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const Tt=this._container;Tt.classList.add("mapboxgl-map"),(this._missingCSSCanary=vt("div","mapboxgl-canary",Tt)).style.visibility="hidden",this._detectMissingCSS();const ht=this._canvasContainer=vt("div","mapboxgl-canvas-container",Tt);this._interactive&&ht.classList.add("mapboxgl-interactive"),this._canvas=vt("canvas","mapboxgl-canvas",ht),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const bt=this._controlContainer=vt("div","mapboxgl-control-container",Tt),Pt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(Rt=>{Pt[Rt]=vt("div",`mapboxgl-ctrl-${Rt}`,bt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(Tt,ht){const bt=it.exported.devicePixelRatio||1;this._canvas.width=bt*Math.ceil(Tt),this._canvas.height=bt*Math.ceil(ht),this._canvas.style.width=`${Tt}px`,this._canvas.style.height=`${ht}px`}_addMarker(Tt){this._markers.push(Tt)}_removeMarker(Tt){const ht=this._markers.indexOf(Tt);ht!==-1&&this._markers.splice(ht,1)}_setupPainter(){const Tt=it.extend({},ut.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ht=this._canvas.getContext("webgl",Tt)||this._canvas.getContext("experimental-webgl",Tt);ht?(it.storeAuthState(ht,!0),this.painter=new om(ht,this.transform),this.on("data",bt=>{bt.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),it.exported$1.testSupport(ht)):this.fire(new it.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(Tt){Tt.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new it.Event("webglcontextlost",{originalEvent:Tt}))}_contextRestored(Tt){this._setupPainter(),this.resize(),this._update(),this.fire(new it.Event("webglcontextrestored",{originalEvent:Tt}))}_onMapScroll(Tt){if(Tt.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(Tt){return this.style?(this._styleDirty=this._styleDirty||Tt,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(Tt){return this._update(),this._renderTaskQueue.add(Tt)}_cancelRenderFrame(Tt){this._renderTaskQueue.remove(Tt)}_requestDomTask(Tt){!this.loaded()||this.loaded()&&!this.isMoving()?Tt():this._domRenderTaskQueue.add(Tt)}_render(Tt){let ht;const bt=this.painter.context.extTimerQuery,Pt=it.exported.now();if(this.listens("gpu-timing-frame")&&(ht=bt.createQueryEXT(),bt.beginQueryEXT(bt.TIME_ELAPSED_EXT,ht)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(Tt),this._domRenderTaskQueue.run(Tt),this._removed)return;this.getProjection().name==="globe"&&(this.transform.zoom>=it.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.projection.name==="globe"&&this._updateProjection():this.transform.projection.name==="mercator"&&this._updateProjection());let Rt=!1;const kt=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const Yt=this.transform.zoom,Jt=this.transform.pitch,ir=it.exported.now();this.style.zoomHistory.update(Yt,ir);const cr=new it.EvaluationParameters(Yt,{now:ir,fadeDuration:kt,pitch:Jt,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),pr=cr.crossFadingFactor();pr===1&&pr===this._crossFadingFactor||(Rt=!0,this._crossFadingFactor=pr),this.style.update(cr)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let Vt=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),Vt=this._updateAverageElevation(Pt),this.style._updateSources(this.transform),this._forceMarkerUpdate()):Vt=this._updateAverageElevation(Pt),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,kt,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:kt,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new it.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new it.Event("load"))),this.style&&(this.style.hasTransitions()||Rt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),ht){const Yt=it.exported.now()-Pt;bt.endQueryEXT(bt.TIME_ELAPSED_EXT,ht),setTimeout(()=>{const Jt=bt.getQueryObjectEXT(ht,bt.QUERY_RESULT_EXT)/1e6;bt.deleteQueryEXT(ht),this.fire(new it.Event("gpu-timing-frame",{cpuTime:Yt,gpuTime:Jt})),it.window.performance.mark("frame-gpu",{startTime:Pt,detail:{gpuTime:Jt}})},50)}if(this.listens("gpu-timing-layer")){const Yt=this.painter.collectGpuTimers();setTimeout(()=>{const Jt=this.painter.queryGpuTimers(Yt);this.fire(new it.Event("gpu-timing-layer",{layerTimes:Jt}))},50)}if(this.listens("gpu-timing-deferred-render")){const Yt=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const Jt=this.painter.queryGpuTimeDeferredRender(Yt);this.fire(new it.Event("gpu-timing-deferred-render",{gpuTime:Jt}))},50)}const Ht=this._sourcesDirty||this._styleDirty||this._placementDirty||Vt;if(Ht||this._repaint)this.triggerRepaint();else{const Yt=!this.isMoving()&&this.loaded();if(Yt&&(Vt=this._updateAverageElevation(Pt,!0)),Vt)this.triggerRepaint();else if(this._triggerFrame(!1),Yt&&(this.fire(new it.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Jt=this._calculateSpeedIndex();this.fire(new it.Event("speedindexcompleted",{speedIndex:Jt})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||Ht||(this._fullyLoaded=!0,this._authenticate())}_forceMarkerUpdate(){for(const Tt of this._markers)Tt._update()}_updateAverageElevation(Tt,ht=!1){const bt=Pt=>(this.transform.averageElevation=Pt,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&bt(0);if((ht||Tt-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(Tt)){const Pt=this.transform.averageElevation;let Rt=this.transform.sampleAverageElevation(),kt=!1;this.transform.elevation&&(kt=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(Rt)?Rt=0:this._averageElevationLastSampledAt=Tt;const Vt=Math.abs(Pt-Rt);if(Vt>1){if(this._isInitialLoad||kt)return this._averageElevation.jumpTo(Rt),bt(Rt);this._averageElevation.easeTo(Rt,Tt,300)}else if(Vt>1e-4)return this._averageElevation.jumpTo(Rt),bt(Rt)}return!!this._averageElevation.isEasing(Tt)&&bt(this._averageElevation.getValue(Tt))}_authenticate(){it.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,Tt=>{if(Tt&&(Tt.message===it.AUTH_ERR_MSG||Tt.status===401)){const ht=this.painter.context.gl;it.storeAuthState(ht,!1),this._logoControl instanceof ry&&this._logoControl._updateLogo(),ht&&ht.clear(ht.DEPTH_BUFFER_BIT|ht.COLOR_BUFFER_BIT|ht.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new it.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),it.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const Tt=this.painter.canvasCopy(),ht=this.painter.getCanvasCopiesAndTimestamps();ht.timeStamps.push(performance.now());const bt=this.painter.context.gl,Pt=bt.createFramebuffer();function Rt(kt){bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,kt,0);const Vt=new Uint8Array(bt.drawingBufferWidth*bt.drawingBufferHeight*4);return bt.readPixels(0,0,bt.drawingBufferWidth,bt.drawingBufferHeight,bt.RGBA,bt.UNSIGNED_BYTE,Vt),Vt}return bt.bindFramebuffer(bt.FRAMEBUFFER,Pt),this._canvasPixelComparison(Rt(Tt),ht.canvasCopies.map(Rt),ht.timeStamps)}_canvasPixelComparison(Tt,ht,bt){let Pt=bt[1]-bt[0];const Rt=Tt.length/4;for(let kt=0;kt<ht.length;kt++){const Vt=ht[kt];let Ht=0;for(let Yt=0;Yt<Vt.length;Yt+=4)Vt[Yt]===Tt[Yt]&&Vt[Yt+1]===Tt[Yt+1]&&Vt[Yt+2]===Tt[Yt+2]&&Vt[Yt+3]===Tt[Yt+3]&&(Ht+=1);Pt+=(bt[kt+2]-bt[kt+1])*(1-Ht/Rt)}return Pt}remove(){this._hash&&this._hash.remove();for(const ht of this._controls)ht.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),it.window!==void 0&&(it.window.removeEventListener("resize",this._onWindowResize,!1),it.window.removeEventListener("orientationchange",this._onWindowResize,!1),it.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),it.window.removeEventListener("online",this._onWindowOnline,!1));const Tt=this.painter.context.gl.getExtension("WEBGL_lose_context");Tt&&Tt.loseContext(),bm(this._canvasContainer),bm(this._controlContainer),bm(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),it.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new it.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(Tt){this._renderNextFrame=this._renderNextFrame||Tt,this.style&&!this._frame&&(this._frame=it.exported.frame(ht=>{const bt=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,bt&&this._render(ht)}))}_preloadTiles(Tt){const ht=this.style?Object.values(this.style._sourceCaches):[];return it.asyncAll(ht,(bt,Pt)=>bt._preloadTiles(Tt,Pt),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(Tt){this._trackResize&&this.resize({originalEvent:Tt})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(Tt){this._showTileBoundaries!==Tt&&(this._showTileBoundaries=Tt,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(Tt){this._showTerrainWireframe!==Tt&&(this._showTerrainWireframe=Tt,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(Tt){this._speedIndexTiming!==Tt&&(this._speedIndexTiming=Tt,this._update())}get showPadding(){return!!this._showPadding}set showPadding(Tt){this._showPadding!==Tt&&(this._showPadding=Tt,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(Tt){this._showCollisionBoxes!==Tt&&(this._showCollisionBoxes=Tt,Tt?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(Tt){this._showOverdrawInspector!==Tt&&(this._showOverdrawInspector=Tt,this._update())}get repaint(){return!!this._repaint}set repaint(Tt){this._repaint!==Tt&&(this._repaint=Tt,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(Tt){this._vertices=Tt,this._update()}_setCacheLimits(Tt,ht){it.setCacheLimits(Tt,ht)}get version(){return it.version}},NavigationControl:class{constructor(Tt){this.options=it.extend({},c0,Tt),this._container=vt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",ht=>ht.preventDefault()),this.options.showZoom&&(it.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",ht=>{this._map&&this._map.zoomIn({},{originalEvent:ht})}),vt("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",ht=>{this._map&&this._map.zoomOut({},{originalEvent:ht})}),vt("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(it.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",ht=>{const bt=this._map;bt&&(this.options.visualizePitch?bt.resetNorthPitch({},{originalEvent:ht}):bt.resetNorth({},{originalEvent:ht}))}),this._compassIcon=vt("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const Tt=this._map;if(!Tt)return;const ht=Tt.getZoom(),bt=ht===Tt.getMaxZoom(),Pt=ht===Tt.getMinZoom();this._zoomInButton.disabled=bt,this._zoomOutButton.disabled=Pt,this._zoomInButton.setAttribute("aria-disabled",bt.toString()),this._zoomOutButton.setAttribute("aria-disabled",Pt.toString())}_rotateCompassArrow(){const Tt=this._map;if(!Tt)return;const ht=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(Tt.transform.pitch*(Math.PI/180)),.5)}) rotateX(${Tt.transform.pitch}deg) rotateZ(${Tt.transform.angle*(180/Math.PI)}deg)`:`rotate(${Tt.transform.angle*(180/Math.PI)}deg)`;Tt._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=ht)})}onAdd(Tt){return this._map=Tt,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),Tt.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&Tt.on("pitch",this._rotateCompassArrow),Tt.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new f0(Tt,this._compass,this.options.visualizePitch)),this._container}onRemove(){const Tt=this._map;Tt&&(this._container.remove(),this.options.showZoom&&Tt.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&Tt.off("pitch",this._rotateCompassArrow),Tt.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(Tt,ht){const bt=vt("button",Tt,this._container);return bt.type="button",bt.addEventListener("click",ht),bt}_setButtonTitle(Tt,ht){if(!this._map)return;const bt=this._map._getUIString(`NavigationControl.${ht}`);Tt.setAttribute("aria-label",bt),Tt.firstElementChild&&Tt.firstElementChild.setAttribute("title",bt)}},GeolocateControl:class extends it.Evented{constructor(Tt){super(),this.options=it.extend({geolocation:it.window.navigator.geolocation},oy,Tt),it.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Cv(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(Tt){return this._map=Tt,this._container=vt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(Tt){this._supportsGeolocation!==void 0?Tt(this._supportsGeolocation):it.window.navigator.permissions!==void 0?it.window.navigator.permissions.query({name:"geolocation"}).then(ht=>{this._supportsGeolocation=ht.state!=="denied",Tt(this._supportsGeolocation)}):(this._supportsGeolocation=!!this.options.geolocation,Tt(this._supportsGeolocation))}_isOutOfMapMaxBounds(Tt){const ht=this._map.getMaxBounds(),bt=Tt.coords;return!!ht&&(bt.longitude<ht.getWest()||bt.longitude>ht.getEast()||bt.latitude<ht.getSouth()||bt.latitude>ht.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(Tt){if(this._map){if(this._isOutOfMapMaxBounds(Tt))return this._setErrorState(),this.fire(new it.Event("outofmaxbounds",Tt)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=Tt,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(Tt),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(Tt),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new it.Event("geolocate",Tt)),this._finish()}}_updateCamera(Tt){const ht=new it.LngLat(Tt.coords.longitude,Tt.coords.latitude),bt=Tt.coords.accuracy,Pt=this._map.getBearing(),Rt=it.extend({bearing:Pt},this.options.fitBoundsOptions);this._map.fitBounds(ht.toBounds(bt),Rt,{geolocateSource:!0})}_updateMarker(Tt){if(Tt){const ht=new it.LngLat(Tt.coords.longitude,Tt.coords.latitude);this._accuracyCircleMarker.setLngLat(ht).addTo(this._map),this._userLocationDotMarker.setLngLat(ht).addTo(this._map),this._accuracy=Tt.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const Tt=this._map.transform,ht=it.mercatorZfromAltitude(1,Tt._center.lat)*Tt.worldSize,bt=Math.ceil(2*this._accuracy*ht);this._circleElement.style.width=`${bt}px`,this._circleElement.style.height=`${bt}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(Tt){if(this._map){if(this.options.trackUserLocation)if(Tt.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const ht=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",ht),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ht),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(Tt.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new it.Event("error",Tt)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(Tt){if(this._container.addEventListener("contextmenu",ht=>ht.preventDefault()),this._geolocateButton=vt("button","mapboxgl-ctrl-geolocate",this._container),vt("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",Tt===!1){it.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const ht=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",ht),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ht)}else{const ht=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",ht),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ht)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=vt("div","mapboxgl-user-location"),this._dotElement.appendChild(vt("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(vt("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new xm({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=vt("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new xm({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",ht=>{ht.geolocateSource||this._watchState!=="ACTIVE_LOCK"||ht.originalEvent&&ht.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new it.Event("trackuserlocationend")))})}_onDeviceOrientation(Tt){this._userLocationDotMarker&&(Tt.webkitCompassHeading?this._heading=Tt.webkitCompassHeading:Tt.absolute===!0&&(this._heading=-1*Tt.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return it.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new it.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new it.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new it.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let Tt;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(Tt={maximumAge:6e5,timeout:0},this._noTimeout=!0):(Tt=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,Tt),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const Tt=()=>{it.window.addEventListener("ondeviceorientationabsolute"in it.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};it.window.DeviceMotionEvent!==void 0&&typeof it.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(ht=>{ht==="granted"&&Tt()}).catch(console.error):Tt()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),it.window.removeEventListener("deviceorientation",this._onDeviceOrientation),it.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ty,ScaleControl:class{constructor(Tt){this.options=it.extend({},d0,Tt),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=sy.bind(this)),it.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const Tt=this.options.maxWidth||100,ht=this._map,bt=ht._containerHeight/2,Pt=ht._containerWidth/2-Tt/2,Rt=ht.unproject([Pt,bt]),kt=ht.unproject([Pt+Tt,bt]),Vt=Rt.distanceTo(kt);if(this.options.unit==="imperial"){const Ht=3.2808*Vt;Ht>5280?this._setScale(Tt,Ht/5280,"mile"):this._setScale(Tt,Ht,"foot")}else this.options.unit==="nautical"?this._setScale(Tt,Vt/1852,"nautical-mile"):Vt>=1e3?this._setScale(Tt,Vt/1e3,"kilometer"):this._setScale(Tt,Vt,"meter")}_setScale(Tt,ht,bt){const Pt=ly(ht),Rt=Pt/ht;this._map._requestDomTask(()=>{this._container.style.width=Tt*Rt+"px",this._container.innerHTML=bt!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:bt}).format(Pt):`${Pt}&nbsp;nm`})}onAdd(Tt){return this._map=Tt,this._language=Tt.getLanguage(),this._container=vt("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Tt.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(Tt){this._language=Tt,this._update()}setUnit(Tt){this.options.unit=Tt,this._update()}},FullscreenControl:class{constructor(Tt){this._fullscreen=!1,Tt&&Tt.container&&(Tt.container instanceof it.window.HTMLElement?this._container=Tt.container:it.warnOnce("Full screen control 'container' must be a DOM element.")),it.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in it.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in it.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(Tt){return this._map=Tt,this._container||(this._container=this._map.getContainer()),this._controlContainer=vt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",it.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,it.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!it.window.document.fullscreenEnabled&&!it.window.document.webkitFullscreenEnabled)}_setupUI(){const Tt=this._fullscreenButton=vt("button","mapboxgl-ctrl-fullscreen",this._controlContainer);vt("span","mapboxgl-ctrl-icon",Tt).setAttribute("aria-hidden","true"),Tt.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),it.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const Tt=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Tt),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",Tt)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(it.window.document.fullscreenElement||it.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?it.window.document.exitFullscreen?it.window.document.exitFullscreen():it.window.document.webkitCancelFullScreen&&it.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends it.Evented{constructor(Tt){super(),this.options=it.extend(Object.create(uy),Tt),it.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(Tt&&Tt.className?Tt.className.trim().split(/\s+/):[])}addTo(Tt){return this._map&&this.remove(),this._map=Tt,this.options.closeOnClick&&Tt.on("preclick",this._onClose),this.options.closeOnMove&&Tt.on("move",this._onClose),Tt.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(Tt.on("mousemove",this._onMouseEvent),Tt.on("mouseup",this._onMouseEvent),Tt._canvasContainer.classList.add("mapboxgl-track-pointer")):Tt.on("move",this._update),this.fire(new it.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const Tt=this._map;return Tt&&(Tt.off("move",this._update),Tt.off("move",this._onClose),Tt.off("preclick",this._onClose),Tt.off("click",this._onClose),Tt.off("remove",this.remove),Tt.off("mousemove",this._onMouseEvent),Tt.off("mouseup",this._onMouseEvent),Tt.off("drag",this._onMouseEvent),this._map=void 0),this.fire(new it.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(Tt){this._lngLat=it.LngLat.convert(Tt),this._pos=null,this._trackPointer=!1,this._update();const ht=this._map;return ht&&(ht.on("move",this._update),ht.off("mousemove",this._onMouseEvent),ht._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const Tt=this._map;return Tt&&(Tt.off("move",this._update),Tt.on("mousemove",this._onMouseEvent),Tt.on("drag",this._onMouseEvent),Tt._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(Tt){return this.setDOMContent(it.window.document.createTextNode(Tt))}setHTML(Tt){const ht=it.window.document.createDocumentFragment(),bt=it.window.document.createElement("body");let Pt;for(bt.innerHTML=Tt;Pt=bt.firstChild,Pt;)ht.appendChild(Pt);return this.setDOMContent(ht)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(Tt){return this.options.maxWidth=Tt,this._update(),this}setDOMContent(Tt){let ht=this._content;if(ht)for(;ht.hasChildNodes();)ht.firstChild&&ht.removeChild(ht.firstChild);else ht=this._content=vt("div","mapboxgl-popup-content",this._container||void 0);if(ht.appendChild(Tt),this.options.closeButton){const bt=this._closeButton=vt("button","mapboxgl-popup-close-button",ht);bt.type="button",bt.setAttribute("aria-label","Close popup"),bt.setAttribute("aria-hidden","true"),bt.innerHTML="&#215;",bt.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(Tt){return this._classList.add(Tt),this._updateClassList(),this}removeClassName(Tt){return this._classList.delete(Tt),this._updateClassList(),this}setOffset(Tt){return this.options.offset=Tt,this._update(),this}toggleClassName(Tt){let ht;return this._classList.delete(Tt)?ht=!1:(this._classList.add(Tt),ht=!0),this._updateClassList(),ht}_onMouseEvent(Tt){this._update(Tt.point)}_getAnchor(Tt){if(this.options.anchor)return this.options.anchor;const ht=this._map,bt=this._container,Pt=this._pos;if(!ht||!bt||!Pt)return"bottom";const Rt=bt.offsetWidth,kt=bt.offsetHeight,Vt=Pt.x<Rt/2,Ht=Pt.x>ht.transform.width-Rt/2;if(Pt.y+Tt<kt)return Vt?"top-left":Ht?"top-right":"top";if(Pt.y>ht.transform.height-kt){if(Vt)return"bottom-left";if(Ht)return"bottom-right"}return Vt?"left":Ht?"right":"bottom"}_updateClassList(){const Tt=this._container;if(!Tt)return;const ht=[...this._classList];ht.push("mapboxgl-popup"),this._anchor&&ht.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&ht.push("mapboxgl-popup-track-pointer"),Tt.className=ht.join(" ")}_update(Tt){const ht=this._map,bt=this._content;if(!ht||!this._lngLat&&!this._trackPointer||!bt)return;let Pt=this._container;if(Pt||(Pt=this._container=vt("div","mapboxgl-popup",ht.getContainer()),this._tip=vt("div","mapboxgl-popup-tip",Pt),Pt.appendChild(bt)),this.options.maxWidth&&Pt.style.maxWidth!==this.options.maxWidth&&(Pt.style.maxWidth=this.options.maxWidth),ht.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ay(this._lngLat,this._pos,ht.transform)),!this._trackPointer||Tt){const Rt=this._pos=this._trackPointer&&Tt?Tt:ht.project(this._lngLat),kt=Sm(this.options.offset),Vt=this._anchor=this._getAnchor(kt.y),Ht=Sm(this.options.offset,Vt),Yt=Rt.add(Ht).round();ht._requestDomTask(()=>{this._container&&Vt&&(this._container.style.transform=`${_m[Vt]} translate(${Yt.x}px,${Yt.y}px)`)})}if(!this._marker&&ht._usingGlobe()){const Rt=it.isLngLatBehindGlobe(ht.transform,this._lngLat)?0:1;this._setOpacity(Rt)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const Tt=this._container.querySelector(cy);Tt&&Tt.focus()}_onClose(){this.remove()}_setOpacity(Tt){this._container&&(this._container.style.opacity=`${Tt}`),this._content&&(this._content.style.pointerEvents=Tt?"auto":"none")}},Marker:xm,Style:Bl,LngLat:it.LngLat,LngLatBounds:it.LngLatBounds,Point:it.pointGeometry,MercatorCoordinate:it.MercatorCoordinate,FreeCameraOptions:Sv,Evented:it.Evented,config:it.config,prewarm:function(){qn().acquire(_i)},clearPrewarmedResources:function(){const Tt=Vn;Tt&&(Tt.isPreloaded()&&Tt.numActive()===1?(Tt.release(_i),Vn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return it.config.ACCESS_TOKEN},set accessToken(Tt){it.config.ACCESS_TOKEN=Tt},get baseApiUrl(){return it.config.API_URL},set baseApiUrl(Tt){it.config.API_URL=Tt},get workerCount(){return co.workerCount},set workerCount(Tt){co.workerCount=Tt},get maxParallelImageRequests(){return it.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(Tt){it.config.MAX_PARALLEL_IMAGE_REQUESTS=Tt},clearStorage(Tt){it.clearTileCache(Tt)},workerUrl:"",workerClass:null,setNow:it.exported.setNow,restoreNow:it.exported.restoreNow};return wm});var ot=nt;return ot})})(mapboxGl$1);var mapboxgl=mapboxGl$1.exports,mapboxGl="";mapboxgl.accessToken="pk.eyJ1IjoieW91bmdxcXFxIiwiYSI6ImNrdjdnYXo5ZTlraTAyd21hMmhmMXcxNmgifQ.8pCIMfEaYD5kccMTB2GSzA";let map$3;function Mapbox($){const _e=react.exports.useRef(null);return react.exports.useEffect(()=>{map$3=new mapboxgl.Map({...$.options,container:_e==null?void 0:_e.current})},[]),jsx("div",{className:$.className,ref:_e})}var AppstoreOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"},AppstoreOutlinedSvg=AppstoreOutlined$2,AppstoreOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:AppstoreOutlinedSvg}))};AppstoreOutlined.displayName="AppstoreOutlined";var AppstoreOutlined$1=react.exports.forwardRef(AppstoreOutlined),LogoutOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},LogoutOutlinedSvg=LogoutOutlined$2,LogoutOutlined=function(_e,et){return react.exports.createElement(AntdIcon,_objectSpread2$1(_objectSpread2$1({},_e),{},{ref:et,icon:LogoutOutlinedSvg}))};LogoutOutlined.displayName="LogoutOutlined";var LogoutOutlined$1=react.exports.forwardRef(LogoutOutlined),index$6="";const Loading=$=>{const{loading:_e}=$;return jsxs(Fragment,{children:[$.children,jsx("div",{className:"loading",style:{display:_e?"flex":"none"},children:jsx(LoadingOutlined$1,{style:{fontSize:$.size||"22px"}})})]})};var map$2="",popup="";const PopupCard=$=>{const{descr:_e}=$.data,[et,tt]=react.exports.useState(!0);return react.exports.useEffect(()=>{setTimeout(()=>{tt(!1)},2e3)},[]),jsx(Loading,{loading:et,children:jsxs("div",{className:"popup-card",children:[jsxs("header",{className:"header-wrapper",children:[jsx("h2",{className:"title",children:_e}),jsx(Button$2,{type:"link",className:"link",onClick:()=>{message.info("\u8FD9\u91CC\u5E94\u8BE5\u8DF3\u8F6C\u8BE6\u60C5\u9875\uFF0C\u6CA1\u65F6\u95F4\u505A\u5566\uFF01\uFF01\uFF01")},children:"\u67E5\u770B\u8BE6\u60C5"})]}),jsx("div",{className:"content",children:"\u5728\u8FD9\u91CC\u662F\u8BE6\u60C5"})]})})},getArea=()=>__vitePreload(()=>import("./area.b98c3641.js"),[]),getFullArea=()=>__vitePreload(()=>import("./full.cd0712fc.js"),[]),mapOptions={style:"mapbox://styles/youngqqqq/cl5msyirr000816o9wax8ag36",center:[116.405285,39.904989],projection:"globe"},defaultFlyToOption={bearing:0,zoom:15,pitch:70},useFlyTo=function($,_e){const et=Array.isArray($)?{...defaultFlyToOption,center:$}:$;return map$3.flyTo(et,_e)};function getBounds($){const et=[180,90,-180,-90];return $.forEach(tt=>{const[nt,at]=tt;nt<et[0]?et[0]=nt:nt>et[2]&&(et[2]=nt),at<et[1]?et[1]=at:at>et[3]&&(et[3]=at)}),et[0]-=1,et[1]-=1,et[2]+=1,et[3]+=1,et}const addDot=($,_e,et,tt)=>{$.addSource(_e,{type:"geojson",data:{type:"FeatureCollection",features:et.map(nt=>({type:"Feature",geometry:{type:"Point",coordinates:nt.pos},properties:{id:nt.id,descr:nt.descr}})),layout:{"text-field":"{descr}","text-offset":[0,.6],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-anchor":"top"}}}),$.addLayer({id:_e,source:_e,type:"circle",paint:{"circle-color":colors[0],"circle-radius":["interpolate",["linear"],["zoom"],0,1,4,3,16,5],"circle-stroke-width":["interpolate",["linear"],["zoom"],0,0,5,0,16,3],"circle-stroke-color":"#fff","circle-stroke-opacity":.5}}),$.addLayer({id:_e+"-text",source:_e,type:"symbol",minzoom:7,layout:{"text-field":"{descr}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.8],"text-size":12,"text-anchor":"top"},paint:{"text-color":"#ccc","text-halo-color":colors[0],"text-halo-width":1}}),tt&&(map$3.on("click",_e,tt),map$3.on("click",_e+"-text",tt))};async function createAreaData(){const $=await getArea(),_e=await getFullArea(),et=$.features[0].properties.center,tt=$.features[0].geometry.coordinates[0][0];$.features[0].geometry.coordinates[0].unshift([[-180,90],[180,90],[180,-90],[-180,-90]]);const nt=getBounds(tt);return Promise.resolve({maxBounds:nt,area:$,center:et,fullArea:_e})}let useMapReset;function MapboxWrapper($){const[_e,et]=react.exports.useState(!0),tt=useAppDispatch(),nt=useAppSelector(ot=>ot.device.details.data),at="powerhouse";return react.exports.useEffect(()=>{map$3.on("load",async()=>{const it=new Date().getTime(),{center:st,area:ut,fullArea:ft}=await createAreaData();map$3.addSource("area-source",{type:"geojson",data:ut}),map$3.addSource("area-inline-source",{type:"geojson",data:ft}),map$3.addLayer({id:"area-inline",type:"line",source:"area-inline-source",layout:{},paint:{"line-color":"#bee","line-width":.7}}),map$3.addLayer({id:"area-out",type:"fill",source:"area-source",layout:{},paint:{"fill-outline-color":"#627BC1","fill-color":"#111","fill-opacity":.7}}),useMapReset=()=>useFlyTo({...defaultFlyToOption,zoom:8.2,pitch:60,center:st,speed:.6});let dt;nt[at]?dt=nt[at]:dt=(await tt(getDeviceListByType(at))).payload.data,addDot(map$3,at,dt,gt=>{const yt=gt.features[0].geometry.coordinates.slice(),xt=gt.features[0].properties;new mapboxGl$1.exports.Popup().setLngLat(yt).setHTML("<div id='popup'></div>").addTo(map$3);const Ct=document.querySelector("#popup");client.createRoot(Ct).render(jsx(PopupCard,{data:xt}))});const vt=6e3-(new Date().getTime()-it);useMapReset(),setTimeout(()=>{const gt=[[50,5],[180,70]];map$3.setMaxBounds(gt),et(!1)},vt)})},[]),jsx(Fragment,{children:jsx(Loading,{loading:_e,children:jsx(Mapbox,{...$,options:mapOptions})})})}var index$5="";function Title($){const _e=$.className||"",et=useAppDispatch();function tt(){et(userLogout())}const nt=useAppSelector(ot=>ot.user.info),at=()=>{useMapReset()};return jsxs("header",{className:_e+" main-header",children:[jsx("a",{onClick:()=>at(),className:"logo-wrapper",children:jsxs("div",{className:"title-wrapper",children:[jsx("h1",{className:"zh-title",children:title.zh}),jsx("h2",{className:"en-title",children:title.en})]})}),jsxs("div",{className:"user-wrapper",children:[nt?jsx("a",{className:"username",onClick:()=>message.info("\u66F4\u591A\u529F\u80FD\u5F00\u53D1\u4E2D..."),children:nt.name}):jsx(LoadingOutlined$1,{className:"loading-icon"}),jsx("a",{onClick:tt,title:"\u767B\u51FA",className:"logout-btn",children:jsx(LogoutOutlined$1,{rotate:-90})})]})]})}var customTheme="";function MyCard($){return jsx(Card$1,{className:"custom-card",...$,hoverable:!0})}var home="",index$4="";const DeviceCard=$=>{const{info:_e,color:et}=$;return jsxs(Button$2,{className:"device-wrapper",onClick:()=>$.onClick(_e),children:[jsxs("span",{className:"device-descr",children:[jsx("i",{className:"dot",style:{backgroundColor:et}}),_e.descr]}),jsx("span",{className:"device-num",children:_e.number})]},_e.type)},Overview=$=>{const _e=useAppDispatch(),[et,tt]=react.exports.useState(!0);react.exports.useEffect(()=>{_e(getDeviceOverview())},[]);const nt=react.exports.useCallback(ot=>{_e(setDetailState({show:!0,type:ot.type,title:ot.descr}))},[]),at=useAppSelector(ot=>ot.device.overview);return react.exports.useEffect(()=>{at&&tt(!1)},[at]),jsx("div",{className:"overview-wrapper",children:jsx(Loading,{loading:et,children:jsx("ul",{className:"device-list",children:Array.isArray(at)?at.map((ot,it)=>jsx(DeviceCard,{color:colors[it],info:ot,onClick:()=>nt(ot)},ot.type)):""})})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function($,_e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])},extendStatics($,_e)};function __extends($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");extendStatics($,_e);function et(){this.constructor=$}$.prototype=_e===null?Object.create(_e):(et.prototype=_e.prototype,new et)}var Browser=function(){function $(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return $}(),Env=function(){function $(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return $}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?env.worker=!0:typeof navigator=="undefined"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect($,_e){var et=_e.browser,tt=$.match(/Firefox\/([\d.]+)/),nt=$.match(/MSIE\s([\d.]+)/)||$.match(/Trident\/.+?rv:(([\d.]+))/),at=$.match(/Edge?\/([\d.]+)/),ot=/micromessenger/i.test($);tt&&(et.firefox=!0,et.version=tt[1]),nt&&(et.ie=!0,et.version=nt[1]),at&&(et.edge=!0,et.version=at[1],et.newEdge=+at[1].split(".")[0]>18),ot&&(et.weChat=!0),_e.svgSupported=typeof SVGRect!="undefined",_e.touchEventsSupported="ontouchstart"in window&&!et.ie&&!et.edge,_e.pointerEventsSupported="onpointerdown"in window&&(et.edge||et.ie&&+et.version>=11),_e.domSupported=typeof document!="undefined";var it=document.documentElement.style;_e.transform3dSupported=(et.ie&&"transition"in it||et.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in it)&&!("OTransition"in it),_e.transformSupported=_e.transform3dSupported||et.ie&&+et.version>=9}var env$1=env,DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap($){var _e={};if(typeof JSON=="undefined")return _e;for(var et=0;et<$.length;et++){var tt=String.fromCharCode(et+32),nt=($.charCodeAt(et)-OFFSET)/SCALE;_e[tt]=nt}return _e}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var $,_e;return function(et,tt){if(!$){var nt=platformApi.createCanvas();$=nt&&nt.getContext("2d")}if($)return _e!==tt&&(_e=$.font=tt||DEFAULT_FONT),$.measureText(et);et=et||"",tt=tt||DEFAULT_FONT;var at=/^([0-9]*?)px$/.exec(tt),ot=+(at&&at[1])||DEFAULT_FONT_SIZE,it=0;if(tt.indexOf("mono")>=0)it=ot*et.length;else for(var st=0;st<et.length;st++){var ut=DEFAULT_TEXT_WIDTH_MAP[et[st]];it+=ut==null?ot:ut*ot}return{width:it}}}(),loadImage:function($,_e,et){var tt=new Image;return tt.onload=_e,tt.onerror=et,tt.src=$,tt}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function($,_e){return $["[object "+_e+"]"]=!0,$},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function($,_e){return $["[object "+_e+"Array]"]=!0,$},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var $=[],_e=0;_e<arguments.length;_e++)$[_e]=arguments[_e];typeof console!="undefined"&&console.error.apply(console,$)}function clone$4($){if($==null||typeof $!="object")return $;var _e=$,et=objToString.call($);if(et==="[object Array]"){if(!isPrimitive($)){_e=[];for(var tt=0,nt=$.length;tt<nt;tt++)_e[tt]=clone$4($[tt])}}else if(TYPED_ARRAY[et]){if(!isPrimitive($)){var at=$.constructor;if(at.from)_e=at.from($);else{_e=new at($.length);for(var tt=0,nt=$.length;tt<nt;tt++)_e[tt]=$[tt]}}}else if(!BUILTIN_OBJECT[et]&&!isPrimitive($)&&!isDom($)){_e={};for(var ot in $)$.hasOwnProperty(ot)&&ot!==protoKey&&(_e[ot]=clone$4($[ot]))}return _e}function merge($,_e,et){if(!isObject$3(_e)||!isObject$3($))return et?clone$4(_e):$;for(var tt in _e)if(_e.hasOwnProperty(tt)&&tt!==protoKey){var nt=$[tt],at=_e[tt];isObject$3(at)&&isObject$3(nt)&&!isArray$1(at)&&!isArray$1(nt)&&!isDom(at)&&!isDom(nt)&&!isBuiltInObject(at)&&!isBuiltInObject(nt)&&!isPrimitive(at)&&!isPrimitive(nt)?merge(nt,at,et):(et||!(tt in $))&&($[tt]=clone$4(_e[tt]))}return $}function mergeAll($,_e){for(var et=$[0],tt=1,nt=$.length;tt<nt;tt++)et=merge(et,$[tt],_e);return et}function extend($,_e){if(Object.assign)Object.assign($,_e);else for(var et in _e)_e.hasOwnProperty(et)&&et!==protoKey&&($[et]=_e[et]);return $}function defaults($,_e,et){for(var tt=keys(_e),nt=0;nt<tt.length;nt++){var at=tt[nt];(et?_e[at]!=null:$[at]==null)&&($[at]=_e[at])}return $}platformApi.createCanvas;function indexOf($,_e){if($){if($.indexOf)return $.indexOf(_e);for(var et=0,tt=$.length;et<tt;et++)if($[et]===_e)return et}return-1}function inherits($,_e){var et=$.prototype;function tt(){}tt.prototype=_e.prototype,$.prototype=new tt;for(var nt in et)et.hasOwnProperty(nt)&&($.prototype[nt]=et[nt]);$.prototype.constructor=$,$.superClass=_e}function mixin($,_e,et){if($="prototype"in $?$.prototype:$,_e="prototype"in _e?_e.prototype:_e,Object.getOwnPropertyNames)for(var tt=Object.getOwnPropertyNames(_e),nt=0;nt<tt.length;nt++){var at=tt[nt];at!=="constructor"&&(et?_e[at]!=null:$[at]==null)&&($[at]=_e[at])}else defaults($,_e,et)}function isArrayLike($){return!$||typeof $=="string"?!1:typeof $.length=="number"}function each$f($,_e,et){if(!!($&&_e))if($.forEach&&$.forEach===nativeForEach)$.forEach(_e,et);else if($.length===+$.length)for(var tt=0,nt=$.length;tt<nt;tt++)_e.call(et,$[tt],tt,$);else for(var at in $)$.hasOwnProperty(at)&&_e.call(et,$[at],at,$)}function map$1($,_e,et){if(!$)return[];if(!_e)return slice($);if($.map&&$.map===nativeMap)return $.map(_e,et);for(var tt=[],nt=0,at=$.length;nt<at;nt++)tt.push(_e.call(et,$[nt],nt,$));return tt}function reduce($,_e,et,tt){if(!!($&&_e)){for(var nt=0,at=$.length;nt<at;nt++)et=_e.call(tt,et,$[nt],nt,$);return et}}function filter($,_e,et){if(!$)return[];if(!_e)return slice($);if($.filter&&$.filter===nativeFilter)return $.filter(_e,et);for(var tt=[],nt=0,at=$.length;nt<at;nt++)_e.call(et,$[nt],nt,$)&&tt.push($[nt]);return tt}function find($,_e,et){if(!!($&&_e)){for(var tt=0,nt=$.length;tt<nt;tt++)if(_e.call(et,$[tt],tt,$))return $[tt]}}function keys($){if(!$)return[];if(Object.keys)return Object.keys($);var _e=[];for(var et in $)$.hasOwnProperty(et)&&_e.push(et);return _e}function bindPolyfill($,_e){for(var et=[],tt=2;tt<arguments.length;tt++)et[tt-2]=arguments[tt];return function(){return $.apply(_e,et.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1($){for(var _e=[],et=1;et<arguments.length;et++)_e[et-1]=arguments[et];return function(){return $.apply(this,_e.concat(nativeSlice.call(arguments)))}}function isArray$1($){return Array.isArray?Array.isArray($):objToString.call($)==="[object Array]"}function isFunction($){return typeof $=="function"}function isString($){return typeof $=="string"}function isStringSafe($){return objToString.call($)==="[object String]"}function isNumber($){return typeof $=="number"}function isObject$3($){var _e=typeof $;return _e==="function"||!!$&&_e==="object"}function isBuiltInObject($){return!!BUILTIN_OBJECT[objToString.call($)]}function isTypedArray($){return!!TYPED_ARRAY[objToString.call($)]}function isDom($){return typeof $=="object"&&typeof $.nodeType=="number"&&typeof $.ownerDocument=="object"}function isGradientObject($){return $.colorStops!=null}function isImagePatternObject($){return $.image!=null}function isRegExp($){return objToString.call($)==="[object RegExp]"}function eqNaN($){return $!==$}function retrieve(){for(var $=[],_e=0;_e<arguments.length;_e++)$[_e]=arguments[_e];for(var et=0,tt=$.length;et<tt;et++)if($[et]!=null)return $[et]}function retrieve2($,_e){return $!=null?$:_e}function retrieve3($,_e,et){return $!=null?$:_e!=null?_e:et}function slice($){for(var _e=[],et=1;et<arguments.length;et++)_e[et-1]=arguments[et];return nativeSlice.apply($,_e)}function normalizeCssArray$1($){if(typeof $=="number")return[$,$,$,$];var _e=$.length;return _e===2?[$[0],$[1],$[0],$[1]]:_e===3?[$[0],$[1],$[2],$[1]]:$}function assert($,_e){if(!$)throw new Error(_e)}function trim$1($){return $==null?null:typeof $.trim=="function"?$.trim():$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive($){$[primitiveKey]=!0}function isPrimitive($){return $[primitiveKey]}var HashMap=function(){function $(_e){this.data={};var et=isArray$1(_e);this.data={};var tt=this;_e instanceof $?_e.each(nt):_e&&each$f(_e,nt);function nt(at,ot){et?tt.set(at,ot):tt.set(ot,at)}}return $.prototype.get=function(_e){return this.data.hasOwnProperty(_e)?this.data[_e]:null},$.prototype.set=function(_e,et){return this.data[_e]=et},$.prototype.each=function(_e,et){for(var tt in this.data)this.data.hasOwnProperty(tt)&&_e.call(et,this.data[tt],tt)},$.prototype.keys=function(){return keys(this.data)},$.prototype.removeKey=function(_e){delete this.data[_e]},$}();function createHashMap($){return new HashMap($)}function concatArray($,_e){for(var et=new $.constructor($.length+_e.length),tt=0;tt<$.length;tt++)et[tt]=$[tt];for(var nt=$.length,tt=0;tt<_e.length;tt++)et[tt+nt]=_e[tt];return et}function createObject($,_e){var et;if(Object.create)et=Object.create($);else{var tt=function(){};tt.prototype=$,et=new tt}return _e&&extend(et,_e),et}function disableUserSelect($){var _e=$.style;_e.webkitUserSelect="none",_e.userSelect="none",_e.webkitTapHighlightColor="rgba(0,0,0,0)",_e["-webkit-touch-callout"]="none"}function hasOwn($,_e){return $.hasOwnProperty(_e)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2($,_e){return $==null&&($=0),_e==null&&(_e=0),[$,_e]}function copy$1($,_e){return $[0]=_e[0],$[1]=_e[1],$}function clone$3($){return[$[0],$[1]]}function set$1($,_e,et){return $[0]=_e,$[1]=et,$}function add($,_e,et){return $[0]=_e[0]+et[0],$[1]=_e[1]+et[1],$}function scaleAndAdd$1($,_e,et,tt){return $[0]=_e[0]+et[0]*tt,$[1]=_e[1]+et[1]*tt,$}function sub($,_e,et){return $[0]=_e[0]-et[0],$[1]=_e[1]-et[1],$}function len($){return Math.sqrt(lenSquare($))}function lenSquare($){return $[0]*$[0]+$[1]*$[1]}function scale$2($,_e,et){return $[0]=_e[0]*et,$[1]=_e[1]*et,$}function normalize$3($,_e){var et=len(_e);return et===0?($[0]=0,$[1]=0):($[0]=_e[0]/et,$[1]=_e[1]/et),$}function distance($,_e){return Math.sqrt(($[0]-_e[0])*($[0]-_e[0])+($[1]-_e[1])*($[1]-_e[1]))}var dist$1=distance;function distanceSquare($,_e){return($[0]-_e[0])*($[0]-_e[0])+($[1]-_e[1])*($[1]-_e[1])}var distSquare=distanceSquare;function lerp$1($,_e,et,tt){return $[0]=_e[0]+tt*(et[0]-_e[0]),$[1]=_e[1]+tt*(et[1]-_e[1]),$}function applyTransform$1($,_e,et){var tt=_e[0],nt=_e[1];return $[0]=et[0]*tt+et[2]*nt+et[4],$[1]=et[1]*tt+et[3]*nt+et[5],$}function min$1($,_e,et){return $[0]=Math.min(_e[0],et[0]),$[1]=Math.min(_e[1],et[1]),$}function max$1($,_e,et){return $[0]=Math.max(_e[0],et[0]),$[1]=Math.max(_e[1],et[1]),$}var Param=function(){function $(_e,et){this.target=_e,this.topTarget=et&&et.topTarget}return $}(),Draggable=function(){function $(_e){this.handler=_e,_e.on("mousedown",this._dragStart,this),_e.on("mousemove",this._drag,this),_e.on("mouseup",this._dragEnd,this)}return $.prototype._dragStart=function(_e){for(var et=_e.target;et&&!et.draggable;)et=et.parent||et.__hostTarget;et&&(this._draggingTarget=et,et.dragging=!0,this._x=_e.offsetX,this._y=_e.offsetY,this.handler.dispatchToElement(new Param(et,_e),"dragstart",_e.event))},$.prototype._drag=function(_e){var et=this._draggingTarget;if(et){var tt=_e.offsetX,nt=_e.offsetY,at=tt-this._x,ot=nt-this._y;this._x=tt,this._y=nt,et.drift(at,ot,_e),this.handler.dispatchToElement(new Param(et,_e),"drag",_e.event);var it=this.handler.findHover(tt,nt,et).target,st=this._dropTarget;this._dropTarget=it,et!==it&&(st&&it!==st&&this.handler.dispatchToElement(new Param(st,_e),"dragleave",_e.event),it&&it!==st&&this.handler.dispatchToElement(new Param(it,_e),"dragenter",_e.event))}},$.prototype._dragEnd=function(_e){var et=this._draggingTarget;et&&(et.dragging=!1),this.handler.dispatchToElement(new Param(et,_e),"dragend",_e.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,_e),"drop",_e.event),this._draggingTarget=null,this._dropTarget=null},$}(),Draggable$1=Draggable,Eventful=function(){function $(_e){_e&&(this._$eventProcessor=_e)}return $.prototype.on=function(_e,et,tt,nt){this._$handlers||(this._$handlers={});var at=this._$handlers;if(typeof et=="function"&&(nt=tt,tt=et,et=null),!tt||!_e)return this;var ot=this._$eventProcessor;et!=null&&ot&&ot.normalizeQuery&&(et=ot.normalizeQuery(et)),at[_e]||(at[_e]=[]);for(var it=0;it<at[_e].length;it++)if(at[_e][it].h===tt)return this;var st={h:tt,query:et,ctx:nt||this,callAtLast:tt.zrEventfulCallAtLast},ut=at[_e].length-1,ft=at[_e][ut];return ft&&ft.callAtLast?at[_e].splice(ut,0,st):at[_e].push(st),this},$.prototype.isSilent=function(_e){var et=this._$handlers;return!et||!et[_e]||!et[_e].length},$.prototype.off=function(_e,et){var tt=this._$handlers;if(!tt)return this;if(!_e)return this._$handlers={},this;if(et){if(tt[_e]){for(var nt=[],at=0,ot=tt[_e].length;at<ot;at++)tt[_e][at].h!==et&&nt.push(tt[_e][at]);tt[_e]=nt}tt[_e]&&tt[_e].length===0&&delete tt[_e]}else delete tt[_e];return this},$.prototype.trigger=function(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];if(!this._$handlers)return this;var nt=this._$handlers[_e],at=this._$eventProcessor;if(nt)for(var ot=et.length,it=nt.length,st=0;st<it;st++){var ut=nt[st];if(!(at&&at.filter&&ut.query!=null&&!at.filter(_e,ut.query)))switch(ot){case 0:ut.h.call(ut.ctx);break;case 1:ut.h.call(ut.ctx,et[0]);break;case 2:ut.h.call(ut.ctx,et[0],et[1]);break;default:ut.h.apply(ut.ctx,et);break}}return at&&at.afterTrigger&&at.afterTrigger(_e),this},$.prototype.triggerWithContext=function(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];if(!this._$handlers)return this;var nt=this._$handlers[_e],at=this._$eventProcessor;if(nt)for(var ot=et.length,it=et[ot-1],st=nt.length,ut=0;ut<st;ut++){var ft=nt[ut];if(!(at&&at.filter&&ft.query!=null&&!at.filter(_e,ft.query)))switch(ot){case 0:ft.h.call(it);break;case 1:ft.h.call(it,et[0]);break;case 2:ft.h.call(it,et[0],et[1]);break;default:ft.h.apply(it,et.slice(1,ot-1));break}}return at&&at.afterTrigger&&at.afterTrigger(_e),this},$}(),Eventful$1=Eventful,LN2=Math.log(2);function determinant($,_e,et,tt,nt,at){var ot=tt+"-"+nt,it=$.length;if(at.hasOwnProperty(ot))return at[ot];if(_e===1){var st=Math.round(Math.log((1<<it)-1&~nt)/LN2);return $[et][st]}for(var ut=tt|1<<et,ft=et+1;tt&1<<ft;)ft++;for(var dt=0,vt=0,gt=0;vt<it;vt++){var yt=1<<vt;yt&nt||(dt+=(gt%2?-1:1)*$[et][vt]*determinant($,_e-1,ft,ut,nt|yt,at),gt++)}return at[ot]=dt,dt}function buildTransformer($,_e){var et=[[$[0],$[1],1,0,0,0,-_e[0]*$[0],-_e[0]*$[1]],[0,0,0,$[0],$[1],1,-_e[1]*$[0],-_e[1]*$[1]],[$[2],$[3],1,0,0,0,-_e[2]*$[2],-_e[2]*$[3]],[0,0,0,$[2],$[3],1,-_e[3]*$[2],-_e[3]*$[3]],[$[4],$[5],1,0,0,0,-_e[4]*$[4],-_e[4]*$[5]],[0,0,0,$[4],$[5],1,-_e[5]*$[4],-_e[5]*$[5]],[$[6],$[7],1,0,0,0,-_e[6]*$[6],-_e[6]*$[7]],[0,0,0,$[6],$[7],1,-_e[7]*$[6],-_e[7]*$[7]]],tt={},nt=determinant(et,8,0,0,0,tt);if(nt!==0){for(var at=[],ot=0;ot<8;ot++)for(var it=0;it<8;it++)at[it]==null&&(at[it]=0),at[it]+=((ot+it)%2?-1:1)*determinant(et,7,ot===0?1:0,1<<ot,1<<it,tt)/nt*_e[ot];return function(st,ut,ft){var dt=ut*at[6]+ft*at[7]+1;st[0]=(ut*at[0]+ft*at[1]+at[2])/dt,st[1]=(ut*at[3]+ft*at[4]+at[5])/dt}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord($,_e,et,tt,nt){return transformCoordWithViewport(_calcOut$1,_e,tt,nt,!0)&&transformCoordWithViewport($,et,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport($,_e,et,tt,nt){if(_e.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(_e)){var at=_e[EVENT_SAVED_PROP]||(_e[EVENT_SAVED_PROP]={}),ot=prepareCoordMarkers(_e,at),it=preparePointerTransformer(ot,at,nt);if(it)return it($,et,tt),!0}return!1}function prepareCoordMarkers($,_e){var et=_e.markers;if(et)return et;et=_e.markers=[];for(var tt=["left","right"],nt=["top","bottom"],at=0;at<4;at++){var ot=document.createElement("div"),it=ot.style,st=at%2,ut=(at>>1)%2;it.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",tt[st]+":0",nt[ut]+":0",tt[1-st]+":auto",nt[1-ut]+":auto",""].join("!important;"),$.appendChild(ot),et.push(ot)}return et}function preparePointerTransformer($,_e,et){for(var tt=et?"invTrans":"trans",nt=_e[tt],at=_e.srcCoords,ot=[],it=[],st=!0,ut=0;ut<4;ut++){var ft=$[ut].getBoundingClientRect(),dt=2*ut,vt=ft.left,gt=ft.top;ot.push(vt,gt),st=st&&at&&vt===at[dt]&&gt===at[dt+1],it.push($[ut].offsetLeft,$[ut].offsetTop)}return st&&nt?nt:(_e.srcCoords=ot,_e[tt]=et?buildTransformer(it,ot):buildTransformer(ot,it))}function isCanvasEl($){return $.nodeName.toUpperCase()==="CANVAS"}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal($,_e,et,tt){return et=et||{},tt?calculateZrXY($,_e,et):firefoxNotSupportOffsetXY&&_e.layerX!=null&&_e.layerX!==_e.offsetX?(et.zrX=_e.layerX,et.zrY=_e.layerY):_e.offsetX!=null?(et.zrX=_e.offsetX,et.zrY=_e.offsetY):calculateZrXY($,_e,et),et}function calculateZrXY($,_e,et){if(env$1.domSupported&&$.getBoundingClientRect){var tt=_e.clientX,nt=_e.clientY;if(isCanvasEl($)){var at=$.getBoundingClientRect();et.zrX=tt-at.left,et.zrY=nt-at.top;return}else if(transformCoordWithViewport(_calcOut,$,tt,nt)){et.zrX=_calcOut[0],et.zrY=_calcOut[1];return}}et.zrX=et.zrY=0}function getNativeEvent($){return $||window.event}function normalizeEvent($,_e,et){if(_e=getNativeEvent(_e),_e.zrX!=null)return _e;var tt=_e.type,nt=tt&&tt.indexOf("touch")>=0;if(nt){var ot=tt!=="touchend"?_e.targetTouches[0]:_e.changedTouches[0];ot&&clientToLocal($,ot,_e,et)}else{clientToLocal($,_e,_e,et);var at=getWheelDeltaMayPolyfill(_e);_e.zrDelta=at?at/120:-(_e.detail||0)/3}var it=_e.button;return _e.which==null&&it!==void 0&&MOUSE_EVENT_REG.test(_e.type)&&(_e.which=it&1?1:it&2?3:it&4?2:0),_e}function getWheelDeltaMayPolyfill($){var _e=$.wheelDelta;if(_e)return _e;var et=$.deltaX,tt=$.deltaY;if(et==null||tt==null)return _e;var nt=Math.abs(tt!==0?tt:et),at=tt>0?-1:tt<0?1:et>0?-1:1;return 3*nt*at}function addEventListener$1($,_e,et,tt){$.addEventListener(_e,et,tt)}function removeEventListener$1($,_e,et,tt){$.removeEventListener(_e,et,tt)}var stop=function($){$.preventDefault(),$.stopPropagation(),$.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown($){return $.which===2||$.which===3}var GestureMgr=function(){function $(){this._track=[]}return $.prototype.recognize=function(_e,et,tt){return this._doTrack(_e,et,tt),this._recognize(_e)},$.prototype.clear=function(){return this._track.length=0,this},$.prototype._doTrack=function(_e,et,tt){var nt=_e.touches;if(!!nt){for(var at={points:[],touches:[],target:et,event:_e},ot=0,it=nt.length;ot<it;ot++){var st=nt[ot],ut=clientToLocal(tt,st,{});at.points.push([ut.zrX,ut.zrY]),at.touches.push(st)}this._track.push(at)}},$.prototype._recognize=function(_e){for(var et in recognizers)if(recognizers.hasOwnProperty(et)){var tt=recognizers[et](this._track,_e);if(tt)return tt}},$}();function dist($){var _e=$[1][0]-$[0][0],et=$[1][1]-$[0][1];return Math.sqrt(_e*_e+et*et)}function center$1($){return[($[0][0]+$[1][0])/2,($[0][1]+$[1][1])/2]}var recognizers={pinch:function($,_e){var et=$.length;if(!!et){var tt=($[et-1]||{}).points,nt=($[et-2]||{}).points||tt;if(nt&&nt.length>1&&tt&&tt.length>1){var at=dist(tt)/dist(nt);!isFinite(at)&&(at=1),_e.pinchScale=at;var ot=center$1(tt);return _e.pinchX=ot[0],_e.pinchY=ot[1],{type:"pinch",target:$[0].target,event:_e}}}}},SILENT="silent";function makeEventPacket($,_e,et){return{type:$,event:et,target:_e.target,topTarget:_e.topTarget,cancelBubble:!1,offsetX:et.zrX,offsetY:et.zrY,gestureEvent:et.gestureEvent,pinchX:et.pinchX,pinchY:et.pinchY,pinchScale:et.pinchScale,wheelDelta:et.zrDelta,zrByTouch:et.zrByTouch,which:et.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.handler=null,et}return _e.prototype.dispose=function(){},_e.prototype.setCursor=function(){},_e}(Eventful$1),HoveredResult=function(){function $(_e,et){this.x=_e,this.y=et}return $}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Handler=function($){__extends(_e,$);function _e(et,tt,nt,at){var ot=$.call(this)||this;return ot._hovered=new HoveredResult(0,0),ot.storage=et,ot.painter=tt,ot.painterRoot=at,nt=nt||new EmptyProxy,ot.proxy=null,ot.setHandlerProxy(nt),ot._draggingMgr=new Draggable$1(ot),ot}return _e.prototype.setHandlerProxy=function(et){this.proxy&&this.proxy.dispose(),et&&(each$f(handlerNames,function(tt){et.on&&et.on(tt,this[tt],this)},this),et.handler=this),this.proxy=et},_e.prototype.mousemove=function(et){var tt=et.zrX,nt=et.zrY,at=isOutsideBoundary(this,tt,nt),ot=this._hovered,it=ot.target;it&&!it.__zr&&(ot=this.findHover(ot.x,ot.y),it=ot.target);var st=this._hovered=at?new HoveredResult(tt,nt):this.findHover(tt,nt),ut=st.target,ft=this.proxy;ft.setCursor&&ft.setCursor(ut?ut.cursor:"default"),it&&ut!==it&&this.dispatchToElement(ot,"mouseout",et),this.dispatchToElement(st,"mousemove",et),ut&&ut!==it&&this.dispatchToElement(st,"mouseover",et)},_e.prototype.mouseout=function(et){var tt=et.zrEventControl;tt!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",et),tt!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:et})},_e.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},_e.prototype.dispatch=function(et,tt){var nt=this[et];nt&&nt.call(this,tt)},_e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},_e.prototype.setCursorStyle=function(et){var tt=this.proxy;tt.setCursor&&tt.setCursor(et)},_e.prototype.dispatchToElement=function(et,tt,nt){et=et||{};var at=et.target;if(!(at&&at.silent)){for(var ot="on"+tt,it=makeEventPacket(tt,et,nt);at&&(at[ot]&&(it.cancelBubble=!!at[ot].call(at,it)),at.trigger(tt,it),at=at.__hostTarget?at.__hostTarget:at.parent,!it.cancelBubble););it.cancelBubble||(this.trigger(tt,it),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(st){typeof st[ot]=="function"&&st[ot].call(st,it),st.trigger&&st.trigger(tt,it)}))}},_e.prototype.findHover=function(et,tt,nt){for(var at=this.storage.getDisplayList(),ot=new HoveredResult(et,tt),it=at.length-1;it>=0;it--){var st=void 0;if(at[it]!==nt&&!at[it].ignore&&(st=isHover(at[it],et,tt))&&(!ot.topTarget&&(ot.topTarget=at[it]),st!==SILENT)){ot.target=at[it];break}}return ot},_e.prototype.processGesture=function(et,tt){this._gestureMgr||(this._gestureMgr=new GestureMgr);var nt=this._gestureMgr;tt==="start"&&nt.clear();var at=nt.recognize(et,this.findHover(et.zrX,et.zrY,null).target,this.proxy.dom);if(tt==="end"&&nt.clear(),at){var ot=at.type;et.gestureEvent=ot;var it=new HoveredResult;it.target=at.target,this.dispatchToElement(it,ot,at.event)}},_e}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function($){Handler.prototype[$]=function(_e){var et=_e.zrX,tt=_e.zrY,nt=isOutsideBoundary(this,et,tt),at,ot;if(($!=="mouseup"||!nt)&&(at=this.findHover(et,tt),ot=at.target),$==="mousedown")this._downEl=ot,this._downPoint=[_e.zrX,_e.zrY],this._upEl=ot;else if($==="mouseup")this._upEl=ot;else if($==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[_e.zrX,_e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(at,$,_e)}});function isHover($,_e,et){if($[$.rectHover?"rectContain":"contain"](_e,et)){for(var tt=$,nt=void 0,at=!1;tt;){if(tt.ignoreClip&&(at=!0),!at){var ot=tt.getClipPath();if(ot&&!ot.contain(_e,et))return!1;tt.silent&&(nt=!0)}var it=tt.__hostTarget;tt=it||tt.parent}return nt?SILENT:!0}return!1}function isOutsideBoundary($,_e,et){var tt=$.painter;return _e<0||_e>tt.getWidth()||et<0||et>tt.getHeight()}var Handler$1=Handler,DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength($){for(var _e=0;$>=DEFAULT_MIN_MERGE;)_e|=$&1,$>>=1;return $+_e}function makeAscendingRun($,_e,et,tt){var nt=_e+1;if(nt===et)return 1;if(tt($[nt++],$[_e])<0){for(;nt<et&&tt($[nt],$[nt-1])<0;)nt++;reverseRun($,_e,nt)}else for(;nt<et&&tt($[nt],$[nt-1])>=0;)nt++;return nt-_e}function reverseRun($,_e,et){for(et--;_e<et;){var tt=$[_e];$[_e++]=$[et],$[et--]=tt}}function binaryInsertionSort($,_e,et,tt,nt){for(tt===_e&&tt++;tt<et;tt++){for(var at=$[tt],ot=_e,it=tt,st;ot<it;)st=ot+it>>>1,nt(at,$[st])<0?it=st:ot=st+1;var ut=tt-ot;switch(ut){case 3:$[ot+3]=$[ot+2];case 2:$[ot+2]=$[ot+1];case 1:$[ot+1]=$[ot];break;default:for(;ut>0;)$[ot+ut]=$[ot+ut-1],ut--}$[ot]=at}}function gallopLeft($,_e,et,tt,nt,at){var ot=0,it=0,st=1;if(at($,_e[et+nt])>0){for(it=tt-nt;st<it&&at($,_e[et+nt+st])>0;)ot=st,st=(st<<1)+1,st<=0&&(st=it);st>it&&(st=it),ot+=nt,st+=nt}else{for(it=nt+1;st<it&&at($,_e[et+nt-st])<=0;)ot=st,st=(st<<1)+1,st<=0&&(st=it);st>it&&(st=it);var ut=ot;ot=nt-st,st=nt-ut}for(ot++;ot<st;){var ft=ot+(st-ot>>>1);at($,_e[et+ft])>0?ot=ft+1:st=ft}return st}function gallopRight($,_e,et,tt,nt,at){var ot=0,it=0,st=1;if(at($,_e[et+nt])<0){for(it=nt+1;st<it&&at($,_e[et+nt-st])<0;)ot=st,st=(st<<1)+1,st<=0&&(st=it);st>it&&(st=it);var ut=ot;ot=nt-st,st=nt-ut}else{for(it=tt-nt;st<it&&at($,_e[et+nt+st])>=0;)ot=st,st=(st<<1)+1,st<=0&&(st=it);st>it&&(st=it),ot+=nt,st+=nt}for(ot++;ot<st;){var ft=ot+(st-ot>>>1);at($,_e[et+ft])<0?st=ft:ot=ft+1}return st}function TimSort($,_e){var et=DEFAULT_MIN_GALLOPING,tt,nt,at=0;$.length;var ot=[];tt=[],nt=[];function it(gt,yt){tt[at]=gt,nt[at]=yt,at+=1}function st(){for(;at>1;){var gt=at-2;if(gt>=1&&nt[gt-1]<=nt[gt]+nt[gt+1]||gt>=2&&nt[gt-2]<=nt[gt]+nt[gt-1])nt[gt-1]<nt[gt+1]&&gt--;else if(nt[gt]>nt[gt+1])break;ft(gt)}}function ut(){for(;at>1;){var gt=at-2;gt>0&&nt[gt-1]<nt[gt+1]&&gt--,ft(gt)}}function ft(gt){var yt=tt[gt],xt=nt[gt],Ct=tt[gt+1],wt=nt[gt+1];nt[gt]=xt+wt,gt===at-3&&(tt[gt+1]=tt[gt+2],nt[gt+1]=nt[gt+2]),at--;var Et=gallopRight($[Ct],$,yt,xt,0,_e);yt+=Et,xt-=Et,xt!==0&&(wt=gallopLeft($[yt+xt-1],$,Ct,wt,wt-1,_e),wt!==0&&(xt<=wt?dt(yt,xt,Ct,wt):vt(yt,xt,Ct,wt)))}function dt(gt,yt,xt,Ct){var wt=0;for(wt=0;wt<yt;wt++)ot[wt]=$[gt+wt];var Et=0,$t=xt,It=gt;if($[It++]=$[$t++],--Ct===0){for(wt=0;wt<yt;wt++)$[It+wt]=ot[Et+wt];return}if(yt===1){for(wt=0;wt<Ct;wt++)$[It+wt]=$[$t+wt];$[It+Ct]=ot[Et];return}for(var Ot=et,Lt,Ft,zt;;){Lt=0,Ft=0,zt=!1;do if(_e($[$t],ot[Et])<0){if($[It++]=$[$t++],Ft++,Lt=0,--Ct===0){zt=!0;break}}else if($[It++]=ot[Et++],Lt++,Ft=0,--yt===1){zt=!0;break}while((Lt|Ft)<Ot);if(zt)break;do{if(Lt=gallopRight($[$t],ot,Et,yt,0,_e),Lt!==0){for(wt=0;wt<Lt;wt++)$[It+wt]=ot[Et+wt];if(It+=Lt,Et+=Lt,yt-=Lt,yt<=1){zt=!0;break}}if($[It++]=$[$t++],--Ct===0){zt=!0;break}if(Ft=gallopLeft(ot[Et],$,$t,Ct,0,_e),Ft!==0){for(wt=0;wt<Ft;wt++)$[It+wt]=$[$t+wt];if(It+=Ft,$t+=Ft,Ct-=Ft,Ct===0){zt=!0;break}}if($[It++]=ot[Et++],--yt===1){zt=!0;break}Ot--}while(Lt>=DEFAULT_MIN_GALLOPING||Ft>=DEFAULT_MIN_GALLOPING);if(zt)break;Ot<0&&(Ot=0),Ot+=2}if(et=Ot,et<1&&(et=1),yt===1){for(wt=0;wt<Ct;wt++)$[It+wt]=$[$t+wt];$[It+Ct]=ot[Et]}else{if(yt===0)throw new Error;for(wt=0;wt<yt;wt++)$[It+wt]=ot[Et+wt]}}function vt(gt,yt,xt,Ct){var wt=0;for(wt=0;wt<Ct;wt++)ot[wt]=$[xt+wt];var Et=gt+yt-1,$t=Ct-1,It=xt+Ct-1,Ot=0,Lt=0;if($[It--]=$[Et--],--yt===0){for(Ot=It-(Ct-1),wt=0;wt<Ct;wt++)$[Ot+wt]=ot[wt];return}if(Ct===1){for(It-=yt,Et-=yt,Lt=It+1,Ot=Et+1,wt=yt-1;wt>=0;wt--)$[Lt+wt]=$[Ot+wt];$[It]=ot[$t];return}for(var Ft=et;;){var zt=0,Gt=0,jt=!1;do if(_e(ot[$t],$[Et])<0){if($[It--]=$[Et--],zt++,Gt=0,--yt===0){jt=!0;break}}else if($[It--]=ot[$t--],Gt++,zt=0,--Ct===1){jt=!0;break}while((zt|Gt)<Ft);if(jt)break;do{if(zt=yt-gallopRight(ot[$t],$,gt,yt,yt-1,_e),zt!==0){for(It-=zt,Et-=zt,yt-=zt,Lt=It+1,Ot=Et+1,wt=zt-1;wt>=0;wt--)$[Lt+wt]=$[Ot+wt];if(yt===0){jt=!0;break}}if($[It--]=ot[$t--],--Ct===1){jt=!0;break}if(Gt=Ct-gallopLeft($[Et],ot,0,Ct,Ct-1,_e),Gt!==0){for(It-=Gt,$t-=Gt,Ct-=Gt,Lt=It+1,Ot=$t+1,wt=0;wt<Gt;wt++)$[Lt+wt]=ot[Ot+wt];if(Ct<=1){jt=!0;break}}if($[It--]=$[Et--],--yt===0){jt=!0;break}Ft--}while(zt>=DEFAULT_MIN_GALLOPING||Gt>=DEFAULT_MIN_GALLOPING);if(jt)break;Ft<0&&(Ft=0),Ft+=2}if(et=Ft,et<1&&(et=1),Ct===1){for(It-=yt,Et-=yt,Lt=It+1,Ot=Et+1,wt=yt-1;wt>=0;wt--)$[Lt+wt]=$[Ot+wt];$[It]=ot[$t]}else{if(Ct===0)throw new Error;for(Ot=It-(Ct-1),wt=0;wt<Ct;wt++)$[Ot+wt]=ot[wt]}}return{mergeRuns:st,forceMergeRuns:ut,pushRun:it}}function sort$2($,_e,et,tt){et||(et=0),tt||(tt=$.length);var nt=tt-et;if(!(nt<2)){var at=0;if(nt<DEFAULT_MIN_MERGE){at=makeAscendingRun($,et,tt,_e),binaryInsertionSort($,et,tt,et+at,_e);return}var ot=TimSort($,_e),it=minRunLength(nt);do{if(at=makeAscendingRun($,et,tt,_e),at<it){var st=nt;st>it&&(st=it),binaryInsertionSort($,et,et+st,et+at,_e),at=st}ot.pushRun(et,at),ot.mergeRuns(),nt-=at,et+=at}while(nt!==0);ot.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc($,_e){return $.zlevel===_e.zlevel?$.z===_e.z?$.z2-_e.z2:$.z-_e.z:$.zlevel-_e.zlevel}var Storage=function(){function $(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return $.prototype.traverse=function(_e,et){for(var tt=0;tt<this._roots.length;tt++)this._roots[tt].traverse(_e,et)},$.prototype.getDisplayList=function(_e,et){et=et||!1;var tt=this._displayList;return(_e||!tt.length)&&this.updateDisplayList(et),tt},$.prototype.updateDisplayList=function(_e){this._displayListLen=0;for(var et=this._roots,tt=this._displayList,nt=0,at=et.length;nt<at;nt++)this._updateAndAddDisplayable(et[nt],null,_e);tt.length=this._displayListLen,sort$2(tt,shapeCompareFunc)},$.prototype._updateAndAddDisplayable=function(_e,et,tt){if(!(_e.ignore&&!tt)){_e.beforeUpdate(),_e.update(),_e.afterUpdate();var nt=_e.getClipPath();if(_e.ignoreClip)et=null;else if(nt){et?et=et.slice():et=[];for(var at=nt,ot=_e;at;)at.parent=ot,at.updateTransform(),et.push(at),ot=at,at=at.getClipPath()}if(_e.childrenRef){for(var it=_e.childrenRef(),st=0;st<it.length;st++){var ut=it[st];_e.__dirty&&(ut.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(ut,et,tt)}_e.__dirty=0}else{var ft=_e;et&&et.length?ft.__clipPaths=et:ft.__clipPaths&&ft.__clipPaths.length>0&&(ft.__clipPaths=[]),isNaN(ft.z)&&(logInvalidZError(),ft.z=0),isNaN(ft.z2)&&(logInvalidZError(),ft.z2=0),isNaN(ft.zlevel)&&(logInvalidZError(),ft.zlevel=0),this._displayList[this._displayListLen++]=ft}var dt=_e.getDecalElement&&_e.getDecalElement();dt&&this._updateAndAddDisplayable(dt,et,tt);var vt=_e.getTextGuideLine();vt&&this._updateAndAddDisplayable(vt,et,tt);var gt=_e.getTextContent();gt&&this._updateAndAddDisplayable(gt,et,tt)}},$.prototype.addRoot=function(_e){_e.__zr&&_e.__zr.storage===this||this._roots.push(_e)},$.prototype.delRoot=function(_e){if(_e instanceof Array){for(var et=0,tt=_e.length;et<tt;et++)this.delRoot(_e[et]);return}var nt=indexOf(this._roots,_e);nt>=0&&this._roots.splice(nt,1)},$.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},$.prototype.getRoots=function(){return this._roots},$.prototype.dispose=function(){this._displayList=null,this._roots=null},$}(),Storage$1=Storage,requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function($){return setTimeout($,16)};var requestAnimationFrame$2=requestAnimationFrame$1,easingFuncs={linear:function($){return $},quadraticIn:function($){return $*$},quadraticOut:function($){return $*(2-$)},quadraticInOut:function($){return($*=2)<1?.5*$*$:-.5*(--$*($-2)-1)},cubicIn:function($){return $*$*$},cubicOut:function($){return--$*$*$+1},cubicInOut:function($){return($*=2)<1?.5*$*$*$:.5*(($-=2)*$*$+2)},quarticIn:function($){return $*$*$*$},quarticOut:function($){return 1- --$*$*$*$},quarticInOut:function($){return($*=2)<1?.5*$*$*$*$:-.5*(($-=2)*$*$*$-2)},quinticIn:function($){return $*$*$*$*$},quinticOut:function($){return--$*$*$*$*$+1},quinticInOut:function($){return($*=2)<1?.5*$*$*$*$*$:.5*(($-=2)*$*$*$*$+2)},sinusoidalIn:function($){return 1-Math.cos($*Math.PI/2)},sinusoidalOut:function($){return Math.sin($*Math.PI/2)},sinusoidalInOut:function($){return .5*(1-Math.cos(Math.PI*$))},exponentialIn:function($){return $===0?0:Math.pow(1024,$-1)},exponentialOut:function($){return $===1?1:1-Math.pow(2,-10*$)},exponentialInOut:function($){return $===0?0:$===1?1:($*=2)<1?.5*Math.pow(1024,$-1):.5*(-Math.pow(2,-10*($-1))+2)},circularIn:function($){return 1-Math.sqrt(1-$*$)},circularOut:function($){return Math.sqrt(1- --$*$)},circularInOut:function($){return($*=2)<1?-.5*(Math.sqrt(1-$*$)-1):.5*(Math.sqrt(1-($-=2)*$)+1)},elasticIn:function($){var _e,et=.1,tt=.4;return $===0?0:$===1?1:(!et||et<1?(et=1,_e=tt/4):_e=tt*Math.asin(1/et)/(2*Math.PI),-(et*Math.pow(2,10*($-=1))*Math.sin(($-_e)*(2*Math.PI)/tt)))},elasticOut:function($){var _e,et=.1,tt=.4;return $===0?0:$===1?1:(!et||et<1?(et=1,_e=tt/4):_e=tt*Math.asin(1/et)/(2*Math.PI),et*Math.pow(2,-10*$)*Math.sin(($-_e)*(2*Math.PI)/tt)+1)},elasticInOut:function($){var _e,et=.1,tt=.4;return $===0?0:$===1?1:(!et||et<1?(et=1,_e=tt/4):_e=tt*Math.asin(1/et)/(2*Math.PI),($*=2)<1?-.5*(et*Math.pow(2,10*($-=1))*Math.sin(($-_e)*(2*Math.PI)/tt)):et*Math.pow(2,-10*($-=1))*Math.sin(($-_e)*(2*Math.PI)/tt)*.5+1)},backIn:function($){var _e=1.70158;return $*$*((_e+1)*$-_e)},backOut:function($){var _e=1.70158;return--$*$*((_e+1)*$+_e)+1},backInOut:function($){var _e=2.5949095;return($*=2)<1?.5*($*$*((_e+1)*$-_e)):.5*(($-=2)*$*((_e+1)*$+_e)+2)},bounceIn:function($){return 1-easingFuncs.bounceOut(1-$)},bounceOut:function($){return $<1/2.75?7.5625*$*$:$<2/2.75?7.5625*($-=1.5/2.75)*$+.75:$<2.5/2.75?7.5625*($-=2.25/2.75)*$+.9375:7.5625*($-=2.625/2.75)*$+.984375},bounceInOut:function($){return $<.5?easingFuncs.bounceIn($*2)*.5:easingFuncs.bounceOut($*2-1)*.5+.5}},easingFuncs$1=easingFuncs,mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1($){return $>-EPSILON$4&&$<EPSILON$4}function isNotAroundZero$1($){return $>EPSILON$4||$<-EPSILON$4}function cubicAt($,_e,et,tt,nt){var at=1-nt;return at*at*(at*$+3*nt*_e)+nt*nt*(nt*tt+3*at*et)}function cubicDerivativeAt($,_e,et,tt,nt){var at=1-nt;return 3*(((_e-$)*at+2*(et-_e)*nt)*at+(tt-et)*nt*nt)}function cubicRootAt($,_e,et,tt,nt,at){var ot=tt+3*(_e-et)-$,it=3*(et-_e*2+$),st=3*(_e-$),ut=$-nt,ft=it*it-3*ot*st,dt=it*st-9*ot*ut,vt=st*st-3*it*ut,gt=0;if(isAroundZero$1(ft)&&isAroundZero$1(dt))if(isAroundZero$1(it))at[0]=0;else{var yt=-st/it;yt>=0&&yt<=1&&(at[gt++]=yt)}else{var xt=dt*dt-4*ft*vt;if(isAroundZero$1(xt)){var Ct=dt/ft,yt=-it/ot+Ct,wt=-Ct/2;yt>=0&&yt<=1&&(at[gt++]=yt),wt>=0&&wt<=1&&(at[gt++]=wt)}else if(xt>0){var Et=mathSqrt$3(xt),$t=ft*it+1.5*ot*(-dt+Et),It=ft*it+1.5*ot*(-dt-Et);$t<0?$t=-mathPow$2(-$t,ONE_THIRD):$t=mathPow$2($t,ONE_THIRD),It<0?It=-mathPow$2(-It,ONE_THIRD):It=mathPow$2(It,ONE_THIRD);var yt=(-it-($t+It))/(3*ot);yt>=0&&yt<=1&&(at[gt++]=yt)}else{var Ot=(2*ft*it-3*ot*dt)/(2*mathSqrt$3(ft*ft*ft)),Lt=Math.acos(Ot)/3,Ft=mathSqrt$3(ft),zt=Math.cos(Lt),yt=(-it-2*Ft*zt)/(3*ot),wt=(-it+Ft*(zt+THREE_SQRT*Math.sin(Lt)))/(3*ot),Gt=(-it+Ft*(zt-THREE_SQRT*Math.sin(Lt)))/(3*ot);yt>=0&&yt<=1&&(at[gt++]=yt),wt>=0&&wt<=1&&(at[gt++]=wt),Gt>=0&&Gt<=1&&(at[gt++]=Gt)}}return gt}function cubicExtrema($,_e,et,tt,nt){var at=6*et-12*_e+6*$,ot=9*_e+3*tt-3*$-9*et,it=3*_e-3*$,st=0;if(isAroundZero$1(ot)){if(isNotAroundZero$1(at)){var ut=-it/at;ut>=0&&ut<=1&&(nt[st++]=ut)}}else{var ft=at*at-4*ot*it;if(isAroundZero$1(ft))nt[0]=-at/(2*ot);else if(ft>0){var dt=mathSqrt$3(ft),ut=(-at+dt)/(2*ot),vt=(-at-dt)/(2*ot);ut>=0&&ut<=1&&(nt[st++]=ut),vt>=0&&vt<=1&&(nt[st++]=vt)}}return st}function cubicSubdivide($,_e,et,tt,nt,at){var ot=(_e-$)*nt+$,it=(et-_e)*nt+_e,st=(tt-et)*nt+et,ut=(it-ot)*nt+ot,ft=(st-it)*nt+it,dt=(ft-ut)*nt+ut;at[0]=$,at[1]=ot,at[2]=ut,at[3]=dt,at[4]=dt,at[5]=ft,at[6]=st,at[7]=tt}function cubicProjectPoint($,_e,et,tt,nt,at,ot,it,st,ut,ft){var dt,vt=.005,gt=1/0,yt,xt,Ct,wt;_v0[0]=st,_v0[1]=ut;for(var Et=0;Et<1;Et+=.05)_v1[0]=cubicAt($,et,nt,ot,Et),_v1[1]=cubicAt(_e,tt,at,it,Et),Ct=distSquare(_v0,_v1),Ct<gt&&(dt=Et,gt=Ct);gt=1/0;for(var $t=0;$t<32&&!(vt<EPSILON_NUMERIC);$t++)yt=dt-vt,xt=dt+vt,_v1[0]=cubicAt($,et,nt,ot,yt),_v1[1]=cubicAt(_e,tt,at,it,yt),Ct=distSquare(_v1,_v0),yt>=0&&Ct<gt?(dt=yt,gt=Ct):(_v2[0]=cubicAt($,et,nt,ot,xt),_v2[1]=cubicAt(_e,tt,at,it,xt),wt=distSquare(_v2,_v0),xt<=1&&wt<gt?(dt=xt,gt=wt):vt*=.5);return ft&&(ft[0]=cubicAt($,et,nt,ot,dt),ft[1]=cubicAt(_e,tt,at,it,dt)),mathSqrt$3(gt)}function cubicLength($,_e,et,tt,nt,at,ot,it,st){for(var ut=$,ft=_e,dt=0,vt=1/st,gt=1;gt<=st;gt++){var yt=gt*vt,xt=cubicAt($,et,nt,ot,yt),Ct=cubicAt(_e,tt,at,it,yt),wt=xt-ut,Et=Ct-ft;dt+=Math.sqrt(wt*wt+Et*Et),ut=xt,ft=Ct}return dt}function quadraticAt$1($,_e,et,tt){var nt=1-tt;return nt*(nt*$+2*tt*_e)+tt*tt*et}function quadraticDerivativeAt($,_e,et,tt){return 2*((1-tt)*(_e-$)+tt*(et-_e))}function quadraticRootAt($,_e,et,tt,nt){var at=$-2*_e+et,ot=2*(_e-$),it=$-tt,st=0;if(isAroundZero$1(at)){if(isNotAroundZero$1(ot)){var ut=-it/ot;ut>=0&&ut<=1&&(nt[st++]=ut)}}else{var ft=ot*ot-4*at*it;if(isAroundZero$1(ft)){var ut=-ot/(2*at);ut>=0&&ut<=1&&(nt[st++]=ut)}else if(ft>0){var dt=mathSqrt$3(ft),ut=(-ot+dt)/(2*at),vt=(-ot-dt)/(2*at);ut>=0&&ut<=1&&(nt[st++]=ut),vt>=0&&vt<=1&&(nt[st++]=vt)}}return st}function quadraticExtremum($,_e,et){var tt=$+et-2*_e;return tt===0?.5:($-_e)/tt}function quadraticSubdivide($,_e,et,tt,nt){var at=(_e-$)*tt+$,ot=(et-_e)*tt+_e,it=(ot-at)*tt+at;nt[0]=$,nt[1]=at,nt[2]=it,nt[3]=it,nt[4]=ot,nt[5]=et}function quadraticProjectPoint($,_e,et,tt,nt,at,ot,it,st){var ut,ft=.005,dt=1/0;_v0[0]=ot,_v0[1]=it;for(var vt=0;vt<1;vt+=.05){_v1[0]=quadraticAt$1($,et,nt,vt),_v1[1]=quadraticAt$1(_e,tt,at,vt);var gt=distSquare(_v0,_v1);gt<dt&&(ut=vt,dt=gt)}dt=1/0;for(var yt=0;yt<32&&!(ft<EPSILON_NUMERIC);yt++){var xt=ut-ft,Ct=ut+ft;_v1[0]=quadraticAt$1($,et,nt,xt),_v1[1]=quadraticAt$1(_e,tt,at,xt);var gt=distSquare(_v1,_v0);if(xt>=0&&gt<dt)ut=xt,dt=gt;else{_v2[0]=quadraticAt$1($,et,nt,Ct),_v2[1]=quadraticAt$1(_e,tt,at,Ct);var wt=distSquare(_v2,_v0);Ct<=1&&wt<dt?(ut=Ct,dt=wt):ft*=.5}}return st&&(st[0]=quadraticAt$1($,et,nt,ut),st[1]=quadraticAt$1(_e,tt,at,ut)),mathSqrt$3(dt)}function quadraticLength($,_e,et,tt,nt,at,ot){for(var it=$,st=_e,ut=0,ft=1/ot,dt=1;dt<=ot;dt++){var vt=dt*ft,gt=quadraticAt$1($,et,nt,vt),yt=quadraticAt$1(_e,tt,at,vt),xt=gt-it,Ct=yt-st;ut+=Math.sqrt(xt*xt+Ct*Ct),it=gt,st=yt}return ut}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc($){var _e=$&&regexp.exec($);if(_e){var et=_e[1].split(","),tt=+trim$1(et[0]),nt=+trim$1(et[1]),at=+trim$1(et[2]),ot=+trim$1(et[3]);if(isNaN(tt+nt+at+ot))return;var it=[];return function(st){return st<=0?0:st>=1?1:cubicRootAt(0,tt,at,1,st,it)&&cubicAt(0,nt,ot,1,it[0])}}}var Clip=function(){function $(_e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=_e.life||1e3,this._delay=_e.delay||0,this.loop=_e.loop||!1,this.onframe=_e.onframe||noop,this.ondestroy=_e.ondestroy||noop,this.onrestart=_e.onrestart||noop,_e.easing&&this.setEasing(_e.easing)}return $.prototype.step=function(_e,et){if(this._inited||(this._startTime=_e+this._delay,this._inited=!0),this._paused){this._pausedTime+=et;return}var tt=this._life,nt=_e-this._startTime-this._pausedTime,at=nt/tt;at<0&&(at=0),at=Math.min(at,1);var ot=this.easingFunc,it=ot?ot(at):at;if(this.onframe(it),at===1)if(this.loop){var st=nt%tt;this._startTime=_e-st,this._pausedTime=0,this.onrestart()}else return!0;return!1},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){this._paused=!1},$.prototype.setEasing=function(_e){this.easing=_e,this.easingFunc=isFunction(_e)?_e:easingFuncs$1[_e]||createCubicEasingFunc(_e)},$}(),Clip$1=Clip,Entry=function(){function $(_e){this.value=_e}return $}(),LinkedList=function(){function $(){this._len=0}return $.prototype.insert=function(_e){var et=new Entry(_e);return this.insertEntry(et),et},$.prototype.insertEntry=function(_e){this.head?(this.tail.next=_e,_e.prev=this.tail,_e.next=null,this.tail=_e):this.head=this.tail=_e,this._len++},$.prototype.remove=function(_e){var et=_e.prev,tt=_e.next;et?et.next=tt:this.head=tt,tt?tt.prev=et:this.tail=et,_e.next=_e.prev=null,this._len--},$.prototype.len=function(){return this._len},$.prototype.clear=function(){this.head=this.tail=null,this._len=0},$}(),LRU=function(){function $(_e){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=_e}return $.prototype.put=function(_e,et){var tt=this._list,nt=this._map,at=null;if(nt[_e]==null){var ot=tt.len(),it=this._lastRemovedEntry;if(ot>=this._maxSize&&ot>0){var st=tt.head;tt.remove(st),delete nt[st.key],at=st.value,this._lastRemovedEntry=st}it?it.value=et:it=new Entry(et),it.key=_e,tt.insertEntry(it),nt[_e]=it}return at},$.prototype.get=function(_e){var et=this._map[_e],tt=this._list;if(et!=null)return et!==tt.tail&&(tt.remove(et),tt.insertEntry(et)),et.value},$.prototype.clear=function(){this._list.clear(),this._map={}},$.prototype.len=function(){return this._list.len()},$}(),LRU$1=LRU,kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte($){return $=Math.round($),$<0?0:$>255?255:$}function clampCssAngle($){return $=Math.round($),$<0?0:$>360?360:$}function clampCssFloat($){return $<0?0:$>1?1:$}function parseCssInt($){var _e=$;return _e.length&&_e.charAt(_e.length-1)==="%"?clampCssByte(parseFloat(_e)/100*255):clampCssByte(parseInt(_e,10))}function parseCssFloat($){var _e=$;return _e.length&&_e.charAt(_e.length-1)==="%"?clampCssFloat(parseFloat(_e)/100):clampCssFloat(parseFloat(_e))}function cssHueToRgb($,_e,et){return et<0?et+=1:et>1&&(et-=1),et*6<1?$+(_e-$)*et*6:et*2<1?_e:et*3<2?$+(_e-$)*(2/3-et)*6:$}function lerpNumber($,_e,et){return $+(_e-$)*et}function setRgba($,_e,et,tt,nt){return $[0]=_e,$[1]=et,$[2]=tt,$[3]=nt,$}function copyRgba($,_e){return $[0]=_e[0],$[1]=_e[1],$[2]=_e[2],$[3]=_e[3],$}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache($,_e){lastRemovedArr&&copyRgba(lastRemovedArr,_e),lastRemovedArr=colorCache.put($,lastRemovedArr||_e.slice())}function parse($,_e){if(!!$){_e=_e||[];var et=colorCache.get($);if(et)return copyRgba(_e,et);$=$+"";var tt=$.replace(/ /g,"").toLowerCase();if(tt in kCSSColorTable)return copyRgba(_e,kCSSColorTable[tt]),putToCache($,_e),_e;var nt=tt.length;if(tt.charAt(0)==="#"){if(nt===4||nt===5){var at=parseInt(tt.slice(1,4),16);if(!(at>=0&&at<=4095)){setRgba(_e,0,0,0,1);return}return setRgba(_e,(at&3840)>>4|(at&3840)>>8,at&240|(at&240)>>4,at&15|(at&15)<<4,nt===5?parseInt(tt.slice(4),16)/15:1),putToCache($,_e),_e}else if(nt===7||nt===9){var at=parseInt(tt.slice(1,7),16);if(!(at>=0&&at<=16777215)){setRgba(_e,0,0,0,1);return}return setRgba(_e,(at&16711680)>>16,(at&65280)>>8,at&255,nt===9?parseInt(tt.slice(7),16)/255:1),putToCache($,_e),_e}return}var ot=tt.indexOf("("),it=tt.indexOf(")");if(ot!==-1&&it+1===nt){var st=tt.substr(0,ot),ut=tt.substr(ot+1,it-(ot+1)).split(","),ft=1;switch(st){case"rgba":if(ut.length!==4)return ut.length===3?setRgba(_e,+ut[0],+ut[1],+ut[2],1):setRgba(_e,0,0,0,1);ft=parseCssFloat(ut.pop());case"rgb":if(ut.length!==3){setRgba(_e,0,0,0,1);return}return setRgba(_e,parseCssInt(ut[0]),parseCssInt(ut[1]),parseCssInt(ut[2]),ft),putToCache($,_e),_e;case"hsla":if(ut.length!==4){setRgba(_e,0,0,0,1);return}return ut[3]=parseCssFloat(ut[3]),hsla2rgba(ut,_e),putToCache($,_e),_e;case"hsl":if(ut.length!==3){setRgba(_e,0,0,0,1);return}return hsla2rgba(ut,_e),putToCache($,_e),_e;default:return}}setRgba(_e,0,0,0,1)}}function hsla2rgba($,_e){var et=(parseFloat($[0])%360+360)%360/360,tt=parseCssFloat($[1]),nt=parseCssFloat($[2]),at=nt<=.5?nt*(tt+1):nt+tt-nt*tt,ot=nt*2-at;return _e=_e||[],setRgba(_e,clampCssByte(cssHueToRgb(ot,at,et+1/3)*255),clampCssByte(cssHueToRgb(ot,at,et)*255),clampCssByte(cssHueToRgb(ot,at,et-1/3)*255),1),$.length===4&&(_e[3]=$[3]),_e}function rgba2hsla($){if(!!$){var _e=$[0]/255,et=$[1]/255,tt=$[2]/255,nt=Math.min(_e,et,tt),at=Math.max(_e,et,tt),ot=at-nt,it=(at+nt)/2,st,ut;if(ot===0)st=0,ut=0;else{it<.5?ut=ot/(at+nt):ut=ot/(2-at-nt);var ft=((at-_e)/6+ot/2)/ot,dt=((at-et)/6+ot/2)/ot,vt=((at-tt)/6+ot/2)/ot;_e===at?st=vt-dt:et===at?st=1/3+ft-vt:tt===at&&(st=2/3+dt-ft),st<0&&(st+=1),st>1&&(st-=1)}var gt=[st*360,ut,it];return $[3]!=null&&gt.push($[3]),gt}}function lift($,_e){var et=parse($);if(et){for(var tt=0;tt<3;tt++)_e<0?et[tt]=et[tt]*(1-_e)|0:et[tt]=(255-et[tt])*_e+et[tt]|0,et[tt]>255?et[tt]=255:et[tt]<0&&(et[tt]=0);return stringify(et,et.length===4?"rgba":"rgb")}}function fastLerp($,_e,et){if(!(!(_e&&_e.length)||!($>=0&&$<=1))){et=et||[];var tt=$*(_e.length-1),nt=Math.floor(tt),at=Math.ceil(tt),ot=_e[nt],it=_e[at],st=tt-nt;return et[0]=clampCssByte(lerpNumber(ot[0],it[0],st)),et[1]=clampCssByte(lerpNumber(ot[1],it[1],st)),et[2]=clampCssByte(lerpNumber(ot[2],it[2],st)),et[3]=clampCssFloat(lerpNumber(ot[3],it[3],st)),et}}function lerp($,_e,et){if(!(!(_e&&_e.length)||!($>=0&&$<=1))){var tt=$*(_e.length-1),nt=Math.floor(tt),at=Math.ceil(tt),ot=parse(_e[nt]),it=parse(_e[at]),st=tt-nt,ut=stringify([clampCssByte(lerpNumber(ot[0],it[0],st)),clampCssByte(lerpNumber(ot[1],it[1],st)),clampCssByte(lerpNumber(ot[2],it[2],st)),clampCssFloat(lerpNumber(ot[3],it[3],st))],"rgba");return et?{color:ut,leftIndex:nt,rightIndex:at,value:tt}:ut}}function modifyHSL($,_e,et,tt){var nt=parse($);if($)return nt=rgba2hsla(nt),_e!=null&&(nt[0]=clampCssAngle(_e)),et!=null&&(nt[1]=parseCssFloat(et)),tt!=null&&(nt[2]=parseCssFloat(tt)),stringify(hsla2rgba(nt),"rgba")}function modifyAlpha($,_e){var et=parse($);if(et&&_e!=null)return et[3]=clampCssFloat(_e),stringify(et,"rgba")}function stringify($,_e){if(!(!$||!$.length)){var et=$[0]+","+$[1]+","+$[2];return(_e==="rgba"||_e==="hsva"||_e==="hsla")&&(et+=","+$[3]),_e+"("+et+")"}}function lum($,_e){var et=parse($);return et?(.299*et[0]+.587*et[1]+.114*et[2])*et[3]/255+(1-et[3])*_e:0}var mathRound$1=Math.round;function normalizeColor($){var _e;if(!$||$==="transparent")$="none";else if(typeof $=="string"&&$.indexOf("rgba")>-1){var et=parse($);et&&($="rgb("+et[0]+","+et[1]+","+et[2]+")",_e=et[3])}return{color:$,opacity:_e==null?1:_e}}var EPSILON$3=1e-4;function isAroundZero($){return $<EPSILON$3&&$>-EPSILON$3}function round3($){return mathRound$1($*1e3)/1e3}function round4($){return mathRound$1($*1e4)/1e4}function getMatrixStr($){return"matrix("+round3($[0])+","+round3($[1])+","+round3($[2])+","+round3($[3])+","+round4($[4])+","+round4($[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1($,_e,et){return et==="top"?$+=_e/2:et==="bottom"&&($-=_e/2),$}function hasShadow($){return $&&($.shadowBlur||$.shadowOffsetX||$.shadowOffsetY)}function getShadowKey($){var _e=$.style,et=$.getGlobalScale();return[_e.shadowColor,(_e.shadowBlur||0).toFixed(2),(_e.shadowOffsetX||0).toFixed(2),(_e.shadowOffsetY||0).toFixed(2),et[0],et[1]].join(",")}function isImagePattern($){return $&&!!$.image}function isSVGPattern($){return $&&!!$.svgElement}function isPattern($){return isImagePattern($)||isSVGPattern($)}function isLinearGradient($){return $.type==="linear"}function isRadialGradient($){return $.type==="radial"}function isGradient($){return $&&($.type==="linear"||$.type==="radial")}function getIdURL($){return"url(#"+$+")"}function getPathPrecision($){var _e=$.getGlobalScale(),et=Math.max(_e[0],_e[1]);return Math.max(Math.ceil(Math.log(et)/Math.log(10)),1)}function getSRTTransformString($){var _e=$.x||0,et=$.y||0,tt=($.rotation||0)*RADIAN_TO_DEGREE,nt=retrieve2($.scaleX,1),at=retrieve2($.scaleY,1),ot=$.skewX||0,it=$.skewY||0,st=[];return(_e||et)&&st.push("translate("+_e+"px,"+et+"px)"),tt&&st.push("rotate("+tt+")"),(nt!==1||at!==1)&&st.push("scale("+nt+","+at+")"),(ot||it)&&st.push("skew("+mathRound$1(ot*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(it*RADIAN_TO_DEGREE)+"deg)"),st.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function($){return window.btoa(unescape($))}:typeof Buffer!="undefined"?function($){return Buffer.from($).toString("base64")}:function($){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1($,_e,et){return(_e-$)*et+$}function interpolate1DArray($,_e,et,tt){for(var nt=_e.length,at=0;at<nt;at++)$[at]=interpolateNumber$1(_e[at],et[at],tt);return $}function interpolate2DArray($,_e,et,tt){for(var nt=_e.length,at=nt&&_e[0].length,ot=0;ot<nt;ot++){$[ot]||($[ot]=[]);for(var it=0;it<at;it++)$[ot][it]=interpolateNumber$1(_e[ot][it],et[ot][it],tt)}return $}function add1DArray($,_e,et,tt){for(var nt=_e.length,at=0;at<nt;at++)$[at]=_e[at]+et[at]*tt;return $}function add2DArray($,_e,et,tt){for(var nt=_e.length,at=nt&&_e[0].length,ot=0;ot<nt;ot++){$[ot]||($[ot]=[]);for(var it=0;it<at;it++)$[ot][it]=_e[ot][it]+et[ot][it]*tt}return $}function fillColorStops($,_e){for(var et=$.length,tt=_e.length,nt=et>tt?_e:$,at=Math.min(et,tt),ot=nt[at-1]||{color:[0,0,0,0],offset:0},it=at;it<Math.max(et,tt);it++)nt.push({offset:ot.offset,color:ot.color.slice()})}function fillArray($,_e,et){var tt=$,nt=_e;if(!(!tt.push||!nt.push)){var at=tt.length,ot=nt.length;if(at!==ot){var it=at>ot;if(it)tt.length=ot;else for(var st=at;st<ot;st++)tt.push(et===1?nt[st]:arraySlice.call(nt[st]))}for(var ut=tt[0]&&tt[0].length,st=0;st<tt.length;st++)if(et===1)isNaN(tt[st])&&(tt[st]=nt[st]);else for(var ft=0;ft<ut;ft++)isNaN(tt[st][ft])&&(tt[st][ft]=nt[st][ft])}}function cloneValue($){if(isArrayLike($)){var _e=$.length;if(isArrayLike($[0])){for(var et=[],tt=0;tt<_e;tt++)et.push(arraySlice.call($[tt]));return et}return arraySlice.call($)}return $}function rgba2String($){return $[0]=Math.floor($[0])||0,$[1]=Math.floor($[1])||0,$[2]=Math.floor($[2])||0,$[3]=$[3]==null?1:$[3],"rgba("+$.join(",")+")"}function guessArrayDim($){return isArrayLike($&&$[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType($){return $===VALUE_TYPE_LINEAR_GRADIENT||$===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType($){return $===VALUE_TYPE_1D_ARRAY||$===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function $(_e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=_e}return $.prototype.isFinished=function(){return this._finished},$.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},$.prototype.needsAnimate=function(){return this.keyframes.length>=1},$.prototype.getAdditiveTrack=function(){return this._additiveTrack},$.prototype.addKeyframe=function(_e,et,tt){this._needsSort=!0;var nt=this.keyframes,at=nt.length,ot=!1,it=VALUE_TYPE_UNKOWN,st=et;if(isArrayLike(et)){var ut=guessArrayDim(et);it=ut,(ut===1&&!isNumber(et[0])||ut===2&&!isNumber(et[0][0]))&&(ot=!0)}else if(isNumber(et)&&!eqNaN(et))it=VALUE_TYPE_NUMBER;else if(isString(et))if(!isNaN(+et))it=VALUE_TYPE_NUMBER;else{var ft=parse(et);ft&&(st=ft,it=VALUE_TYPE_COLOR)}else if(isGradientObject(et)){var dt=extend({},st);dt.colorStops=map$1(et.colorStops,function(gt){return{offset:gt.offset,color:parse(gt.color)}}),isLinearGradient(et)?it=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(et)&&(it=VALUE_TYPE_RADIAL_GRADIENT),st=dt}at===0?this.valType=it:(it!==this.valType||it===VALUE_TYPE_UNKOWN)&&(ot=!0),this.discrete=this.discrete||ot;var vt={time:_e,value:st,rawValue:et,percent:0};return tt&&(vt.easing=tt,vt.easingFunc=isFunction(tt)?tt:easingFuncs$1[tt]||createCubicEasingFunc(tt)),nt.push(vt),vt},$.prototype.prepare=function(_e,et){var tt=this.keyframes;this._needsSort&&tt.sort(function(xt,Ct){return xt.time-Ct.time});for(var nt=this.valType,at=tt.length,ot=tt[at-1],it=this.discrete,st=isArrayValueType(nt),ut=isGradientValueType(nt),ft=0;ft<at;ft++){var dt=tt[ft],vt=dt.value,gt=ot.value;dt.percent=dt.time/_e,it||(st&&ft!==at-1?fillArray(vt,gt,nt):ut&&fillColorStops(vt.colorStops,gt.colorStops))}if(!it&&nt!==VALUE_TYPE_RADIAL_GRADIENT&&et&&this.needsAnimate()&&et.needsAnimate()&&nt===et.valType&&!et._finished){this._additiveTrack=et;for(var yt=tt[0].value,ft=0;ft<at;ft++)nt===VALUE_TYPE_NUMBER?tt[ft].additiveValue=tt[ft].value-yt:nt===VALUE_TYPE_COLOR?tt[ft].additiveValue=add1DArray([],tt[ft].value,yt,-1):isArrayValueType(nt)&&(tt[ft].additiveValue=nt===VALUE_TYPE_1D_ARRAY?add1DArray([],tt[ft].value,yt,-1):add2DArray([],tt[ft].value,yt,-1))}},$.prototype.step=function(_e,et){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var tt=this._additiveTrack!=null,nt=tt?"additiveValue":"value",at=this.valType,ot=this.keyframes,it=ot.length,st=this.propName,ut=at===VALUE_TYPE_COLOR,ft,dt=this._lastFr,vt=Math.min,gt,yt;if(it===1)gt=yt=ot[0];else{if(et<0)ft=0;else if(et<this._lastFrP){var xt=vt(dt+1,it-1);for(ft=xt;ft>=0&&!(ot[ft].percent<=et);ft--);ft=vt(ft,it-2)}else{for(ft=dt;ft<it&&!(ot[ft].percent>et);ft++);ft=vt(ft-1,it-2)}yt=ot[ft+1],gt=ot[ft]}if(!!(gt&&yt)){this._lastFr=ft,this._lastFrP=et;var Ct=yt.percent-gt.percent,wt=Ct===0?1:vt((et-gt.percent)/Ct,1);yt.easingFunc&&(wt=yt.easingFunc(wt));var Et=tt?this._additiveValue:ut?tmpRgba:_e[st];if((isArrayValueType(at)||ut)&&!Et&&(Et=this._additiveValue=[]),this.discrete)_e[st]=wt<1?gt.rawValue:yt.rawValue;else if(isArrayValueType(at))at===VALUE_TYPE_1D_ARRAY?interpolate1DArray(Et,gt[nt],yt[nt],wt):interpolate2DArray(Et,gt[nt],yt[nt],wt);else if(isGradientValueType(at)){var $t=gt[nt],It=yt[nt],Ot=at===VALUE_TYPE_LINEAR_GRADIENT;_e[st]={type:Ot?"linear":"radial",x:interpolateNumber$1($t.x,It.x,wt),y:interpolateNumber$1($t.y,It.y,wt),colorStops:map$1($t.colorStops,function(Ft,zt){var Gt=It.colorStops[zt];return{offset:interpolateNumber$1(Ft.offset,Gt.offset,wt),color:rgba2String(interpolate1DArray([],Ft.color,Gt.color,wt))}}),global:It.global},Ot?(_e[st].x2=interpolateNumber$1($t.x2,It.x2,wt),_e[st].y2=interpolateNumber$1($t.y2,It.y2,wt)):_e[st].r=interpolateNumber$1($t.r,It.r,wt)}else if(ut)interpolate1DArray(Et,gt[nt],yt[nt],wt),tt||(_e[st]=rgba2String(Et));else{var Lt=interpolateNumber$1(gt[nt],yt[nt],wt);tt?this._additiveValue=Lt:_e[st]=Lt}tt&&this._addToTarget(_e)}}},$.prototype._addToTarget=function(_e){var et=this.valType,tt=this.propName,nt=this._additiveValue;et===VALUE_TYPE_NUMBER?_e[tt]=_e[tt]+nt:et===VALUE_TYPE_COLOR?(parse(_e[tt],tmpRgba),add1DArray(tmpRgba,tmpRgba,nt,1),_e[tt]=rgba2String(tmpRgba)):et===VALUE_TYPE_1D_ARRAY?add1DArray(_e[tt],_e[tt],nt,1):et===VALUE_TYPE_2D_ARRAY&&add2DArray(_e[tt],_e[tt],nt,1)},$}(),Animator=function(){function $(_e,et,tt,nt){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=_e,this._loop=et,et&&nt){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=nt,this._allowDiscrete=tt}return $.prototype.getMaxTime=function(){return this._maxTime},$.prototype.getDelay=function(){return this._delay},$.prototype.getLoop=function(){return this._loop},$.prototype.getTarget=function(){return this._target},$.prototype.changeTarget=function(_e){this._target=_e},$.prototype.when=function(_e,et,tt){return this.whenWithKeys(_e,et,keys(et),tt)},$.prototype.whenWithKeys=function(_e,et,tt,nt){for(var at=this._tracks,ot=0;ot<tt.length;ot++){var it=tt[ot],st=at[it];if(!st){st=at[it]=new Track(it);var ut=void 0,ft=this._getAdditiveTrack(it);if(ft){var dt=ft.keyframes,vt=dt[dt.length-1];ut=vt&&vt.value,ft.valType===VALUE_TYPE_COLOR&&ut&&(ut=rgba2String(ut))}else ut=this._target[it];if(ut==null)continue;_e>0&&st.addKeyframe(0,cloneValue(ut),nt),this._trackKeys.push(it)}st.addKeyframe(_e,cloneValue(et[it]),nt)}return this._maxTime=Math.max(this._maxTime,_e),this},$.prototype.pause=function(){this._clip.pause(),this._paused=!0},$.prototype.resume=function(){this._clip.resume(),this._paused=!1},$.prototype.isPaused=function(){return!!this._paused},$.prototype.duration=function(_e){return this._maxTime=_e,this._force=!0,this},$.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var _e=this._doneCbs;if(_e)for(var et=_e.length,tt=0;tt<et;tt++)_e[tt].call(this)},$.prototype._abortedCallback=function(){this._setTracksFinished();var _e=this.animation,et=this._abortedCbs;if(_e&&_e.removeClip(this._clip),this._clip=null,et)for(var tt=0;tt<et.length;tt++)et[tt].call(this)},$.prototype._setTracksFinished=function(){for(var _e=this._tracks,et=this._trackKeys,tt=0;tt<et.length;tt++)_e[et[tt]].setFinished()},$.prototype._getAdditiveTrack=function(_e){var et,tt=this._additiveAnimators;if(tt)for(var nt=0;nt<tt.length;nt++){var at=tt[nt].getTrack(_e);at&&(et=at)}return et},$.prototype.start=function(_e){if(!(this._started>0)){this._started=1;for(var et=this,tt=[],nt=this._maxTime||0,at=0;at<this._trackKeys.length;at++){var ot=this._trackKeys[at],it=this._tracks[ot],st=this._getAdditiveTrack(ot),ut=it.keyframes,ft=ut.length;if(it.prepare(nt,st),it.needsAnimate())if(!this._allowDiscrete&&it.discrete){var dt=ut[ft-1];dt&&(et._target[it.propName]=dt.rawValue),it.setFinished()}else tt.push(it)}if(tt.length||this._force){var vt=new Clip$1({life:nt,loop:this._loop,delay:this._delay||0,onframe:function(gt){et._started=2;var yt=et._additiveAnimators;if(yt){for(var xt=!1,Ct=0;Ct<yt.length;Ct++)if(yt[Ct]._clip){xt=!0;break}xt||(et._additiveAnimators=null)}for(var Ct=0;Ct<tt.length;Ct++)tt[Ct].step(et._target,gt);var wt=et._onframeCbs;if(wt)for(var Ct=0;Ct<wt.length;Ct++)wt[Ct](et._target,gt)},ondestroy:function(){et._doneCallback()}});this._clip=vt,this.animation&&this.animation.addClip(vt),_e&&vt.setEasing(_e)}else this._doneCallback();return this}},$.prototype.stop=function(_e){if(!!this._clip){var et=this._clip;_e&&et.onframe(1),this._abortedCallback()}},$.prototype.delay=function(_e){return this._delay=_e,this},$.prototype.during=function(_e){return _e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(_e)),this},$.prototype.done=function(_e){return _e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(_e)),this},$.prototype.aborted=function(_e){return _e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(_e)),this},$.prototype.getClip=function(){return this._clip},$.prototype.getTrack=function(_e){return this._tracks[_e]},$.prototype.getTracks=function(){var _e=this;return map$1(this._trackKeys,function(et){return _e._tracks[et]})},$.prototype.stopTracks=function(_e,et){if(!_e.length||!this._clip)return!0;for(var tt=this._tracks,nt=this._trackKeys,at=0;at<_e.length;at++){var ot=tt[_e[at]];ot&&!ot.isFinished()&&(et?ot.step(this._target,1):this._started===1&&ot.step(this._target,0),ot.setFinished())}for(var it=!0,at=0;at<nt.length;at++)if(!tt[nt[at]].isFinished()){it=!1;break}return it&&this._abortedCallback(),it},$.prototype.saveTo=function(_e,et,tt){if(!!_e){et=et||this._trackKeys;for(var nt=0;nt<et.length;nt++){var at=et[nt],ot=this._tracks[at];if(!(!ot||ot.isFinished())){var it=ot.keyframes,st=it[tt?0:it.length-1];st&&(_e[at]=cloneValue(st.rawValue))}}}},$.prototype.__changeFinalValue=function(_e,et){et=et||keys(_e);for(var tt=0;tt<et.length;tt++){var nt=et[tt],at=this._tracks[nt];if(!!at){var ot=at.keyframes;if(ot.length>1){var it=ot.pop();at.addKeyframe(it.time,_e[nt]),at.prepare(this._maxTime,at.getAdditiveTrack())}}}},$}();function getTime(){return new Date().getTime()}var Animation=function($){__extends(_e,$);function _e(et){var tt=$.call(this)||this;return tt._running=!1,tt._time=0,tt._pausedTime=0,tt._pauseStart=0,tt._paused=!1,et=et||{},tt.stage=et.stage||{},tt}return _e.prototype.addClip=function(et){et.animation&&this.removeClip(et),this._head?(this._tail.next=et,et.prev=this._tail,et.next=null,this._tail=et):this._head=this._tail=et,et.animation=this},_e.prototype.addAnimator=function(et){et.animation=this;var tt=et.getClip();tt&&this.addClip(tt)},_e.prototype.removeClip=function(et){if(!!et.animation){var tt=et.prev,nt=et.next;tt?tt.next=nt:this._head=nt,nt?nt.prev=tt:this._tail=tt,et.next=et.prev=et.animation=null}},_e.prototype.removeAnimator=function(et){var tt=et.getClip();tt&&this.removeClip(tt),et.animation=null},_e.prototype.update=function(et){for(var tt=getTime()-this._pausedTime,nt=tt-this._time,at=this._head;at;){var ot=at.next,it=at.step(tt,nt);it&&(at.ondestroy(),this.removeClip(at)),at=ot}this._time=tt,et||(this.trigger("frame",nt),this.stage.update&&this.stage.update())},_e.prototype._startLoop=function(){var et=this;this._running=!0;function tt(){et._running&&(requestAnimationFrame$2(tt),!et._paused&&et.update())}requestAnimationFrame$2(tt)},_e.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},_e.prototype.stop=function(){this._running=!1},_e.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},_e.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},_e.prototype.clear=function(){for(var et=this._head;et;){var tt=et.next;et.prev=et.next=et.animation=null,et=tt}this._head=this._tail=null},_e.prototype.isFinished=function(){return this._head==null},_e.prototype.animate=function(et,tt){tt=tt||{},this.start();var nt=new Animator(et,tt.loop);return this.addAnimator(nt),nt},_e}(Eventful$1),Animation$1=Animation,TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var $=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_e=["touchstart","touchend","touchmove"],et={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},tt=map$1($,function(nt){var at=nt.replace("mouse","pointer");return et.hasOwnProperty(at)?at:nt});return{mouse:$,touch:_e,pointer:tt}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch($){var _e=$.pointerType;return _e==="pen"||_e==="touch"}function setTouchTimer($){$.touching=!0,$.touchTimer!=null&&(clearTimeout($.touchTimer),$.touchTimer=null),$.touchTimer=setTimeout(function(){$.touching=!1,$.touchTimer=null},700)}function markTouch($){$&&($.zrByTouch=!0)}function normalizeGlobalEvent($,_e){return normalizeEvent($.dom,new FakeGlobalEvent($,_e),!0)}function isLocalEl($,_e){for(var et=_e,tt=!1;et&&et.nodeType!==9&&!(tt=et.domBelongToZr||et!==_e&&et===$.painterRoot);)et=et.parentNode;return tt}var FakeGlobalEvent=function(){function $(_e,et){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=et.type,this.target=this.currentTarget=_e.dom,this.pointerType=et.pointerType,this.clientX=et.clientX,this.clientY=et.clientY}return $}(),localDOMHandlers={mousedown:function($){$=normalizeEvent(this.dom,$),this.__mayPointerCapture=[$.zrX,$.zrY],this.trigger("mousedown",$)},mousemove:function($){$=normalizeEvent(this.dom,$);var _e=this.__mayPointerCapture;_e&&($.zrX!==_e[0]||$.zrY!==_e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",$)},mouseup:function($){$=normalizeEvent(this.dom,$),this.__togglePointerCapture(!1),this.trigger("mouseup",$)},mouseout:function($){$=normalizeEvent(this.dom,$);var _e=$.toElement||$.relatedTarget;isLocalEl(this,_e)||(this.__pointerCapturing&&($.zrEventControl="no_globalout"),this.trigger("mouseout",$))},wheel:function($){wheelEventSupported=!0,$=normalizeEvent(this.dom,$),this.trigger("mousewheel",$)},mousewheel:function($){wheelEventSupported||($=normalizeEvent(this.dom,$),this.trigger("mousewheel",$))},touchstart:function($){$=normalizeEvent(this.dom,$),markTouch($),this.__lastTouchMoment=new Date,this.handler.processGesture($,"start"),localDOMHandlers.mousemove.call(this,$),localDOMHandlers.mousedown.call(this,$)},touchmove:function($){$=normalizeEvent(this.dom,$),markTouch($),this.handler.processGesture($,"change"),localDOMHandlers.mousemove.call(this,$)},touchend:function($){$=normalizeEvent(this.dom,$),markTouch($),this.handler.processGesture($,"end"),localDOMHandlers.mouseup.call(this,$),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,$)},pointerdown:function($){localDOMHandlers.mousedown.call(this,$)},pointermove:function($){isPointerFromTouch($)||localDOMHandlers.mousemove.call(this,$)},pointerup:function($){localDOMHandlers.mouseup.call(this,$)},pointerout:function($){isPointerFromTouch($)||localDOMHandlers.mouseout.call(this,$)}};each$f(["click","dblclick","contextmenu"],function($){localDOMHandlers[$]=function(_e){_e=normalizeEvent(this.dom,_e),this.trigger($,_e)}});var globalDOMHandlers={pointermove:function($){isPointerFromTouch($)||globalDOMHandlers.mousemove.call(this,$)},pointerup:function($){globalDOMHandlers.mouseup.call(this,$)},mousemove:function($){this.trigger("mousemove",$)},mouseup:function($){var _e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",$),_e&&($.zrEventControl="only_globalout",this.trigger("mouseout",$))}};function mountLocalDOMEventListeners($,_e){var et=_e.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(tt){mountSingleDOMEventListener(_e,tt,function(nt){et[tt].call($,nt)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(tt){mountSingleDOMEventListener(_e,tt,function(nt){et[tt].call($,nt),setTouchTimer(_e)})}),each$f(localNativeListenerNames.mouse,function(tt){mountSingleDOMEventListener(_e,tt,function(nt){nt=getNativeEvent(nt),_e.touching||et[tt].call($,nt)})}))}function mountGlobalDOMEventListeners($,_e){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,et):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,et);function et(tt){function nt(at){at=getNativeEvent(at),isLocalEl($,at.target)||(at=normalizeGlobalEvent($,at),_e.domHandlers[tt].call($,at))}mountSingleDOMEventListener(_e,tt,nt,{capture:!0})}}function mountSingleDOMEventListener($,_e,et,tt){$.mounted[_e]=et,$.listenerOpts[_e]=tt,addEventListener$1($.domTarget,_e,et,tt)}function unmountDOMEventListeners($){var _e=$.mounted;for(var et in _e)_e.hasOwnProperty(et)&&removeEventListener$1($.domTarget,et,_e[et],$.listenerOpts[et]);$.mounted={}}var DOMHandlerScope=function(){function $(_e,et){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=_e,this.domHandlers=et}return $}(),HandlerDomProxy=function($){__extends(_e,$);function _e(et,tt){var nt=$.call(this)||this;return nt.__pointerCapturing=!1,nt.dom=et,nt.painterRoot=tt,nt._localHandlerScope=new DOMHandlerScope(et,localDOMHandlers),globalEventSupported&&(nt._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(nt,nt._localHandlerScope),nt}return _e.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},_e.prototype.setCursor=function(et){this.dom.style&&(this.dom.style.cursor=et||"default")},_e.prototype.__togglePointerCapture=function(et){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+et){this.__pointerCapturing=et;var tt=this._globalHandlerScope;et?mountGlobalDOMEventListeners(this,tt):unmountDOMEventListeners(tt)}},_e}(Eventful$1),HandlerProxy=HandlerDomProxy,dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee";function create$1(){return[1,0,0,1,0,0]}function identity($){return $[0]=1,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$}function copy($,_e){return $[0]=_e[0],$[1]=_e[1],$[2]=_e[2],$[3]=_e[3],$[4]=_e[4],$[5]=_e[5],$}function mul($,_e,et){var tt=_e[0]*et[0]+_e[2]*et[1],nt=_e[1]*et[0]+_e[3]*et[1],at=_e[0]*et[2]+_e[2]*et[3],ot=_e[1]*et[2]+_e[3]*et[3],it=_e[0]*et[4]+_e[2]*et[5]+_e[4],st=_e[1]*et[4]+_e[3]*et[5]+_e[5];return $[0]=tt,$[1]=nt,$[2]=at,$[3]=ot,$[4]=it,$[5]=st,$}function translate($,_e,et){return $[0]=_e[0],$[1]=_e[1],$[2]=_e[2],$[3]=_e[3],$[4]=_e[4]+et[0],$[5]=_e[5]+et[1],$}function rotate($,_e,et){var tt=_e[0],nt=_e[2],at=_e[4],ot=_e[1],it=_e[3],st=_e[5],ut=Math.sin(et),ft=Math.cos(et);return $[0]=tt*ft+ot*ut,$[1]=-tt*ut+ot*ft,$[2]=nt*ft+it*ut,$[3]=-nt*ut+ft*it,$[4]=ft*at+ut*st,$[5]=ft*st-ut*at,$}function scale$1($,_e,et){var tt=et[0],nt=et[1];return $[0]=_e[0]*tt,$[1]=_e[1]*nt,$[2]=_e[2]*tt,$[3]=_e[3]*nt,$[4]=_e[4]*tt,$[5]=_e[5]*nt,$}function invert($,_e){var et=_e[0],tt=_e[2],nt=_e[4],at=_e[1],ot=_e[3],it=_e[5],st=et*ot-at*tt;return st?(st=1/st,$[0]=ot*st,$[1]=-at*st,$[2]=-tt*st,$[3]=et*st,$[4]=(tt*it-ot*nt)*st,$[5]=(at*nt-et*it)*st,$):null}function clone$2($){var _e=create$1();return copy(_e,$),_e}var mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero($){return $>EPSILON$2||$<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function $(){}return $.prototype.getLocalTransform=function(_e){return $.getLocalTransform(this,_e)},$.prototype.setPosition=function(_e){this.x=_e[0],this.y=_e[1]},$.prototype.setScale=function(_e){this.scaleX=_e[0],this.scaleY=_e[1]},$.prototype.setSkew=function(_e){this.skewX=_e[0],this.skewY=_e[1]},$.prototype.setOrigin=function(_e){this.originX=_e[0],this.originY=_e[1]},$.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},$.prototype.updateTransform=function(){var _e=this.parent&&this.parent.transform,et=this.needLocalTransform(),tt=this.transform;if(!(et||_e)){tt&&mIdentity(tt);return}tt=tt||create$1(),et?this.getLocalTransform(tt):mIdentity(tt),_e&&(et?mul(tt,_e,tt):copy(tt,_e)),this.transform=tt,this._resolveGlobalScaleRatio(tt)},$.prototype._resolveGlobalScaleRatio=function(_e){var et=this.globalScaleRatio;if(et!=null&&et!==1){this.getGlobalScale(scaleTmp);var tt=scaleTmp[0]<0?-1:1,nt=scaleTmp[1]<0?-1:1,at=((scaleTmp[0]-tt)*et+tt)/scaleTmp[0]||0,ot=((scaleTmp[1]-nt)*et+nt)/scaleTmp[1]||0;_e[0]*=at,_e[1]*=at,_e[2]*=ot,_e[3]*=ot}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,_e)},$.prototype.getComputedTransform=function(){for(var _e=this,et=[];_e;)et.push(_e),_e=_e.parent;for(;_e=et.pop();)_e.updateTransform();return this.transform},$.prototype.setLocalTransform=function(_e){if(!!_e){var et=_e[0]*_e[0]+_e[1]*_e[1],tt=_e[2]*_e[2]+_e[3]*_e[3],nt=Math.atan2(_e[1],_e[0]),at=Math.PI/2+nt-Math.atan2(_e[3],_e[2]);tt=Math.sqrt(tt)*Math.cos(at),et=Math.sqrt(et),this.skewX=at,this.skewY=0,this.rotation=-nt,this.x=+_e[4],this.y=+_e[5],this.scaleX=et,this.scaleY=tt,this.originX=0,this.originY=0}},$.prototype.decomposeTransform=function(){if(!!this.transform){var _e=this.parent,et=this.transform;_e&&_e.transform&&(mul(tmpTransform,_e.invTransform,et),et=tmpTransform);var tt=this.originX,nt=this.originY;(tt||nt)&&(originTransform[4]=tt,originTransform[5]=nt,mul(tmpTransform,et,originTransform),tmpTransform[4]-=tt,tmpTransform[5]-=nt,et=tmpTransform),this.setLocalTransform(et)}},$.prototype.getGlobalScale=function(_e){var et=this.transform;return _e=_e||[],et?(_e[0]=Math.sqrt(et[0]*et[0]+et[1]*et[1]),_e[1]=Math.sqrt(et[2]*et[2]+et[3]*et[3]),et[0]<0&&(_e[0]=-_e[0]),et[3]<0&&(_e[1]=-_e[1]),_e):(_e[0]=1,_e[1]=1,_e)},$.prototype.transformCoordToLocal=function(_e,et){var tt=[_e,et],nt=this.invTransform;return nt&&applyTransform$1(tt,tt,nt),tt},$.prototype.transformCoordToGlobal=function(_e,et){var tt=[_e,et],nt=this.transform;return nt&&applyTransform$1(tt,tt,nt),tt},$.prototype.getLineScale=function(){var _e=this.transform;return _e&&abs(_e[0]-1)>1e-10&&abs(_e[3]-1)>1e-10?Math.sqrt(abs(_e[0]*_e[3]-_e[2]*_e[1])):1},$.prototype.copyTransform=function(_e){copyTransform(this,_e)},$.getLocalTransform=function(_e,et){et=et||[];var tt=_e.originX||0,nt=_e.originY||0,at=_e.scaleX,ot=_e.scaleY,it=_e.anchorX,st=_e.anchorY,ut=_e.rotation||0,ft=_e.x,dt=_e.y,vt=_e.skewX?Math.tan(_e.skewX):0,gt=_e.skewY?Math.tan(-_e.skewY):0;if(tt||nt||it||st){var yt=tt+it,xt=nt+st;et[4]=-yt*at-vt*xt*ot,et[5]=-xt*ot-gt*yt*at}else et[4]=et[5]=0;return et[0]=at,et[3]=ot,et[1]=gt*at,et[2]=vt*ot,ut&&rotate(et,et,ut),et[4]+=tt+ft,et[5]+=nt+dt,et},$.initDefaultProps=function(){var _e=$.prototype;_e.scaleX=_e.scaleY=_e.globalScaleRatio=1,_e.x=_e.y=_e.originX=_e.originY=_e.skewX=_e.skewY=_e.rotation=_e.anchorX=_e.anchorY=0}(),$}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform($,_e){for(var et=0;et<TRANSFORMABLE_PROPS.length;et++){var tt=TRANSFORMABLE_PROPS[et];$[tt]=_e[tt]}}var Transformable$1=Transformable,Point=function(){function $(_e,et){this.x=_e||0,this.y=et||0}return $.prototype.copy=function(_e){return this.x=_e.x,this.y=_e.y,this},$.prototype.clone=function(){return new $(this.x,this.y)},$.prototype.set=function(_e,et){return this.x=_e,this.y=et,this},$.prototype.equal=function(_e){return _e.x===this.x&&_e.y===this.y},$.prototype.add=function(_e){return this.x+=_e.x,this.y+=_e.y,this},$.prototype.scale=function(_e){this.x*=_e,this.y*=_e},$.prototype.scaleAndAdd=function(_e,et){this.x+=_e.x*et,this.y+=_e.y*et},$.prototype.sub=function(_e){return this.x-=_e.x,this.y-=_e.y,this},$.prototype.dot=function(_e){return this.x*_e.x+this.y*_e.y},$.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},$.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},$.prototype.normalize=function(){var _e=this.len();return this.x/=_e,this.y/=_e,this},$.prototype.distance=function(_e){var et=this.x-_e.x,tt=this.y-_e.y;return Math.sqrt(et*et+tt*tt)},$.prototype.distanceSquare=function(_e){var et=this.x-_e.x,tt=this.y-_e.y;return et*et+tt*tt},$.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},$.prototype.transform=function(_e){if(!!_e){var et=this.x,tt=this.y;return this.x=_e[0]*et+_e[2]*tt+_e[4],this.y=_e[1]*et+_e[3]*tt+_e[5],this}},$.prototype.toArray=function(_e){return _e[0]=this.x,_e[1]=this.y,_e},$.prototype.fromArray=function(_e){this.x=_e[0],this.y=_e[1]},$.set=function(_e,et,tt){_e.x=et,_e.y=tt},$.copy=function(_e,et){_e.x=et.x,_e.y=et.y},$.len=function(_e){return Math.sqrt(_e.x*_e.x+_e.y*_e.y)},$.lenSquare=function(_e){return _e.x*_e.x+_e.y*_e.y},$.dot=function(_e,et){return _e.x*et.x+_e.y*et.y},$.add=function(_e,et,tt){_e.x=et.x+tt.x,_e.y=et.y+tt.y},$.sub=function(_e,et,tt){_e.x=et.x-tt.x,_e.y=et.y-tt.y},$.scale=function(_e,et,tt){_e.x=et.x*tt,_e.y=et.y*tt},$.scaleAndAdd=function(_e,et,tt,nt){_e.x=et.x+tt.x*nt,_e.y=et.y+tt.y*nt},$.lerp=function(_e,et,tt,nt){var at=1-nt;_e.x=at*et.x+nt*tt.x,_e.y=at*et.y+nt*tt.y},$}(),Point$1=Point,mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function $(_e,et,tt,nt){tt<0&&(_e=_e+tt,tt=-tt),nt<0&&(et=et+nt,nt=-nt),this.x=_e,this.y=et,this.width=tt,this.height=nt}return $.prototype.union=function(_e){var et=mathMin$a(_e.x,this.x),tt=mathMin$a(_e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(_e.x+_e.width,this.x+this.width)-et:this.width=_e.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(_e.y+_e.height,this.y+this.height)-tt:this.height=_e.height,this.x=et,this.y=tt},$.prototype.applyTransform=function(_e){$.applyTransform(this,this,_e)},$.prototype.calculateTransform=function(_e){var et=this,tt=_e.width/et.width,nt=_e.height/et.height,at=create$1();return translate(at,at,[-et.x,-et.y]),scale$1(at,at,[tt,nt]),translate(at,at,[_e.x,_e.y]),at},$.prototype.intersect=function(_e,et){if(!_e)return!1;_e instanceof $||(_e=$.create(_e));var tt=this,nt=tt.x,at=tt.x+tt.width,ot=tt.y,it=tt.y+tt.height,st=_e.x,ut=_e.x+_e.width,ft=_e.y,dt=_e.y+_e.height,vt=!(at<st||ut<nt||it<ft||dt<ot);if(et){var gt=1/0,yt=0,xt=Math.abs(at-st),Ct=Math.abs(ut-nt),wt=Math.abs(it-ft),Et=Math.abs(dt-ot),$t=Math.min(xt,Ct),It=Math.min(wt,Et);at<st||ut<nt?$t>yt&&(yt=$t,xt<Ct?Point$1.set(maxTv$1,-xt,0):Point$1.set(maxTv$1,Ct,0)):$t<gt&&(gt=$t,xt<Ct?Point$1.set(minTv$1,xt,0):Point$1.set(minTv$1,-Ct,0)),it<ft||dt<ot?It>yt&&(yt=It,wt<Et?Point$1.set(maxTv$1,0,-wt):Point$1.set(maxTv$1,0,Et)):$t<gt&&(gt=$t,wt<Et?Point$1.set(minTv$1,0,wt):Point$1.set(minTv$1,0,-Et))}return et&&Point$1.copy(et,vt?minTv$1:maxTv$1),vt},$.prototype.contain=function(_e,et){var tt=this;return _e>=tt.x&&_e<=tt.x+tt.width&&et>=tt.y&&et<=tt.y+tt.height},$.prototype.clone=function(){return new $(this.x,this.y,this.width,this.height)},$.prototype.copy=function(_e){$.copy(this,_e)},$.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},$.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},$.prototype.isZero=function(){return this.width===0||this.height===0},$.create=function(_e){return new $(_e.x,_e.y,_e.width,_e.height)},$.copy=function(_e,et){_e.x=et.x,_e.y=et.y,_e.width=et.width,_e.height=et.height},$.applyTransform=function(_e,et,tt){if(!tt){_e!==et&&$.copy(_e,et);return}if(tt[1]<1e-5&&tt[1]>-1e-5&&tt[2]<1e-5&&tt[2]>-1e-5){var nt=tt[0],at=tt[3],ot=tt[4],it=tt[5];_e.x=et.x*nt+ot,_e.y=et.y*at+it,_e.width=et.width*nt,_e.height=et.height*at,_e.width<0&&(_e.x+=_e.width,_e.width=-_e.width),_e.height<0&&(_e.y+=_e.height,_e.height=-_e.height);return}lt.x=lb.x=et.x,lt.y=rt.y=et.y,rb.x=rt.x=et.x+et.width,rb.y=lb.y=et.y+et.height,lt.transform(tt),rt.transform(tt),rb.transform(tt),lb.transform(tt),_e.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),_e.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var st=mathMax$a(lt.x,rb.x,lb.x,rt.x),ut=mathMax$a(lt.y,rb.y,lb.y,rt.y);_e.width=st-_e.x,_e.height=ut-_e.y},$}(),BoundingRect$1=BoundingRect,textWidthCache={};function getWidth($,_e){_e=_e||DEFAULT_FONT;var et=textWidthCache[_e];et||(et=textWidthCache[_e]=new LRU$1(500));var tt=et.get($);return tt==null&&(tt=platformApi.measureText($,_e).width,et.put($,tt)),tt}function innerGetBoundingRect($,_e,et,tt){var nt=getWidth($,_e),at=getLineHeight(_e),ot=adjustTextX(0,nt,et),it=adjustTextY(0,at,tt),st=new BoundingRect$1(ot,it,nt,at);return st}function getBoundingRect($,_e,et,tt){var nt=(($||"")+"").split(`
`),at=nt.length;if(at===1)return innerGetBoundingRect(nt[0],_e,et,tt);for(var ot=new BoundingRect$1(0,0,0,0),it=0;it<nt.length;it++){var st=innerGetBoundingRect(nt[it],_e,et,tt);it===0?ot.copy(st):ot.union(st)}return ot}function adjustTextX($,_e,et){return et==="right"?$-=_e:et==="center"&&($-=_e/2),$}function adjustTextY($,_e,et){return et==="middle"?$-=_e/2:et==="bottom"&&($-=_e),$}function getLineHeight($){return getWidth("\u56FD",$)}function parsePercent$1($,_e){return typeof $=="string"?$.lastIndexOf("%")>=0?parseFloat($)/100*_e:parseFloat($):$}function calculateTextPosition($,_e,et){var tt=_e.position||"inside",nt=_e.distance!=null?_e.distance:5,at=et.height,ot=et.width,it=at/2,st=et.x,ut=et.y,ft="left",dt="top";if(tt instanceof Array)st+=parsePercent$1(tt[0],et.width),ut+=parsePercent$1(tt[1],et.height),ft=null,dt=null;else switch(tt){case"left":st-=nt,ut+=it,ft="right",dt="middle";break;case"right":st+=nt+ot,ut+=it,dt="middle";break;case"top":st+=ot/2,ut-=nt,ft="center",dt="bottom";break;case"bottom":st+=ot/2,ut+=at+nt,ft="center";break;case"inside":st+=ot/2,ut+=it,ft="center",dt="middle";break;case"insideLeft":st+=nt,ut+=it,dt="middle";break;case"insideRight":st+=ot-nt,ut+=it,ft="right",dt="middle";break;case"insideTop":st+=ot/2,ut+=nt,ft="center";break;case"insideBottom":st+=ot/2,ut+=at-nt,ft="center",dt="bottom";break;case"insideTopLeft":st+=nt,ut+=nt;break;case"insideTopRight":st+=ot-nt,ut+=nt,ft="right";break;case"insideBottomLeft":st+=nt,ut+=at-nt,dt="bottom";break;case"insideBottomRight":st+=ot-nt,ut+=at-nt,ft="right",dt="bottom";break}return $=$||{},$.x=st,$.y=ut,$.align=ft,$.verticalAlign=dt,$}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function($,_e){return $[_e]=!0,$},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function $(_e){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(_e)}return $.prototype._init=function(_e){this.attr(_e)},$.prototype.drift=function(_e,et,tt){switch(this.draggable){case"horizontal":et=0;break;case"vertical":_e=0;break}var nt=this.transform;nt||(nt=this.transform=[1,0,0,1,0,0]),nt[4]+=_e,nt[5]+=et,this.decomposeTransform(),this.markRedraw()},$.prototype.beforeUpdate=function(){},$.prototype.afterUpdate=function(){},$.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},$.prototype.updateInnerText=function(_e){var et=this._textContent;if(et&&(!et.ignore||_e)){this.textConfig||(this.textConfig={});var tt=this.textConfig,nt=tt.local,at=et.innerTransformable,ot=void 0,it=void 0,st=!1;at.parent=nt?this:null;var ut=!1;if(at.copyTransform(et),tt.position!=null){var ft=tmpBoundingRect;tt.layoutRect?ft.copy(tt.layoutRect):ft.copy(this.getBoundingRect()),nt||ft.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,tt,ft):calculateTextPosition(tmpTextPosCalcRes,tt,ft),at.x=tmpTextPosCalcRes.x,at.y=tmpTextPosCalcRes.y,ot=tmpTextPosCalcRes.align,it=tmpTextPosCalcRes.verticalAlign;var dt=tt.origin;if(dt&&tt.rotation!=null){var vt=void 0,gt=void 0;dt==="center"?(vt=ft.width*.5,gt=ft.height*.5):(vt=parsePercent$1(dt[0],ft.width),gt=parsePercent$1(dt[1],ft.height)),ut=!0,at.originX=-at.x+vt+(nt?0:ft.x),at.originY=-at.y+gt+(nt?0:ft.y)}}tt.rotation!=null&&(at.rotation=tt.rotation);var yt=tt.offset;yt&&(at.x+=yt[0],at.y+=yt[1],ut||(at.originX=-yt[0],at.originY=-yt[1]));var xt=tt.inside==null?typeof tt.position=="string"&&tt.position.indexOf("inside")>=0:tt.inside,Ct=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),wt=void 0,Et=void 0,$t=void 0;xt&&this.canBeInsideText()?(wt=tt.insideFill,Et=tt.insideStroke,(wt==null||wt==="auto")&&(wt=this.getInsideTextFill()),(Et==null||Et==="auto")&&(Et=this.getInsideTextStroke(wt),$t=!0)):(wt=tt.outsideFill,Et=tt.outsideStroke,(wt==null||wt==="auto")&&(wt=this.getOutsideFill()),(Et==null||Et==="auto")&&(Et=this.getOutsideStroke(wt),$t=!0)),wt=wt||"#000",(wt!==Ct.fill||Et!==Ct.stroke||$t!==Ct.autoStroke||ot!==Ct.align||it!==Ct.verticalAlign)&&(st=!0,Ct.fill=wt,Ct.stroke=Et,Ct.autoStroke=$t,Ct.align=ot,Ct.verticalAlign=it,et.setDefaultTextStyle(Ct)),et.__dirty|=REDRAW_BIT,st&&et.dirtyStyle(!0)}},$.prototype.canBeInsideText=function(){return!0},$.prototype.getInsideTextFill=function(){return"#fff"},$.prototype.getInsideTextStroke=function(_e){return"#000"},$.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},$.prototype.getOutsideStroke=function(_e){var et=this.__zr&&this.__zr.getBackgroundColor(),tt=typeof et=="string"&&parse(et);tt||(tt=[255,255,255,1]);for(var nt=tt[3],at=this.__zr.isDarkMode(),ot=0;ot<3;ot++)tt[ot]=tt[ot]*nt+(at?0:255)*(1-nt);return tt[3]=1,stringify(tt,"rgba")},$.prototype.traverse=function(_e,et){},$.prototype.attrKV=function(_e,et){_e==="textConfig"?this.setTextConfig(et):_e==="textContent"?this.setTextContent(et):_e==="clipPath"?this.setClipPath(et):_e==="extra"?(this.extra=this.extra||{},extend(this.extra,et)):this[_e]=et},$.prototype.hide=function(){this.ignore=!0,this.markRedraw()},$.prototype.show=function(){this.ignore=!1,this.markRedraw()},$.prototype.attr=function(_e,et){if(typeof _e=="string")this.attrKV(_e,et);else if(isObject$3(_e))for(var tt=_e,nt=keys(tt),at=0;at<nt.length;at++){var ot=nt[at];this.attrKV(ot,_e[ot])}return this.markRedraw(),this},$.prototype.saveCurrentToNormalState=function(_e){this._innerSaveToNormal(_e);for(var et=this._normalState,tt=0;tt<this.animators.length;tt++){var nt=this.animators[tt],at=nt.__fromStateTransition;if(!(nt.getLoop()||at&&at!==PRESERVED_NORMAL_STATE)){var ot=nt.targetName,it=ot?et[ot]:et;nt.saveTo(it)}}},$.prototype._innerSaveToNormal=function(_e){var et=this._normalState;et||(et=this._normalState={}),_e.textConfig&&!et.textConfig&&(et.textConfig=this.textConfig),this._savePrimaryToNormal(_e,et,PRIMARY_STATES_KEYS$1)},$.prototype._savePrimaryToNormal=function(_e,et,tt){for(var nt=0;nt<tt.length;nt++){var at=tt[nt];_e[at]!=null&&!(at in et)&&(et[at]=this[at])}},$.prototype.hasState=function(){return this.currentStates.length>0},$.prototype.getState=function(_e){return this.states[_e]},$.prototype.ensureState=function(_e){var et=this.states;return et[_e]||(et[_e]={}),et[_e]},$.prototype.clearStates=function(_e){this.useState(PRESERVED_NORMAL_STATE,!1,_e)},$.prototype.useState=function(_e,et,tt,nt){var at=_e===PRESERVED_NORMAL_STATE,ot=this.hasState();if(!(!ot&&at)){var it=this.currentStates,st=this.stateTransition;if(!(indexOf(it,_e)>=0&&(et||it.length===1))){var ut;if(this.stateProxy&&!at&&(ut=this.stateProxy(_e)),ut||(ut=this.states&&this.states[_e]),!ut&&!at){logError("State "+_e+" not exists.");return}at||this.saveCurrentToNormalState(ut);var ft=!!(ut&&ut.hoverLayer||nt);ft&&this._toggleHoverLayerFlag(!0),this._applyStateObj(_e,ut,this._normalState,et,!tt&&!this.__inHover&&st&&st.duration>0,st);var dt=this._textContent,vt=this._textGuide;return dt&&dt.useState(_e,et,tt,ft),vt&&vt.useState(_e,et,tt,ft),at?(this.currentStates=[],this._normalState={}):et?this.currentStates.push(_e):this.currentStates=[_e],this._updateAnimationTargets(),this.markRedraw(),!ft&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),ut}}},$.prototype.useStates=function(_e,et,tt){if(!_e.length)this.clearStates();else{var nt=[],at=this.currentStates,ot=_e.length,it=ot===at.length;if(it){for(var st=0;st<ot;st++)if(_e[st]!==at[st]){it=!1;break}}if(it)return;for(var st=0;st<ot;st++){var ut=_e[st],ft=void 0;this.stateProxy&&(ft=this.stateProxy(ut,_e)),ft||(ft=this.states[ut]),ft&&nt.push(ft)}var dt=nt[ot-1],vt=!!(dt&&dt.hoverLayer||tt);vt&&this._toggleHoverLayerFlag(!0);var gt=this._mergeStates(nt),yt=this.stateTransition;this.saveCurrentToNormalState(gt),this._applyStateObj(_e.join(","),gt,this._normalState,!1,!et&&!this.__inHover&&yt&&yt.duration>0,yt);var xt=this._textContent,Ct=this._textGuide;xt&&xt.useStates(_e,et,vt),Ct&&Ct.useStates(_e,et,vt),this._updateAnimationTargets(),this.currentStates=_e.slice(),this.markRedraw(),!vt&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},$.prototype._updateAnimationTargets=function(){for(var _e=0;_e<this.animators.length;_e++){var et=this.animators[_e];et.targetName&&et.changeTarget(this[et.targetName])}},$.prototype.removeState=function(_e){var et=indexOf(this.currentStates,_e);if(et>=0){var tt=this.currentStates.slice();tt.splice(et,1),this.useStates(tt)}},$.prototype.replaceState=function(_e,et,tt){var nt=this.currentStates.slice(),at=indexOf(nt,_e),ot=indexOf(nt,et)>=0;at>=0?ot?nt.splice(at,1):nt[at]=et:tt&&!ot&&nt.push(et),this.useStates(nt)},$.prototype.toggleState=function(_e,et){et?this.useState(_e,!0):this.removeState(_e)},$.prototype._mergeStates=function(_e){for(var et={},tt,nt=0;nt<_e.length;nt++){var at=_e[nt];extend(et,at),at.textConfig&&(tt=tt||{},extend(tt,at.textConfig))}return tt&&(et.textConfig=tt),et},$.prototype._applyStateObj=function(_e,et,tt,nt,at,ot){var it=!(et&&nt);et&&et.textConfig?(this.textConfig=extend({},nt?this.textConfig:tt.textConfig),extend(this.textConfig,et.textConfig)):it&&tt.textConfig&&(this.textConfig=tt.textConfig);for(var st={},ut=!1,ft=0;ft<PRIMARY_STATES_KEYS$1.length;ft++){var dt=PRIMARY_STATES_KEYS$1[ft],vt=at&&DEFAULT_ANIMATABLE_MAP[dt];et&&et[dt]!=null?vt?(ut=!0,st[dt]=et[dt]):this[dt]=et[dt]:it&&tt[dt]!=null&&(vt?(ut=!0,st[dt]=tt[dt]):this[dt]=tt[dt])}if(!at)for(var ft=0;ft<this.animators.length;ft++){var gt=this.animators[ft],yt=gt.targetName;gt.getLoop()||gt.__changeFinalValue(yt?(et||tt)[yt]:et||tt)}ut&&this._transitionState(_e,st,ot)},$.prototype._attachComponent=function(_e){if(!(_e.__zr&&!_e.__hostTarget)&&_e!==this){var et=this.__zr;et&&_e.addSelfToZr(et),_e.__zr=et,_e.__hostTarget=this}},$.prototype._detachComponent=function(_e){_e.__zr&&_e.removeSelfFromZr(_e.__zr),_e.__zr=null,_e.__hostTarget=null},$.prototype.getClipPath=function(){return this._clipPath},$.prototype.setClipPath=function(_e){this._clipPath&&this._clipPath!==_e&&this.removeClipPath(),this._attachComponent(_e),this._clipPath=_e,this.markRedraw()},$.prototype.removeClipPath=function(){var _e=this._clipPath;_e&&(this._detachComponent(_e),this._clipPath=null,this.markRedraw())},$.prototype.getTextContent=function(){return this._textContent},$.prototype.setTextContent=function(_e){var et=this._textContent;et!==_e&&(et&&et!==_e&&this.removeTextContent(),_e.innerTransformable=new Transformable$1,this._attachComponent(_e),this._textContent=_e,this.markRedraw())},$.prototype.setTextConfig=function(_e){this.textConfig||(this.textConfig={}),extend(this.textConfig,_e),this.markRedraw()},$.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},$.prototype.removeTextContent=function(){var _e=this._textContent;_e&&(_e.innerTransformable=null,this._detachComponent(_e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},$.prototype.getTextGuideLine=function(){return this._textGuide},$.prototype.setTextGuideLine=function(_e){this._textGuide&&this._textGuide!==_e&&this.removeTextGuideLine(),this._attachComponent(_e),this._textGuide=_e,this.markRedraw()},$.prototype.removeTextGuideLine=function(){var _e=this._textGuide;_e&&(this._detachComponent(_e),this._textGuide=null,this.markRedraw())},$.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var _e=this.__zr;_e&&(this.__inHover?_e.refreshHover():_e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},$.prototype.dirty=function(){this.markRedraw()},$.prototype._toggleHoverLayerFlag=function(_e){this.__inHover=_e;var et=this._textContent,tt=this._textGuide;et&&(et.__inHover=_e),tt&&(tt.__inHover=_e)},$.prototype.addSelfToZr=function(_e){if(this.__zr!==_e){this.__zr=_e;var et=this.animators;if(et)for(var tt=0;tt<et.length;tt++)_e.animation.addAnimator(et[tt]);this._clipPath&&this._clipPath.addSelfToZr(_e),this._textContent&&this._textContent.addSelfToZr(_e),this._textGuide&&this._textGuide.addSelfToZr(_e)}},$.prototype.removeSelfFromZr=function(_e){if(!!this.__zr){this.__zr=null;var et=this.animators;if(et)for(var tt=0;tt<et.length;tt++)_e.animation.removeAnimator(et[tt]);this._clipPath&&this._clipPath.removeSelfFromZr(_e),this._textContent&&this._textContent.removeSelfFromZr(_e),this._textGuide&&this._textGuide.removeSelfFromZr(_e)}},$.prototype.animate=function(_e,et,tt){var nt=_e?this[_e]:this,at=new Animator(nt,et,tt);return _e&&(at.targetName=_e),this.addAnimator(at,_e),at},$.prototype.addAnimator=function(_e,et){var tt=this.__zr,nt=this;_e.during(function(){nt.updateDuringAnimation(et)}).done(function(){var at=nt.animators,ot=indexOf(at,_e);ot>=0&&at.splice(ot,1)}),this.animators.push(_e),tt&&tt.animation.addAnimator(_e),tt&&tt.wakeUp()},$.prototype.updateDuringAnimation=function(_e){this.markRedraw()},$.prototype.stopAnimation=function(_e,et){for(var tt=this.animators,nt=tt.length,at=[],ot=0;ot<nt;ot++){var it=tt[ot];!_e||_e===it.scope?it.stop(et):at.push(it)}return this.animators=at,this},$.prototype.animateTo=function(_e,et,tt){animateTo(this,_e,et,tt)},$.prototype.animateFrom=function(_e,et,tt){animateTo(this,_e,et,tt,!0)},$.prototype._transitionState=function(_e,et,tt,nt){for(var at=animateTo(this,et,tt,nt),ot=0;ot<at.length;ot++)at[ot].__fromStateTransition=_e},$.prototype.getBoundingRect=function(){return null},$.prototype.getPaintRect=function(){return null},$.initDefaultProps=function(){var _e=$.prototype;_e.type="element",_e.name="",_e.ignore=_e.silent=_e.isGroup=_e.draggable=_e.dragging=_e.ignoreClip=_e.__inHover=!1,_e.__dirty=REDRAW_BIT;function et(tt,nt,at,ot){Object.defineProperty(_e,tt,{get:function(){if(!this[nt]){var st=this[nt]=[];it(this,st)}return this[nt]},set:function(st){this[at]=st[0],this[ot]=st[1],this[nt]=st,it(this,st)}});function it(st,ut){Object.defineProperty(ut,0,{get:function(){return st[at]},set:function(ft){st[at]=ft}}),Object.defineProperty(ut,1,{get:function(){return st[ot]},set:function(ft){st[ot]=ft}})}}Object.defineProperty&&(et("position","_legacyPos","x","y"),et("scale","_legacyScale","scaleX","scaleY"),et("origin","_legacyOrigin","originX","originY"))}(),$}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo($,_e,et,tt,nt){et=et||{};var at=[];animateToShallow($,"",$,_e,et,tt,at,nt);var ot=at.length,it=!1,st=et.done,ut=et.aborted,ft=function(){it=!0,ot--,ot<=0&&(it?st&&st():ut&&ut())},dt=function(){ot--,ot<=0&&(it?st&&st():ut&&ut())};ot||st&&st(),at.length>0&&et.during&&at[0].during(function(yt,xt){et.during(xt)});for(var vt=0;vt<at.length;vt++){var gt=at[vt];ft&&gt.done(ft),dt&&gt.aborted(dt),et.force&&gt.duration(et.duration),gt.start(et.easing)}return at}function copyArrShallow($,_e,et){for(var tt=0;tt<et;tt++)$[tt]=_e[tt]}function is2DArray($){return isArrayLike($[0])}function copyValue($,_e,et){if(isArrayLike(_e[et]))if(isArrayLike($[et])||($[et]=[]),isTypedArray(_e[et])){var tt=_e[et].length;$[et].length!==tt&&($[et]=new _e[et].constructor(tt),copyArrShallow($[et],_e[et],tt))}else{var nt=_e[et],at=$[et],ot=nt.length;if(is2DArray(nt))for(var it=nt[0].length,st=0;st<ot;st++)at[st]?copyArrShallow(at[st],nt[st],it):at[st]=Array.prototype.slice.call(nt[st]);else copyArrShallow(at,nt,ot);at.length=nt.length}else $[et]=_e[et]}function isValueSame($,_e){return $===_e||isArrayLike($)&&isArrayLike(_e)&&is1DArraySame($,_e)}function is1DArraySame($,_e){var et=$.length;if(et!==_e.length)return!1;for(var tt=0;tt<et;tt++)if($[tt]!==_e[tt])return!1;return!0}function animateToShallow($,_e,et,tt,nt,at,ot,it){for(var st=keys(tt),ut=nt.duration,ft=nt.delay,dt=nt.additive,vt=nt.setToFinal,gt=!isObject$3(at),yt=$.animators,xt=[],Ct=0;Ct<st.length;Ct++){var wt=st[Ct],Et=tt[wt];if(Et!=null&&et[wt]!=null&&(gt||at[wt]))if(isObject$3(Et)&&!isArrayLike(Et)&&!isGradientObject(Et)){if(_e){it||(et[wt]=Et,$.updateDuringAnimation(_e));continue}animateToShallow($,wt,et[wt],Et,nt,at&&at[wt],ot,it)}else xt.push(wt);else it||(et[wt]=Et,$.updateDuringAnimation(_e),xt.push(wt))}var $t=xt.length;if(!dt&&$t)for(var It=0;It<yt.length;It++){var Ot=yt[It];if(Ot.targetName===_e){var Lt=Ot.stopTracks(xt);if(Lt){var Ft=indexOf(yt,Ot);yt.splice(Ft,1)}}}if(nt.force||(xt=filter(xt,function(Ut){return!isValueSame(tt[Ut],et[Ut])}),$t=xt.length),$t>0||nt.force&&!ot.length){var zt=void 0,Gt=void 0,jt=void 0;if(it){Gt={},vt&&(zt={});for(var It=0;It<$t;It++){var wt=xt[It];Gt[wt]=et[wt],vt?zt[wt]=tt[wt]:et[wt]=tt[wt]}}else if(vt){jt={};for(var It=0;It<$t;It++){var wt=xt[It];jt[wt]=cloneValue(et[wt]),copyValue(et,tt,wt)}}var Ot=new Animator(et,!1,!1,dt?filter(yt,function(Kt){return Kt.targetName===_e}):null);Ot.targetName=_e,nt.scope&&(Ot.scope=nt.scope),vt&&zt&&Ot.whenWithKeys(0,zt,xt),jt&&Ot.whenWithKeys(0,jt,xt),Ot.whenWithKeys(ut==null?500:ut,it?Gt:tt,xt).delay(ft||0),$.addAnimator(Ot,_e),ot.push(Ot)}}var Element$2=Element$1,Group$3=function($){__extends(_e,$);function _e(et){var tt=$.call(this)||this;return tt.isGroup=!0,tt._children=[],tt.attr(et),tt}return _e.prototype.childrenRef=function(){return this._children},_e.prototype.children=function(){return this._children.slice()},_e.prototype.childAt=function(et){return this._children[et]},_e.prototype.childOfName=function(et){for(var tt=this._children,nt=0;nt<tt.length;nt++)if(tt[nt].name===et)return tt[nt]},_e.prototype.childCount=function(){return this._children.length},_e.prototype.add=function(et){return et&&et!==this&&et.parent!==this&&(this._children.push(et),this._doAdd(et)),this},_e.prototype.addBefore=function(et,tt){if(et&&et!==this&&et.parent!==this&&tt&&tt.parent===this){var nt=this._children,at=nt.indexOf(tt);at>=0&&(nt.splice(at,0,et),this._doAdd(et))}return this},_e.prototype.replace=function(et,tt){var nt=indexOf(this._children,et);return nt>=0&&this.replaceAt(tt,nt),this},_e.prototype.replaceAt=function(et,tt){var nt=this._children,at=nt[tt];if(et&&et!==this&&et.parent!==this&&et!==at){nt[tt]=et,at.parent=null;var ot=this.__zr;ot&&at.removeSelfFromZr(ot),this._doAdd(et)}return this},_e.prototype._doAdd=function(et){et.parent&&et.parent.remove(et),et.parent=this;var tt=this.__zr;tt&&tt!==et.__zr&&et.addSelfToZr(tt),tt&&tt.refresh()},_e.prototype.remove=function(et){var tt=this.__zr,nt=this._children,at=indexOf(nt,et);return at<0?this:(nt.splice(at,1),et.parent=null,tt&&et.removeSelfFromZr(tt),tt&&tt.refresh(),this)},_e.prototype.removeAll=function(){for(var et=this._children,tt=this.__zr,nt=0;nt<et.length;nt++){var at=et[nt];tt&&at.removeSelfFromZr(tt),at.parent=null}return et.length=0,this},_e.prototype.eachChild=function(et,tt){for(var nt=this._children,at=0;at<nt.length;at++){var ot=nt[at];et.call(tt,ot,at)}return this},_e.prototype.traverse=function(et,tt){for(var nt=0;nt<this._children.length;nt++){var at=this._children[nt],ot=et.call(tt,at);at.isGroup&&!ot&&at.traverse(et,tt)}return this},_e.prototype.addSelfToZr=function(et){$.prototype.addSelfToZr.call(this,et);for(var tt=0;tt<this._children.length;tt++){var nt=this._children[tt];nt.addSelfToZr(et)}},_e.prototype.removeSelfFromZr=function(et){$.prototype.removeSelfFromZr.call(this,et);for(var tt=0;tt<this._children.length;tt++){var nt=this._children[tt];nt.removeSelfFromZr(et)}},_e.prototype.getBoundingRect=function(et){for(var tt=new BoundingRect$1(0,0,0,0),nt=et||this._children,at=[],ot=null,it=0;it<nt.length;it++){var st=nt[it];if(!(st.ignore||st.invisible)){var ut=st.getBoundingRect(),ft=st.getLocalTransform(at);ft?(BoundingRect$1.applyTransform(tt,ut,ft),ot=ot||tt.clone(),ot.union(tt)):(ot=ot||ut.clone(),ot.union(ut))}}return ot||tt},_e}(Element$2);Group$3.prototype.type="group";var Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance($){delete instances$1[$]}function isDarkMode($){if(!$)return!1;if(typeof $=="string")return lum($,1)<DARK_MODE_THRESHOLD;if($.colorStops){for(var _e=$.colorStops,et=0,tt=_e.length,nt=0;nt<tt;nt++)et+=lum(_e[nt].color,1);return et/=tt,et<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function $(_e,et,tt){var nt=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,tt=tt||{},this.dom=et,this.id=_e;var at=new Storage$1,ot=tt.renderer||"canvas";painterCtors[ot]||(ot=keys(painterCtors)[0]),tt.useDirtyRect=tt.useDirtyRect==null?!1:tt.useDirtyRect;var it=new painterCtors[ot](et,at,tt,_e),st=tt.ssr||it.ssrOnly;this.storage=at,this.painter=it;var ut=!env$1.node&&!env$1.worker&&!st?new HandlerProxy(it.getViewportRoot(),it.root):null;this.handler=new Handler$1(at,it,ut,it.root),this.animation=new Animation$1({stage:{update:st?null:function(){return nt._flush(!0)}}}),st||this.animation.start()}return $.prototype.add=function(_e){!_e||(this.storage.addRoot(_e),_e.addSelfToZr(this),this.refresh())},$.prototype.remove=function(_e){!_e||(this.storage.delRoot(_e),_e.removeSelfFromZr(this),this.refresh())},$.prototype.configLayer=function(_e,et){this.painter.configLayer&&this.painter.configLayer(_e,et),this.refresh()},$.prototype.setBackgroundColor=function(_e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(_e),this.refresh(),this._backgroundColor=_e,this._darkMode=isDarkMode(_e)},$.prototype.getBackgroundColor=function(){return this._backgroundColor},$.prototype.setDarkMode=function(_e){this._darkMode=_e},$.prototype.isDarkMode=function(){return this._darkMode},$.prototype.refreshImmediately=function(_e){_e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},$.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},$.prototype.flush=function(){this._flush(!1)},$.prototype._flush=function(_e){var et,tt=getTime();this._needsRefresh&&(et=!0,this.refreshImmediately(_e)),this._needsRefreshHover&&(et=!0,this.refreshHoverImmediately());var nt=getTime();et?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:nt-tt})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},$.prototype.setSleepAfterStill=function(_e){this._sleepAfterStill=_e},$.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},$.prototype.refreshHover=function(){this._needsRefreshHover=!0},$.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},$.prototype.resize=function(_e){_e=_e||{},this.painter.resize(_e.width,_e.height),this.handler.resize()},$.prototype.clearAnimation=function(){this.animation.clear()},$.prototype.getWidth=function(){return this.painter.getWidth()},$.prototype.getHeight=function(){return this.painter.getHeight()},$.prototype.setCursorStyle=function(_e){this.handler.setCursorStyle(_e)},$.prototype.findHover=function(_e,et){return this.handler.findHover(_e,et)},$.prototype.on=function(_e,et,tt){return this.handler.on(_e,et,tt),this},$.prototype.off=function(_e,et){this.handler.off(_e,et)},$.prototype.trigger=function(_e,et){this.handler.trigger(_e,et)},$.prototype.clear=function(){for(var _e=this.storage.getRoots(),et=0;et<_e.length;et++)_e[et]instanceof Group$4&&_e[et].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},$.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},$}();function init$2($,_e){var et=new ZRender(guid(),$,_e);return instances$1[et.id]=et,et}function registerPainter($,_e){painterCtors[$]=_e}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim($){return $.replace(/^\s+|\s+$/g,"")}function linearMap$2($,_e,et,tt){var nt=_e[0],at=_e[1],ot=et[0],it=et[1],st=at-nt,ut=it-ot;if(st===0)return ut===0?ot:(ot+it)/2;if(tt)if(st>0){if($<=nt)return ot;if($>=at)return it}else{if($>=nt)return ot;if($<=at)return it}else{if($===nt)return ot;if($===at)return it}return($-nt)/st*ut+ot}function parsePercent($,_e){switch($){case"center":case"middle":$="50%";break;case"left":case"top":$="0%";break;case"right":case"bottom":$="100%";break}return isString($)?_trim($).match(/%$/)?parseFloat($)/100*_e:parseFloat($):$==null?NaN:+$}function round$3($,_e,et){return _e==null&&(_e=10),_e=Math.min(Math.max(0,_e),ROUND_SUPPORTED_PRECISION_MAX),$=(+$).toFixed(_e),et?$:+$}function asc$2($){return $.sort(function(_e,et){return _e-et}),$}function getPrecision($){if($=+$,isNaN($))return 0;if($>1e-14){for(var _e=1,et=0;et<15;et++,_e*=10)if(Math.round($*_e)/_e===$)return et}return getPrecisionSafe($)}function getPrecisionSafe($){var _e=$.toString().toLowerCase(),et=_e.indexOf("e"),tt=et>0?+_e.slice(et+1):0,nt=et>0?et:_e.length,at=_e.indexOf("."),ot=at<0?0:nt-1-at;return Math.max(0,ot-tt)}function getPixelPrecision($,_e){var et=Math.log,tt=Math.LN10,nt=Math.floor(et($[1]-$[0])/tt),at=Math.round(et(Math.abs(_e[1]-_e[0]))/tt),ot=Math.min(Math.max(-nt+at,0),20);return isFinite(ot)?ot:20}function getPercentWithPrecision($,_e,et){if(!$[_e])return 0;var tt=reduce($,function(yt,xt){return yt+(isNaN(xt)?0:xt)},0);if(tt===0)return 0;for(var nt=Math.pow(10,et),at=map$1($,function(yt){return(isNaN(yt)?0:yt)/tt*nt*100}),ot=nt*100,it=map$1(at,function(yt){return Math.floor(yt)}),st=reduce(it,function(yt,xt){return yt+xt},0),ut=map$1(at,function(yt,xt){return yt-it[xt]});st<ot;){for(var ft=Number.NEGATIVE_INFINITY,dt=null,vt=0,gt=ut.length;vt<gt;++vt)ut[vt]>ft&&(ft=ut[vt],dt=vt);++it[dt],ut[dt]=0,++st}return it[_e]/nt}function addSafe($,_e){var et=Math.max(getPrecision($),getPrecision(_e)),tt=$+_e;return et>ROUND_SUPPORTED_PRECISION_MAX?tt:round$3(tt,et)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian($){var _e=Math.PI*2;return($%_e+_e)%_e}function isRadianAroundZero($){return $>-RADIAN_EPSILON&&$<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate($){if($ instanceof Date)return $;if(isString($)){var _e=TIME_REG.exec($);if(!_e)return new Date(NaN);if(_e[8]){var et=+_e[4]||0;return _e[8].toUpperCase()!=="Z"&&(et-=+_e[8].slice(0,3)),new Date(Date.UTC(+_e[1],+(_e[2]||1)-1,+_e[3]||1,et,+(_e[5]||0),+_e[6]||0,_e[7]?+_e[7].substring(0,3):0))}else return new Date(+_e[1],+(_e[2]||1)-1,+_e[3]||1,+_e[4]||0,+(_e[5]||0),+_e[6]||0,_e[7]?+_e[7].substring(0,3):0)}else if($==null)return new Date(NaN);return new Date(Math.round($))}function quantity($){return Math.pow(10,quantityExponent($))}function quantityExponent($){if($===0)return 0;var _e=Math.floor(Math.log($)/Math.LN10);return $/Math.pow(10,_e)>=10&&_e++,_e}function nice($,_e){var et=quantityExponent($),tt=Math.pow(10,et),nt=$/tt,at;return _e?nt<1.5?at=1:nt<2.5?at=2:nt<4?at=3:nt<7?at=5:at=10:nt<1?at=1:nt<2?at=2:nt<3?at=3:nt<5?at=5:at=10,$=at*tt,et>=-20?+$.toFixed(et<0?-et:0):$}function quantile($,_e){var et=($.length-1)*_e+1,tt=Math.floor(et),nt=+$[tt-1],at=et-tt;return at?nt+at*($[tt]-nt):nt}function reformIntervals($){$.sort(function(st,ut){return it(st,ut,0)?-1:1});for(var _e=-1/0,et=1,tt=0;tt<$.length;){for(var nt=$[tt].interval,at=$[tt].close,ot=0;ot<2;ot++)nt[ot]<=_e&&(nt[ot]=_e,at[ot]=ot?1:1-et),_e=nt[ot],et=at[ot];nt[0]===nt[1]&&at[0]*at[1]!==1?$.splice(tt,1):tt++}return $;function it(st,ut,ft){return st.interval[ft]<ut.interval[ft]||st.interval[ft]===ut.interval[ft]&&(st.close[ft]-ut.close[ft]===(ft?-1:1)||!ft&&it(st,ut,1))}}function numericToNumber($){var _e=parseFloat($);return _e==$&&(_e!==0||!isString($)||$.indexOf("x")<=0)?_e:NaN}function isNumeric($){return!isNaN(numericToNumber($))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor($,_e){return _e===0?$:getGreatestCommonDividor(_e,$%_e)}function getLeastCommonMultiple($,_e){return $==null?_e:_e==null?$:$*_e/getGreatestCommonDividor($,_e)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console!="undefined"&&console.warn&&console.log;function outputLog($,_e,et){if(hasConsole){if(et){if(storedLogs[_e])return;storedLogs[_e]=!0}console[$](ECHARTS_PREFIX+_e)}}function warn($,_e){outputLog("warn",$,_e)}function throwError($){throw new Error($)}function interpolateNumber($,_e,et){return(_e-$)*et+$}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray($){return $ instanceof Array?$:$==null?[]:[$]}function defaultEmphasis($,_e,et){if($){$[_e]=$[_e]||{},$.emphasis=$.emphasis||{},$.emphasis[_e]=$.emphasis[_e]||{};for(var tt=0,nt=et.length;tt<nt;tt++){var at=et[tt];!$.emphasis[_e].hasOwnProperty(at)&&$[_e].hasOwnProperty(at)&&($.emphasis[_e][at]=$[_e][at])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue($){return isObject$3($)&&!isArray$1($)&&!($ instanceof Date)?$.value:$}function isDataItemOption($){return isObject$3($)&&!($ instanceof Array)}function mappingToExists($,_e,et){var tt=et==="normalMerge",nt=et==="replaceMerge",at=et==="replaceAll";$=$||[],_e=(_e||[]).slice();var ot=createHashMap();each$f(_e,function(st,ut){if(!isObject$3(st)){_e[ut]=null;return}});var it=prepareResult($,ot,et);return(tt||nt)&&mappingById(it,$,ot,_e),tt&&mappingByName(it,_e),tt||nt?mappingByIndex(it,_e,nt):at&&mappingInReplaceAllMode(it,_e),makeIdAndName(it),it}function prepareResult($,_e,et){var tt=[];if(et==="replaceAll")return tt;for(var nt=0;nt<$.length;nt++){var at=$[nt];at&&at.id!=null&&_e.set(at.id,nt),tt.push({existing:et==="replaceMerge"||isComponentIdInternal(at)?null:at,newOption:null,keyInfo:null,brandNew:null})}return tt}function mappingById($,_e,et,tt){each$f(tt,function(nt,at){if(!(!nt||nt.id==null)){var ot=makeComparableKey(nt.id),it=et.get(ot);if(it!=null){var st=$[it];assert(!st.newOption,'Duplicated option on id "'+ot+'".'),st.newOption=nt,st.existing=_e[it],tt[at]=null}}})}function mappingByName($,_e){each$f(_e,function(et,tt){if(!(!et||et.name==null))for(var nt=0;nt<$.length;nt++){var at=$[nt].existing;if(!$[nt].newOption&&at&&(at.id==null||et.id==null)&&!isComponentIdInternal(et)&&!isComponentIdInternal(at)&&keyExistAndEqual("name",at,et)){$[nt].newOption=et,_e[tt]=null;return}}})}function mappingByIndex($,_e,et){each$f(_e,function(tt){if(!!tt){for(var nt,at=0;(nt=$[at])&&(nt.newOption||isComponentIdInternal(nt.existing)||nt.existing&&tt.id!=null&&!keyExistAndEqual("id",tt,nt.existing));)at++;nt?(nt.newOption=tt,nt.brandNew=et):$.push({newOption:tt,brandNew:et,existing:null,keyInfo:null}),at++}})}function mappingInReplaceAllMode($,_e){each$f(_e,function(et){$.push({newOption:et,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName($){var _e=createHashMap();each$f($,function(et){var tt=et.existing;tt&&_e.set(tt.id,et)}),each$f($,function(et){var tt=et.newOption;assert(!tt||tt.id==null||!_e.get(tt.id)||_e.get(tt.id)===et,"id duplicates: "+(tt&&tt.id)),tt&&tt.id!=null&&_e.set(tt.id,et),!et.keyInfo&&(et.keyInfo={})}),each$f($,function(et,tt){var nt=et.existing,at=et.newOption,ot=et.keyInfo;if(!!isObject$3(at)){if(ot.name=at.name!=null?makeComparableKey(at.name):nt?nt.name:DUMMY_COMPONENT_NAME_PREFIX+tt,nt)ot.id=makeComparableKey(nt.id);else if(at.id!=null)ot.id=makeComparableKey(at.id);else{var it=0;do ot.id="\0"+ot.name+"\0"+it++;while(_e.get(ot.id))}_e.set(ot.id,et)}})}function keyExistAndEqual($,_e,et){var tt=convertOptionIdName(_e[$],null),nt=convertOptionIdName(et[$],null);return tt!=null&&nt!=null&&tt===nt}function makeComparableKey($){return convertOptionIdName($,"")}function convertOptionIdName($,_e){return $==null?_e:isString($)?$:isNumber($)||isStringSafe($)?$+"":_e}function isNameSpecified($){var _e=$.name;return!!(_e&&_e.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal($){return $&&$.id!=null&&makeComparableKey($.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId($){return INTERNAL_COMPONENT_ID_PREFIX+$}function setComponentTypeToKeyInfo($,_e,et){each$f($,function(tt){var nt=tt.newOption;isObject$3(nt)&&(tt.keyInfo.mainType=_e,tt.keyInfo.subType=determineSubType(_e,nt,tt.existing,et))})}function determineSubType($,_e,et,tt){var nt=_e.type?_e.type:et?et.subType:tt.determineSubType($,_e);return nt}function compressBatches($,_e){var et={},tt={};return nt($||[],et),nt(_e||[],tt,et),[at(et),at(tt)];function nt(ot,it,st){for(var ut=0,ft=ot.length;ut<ft;ut++){var dt=convertOptionIdName(ot[ut].seriesId,null);if(dt==null)return;for(var vt=normalizeToArray(ot[ut].dataIndex),gt=st&&st[dt],yt=0,xt=vt.length;yt<xt;yt++){var Ct=vt[yt];gt&&gt[Ct]?gt[Ct]=null:(it[dt]||(it[dt]={}))[Ct]=1}}}function at(ot,it){var st=[];for(var ut in ot)if(ot.hasOwnProperty(ut)&&ot[ut]!=null)if(it)st.push(+ut);else{var ft=at(ot[ut],!0);ft.length&&st.push({seriesId:ut,dataIndex:ft})}return st}}function queryDataIndex($,_e){if(_e.dataIndexInside!=null)return _e.dataIndexInside;if(_e.dataIndex!=null)return isArray$1(_e.dataIndex)?map$1(_e.dataIndex,function(et){return $.indexOfRawIndex(et)}):$.indexOfRawIndex(_e.dataIndex);if(_e.name!=null)return isArray$1(_e.name)?map$1(_e.name,function(et){return $.indexOfName(et)}):$.indexOfName(_e.name)}function makeInner(){var $="__ec_inner_"+innerUniqueIndex++;return function(_e){return _e[$]||(_e[$]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1($,_e,et){var tt=preParseFinder(_e,et),nt=tt.mainTypeSpecified,at=tt.queryOptionMap,ot=tt.others,it=ot,st=et?et.defaultMainType:null;return!nt&&st&&at.set(st,{}),at.each(function(ut,ft){var dt=queryReferringComponents($,ft,ut,{useDefault:st===ft,enableAll:et&&et.enableAll!=null?et.enableAll:!0,enableNone:et&&et.enableNone!=null?et.enableNone:!0});it[ft+"Models"]=dt.models,it[ft+"Model"]=dt.models[0]}),it}function preParseFinder($,_e){var et;if(isString($)){var tt={};tt[$+"Index"]=0,et=tt}else et=$;var nt=createHashMap(),at={},ot=!1;return each$f(et,function(it,st){if(st==="dataIndex"||st==="dataIndexInside"){at[st]=it;return}var ut=st.match(/^(\w+)(Index|Id|Name)$/)||[],ft=ut[1],dt=(ut[2]||"").toLowerCase();if(!(!ft||!dt||_e&&_e.includeMainTypes&&indexOf(_e.includeMainTypes,ft)<0)){ot=ot||!!ft;var vt=nt.get(ft)||nt.set(ft,{});vt[dt]=it}}),{mainTypeSpecified:ot,queryOptionMap:nt,others:at}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents($,_e,et,tt){tt=tt||SINGLE_REFERRING;var nt=et.index,at=et.id,ot=et.name,it={models:null,specified:nt!=null||at!=null||ot!=null};if(!it.specified){var st=void 0;return it.models=tt.useDefault&&(st=$.getComponent(_e))?[st]:[],it}return nt==="none"||nt===!1?(assert(tt.enableNone,'`"none"` or `false` is not a valid value on index option.'),it.models=[],it):(nt==="all"&&(assert(tt.enableAll,'`"all"` is not a valid value on index option.'),nt=at=ot=null),it.models=$.queryComponents({mainType:_e,index:nt,id:at,name:ot}),it)}function setAttribute($,_e,et){$.setAttribute?$.setAttribute(_e,et):$[_e]=et}function getAttribute($,_e){return $.getAttribute?$.getAttribute(_e):$[_e]}function getTooltipRenderMode($){return $==="auto"?env$1.domSupported?"html":"richText":$||"html"}function groupData($,_e){var et=createHashMap(),tt=[];return each$f($,function(nt){var at=_e(nt);(et.get(at)||(tt.push(at),et.set(at,[]))).push(nt)}),{keys:tt,buckets:et}}function interpolateRawValues($,_e,et,tt,nt){var at=_e==null||_e==="auto";if(tt==null)return tt;if(isNumber(tt)){var ot=interpolateNumber(et||0,tt,nt);return round$3(ot,at?Math.max(getPrecision(et||0),getPrecision(tt)):_e)}else{if(isString(tt))return nt<1?et:tt;for(var it=[],st=et,ut=tt,ft=Math.max(st?st.length:0,ut.length),dt=0;dt<ft;++dt){var vt=$.getDimensionInfo(dt);if(vt&&vt.type==="ordinal")it[dt]=(nt<1&&st?st:ut)[dt];else{var gt=st&&st[dt]?st[dt]:0,yt=ut[dt],ot=interpolateNumber(gt,yt,nt);it[dt]=round$3(ot,at?Math.max(getPrecision(gt),getPrecision(yt)):_e)}}return it}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType($){var _e={main:"",sub:""};if($){var et=$.split(TYPE_DELIMITER);_e.main=et[0]||"",_e.sub=et[1]||""}return _e}function checkClassType($){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test($),'componentType "'+$+'" illegal')}function isExtendedClass($){return!!($&&$[IS_EXTENDED_CLASS])}function enableClassExtend($,_e){$.$constructor=$,$.extend=function(et){var tt=this,nt;return isESClass(tt)?nt=function(at){__extends(ot,at);function ot(){return at.apply(this,arguments)||this}return ot}(tt):(nt=function(){(et.$constructor||tt).apply(this,arguments)},inherits(nt,this)),extend(nt.prototype,et),nt[IS_EXTENDED_CLASS]=!0,nt.extend=this.extend,nt.superCall=superCall,nt.superApply=superApply,nt.superClass=tt,nt}}function isESClass($){return isFunction($)&&/^class\s/.test(Function.prototype.toString.call($))}function mountExtend($,_e){$.extend=_e.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck($){var _e=["__\0is_clz",classBase++].join("_");$.prototype[_e]=!0,$.isInstance=function(et){return!!(et&&et[_e])}}function superCall($,_e){for(var et=[],tt=2;tt<arguments.length;tt++)et[tt-2]=arguments[tt];return this.superClass.prototype[_e].apply($,et)}function superApply($,_e,et){return this.superClass.prototype[_e].apply($,et)}function enableClassManagement($){var _e={};$.registerClass=function(tt){var nt=tt.type||tt.prototype.type;if(nt){checkClassType(nt),tt.prototype.type=nt;var at=parseClassType(nt);if(!at.sub)_e[at.main]=tt;else if(at.sub!==IS_CONTAINER){var ot=et(at);ot[at.sub]=tt}}return tt},$.getClass=function(tt,nt,at){var ot=_e[tt];if(ot&&ot[IS_CONTAINER]&&(ot=nt?ot[nt]:null),at&&!ot)throw new Error(nt?"Component "+tt+"."+(nt||"")+" is used but not imported.":tt+".type should be specified.");return ot},$.getClassesByMainType=function(tt){var nt=parseClassType(tt),at=[],ot=_e[nt.main];return ot&&ot[IS_CONTAINER]?each$f(ot,function(it,st){st!==IS_CONTAINER&&at.push(it)}):at.push(ot),at},$.hasClass=function(tt){var nt=parseClassType(tt);return!!_e[nt.main]},$.getAllClassMainTypes=function(){var tt=[];return each$f(_e,function(nt,at){tt.push(at)}),tt},$.hasSubTypes=function(tt){var nt=parseClassType(tt),at=_e[nt.main];return at&&at[IS_CONTAINER]};function et(tt){var nt=_e[tt.main];return(!nt||!nt[IS_CONTAINER])&&(nt=_e[tt.main]={},nt[IS_CONTAINER]=!0),nt}}function makeStyleMapper($,_e){for(var et=0;et<$.length;et++)$[et][1]||($[et][1]=$[et][0]);return _e=_e||!1,function(tt,nt,at){for(var ot={},it=0;it<$.length;it++){var st=$[it][1];if(!(nt&&indexOf(nt,st)>=0||at&&indexOf(at,st)<0)){var ut=tt.getShallow(st,_e);ut!=null&&(ot[$[it][0]]=ut)}}return ot}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function $(){}return $.prototype.getAreaStyle=function(_e,et){return getAreaStyle(this,_e,et)},$}(),globalImageCache=new LRU$1(50);function findExistImage($){if(typeof $=="string"){var _e=globalImageCache.get($);return _e&&_e.image}else return $}function createOrUpdateImage($,_e,et,tt,nt){if($)if(typeof $=="string"){if(_e&&_e.__zrImageSrc===$||!et)return _e;var at=globalImageCache.get($),ot={hostEl:et,cb:tt,cbPayload:nt};return at?(_e=at.image,!isImageReady(_e)&&at.pending.push(ot)):(_e=platformApi.loadImage($,imageOnLoad,imageOnLoad),_e.__zrImageSrc=$,globalImageCache.put($,_e.__cachedImgObj={image:_e,pending:[ot]})),_e}else return $;else return _e}function imageOnLoad(){var $=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var _e=0;_e<$.pending.length;_e++){var et=$.pending[_e],tt=et.cb;tt&&tt(this,et.cbPayload),et.hostEl.dirty()}$.pending.length=0}function isImageReady($){return $&&$.width&&$.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText($,_e,et,tt,nt){if(!_e)return"";var at=($+"").split(`
`);nt=prepareTruncateOptions(_e,et,tt,nt);for(var ot=0,it=at.length;ot<it;ot++)at[ot]=truncateSingleLine(at[ot],nt);return at.join(`
`)}function prepareTruncateOptions($,_e,et,tt){tt=tt||{};var nt=extend({},tt);nt.font=_e,et=retrieve2(et,"..."),nt.maxIterations=retrieve2(tt.maxIterations,2);var at=nt.minChar=retrieve2(tt.minChar,0);nt.cnCharWidth=getWidth("\u56FD",_e);var ot=nt.ascCharWidth=getWidth("a",_e);nt.placeholder=retrieve2(tt.placeholder,"");for(var it=$=Math.max(0,$-1),st=0;st<at&&it>=ot;st++)it-=ot;var ut=getWidth(et,_e);return ut>it&&(et="",ut=0),it=$-ut,nt.ellipsis=et,nt.ellipsisWidth=ut,nt.contentWidth=it,nt.containerWidth=$,nt}function truncateSingleLine($,_e){var et=_e.containerWidth,tt=_e.font,nt=_e.contentWidth;if(!et)return"";var at=getWidth($,tt);if(at<=et)return $;for(var ot=0;;ot++){if(at<=nt||ot>=_e.maxIterations){$+=_e.ellipsis;break}var it=ot===0?estimateLength($,nt,_e.ascCharWidth,_e.cnCharWidth):at>0?Math.floor($.length*nt/at):0;$=$.substr(0,it),at=getWidth($,tt)}return $===""&&($=_e.placeholder),$}function estimateLength($,_e,et,tt){for(var nt=0,at=0,ot=$.length;at<ot&&nt<_e;at++){var it=$.charCodeAt(at);nt+=0<=it&&it<=127?et:tt}return at}function parsePlainText($,_e){$!=null&&($+="");var et=_e.overflow,tt=_e.padding,nt=_e.font,at=et==="truncate",ot=getLineHeight(nt),it=retrieve2(_e.lineHeight,ot),st=!!_e.backgroundColor,ut=_e.lineOverflow==="truncate",ft=_e.width,dt;ft!=null&&(et==="break"||et==="breakAll")?dt=$?wrapText($,_e.font,ft,et==="breakAll",0).lines:[]:dt=$?$.split(`
`):[];var vt=dt.length*it,gt=retrieve2(_e.height,vt);if(vt>gt&&ut){var yt=Math.floor(gt/it);dt=dt.slice(0,yt)}if($&&at&&ft!=null)for(var xt=prepareTruncateOptions(ft,nt,_e.ellipsis,{minChar:_e.truncateMinChar,placeholder:_e.placeholder}),Ct=0;Ct<dt.length;Ct++)dt[Ct]=truncateSingleLine(dt[Ct],xt);for(var wt=gt,Et=0,Ct=0;Ct<dt.length;Ct++)Et=Math.max(getWidth(dt[Ct],nt),Et);ft==null&&(ft=Et);var $t=Et;return tt&&(wt+=tt[0]+tt[2],$t+=tt[1]+tt[3],ft+=tt[1]+tt[3]),st&&($t=ft),{lines:dt,height:gt,outerWidth:$t,outerHeight:wt,lineHeight:it,calculatedLineHeight:ot,contentWidth:Et,contentHeight:vt,width:ft}}var RichTextToken=function(){function $(){}return $}(),RichTextLine=function(){function $(_e){this.tokens=[],_e&&(this.tokens=_e)}return $}(),RichTextContentBlock=function(){function $(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return $}();function parseRichText($,_e){var et=new RichTextContentBlock;if($!=null&&($+=""),!$)return et;for(var tt=_e.width,nt=_e.height,at=_e.overflow,ot=(at==="break"||at==="breakAll")&&tt!=null?{width:tt,accumWidth:0,breakAll:at==="breakAll"}:null,it=STYLE_REG.lastIndex=0,st;(st=STYLE_REG.exec($))!=null;){var ut=st.index;ut>it&&pushTokens(et,$.substring(it,ut),_e,ot),pushTokens(et,st[2],_e,ot,st[1]),it=STYLE_REG.lastIndex}it<$.length&&pushTokens(et,$.substring(it,$.length),_e,ot);var ft=[],dt=0,vt=0,gt=_e.padding,yt=at==="truncate",xt=_e.lineOverflow==="truncate";function Ct(sr,fr,yr){sr.width=fr,sr.lineHeight=yr,dt+=yr,vt=Math.max(vt,fr)}e:for(var wt=0;wt<et.lines.length;wt++){for(var Et=et.lines[wt],$t=0,It=0,Ot=0;Ot<Et.tokens.length;Ot++){var Lt=Et.tokens[Ot],Ft=Lt.styleName&&_e.rich[Lt.styleName]||{},zt=Lt.textPadding=Ft.padding,Gt=zt?zt[1]+zt[3]:0,jt=Lt.font=Ft.font||_e.font;Lt.contentHeight=getLineHeight(jt);var Ut=retrieve2(Ft.height,Lt.contentHeight);if(Lt.innerHeight=Ut,zt&&(Ut+=zt[0]+zt[2]),Lt.height=Ut,Lt.lineHeight=retrieve3(Ft.lineHeight,_e.lineHeight,Ut),Lt.align=Ft&&Ft.align||_e.align,Lt.verticalAlign=Ft&&Ft.verticalAlign||"middle",xt&&nt!=null&&dt+Lt.lineHeight>nt){Ot>0?(Et.tokens=Et.tokens.slice(0,Ot),Ct(Et,It,$t),et.lines=et.lines.slice(0,wt+1)):et.lines=et.lines.slice(0,wt);break e}var Kt=Ft.width,Zt=Kt==null||Kt==="auto";if(typeof Kt=="string"&&Kt.charAt(Kt.length-1)==="%")Lt.percentWidth=Kt,ft.push(Lt),Lt.contentWidth=getWidth(Lt.text,jt);else{if(Zt){var Qt=Ft.backgroundColor,rr=Qt&&Qt.image;rr&&(rr=findExistImage(rr),isImageReady(rr)&&(Lt.width=Math.max(Lt.width,rr.width*Ut/rr.height)))}var nr=yt&&tt!=null?tt-It:null;nr!=null&&nr<Lt.width?!Zt||nr<Gt?(Lt.text="",Lt.width=Lt.contentWidth=0):(Lt.text=truncateText(Lt.text,nr-Gt,jt,_e.ellipsis,{minChar:_e.truncateMinChar}),Lt.width=Lt.contentWidth=getWidth(Lt.text,jt)):Lt.contentWidth=getWidth(Lt.text,jt)}Lt.width+=Gt,It+=Lt.width,Ft&&($t=Math.max($t,Lt.lineHeight))}Ct(Et,It,$t)}et.outerWidth=et.width=retrieve2(tt,vt),et.outerHeight=et.height=retrieve2(nt,dt),et.contentHeight=dt,et.contentWidth=vt,gt&&(et.outerWidth+=gt[1]+gt[3],et.outerHeight+=gt[0]+gt[2]);for(var wt=0;wt<ft.length;wt++){var Lt=ft[wt],dr=Lt.percentWidth;Lt.width=parseInt(dr,10)/100*et.width}return et}function pushTokens($,_e,et,tt,nt){var at=_e==="",ot=nt&&et.rich[nt]||{},it=$.lines,st=ot.font||et.font,ut=!1,ft,dt;if(tt){var vt=ot.padding,gt=vt?vt[1]+vt[3]:0;if(ot.width!=null&&ot.width!=="auto"){var yt=parsePercent$1(ot.width,tt.width)+gt;it.length>0&&yt+tt.accumWidth>tt.width&&(ft=_e.split(`
`),ut=!0),tt.accumWidth=yt}else{var xt=wrapText(_e,st,tt.width,tt.breakAll,tt.accumWidth);tt.accumWidth=xt.accumWidth+gt,dt=xt.linesWidths,ft=xt.lines}}else ft=_e.split(`
`);for(var Ct=0;Ct<ft.length;Ct++){var wt=ft[Ct],Et=new RichTextToken;if(Et.styleName=nt,Et.text=wt,Et.isLineHolder=!wt&&!at,typeof ot.width=="number"?Et.width=ot.width:Et.width=dt?dt[Ct]:getWidth(wt,st),!Ct&&!ut){var $t=(it[it.length-1]||(it[0]=new RichTextLine)).tokens,It=$t.length;It===1&&$t[0].isLineHolder?$t[0]=Et:(wt||!It||at)&&$t.push(Et)}else it.push(new RichTextLine([Et]))}}function isLatin($){var _e=$.charCodeAt(0);return _e>=33&&_e<=383}var breakCharMap=reduce(",&?/;] ".split(""),function($,_e){return $[_e]=!0,$},{});function isWordBreakChar($){return isLatin($)?!!breakCharMap[$]:!0}function wrapText($,_e,et,tt,nt){for(var at=[],ot=[],it="",st="",ut=0,ft=0,dt=0;dt<$.length;dt++){var vt=$.charAt(dt);if(vt===`
`){st&&(it+=st,ft+=ut),at.push(it),ot.push(ft),it="",st="",ut=0,ft=0;continue}var gt=getWidth(vt,_e),yt=tt?!1:!isWordBreakChar(vt);if(at.length?ft+gt>et:nt+ft+gt>et){ft?(it||st)&&(yt?(it||(it=st,st="",ut=0,ft=ut),at.push(it),ot.push(ft-ut),st+=vt,ut+=gt,it="",ft=ut):(st&&(it+=st,st="",ut=0),at.push(it),ot.push(ft),it=vt,ft=gt)):yt?(at.push(st),ot.push(ut),st=vt,ut=gt):(at.push(vt),ot.push(gt));continue}ft+=gt,yt?(st+=vt,ut+=gt):(st&&(it+=st,st="",ut=0),it+=vt)}return!at.length&&!it&&(it=$,st="",ut=0),st&&(it+=st),it&&(at.push(it),ot.push(ft)),at.length===1&&(ft+=nt),{accumWidth:ft,lines:at,linesWidths:ot}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype._init=function(et){for(var tt=keys(et),nt=0;nt<tt.length;nt++){var at=tt[nt];at==="style"?this.useStyle(et[at]):$.prototype.attrKV.call(this,at,et[at])}this.style||this.useStyle({})},_e.prototype.beforeBrush=function(){},_e.prototype.afterBrush=function(){},_e.prototype.innerBeforeBrush=function(){},_e.prototype.innerAfterBrush=function(){},_e.prototype.shouldBePainted=function(et,tt,nt,at){var ot=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,et,tt)||ot&&!ot[0]&&!ot[3])return!1;if(nt&&this.__clipPaths){for(var it=0;it<this.__clipPaths.length;++it)if(this.__clipPaths[it].isZeroArea())return!1}if(at&&this.parent)for(var st=this.parent;st;){if(st.ignore)return!1;st=st.parent}return!0},_e.prototype.contain=function(et,tt){return this.rectContain(et,tt)},_e.prototype.traverse=function(et,tt){et.call(tt,this)},_e.prototype.rectContain=function(et,tt){var nt=this.transformCoordToLocal(et,tt),at=this.getBoundingRect();return at.contain(nt[0],nt[1])},_e.prototype.getPaintRect=function(){var et=this._paintRect;if(!this._paintRect||this.__dirty){var tt=this.transform,nt=this.getBoundingRect(),at=this.style,ot=at.shadowBlur||0,it=at.shadowOffsetX||0,st=at.shadowOffsetY||0;et=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),tt?BoundingRect$1.applyTransform(et,nt,tt):et.copy(nt),(ot||it||st)&&(et.width+=ot*2+Math.abs(it),et.height+=ot*2+Math.abs(st),et.x=Math.min(et.x,et.x+it-ot),et.y=Math.min(et.y,et.y+st-ot));var ut=this.dirtyRectTolerance;et.isZero()||(et.x=Math.floor(et.x-ut),et.y=Math.floor(et.y-ut),et.width=Math.ceil(et.width+1+ut*2),et.height=Math.ceil(et.height+1+ut*2))}return et},_e.prototype.setPrevPaintRect=function(et){et?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(et)):this._prevPaintRect=null},_e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},_e.prototype.animateStyle=function(et){return this.animate("style",et)},_e.prototype.updateDuringAnimation=function(et){et==="style"?this.dirtyStyle():this.markRedraw()},_e.prototype.attrKV=function(et,tt){et!=="style"?$.prototype.attrKV.call(this,et,tt):this.style?this.setStyle(tt):this.useStyle(tt)},_e.prototype.setStyle=function(et,tt){return typeof et=="string"?this.style[et]=tt:extend(this.style,et),this.dirtyStyle(),this},_e.prototype.dirtyStyle=function(et){et||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},_e.prototype.dirty=function(){this.dirtyStyle()},_e.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},_e.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},_e.prototype.createStyle=function(et){return createObject(DEFAULT_COMMON_STYLE,et)},_e.prototype.useStyle=function(et){et[STYLE_MAGIC_KEY]||(et=this.createStyle(et)),this.__inHover?this.__hoverStyle=et:this.style=et,this.dirtyStyle()},_e.prototype.isStyleObject=function(et){return et[STYLE_MAGIC_KEY]},_e.prototype._innerSaveToNormal=function(et){$.prototype._innerSaveToNormal.call(this,et);var tt=this._normalState;et.style&&!tt.style&&(tt.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(et,tt,PRIMARY_STATES_KEYS)},_e.prototype._applyStateObj=function(et,tt,nt,at,ot,it){$.prototype._applyStateObj.call(this,et,tt,nt,at,ot,it);var st=!(tt&&at),ut;if(tt&&tt.style?ot?at?ut=tt.style:(ut=this._mergeStyle(this.createStyle(),nt.style),this._mergeStyle(ut,tt.style)):(ut=this._mergeStyle(this.createStyle(),at?this.style:nt.style),this._mergeStyle(ut,tt.style)):st&&(ut=nt.style),ut)if(ot){var ft=this.style;if(this.style=this.createStyle(st?{}:ft),st)for(var dt=keys(ft),vt=0;vt<dt.length;vt++){var gt=dt[vt];gt in ut&&(ut[gt]=ut[gt],this.style[gt]=ft[gt])}for(var yt=keys(ut),vt=0;vt<yt.length;vt++){var gt=yt[vt];this.style[gt]=this.style[gt]}this._transitionState(et,{style:ut},it,this.getAnimationStyleProps())}else this.useStyle(ut);for(var xt=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,vt=0;vt<xt.length;vt++){var gt=xt[vt];tt&&tt[gt]!=null?this[gt]=tt[gt]:st&&nt[gt]!=null&&(this[gt]=nt[gt])}},_e.prototype._mergeStates=function(et){for(var tt=$.prototype._mergeStates.call(this,et),nt,at=0;at<et.length;at++){var ot=et[at];ot.style&&(nt=nt||{},this._mergeStyle(nt,ot.style))}return nt&&(tt.style=nt),tt},_e.prototype._mergeStyle=function(et,tt){return extend(et,tt),et},_e.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},_e.initDefaultProps=function(){var et=_e.prototype;et.type="displayable",et.invisible=!1,et.z=0,et.z2=0,et.zlevel=0,et.culling=!1,et.cursor="pointer",et.rectHover=!1,et.incremental=!1,et._rect=null,et.dirtyRectTolerance=0,et.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),_e}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled($,_e,et){return tmpRect.copy($.getBoundingRect()),$.transform&&tmpRect.applyTransform($.transform),viewRect.width=_e,viewRect.height=et,!tmpRect.intersect(viewRect)}var Displayable$1=Displayable,mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints($,_e,et){if($.length!==0){for(var tt=$[0],nt=tt[0],at=tt[0],ot=tt[1],it=tt[1],st=1;st<$.length;st++)tt=$[st],nt=mathMin$9(nt,tt[0]),at=mathMax$9(at,tt[0]),ot=mathMin$9(ot,tt[1]),it=mathMax$9(it,tt[1]);_e[0]=nt,_e[1]=ot,et[0]=at,et[1]=it}}function fromLine($,_e,et,tt,nt,at){nt[0]=mathMin$9($,et),nt[1]=mathMin$9(_e,tt),at[0]=mathMax$9($,et),at[1]=mathMax$9(_e,tt)}var xDim=[],yDim=[];function fromCubic($,_e,et,tt,nt,at,ot,it,st,ut){var ft=cubicExtrema,dt=cubicAt,vt=ft($,et,nt,ot,xDim);st[0]=1/0,st[1]=1/0,ut[0]=-1/0,ut[1]=-1/0;for(var gt=0;gt<vt;gt++){var yt=dt($,et,nt,ot,xDim[gt]);st[0]=mathMin$9(yt,st[0]),ut[0]=mathMax$9(yt,ut[0])}vt=ft(_e,tt,at,it,yDim);for(var gt=0;gt<vt;gt++){var xt=dt(_e,tt,at,it,yDim[gt]);st[1]=mathMin$9(xt,st[1]),ut[1]=mathMax$9(xt,ut[1])}st[0]=mathMin$9($,st[0]),ut[0]=mathMax$9($,ut[0]),st[0]=mathMin$9(ot,st[0]),ut[0]=mathMax$9(ot,ut[0]),st[1]=mathMin$9(_e,st[1]),ut[1]=mathMax$9(_e,ut[1]),st[1]=mathMin$9(it,st[1]),ut[1]=mathMax$9(it,ut[1])}function fromQuadratic($,_e,et,tt,nt,at,ot,it){var st=quadraticExtremum,ut=quadraticAt$1,ft=mathMax$9(mathMin$9(st($,et,nt),1),0),dt=mathMax$9(mathMin$9(st(_e,tt,at),1),0),vt=ut($,et,nt,ft),gt=ut(_e,tt,at,dt);ot[0]=mathMin$9($,nt,vt),ot[1]=mathMin$9(_e,at,gt),it[0]=mathMax$9($,nt,vt),it[1]=mathMax$9(_e,at,gt)}function fromArc($,_e,et,tt,nt,at,ot,it,st){var ut=min$1,ft=max$1,dt=Math.abs(nt-at);if(dt%PI2$8<1e-4&&dt>1e-4){it[0]=$-et,it[1]=_e-tt,st[0]=$+et,st[1]=_e+tt;return}if(start[0]=mathCos$4(nt)*et+$,start[1]=mathSin$4(nt)*tt+_e,end[0]=mathCos$4(at)*et+$,end[1]=mathSin$4(at)*tt+_e,ut(it,start,end),ft(st,start,end),nt=nt%PI2$8,nt<0&&(nt=nt+PI2$8),at=at%PI2$8,at<0&&(at=at+PI2$8),nt>at&&!ot?at+=PI2$8:nt<at&&ot&&(nt+=PI2$8),ot){var vt=at;at=nt,nt=vt}for(var gt=0;gt<at;gt+=Math.PI/2)gt>nt&&(extremity[0]=mathCos$4(gt)*et+$,extremity[1]=mathSin$4(gt)*tt+_e,ut(it,extremity,it),ft(st,extremity,st))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array!="undefined",tmpAngles=[];function modPI2($){var _e=Math.round($/PI$8*1e8)/1e8;return _e%2*PI$8}function normalizeArcAngles($,_e){var et=modPI2($[0]);et<0&&(et+=PI2$7);var tt=et-$[0],nt=$[1];nt+=tt,!_e&&nt-et>=PI2$7?nt=et+PI2$7:_e&&et-nt>=PI2$7?nt=et-PI2$7:!_e&&et>nt?nt=et+(PI2$7-modPI2(et-nt)):_e&&et<nt&&(nt=et-(PI2$7-modPI2(nt-et))),$[0]=et,$[1]=nt}var PathProxy=function(){function $(_e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,_e&&(this._saveData=!1),this._saveData&&(this.data=[])}return $.prototype.increaseVersion=function(){this._version++},$.prototype.getVersion=function(){return this._version},$.prototype.setScale=function(_e,et,tt){tt=tt||0,tt>0&&(this._ux=mathAbs$2(tt/devicePixelRatio/_e)||0,this._uy=mathAbs$2(tt/devicePixelRatio/et)||0)},$.prototype.setDPR=function(_e){this.dpr=_e},$.prototype.setContext=function(_e){this._ctx=_e},$.prototype.getContext=function(){return this._ctx},$.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},$.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},$.prototype.moveTo=function(_e,et){return this._drawPendingPt(),this.addData(CMD$4.M,_e,et),this._ctx&&this._ctx.moveTo(_e,et),this._x0=_e,this._y0=et,this._xi=_e,this._yi=et,this},$.prototype.lineTo=function(_e,et){var tt=mathAbs$2(_e-this._xi),nt=mathAbs$2(et-this._yi),at=tt>this._ux||nt>this._uy;if(this.addData(CMD$4.L,_e,et),this._ctx&&at&&this._ctx.lineTo(_e,et),at)this._xi=_e,this._yi=et,this._pendingPtDist=0;else{var ot=tt*tt+nt*nt;ot>this._pendingPtDist&&(this._pendingPtX=_e,this._pendingPtY=et,this._pendingPtDist=ot)}return this},$.prototype.bezierCurveTo=function(_e,et,tt,nt,at,ot){return this._drawPendingPt(),this.addData(CMD$4.C,_e,et,tt,nt,at,ot),this._ctx&&this._ctx.bezierCurveTo(_e,et,tt,nt,at,ot),this._xi=at,this._yi=ot,this},$.prototype.quadraticCurveTo=function(_e,et,tt,nt){return this._drawPendingPt(),this.addData(CMD$4.Q,_e,et,tt,nt),this._ctx&&this._ctx.quadraticCurveTo(_e,et,tt,nt),this._xi=tt,this._yi=nt,this},$.prototype.arc=function(_e,et,tt,nt,at,ot){this._drawPendingPt(),tmpAngles[0]=nt,tmpAngles[1]=at,normalizeArcAngles(tmpAngles,ot),nt=tmpAngles[0],at=tmpAngles[1];var it=at-nt;return this.addData(CMD$4.A,_e,et,tt,tt,nt,it,0,ot?0:1),this._ctx&&this._ctx.arc(_e,et,tt,nt,at,ot),this._xi=mathCos$3(at)*tt+_e,this._yi=mathSin$3(at)*tt+et,this},$.prototype.arcTo=function(_e,et,tt,nt,at){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(_e,et,tt,nt,at),this},$.prototype.rect=function(_e,et,tt,nt){return this._drawPendingPt(),this._ctx&&this._ctx.rect(_e,et,tt,nt),this.addData(CMD$4.R,_e,et,tt,nt),this},$.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var _e=this._ctx,et=this._x0,tt=this._y0;return _e&&_e.closePath(),this._xi=et,this._yi=tt,this},$.prototype.fill=function(_e){_e&&_e.fill(),this.toStatic()},$.prototype.stroke=function(_e){_e&&_e.stroke(),this.toStatic()},$.prototype.len=function(){return this._len},$.prototype.setData=function(_e){var et=_e.length;!(this.data&&this.data.length===et)&&hasTypedArray&&(this.data=new Float32Array(et));for(var tt=0;tt<et;tt++)this.data[tt]=_e[tt];this._len=et},$.prototype.appendPath=function(_e){_e instanceof Array||(_e=[_e]);for(var et=_e.length,tt=0,nt=this._len,at=0;at<et;at++)tt+=_e[at].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(nt+tt));for(var at=0;at<et;at++)for(var ot=_e[at].data,it=0;it<ot.length;it++)this.data[nt++]=ot[it];this._len=nt},$.prototype.addData=function(_e,et,tt,nt,at,ot,it,st,ut){if(!!this._saveData){var ft=this.data;this._len+arguments.length>ft.length&&(this._expandData(),ft=this.data);for(var dt=0;dt<arguments.length;dt++)ft[this._len++]=arguments[dt]}},$.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},$.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var _e=[],et=0;et<this._len;et++)_e[et]=this.data[et];this.data=_e}},$.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var _e=this.data;_e instanceof Array&&(_e.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(_e)))}},$.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var _e=this.data,et=0,tt=0,nt=0,at=0,ot;for(ot=0;ot<this._len;){var it=_e[ot++],st=ot===1;switch(st&&(et=_e[ot],tt=_e[ot+1],nt=et,at=tt),it){case CMD$4.M:et=nt=_e[ot++],tt=at=_e[ot++],min2[0]=nt,min2[1]=at,max2[0]=nt,max2[1]=at;break;case CMD$4.L:fromLine(et,tt,_e[ot],_e[ot+1],min2,max2),et=_e[ot++],tt=_e[ot++];break;case CMD$4.C:fromCubic(et,tt,_e[ot++],_e[ot++],_e[ot++],_e[ot++],_e[ot],_e[ot+1],min2,max2),et=_e[ot++],tt=_e[ot++];break;case CMD$4.Q:fromQuadratic(et,tt,_e[ot++],_e[ot++],_e[ot],_e[ot+1],min2,max2),et=_e[ot++],tt=_e[ot++];break;case CMD$4.A:var ut=_e[ot++],ft=_e[ot++],dt=_e[ot++],vt=_e[ot++],gt=_e[ot++],yt=_e[ot++]+gt;ot+=1;var xt=!_e[ot++];st&&(nt=mathCos$3(gt)*dt+ut,at=mathSin$3(gt)*vt+ft),fromArc(ut,ft,dt,vt,gt,yt,xt,min2,max2),et=mathCos$3(yt)*dt+ut,tt=mathSin$3(yt)*vt+ft;break;case CMD$4.R:nt=et=_e[ot++],at=tt=_e[ot++];var Ct=_e[ot++],wt=_e[ot++];fromLine(nt,at,nt+Ct,at+wt,min2,max2);break;case CMD$4.Z:et=nt,tt=at;break}min$1(min,min,min2),max$1(max,max,max2)}return ot===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},$.prototype._calculateLength=function(){var _e=this.data,et=this._len,tt=this._ux,nt=this._uy,at=0,ot=0,it=0,st=0;this._pathSegLen||(this._pathSegLen=[]);for(var ut=this._pathSegLen,ft=0,dt=0,vt=0;vt<et;){var gt=_e[vt++],yt=vt===1;yt&&(at=_e[vt],ot=_e[vt+1],it=at,st=ot);var xt=-1;switch(gt){case CMD$4.M:at=it=_e[vt++],ot=st=_e[vt++];break;case CMD$4.L:{var Ct=_e[vt++],wt=_e[vt++],Et=Ct-at,$t=wt-ot;(mathAbs$2(Et)>tt||mathAbs$2($t)>nt||vt===et-1)&&(xt=Math.sqrt(Et*Et+$t*$t),at=Ct,ot=wt);break}case CMD$4.C:{var It=_e[vt++],Ot=_e[vt++],Ct=_e[vt++],wt=_e[vt++],Lt=_e[vt++],Ft=_e[vt++];xt=cubicLength(at,ot,It,Ot,Ct,wt,Lt,Ft,10),at=Lt,ot=Ft;break}case CMD$4.Q:{var It=_e[vt++],Ot=_e[vt++],Ct=_e[vt++],wt=_e[vt++];xt=quadraticLength(at,ot,It,Ot,Ct,wt,10),at=Ct,ot=wt;break}case CMD$4.A:var zt=_e[vt++],Gt=_e[vt++],jt=_e[vt++],Ut=_e[vt++],Kt=_e[vt++],Zt=_e[vt++],Qt=Zt+Kt;vt+=1,_e[vt++],yt&&(it=mathCos$3(Kt)*jt+zt,st=mathSin$3(Kt)*Ut+Gt),xt=mathMax$8(jt,Ut)*mathMin$8(PI2$7,Math.abs(Zt)),at=mathCos$3(Qt)*jt+zt,ot=mathSin$3(Qt)*Ut+Gt;break;case CMD$4.R:{it=at=_e[vt++],st=ot=_e[vt++];var rr=_e[vt++],nr=_e[vt++];xt=rr*2+nr*2;break}case CMD$4.Z:{var Et=it-at,$t=st-ot;xt=Math.sqrt(Et*Et+$t*$t),at=it,ot=st;break}}xt>=0&&(ut[dt++]=xt,ft+=xt)}return this._pathLen=ft,ft},$.prototype.rebuildPath=function(_e,et){var tt=this.data,nt=this._ux,at=this._uy,ot=this._len,it,st,ut,ft,dt,vt,gt=et<1,yt,xt,Ct=0,wt=0,Et,$t=0,It,Ot;if(gt&&(this._pathSegLen||this._calculateLength(),yt=this._pathSegLen,xt=this._pathLen,Et=et*xt,!Et))return;e:for(var Lt=0;Lt<ot;){var Ft=tt[Lt++],zt=Lt===1;switch(zt&&(ut=tt[Lt],ft=tt[Lt+1],it=ut,st=ft),Ft!==CMD$4.L&&$t>0&&(_e.lineTo(It,Ot),$t=0),Ft){case CMD$4.M:it=ut=tt[Lt++],st=ft=tt[Lt++],_e.moveTo(ut,ft);break;case CMD$4.L:{dt=tt[Lt++],vt=tt[Lt++];var Gt=mathAbs$2(dt-ut),jt=mathAbs$2(vt-ft);if(Gt>nt||jt>at){if(gt){var Ut=yt[wt++];if(Ct+Ut>Et){var Kt=(Et-Ct)/Ut;_e.lineTo(ut*(1-Kt)+dt*Kt,ft*(1-Kt)+vt*Kt);break e}Ct+=Ut}_e.lineTo(dt,vt),ut=dt,ft=vt,$t=0}else{var Zt=Gt*Gt+jt*jt;Zt>$t&&(It=dt,Ot=vt,$t=Zt)}break}case CMD$4.C:{var Qt=tt[Lt++],rr=tt[Lt++],nr=tt[Lt++],dr=tt[Lt++],sr=tt[Lt++],fr=tt[Lt++];if(gt){var Ut=yt[wt++];if(Ct+Ut>Et){var Kt=(Et-Ct)/Ut;cubicSubdivide(ut,Qt,nr,sr,Kt,tmpOutX),cubicSubdivide(ft,rr,dr,fr,Kt,tmpOutY),_e.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}Ct+=Ut}_e.bezierCurveTo(Qt,rr,nr,dr,sr,fr),ut=sr,ft=fr;break}case CMD$4.Q:{var Qt=tt[Lt++],rr=tt[Lt++],nr=tt[Lt++],dr=tt[Lt++];if(gt){var Ut=yt[wt++];if(Ct+Ut>Et){var Kt=(Et-Ct)/Ut;quadraticSubdivide(ut,Qt,nr,Kt,tmpOutX),quadraticSubdivide(ft,rr,dr,Kt,tmpOutY),_e.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}Ct+=Ut}_e.quadraticCurveTo(Qt,rr,nr,dr),ut=nr,ft=dr;break}case CMD$4.A:var yr=tt[Lt++],Pr=tt[Lt++],wr=tt[Lt++],Mr=tt[Lt++],Lr=tt[Lt++],Br=tt[Lt++],qr=tt[Lt++],Qr=!tt[Lt++],Jr=wr>Mr?wr:Mr,sn=mathAbs$2(wr-Mr)>.001,yn=Lr+Br,pn=!1;if(gt){var Ut=yt[wt++];Ct+Ut>Et&&(yn=Lr+Br*(Et-Ct)/Ut,pn=!0),Ct+=Ut}if(sn&&_e.ellipse?_e.ellipse(yr,Pr,wr,Mr,qr,Lr,yn,Qr):_e.arc(yr,Pr,Jr,Lr,yn,Qr),pn)break e;zt&&(it=mathCos$3(Lr)*wr+yr,st=mathSin$3(Lr)*Mr+Pr),ut=mathCos$3(yn)*wr+yr,ft=mathSin$3(yn)*Mr+Pr;break;case CMD$4.R:it=ut=tt[Lt],st=ft=tt[Lt+1],dt=tt[Lt++],vt=tt[Lt++];var ln=tt[Lt++],Sn=tt[Lt++];if(gt){var Ut=yt[wt++];if(Ct+Ut>Et){var cn=Et-Ct;_e.moveTo(dt,vt),_e.lineTo(dt+mathMin$8(cn,ln),vt),cn-=ln,cn>0&&_e.lineTo(dt+ln,vt+mathMin$8(cn,Sn)),cn-=Sn,cn>0&&_e.lineTo(dt+mathMax$8(ln-cn,0),vt+Sn),cn-=ln,cn>0&&_e.lineTo(dt,vt+mathMax$8(Sn-cn,0));break e}Ct+=Ut}_e.rect(dt,vt,ln,Sn);break;case CMD$4.Z:if(gt){var Ut=yt[wt++];if(Ct+Ut>Et){var Kt=(Et-Ct)/Ut;_e.lineTo(ut*(1-Kt)+it*Kt,ft*(1-Kt)+st*Kt);break e}Ct+=Ut}_e.closePath(),ut=it,ft=st}}},$.prototype.clone=function(){var _e=new $,et=this.data;return _e.data=et.slice?et.slice():Array.prototype.slice.call(et),_e._len=this._len,_e},$.CMD=CMD$4,$.initDefaultProps=function(){var _e=$.prototype;_e._saveData=!0,_e._ux=0,_e._uy=0,_e._pendingPtDist=0,_e._version=0}(),$}();function containStroke$4($,_e,et,tt,nt,at,ot){if(nt===0)return!1;var it=nt,st=0,ut=$;if(ot>_e+it&&ot>tt+it||ot<_e-it&&ot<tt-it||at>$+it&&at>et+it||at<$-it&&at<et-it)return!1;if($!==et)st=(_e-tt)/($-et),ut=($*tt-et*_e)/($-et);else return Math.abs(at-$)<=it/2;var ft=st*at-ot+ut,dt=ft*ft/(st*st+1);return dt<=it/2*it/2}function containStroke$3($,_e,et,tt,nt,at,ot,it,st,ut,ft){if(st===0)return!1;var dt=st;if(ft>_e+dt&&ft>tt+dt&&ft>at+dt&&ft>it+dt||ft<_e-dt&&ft<tt-dt&&ft<at-dt&&ft<it-dt||ut>$+dt&&ut>et+dt&&ut>nt+dt&&ut>ot+dt||ut<$-dt&&ut<et-dt&&ut<nt-dt&&ut<ot-dt)return!1;var vt=cubicProjectPoint($,_e,et,tt,nt,at,ot,it,ut,ft,null);return vt<=dt/2}function containStroke$2($,_e,et,tt,nt,at,ot,it,st){if(ot===0)return!1;var ut=ot;if(st>_e+ut&&st>tt+ut&&st>at+ut||st<_e-ut&&st<tt-ut&&st<at-ut||it>$+ut&&it>et+ut&&it>nt+ut||it<$-ut&&it<et-ut&&it<nt-ut)return!1;var ft=quadraticProjectPoint($,_e,et,tt,nt,at,it,st,null);return ft<=ut/2}var PI2$6=Math.PI*2;function normalizeRadian($){return $%=PI2$6,$<0&&($+=PI2$6),$}var PI2$5=Math.PI*2;function containStroke$1($,_e,et,tt,nt,at,ot,it,st){if(ot===0)return!1;var ut=ot;it-=$,st-=_e;var ft=Math.sqrt(it*it+st*st);if(ft-ut>et||ft+ut<et)return!1;if(Math.abs(tt-nt)%PI2$5<1e-4)return!0;if(at){var dt=tt;tt=normalizeRadian(nt),nt=normalizeRadian(dt)}else tt=normalizeRadian(tt),nt=normalizeRadian(nt);tt>nt&&(nt+=PI2$5);var vt=Math.atan2(st,it);return vt<0&&(vt+=PI2$5),vt>=tt&&vt<=nt||vt+PI2$5>=tt&&vt+PI2$5<=nt}function windingLine($,_e,et,tt,nt,at){if(at>_e&&at>tt||at<_e&&at<tt||tt===_e)return 0;var ot=(at-_e)/(tt-_e),it=tt<_e?1:-1;(ot===1||ot===0)&&(it=tt<_e?.5:-.5);var st=ot*(et-$)+$;return st===nt?1/0:st>nt?it:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1($,_e){return Math.abs($-_e)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var $=extrema[0];extrema[0]=extrema[1],extrema[1]=$}function windingCubic($,_e,et,tt,nt,at,ot,it,st,ut){if(ut>_e&&ut>tt&&ut>at&&ut>it||ut<_e&&ut<tt&&ut<at&&ut<it)return 0;var ft=cubicRootAt(_e,tt,at,it,ut,roots);if(ft===0)return 0;for(var dt=0,vt=-1,gt=void 0,yt=void 0,xt=0;xt<ft;xt++){var Ct=roots[xt],wt=Ct===0||Ct===1?.5:1,Et=cubicAt($,et,nt,ot,Ct);Et<st||(vt<0&&(vt=cubicExtrema(_e,tt,at,it,extrema),extrema[1]<extrema[0]&&vt>1&&swapExtrema(),gt=cubicAt(_e,tt,at,it,extrema[0]),vt>1&&(yt=cubicAt(_e,tt,at,it,extrema[1]))),vt===2?Ct<extrema[0]?dt+=gt<_e?wt:-wt:Ct<extrema[1]?dt+=yt<gt?wt:-wt:dt+=it<yt?wt:-wt:Ct<extrema[0]?dt+=gt<_e?wt:-wt:dt+=it<gt?wt:-wt)}return dt}function windingQuadratic($,_e,et,tt,nt,at,ot,it){if(it>_e&&it>tt&&it>at||it<_e&&it<tt&&it<at)return 0;var st=quadraticRootAt(_e,tt,at,it,roots);if(st===0)return 0;var ut=quadraticExtremum(_e,tt,at);if(ut>=0&&ut<=1){for(var ft=0,dt=quadraticAt$1(_e,tt,at,ut),vt=0;vt<st;vt++){var gt=roots[vt]===0||roots[vt]===1?.5:1,yt=quadraticAt$1($,et,nt,roots[vt]);yt<ot||(roots[vt]<ut?ft+=dt<_e?gt:-gt:ft+=at<dt?gt:-gt)}return ft}else{var gt=roots[0]===0||roots[0]===1?.5:1,yt=quadraticAt$1($,et,nt,roots[0]);return yt<ot?0:at<_e?gt:-gt}}function windingArc($,_e,et,tt,nt,at,ot,it){if(it-=_e,it>et||it<-et)return 0;var st=Math.sqrt(et*et-it*it);roots[0]=-st,roots[1]=st;var ut=Math.abs(tt-nt);if(ut<1e-4)return 0;if(ut>=PI2$4-1e-4){tt=0,nt=PI2$4;var ft=at?1:-1;return ot>=roots[0]+$&&ot<=roots[1]+$?ft:0}if(tt>nt){var dt=tt;tt=nt,nt=dt}tt<0&&(tt+=PI2$4,nt+=PI2$4);for(var vt=0,gt=0;gt<2;gt++){var yt=roots[gt];if(yt+$>ot){var xt=Math.atan2(it,yt),ft=at?1:-1;xt<0&&(xt=PI2$4+xt),(xt>=tt&&xt<=nt||xt+PI2$4>=tt&&xt+PI2$4<=nt)&&(xt>Math.PI/2&&xt<Math.PI*1.5&&(ft=-ft),vt+=ft)}}return vt}function containPath($,_e,et,tt,nt){for(var at=$.data,ot=$.len(),it=0,st=0,ut=0,ft=0,dt=0,vt,gt,yt=0;yt<ot;){var xt=at[yt++],Ct=yt===1;switch(xt===CMD$3.M&&yt>1&&(et||(it+=windingLine(st,ut,ft,dt,tt,nt))),Ct&&(st=at[yt],ut=at[yt+1],ft=st,dt=ut),xt){case CMD$3.M:ft=at[yt++],dt=at[yt++],st=ft,ut=dt;break;case CMD$3.L:if(et){if(containStroke$4(st,ut,at[yt],at[yt+1],_e,tt,nt))return!0}else it+=windingLine(st,ut,at[yt],at[yt+1],tt,nt)||0;st=at[yt++],ut=at[yt++];break;case CMD$3.C:if(et){if(containStroke$3(st,ut,at[yt++],at[yt++],at[yt++],at[yt++],at[yt],at[yt+1],_e,tt,nt))return!0}else it+=windingCubic(st,ut,at[yt++],at[yt++],at[yt++],at[yt++],at[yt],at[yt+1],tt,nt)||0;st=at[yt++],ut=at[yt++];break;case CMD$3.Q:if(et){if(containStroke$2(st,ut,at[yt++],at[yt++],at[yt],at[yt+1],_e,tt,nt))return!0}else it+=windingQuadratic(st,ut,at[yt++],at[yt++],at[yt],at[yt+1],tt,nt)||0;st=at[yt++],ut=at[yt++];break;case CMD$3.A:var wt=at[yt++],Et=at[yt++],$t=at[yt++],It=at[yt++],Ot=at[yt++],Lt=at[yt++];yt+=1;var Ft=!!(1-at[yt++]);vt=Math.cos(Ot)*$t+wt,gt=Math.sin(Ot)*It+Et,Ct?(ft=vt,dt=gt):it+=windingLine(st,ut,vt,gt,tt,nt);var zt=(tt-wt)*It/$t+wt;if(et){if(containStroke$1(wt,Et,It,Ot,Ot+Lt,Ft,_e,zt,nt))return!0}else it+=windingArc(wt,Et,It,Ot,Ot+Lt,Ft,zt,nt);st=Math.cos(Ot+Lt)*$t+wt,ut=Math.sin(Ot+Lt)*It+Et;break;case CMD$3.R:ft=st=at[yt++],dt=ut=at[yt++];var Gt=at[yt++],jt=at[yt++];if(vt=ft+Gt,gt=dt+jt,et){if(containStroke$4(ft,dt,vt,dt,_e,tt,nt)||containStroke$4(vt,dt,vt,gt,_e,tt,nt)||containStroke$4(vt,gt,ft,gt,_e,tt,nt)||containStroke$4(ft,gt,ft,dt,_e,tt,nt))return!0}else it+=windingLine(vt,dt,vt,gt,tt,nt),it+=windingLine(ft,gt,ft,dt,tt,nt);break;case CMD$3.Z:if(et){if(containStroke$4(st,ut,ft,dt,_e,tt,nt))return!0}else it+=windingLine(st,ut,ft,dt,tt,nt);st=ft,ut=dt;break}}return!et&&!isAroundEqual$1(ut,dt)&&(it+=windingLine(st,ut,ft,dt,tt,nt)||0),it!==0}function contain$2($,_e,et){return containPath($,0,!1,_e,et)}function containStroke($,_e,et,tt){return containPath($,_e,!0,et,tt)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.update=function(){var et=this;$.prototype.update.call(this);var tt=this.style;if(tt.decal){var nt=this._decalEl=this._decalEl||new _e;nt.buildPath===_e.prototype.buildPath&&(nt.buildPath=function(st){et.buildPath(st,et.shape)}),nt.silent=!0;var at=nt.style;for(var ot in tt)at[ot]!==tt[ot]&&(at[ot]=tt[ot]);at.fill=tt.fill?tt.decal:null,at.decal=null,at.shadowColor=null,tt.strokeFirst&&(at.stroke=null);for(var it=0;it<pathCopyParams.length;++it)nt[pathCopyParams[it]]=this[pathCopyParams[it]];nt.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},_e.prototype.getDecalElement=function(){return this._decalEl},_e.prototype._init=function(et){var tt=keys(et);this.shape=this.getDefaultShape();var nt=this.getDefaultStyle();nt&&this.useStyle(nt);for(var at=0;at<tt.length;at++){var ot=tt[at],it=et[ot];ot==="style"?this.style?extend(this.style,it):this.useStyle(it):ot==="shape"?extend(this.shape,it):$.prototype.attrKV.call(this,ot,it)}this.style||this.useStyle({})},_e.prototype.getDefaultStyle=function(){return null},_e.prototype.getDefaultShape=function(){return{}},_e.prototype.canBeInsideText=function(){return this.hasFill()},_e.prototype.getInsideTextFill=function(){var et=this.style.fill;if(et!=="none"){if(isString(et)){var tt=lum(et,0);return tt>.5?DARK_LABEL_COLOR:tt>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(et)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},_e.prototype.getInsideTextStroke=function(et){var tt=this.style.fill;if(isString(tt)){var nt=this.__zr,at=!!(nt&&nt.isDarkMode()),ot=lum(et,0)<DARK_MODE_THRESHOLD;if(at===ot)return tt}},_e.prototype.buildPath=function(et,tt,nt){},_e.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},_e.prototype.getUpdatedPathProxy=function(et){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,et),this.path},_e.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},_e.prototype.hasStroke=function(){var et=this.style,tt=et.stroke;return!(tt==null||tt==="none"||!(et.lineWidth>0))},_e.prototype.hasFill=function(){var et=this.style,tt=et.fill;return tt!=null&&tt!=="none"},_e.prototype.getBoundingRect=function(){var et=this._rect,tt=this.style,nt=!et;if(nt){var at=!1;this.path||(at=!0,this.createPathProxy());var ot=this.path;(at||this.__dirty&SHAPE_CHANGED_BIT)&&(ot.beginPath(),this.buildPath(ot,this.shape,!1),this.pathUpdated()),et=ot.getBoundingRect()}if(this._rect=et,this.hasStroke()&&this.path&&this.path.len()>0){var it=this._rectStroke||(this._rectStroke=et.clone());if(this.__dirty||nt){it.copy(et);var st=tt.strokeNoScale?this.getLineScale():1,ut=tt.lineWidth;if(!this.hasFill()){var ft=this.strokeContainThreshold;ut=Math.max(ut,ft==null?4:ft)}st>1e-10&&(it.width+=ut/st,it.height+=ut/st,it.x-=ut/st/2,it.y-=ut/st/2)}return it}return et},_e.prototype.contain=function(et,tt){var nt=this.transformCoordToLocal(et,tt),at=this.getBoundingRect(),ot=this.style;if(et=nt[0],tt=nt[1],at.contain(et,tt)){var it=this.path;if(this.hasStroke()){var st=ot.lineWidth,ut=ot.strokeNoScale?this.getLineScale():1;if(ut>1e-10&&(this.hasFill()||(st=Math.max(st,this.strokeContainThreshold)),containStroke(it,st/ut,et,tt)))return!0}if(this.hasFill())return contain$2(it,et,tt)}return!1},_e.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},_e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},_e.prototype.animateShape=function(et){return this.animate("shape",et)},_e.prototype.updateDuringAnimation=function(et){et==="style"?this.dirtyStyle():et==="shape"?this.dirtyShape():this.markRedraw()},_e.prototype.attrKV=function(et,tt){et==="shape"?this.setShape(tt):$.prototype.attrKV.call(this,et,tt)},_e.prototype.setShape=function(et,tt){var nt=this.shape;return nt||(nt=this.shape={}),typeof et=="string"?nt[et]=tt:extend(nt,et),this.dirtyShape(),this},_e.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},_e.prototype.createStyle=function(et){return createObject(DEFAULT_PATH_STYLE,et)},_e.prototype._innerSaveToNormal=function(et){$.prototype._innerSaveToNormal.call(this,et);var tt=this._normalState;et.shape&&!tt.shape&&(tt.shape=extend({},this.shape))},_e.prototype._applyStateObj=function(et,tt,nt,at,ot,it){$.prototype._applyStateObj.call(this,et,tt,nt,at,ot,it);var st=!(tt&&at),ut;if(tt&&tt.shape?ot?at?ut=tt.shape:(ut=extend({},nt.shape),extend(ut,tt.shape)):(ut=extend({},at?this.shape:nt.shape),extend(ut,tt.shape)):st&&(ut=nt.shape),ut)if(ot){this.shape=extend({},this.shape);for(var ft={},dt=keys(ut),vt=0;vt<dt.length;vt++){var gt=dt[vt];typeof ut[gt]=="object"?this.shape[gt]=ut[gt]:ft[gt]=ut[gt]}this._transitionState(et,{shape:ft},it)}else this.shape=ut,this.dirtyShape()},_e.prototype._mergeStates=function(et){for(var tt=$.prototype._mergeStates.call(this,et),nt,at=0;at<et.length;at++){var ot=et[at];ot.shape&&(nt=nt||{},this._mergeStyle(nt,ot.shape))}return nt&&(tt.shape=nt),tt},_e.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},_e.prototype.isZeroArea=function(){return!1},_e.extend=function(et){var tt=function(at){__extends(ot,at);function ot(it){var st=at.call(this,it)||this;return et.init&&et.init.call(st,it),st}return ot.prototype.getDefaultStyle=function(){return clone$4(et.style)},ot.prototype.getDefaultShape=function(){return clone$4(et.shape)},ot}(_e);for(var nt in et)typeof et[nt]=="function"&&(tt.prototype[nt]=et[nt]);return tt},_e.initDefaultProps=function(){var et=_e.prototype;et.type="path",et.strokeContainThreshold=5,et.segmentIgnoreThreshold=0,et.subPixelOptimize=!1,et.autoBatch=!1,et.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),_e}(Displayable$1),Path$1=Path,DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.hasStroke=function(){var et=this.style,tt=et.stroke;return tt!=null&&tt!=="none"&&et.lineWidth>0},_e.prototype.hasFill=function(){var et=this.style,tt=et.fill;return tt!=null&&tt!=="none"},_e.prototype.createStyle=function(et){return createObject(DEFAULT_TSPAN_STYLE,et)},_e.prototype.setBoundingRect=function(et){this._rect=et},_e.prototype.getBoundingRect=function(){var et=this.style;if(!this._rect){var tt=et.text;tt!=null?tt+="":tt="";var nt=getBoundingRect(tt,et.font,et.textAlign,et.textBaseline);if(nt.x+=et.x||0,nt.y+=et.y||0,this.hasStroke()){var at=et.lineWidth;nt.x-=at/2,nt.y-=at/2,nt.width+=at,nt.height+=at}this._rect=nt}return this._rect},_e.initDefaultProps=function(){var et=_e.prototype;et.dirtyRectTolerance=10}(),_e}(Displayable$1);TSpan.prototype.type="tspan";var TSpan$1=TSpan,DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1($){return!!($&&typeof $!="string"&&$.width&&$.height)}var ZRImage=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.createStyle=function(et){return createObject(DEFAULT_IMAGE_STYLE,et)},_e.prototype._getSize=function(et){var tt=this.style,nt=tt[et];if(nt!=null)return nt;var at=isImageLike$1(tt.image)?tt.image:this.__image;if(!at)return 0;var ot=et==="width"?"height":"width",it=tt[ot];return it==null?at[et]:at[et]/at[ot]*it},_e.prototype.getWidth=function(){return this._getSize("width")},_e.prototype.getHeight=function(){return this._getSize("height")},_e.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},_e.prototype.getBoundingRect=function(){var et=this.style;return this._rect||(this._rect=new BoundingRect$1(et.x||0,et.y||0,this.getWidth(),this.getHeight())),this._rect},_e}(Displayable$1);ZRImage.prototype.type="image";var ZRImage$1=ZRImage;function buildPath$2($,_e){var et=_e.x,tt=_e.y,nt=_e.width,at=_e.height,ot=_e.r,it,st,ut,ft;nt<0&&(et=et+nt,nt=-nt),at<0&&(tt=tt+at,at=-at),typeof ot=="number"?it=st=ut=ft=ot:ot instanceof Array?ot.length===1?it=st=ut=ft=ot[0]:ot.length===2?(it=ut=ot[0],st=ft=ot[1]):ot.length===3?(it=ot[0],st=ft=ot[1],ut=ot[2]):(it=ot[0],st=ot[1],ut=ot[2],ft=ot[3]):it=st=ut=ft=0;var dt;it+st>nt&&(dt=it+st,it*=nt/dt,st*=nt/dt),ut+ft>nt&&(dt=ut+ft,ut*=nt/dt,ft*=nt/dt),st+ut>at&&(dt=st+ut,st*=at/dt,ut*=at/dt),it+ft>at&&(dt=it+ft,it*=at/dt,ft*=at/dt),$.moveTo(et+it,tt),$.lineTo(et+nt-st,tt),st!==0&&$.arc(et+nt-st,tt+st,st,-Math.PI/2,0),$.lineTo(et+nt,tt+at-ut),ut!==0&&$.arc(et+nt-ut,tt+at-ut,ut,0,Math.PI/2),$.lineTo(et+ft,tt+at),ft!==0&&$.arc(et+ft,tt+at-ft,ft,Math.PI/2,Math.PI),$.lineTo(et,tt+it),it!==0&&$.arc(et+it,tt+it,it,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1($,_e,et){if(!!_e){var tt=_e.x1,nt=_e.x2,at=_e.y1,ot=_e.y2;$.x1=tt,$.x2=nt,$.y1=at,$.y2=ot;var it=et&&et.lineWidth;return it&&(round$2(tt*2)===round$2(nt*2)&&($.x1=$.x2=subPixelOptimize$1(tt,it,!0)),round$2(at*2)===round$2(ot*2)&&($.y1=$.y2=subPixelOptimize$1(at,it,!0))),$}}function subPixelOptimizeRect$1($,_e,et){if(!!_e){var tt=_e.x,nt=_e.y,at=_e.width,ot=_e.height;$.x=tt,$.y=nt,$.width=at,$.height=ot;var it=et&&et.lineWidth;return it&&($.x=subPixelOptimize$1(tt,it,!0),$.y=subPixelOptimize$1(nt,it,!0),$.width=Math.max(subPixelOptimize$1(tt+at,it,!1)-$.x,at===0?0:1),$.height=Math.max(subPixelOptimize$1(nt+ot,it,!1)-$.y,ot===0?0:1)),$}}function subPixelOptimize$1($,_e,et){if(!_e)return $;var tt=round$2($*2);return(tt+round$2(_e))%2===0?tt/2:(tt+(et?1:-1))/2}var RectShape=function(){function $(){this.x=0,this.y=0,this.width=0,this.height=0}return $}(),subPixelOptimizeOutputShape$1={},Rect$2=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new RectShape},_e.prototype.buildPath=function(et,tt){var nt,at,ot,it;if(this.subPixelOptimize){var st=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,tt,this.style);nt=st.x,at=st.y,ot=st.width,it=st.height,st.r=tt.r,tt=st}else nt=tt.x,at=tt.y,ot=tt.width,it=tt.height;tt.r?buildPath$2(et,tt):et.rect(nt,at,ot,it)},_e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},_e}(Path$1);Rect$2.prototype.type="rect";var Rect$3=Rect$2,DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function($){__extends(_e,$);function _e(et){var tt=$.call(this)||this;return tt.type="text",tt._children=[],tt._defaultStyle=DEFAULT_RICH_TEXT_COLOR,tt.attr(et),tt}return _e.prototype.childrenRef=function(){return this._children},_e.prototype.update=function(){$.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var et=0;et<this._children.length;et++){var tt=this._children[et];tt.zlevel=this.zlevel,tt.z=this.z,tt.z2=this.z2,tt.culling=this.culling,tt.cursor=this.cursor,tt.invisible=this.invisible}},_e.prototype.updateTransform=function(){var et=this.innerTransformable;et?(et.updateTransform(),et.transform&&(this.transform=et.transform)):$.prototype.updateTransform.call(this)},_e.prototype.getLocalTransform=function(et){var tt=this.innerTransformable;return tt?tt.getLocalTransform(et):$.prototype.getLocalTransform.call(this,et)},_e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),$.prototype.getComputedTransform.call(this)},_e.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},_e.prototype.addSelfToZr=function(et){$.prototype.addSelfToZr.call(this,et);for(var tt=0;tt<this._children.length;tt++)this._children[tt].__zr=et},_e.prototype.removeSelfFromZr=function(et){$.prototype.removeSelfFromZr.call(this,et);for(var tt=0;tt<this._children.length;tt++)this._children[tt].__zr=null},_e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var et=new BoundingRect$1(0,0,0,0),tt=this._children,nt=[],at=null,ot=0;ot<tt.length;ot++){var it=tt[ot],st=it.getBoundingRect(),ut=it.getLocalTransform(nt);ut?(et.copy(st),et.applyTransform(ut),at=at||et.clone(),at.union(et)):(at=at||st.clone(),at.union(st))}this._rect=at||et}return this._rect},_e.prototype.setDefaultTextStyle=function(et){this._defaultStyle=et||DEFAULT_RICH_TEXT_COLOR},_e.prototype.setTextContent=function(et){},_e.prototype._mergeStyle=function(et,tt){if(!tt)return et;var nt=tt.rich,at=et.rich||nt&&{};return extend(et,tt),nt&&at?(this._mergeRich(at,nt),et.rich=at):at&&(et.rich=at),et},_e.prototype._mergeRich=function(et,tt){for(var nt=keys(tt),at=0;at<nt.length;at++){var ot=nt[at];et[ot]=et[ot]||{},extend(et[ot],tt[ot])}},_e.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},_e.prototype._getOrCreateChild=function(et){var tt=this._children[this._childCursor];return(!tt||!(tt instanceof et))&&(tt=new et),this._children[this._childCursor++]=tt,tt.__zr=this.__zr,tt.parent=this,tt},_e.prototype._updatePlainTexts=function(){var et=this.style,tt=et.font||DEFAULT_FONT,nt=et.padding,at=getStyleText(et),ot=parsePlainText(at,et),it=needDrawBackground(et),st=!!et.backgroundColor,ut=ot.outerHeight,ft=ot.outerWidth,dt=ot.contentWidth,vt=ot.lines,gt=ot.lineHeight,yt=this._defaultStyle,xt=et.x||0,Ct=et.y||0,wt=et.align||yt.align||"left",Et=et.verticalAlign||yt.verticalAlign||"top",$t=xt,It=adjustTextY(Ct,ot.contentHeight,Et);if(it||nt){var Ot=adjustTextX(xt,ft,wt),Lt=adjustTextY(Ct,ut,Et);it&&this._renderBackground(et,et,Ot,Lt,ft,ut)}It+=gt/2,nt&&($t=getTextXForPadding(xt,wt,nt),Et==="top"?It+=nt[0]:Et==="bottom"&&(It-=nt[2]));for(var Ft=0,zt=!1,Gt=getFill("fill"in et?et.fill:(zt=!0,yt.fill)),jt=getStroke("stroke"in et?et.stroke:!st&&(!yt.autoStroke||zt)?(Ft=DEFAULT_STROKE_LINE_WIDTH,yt.stroke):null),Ut=et.textShadowBlur>0,Kt=et.width!=null&&(et.overflow==="truncate"||et.overflow==="break"||et.overflow==="breakAll"),Zt=ot.calculatedLineHeight,Qt=0;Qt<vt.length;Qt++){var rr=this._getOrCreateChild(TSpan$1),nr=rr.createStyle();rr.useStyle(nr),nr.text=vt[Qt],nr.x=$t,nr.y=It,wt&&(nr.textAlign=wt),nr.textBaseline="middle",nr.opacity=et.opacity,nr.strokeFirst=!0,Ut&&(nr.shadowBlur=et.textShadowBlur||0,nr.shadowColor=et.textShadowColor||"transparent",nr.shadowOffsetX=et.textShadowOffsetX||0,nr.shadowOffsetY=et.textShadowOffsetY||0),nr.stroke=jt,nr.fill=Gt,jt&&(nr.lineWidth=et.lineWidth||Ft,nr.lineDash=et.lineDash,nr.lineDashOffset=et.lineDashOffset||0),nr.font=tt,setSeparateFont(nr,et),It+=gt,Kt&&rr.setBoundingRect(new BoundingRect$1(adjustTextX(nr.x,et.width,nr.textAlign),adjustTextY(nr.y,Zt,nr.textBaseline),dt,Zt))}},_e.prototype._updateRichTexts=function(){var et=this.style,tt=getStyleText(et),nt=parseRichText(tt,et),at=nt.width,ot=nt.outerWidth,it=nt.outerHeight,st=et.padding,ut=et.x||0,ft=et.y||0,dt=this._defaultStyle,vt=et.align||dt.align,gt=et.verticalAlign||dt.verticalAlign,yt=adjustTextX(ut,ot,vt),xt=adjustTextY(ft,it,gt),Ct=yt,wt=xt;st&&(Ct+=st[3],wt+=st[0]);var Et=Ct+at;needDrawBackground(et)&&this._renderBackground(et,et,yt,xt,ot,it);for(var $t=!!et.backgroundColor,It=0;It<nt.lines.length;It++){for(var Ot=nt.lines[It],Lt=Ot.tokens,Ft=Lt.length,zt=Ot.lineHeight,Gt=Ot.width,jt=0,Ut=Ct,Kt=Et,Zt=Ft-1,Qt=void 0;jt<Ft&&(Qt=Lt[jt],!Qt.align||Qt.align==="left");)this._placeToken(Qt,et,zt,wt,Ut,"left",$t),Gt-=Qt.width,Ut+=Qt.width,jt++;for(;Zt>=0&&(Qt=Lt[Zt],Qt.align==="right");)this._placeToken(Qt,et,zt,wt,Kt,"right",$t),Gt-=Qt.width,Kt-=Qt.width,Zt--;for(Ut+=(at-(Ut-Ct)-(Et-Kt)-Gt)/2;jt<=Zt;)Qt=Lt[jt],this._placeToken(Qt,et,zt,wt,Ut+Qt.width/2,"center",$t),Ut+=Qt.width,jt++;wt+=zt}},_e.prototype._placeToken=function(et,tt,nt,at,ot,it,st){var ut=tt.rich[et.styleName]||{};ut.text=et.text;var ft=et.verticalAlign,dt=at+nt/2;ft==="top"?dt=at+et.height/2:ft==="bottom"&&(dt=at+nt-et.height/2);var vt=!et.isLineHolder&&needDrawBackground(ut);vt&&this._renderBackground(ut,tt,it==="right"?ot-et.width:it==="center"?ot-et.width/2:ot,dt-et.height/2,et.width,et.height);var gt=!!ut.backgroundColor,yt=et.textPadding;yt&&(ot=getTextXForPadding(ot,it,yt),dt-=et.height/2-yt[0]-et.innerHeight/2);var xt=this._getOrCreateChild(TSpan$1),Ct=xt.createStyle();xt.useStyle(Ct);var wt=this._defaultStyle,Et=!1,$t=0,It=getFill("fill"in ut?ut.fill:"fill"in tt?tt.fill:(Et=!0,wt.fill)),Ot=getStroke("stroke"in ut?ut.stroke:"stroke"in tt?tt.stroke:!gt&&!st&&(!wt.autoStroke||Et)?($t=DEFAULT_STROKE_LINE_WIDTH,wt.stroke):null),Lt=ut.textShadowBlur>0||tt.textShadowBlur>0;Ct.text=et.text,Ct.x=ot,Ct.y=dt,Lt&&(Ct.shadowBlur=ut.textShadowBlur||tt.textShadowBlur||0,Ct.shadowColor=ut.textShadowColor||tt.textShadowColor||"transparent",Ct.shadowOffsetX=ut.textShadowOffsetX||tt.textShadowOffsetX||0,Ct.shadowOffsetY=ut.textShadowOffsetY||tt.textShadowOffsetY||0),Ct.textAlign=it,Ct.textBaseline="middle",Ct.font=et.font||DEFAULT_FONT,Ct.opacity=retrieve3(ut.opacity,tt.opacity,1),setSeparateFont(Ct,ut),Ot&&(Ct.lineWidth=retrieve3(ut.lineWidth,tt.lineWidth,$t),Ct.lineDash=retrieve2(ut.lineDash,tt.lineDash),Ct.lineDashOffset=tt.lineDashOffset||0,Ct.stroke=Ot),It&&(Ct.fill=It);var Ft=et.contentWidth,zt=et.contentHeight;xt.setBoundingRect(new BoundingRect$1(adjustTextX(Ct.x,Ft,Ct.textAlign),adjustTextY(Ct.y,zt,Ct.textBaseline),Ft,zt))},_e.prototype._renderBackground=function(et,tt,nt,at,ot,it){var st=et.backgroundColor,ut=et.borderWidth,ft=et.borderColor,dt=st&&st.image,vt=st&&!dt,gt=et.borderRadius,yt=this,xt,Ct;if(vt||et.lineHeight||ut&&ft){xt=this._getOrCreateChild(Rect$3),xt.useStyle(xt.createStyle()),xt.style.fill=null;var wt=xt.shape;wt.x=nt,wt.y=at,wt.width=ot,wt.height=it,wt.r=gt,xt.dirtyShape()}if(vt){var Et=xt.style;Et.fill=st||null,Et.fillOpacity=retrieve2(et.fillOpacity,1)}else if(dt){Ct=this._getOrCreateChild(ZRImage$1),Ct.onload=function(){yt.dirtyStyle()};var $t=Ct.style;$t.image=st.image,$t.x=nt,$t.y=at,$t.width=ot,$t.height=it}if(ut&&ft){var Et=xt.style;Et.lineWidth=ut,Et.stroke=ft,Et.strokeOpacity=retrieve2(et.strokeOpacity,1),Et.lineDash=et.borderDash,Et.lineDashOffset=et.borderDashOffset||0,xt.strokeContainThreshold=0,xt.hasFill()&&xt.hasStroke()&&(Et.strokeFirst=!0,Et.lineWidth*=2)}var It=(xt||Ct).style;It.shadowBlur=et.shadowBlur||0,It.shadowColor=et.shadowColor||"transparent",It.shadowOffsetX=et.shadowOffsetX||0,It.shadowOffsetY=et.shadowOffsetY||0,It.opacity=retrieve3(et.opacity,tt.opacity,1)},_e.makeFont=function(et){var tt="";return hasSeparateFont(et)&&(tt=[et.fontStyle,et.fontWeight,parseFontSize(et.fontSize),et.fontFamily||"sans-serif"].join(" ")),tt&&trim$1(tt)||et.textFont||et.font},_e}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize($){return typeof $=="string"&&($.indexOf("px")!==-1||$.indexOf("rem")!==-1||$.indexOf("em")!==-1)?$:isNaN(+$)?DEFAULT_FONT_SIZE+"px":$+"px"}function setSeparateFont($,_e){for(var et=0;et<FONT_PARTS.length;et++){var tt=FONT_PARTS[et],nt=_e[tt];nt!=null&&($[tt]=nt)}}function hasSeparateFont($){return $.fontSize!=null||$.fontFamily||$.fontWeight}function normalizeTextStyle($){return normalizeStyle($),each$f($.rich,normalizeStyle),$}function normalizeStyle($){if($){$.font=ZRText.makeFont($);var _e=$.align;_e==="middle"&&(_e="center"),$.align=_e==null||VALID_TEXT_ALIGN[_e]?_e:"left";var et=$.verticalAlign;et==="center"&&(et="middle"),$.verticalAlign=et==null||VALID_TEXT_VERTICAL_ALIGN[et]?et:"top";var tt=$.padding;tt&&($.padding=normalizeCssArray$1($.padding))}}function getStroke($,_e){return $==null||_e<=0||$==="transparent"||$==="none"?null:$.image||$.colorStops?"#000":$}function getFill($){return $==null||$==="none"?null:$.image||$.colorStops?"#000":$}function getTextXForPadding($,_e,et){return _e==="right"?$-et[1]:_e==="center"?$+et[3]/2-et[1]/2:$+et[3]}function getStyleText($){var _e=$.text;return _e!=null&&(_e+=""),_e}function needDrawBackground($){return!!($.backgroundColor||$.lineHeight||$.borderWidth&&$.borderColor)}var ZRText$1=ZRText,getECData=makeInner(),setCommonECData=function($,_e,et,tt){if(tt){var nt=getECData(tt);nt.dataIndex=et,nt.dataType=_e,nt.seriesIndex=$,tt.type==="group"&&tt.traverse(function(at){var ot=getECData(at);ot.seriesIndex=$,ot.dataIndex=et,ot.dataType=_e})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke($){return $!=null&&$!=="none"}var liftedColorCache=new LRU$1(100);function liftColor($){if(isString($)){var _e=liftedColorCache.get($);return _e||(_e=lift($,-.1),liftedColorCache.put($,_e)),_e}else if(isGradientObject($)){var et=extend({},$);return et.colorStops=map$1($.colorStops,function(tt){return{offset:tt.offset,color:lift(tt.color,-.1)}}),et}return $}function doChangeHoverState($,_e,et){$.onHoverStateChange&&($.hoverState||0)!==et&&$.onHoverStateChange(_e),$.hoverState=et}function singleEnterEmphasis($){doChangeHoverState($,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis($){$.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState($,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur($){doChangeHoverState($,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur($){$.hoverState===HOVER_STATE_BLUR&&doChangeHoverState($,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect($){$.selected=!0}function singleLeaveSelect($){$.selected=!1}function updateElementState($,_e,et){_e($,et)}function traverseUpdateState($,_e,et){updateElementState($,_e,et),$.isGroup&&$.traverse(function(tt){updateElementState(tt,_e,et)})}function setStatesFlag($,_e){switch(_e){case"emphasis":$.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":$.hoverState=HOVER_STATE_NORMAL;break;case"blur":$.hoverState=HOVER_STATE_BLUR;break;case"select":$.selected=!0}}function getFromStateStyle($,_e,et,tt){for(var nt=$.style,at={},ot=0;ot<_e.length;ot++){var it=_e[ot],st=nt[it];at[it]=st==null?tt&&tt[it]:st}for(var ot=0;ot<$.animators.length;ot++){var ut=$.animators[ot];ut.__fromStateTransition&&ut.__fromStateTransition.indexOf(et)<0&&ut.targetName==="style"&&ut.saveTo(at,_e)}return at}function createEmphasisDefaultState($,_e,et,tt){var nt=et&&indexOf(et,"select")>=0,at=!1;if($ instanceof Path$1){var ot=getSavedStates($),it=nt&&ot.selectFill||ot.normalFill,st=nt&&ot.selectStroke||ot.normalStroke;if(hasFillOrStroke(it)||hasFillOrStroke(st)){tt=tt||{};var ut=tt.style||{};ut.fill==="inherit"?(at=!0,tt=extend({},tt),ut=extend({},ut),ut.fill=it):!hasFillOrStroke(ut.fill)&&hasFillOrStroke(it)?(at=!0,tt=extend({},tt),ut=extend({},ut),ut.fill=liftColor(it)):!hasFillOrStroke(ut.stroke)&&hasFillOrStroke(st)&&(at||(tt=extend({},tt),ut=extend({},ut)),ut.stroke=liftColor(st)),tt.style=ut}}if(tt&&tt.z2==null){at||(tt=extend({},tt));var ft=$.z2EmphasisLift;tt.z2=$.z2+(ft!=null?ft:Z2_EMPHASIS_LIFT)}return tt}function createSelectDefaultState($,_e,et){if(et&&et.z2==null){et=extend({},et);var tt=$.z2SelectLift;et.z2=$.z2+(tt!=null?tt:Z2_SELECT_LIFT)}return et}function createBlurDefaultState($,_e,et){var tt=indexOf($.currentStates,_e)>=0,nt=$.style.opacity,at=tt?null:getFromStateStyle($,["opacity"],_e,{opacity:1});et=et||{};var ot=et.style||{};return ot.opacity==null&&(et=extend({},et),ot=extend({opacity:tt?nt:at.opacity*.1},ot),et.style=ot),et}function elementStateProxy($,_e){var et=this.states[$];if(this.style){if($==="emphasis")return createEmphasisDefaultState(this,$,_e,et);if($==="blur")return createBlurDefaultState(this,$,et);if($==="select")return createSelectDefaultState(this,$,et)}return et}function setDefaultStateProxy($){$.stateProxy=elementStateProxy;var _e=$.getTextContent(),et=$.getTextGuideLine();_e&&(_e.stateProxy=elementStateProxy),et&&(et.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver($,_e){!shouldSilent($,_e)&&!$.__highByOuter&&traverseUpdateState($,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut($,_e){!shouldSilent($,_e)&&!$.__highByOuter&&traverseUpdateState($,singleLeaveEmphasis)}function enterEmphasis($,_e){$.__highByOuter|=1<<(_e||0),traverseUpdateState($,singleEnterEmphasis)}function leaveEmphasis($,_e){!($.__highByOuter&=~(1<<(_e||0)))&&traverseUpdateState($,singleLeaveEmphasis)}function enterBlur($){traverseUpdateState($,singleEnterBlur)}function leaveBlur($){traverseUpdateState($,singleLeaveBlur)}function enterSelect($){traverseUpdateState($,singleEnterSelect)}function leaveSelect($){traverseUpdateState($,singleLeaveSelect)}function shouldSilent($,_e){return $.__highDownSilentOnTouch&&_e.zrByTouch}function allLeaveBlur($){var _e=$.getModel(),et=[],tt=[];_e.eachComponent(function(nt,at){var ot=getComponentStates(at),it=nt==="series",st=it?$.getViewOfSeriesModel(at):$.getViewOfComponentModel(at);!it&&tt.push(st),ot.isBlured&&(st.group.traverse(function(ut){singleLeaveBlur(ut)}),it&&et.push(at)),ot.isBlured=!1}),each$f(tt,function(nt){nt&&nt.toggleBlurSeries&&nt.toggleBlurSeries(et,!1,_e)})}function blurSeries($,_e,et,tt){var nt=tt.getModel();et=et||"coordinateSystem";function at(ut,ft){for(var dt=0;dt<ft.length;dt++){var vt=ut.getItemGraphicEl(ft[dt]);vt&&leaveBlur(vt)}}if($!=null&&!(!_e||_e==="none")){var ot=nt.getSeriesByIndex($),it=ot.coordinateSystem;it&&it.master&&(it=it.master);var st=[];nt.eachSeries(function(ut){var ft=ot===ut,dt=ut.coordinateSystem;dt&&dt.master&&(dt=dt.master);var vt=dt&&it?dt===it:ft;if(!(et==="series"&&!ft||et==="coordinateSystem"&&!vt||_e==="series"&&ft)){var gt=tt.getViewOfSeriesModel(ut);if(gt.group.traverse(function(Ct){singleEnterBlur(Ct)}),isArrayLike(_e))at(ut.getData(),_e);else if(isObject$3(_e))for(var yt=keys(_e),xt=0;xt<yt.length;xt++)at(ut.getData(yt[xt]),_e[yt[xt]]);st.push(ut),getComponentStates(ut).isBlured=!0}}),nt.eachComponent(function(ut,ft){if(ut!=="series"){var dt=tt.getViewOfComponentModel(ft);dt&&dt.toggleBlurSeries&&dt.toggleBlurSeries(st,!0,nt)}})}}function blurComponent($,_e,et){if(!($==null||_e==null)){var tt=et.getModel().getComponent($,_e);if(!!tt){getComponentStates(tt).isBlured=!0;var nt=et.getViewOfComponentModel(tt);!nt||!nt.focusBlurEnabled||nt.group.traverse(function(at){singleEnterBlur(at)})}}}function blurSeriesFromHighlightPayload($,_e,et){var tt=$.seriesIndex,nt=$.getData(_e.dataType);if(!!nt){var at=queryDataIndex(nt,_e);at=(isArray$1(at)?at[0]:at)||0;var ot=nt.getItemGraphicEl(at);if(!ot)for(var it=nt.count(),st=0;!ot&&st<it;)ot=nt.getItemGraphicEl(st++);if(ot){var ut=getECData(ot);blurSeries(tt,ut.focus,ut.blurScope,et)}else{var ft=$.get(["emphasis","focus"]),dt=$.get(["emphasis","blurScope"]);ft!=null&&blurSeries(tt,ft,dt,et)}}}function findComponentHighDownDispatchers($,_e,et,tt){var nt={focusSelf:!1,dispatchers:null};if($==null||$==="series"||_e==null||et==null)return nt;var at=tt.getModel().getComponent($,_e);if(!at)return nt;var ot=tt.getViewOfComponentModel(at);if(!ot||!ot.findHighDownDispatchers)return nt;for(var it=ot.findHighDownDispatchers(et),st,ut=0;ut<it.length;ut++)if(getECData(it[ut]).focus==="self"){st=!0;break}return{focusSelf:st,dispatchers:it}}function handleGlobalMouseOverForHighDown($,_e,et){var tt=getECData($),nt=findComponentHighDownDispatchers(tt.componentMainType,tt.componentIndex,tt.componentHighDownName,et),at=nt.dispatchers,ot=nt.focusSelf;at?(ot&&blurComponent(tt.componentMainType,tt.componentIndex,et),each$f(at,function(it){return enterEmphasisWhenMouseOver(it,_e)})):(blurSeries(tt.seriesIndex,tt.focus,tt.blurScope,et),tt.focus==="self"&&blurComponent(tt.componentMainType,tt.componentIndex,et),enterEmphasisWhenMouseOver($,_e))}function handleGlobalMouseOutForHighDown($,_e,et){allLeaveBlur(et);var tt=getECData($),nt=findComponentHighDownDispatchers(tt.componentMainType,tt.componentIndex,tt.componentHighDownName,et).dispatchers;nt?each$f(nt,function(at){return leaveEmphasisWhenMouseOut(at,_e)}):leaveEmphasisWhenMouseOut($,_e)}function toggleSelectionFromPayload($,_e,et){if(!!isSelectChangePayload(_e)){var tt=_e.dataType,nt=$.getData(tt),at=queryDataIndex(nt,_e);isArray$1(at)||(at=[at]),$[_e.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":_e.type===SELECT_ACTION_TYPE?"select":"unselect"](at,tt)}}function updateSeriesElementSelection($){var _e=$.getAllData();each$f(_e,function(et){var tt=et.data,nt=et.type;tt.eachItemGraphicEl(function(at,ot){$.isSelected(ot,nt)?enterSelect(at):leaveSelect(at)})})}function getAllSelectedIndices($){var _e=[];return $.eachSeries(function(et){var tt=et.getAllData();each$f(tt,function(nt){nt.data;var at=nt.type,ot=et.getSelectedDataIndices();if(ot.length>0){var it={dataIndex:ot,seriesIndex:et.seriesIndex};at!=null&&(it.dataType=at),_e.push(it)}})}),_e}function enableHoverEmphasis($,_e,et){setAsHighDownDispatcher($,!0),traverseUpdateState($,setDefaultStateProxy),enableHoverFocus($,_e,et)}function disableHoverEmphasis($){setAsHighDownDispatcher($,!1)}function toggleHoverEmphasis($,_e,et,tt){tt?disableHoverEmphasis($):enableHoverEmphasis($,_e,et)}function enableHoverFocus($,_e,et){var tt=getECData($);_e!=null?(tt.focus=_e,tt.blurScope=et):tt.focus&&(tt.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel($,_e,et,tt){et=et||"itemStyle";for(var nt=0;nt<OTHER_STATES.length;nt++){var at=OTHER_STATES[nt],ot=_e.getModel([at,et]),it=$.ensureState(at);it.style=tt?tt(ot):ot[defaultStyleGetterMap[et]]()}}function setAsHighDownDispatcher($,_e){var et=_e===!1,tt=$;$.highDownSilentOnTouch&&(tt.__highDownSilentOnTouch=$.highDownSilentOnTouch),(!et||tt.__highDownDispatcher)&&(tt.__highByOuter=tt.__highByOuter||0,tt.__highDownDispatcher=!et)}function isHighDownDispatcher($){return!!($&&$.__highDownDispatcher)}function enableComponentHighDownFeatures($,_e,et){var tt=getECData($);tt.componentMainType=_e.mainType,tt.componentIndex=_e.componentIndex,tt.componentHighDownName=et}function getHighlightDigit($){var _e=_highlightKeyMap[$];return _e==null&&_highlightNextDigit<=32&&(_e=_highlightKeyMap[$]=_highlightNextDigit++),_e}function isSelectChangePayload($){var _e=$.type;return _e===SELECT_ACTION_TYPE||_e===UNSELECT_ACTION_TYPE||_e===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload($){var _e=$.type;return _e===HIGHLIGHT_ACTION_TYPE||_e===DOWNPLAY_ACTION_TYPE}function savePathStates($){var _e=getSavedStates($);_e.normalFill=$.style.fill,_e.normalStroke=$.style.stroke;var et=$.states.select||{};_e.selectFill=et.style&&et.style.fill||null,_e.selectStroke=et.style&&et.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath($,_e){if(!!_e){var et=$.data,tt=$.len(),nt,at,ot,it,st,ut,ft=CMD$2.M,dt=CMD$2.C,vt=CMD$2.L,gt=CMD$2.R,yt=CMD$2.A,xt=CMD$2.Q;for(ot=0,it=0;ot<tt;){switch(nt=et[ot++],it=ot,at=0,nt){case ft:at=1;break;case vt:at=1;break;case dt:at=3;break;case xt:at=2;break;case yt:var Ct=_e[4],wt=_e[5],Et=mathSqrt$2(_e[0]*_e[0]+_e[1]*_e[1]),$t=mathSqrt$2(_e[2]*_e[2]+_e[3]*_e[3]),It=mathAtan2(-_e[1]/$t,_e[0]/Et);et[ot]*=Et,et[ot++]+=Ct,et[ot]*=$t,et[ot++]+=wt,et[ot++]*=Et,et[ot++]*=$t,et[ot++]+=It,et[ot++]+=It,ot+=2,it=ot;break;case gt:ut[0]=et[ot++],ut[1]=et[ot++],applyTransform$1(ut,ut,_e),et[it++]=ut[0],et[it++]=ut[1],ut[0]+=et[ot++],ut[1]+=et[ot++],applyTransform$1(ut,ut,_e),et[it++]=ut[0],et[it++]=ut[1]}for(st=0;st<at;st++){var Ot=points$2[st];Ot[0]=et[ot++],Ot[1]=et[ot++],applyTransform$1(Ot,Ot,_e),et[it++]=Ot[0],et[it++]=Ot[1]}}$.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag($){return Math.sqrt($[0]*$[0]+$[1]*$[1])}function vRatio($,_e){return($[0]*_e[0]+$[1]*_e[1])/(vMag($)*vMag(_e))}function vAngle($,_e){return($[0]*_e[1]<$[1]*_e[0]?-1:1)*Math.acos(vRatio($,_e))}function processArc($,_e,et,tt,nt,at,ot,it,st,ut,ft){var dt=st*(PI$7/180),vt=mathCos$2(dt)*($-et)/2+mathSin$2(dt)*(_e-tt)/2,gt=-1*mathSin$2(dt)*($-et)/2+mathCos$2(dt)*(_e-tt)/2,yt=vt*vt/(ot*ot)+gt*gt/(it*it);yt>1&&(ot*=mathSqrt$1(yt),it*=mathSqrt$1(yt));var xt=(nt===at?-1:1)*mathSqrt$1((ot*ot*(it*it)-ot*ot*(gt*gt)-it*it*(vt*vt))/(ot*ot*(gt*gt)+it*it*(vt*vt)))||0,Ct=xt*ot*gt/it,wt=xt*-it*vt/ot,Et=($+et)/2+mathCos$2(dt)*Ct-mathSin$2(dt)*wt,$t=(_e+tt)/2+mathSin$2(dt)*Ct+mathCos$2(dt)*wt,It=vAngle([1,0],[(vt-Ct)/ot,(gt-wt)/it]),Ot=[(vt-Ct)/ot,(gt-wt)/it],Lt=[(-1*vt-Ct)/ot,(-1*gt-wt)/it],Ft=vAngle(Ot,Lt);if(vRatio(Ot,Lt)<=-1&&(Ft=PI$7),vRatio(Ot,Lt)>=1&&(Ft=0),Ft<0){var zt=Math.round(Ft/PI$7*1e6)/1e6;Ft=PI$7*2+zt%2*PI$7}ft.addData(ut,Et,$t,ot,it,It,Ft,dt,at)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString($){var _e=new PathProxy;if(!$)return _e;var et=0,tt=0,nt=et,at=tt,ot,it=PathProxy.CMD,st=$.match(commandReg);if(!st)return _e;for(var ut=0;ut<st.length;ut++){for(var ft=st[ut],dt=ft.charAt(0),vt=void 0,gt=ft.match(numberReg$1)||[],yt=gt.length,xt=0;xt<yt;xt++)gt[xt]=parseFloat(gt[xt]);for(var Ct=0;Ct<yt;){var wt=void 0,Et=void 0,$t=void 0,It=void 0,Ot=void 0,Lt=void 0,Ft=void 0,zt=et,Gt=tt,jt=void 0,Ut=void 0;switch(dt){case"l":et+=gt[Ct++],tt+=gt[Ct++],vt=it.L,_e.addData(vt,et,tt);break;case"L":et=gt[Ct++],tt=gt[Ct++],vt=it.L,_e.addData(vt,et,tt);break;case"m":et+=gt[Ct++],tt+=gt[Ct++],vt=it.M,_e.addData(vt,et,tt),nt=et,at=tt,dt="l";break;case"M":et=gt[Ct++],tt=gt[Ct++],vt=it.M,_e.addData(vt,et,tt),nt=et,at=tt,dt="L";break;case"h":et+=gt[Ct++],vt=it.L,_e.addData(vt,et,tt);break;case"H":et=gt[Ct++],vt=it.L,_e.addData(vt,et,tt);break;case"v":tt+=gt[Ct++],vt=it.L,_e.addData(vt,et,tt);break;case"V":tt=gt[Ct++],vt=it.L,_e.addData(vt,et,tt);break;case"C":vt=it.C,_e.addData(vt,gt[Ct++],gt[Ct++],gt[Ct++],gt[Ct++],gt[Ct++],gt[Ct++]),et=gt[Ct-2],tt=gt[Ct-1];break;case"c":vt=it.C,_e.addData(vt,gt[Ct++]+et,gt[Ct++]+tt,gt[Ct++]+et,gt[Ct++]+tt,gt[Ct++]+et,gt[Ct++]+tt),et+=gt[Ct-2],tt+=gt[Ct-1];break;case"S":wt=et,Et=tt,jt=_e.len(),Ut=_e.data,ot===it.C&&(wt+=et-Ut[jt-4],Et+=tt-Ut[jt-3]),vt=it.C,zt=gt[Ct++],Gt=gt[Ct++],et=gt[Ct++],tt=gt[Ct++],_e.addData(vt,wt,Et,zt,Gt,et,tt);break;case"s":wt=et,Et=tt,jt=_e.len(),Ut=_e.data,ot===it.C&&(wt+=et-Ut[jt-4],Et+=tt-Ut[jt-3]),vt=it.C,zt=et+gt[Ct++],Gt=tt+gt[Ct++],et+=gt[Ct++],tt+=gt[Ct++],_e.addData(vt,wt,Et,zt,Gt,et,tt);break;case"Q":zt=gt[Ct++],Gt=gt[Ct++],et=gt[Ct++],tt=gt[Ct++],vt=it.Q,_e.addData(vt,zt,Gt,et,tt);break;case"q":zt=gt[Ct++]+et,Gt=gt[Ct++]+tt,et+=gt[Ct++],tt+=gt[Ct++],vt=it.Q,_e.addData(vt,zt,Gt,et,tt);break;case"T":wt=et,Et=tt,jt=_e.len(),Ut=_e.data,ot===it.Q&&(wt+=et-Ut[jt-4],Et+=tt-Ut[jt-3]),et=gt[Ct++],tt=gt[Ct++],vt=it.Q,_e.addData(vt,wt,Et,et,tt);break;case"t":wt=et,Et=tt,jt=_e.len(),Ut=_e.data,ot===it.Q&&(wt+=et-Ut[jt-4],Et+=tt-Ut[jt-3]),et+=gt[Ct++],tt+=gt[Ct++],vt=it.Q,_e.addData(vt,wt,Et,et,tt);break;case"A":$t=gt[Ct++],It=gt[Ct++],Ot=gt[Ct++],Lt=gt[Ct++],Ft=gt[Ct++],zt=et,Gt=tt,et=gt[Ct++],tt=gt[Ct++],vt=it.A,processArc(zt,Gt,et,tt,Lt,Ft,$t,It,Ot,vt,_e);break;case"a":$t=gt[Ct++],It=gt[Ct++],Ot=gt[Ct++],Lt=gt[Ct++],Ft=gt[Ct++],zt=et,Gt=tt,et+=gt[Ct++],tt+=gt[Ct++],vt=it.A,processArc(zt,Gt,et,tt,Lt,Ft,$t,It,Ot,vt,_e);break}}(dt==="z"||dt==="Z")&&(vt=it.Z,_e.addData(vt),et=nt,tt=at),ot=vt}return _e.toStatic(),_e}var SVGPath=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.applyTransform=function(et){},_e}(Path$1);function isPathProxy($){return $.setData!=null}function createPathOptions($,_e){var et=createPathProxyFromString($),tt=extend({},_e);return tt.buildPath=function(nt){if(isPathProxy(nt)){nt.setData(et.data);var at=nt.getContext();at&&nt.rebuildPath(at,1)}else{var at=nt;et.rebuildPath(at,1)}},tt.applyTransform=function(nt){transformPath(et,nt),this.dirtyShape()},tt}function createFromString($,_e){return new SVGPath(createPathOptions($,_e))}function extendFromString($,_e){var et=createPathOptions($,_e),tt=function(nt){__extends(at,nt);function at(ot){var it=nt.call(this,ot)||this;return it.applyTransform=et.applyTransform,it.buildPath=et.buildPath,it}return at}(SVGPath);return tt}function mergePath$1($,_e){for(var et=[],tt=$.length,nt=0;nt<tt;nt++){var at=$[nt];et.push(at.getUpdatedPathProxy(!0))}var ot=new Path$1(_e);return ot.createPathProxy(),ot.buildPath=function(it){if(isPathProxy(it)){it.appendPath(et);var st=it.getContext();st&&it.rebuildPath(st,1)}},ot}function clonePath($,_e){_e=_e||{};var et=new Path$1;return $.shape&&et.setShape($.shape),et.setStyle($.style),_e.bakeTransform?transformPath(et.path,$.getComputedTransform()):_e.toLocal?et.setLocalTransform($.getComputedTransform()):et.copyTransform($),et.buildPath=$.buildPath,et.applyTransform=et.applyTransform,et.z=$.z,et.z2=$.z2,et.zlevel=$.zlevel,et}var CircleShape=function(){function $(){this.cx=0,this.cy=0,this.r=0}return $}(),Circle=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new CircleShape},_e.prototype.buildPath=function(et,tt){et.moveTo(tt.cx+tt.r,tt.cy),et.arc(tt.cx,tt.cy,tt.r,0,Math.PI*2)},_e}(Path$1);Circle.prototype.type="circle";var Circle$1=Circle,EllipseShape=function(){function $(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return $}(),Ellipse=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new EllipseShape},_e.prototype.buildPath=function(et,tt){var nt=.5522848,at=tt.cx,ot=tt.cy,it=tt.rx,st=tt.ry,ut=it*nt,ft=st*nt;et.moveTo(at-it,ot),et.bezierCurveTo(at-it,ot-ft,at-ut,ot-st,at,ot-st),et.bezierCurveTo(at+ut,ot-st,at+it,ot-ft,at+it,ot),et.bezierCurveTo(at+it,ot+ft,at+ut,ot+st,at,ot+st),et.bezierCurveTo(at-ut,ot+st,at-it,ot+ft,at-it,ot),et.closePath()},_e}(Path$1);Ellipse.prototype.type="ellipse";var Ellipse$1=Ellipse,PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect($,_e,et,tt,nt,at,ot,it){var st=et-$,ut=tt-_e,ft=ot-nt,dt=it-at,vt=dt*st-ft*ut;if(!(vt*vt<e))return vt=(ft*(_e-at)-dt*($-nt))/vt,[$+vt*st,_e+vt*ut]}function computeCornerTangents($,_e,et,tt,nt,at,ot){var it=$-et,st=_e-tt,ut=(ot?at:-at)/mathSqrt(it*it+st*st),ft=ut*st,dt=-ut*it,vt=$+ft,gt=_e+dt,yt=et+ft,xt=tt+dt,Ct=(vt+yt)/2,wt=(gt+xt)/2,Et=yt-vt,$t=xt-gt,It=Et*Et+$t*$t,Ot=nt-at,Lt=vt*xt-yt*gt,Ft=($t<0?-1:1)*mathSqrt(mathMax$7(0,Ot*Ot*It-Lt*Lt)),zt=(Lt*$t-Et*Ft)/It,Gt=(-Lt*Et-$t*Ft)/It,jt=(Lt*$t+Et*Ft)/It,Ut=(-Lt*Et+$t*Ft)/It,Kt=zt-Ct,Zt=Gt-wt,Qt=jt-Ct,rr=Ut-wt;return Kt*Kt+Zt*Zt>Qt*Qt+rr*rr&&(zt=jt,Gt=Ut),{cx:zt,cy:Gt,x0:-ft,y0:-dt,x1:zt*(nt/Ot-1),y1:Gt*(nt/Ot-1)}}function normalizeCornerRadius($){var _e;if(isArray$1($)){var et=$.length;if(!et)return $;et===1?_e=[$[0],$[0],0,0]:et===2?_e=[$[0],$[0],$[1],$[1]]:et===3?_e=$.concat($[2]):_e=$}else _e=[$,$,$,$];return _e}function buildPath$1($,_e){var et,tt=mathMax$7(_e.r,0),nt=mathMax$7(_e.r0||0,0),at=tt>0,ot=nt>0;if(!(!at&&!ot)){if(at||(tt=nt,nt=0),nt>tt){var it=tt;tt=nt,nt=it}var st=_e.startAngle,ut=_e.endAngle;if(!(isNaN(st)||isNaN(ut))){var ft=_e.cx,dt=_e.cy,vt=!!_e.clockwise,gt=mathAbs$1(ut-st),yt=gt>PI2$3&&gt%PI2$3;if(yt>e&&(gt=yt),!(tt>e))$.moveTo(ft,dt);else if(gt>PI2$3-e)$.moveTo(ft+tt*mathCos$1(st),dt+tt*mathSin$1(st)),$.arc(ft,dt,tt,st,ut,!vt),nt>e&&($.moveTo(ft+nt*mathCos$1(ut),dt+nt*mathSin$1(ut)),$.arc(ft,dt,nt,ut,st,vt));else{var xt=void 0,Ct=void 0,wt=void 0,Et=void 0,$t=void 0,It=void 0,Ot=void 0,Lt=void 0,Ft=void 0,zt=void 0,Gt=void 0,jt=void 0,Ut=void 0,Kt=void 0,Zt=void 0,Qt=void 0,rr=tt*mathCos$1(st),nr=tt*mathSin$1(st),dr=nt*mathCos$1(ut),sr=nt*mathSin$1(ut),fr=gt>e;if(fr){var yr=_e.cornerRadius;yr&&(et=normalizeCornerRadius(yr),xt=et[0],Ct=et[1],wt=et[2],Et=et[3]);var Pr=mathAbs$1(tt-nt)/2;if($t=mathMin$7(Pr,wt),It=mathMin$7(Pr,Et),Ot=mathMin$7(Pr,xt),Lt=mathMin$7(Pr,Ct),Gt=Ft=mathMax$7($t,It),jt=zt=mathMax$7(Ot,Lt),(Ft>e||zt>e)&&(Ut=tt*mathCos$1(ut),Kt=tt*mathSin$1(ut),Zt=nt*mathCos$1(st),Qt=nt*mathSin$1(st),gt<PI$6)){var wr=intersect(rr,nr,Zt,Qt,Ut,Kt,dr,sr);if(wr){var Mr=rr-wr[0],Lr=nr-wr[1],Br=Ut-wr[0],qr=Kt-wr[1],Qr=1/mathSin$1(mathACos((Mr*Br+Lr*qr)/(mathSqrt(Mr*Mr+Lr*Lr)*mathSqrt(Br*Br+qr*qr)))/2),Jr=mathSqrt(wr[0]*wr[0]+wr[1]*wr[1]);Gt=mathMin$7(Ft,(tt-Jr)/(Qr+1)),jt=mathMin$7(zt,(nt-Jr)/(Qr-1))}}}if(!fr)$.moveTo(ft+rr,dt+nr);else if(Gt>e){var sn=mathMin$7(wt,Gt),yn=mathMin$7(Et,Gt),pn=computeCornerTangents(Zt,Qt,rr,nr,tt,sn,vt),ln=computeCornerTangents(Ut,Kt,dr,sr,tt,yn,vt);$.moveTo(ft+pn.cx+pn.x0,dt+pn.cy+pn.y0),Gt<Ft&&sn===yn?$.arc(ft+pn.cx,dt+pn.cy,Gt,mathATan2(pn.y0,pn.x0),mathATan2(ln.y0,ln.x0),!vt):(sn>0&&$.arc(ft+pn.cx,dt+pn.cy,sn,mathATan2(pn.y0,pn.x0),mathATan2(pn.y1,pn.x1),!vt),$.arc(ft,dt,tt,mathATan2(pn.cy+pn.y1,pn.cx+pn.x1),mathATan2(ln.cy+ln.y1,ln.cx+ln.x1),!vt),yn>0&&$.arc(ft+ln.cx,dt+ln.cy,yn,mathATan2(ln.y1,ln.x1),mathATan2(ln.y0,ln.x0),!vt))}else $.moveTo(ft+rr,dt+nr),$.arc(ft,dt,tt,st,ut,!vt);if(!(nt>e)||!fr)$.lineTo(ft+dr,dt+sr);else if(jt>e){var sn=mathMin$7(xt,jt),yn=mathMin$7(Ct,jt),pn=computeCornerTangents(dr,sr,Ut,Kt,nt,-yn,vt),ln=computeCornerTangents(rr,nr,Zt,Qt,nt,-sn,vt);$.lineTo(ft+pn.cx+pn.x0,dt+pn.cy+pn.y0),jt<zt&&sn===yn?$.arc(ft+pn.cx,dt+pn.cy,jt,mathATan2(pn.y0,pn.x0),mathATan2(ln.y0,ln.x0),!vt):(yn>0&&$.arc(ft+pn.cx,dt+pn.cy,yn,mathATan2(pn.y0,pn.x0),mathATan2(pn.y1,pn.x1),!vt),$.arc(ft,dt,nt,mathATan2(pn.cy+pn.y1,pn.cx+pn.x1),mathATan2(ln.cy+ln.y1,ln.cx+ln.x1),vt),sn>0&&$.arc(ft+ln.cx,dt+ln.cy,sn,mathATan2(ln.y1,ln.x1),mathATan2(ln.y0,ln.x0),!vt))}else $.lineTo(ft+dr,dt+sr),$.arc(ft,dt,nt,ut,st,vt)}$.closePath()}}}var SectorShape=function(){function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return $}(),Sector=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new SectorShape},_e.prototype.buildPath=function(et,tt){buildPath$1(et,tt)},_e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},_e}(Path$1);Sector.prototype.type="sector";var Sector$1=Sector,RingShape=function(){function $(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return $}(),Ring=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new RingShape},_e.prototype.buildPath=function(et,tt){var nt=tt.cx,at=tt.cy,ot=Math.PI*2;et.moveTo(nt+tt.r,at),et.arc(nt,at,tt.r,0,ot,!1),et.moveTo(nt+tt.r0,at),et.arc(nt,at,tt.r0,0,ot,!0)},_e}(Path$1);Ring.prototype.type="ring";var Ring$1=Ring;function smoothBezier($,_e,et,tt){var nt=[],at=[],ot=[],it=[],st,ut,ft,dt;if(tt){ft=[1/0,1/0],dt=[-1/0,-1/0];for(var vt=0,gt=$.length;vt<gt;vt++)min$1(ft,ft,$[vt]),max$1(dt,dt,$[vt]);min$1(ft,ft,tt[0]),max$1(dt,dt,tt[1])}for(var vt=0,gt=$.length;vt<gt;vt++){var yt=$[vt];if(et)st=$[vt?vt-1:gt-1],ut=$[(vt+1)%gt];else if(vt===0||vt===gt-1){nt.push(clone$3($[vt]));continue}else st=$[vt-1],ut=$[vt+1];sub(at,ut,st),scale$2(at,at,_e);var xt=distance(yt,st),Ct=distance(yt,ut),wt=xt+Ct;wt!==0&&(xt/=wt,Ct/=wt),scale$2(ot,at,-xt),scale$2(it,at,Ct);var Et=add([],yt,ot),$t=add([],yt,it);tt&&(max$1(Et,Et,ft),min$1(Et,Et,dt),max$1($t,$t,ft),min$1($t,$t,dt)),nt.push(Et),nt.push($t)}return et&&nt.push(nt.shift()),nt}function buildPath($,_e,et){var tt=_e.smooth,nt=_e.points;if(nt&&nt.length>=2){if(tt){var at=smoothBezier(nt,tt,et,_e.smoothConstraint);$.moveTo(nt[0][0],nt[0][1]);for(var ot=nt.length,it=0;it<(et?ot:ot-1);it++){var st=at[it*2],ut=at[it*2+1],ft=nt[(it+1)%ot];$.bezierCurveTo(st[0],st[1],ut[0],ut[1],ft[0],ft[1])}}else{$.moveTo(nt[0][0],nt[0][1]);for(var it=1,dt=nt.length;it<dt;it++)$.lineTo(nt[it][0],nt[it][1])}et&&$.closePath()}}var PolygonShape=function(){function $(){this.points=null,this.smooth=0,this.smoothConstraint=null}return $}(),Polygon=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new PolygonShape},_e.prototype.buildPath=function(et,tt){buildPath(et,tt,!0)},_e}(Path$1);Polygon.prototype.type="polygon";var Polygon$1=Polygon,PolylineShape=function(){function $(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return $}(),Polyline$2=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new PolylineShape},_e.prototype.buildPath=function(et,tt){buildPath(et,tt,!1)},_e}(Path$1);Polyline$2.prototype.type="polyline";var Polyline$3=Polyline$2,subPixelOptimizeOutputShape={},LineShape=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return $}(),Line$2=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new LineShape},_e.prototype.buildPath=function(et,tt){var nt,at,ot,it;if(this.subPixelOptimize){var st=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,tt,this.style);nt=st.x1,at=st.y1,ot=st.x2,it=st.y2}else nt=tt.x1,at=tt.y1,ot=tt.x2,it=tt.y2;var ut=tt.percent;ut!==0&&(et.moveTo(nt,at),ut<1&&(ot=nt*(1-ut)+ot*ut,it=at*(1-ut)+it*ut),et.lineTo(ot,it))},_e.prototype.pointAt=function(et){var tt=this.shape;return[tt.x1*(1-et)+tt.x2*et,tt.y1*(1-et)+tt.y2*et]},_e}(Path$1);Line$2.prototype.type="line";var Line$3=Line$2,out=[],BezierCurveShape=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return $}();function someVectorAt($,_e,et){var tt=$.cpx2,nt=$.cpy2;return tt!=null||nt!=null?[(et?cubicDerivativeAt:cubicAt)($.x1,$.cpx1,$.cpx2,$.x2,_e),(et?cubicDerivativeAt:cubicAt)($.y1,$.cpy1,$.cpy2,$.y2,_e)]:[(et?quadraticDerivativeAt:quadraticAt$1)($.x1,$.cpx1,$.x2,_e),(et?quadraticDerivativeAt:quadraticAt$1)($.y1,$.cpy1,$.y2,_e)]}var BezierCurve=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new BezierCurveShape},_e.prototype.buildPath=function(et,tt){var nt=tt.x1,at=tt.y1,ot=tt.x2,it=tt.y2,st=tt.cpx1,ut=tt.cpy1,ft=tt.cpx2,dt=tt.cpy2,vt=tt.percent;vt!==0&&(et.moveTo(nt,at),ft==null||dt==null?(vt<1&&(quadraticSubdivide(nt,st,ot,vt,out),st=out[1],ot=out[2],quadraticSubdivide(at,ut,it,vt,out),ut=out[1],it=out[2]),et.quadraticCurveTo(st,ut,ot,it)):(vt<1&&(cubicSubdivide(nt,st,ft,ot,vt,out),st=out[1],ft=out[2],ot=out[3],cubicSubdivide(at,ut,dt,it,vt,out),ut=out[1],dt=out[2],it=out[3]),et.bezierCurveTo(st,ut,ft,dt,ot,it)))},_e.prototype.pointAt=function(et){return someVectorAt(this.shape,et,!1)},_e.prototype.tangentAt=function(et){var tt=someVectorAt(this.shape,et,!0);return normalize$3(tt,tt)},_e}(Path$1);BezierCurve.prototype.type="bezier-curve";var BezierCurve$1=BezierCurve,ArcShape=function(){function $(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return $}(),Arc=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new ArcShape},_e.prototype.buildPath=function(et,tt){var nt=tt.cx,at=tt.cy,ot=Math.max(tt.r,0),it=tt.startAngle,st=tt.endAngle,ut=tt.clockwise,ft=Math.cos(it),dt=Math.sin(it);et.moveTo(ft*ot+nt,dt*ot+at),et.arc(nt,at,ot,it,st,!ut)},_e}(Path$1);Arc.prototype.type="arc";var Arc$1=Arc,CompoundPath=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="compound",et}return _e.prototype._updatePathDirty=function(){for(var et=this.shape.paths,tt=this.shapeChanged(),nt=0;nt<et.length;nt++)tt=tt||et[nt].shapeChanged();tt&&this.dirtyShape()},_e.prototype.beforeBrush=function(){this._updatePathDirty();for(var et=this.shape.paths||[],tt=this.getGlobalScale(),nt=0;nt<et.length;nt++)et[nt].path||et[nt].createPathProxy(),et[nt].path.setScale(tt[0],tt[1],et[nt].segmentIgnoreThreshold)},_e.prototype.buildPath=function(et,tt){for(var nt=tt.paths||[],at=0;at<nt.length;at++)nt[at].buildPath(et,nt[at].shape,!0)},_e.prototype.afterBrush=function(){for(var et=this.shape.paths||[],tt=0;tt<et.length;tt++)et[tt].pathUpdated()},_e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},_e}(Path$1),CompoundPath$1=CompoundPath,Gradient=function(){function $(_e){this.colorStops=_e||[]}return $.prototype.addColorStop=function(_e,et){this.colorStops.push({offset:_e,color:et})},$}(),Gradient$1=Gradient,LinearGradient=function($){__extends(_e,$);function _e(et,tt,nt,at,ot,it){var st=$.call(this,ot)||this;return st.x=et==null?0:et,st.y=tt==null?0:tt,st.x2=nt==null?1:nt,st.y2=at==null?0:at,st.type="linear",st.global=it||!1,st}return _e}(Gradient$1),LinearGradient$1=LinearGradient,RadialGradient=function($){__extends(_e,$);function _e(et,tt,nt,at,ot){var it=$.call(this,at)||this;return it.x=et==null?.5:et,it.y=tt==null?.5:tt,it.r=nt==null?.5:nt,it.type="radial",it.global=ot||!1,it}return _e}(Gradient$1),RadialGradient$1=RadialGradient,extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function $(_e,et){this._corners=[],this._axes=[],this._origin=[0,0];for(var tt=0;tt<4;tt++)this._corners[tt]=new Point$1;for(var tt=0;tt<2;tt++)this._axes[tt]=new Point$1;_e&&this.fromBoundingRect(_e,et)}return $.prototype.fromBoundingRect=function(_e,et){var tt=this._corners,nt=this._axes,at=_e.x,ot=_e.y,it=at+_e.width,st=ot+_e.height;if(tt[0].set(at,ot),tt[1].set(it,ot),tt[2].set(it,st),tt[3].set(at,st),et)for(var ut=0;ut<4;ut++)tt[ut].transform(et);Point$1.sub(nt[0],tt[1],tt[0]),Point$1.sub(nt[1],tt[3],tt[0]),nt[0].normalize(),nt[1].normalize();for(var ut=0;ut<2;ut++)this._origin[ut]=nt[ut].dot(tt[0])},$.prototype.intersect=function(_e,et){var tt=!0,nt=!et;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,_e,minTv,maxTv,nt,1)&&(tt=!1,nt)||!this._intersectCheckOneSide(_e,this,minTv,maxTv,nt,-1)&&(tt=!1,nt)||nt||Point$1.copy(et,tt?minTv:maxTv),tt},$.prototype._intersectCheckOneSide=function(_e,et,tt,nt,at,ot){for(var it=!0,st=0;st<2;st++){var ut=this._axes[st];if(this._getProjMinMaxOnAxis(st,_e._corners,extent),this._getProjMinMaxOnAxis(st,et._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(it=!1,at)return it;var ft=Math.abs(extent2[0]-extent[1]),dt=Math.abs(extent[0]-extent2[1]);Math.min(ft,dt)>nt.len()&&(ft<dt?Point$1.scale(nt,ut,-ft*ot):Point$1.scale(nt,ut,dt*ot))}else if(tt){var ft=Math.abs(extent2[0]-extent[1]),dt=Math.abs(extent[0]-extent2[1]);Math.min(ft,dt)<tt.len()&&(ft<dt?Point$1.scale(tt,ut,ft*ot):Point$1.scale(tt,ut,-dt*ot))}}return it},$.prototype._getProjMinMaxOnAxis=function(_e,et,tt){for(var nt=this._axes[_e],at=this._origin,ot=et[0].dot(nt)+at[_e],it=ot,st=ot,ut=1;ut<et.length;ut++){var ft=et[ut].dot(nt)+at[_e];it=Math.min(ft,it),st=Math.max(ft,st)}tt[0]=it,tt[1]=st},$}(),OrientedBoundingRect$1=OrientedBoundingRect,m=[],IncrementalDisplayable=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.notClear=!0,et.incremental=!0,et._displayables=[],et._temporaryDisplayables=[],et._cursor=0,et}return _e.prototype.traverse=function(et,tt){et.call(tt,this)},_e.prototype.useStyle=function(){this.style={}},_e.prototype.getCursor=function(){return this._cursor},_e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},_e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},_e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},_e.prototype.addDisplayable=function(et,tt){tt?this._temporaryDisplayables.push(et):this._displayables.push(et),this.markRedraw()},_e.prototype.addDisplayables=function(et,tt){tt=tt||!1;for(var nt=0;nt<et.length;nt++)this.addDisplayable(et[nt],tt)},_e.prototype.getDisplayables=function(){return this._displayables},_e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},_e.prototype.eachPendingDisplayable=function(et){for(var tt=this._cursor;tt<this._displayables.length;tt++)et&&et(this._displayables[tt]);for(var tt=0;tt<this._temporaryDisplayables.length;tt++)et&&et(this._temporaryDisplayables[tt])},_e.prototype.update=function(){this.updateTransform();for(var et=this._cursor;et<this._displayables.length;et++){var tt=this._displayables[et];tt.parent=this,tt.update(),tt.parent=null}for(var et=0;et<this._temporaryDisplayables.length;et++){var tt=this._temporaryDisplayables[et];tt.parent=this,tt.update(),tt.parent=null}},_e.prototype.getBoundingRect=function(){if(!this._rect){for(var et=new BoundingRect$1(1/0,1/0,-1/0,-1/0),tt=0;tt<this._displayables.length;tt++){var nt=this._displayables[tt],at=nt.getBoundingRect().clone();nt.needLocalTransform()&&at.applyTransform(nt.getLocalTransform(m)),et.union(at)}this._rect=et}return this._rect},_e.prototype.contain=function(et,tt){var nt=this.transformCoordToLocal(et,tt),at=this.getBoundingRect();if(at.contain(nt[0],nt[1]))for(var ot=0;ot<this._displayables.length;ot++){var it=this._displayables[ot];if(it.contain(et,tt))return!0}return!1},_e}(Displayable$1),IncrementalDisplayable$1=IncrementalDisplayable,transitionStore=makeInner();function getAnimationConfig($,_e,et,tt,nt){var at;if(_e&&_e.ecModel){var ot=_e.ecModel.getUpdatePayload();at=ot&&ot.animation}var it=_e&&_e.isAnimationEnabled(),st=$==="update";if(it){var ut=void 0,ft=void 0,dt=void 0;tt?(ut=retrieve2(tt.duration,200),ft=retrieve2(tt.easing,"cubicOut"),dt=0):(ut=_e.getShallow(st?"animationDurationUpdate":"animationDuration"),ft=_e.getShallow(st?"animationEasingUpdate":"animationEasing"),dt=_e.getShallow(st?"animationDelayUpdate":"animationDelay")),at&&(at.duration!=null&&(ut=at.duration),at.easing!=null&&(ft=at.easing),at.delay!=null&&(dt=at.delay)),isFunction(dt)&&(dt=dt(et,nt)),isFunction(ut)&&(ut=ut(et));var vt={duration:ut||0,delay:dt,easing:ft};return vt}else return null}function animateOrSetProps($,_e,et,tt,nt,at,ot){var it=!1,st;isFunction(nt)?(ot=at,at=nt,nt=null):isObject$3(nt)&&(at=nt.cb,ot=nt.during,it=nt.isFrom,st=nt.removeOpt,nt=nt.dataIndex);var ut=$==="leave";ut||_e.stopAnimation("leave");var ft=getAnimationConfig($,tt,nt,ut?st||{}:null,tt&&tt.getAnimationDelayParams?tt.getAnimationDelayParams(_e,nt):null);if(ft&&ft.duration>0){var dt=ft.duration,vt=ft.delay,gt=ft.easing,yt={duration:dt,delay:vt||0,easing:gt,done:at,force:!!at||!!ot,setToFinal:!ut,scope:$,during:ot};it?_e.animateFrom(et,yt):_e.animateTo(et,yt)}else _e.stopAnimation(),!it&&_e.attr(et),ot&&ot(1),at&&at()}function updateProps$1($,_e,et,tt,nt,at){animateOrSetProps("update",$,_e,et,tt,nt,at)}function initProps($,_e,et,tt,nt,at){animateOrSetProps("enter",$,_e,et,tt,nt,at)}function isElementRemoved($){if(!$.__zr)return!0;for(var _e=0;_e<$.animators.length;_e++){var et=$.animators[_e];if(et.scope==="leave")return!0}return!1}function removeElement($,_e,et,tt,nt,at){isElementRemoved($)||animateOrSetProps("leave",$,_e,et,tt,nt,at)}function fadeOutDisplayable($,_e,et,tt){$.removeTextContent(),$.removeTextGuideLine(),removeElement($,{style:{opacity:0}},_e,et,tt)}function removeElementWithFadeOut($,_e,et){function tt(){$.parent&&$.parent.remove($)}$.isGroup?$.traverse(function(nt){nt.isGroup||fadeOutDisplayable(nt,_e,et,tt)}):fadeOutDisplayable($,_e,et,tt)}function saveOldStyle($){transitionStore($).oldStyle=$.style}function getOldStyle($){return transitionStore($).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape($){return Path$1.extend($)}var extendPathFromString=extendFromString;function extendPath($,_e){return extendPathFromString($,_e)}function registerShape($,_e){_customShapeMap[$]=_e}function getShapeClass($){if(_customShapeMap.hasOwnProperty($))return _customShapeMap[$]}function makePath($,_e,et,tt){var nt=createFromString($,_e);return et&&(tt==="center"&&(et=centerGraphic(et,nt.getBoundingRect())),resizePath(nt,et)),nt}function makeImage($,_e,et){var tt=new ZRImage$1({style:{image:$,x:_e.x,y:_e.y,width:_e.width,height:_e.height},onload:function(nt){if(et==="center"){var at={width:nt.width,height:nt.height};tt.setStyle(centerGraphic(_e,at))}}});return tt}function centerGraphic($,_e){var et=_e.width/_e.height,tt=$.height*et,nt;tt<=$.width?nt=$.height:(tt=$.width,nt=tt/et);var at=$.x+$.width/2,ot=$.y+$.height/2;return{x:at-tt/2,y:ot-nt/2,width:tt,height:nt}}var mergePath=mergePath$1;function resizePath($,_e){if(!!$.applyTransform){var et=$.getBoundingRect(),tt=et.calculateTransform(_e);$.applyTransform(tt)}}function subPixelOptimizeLine($){return subPixelOptimizeLine$1($.shape,$.shape,$.style),$}function subPixelOptimizeRect($){return subPixelOptimizeRect$1($.shape,$.shape,$.style),$}var subPixelOptimize=subPixelOptimize$1;function getTransform$1($,_e){for(var et=identity([]);$&&$!==_e;)mul(et,$.getLocalTransform(),et),$=$.parent;return et}function applyTransform($,_e,et){return _e&&!isArrayLike(_e)&&(_e=Transformable$1.getLocalTransform(_e)),et&&(_e=invert([],_e)),applyTransform$1([],$,_e)}function transformDirection($,_e,et){var tt=_e[4]===0||_e[5]===0||_e[0]===0?1:Math.abs(2*_e[4]/_e[0]),nt=_e[4]===0||_e[5]===0||_e[2]===0?1:Math.abs(2*_e[4]/_e[2]),at=[$==="left"?-tt:$==="right"?tt:0,$==="top"?-nt:$==="bottom"?nt:0];return at=applyTransform(at,_e,et),Math.abs(at[0])>Math.abs(at[1])?at[0]>0?"right":"left":at[1]>0?"bottom":"top"}function isNotGroup($){return!$.isGroup}function isPath$1($){return $.shape!=null}function groupTransition($,_e,et){if(!$||!_e)return;function tt(ot){var it={};return ot.traverse(function(st){isNotGroup(st)&&st.anid&&(it[st.anid]=st)}),it}function nt(ot){var it={x:ot.x,y:ot.y,rotation:ot.rotation};return isPath$1(ot)&&(it.shape=extend({},ot.shape)),it}var at=tt($);_e.traverse(function(ot){if(isNotGroup(ot)&&ot.anid){var it=at[ot.anid];if(it){var st=nt(ot);ot.attr(nt(it)),updateProps$1(ot,st,et,getECData(ot).dataIndex)}}})}function clipPointsByRect($,_e){return map$1($,function(et){var tt=et[0];tt=mathMax$6(tt,_e.x),tt=mathMin$6(tt,_e.x+_e.width);var nt=et[1];return nt=mathMax$6(nt,_e.y),nt=mathMin$6(nt,_e.y+_e.height),[tt,nt]})}function clipRectByRect($,_e){var et=mathMax$6($.x,_e.x),tt=mathMin$6($.x+$.width,_e.x+_e.width),nt=mathMax$6($.y,_e.y),at=mathMin$6($.y+$.height,_e.y+_e.height);if(tt>=et&&at>=nt)return{x:et,y:nt,width:tt-et,height:at-nt}}function createIcon($,_e,et){var tt=extend({rectHover:!0},_e),nt=tt.style={strokeNoScale:!0};if(et=et||{x:-1,y:-1,width:2,height:2},$)return $.indexOf("image://")===0?(nt.image=$.slice(8),defaults(nt,et),new ZRImage$1(tt)):makePath($.replace("path://",""),tt,et,"center")}function linePolygonIntersect($,_e,et,tt,nt){for(var at=0,ot=nt[nt.length-1];at<nt.length;at++){var it=nt[at];if(lineLineIntersect$1($,_e,et,tt,it[0],it[1],ot[0],ot[1]))return!0;ot=it}}function lineLineIntersect$1($,_e,et,tt,nt,at,ot,it){var st=et-$,ut=tt-_e,ft=ot-nt,dt=it-at,vt=crossProduct2d$1(ft,dt,st,ut);if(nearZero(vt))return!1;var gt=$-nt,yt=_e-at,xt=crossProduct2d$1(gt,yt,st,ut)/vt;if(xt<0||xt>1)return!1;var Ct=crossProduct2d$1(gt,yt,ft,dt)/vt;return!(Ct<0||Ct>1)}function crossProduct2d$1($,_e,et,tt){return $*tt-et*_e}function nearZero($){return $<=1e-6&&$>=-1e-6}function setTooltipConfig($){var _e=$.itemTooltipOption,et=$.componentModel,tt=$.itemName,nt=isString(_e)?{formatter:_e}:_e,at=et.mainType,ot=et.componentIndex,it={componentType:at,name:tt,$vars:["name"]};it[at+"Index"]=ot;var st=$.formatterParamsExtra;st&&each$f(keys(st),function(ft){hasOwn(it,ft)||(it[ft]=st[ft],it.$vars.push(ft))});var ut=getECData($.el);ut.componentMainType=at,ut.componentIndex=ot,ut.tooltipConfig={name:tt,option:defaults({content:tt,formatterParams:it},nt)}}function traverseElement($,_e){var et;$.isGroup&&(et=_e($)),et||$.traverse(_e)}function traverseElements($,_e){if($)if(isArray$1($))for(var et=0;et<$.length;et++)traverseElement($[et],_e);else traverseElement($,_e)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);var graphic=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$1,initProps,removeElement,removeElementWithFadeOut,isElementRemoved,extendShape,extendPath,registerShape,getShapeClass,makePath,makeImage,mergePath,resizePath,subPixelOptimizeLine,subPixelOptimizeRect,subPixelOptimize,getTransform:getTransform$1,applyTransform,transformDirection,groupTransition,clipPointsByRect,clipRectByRect,createIcon,linePolygonIntersect,lineLineIntersect:lineLineIntersect$1,setTooltipConfig,traverseElements,Group:Group$4,Image:ZRImage$1,Text:ZRText$1,Circle:Circle$1,Ellipse:Ellipse$1,Sector:Sector$1,Ring:Ring$1,Polygon:Polygon$1,Polyline:Polyline$3,Rect:Rect$3,Line:Line$3,BezierCurve:BezierCurve$1,Arc:Arc$1,IncrementalDisplayable:IncrementalDisplayable$1,CompoundPath:CompoundPath$1,LinearGradient:LinearGradient$1,RadialGradient:RadialGradient$1,BoundingRect:BoundingRect$1,OrientedBoundingRect:OrientedBoundingRect$1,Point:Point$1,Path:Path$1},Symbol.toStringTag,{value:"Module"})),EMPTY_OBJ={};function setLabelText($,_e){for(var et=0;et<SPECIAL_STATES.length;et++){var tt=SPECIAL_STATES[et],nt=_e[tt],at=$.ensureState(tt);at.style=at.style||{},at.style.text=nt}var ot=$.currentStates.slice();$.clearStates(!0),$.setStyle({text:_e.normal}),$.useStates(ot,!0)}function getLabelText($,_e,et){var tt=$.labelFetcher,nt=$.labelDataIndex,at=$.labelDimIndex,ot=_e.normal,it;tt&&(it=tt.getFormattedLabel(nt,"normal",null,at,ot&&ot.get("formatter"),et!=null?{interpolatedValue:et}:null)),it==null&&(it=isFunction($.defaultText)?$.defaultText(nt,$,et):$.defaultText);for(var st={normal:it},ut=0;ut<SPECIAL_STATES.length;ut++){var ft=SPECIAL_STATES[ut],dt=_e[ft];st[ft]=retrieve2(tt?tt.getFormattedLabel(nt,ft,null,at,dt&&dt.get("formatter")):null,it)}return st}function setLabelStyle($,_e,et,tt){et=et||EMPTY_OBJ;for(var nt=$ instanceof ZRText$1,at=!1,ot=0;ot<DISPLAY_STATES.length;ot++){var it=_e[DISPLAY_STATES[ot]];if(it&&it.getShallow("show")){at=!0;break}}var st=nt?$:$.getTextContent();if(at){nt||(st||(st=new ZRText$1,$.setTextContent(st)),$.stateProxy&&(st.stateProxy=$.stateProxy));var ut=getLabelText(et,_e),ft=_e.normal,dt=!!ft.getShallow("show"),vt=createTextStyle(ft,tt&&tt.normal,et,!1,!nt);vt.text=ut.normal,nt||$.setTextConfig(createTextConfig(ft,et,!1));for(var ot=0;ot<SPECIAL_STATES.length;ot++){var gt=SPECIAL_STATES[ot],it=_e[gt];if(it){var yt=st.ensureState(gt),xt=!!retrieve2(it.getShallow("show"),dt);if(xt!==dt&&(yt.ignore=!xt),yt.style=createTextStyle(it,tt&&tt[gt],et,!0,!nt),yt.style.text=ut[gt],!nt){var Ct=$.ensureState(gt);Ct.textConfig=createTextConfig(it,et,!0)}}}st.silent=!!ft.getShallow("silent"),st.style.x!=null&&(vt.x=st.style.x),st.style.y!=null&&(vt.y=st.style.y),st.ignore=!dt,st.useStyle(vt),st.dirty(),et.enableTextSetter&&(labelInner(st).setLabelText=function(wt){var Et=getLabelText(et,_e,wt);setLabelText(st,Et)})}else st&&(st.ignore=!0);$.dirty()}function getLabelStatesModels($,_e){_e=_e||"label";for(var et={normal:$.getModel(_e)},tt=0;tt<SPECIAL_STATES.length;tt++){var nt=SPECIAL_STATES[tt];et[nt]=$.getModel([nt,_e])}return et}function createTextStyle($,_e,et,tt,nt){var at={};return setTextStyleCommon(at,$,et,tt,nt),_e&&extend(at,_e),at}function createTextConfig($,_e,et){_e=_e||{};var tt={},nt,at=$.getShallow("rotate"),ot=retrieve2($.getShallow("distance"),et?null:5),it=$.getShallow("offset");return nt=$.getShallow("position")||(et?null:"inside"),nt==="outside"&&(nt=_e.defaultOutsidePosition||"top"),nt!=null&&(tt.position=nt),it!=null&&(tt.offset=it),at!=null&&(at*=Math.PI/180,tt.rotation=at),ot!=null&&(tt.distance=ot),tt.outsideFill=$.get("color")==="inherit"?_e.inheritColor||null:"auto",tt}function setTextStyleCommon($,_e,et,tt,nt){et=et||EMPTY_OBJ;var at=_e.ecModel,ot=at&&at.option.textStyle,it=getRichItemNames(_e),st;if(it){st={};for(var ut in it)if(it.hasOwnProperty(ut)){var ft=_e.getModel(["rich",ut]);setTokenTextStyle(st[ut]={},ft,ot,et,tt,nt,!1,!0)}}st&&($.rich=st);var dt=_e.get("overflow");dt&&($.overflow=dt);var vt=_e.get("minMargin");vt!=null&&($.margin=vt),setTokenTextStyle($,_e,ot,et,tt,nt,!0,!1)}function getRichItemNames($){for(var _e;$&&$!==$.ecModel;){var et=($.option||EMPTY_OBJ).rich;if(et){_e=_e||{};for(var tt=keys(et),nt=0;nt<tt.length;nt++){var at=tt[nt];_e[at]=1}}$=$.parentModel}return _e}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle($,_e,et,tt,nt,at,ot,it){et=!nt&&et||EMPTY_OBJ;var st=tt&&tt.inheritColor,ut=_e.getShallow("color"),ft=_e.getShallow("textBorderColor"),dt=retrieve2(_e.getShallow("opacity"),et.opacity);(ut==="inherit"||ut==="auto")&&(st?ut=st:ut=null),(ft==="inherit"||ft==="auto")&&(st?ft=st:ft=null),at||(ut=ut||et.color,ft=ft||et.textBorderColor),ut!=null&&($.fill=ut),ft!=null&&($.stroke=ft);var vt=retrieve2(_e.getShallow("textBorderWidth"),et.textBorderWidth);vt!=null&&($.lineWidth=vt);var gt=retrieve2(_e.getShallow("textBorderType"),et.textBorderType);gt!=null&&($.lineDash=gt);var yt=retrieve2(_e.getShallow("textBorderDashOffset"),et.textBorderDashOffset);yt!=null&&($.lineDashOffset=yt),!nt&&dt==null&&!it&&(dt=tt&&tt.defaultOpacity),dt!=null&&($.opacity=dt),!nt&&!at&&$.fill==null&&tt.inheritColor&&($.fill=tt.inheritColor);for(var xt=0;xt<TEXT_PROPS_WITH_GLOBAL.length;xt++){var Ct=TEXT_PROPS_WITH_GLOBAL[xt],wt=retrieve2(_e.getShallow(Ct),et[Ct]);wt!=null&&($[Ct]=wt)}for(var xt=0;xt<TEXT_PROPS_SELF.length;xt++){var Ct=TEXT_PROPS_SELF[xt],wt=_e.getShallow(Ct);wt!=null&&($[Ct]=wt)}if($.verticalAlign==null){var Et=_e.getShallow("baseline");Et!=null&&($.verticalAlign=Et)}if(!ot||!tt.disableBox){for(var xt=0;xt<TEXT_PROPS_BOX.length;xt++){var Ct=TEXT_PROPS_BOX[xt],wt=_e.getShallow(Ct);wt!=null&&($[Ct]=wt)}var $t=_e.getShallow("borderType");$t!=null&&($.borderDash=$t),($.backgroundColor==="auto"||$.backgroundColor==="inherit")&&st&&($.backgroundColor=st),($.borderColor==="auto"||$.borderColor==="inherit")&&st&&($.borderColor=st)}}function getFont($,_e){var et=_e&&_e.getModel("textStyle");return trim$1([$.fontStyle||et&&et.getShallow("fontStyle")||"",$.fontWeight||et&&et.getShallow("fontWeight")||"",($.fontSize||et&&et.getShallow("fontSize")||12)+"px",$.fontFamily||et&&et.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation($,_e,et,tt){if(!!$){var nt=labelInner($);nt.prevValue=nt.value,nt.value=et;var at=_e.normal;nt.valueAnimation=at.get("valueAnimation"),nt.valueAnimation&&(nt.precision=at.get("precision"),nt.defaultInterpolatedText=tt,nt.statesModels=_e)}}function animateLabelValue($,_e,et,tt,nt){var at=labelInner($);if(!at.valueAnimation||at.prevValue===at.value)return;var ot=at.defaultInterpolatedText,it=retrieve2(at.interpolatedValue,at.prevValue),st=at.value;function ut(ft){var dt=interpolateRawValues(et,at.precision,it,st,ft);at.interpolatedValue=ft===1?null:dt;var vt=getLabelText({labelDataIndex:_e,labelFetcher:nt,defaultText:ot?ot(dt):dt+""},at.statesModels,dt);setLabelText($,vt)}$.percent=0,(at.prevValue==null?initProps:updateProps$1)($,{percent:1},tt,_e,null,ut)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function $(){}return $.prototype.getTextColor=function(_e){var et=this.ecModel;return this.getShallow("color")||(!_e&&et?et.get(PATH_COLOR):null)},$.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},$.prototype.getTextRect=function(_e){for(var et={text:_e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},tt=0;tt<textStyleParams.length;tt++)et[textStyleParams[tt]]=this.getShallow(textStyleParams[tt]);return tmpText.useStyle(et),tmpText.update(),tmpText.getBoundingRect()},$}(),TextStyleMixin$1=TextStyleMixin,LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function $(){}return $.prototype.getLineStyle=function(_e){return getLineStyle(this,_e)},$}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function $(){}return $.prototype.getItemStyle=function(_e,et){return getItemStyle(this,_e,et)},$}(),Model=function(){function $(_e,et,tt){this.parentModel=et,this.ecModel=tt,this.option=_e}return $.prototype.init=function(_e,et,tt){},$.prototype.mergeOption=function(_e,et){merge(this.option,_e,!0)},$.prototype.get=function(_e,et){return _e==null?this.option:this._doGet(this.parsePath(_e),!et&&this.parentModel)},$.prototype.getShallow=function(_e,et){var tt=this.option,nt=tt==null?tt:tt[_e];if(nt==null&&!et){var at=this.parentModel;at&&(nt=at.getShallow(_e))}return nt},$.prototype.getModel=function(_e,et){var tt=_e!=null,nt=tt?this.parsePath(_e):null,at=tt?this._doGet(nt):this.option;return et=et||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(nt)),new $(at,et,this.ecModel)},$.prototype.isEmpty=function(){return this.option==null},$.prototype.restoreData=function(){},$.prototype.clone=function(){var _e=this.constructor;return new _e(clone$4(this.option))},$.prototype.parsePath=function(_e){return typeof _e=="string"?_e.split("."):_e},$.prototype.resolveParentPath=function(_e){return _e},$.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},$.prototype._doGet=function(_e,et){var tt=this.option;if(!_e)return tt;for(var nt=0;nt<_e.length&&!(!!_e[nt]&&(tt=tt&&typeof tt=="object"?tt[_e[nt]]:null,tt==null));nt++);return tt==null&&et&&(tt=et._doGet(this.resolveParentPath(_e),et.parentModel)),tt},$}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);var Model$1=Model,base=Math.round(Math.random()*10);function getUID($){return[$||"",base++].join("_")}function enableSubTypeDefaulter($){var _e={};$.registerSubTypeDefaulter=function(et,tt){var nt=parseClassType(et);_e[nt.main]=tt},$.determineSubType=function(et,tt){var nt=tt.type;if(!nt){var at=parseClassType(et).main;$.hasSubTypes(et)&&_e[at]&&(nt=_e[at](tt))}return nt}}function enableTopologicalTravel($,_e){$.topologicalTravel=function(at,ot,it,st){if(!at.length)return;var ut=et(ot),ft=ut.graph,dt=ut.noEntryList,vt={};for(each$f(at,function(Et){vt[Et]=!0});dt.length;){var gt=dt.pop(),yt=ft[gt],xt=!!vt[gt];xt&&(it.call(st,gt,yt.originalDeps.slice()),delete vt[gt]),each$f(yt.successor,xt?wt:Ct)}each$f(vt,function(){var Et="";throw new Error(Et)});function Ct(Et){ft[Et].entryCount--,ft[Et].entryCount===0&&dt.push(Et)}function wt(Et){vt[Et]=!0,Ct(Et)}};function et(at){var ot={},it=[];return each$f(at,function(st){var ut=tt(ot,st),ft=ut.originalDeps=_e(st),dt=nt(ft,at);ut.entryCount=dt.length,ut.entryCount===0&&it.push(st),each$f(dt,function(vt){indexOf(ut.predecessor,vt)<0&&ut.predecessor.push(vt);var gt=tt(ot,vt);indexOf(gt.successor,vt)<0&&gt.successor.push(st)})}),{graph:ot,noEntryList:it}}function tt(at,ot){return at[ot]||(at[ot]={predecessor:[],successor:[]}),at[ot]}function nt(at,ot){var it=[];return each$f(at,function(st){indexOf(ot,st)>=0&&it.push(st)}),it}}function inheritDefaultOption($,_e){return merge(merge({},$,!0),_e,!0)}var langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var $=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return $.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale($,_e){$=$.toUpperCase(),localeModels[$]=new Model$1(_e),localeStorage[$]=_e}function createLocaleObject($){if(isString($)){var _e=localeStorage[$.toUpperCase()]||{};return $===LOCALE_ZH||$===LOCALE_EN?clone$4(_e):merge(clone$4(_e),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4($),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel($){return localeModels[$]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad($,_e){return $+="","0000".substr(0,_e-$.length)+$}function getPrimaryTimeUnit($){switch($){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return $}}function isPrimaryTimeUnit($){return $===getPrimaryTimeUnit($)}function getDefaultFormatPrecisionOfInterval($){switch($){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format($,_e,et,tt){var nt=parseDate($),at=nt[fullYearGetterName(et)](),ot=nt[monthGetterName(et)]()+1,it=Math.floor((ot-1)/3)+1,st=nt[dateGetterName(et)](),ut=nt["get"+(et?"UTC":"")+"Day"](),ft=nt[hoursGetterName(et)](),dt=(ft-1)%12+1,vt=nt[minutesGetterName(et)](),gt=nt[secondsGetterName(et)](),yt=nt[millisecondsGetterName(et)](),xt=tt instanceof Model$1?tt:getLocaleModel(tt||SYSTEM_LANG)||getDefaultLocaleModel(),Ct=xt.getModel("time"),wt=Ct.get("month"),Et=Ct.get("monthAbbr"),$t=Ct.get("dayOfWeek"),It=Ct.get("dayOfWeekAbbr");return(_e||"").replace(/{yyyy}/g,at+"").replace(/{yy}/g,at%100+"").replace(/{Q}/g,it+"").replace(/{MMMM}/g,wt[ot-1]).replace(/{MMM}/g,Et[ot-1]).replace(/{MM}/g,pad(ot,2)).replace(/{M}/g,ot+"").replace(/{dd}/g,pad(st,2)).replace(/{d}/g,st+"").replace(/{eeee}/g,$t[ut]).replace(/{ee}/g,It[ut]).replace(/{e}/g,ut+"").replace(/{HH}/g,pad(ft,2)).replace(/{H}/g,ft+"").replace(/{hh}/g,pad(dt+"",2)).replace(/{h}/g,dt+"").replace(/{mm}/g,pad(vt,2)).replace(/{m}/g,vt+"").replace(/{ss}/g,pad(gt,2)).replace(/{s}/g,gt+"").replace(/{SSS}/g,pad(yt,3)).replace(/{S}/g,yt+"")}function leveledFormat($,_e,et,tt,nt){var at=null;if(isString(et))at=et;else if(isFunction(et))at=et($.value,_e,{level:$.level});else{var ot=extend({},defaultLeveledFormatter);if($.level>0)for(var it=0;it<primaryTimeUnits.length;++it)ot[primaryTimeUnits[it]]="{primary|"+ot[primaryTimeUnits[it]]+"}";var st=et?et.inherit===!1?et:defaults(et,ot):ot,ut=getUnitFromValue($.value,nt);if(st[ut])at=st[ut];else if(st.inherit){for(var ft=timeUnits.indexOf(ut),it=ft-1;it>=0;--it)if(st[ut]){at=st[ut];break}at=at||ot.none}if(isArray$1(at)){var dt=$.level==null?0:$.level>=0?$.level:at.length+$.level;dt=Math.min(dt,at.length-1),at=at[dt]}}return format(new Date($.value),at,nt,tt)}function getUnitFromValue($,_e){var et=parseDate($),tt=et[monthGetterName(_e)]()+1,nt=et[dateGetterName(_e)](),at=et[hoursGetterName(_e)](),ot=et[minutesGetterName(_e)](),it=et[secondsGetterName(_e)](),st=et[millisecondsGetterName(_e)](),ut=st===0,ft=ut&&it===0,dt=ft&&ot===0,vt=dt&&at===0,gt=vt&&nt===1,yt=gt&&tt===1;return yt?"year":gt?"month":vt?"day":dt?"hour":ft?"minute":ut?"second":"millisecond"}function getUnitValue($,_e,et){var tt=isNumber($)?parseDate($):$;switch(_e=_e||getUnitFromValue($,et),_e){case"year":return tt[fullYearGetterName(et)]();case"half-year":return tt[monthGetterName(et)]()>=6?1:0;case"quarter":return Math.floor((tt[monthGetterName(et)]()+1)/4);case"month":return tt[monthGetterName(et)]();case"day":return tt[dateGetterName(et)]();case"half-day":return tt[hoursGetterName(et)]()/24;case"hour":return tt[hoursGetterName(et)]();case"minute":return tt[minutesGetterName(et)]();case"second":return tt[secondsGetterName(et)]();case"millisecond":return tt[millisecondsGetterName(et)]()}}function fullYearGetterName($){return $?"getUTCFullYear":"getFullYear"}function monthGetterName($){return $?"getUTCMonth":"getMonth"}function dateGetterName($){return $?"getUTCDate":"getDate"}function hoursGetterName($){return $?"getUTCHours":"getHours"}function minutesGetterName($){return $?"getUTCMinutes":"getMinutes"}function secondsGetterName($){return $?"getUTCSeconds":"getSeconds"}function millisecondsGetterName($){return $?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName($){return $?"setUTCFullYear":"setFullYear"}function monthSetterName($){return $?"setUTCMonth":"setMonth"}function dateSetterName($){return $?"setUTCDate":"setDate"}function hoursSetterName($){return $?"setUTCHours":"setHours"}function minutesSetterName($){return $?"setUTCMinutes":"setMinutes"}function secondsSetterName($){return $?"setUTCSeconds":"setSeconds"}function millisecondsSetterName($){return $?"setUTCMilliseconds":"setMilliseconds"}function addCommas($){if(!isNumeric($))return isString($)?$:"-";var _e=($+"").split(".");return _e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(_e.length>1?"."+_e[1]:"")}function toCamelCase($,_e){return $=($||"").toLowerCase().replace(/-(.)/g,function(et,tt){return tt.toUpperCase()}),_e&&$&&($=$.charAt(0).toUpperCase()+$.slice(1)),$}var normalizeCssArray=normalizeCssArray$1,replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML($){return $==null?"":($+"").replace(replaceReg,function(_e,et){return replaceMap[et]})}function makeValueReadable($,_e,et){var tt="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function nt(ft){return ft&&trim$1(ft)?ft:"-"}function at(ft){return!!(ft!=null&&!isNaN(ft)&&isFinite(ft))}var ot=_e==="time",it=$ instanceof Date;if(ot||it){var st=ot?parseDate($):$;if(isNaN(+st)){if(it)return"-"}else return format(st,tt,et)}if(_e==="ordinal")return isStringSafe($)?nt($):isNumber($)&&at($)?$+"":"-";var ut=numericToNumber($);return at(ut)?addCommas(ut):isStringSafe($)?nt($):typeof $=="boolean"?$+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function($,_e){return"{"+$+(_e==null?"":_e)+"}"};function formatTpl($,_e,et){isArray$1(_e)||(_e=[_e]);var tt=_e.length;if(!tt)return"";for(var nt=_e[0].$vars||[],at=0;at<nt.length;at++){var ot=TPL_VAR_ALIAS[at];$=$.replace(wrapVar(ot),wrapVar(ot,0))}for(var it=0;it<tt;it++)for(var st=0;st<nt.length;st++){var ut=_e[it][nt[st]];$=$.replace(wrapVar(TPL_VAR_ALIAS[st],it),et?encodeHTML(ut):ut)}return $}function formatTplSimple($,_e,et){return each$f(_e,function(tt,nt){$=$.replace("{"+nt+"}",et?encodeHTML(tt):tt)}),$}function getTooltipMarker($,_e){var et=isString($)?{color:$,extraCssText:_e}:$||{},tt=et.color,nt=et.type;_e=et.extraCssText;var at=et.renderMode||"html";if(!tt)return"";if(at==="html")return nt==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(tt)+";"+(_e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(tt)+";"+(_e||"")+'"></span>';var ot=et.markerId||"markerX";return{renderMode:at,content:"{"+ot+"|}  ",style:nt==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:tt}:{width:10,height:10,borderRadius:5,backgroundColor:tt}}}function convertToColorString($,_e){return _e=_e||"transparent",isString($)?$:isObject$3($)&&$.colorStops&&($.colorStops[0]||{}).color||_e}function windowOpen($,_e){if(_e==="_blank"||_e==="blank"){var et=window.open();et.opener=null,et.location.href=$}else window.open($,_e)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout($,_e,et,tt,nt){var at=0,ot=0;tt==null&&(tt=1/0),nt==null&&(nt=1/0);var it=0;_e.eachChild(function(st,ut){var ft=st.getBoundingRect(),dt=_e.childAt(ut+1),vt=dt&&dt.getBoundingRect(),gt,yt;if($==="horizontal"){var xt=ft.width+(vt?-vt.x+ft.x:0);gt=at+xt,gt>tt||st.newline?(at=0,gt=xt,ot+=it+et,it=ft.height):it=Math.max(it,ft.height)}else{var Ct=ft.height+(vt?-vt.y+ft.y:0);yt=ot+Ct,yt>nt||st.newline?(at+=it+et,ot=0,yt=Ct,it=ft.width):it=Math.max(it,ft.width)}st.newline||(st.x=at,st.y=ot,st.markRedraw(),$==="horizontal"?at=gt+et:ot=yt+et)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize($,_e,et){var tt=_e.width,nt=_e.height,at=parsePercent($.left,tt),ot=parsePercent($.top,nt),it=parsePercent($.right,tt),st=parsePercent($.bottom,nt);return(isNaN(at)||isNaN(parseFloat($.left)))&&(at=0),(isNaN(it)||isNaN(parseFloat($.right)))&&(it=tt),(isNaN(ot)||isNaN(parseFloat($.top)))&&(ot=0),(isNaN(st)||isNaN(parseFloat($.bottom)))&&(st=nt),et=normalizeCssArray(et||0),{width:Math.max(it-at-et[1]-et[3],0),height:Math.max(st-ot-et[0]-et[2],0)}}function getLayoutRect($,_e,et){et=normalizeCssArray(et||0);var tt=_e.width,nt=_e.height,at=parsePercent($.left,tt),ot=parsePercent($.top,nt),it=parsePercent($.right,tt),st=parsePercent($.bottom,nt),ut=parsePercent($.width,tt),ft=parsePercent($.height,nt),dt=et[2]+et[0],vt=et[1]+et[3],gt=$.aspect;switch(isNaN(ut)&&(ut=tt-it-vt-at),isNaN(ft)&&(ft=nt-st-dt-ot),gt!=null&&(isNaN(ut)&&isNaN(ft)&&(gt>tt/nt?ut=tt*.8:ft=nt*.8),isNaN(ut)&&(ut=gt*ft),isNaN(ft)&&(ft=ut/gt)),isNaN(at)&&(at=tt-it-ut-vt),isNaN(ot)&&(ot=nt-st-ft-dt),$.left||$.right){case"center":at=tt/2-ut/2-et[3];break;case"right":at=tt-ut-vt;break}switch($.top||$.bottom){case"middle":case"center":ot=nt/2-ft/2-et[0];break;case"bottom":ot=nt-ft-dt;break}at=at||0,ot=ot||0,isNaN(ut)&&(ut=tt-vt-at-(it||0)),isNaN(ft)&&(ft=nt-dt-ot-(st||0));var yt=new BoundingRect$1(at+et[3],ot+et[0],ut,ft);return yt.margin=et,yt}function positionElement($,_e,et,tt,nt,at){var ot=!nt||!nt.hv||nt.hv[0],it=!nt||!nt.hv||nt.hv[1],st=nt&&nt.boundingMode||"all";if(at=at||$,at.x=$.x,at.y=$.y,!ot&&!it)return!1;var ut;if(st==="raw")ut=$.type==="group"?new BoundingRect$1(0,0,+_e.width||0,+_e.height||0):$.getBoundingRect();else if(ut=$.getBoundingRect(),$.needLocalTransform()){var ft=$.getLocalTransform();ut=ut.clone(),ut.applyTransform(ft)}var dt=getLayoutRect(defaults({width:ut.width,height:ut.height},_e),et,tt),vt=ot?dt.x-ut.x:0,gt=it?dt.y-ut.y:0;return st==="raw"?(at.x=vt,at.y=gt):(at.x+=vt,at.y+=gt),at===$&&$.markRedraw(),!0}function sizeCalculable($,_e){return $[HV_NAMES[_e][0]]!=null||$[HV_NAMES[_e][1]]!=null&&$[HV_NAMES[_e][2]]!=null}function fetchLayoutMode($){var _e=$.layoutMode||$.constructor.layoutMode;return isObject$3(_e)?_e:_e?{type:_e}:null}function mergeLayoutParam($,_e,et){var tt=et&&et.ignoreSize;!isArray$1(tt)&&(tt=[tt,tt]);var nt=ot(HV_NAMES[0],0),at=ot(HV_NAMES[1],1);ut(HV_NAMES[0],$,nt),ut(HV_NAMES[1],$,at);function ot(ft,dt){var vt={},gt=0,yt={},xt=0,Ct=2;if(each$e(ft,function($t){yt[$t]=$[$t]}),each$e(ft,function($t){it(_e,$t)&&(vt[$t]=yt[$t]=_e[$t]),st(vt,$t)&&gt++,st(yt,$t)&&xt++}),tt[dt])return st(_e,ft[1])?yt[ft[2]]=null:st(_e,ft[2])&&(yt[ft[1]]=null),yt;if(xt===Ct||!gt)return yt;if(gt>=Ct)return vt;for(var wt=0;wt<ft.length;wt++){var Et=ft[wt];if(!it(vt,Et)&&it($,Et)){vt[Et]=$[Et];break}}return vt}function it(ft,dt){return ft.hasOwnProperty(dt)}function st(ft,dt){return ft[dt]!=null&&ft[dt]!=="auto"}function ut(ft,dt,vt){each$e(ft,function(gt){dt[gt]=vt[gt]})}}function getLayoutParams($){return copyLayoutParams({},$)}function copyLayoutParams($,_e){return _e&&$&&each$e(LOCATION_PARAMS,function(et){_e.hasOwnProperty(et)&&($[et]=_e[et])}),$}var inner$l=makeInner(),ComponentModel=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this,et,tt,nt)||this;return at.uid=getUID("ec_cpt_model"),at}return _e.prototype.init=function(et,tt,nt){this.mergeDefaultAndTheme(et,nt)},_e.prototype.mergeDefaultAndTheme=function(et,tt){var nt=fetchLayoutMode(this),at=nt?getLayoutParams(et):{},ot=tt.getTheme();merge(et,ot.get(this.mainType)),merge(et,this.getDefaultOption()),nt&&mergeLayoutParam(et,at,nt)},_e.prototype.mergeOption=function(et,tt){merge(this.option,et,!0);var nt=fetchLayoutMode(this);nt&&mergeLayoutParam(this.option,et,nt)},_e.prototype.optionUpdated=function(et,tt){},_e.prototype.getDefaultOption=function(){var et=this.constructor;if(!isExtendedClass(et))return et.defaultOption;var tt=inner$l(this);if(!tt.defaultOption){for(var nt=[],at=et;at;){var ot=at.prototype.defaultOption;ot&&nt.push(ot),at=at.superClass}for(var it={},st=nt.length-1;st>=0;st--)it=merge(it,nt[st],!0);tt.defaultOption=it}return tt.defaultOption},_e.prototype.getReferringComponents=function(et,tt){var nt=et+"Index",at=et+"Id";return queryReferringComponents(this.ecModel,et,{index:this.get(nt,!0),id:this.get(at,!0)},tt)},_e.prototype.getBoxLayoutParams=function(){var et=this;return{left:et.get("left"),top:et.get("top"),right:et.get("right"),bottom:et.get("bottom"),width:et.get("width"),height:et.get("height")}},_e.prototype.getZLevelKey=function(){return""},_e.prototype.setZLevel=function(et){this.option.zlevel=et},_e.protoInitialize=function(){var et=_e.prototype;et.type="component",et.id="",et.name="",et.mainType="",et.subType="",et.componentIndex=0}(),_e}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies($){var _e=[];return each$f(ComponentModel.getClassesByMainType($),function(et){_e=_e.concat(et.dependencies||et.prototype.dependencies||[])}),_e=map$1(_e,function(et){return parseClassType(et).main}),$!=="dataset"&&indexOf(_e,"dataset")<=0&&_e.unshift("dataset"),_e}var ComponentModel$1=ComponentModel,platform="";typeof navigator!="undefined"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)",globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter($){innerGlobalModel($).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys($,_e,et){var tt={},nt=querySeriesUpstreamDatasetModel(_e);if(!nt||!$)return tt;var at=[],ot=[],it=_e.ecModel,st=innerGlobalModel(it).datasetMap,ut=nt.uid+"_"+et.seriesLayoutBy,ft,dt;$=$.slice(),each$f($,function(xt,Ct){var wt=isObject$3(xt)?xt:$[Ct]={name:xt};wt.type==="ordinal"&&ft==null&&(ft=Ct,dt=yt(wt)),tt[wt.name]=[]});var vt=st.get(ut)||st.set(ut,{categoryWayDim:dt,valueWayDim:0});each$f($,function(xt,Ct){var wt=xt.name,Et=yt(xt);if(ft==null){var $t=vt.valueWayDim;gt(tt[wt],$t,Et),gt(ot,$t,Et),vt.valueWayDim+=Et}else if(ft===Ct)gt(tt[wt],0,Et),gt(at,0,Et);else{var $t=vt.categoryWayDim;gt(tt[wt],$t,Et),gt(ot,$t,Et),vt.categoryWayDim+=Et}});function gt(xt,Ct,wt){for(var Et=0;Et<wt;Et++)xt.push(Ct+Et)}function yt(xt){var Ct=xt.dimsDef;return Ct?Ct.length:1}return at.length&&(tt.itemName=at),ot.length&&(tt.seriesName=ot),tt}function makeSeriesEncodeForNameBased($,_e,et){var tt={},nt=querySeriesUpstreamDatasetModel($);if(!nt)return tt;var at=_e.sourceFormat,ot=_e.dimensionsDefine,it;(at===SOURCE_FORMAT_OBJECT_ROWS||at===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(ot,function(ft,dt){(isObject$3(ft)?ft.name:ft)==="name"&&(it=dt)});var st=function(){for(var ft={},dt={},vt=[],gt=0,yt=Math.min(5,et);gt<yt;gt++){var xt=doGuessOrdinal(_e.data,at,_e.seriesLayoutBy,ot,_e.startIndex,gt);vt.push(xt);var Ct=xt===BE_ORDINAL.Not;if(Ct&&ft.v==null&&gt!==it&&(ft.v=gt),(ft.n==null||ft.n===ft.v||!Ct&&vt[ft.n]===BE_ORDINAL.Not)&&(ft.n=gt),wt(ft)&&vt[ft.n]!==BE_ORDINAL.Not)return ft;Ct||(xt===BE_ORDINAL.Might&&dt.v==null&&gt!==it&&(dt.v=gt),(dt.n==null||dt.n===dt.v)&&(dt.n=gt))}function wt(Et){return Et.v!=null&&Et.n!=null}return wt(ft)?ft:wt(dt)?dt:null}();if(st){tt.value=[st.v];var ut=it!=null?it:st.n;tt.itemName=[ut],tt.seriesName=[ut]}return tt}function querySeriesUpstreamDatasetModel($){var _e=$.get("data",!0);if(!_e)return queryReferringComponents($.ecModel,"dataset",{index:$.get("datasetIndex",!0),id:$.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels($){return!$.get("transform",!0)&&!$.get("fromTransformResult",!0)?[]:queryReferringComponents($.ecModel,"dataset",{index:$.get("fromDatasetIndex",!0),id:$.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal($,_e){return doGuessOrdinal($.data,$.sourceFormat,$.seriesLayoutBy,$.dimensionsDefine,$.startIndex,_e)}function doGuessOrdinal($,_e,et,tt,nt,at){var ot,it=5;if(isTypedArray($))return BE_ORDINAL.Not;var st,ut;if(tt){var ft=tt[at];isObject$3(ft)?(st=ft.name,ut=ft.type):isString(ft)&&(st=ft)}if(ut!=null)return ut==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(_e===SOURCE_FORMAT_ARRAY_ROWS){var dt=$;if(et===SERIES_LAYOUT_BY_ROW){for(var vt=dt[at],gt=0;gt<(vt||[]).length&&gt<it;gt++)if((ot=It(vt[nt+gt]))!=null)return ot}else for(var gt=0;gt<dt.length&&gt<it;gt++){var yt=dt[nt+gt];if(yt&&(ot=It(yt[at]))!=null)return ot}}else if(_e===SOURCE_FORMAT_OBJECT_ROWS){var xt=$;if(!st)return BE_ORDINAL.Not;for(var gt=0;gt<xt.length&&gt<it;gt++){var Ct=xt[gt];if(Ct&&(ot=It(Ct[st]))!=null)return ot}}else if(_e===SOURCE_FORMAT_KEYED_COLUMNS){var wt=$;if(!st)return BE_ORDINAL.Not;var vt=wt[st];if(!vt||isTypedArray(vt))return BE_ORDINAL.Not;for(var gt=0;gt<vt.length&&gt<it;gt++)if((ot=It(vt[gt]))!=null)return ot}else if(_e===SOURCE_FORMAT_ORIGINAL)for(var Et=$,gt=0;gt<Et.length&&gt<it;gt++){var Ct=Et[gt],$t=getDataItemValue(Ct);if(!isArray$1($t))return BE_ORDINAL.Not;if((ot=It($t[at]))!=null)return ot}function It(Ot){var Lt=isString(Ot);if(Ot!=null&&isFinite(Ot)&&Ot!=="")return Lt?BE_ORDINAL.Might:BE_ORDINAL.Not;if(Lt&&Ot!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator($,_e){assert(internalOptionCreatorMap.get($)==null&&_e),internalOptionCreatorMap.set($,_e)}function concatInternalOptions($,_e,et){var tt=internalOptionCreatorMap.get(_e);if(!tt)return et;var nt=tt($);return nt?et.concat(nt):et}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function $(){}return $.prototype.getColorFromPalette=function(_e,et,tt){var nt=normalizeToArray(this.get("color",!0)),at=this.get("colorLayer",!0);return getFromPalette(this,innerColor,nt,at,_e,et,tt)},$.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},$}();function getDecalFromPalette($,_e,et,tt){var nt=normalizeToArray($.get(["aria","decal","decals"]));return getFromPalette($,innerDecal,nt,null,_e,et,tt)}function getNearestPalette($,_e){for(var et=$.length,tt=0;tt<et;tt++)if($[tt].length>_e)return $[tt];return $[et-1]}function getFromPalette($,_e,et,tt,nt,at,ot){at=at||$;var it=_e(at),st=it.paletteIdx||0,ut=it.paletteNameMap=it.paletteNameMap||{};if(ut.hasOwnProperty(nt))return ut[nt];var ft=ot==null||!tt?et:getNearestPalette(tt,ot);if(ft=ft||et,!(!ft||!ft.length)){var dt=ft[st];return nt&&(ut[nt]=dt),it.paletteIdx=(st+1)%ft.length,dt}}function clearPalette($,_e){_e($).paletteIdx=0,_e($).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.init=function(et,tt,nt,at,ot,it){at=at||{},this.option=null,this._theme=new Model$1(at),this._locale=new Model$1(ot),this._optionManager=it},_e.prototype.setOption=function(et,tt,nt){var at=normalizeSetOptionInput(tt);this._optionManager.setOption(et,nt,at),this._resetOption(null,at)},_e.prototype.resetOption=function(et,tt){return this._resetOption(et,normalizeSetOptionInput(tt))},_e.prototype._resetOption=function(et,tt){var nt=!1,at=this._optionManager;if(!et||et==="recreate"){var ot=at.mountOption(et==="recreate");!this.option||et==="recreate"?initBase(this,ot):(this.restoreData(),this._mergeOption(ot,tt)),nt=!0}if((et==="timeline"||et==="media")&&this.restoreData(),!et||et==="recreate"||et==="timeline"){var it=at.getTimelineOption(this);it&&(nt=!0,this._mergeOption(it,tt))}if(!et||et==="recreate"||et==="media"){var st=at.getMediaOption(this);st.length&&each$f(st,function(ut){nt=!0,this._mergeOption(ut,tt)},this)}return nt},_e.prototype.mergeOption=function(et){this._mergeOption(et,null)},_e.prototype._mergeOption=function(et,tt){var nt=this.option,at=this._componentsMap,ot=this._componentsCount,it=[],st=createHashMap(),ut=tt&&tt.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(et,function(dt,vt){dt!=null&&(ComponentModel$1.hasClass(vt)?vt&&(it.push(vt),st.set(vt,!0)):nt[vt]=nt[vt]==null?clone$4(dt):merge(nt[vt],dt,!0))}),ut&&ut.each(function(dt,vt){ComponentModel$1.hasClass(vt)&&!st.get(vt)&&(it.push(vt),st.set(vt,!0))}),ComponentModel$1.topologicalTravel(it,ComponentModel$1.getAllClassMainTypes(),ft,this);function ft(dt){var vt=concatInternalOptions(this,dt,normalizeToArray(et[dt])),gt=at.get(dt),yt=gt?ut&&ut.get(dt)?"replaceMerge":"normalMerge":"replaceAll",xt=mappingToExists(gt,vt,yt);setComponentTypeToKeyInfo(xt,dt,ComponentModel$1),nt[dt]=null,at.set(dt,null),ot.set(dt,0);var Ct=[],wt=[],Et=0,$t;each$f(xt,function(It,Ot){var Lt=It.existing,Ft=It.newOption;if(!Ft)Lt&&(Lt.mergeOption({},this),Lt.optionUpdated({},!1));else{var zt=dt==="series",Gt=ComponentModel$1.getClass(dt,It.keyInfo.subType,!zt);if(!Gt)return;if(dt==="tooltip"){if($t)return;$t=!0}if(Lt&&Lt.constructor===Gt)Lt.name=It.keyInfo.name,Lt.mergeOption(Ft,this),Lt.optionUpdated(Ft,!1);else{var jt=extend({componentIndex:Ot},It.keyInfo);Lt=new Gt(Ft,this,this,jt),extend(Lt,jt),It.brandNew&&(Lt.__requireNewView=!0),Lt.init(Ft,this,this),Lt.optionUpdated(null,!0)}}Lt?(Ct.push(Lt.option),wt.push(Lt),Et++):(Ct.push(void 0),wt.push(void 0))},this),nt[dt]=Ct,at.set(dt,wt),ot.set(dt,Et),dt==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},_e.prototype.getOption=function(){var et=clone$4(this.option);return each$f(et,function(tt,nt){if(ComponentModel$1.hasClass(nt)){for(var at=normalizeToArray(tt),ot=at.length,it=!1,st=ot-1;st>=0;st--)at[st]&&!isComponentIdInternal(at[st])?it=!0:(at[st]=null,!it&&ot--);at.length=ot,et[nt]=at}}),delete et[OPTION_INNER_KEY],et},_e.prototype.getTheme=function(){return this._theme},_e.prototype.getLocaleModel=function(){return this._locale},_e.prototype.setUpdatePayload=function(et){this._payload=et},_e.prototype.getUpdatePayload=function(){return this._payload},_e.prototype.getComponent=function(et,tt){var nt=this._componentsMap.get(et);if(nt){var at=nt[tt||0];if(at)return at;if(tt==null){for(var ot=0;ot<nt.length;ot++)if(nt[ot])return nt[ot]}}},_e.prototype.queryComponents=function(et){var tt=et.mainType;if(!tt)return[];var nt=et.index,at=et.id,ot=et.name,it=this._componentsMap.get(tt);if(!it||!it.length)return[];var st;return nt!=null?(st=[],each$f(normalizeToArray(nt),function(ut){it[ut]&&st.push(it[ut])})):at!=null?st=queryByIdOrName("id",at,it):ot!=null?st=queryByIdOrName("name",ot,it):st=filter(it,function(ut){return!!ut}),filterBySubType(st,et)},_e.prototype.findComponents=function(et){var tt=et.query,nt=et.mainType,at=it(tt),ot=at?this.queryComponents(at):filter(this._componentsMap.get(nt),function(ut){return!!ut});return st(filterBySubType(ot,et));function it(ut){var ft=nt+"Index",dt=nt+"Id",vt=nt+"Name";return ut&&(ut[ft]!=null||ut[dt]!=null||ut[vt]!=null)?{mainType:nt,index:ut[ft],id:ut[dt],name:ut[vt]}:null}function st(ut){return et.filter?filter(ut,et.filter):ut}},_e.prototype.eachComponent=function(et,tt,nt){var at=this._componentsMap;if(isFunction(et)){var ot=tt,it=et;at.each(function(dt,vt){for(var gt=0;dt&&gt<dt.length;gt++){var yt=dt[gt];yt&&it.call(ot,vt,yt,yt.componentIndex)}})}else for(var st=isString(et)?at.get(et):isObject$3(et)?this.findComponents(et):null,ut=0;st&&ut<st.length;ut++){var ft=st[ut];ft&&tt.call(nt,ft,ft.componentIndex)}},_e.prototype.getSeriesByName=function(et){var tt=convertOptionIdName(et,null);return filter(this._componentsMap.get("series"),function(nt){return!!nt&&tt!=null&&nt.name===tt})},_e.prototype.getSeriesByIndex=function(et){return this._componentsMap.get("series")[et]},_e.prototype.getSeriesByType=function(et){return filter(this._componentsMap.get("series"),function(tt){return!!tt&&tt.subType===et})},_e.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(et){return!!et})},_e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},_e.prototype.eachSeries=function(et,tt){assertSeriesInitialized(this),each$f(this._seriesIndices,function(nt){var at=this._componentsMap.get("series")[nt];et.call(tt,at,nt)},this)},_e.prototype.eachRawSeries=function(et,tt){each$f(this._componentsMap.get("series"),function(nt){nt&&et.call(tt,nt,nt.componentIndex)})},_e.prototype.eachSeriesByType=function(et,tt,nt){assertSeriesInitialized(this),each$f(this._seriesIndices,function(at){var ot=this._componentsMap.get("series")[at];ot.subType===et&&tt.call(nt,ot,at)},this)},_e.prototype.eachRawSeriesByType=function(et,tt,nt){return each$f(this.getSeriesByType(et),tt,nt)},_e.prototype.isSeriesFiltered=function(et){return assertSeriesInitialized(this),this._seriesIndicesMap.get(et.componentIndex)==null},_e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},_e.prototype.filterSeries=function(et,tt){assertSeriesInitialized(this);var nt=[];each$f(this._seriesIndices,function(at){var ot=this._componentsMap.get("series")[at];et.call(tt,ot,at)&&nt.push(at)},this),this._seriesIndices=nt,this._seriesIndicesMap=createHashMap(nt)},_e.prototype.restoreData=function(et){reCreateSeriesIndices(this);var tt=this._componentsMap,nt=[];tt.each(function(at,ot){ComponentModel$1.hasClass(ot)&&nt.push(ot)}),ComponentModel$1.topologicalTravel(nt,ComponentModel$1.getAllClassMainTypes(),function(at){each$f(tt.get(at),function(ot){ot&&(at!=="series"||!isNotTargetSeries(ot,et))&&ot.restoreData()})})},_e.internalField=function(){reCreateSeriesIndices=function(et){var tt=et._seriesIndices=[];each$f(et._componentsMap.get("series"),function(nt){nt&&tt.push(nt.componentIndex)}),et._seriesIndicesMap=createHashMap(tt)},assertSeriesInitialized=function(et){},initBase=function(et,tt){et.option={},et.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,et._componentsMap=createHashMap({series:[]}),et._componentsCount=createHashMap();var nt=tt.aria;isObject$3(nt)&&nt.enabled==null&&(nt.enabled=!0),mergeTheme(tt,et._theme.option),merge(tt,globalDefault,!1),et._mergeOption(tt,null)}}(),_e}(Model$1);function isNotTargetSeries($,_e){if(_e){var et=_e.seriesIndex,tt=_e.seriesId,nt=_e.seriesName;return et!=null&&$.componentIndex!==et||tt!=null&&$.id!==tt||nt!=null&&$.name!==nt}}function mergeTheme($,_e){var et=$.color&&!$.colorLayer;each$f(_e,function(tt,nt){nt==="colorLayer"&&et||ComponentModel$1.hasClass(nt)||(typeof tt=="object"?$[nt]=$[nt]?merge($[nt],tt,!1):clone$4(tt):$[nt]==null&&($[nt]=tt))})}function queryByIdOrName($,_e,et){if(isArray$1(_e)){var tt=createHashMap();return each$f(_e,function(at){if(at!=null){var ot=convertOptionIdName(at,null);ot!=null&&tt.set(at,!0)}}),filter(et,function(at){return at&&tt.get(at[$])})}else{var nt=convertOptionIdName(_e,null);return filter(et,function(at){return at&&nt!=null&&at[$]===nt})}}function filterBySubType($,_e){return _e.hasOwnProperty("subType")?filter($,function(et){return et&&et.subType===_e.subType}):$}function normalizeSetOptionInput($){var _e=createHashMap();return $&&each$f(normalizeToArray($.replaceMerge),function(et){_e.set(et,!0)}),{replaceMergeMainTypeMap:_e}}mixin(GlobalModel,PaletteMixin);var GlobalModel$1=GlobalModel,availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function $(_e){each$f(availableMethods,function(et){this[et]=bind$1(_e[et],_e)},this)}return $}(),ExtensionAPI$1=ExtensionAPI,coordinateSystemCreators={},CoordinateSystemManager=function(){function $(){this._coordinateSystems=[]}return $.prototype.create=function(_e,et){var tt=[];each$f(coordinateSystemCreators,function(nt,at){var ot=nt.create(_e,et);tt=tt.concat(ot||[])}),this._coordinateSystems=tt},$.prototype.update=function(_e,et){each$f(this._coordinateSystems,function(tt){tt.update&&tt.update(_e,et)})},$.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},$.register=function(_e,et){coordinateSystemCreators[_e]=et},$.get=function(_e){return coordinateSystemCreators[_e]},$}(),CoordinateSystem=CoordinateSystemManager,QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function $(_e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=_e}return $.prototype.setOption=function(_e,et,tt){_e&&(each$f(normalizeToArray(_e.series),function(ot){ot&&ot.data&&isTypedArray(ot.data)&&setAsPrimitive(ot.data)}),each$f(normalizeToArray(_e.dataset),function(ot){ot&&ot.source&&isTypedArray(ot.source)&&setAsPrimitive(ot.source)})),_e=clone$4(_e);var nt=this._optionBackup,at=parseRawOption(_e,et,!nt);this._newBaseOption=at.baseOption,nt?(at.timelineOptions.length&&(nt.timelineOptions=at.timelineOptions),at.mediaList.length&&(nt.mediaList=at.mediaList),at.mediaDefault&&(nt.mediaDefault=at.mediaDefault)):this._optionBackup=at},$.prototype.mountOption=function(_e){var et=this._optionBackup;return this._timelineOptions=et.timelineOptions,this._mediaList=et.mediaList,this._mediaDefault=et.mediaDefault,this._currentMediaIndices=[],clone$4(_e?et.baseOption:this._newBaseOption)},$.prototype.getTimelineOption=function(_e){var et,tt=this._timelineOptions;if(tt.length){var nt=_e.getComponent("timeline");nt&&(et=clone$4(tt[nt.getCurrentIndex()]))}return et},$.prototype.getMediaOption=function(_e){var et=this._api.getWidth(),tt=this._api.getHeight(),nt=this._mediaList,at=this._mediaDefault,ot=[],it=[];if(!nt.length&&!at)return it;for(var st=0,ut=nt.length;st<ut;st++)applyMediaQuery(nt[st].query,et,tt)&&ot.push(st);return!ot.length&&at&&(ot=[-1]),ot.length&&!indicesEquals(ot,this._currentMediaIndices)&&(it=map$1(ot,function(ft){return clone$4(ft===-1?at.option:nt[ft].option)})),this._currentMediaIndices=ot,it},$}();function parseRawOption($,_e,et){var tt=[],nt,at,ot=$.baseOption,it=$.timeline,st=$.options,ut=$.media,ft=!!$.media,dt=!!(st||it||ot&&ot.timeline);ot?(at=ot,at.timeline||(at.timeline=it)):((dt||ft)&&($.options=$.media=null),at=$),ft&&isArray$1(ut)&&each$f(ut,function(gt){gt&&gt.option&&(gt.query?tt.push(gt):nt||(nt=gt))}),vt(at),each$f(st,function(gt){return vt(gt)}),each$f(tt,function(gt){return vt(gt.option)});function vt(gt){each$f(_e,function(yt){yt(gt,et)})}return{baseOption:at,timelineOptions:st||[],mediaDefault:nt,mediaList:tt}}function applyMediaQuery($,_e,et){var tt={width:_e,height:et,aspectratio:_e/et},nt=!0;return each$f($,function(at,ot){var it=ot.match(QUERY_REG);if(!(!it||!it[1]||!it[2])){var st=it[1],ut=it[2].toLowerCase();compare(tt[ut],at,st)||(nt=!1)}}),nt}function compare($,_e,et){return et==="min"?$>=_e:et==="max"?$<=_e:$===_e}function indicesEquals($,_e){return $.join(",")===_e.join(",")}var OptionManager$1=OptionManager,each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle($){var _e=$&&$.itemStyle;if(!!_e)for(var et=0,tt=POSSIBLE_STYLES.length;et<tt;et++){var nt=POSSIBLE_STYLES[et],at=_e.normal,ot=_e.emphasis;at&&at[nt]&&($[nt]=$[nt]||{},$[nt].normal?merge($[nt].normal,at[nt]):$[nt].normal=at[nt],at[nt]=null),ot&&ot[nt]&&($[nt]=$[nt]||{},$[nt].emphasis?merge($[nt].emphasis,ot[nt]):$[nt].emphasis=ot[nt],ot[nt]=null)}}function convertNormalEmphasis($,_e,et){if($&&$[_e]&&($[_e].normal||$[_e].emphasis)){var tt=$[_e].normal,nt=$[_e].emphasis;tt&&(et?($[_e].normal=$[_e].emphasis=null,defaults($[_e],tt)):$[_e]=tt),nt&&($.emphasis=$.emphasis||{},$.emphasis[_e]=nt,nt.focus&&($.emphasis.focus=nt.focus),nt.blurScope&&($.emphasis.blurScope=nt.blurScope))}}function removeEC3NormalStatus($){convertNormalEmphasis($,"itemStyle"),convertNormalEmphasis($,"lineStyle"),convertNormalEmphasis($,"areaStyle"),convertNormalEmphasis($,"label"),convertNormalEmphasis($,"labelLine"),convertNormalEmphasis($,"upperLabel"),convertNormalEmphasis($,"edgeLabel")}function compatTextStyle($,_e){var et=isObject$2($)&&$[_e],tt=isObject$2(et)&&et.textStyle;if(tt)for(var nt=0,at=TEXT_STYLE_OPTIONS.length;nt<at;nt++){var ot=TEXT_STYLE_OPTIONS[nt];tt.hasOwnProperty(ot)&&(et[ot]=tt[ot])}}function compatEC3CommonStyles($){$&&(removeEC3NormalStatus($),compatTextStyle($,"label"),$.emphasis&&compatTextStyle($.emphasis,"label"))}function processSeries($){if(!!isObject$2($)){compatEC2ItemStyle($),removeEC3NormalStatus($),compatTextStyle($,"label"),compatTextStyle($,"upperLabel"),compatTextStyle($,"edgeLabel"),$.emphasis&&(compatTextStyle($.emphasis,"label"),compatTextStyle($.emphasis,"upperLabel"),compatTextStyle($.emphasis,"edgeLabel"));var _e=$.markPoint;_e&&(compatEC2ItemStyle(_e),compatEC3CommonStyles(_e));var et=$.markLine;et&&(compatEC2ItemStyle(et),compatEC3CommonStyles(et));var tt=$.markArea;tt&&compatEC3CommonStyles(tt);var nt=$.data;if($.type==="graph"){nt=nt||$.nodes;var at=$.links||$.edges;if(at&&!isTypedArray(at))for(var ot=0;ot<at.length;ot++)compatEC3CommonStyles(at[ot]);each$f($.categories,function(ut){removeEC3NormalStatus(ut)})}if(nt&&!isTypedArray(nt))for(var ot=0;ot<nt.length;ot++)compatEC3CommonStyles(nt[ot]);if(_e=$.markPoint,_e&&_e.data)for(var it=_e.data,ot=0;ot<it.length;ot++)compatEC3CommonStyles(it[ot]);if(et=$.markLine,et&&et.data)for(var st=et.data,ot=0;ot<st.length;ot++)isArray$1(st[ot])?(compatEC3CommonStyles(st[ot][0]),compatEC3CommonStyles(st[ot][1])):compatEC3CommonStyles(st[ot]);$.type==="gauge"?(compatTextStyle($,"axisLabel"),compatTextStyle($,"title"),compatTextStyle($,"detail")):$.type==="treemap"?(convertNormalEmphasis($.breadcrumb,"itemStyle"),each$f($.levels,function(ut){removeEC3NormalStatus(ut)})):$.type==="tree"&&removeEC3NormalStatus($.leaves)}}function toArr($){return isArray$1($)?$:$?[$]:[]}function toObj($){return(isArray$1($)?$[0]:$)||{}}function globalCompatStyle($,_e){each$d(toArr($.series),function(tt){isObject$2(tt)&&processSeries(tt)});var et=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];_e&&et.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(et,function(tt){each$d(toArr($[tt]),function(nt){nt&&(compatTextStyle(nt,"axisLabel"),compatTextStyle(nt.axisPointer,"label"))})}),each$d(toArr($.parallel),function(tt){var nt=tt&&tt.parallelAxisDefault;compatTextStyle(nt,"axisLabel"),compatTextStyle(nt&&nt.axisPointer,"label")}),each$d(toArr($.calendar),function(tt){convertNormalEmphasis(tt,"itemStyle"),compatTextStyle(tt,"dayLabel"),compatTextStyle(tt,"monthLabel"),compatTextStyle(tt,"yearLabel")}),each$d(toArr($.radar),function(tt){compatTextStyle(tt,"name"),tt.name&&tt.axisName==null&&(tt.axisName=tt.name,delete tt.name),tt.nameGap!=null&&tt.axisNameGap==null&&(tt.axisNameGap=tt.nameGap,delete tt.nameGap)}),each$d(toArr($.geo),function(tt){isObject$2(tt)&&(compatEC3CommonStyles(tt),each$d(toArr(tt.regions),function(nt){compatEC3CommonStyles(nt)}))}),each$d(toArr($.timeline),function(tt){compatEC3CommonStyles(tt),convertNormalEmphasis(tt,"label"),convertNormalEmphasis(tt,"itemStyle"),convertNormalEmphasis(tt,"controlStyle",!0);var nt=tt.data;isArray$1(nt)&&each$f(nt,function(at){isObject$3(at)&&(convertNormalEmphasis(at,"label"),convertNormalEmphasis(at,"itemStyle"))})}),each$d(toArr($.toolbox),function(tt){convertNormalEmphasis(tt,"iconStyle"),each$d(tt.feature,function(nt){convertNormalEmphasis(nt,"iconStyle")})}),compatTextStyle(toObj($.axisPointer),"label"),compatTextStyle(toObj($.tooltip).axisPointer,"label")}function get($,_e){for(var et=_e.split(","),tt=$,nt=0;nt<et.length&&(tt=tt&&tt[et[nt]],tt!=null);nt++);return tt}function set($,_e,et,tt){for(var nt=_e.split(","),at=$,ot,it=0;it<nt.length-1;it++)ot=nt[it],at[ot]==null&&(at[ot]={}),at=at[ot];(tt||at[nt[it]]==null)&&(at[nt[it]]=et)}function compatLayoutProperties($){$&&each$f(LAYOUT_PROPERTIES,function(_e){_e[0]in $&&!(_e[1]in $)&&($[_e[1]]=$[_e[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle($){var _e=$&&$.itemStyle;if(_e)for(var et=0;et<BAR_ITEM_STYLE_MAP.length;et++){var tt=BAR_ITEM_STYLE_MAP[et][1],nt=BAR_ITEM_STYLE_MAP[et][0];_e[tt]!=null&&(_e[nt]=_e[tt])}}function compatPieLabel($){!$||$.alignTo==="edge"&&$.margin!=null&&$.edgeDistance==null&&($.edgeDistance=$.margin)}function compatSunburstState($){!$||$.downplay&&!$.blur&&($.blur=$.downplay)}function compatGraphFocus($){!$||$.focusNodeAdjacency!=null&&($.emphasis=$.emphasis||{},$.emphasis.focus==null&&($.emphasis.focus="adjacency"))}function traverseTree($,_e){if($)for(var et=0;et<$.length;et++)_e($[et]),$[et]&&traverseTree($[et].children,_e)}function globalBackwardCompat($,_e){globalCompatStyle($,_e),$.series=normalizeToArray($.series),each$f($.series,function(et){if(!!isObject$3(et)){var tt=et.type;if(tt==="line")et.clipOverflow!=null&&(et.clip=et.clipOverflow);else if(tt==="pie"||tt==="gauge"){et.clockWise!=null&&(et.clockwise=et.clockWise),compatPieLabel(et.label);var nt=et.data;if(nt&&!isTypedArray(nt))for(var at=0;at<nt.length;at++)compatPieLabel(nt[at]);et.hoverOffset!=null&&(et.emphasis=et.emphasis||{},(et.emphasis.scaleSize=null)&&(et.emphasis.scaleSize=et.hoverOffset))}else if(tt==="gauge"){var ot=get(et,"pointer.color");ot!=null&&set(et,"itemStyle.color",ot)}else if(tt==="bar"){compatBarItemStyle(et),compatBarItemStyle(et.backgroundStyle),compatBarItemStyle(et.emphasis);var nt=et.data;if(nt&&!isTypedArray(nt))for(var at=0;at<nt.length;at++)typeof nt[at]=="object"&&(compatBarItemStyle(nt[at]),compatBarItemStyle(nt[at]&&nt[at].emphasis))}else if(tt==="sunburst"){var it=et.highlightPolicy;it&&(et.emphasis=et.emphasis||{},et.emphasis.focus||(et.emphasis.focus=it)),compatSunburstState(et),traverseTree(et.data,compatSunburstState)}else tt==="graph"||tt==="sankey"?compatGraphFocus(et):tt==="map"&&(et.mapType&&!et.map&&(et.map=et.mapType),et.mapLocation&&defaults(et,et.mapLocation));et.hoverAnimation!=null&&(et.emphasis=et.emphasis||{},et.emphasis&&et.emphasis.scale==null&&(et.emphasis.scale=et.hoverAnimation)),compatLayoutProperties(et)}}),$.dataRange&&($.visualMap=$.dataRange),each$f(COMPATITABLE_COMPONENTS,function(et){var tt=$[et];tt&&(isArray$1(tt)||(tt=[tt]),each$f(tt,function(nt){compatLayoutProperties(nt)}))})}function dataStack($){var _e=createHashMap();$.eachSeries(function(et){var tt=et.get("stack");if(tt){var nt=_e.get(tt)||_e.set(tt,[]),at=et.getData(),ot={stackResultDimension:at.getCalculationInfo("stackResultDimension"),stackedOverDimension:at.getCalculationInfo("stackedOverDimension"),stackedDimension:at.getCalculationInfo("stackedDimension"),stackedByDimension:at.getCalculationInfo("stackedByDimension"),isStackedByIndex:at.getCalculationInfo("isStackedByIndex"),data:at,seriesModel:et};if(!ot.stackedDimension||!(ot.isStackedByIndex||ot.stackedByDimension))return;nt.length&&at.setCalculationInfo("stackedOnSeries",nt[nt.length-1].seriesModel),nt.push(ot)}}),_e.each(calculateStack)}function calculateStack($){each$f($,function(_e,et){var tt=[],nt=[NaN,NaN],at=[_e.stackResultDimension,_e.stackedOverDimension],ot=_e.data,it=_e.isStackedByIndex,st=_e.seriesModel.get("stackStrategy")||"samesign";ot.modify(at,function(ut,ft,dt){var vt=ot.get(_e.stackedDimension,dt);if(isNaN(vt))return nt;var gt,yt;it?yt=ot.getRawIndex(dt):gt=ot.get(_e.stackedByDimension,dt);for(var xt=NaN,Ct=et-1;Ct>=0;Ct--){var wt=$[Ct];if(it||(yt=wt.data.rawIndexOf(wt.stackedByDimension,gt)),yt>=0){var Et=wt.data.getByRawIndex(wt.stackResultDimension,yt);if(st==="all"||st==="positive"&&Et>0||st==="negative"&&Et<0||st==="samesign"&&vt>=0&&Et>0||st==="samesign"&&vt<=0&&Et<0){vt=addSafe(vt,Et),xt=Et;break}}}return tt[0]=vt,tt[1]=xt,tt})})}var SourceImpl=function(){function $(_e){this.data=_e.data||(_e.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=_e.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=_e.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=_e.startIndex||0,this.dimensionsDetectedCount=_e.dimensionsDetectedCount,this.metaRawOption=_e.metaRawOption;var et=this.dimensionsDefine=_e.dimensionsDefine;if(et)for(var tt=0;tt<et.length;tt++){var nt=et[tt];nt.type==null&&guessOrdinal(this,tt)===BE_ORDINAL.Must&&(nt.type="ordinal")}}return $}();function isSourceInstance($){return $ instanceof SourceImpl}function createSource($,_e,et){et=et||detectSourceFormat($);var tt=_e.seriesLayoutBy,nt=determineSourceDimensions($,et,tt,_e.sourceHeader,_e.dimensions),at=new SourceImpl({data:$,sourceFormat:et,seriesLayoutBy:tt,dimensionsDefine:nt.dimensionsDefine,startIndex:nt.startIndex,dimensionsDetectedCount:nt.dimensionsDetectedCount,metaRawOption:clone$4(_e)});return at}function createSourceFromSeriesDataOption($){return new SourceImpl({data:$,sourceFormat:isTypedArray($)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow($){return new SourceImpl({data:$.data,sourceFormat:$.sourceFormat,seriesLayoutBy:$.seriesLayoutBy,dimensionsDefine:clone$4($.dimensionsDefine),startIndex:$.startIndex,dimensionsDetectedCount:$.dimensionsDetectedCount})}function detectSourceFormat($){var _e=SOURCE_FORMAT_UNKNOWN;if(isTypedArray($))_e=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1($)){$.length===0&&(_e=SOURCE_FORMAT_ARRAY_ROWS);for(var et=0,tt=$.length;et<tt;et++){var nt=$[et];if(nt!=null){if(isArray$1(nt)){_e=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(nt)){_e=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3($)){for(var at in $)if(hasOwn($,at)&&isArrayLike($[at])){_e=SOURCE_FORMAT_KEYED_COLUMNS;break}}return _e}function determineSourceDimensions($,_e,et,tt,nt){var at,ot;if(!$)return{dimensionsDefine:normalizeDimensionsOption(nt),startIndex:ot,dimensionsDetectedCount:at};if(_e===SOURCE_FORMAT_ARRAY_ROWS){var it=$;tt==="auto"||tt==null?arrayRowsTravelFirst(function(ut){ut!=null&&ut!=="-"&&(isString(ut)?ot==null&&(ot=1):ot=0)},et,it,10):ot=isNumber(tt)?tt:tt?1:0,!nt&&ot===1&&(nt=[],arrayRowsTravelFirst(function(ut,ft){nt[ft]=ut!=null?ut+"":""},et,it,1/0)),at=nt?nt.length:et===SERIES_LAYOUT_BY_ROW?it.length:it[0]?it[0].length:null}else if(_e===SOURCE_FORMAT_OBJECT_ROWS)nt||(nt=objectRowsCollectDimensions($));else if(_e===SOURCE_FORMAT_KEYED_COLUMNS)nt||(nt=[],each$f($,function(ut,ft){nt.push(ft)}));else if(_e===SOURCE_FORMAT_ORIGINAL){var st=getDataItemValue($[0]);at=isArray$1(st)&&st.length||1}return{startIndex:ot,dimensionsDefine:normalizeDimensionsOption(nt),dimensionsDetectedCount:at}}function objectRowsCollectDimensions($){for(var _e=0,et;_e<$.length&&!(et=$[_e++]););if(et){var tt=[];return each$f(et,function(nt,at){tt.push(at)}),tt}}function normalizeDimensionsOption($){if(!!$){var _e=createHashMap();return map$1($,function(et,tt){et=isObject$3(et)?et:{name:et};var nt={name:et.name,displayName:et.displayName,type:et.type};if(nt.name==null)return nt;nt.name+="",nt.displayName==null&&(nt.displayName=nt.name);var at=_e.get(nt.name);return at?nt.name+="-"+at.count++:_e.set(nt.name,{count:1}),nt})}}function arrayRowsTravelFirst($,_e,et,tt){if(_e===SERIES_LAYOUT_BY_ROW)for(var nt=0;nt<et.length&&nt<tt;nt++)$(et[nt]?et[nt][0]:null,nt);else for(var at=et[0]||[],nt=0;nt<at.length&&nt<tt;nt++)$(at[nt],nt)}function shouldRetrieveDataByName($){var _e=$.sourceFormat;return _e===SOURCE_FORMAT_OBJECT_ROWS||_e===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function $(_e,et){var tt=isSourceInstance(_e)?_e:createSourceFromSeriesDataOption(_e);this._source=tt;var nt=this._data=tt.data;tt.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=et,this._data=nt),mountMethods(this,nt,tt)}return $.prototype.getSource=function(){return this._source},$.prototype.count=function(){return 0},$.prototype.getItem=function(_e,et){},$.prototype.appendData=function(_e){},$.prototype.clean=function(){},$.protoInitialize=function(){var _e=$.prototype;_e.pure=!1,_e.persistent=!0}(),$.internalField=function(){var _e;mountMethods=function(ot,it,st){var ut=st.sourceFormat,ft=st.seriesLayoutBy,dt=st.startIndex,vt=st.dimensionsDefine,gt=providerMethods[getMethodMapKey(ut,ft)];if(extend(ot,gt),ut===SOURCE_FORMAT_TYPED_ARRAY)ot.getItem=et,ot.count=nt,ot.fillStorage=tt;else{var yt=getRawSourceItemGetter(ut,ft);ot.getItem=bind$1(yt,null,it,dt,vt);var xt=getRawSourceDataCounter(ut,ft);ot.count=bind$1(xt,null,it,dt,vt)}};var et=function(ot,it){ot=ot-this._offset,it=it||[];for(var st=this._data,ut=this._dimSize,ft=ut*ot,dt=0;dt<ut;dt++)it[dt]=st[ft+dt];return it},tt=function(ot,it,st,ut){for(var ft=this._data,dt=this._dimSize,vt=0;vt<dt;vt++){for(var gt=ut[vt],yt=gt[0]==null?1/0:gt[0],xt=gt[1]==null?-1/0:gt[1],Ct=it-ot,wt=st[vt],Et=0;Et<Ct;Et++){var $t=ft[Et*dt+vt];wt[ot+Et]=$t,$t<yt&&(yt=$t),$t>xt&&(xt=$t)}gt[0]=yt,gt[1]=xt}},nt=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(_e={},_e[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:at},_e[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},_e[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:at},_e[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(ot){var it=this._data;each$f(ot,function(st,ut){for(var ft=it[ut]||(it[ut]=[]),dt=0;dt<(st||[]).length;dt++)ft.push(st[dt])})}},_e[SOURCE_FORMAT_ORIGINAL]={appendData:at},_e[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(ot){this._data=ot},clean:function(){this._offset+=this.count(),this._data=null}},_e);function at(ot){for(var it=0;it<ot.length;it++)this._data.push(ot[it])}}(),$}(),getItemSimply=function($,_e,et,tt){return $[tt]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function($,_e,et,tt){return $[tt+_e]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function($,_e,et,tt,nt){tt+=_e;for(var at=nt||[],ot=$,it=0;it<ot.length;it++){var st=ot[it];at[it]=st?st[tt]:null}return at},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function($,_e,et,tt,nt){for(var at=nt||[],ot=0;ot<et.length;ot++){var it=et[ot].name,st=$[it];at[ot]=st?st[tt]:null}return at},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter($,_e){var et=rawSourceItemGetterMap[getMethodMapKey($,_e)];return et}var countSimply=function($,_e,et){return $.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function($,_e,et){return Math.max(0,$.length-_e)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function($,_e,et){var tt=$[0];return tt?Math.max(0,tt.length-_e):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function($,_e,et){var tt=et[0].name,nt=$[tt];return nt?nt.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter($,_e){var et=rawSourceDataCounterMap[getMethodMapKey($,_e)];return et}var getRawValueSimply=function($,_e,et){return $[_e]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function($,_e,et){return $[et]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function($,_e,et){var tt=getDataItemValue($);return tt instanceof Array?tt[_e]:tt},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter($){var _e=rawSourceValueGetterMap[$];return _e}function getMethodMapKey($,_e){return $===SOURCE_FORMAT_ARRAY_ROWS?$+"_"+_e:$}function retrieveRawValue($,_e,et){if(!!$){var tt=$.getRawDataItem(_e);if(tt!=null){var nt=$.getStore(),at=nt.getSource().sourceFormat;if(et!=null){var ot=$.getDimensionIndex(et),it=nt.getDimensionProperty(ot);return getRawSourceValueGetter(at)(tt,ot,it)}else{var st=tt;return at===SOURCE_FORMAT_ORIGINAL&&(st=getDataItemValue(tt)),st}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function $(){}return $.prototype.getDataParams=function(_e,et){var tt=this.getData(et),nt=this.getRawValue(_e,et),at=tt.getRawIndex(_e),ot=tt.getName(_e),it=tt.getRawDataItem(_e),st=tt.getItemVisual(_e,"style"),ut=st&&st[tt.getItemVisual(_e,"drawType")||"fill"],ft=st&&st.stroke,dt=this.mainType,vt=dt==="series",gt=tt.userOutput&&tt.userOutput.get();return{componentType:dt,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:vt?this.subType:null,seriesIndex:this.seriesIndex,seriesId:vt?this.id:null,seriesName:vt?this.name:null,name:ot,dataIndex:at,data:it,dataType:et,value:nt,color:ut,borderColor:ft,dimensionNames:gt?gt.fullDimensions:null,encode:gt?gt.encode:null,$vars:["seriesName","name","value"]}},$.prototype.getFormattedLabel=function(_e,et,tt,nt,at,ot){et=et||"normal";var it=this.getData(tt),st=this.getDataParams(_e,tt);if(ot&&(st.value=ot.interpolatedValue),nt!=null&&isArray$1(st.value)&&(st.value=st.value[nt]),!at){var ut=it.getItemModel(_e);at=ut.get(et==="normal"?["label","formatter"]:[et,"label","formatter"])}if(isFunction(at))return st.status=et,st.dimensionIndex=nt,at(st);if(isString(at)){var ft=formatTpl(at,st);return ft.replace(DIMENSION_LABEL_REG,function(dt,vt){var gt=vt.length,yt=vt;yt.charAt(0)==="["&&yt.charAt(gt-1)==="]"&&(yt=+yt.slice(1,gt-1));var xt=retrieveRawValue(it,_e,yt);if(ot&&isArray$1(ot.interpolatedValue)){var Ct=it.getDimensionIndex(yt);Ct>=0&&(xt=ot.interpolatedValue[Ct])}return xt!=null?xt+"":""})}},$.prototype.getRawValue=function(_e,et){return retrieveRawValue(this.getData(et),_e)},$.prototype.formatTooltip=function(_e,et,tt){},$}();function normalizeTooltipFormatResult($){var _e,et;return isObject$3($)?$.type&&(et=$):_e=$,{text:_e,frag:et}}function createTask($){return new Task($)}var Task=function(){function $(_e){_e=_e||{},this._reset=_e.reset,this._plan=_e.plan,this._count=_e.count,this._onDirty=_e.onDirty,this._dirty=!0}return $.prototype.perform=function(_e){var et=this._upstream,tt=_e&&_e.skip;if(this._dirty&&et){var nt=this.context;nt.data=nt.outputData=et.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var at;this._plan&&!tt&&(at=this._plan(this.context));var ot=ft(this._modBy),it=this._modDataCount||0,st=ft(_e&&_e.modBy),ut=_e&&_e.modDataCount||0;(ot!==st||it!==ut)&&(at="reset");function ft(Et){return!(Et>=1)&&(Et=1),Et}var dt;(this._dirty||at==="reset")&&(this._dirty=!1,dt=this._doReset(tt)),this._modBy=st,this._modDataCount=ut;var vt=_e&&_e.step;if(et?this._dueEnd=et._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var gt=this._dueIndex,yt=Math.min(vt!=null?this._dueIndex+vt:1/0,this._dueEnd);if(!tt&&(dt||gt<yt)){var xt=this._progress;if(isArray$1(xt))for(var Ct=0;Ct<xt.length;Ct++)this._doProgress(xt[Ct],gt,yt,st,ut);else this._doProgress(xt,gt,yt,st,ut)}this._dueIndex=yt;var wt=this._settedOutputEnd!=null?this._settedOutputEnd:yt;this._outputDueEnd=wt}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},$.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},$.prototype._doProgress=function(_e,et,tt,nt,at){iterator.reset(et,tt,nt,at),this._callingProgress=_e,this._callingProgress({start:et,end:tt,count:tt-et,next:iterator.next},this.context)},$.prototype._doReset=function(_e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var et,tt;!_e&&this._reset&&(et=this._reset(this.context),et&&et.progress&&(tt=et.forceFirstProgress,et=et.progress),isArray$1(et)&&!et.length&&(et=null)),this._progress=et,this._modBy=this._modDataCount=null;var nt=this._downstream;return nt&&nt.dirty(),tt},$.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},$.prototype.pipe=function(_e){(this._downstream!==_e||this._dirty)&&(this._downstream=_e,_e._upstream=this,_e.dirty())},$.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},$.prototype.getUpstream=function(){return this._upstream},$.prototype.getDownstream=function(){return this._downstream},$.prototype.setOutputEnd=function(_e){this._outputDueEnd=this._settedOutputEnd=_e},$}(),iterator=function(){var $,_e,et,tt,nt,at={reset:function(st,ut,ft,dt){_e=st,$=ut,et=ft,tt=dt,nt=Math.ceil(tt/et),at.next=et>1&&tt>0?it:ot}};return at;function ot(){return _e<$?_e++:null}function it(){var st=_e%nt*et+Math.ceil(_e/nt),ut=_e>=$?null:st<tt?st:_e;return _e++,ut}}();function parseDataValue($,_e){var et=_e&&_e.type;return et==="ordinal"?$:(et==="time"&&!isNumber($)&&$!=null&&$!=="-"&&($=+parseDate($)),$==null||$===""?NaN:+$)}var valueParserMap=createHashMap({number:function($){return parseFloat($)},time:function($){return+parseDate($)},trim:function($){return isString($)?trim$1($):$}});function getRawValueParser($){return valueParserMap.get($)}var ORDER_COMPARISON_OP_MAP={lt:function($,_e){return $<_e},lte:function($,_e){return $<=_e},gt:function($,_e){return $>_e},gte:function($,_e){return $>=_e}},FilterOrderComparator=function(){function $(_e,et){if(!isNumber(et)){var tt="";throwError(tt)}this._opFn=ORDER_COMPARISON_OP_MAP[_e],this._rvalFloat=numericToNumber(et)}return $.prototype.evaluate=function(_e){return isNumber(_e)?this._opFn(_e,this._rvalFloat):this._opFn(numericToNumber(_e),this._rvalFloat)},$}(),SortOrderComparator=function(){function $(_e,et){var tt=_e==="desc";this._resultLT=tt?1:-1,et==null&&(et=tt?"min":"max"),this._incomparable=et==="min"?-1/0:1/0}return $.prototype.evaluate=function(_e,et){var tt=isNumber(_e)?_e:numericToNumber(_e),nt=isNumber(et)?et:numericToNumber(et),at=isNaN(tt),ot=isNaN(nt);if(at&&(tt=this._incomparable),ot&&(nt=this._incomparable),at&&ot){var it=isString(_e),st=isString(et);it&&(tt=st?_e:0),st&&(nt=it?et:0)}return tt<nt?this._resultLT:tt>nt?-this._resultLT:0},$}(),FilterEqualityComparator=function(){function $(_e,et){this._rval=et,this._isEQ=_e,this._rvalTypeof=typeof et,this._rvalFloat=numericToNumber(et)}return $.prototype.evaluate=function(_e){var et=_e===this._rval;if(!et){var tt=typeof _e;tt!==this._rvalTypeof&&(tt==="number"||this._rvalTypeof==="number")&&(et=numericToNumber(_e)===this._rvalFloat)}return this._isEQ?et:!et},$}();function createFilterComparator($,_e){return $==="eq"||$==="ne"?new FilterEqualityComparator($==="eq",_e):hasOwn(ORDER_COMPARISON_OP_MAP,$)?new FilterOrderComparator($,_e):null}var ExternalSource=function(){function $(){}return $.prototype.getRawData=function(){throw new Error("not supported")},$.prototype.getRawDataItem=function(_e){throw new Error("not supported")},$.prototype.cloneRawData=function(){},$.prototype.getDimensionInfo=function(_e){},$.prototype.cloneAllDimensionInfo=function(){},$.prototype.count=function(){},$.prototype.retrieveValue=function(_e,et){},$.prototype.retrieveValueFromItem=function(_e,et){},$.prototype.convertValue=function(_e,et){return parseDataValue(_e,et)},$}();function createExternalSource($,_e){var et=new ExternalSource,tt=$.data,nt=et.sourceFormat=$.sourceFormat,at=$.startIndex,ot="";$.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(ot);var it=[],st={},ut=$.dimensionsDefine;if(ut)each$f(ut,function(xt,Ct){var wt=xt.name,Et={index:Ct,name:wt,displayName:xt.displayName};if(it.push(Et),wt!=null){var $t="";hasOwn(st,wt)&&throwError($t),st[wt]=Et}});else for(var ft=0;ft<$.dimensionsDetectedCount;ft++)it.push({index:ft});var dt=getRawSourceItemGetter(nt,SERIES_LAYOUT_BY_COLUMN);_e.__isBuiltIn&&(et.getRawDataItem=function(xt){return dt(tt,at,it,xt)},et.getRawData=bind$1(getRawData,null,$)),et.cloneRawData=bind$1(cloneRawData,null,$);var vt=getRawSourceDataCounter(nt,SERIES_LAYOUT_BY_COLUMN);et.count=bind$1(vt,null,tt,at,it);var gt=getRawSourceValueGetter(nt);et.retrieveValue=function(xt,Ct){var wt=dt(tt,at,it,xt);return yt(wt,Ct)};var yt=et.retrieveValueFromItem=function(xt,Ct){if(xt!=null){var wt=it[Ct];if(wt)return gt(xt,Ct,wt.name)}};return et.getDimensionInfo=bind$1(getDimensionInfo,null,it,st),et.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,it),et}function getRawData($){var _e=$.sourceFormat;if(!isSupportedSourceFormat(_e)){var et="";throwError(et)}return $.data}function cloneRawData($){var _e=$.sourceFormat,et=$.data;if(!isSupportedSourceFormat(_e)){var tt="";throwError(tt)}if(_e===SOURCE_FORMAT_ARRAY_ROWS){for(var nt=[],at=0,ot=et.length;at<ot;at++)nt.push(et[at].slice());return nt}else if(_e===SOURCE_FORMAT_OBJECT_ROWS){for(var nt=[],at=0,ot=et.length;at<ot;at++)nt.push(extend({},et[at]));return nt}}function getDimensionInfo($,_e,et){if(et!=null){if(isNumber(et)||!isNaN(et)&&!hasOwn(_e,et))return $[et];if(hasOwn(_e,et))return _e[et]}}function cloneAllDimensionInfo($){return clone$4($)}var externalTransformMap=createHashMap();function registerExternalTransform($){$=clone$4($);var _e=$.type,et="";_e||throwError(et);var tt=_e.split(":");tt.length!==2&&throwError(et);var nt=!1;tt[0]==="echarts"&&(_e=tt[1],nt=!0),$.__isBuiltIn=nt,externalTransformMap.set(_e,$)}function applyDataTransform($,_e,et){var tt=normalizeToArray($),nt=tt.length,at="";nt||throwError(at);for(var ot=0,it=nt;ot<it;ot++){var st=tt[ot];_e=applySingleDataTransform(st,_e),ot!==it-1&&(_e.length=Math.max(_e.length,1))}return _e}function applySingleDataTransform($,_e,et,tt){var nt="";_e.length||throwError(nt),isObject$3($)||throwError(nt);var at=$.type,ot=externalTransformMap.get(at);ot||throwError(nt);var it=map$1(_e,function(ut){return createExternalSource(ut,ot)}),st=normalizeToArray(ot.transform({upstream:it[0],upstreamList:it,config:clone$4($.config)}));return map$1(st,function(ut,ft){var dt="";isObject$3(ut)||throwError(dt),ut.data||throwError(dt);var vt=detectSourceFormat(ut.data);isSupportedSourceFormat(vt)||throwError(dt);var gt,yt=_e[0];if(yt&&ft===0&&!ut.dimensions){var xt=yt.startIndex;xt&&(ut.data=yt.data.slice(0,xt).concat(ut.data)),gt={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:xt,dimensions:yt.metaRawOption.dimensions}}else gt={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:ut.dimensions};return createSource(ut.data,gt,null)})}function isSupportedSourceFormat($){return $===SOURCE_FORMAT_ARRAY_ROWS||$===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor($){return $>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk($){var _e=$.constructor;return _e===Array?$.slice():new _e($)}function prepareStore($,_e,et,tt,nt){var at=dataCtors[et||"float"];if(nt){var ot=$[_e],it=ot&&ot.length;if(it!==tt){for(var st=new at(tt),ut=0;ut<it;ut++)st[ut]=ot[ut];$[_e]=st}}else $[_e]=new at(tt)}var DataStore=function(){function $(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return $.prototype.initData=function(_e,et,tt){this._provider=_e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var nt=_e.getSource(),at=this.defaultDimValueGetter=defaultDimValueGetters[nt.sourceFormat];this._dimValueGetter=tt||at,this._rawExtent=[],shouldRetrieveDataByName(nt),this._dimensions=map$1(et,function(ot){return{type:ot.type,property:ot.property}}),this._initDataFromProvider(0,_e.count())},$.prototype.getProvider=function(){return this._provider},$.prototype.getSource=function(){return this._provider.getSource()},$.prototype.ensureCalculationDimension=function(_e,et){var tt=this._calcDimNameToIdx,nt=this._dimensions,at=tt.get(_e);if(at!=null){if(nt[at].type===et)return at}else at=nt.length;return nt[at]={type:et},tt.set(_e,at),this._chunks[at]=new dataCtors[et||"float"](this._rawCount),this._rawExtent[at]=getInitialExtent(),at},$.prototype.collectOrdinalMeta=function(_e,et){var tt=this._chunks[_e],nt=this._dimensions[_e],at=this._rawExtent,ot=nt.ordinalOffset||0,it=tt.length;ot===0&&(at[_e]=getInitialExtent());for(var st=at[_e],ut=ot;ut<it;ut++){var ft=tt[ut]=et.parseAndCollect(tt[ut]);isNaN(ft)||(st[0]=Math.min(ft,st[0]),st[1]=Math.max(ft,st[1]))}nt.ordinalMeta=et,nt.ordinalOffset=it,nt.type="ordinal"},$.prototype.getOrdinalMeta=function(_e){var et=this._dimensions[_e],tt=et.ordinalMeta;return tt},$.prototype.getDimensionProperty=function(_e){var et=this._dimensions[_e];return et&&et.property},$.prototype.appendData=function(_e){var et=this._provider,tt=this.count();et.appendData(_e);var nt=et.count();return et.persistent||(nt+=tt),tt<nt&&this._initDataFromProvider(tt,nt,!0),[tt,nt]},$.prototype.appendValues=function(_e,et){for(var tt=this._chunks,nt=this._dimensions,at=nt.length,ot=this._rawExtent,it=this.count(),st=it+Math.max(_e.length,et||0),ut=0;ut<at;ut++){var ft=nt[ut];prepareStore(tt,ut,ft.type,st,!0)}for(var dt=[],vt=it;vt<st;vt++)for(var gt=vt-it,yt=0;yt<at;yt++){var ft=nt[yt],xt=defaultDimValueGetters.arrayRows.call(this,_e[gt]||dt,ft.property,gt,yt);tt[yt][vt]=xt;var Ct=ot[yt];xt<Ct[0]&&(Ct[0]=xt),xt>Ct[1]&&(Ct[1]=xt)}return this._rawCount=this._count=st,{start:it,end:st}},$.prototype._initDataFromProvider=function(_e,et,tt){for(var nt=this._provider,at=this._chunks,ot=this._dimensions,it=ot.length,st=this._rawExtent,ut=map$1(ot,function(Et){return Et.property}),ft=0;ft<it;ft++){var dt=ot[ft];st[ft]||(st[ft]=getInitialExtent()),prepareStore(at,ft,dt.type,et,tt)}if(nt.fillStorage)nt.fillStorage(_e,et,at,st);else for(var vt=[],gt=_e;gt<et;gt++){vt=nt.getItem(gt,vt);for(var yt=0;yt<it;yt++){var xt=at[yt],Ct=this._dimValueGetter(vt,ut[yt],gt,yt);xt[gt]=Ct;var wt=st[yt];Ct<wt[0]&&(wt[0]=Ct),Ct>wt[1]&&(wt[1]=Ct)}}!nt.persistent&&nt.clean&&nt.clean(),this._rawCount=this._count=et,this._extent=[]},$.prototype.count=function(){return this._count},$.prototype.get=function(_e,et){if(!(et>=0&&et<this._count))return NaN;var tt=this._chunks[_e];return tt?tt[this.getRawIndex(et)]:NaN},$.prototype.getValues=function(_e,et){var tt=[],nt=[];if(et==null){et=_e,_e=[];for(var at=0;at<this._dimensions.length;at++)nt.push(at)}else nt=_e;for(var at=0,ot=nt.length;at<ot;at++)tt.push(this.get(nt[at],et));return tt},$.prototype.getByRawIndex=function(_e,et){if(!(et>=0&&et<this._rawCount))return NaN;var tt=this._chunks[_e];return tt?tt[et]:NaN},$.prototype.getSum=function(_e){var et=this._chunks[_e],tt=0;if(et)for(var nt=0,at=this.count();nt<at;nt++){var ot=this.get(_e,nt);isNaN(ot)||(tt+=ot)}return tt},$.prototype.getMedian=function(_e){var et=[];this.each([_e],function(at){isNaN(at)||et.push(at)});var tt=et.sort(function(at,ot){return at-ot}),nt=this.count();return nt===0?0:nt%2===1?tt[(nt-1)/2]:(tt[nt/2]+tt[nt/2-1])/2},$.prototype.indexOfRawIndex=function(_e){if(_e>=this._rawCount||_e<0)return-1;if(!this._indices)return _e;var et=this._indices,tt=et[_e];if(tt!=null&&tt<this._count&&tt===_e)return _e;for(var nt=0,at=this._count-1;nt<=at;){var ot=(nt+at)/2|0;if(et[ot]<_e)nt=ot+1;else if(et[ot]>_e)at=ot-1;else return ot}return-1},$.prototype.indicesOfNearest=function(_e,et,tt){var nt=this._chunks,at=nt[_e],ot=[];if(!at)return ot;tt==null&&(tt=1/0);for(var it=1/0,st=-1,ut=0,ft=0,dt=this.count();ft<dt;ft++){var vt=this.getRawIndex(ft),gt=et-at[vt],yt=Math.abs(gt);yt<=tt&&((yt<it||yt===it&&gt>=0&&st<0)&&(it=yt,st=gt,ut=0),gt===st&&(ot[ut++]=ft))}return ot.length=ut,ot},$.prototype.getIndices=function(){var _e,et=this._indices;if(et){var tt=et.constructor,nt=this._count;if(tt===Array){_e=new tt(nt);for(var at=0;at<nt;at++)_e[at]=et[at]}else _e=new tt(et.buffer,0,nt)}else{var tt=getIndicesCtor(this._rawCount);_e=new tt(this.count());for(var at=0;at<_e.length;at++)_e[at]=at}return _e},$.prototype.filter=function(_e,et){if(!this._count)return this;for(var tt=this.clone(),nt=tt.count(),at=getIndicesCtor(tt._rawCount),ot=new at(nt),it=[],st=_e.length,ut=0,ft=_e[0],dt=tt._chunks,vt=0;vt<nt;vt++){var gt=void 0,yt=tt.getRawIndex(vt);if(st===0)gt=et(vt);else if(st===1){var xt=dt[ft][yt];gt=et(xt,vt)}else{for(var Ct=0;Ct<st;Ct++)it[Ct]=dt[_e[Ct]][yt];it[Ct]=vt,gt=et.apply(null,it)}gt&&(ot[ut++]=yt)}return ut<nt&&(tt._indices=ot),tt._count=ut,tt._extent=[],tt._updateGetRawIdx(),tt},$.prototype.selectRange=function(_e){var et=this.clone(),tt=et._count;if(!tt)return this;var nt=keys(_e),at=nt.length;if(!at)return this;var ot=et.count(),it=getIndicesCtor(et._rawCount),st=new it(ot),ut=0,ft=nt[0],dt=_e[ft][0],vt=_e[ft][1],gt=et._chunks,yt=!1;if(!et._indices){var xt=0;if(at===1){for(var Ct=gt[nt[0]],wt=0;wt<tt;wt++){var Et=Ct[wt];(Et>=dt&&Et<=vt||isNaN(Et))&&(st[ut++]=xt),xt++}yt=!0}else if(at===2){for(var Ct=gt[nt[0]],$t=gt[nt[1]],It=_e[nt[1]][0],Ot=_e[nt[1]][1],wt=0;wt<tt;wt++){var Et=Ct[wt],Lt=$t[wt];(Et>=dt&&Et<=vt||isNaN(Et))&&(Lt>=It&&Lt<=Ot||isNaN(Lt))&&(st[ut++]=xt),xt++}yt=!0}}if(!yt)if(at===1)for(var wt=0;wt<ot;wt++){var Ft=et.getRawIndex(wt),Et=gt[nt[0]][Ft];(Et>=dt&&Et<=vt||isNaN(Et))&&(st[ut++]=Ft)}else for(var wt=0;wt<ot;wt++){for(var zt=!0,Ft=et.getRawIndex(wt),Gt=0;Gt<at;Gt++){var jt=nt[Gt],Et=gt[jt][Ft];(Et<_e[jt][0]||Et>_e[jt][1])&&(zt=!1)}zt&&(st[ut++]=et.getRawIndex(wt))}return ut<ot&&(et._indices=st),et._count=ut,et._extent=[],et._updateGetRawIdx(),et},$.prototype.map=function(_e,et){var tt=this.clone(_e);return this._updateDims(tt,_e,et),tt},$.prototype.modify=function(_e,et){this._updateDims(this,_e,et)},$.prototype._updateDims=function(_e,et,tt){for(var nt=_e._chunks,at=[],ot=et.length,it=_e.count(),st=[],ut=_e._rawExtent,ft=0;ft<et.length;ft++)ut[et[ft]]=getInitialExtent();for(var dt=0;dt<it;dt++){for(var vt=_e.getRawIndex(dt),gt=0;gt<ot;gt++)st[gt]=nt[et[gt]][vt];st[ot]=dt;var yt=tt&&tt.apply(null,st);if(yt!=null){typeof yt!="object"&&(at[0]=yt,yt=at);for(var ft=0;ft<yt.length;ft++){var xt=et[ft],Ct=yt[ft],wt=ut[xt],Et=nt[xt];Et&&(Et[vt]=Ct),Ct<wt[0]&&(wt[0]=Ct),Ct>wt[1]&&(wt[1]=Ct)}}}},$.prototype.lttbDownSample=function(_e,et){var tt=this.clone([_e],!0),nt=tt._chunks,at=nt[_e],ot=this.count(),it=0,st=Math.floor(1/et),ut=this.getRawIndex(0),ft,dt,vt,gt=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(ot/st)+2)*2,ot));gt[it++]=ut;for(var yt=1;yt<ot-1;yt+=st){for(var xt=Math.min(yt+st,ot-1),Ct=Math.min(yt+st*2,ot),wt=(Ct+xt)/2,Et=0,$t=xt;$t<Ct;$t++){var It=this.getRawIndex($t),Ot=at[It];isNaN(Ot)||(Et+=Ot)}Et/=Ct-xt;var Lt=yt,Ft=Math.min(yt+st,ot),zt=yt-1,Gt=at[ut];ft=-1,vt=Lt;for(var jt=-1,Ut=0,$t=Lt;$t<Ft;$t++){var It=this.getRawIndex($t),Ot=at[It];if(isNaN(Ot)){Ut++,jt<0&&(jt=It);continue}dt=Math.abs((zt-wt)*(Ot-Gt)-(zt-$t)*(Et-Gt)),dt>ft&&(ft=dt,vt=It)}Ut>0&&Ut<Ft-Lt&&(gt[it++]=Math.min(jt,vt),vt=Math.max(jt,vt)),gt[it++]=vt,ut=vt}return gt[it++]=this.getRawIndex(ot-1),tt._count=it,tt._indices=gt,tt.getRawIndex=this._getRawIdx,tt},$.prototype.downSample=function(_e,et,tt,nt){for(var at=this.clone([_e],!0),ot=at._chunks,it=[],st=Math.floor(1/et),ut=ot[_e],ft=this.count(),dt=at._rawExtent[_e]=getInitialExtent(),vt=new(getIndicesCtor(this._rawCount))(Math.ceil(ft/st)),gt=0,yt=0;yt<ft;yt+=st){st>ft-yt&&(st=ft-yt,it.length=st);for(var xt=0;xt<st;xt++){var Ct=this.getRawIndex(yt+xt);it[xt]=ut[Ct]}var wt=tt(it),Et=this.getRawIndex(Math.min(yt+nt(it,wt)||0,ft-1));ut[Et]=wt,wt<dt[0]&&(dt[0]=wt),wt>dt[1]&&(dt[1]=wt),vt[gt++]=Et}return at._count=gt,at._indices=vt,at._updateGetRawIdx(),at},$.prototype.each=function(_e,et){if(!!this._count)for(var tt=_e.length,nt=this._chunks,at=0,ot=this.count();at<ot;at++){var it=this.getRawIndex(at);switch(tt){case 0:et(at);break;case 1:et(nt[_e[0]][it],at);break;case 2:et(nt[_e[0]][it],nt[_e[1]][it],at);break;default:for(var st=0,ut=[];st<tt;st++)ut[st]=nt[_e[st]][it];ut[st]=at,et.apply(null,ut)}}},$.prototype.getDataExtent=function(_e){var et=this._chunks[_e],tt=getInitialExtent();if(!et)return tt;var nt=this.count(),at=!this._indices,ot;if(at)return this._rawExtent[_e].slice();if(ot=this._extent[_e],ot)return ot.slice();ot=tt;for(var it=ot[0],st=ot[1],ut=0;ut<nt;ut++){var ft=this.getRawIndex(ut),dt=et[ft];dt<it&&(it=dt),dt>st&&(st=dt)}return ot=[it,st],this._extent[_e]=ot,ot},$.prototype.getRawDataItem=function(_e){var et=this.getRawIndex(_e);if(this._provider.persistent)return this._provider.getItem(et);for(var tt=[],nt=this._chunks,at=0;at<nt.length;at++)tt.push(nt[at][et]);return tt},$.prototype.clone=function(_e,et){var tt=new $,nt=this._chunks,at=_e&&reduce(_e,function(it,st){return it[st]=!0,it},{});if(at)for(var ot=0;ot<nt.length;ot++)tt._chunks[ot]=at[ot]?cloneChunk(nt[ot]):nt[ot];else tt._chunks=nt;return this._copyCommonProps(tt),et||(tt._indices=this._cloneIndices()),tt._updateGetRawIdx(),tt},$.prototype._copyCommonProps=function(_e){_e._count=this._count,_e._rawCount=this._rawCount,_e._provider=this._provider,_e._dimensions=this._dimensions,_e._extent=clone$4(this._extent),_e._rawExtent=clone$4(this._rawExtent)},$.prototype._cloneIndices=function(){if(this._indices){var _e=this._indices.constructor,et=void 0;if(_e===Array){var tt=this._indices.length;et=new _e(tt);for(var nt=0;nt<tt;nt++)et[nt]=this._indices[nt]}else et=new _e(this._indices);return et}return null},$.prototype._getRawIdxIdentity=function(_e){return _e},$.prototype._getRawIdx=function(_e){return _e<this._count&&_e>=0?this._indices[_e]:-1},$.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},$.internalField=function(){function _e(et,tt,nt,at){return parseDataValue(et[at],this._dimensions[at])}defaultDimValueGetters={arrayRows:_e,objectRows:function(et,tt,nt,at){return parseDataValue(et[tt],this._dimensions[at])},keyedColumns:_e,original:function(et,tt,nt,at){var ot=et&&(et.value==null?et:et.value);return parseDataValue(ot instanceof Array?ot[at]:ot,this._dimensions[at])},typedArray:function(et,tt,nt,at){return et[at]}}}(),$}(),SourceManager=function(){function $(_e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=_e}return $.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},$.prototype._setLocalSource=function(_e,et){this._sourceList=_e,this._upstreamSignList=et,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},$.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},$.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},$.prototype._createSource=function(){this._setLocalSource([],[]);var _e=this._sourceHost,et=this._getUpstreamSourceManagers(),tt=!!et.length,nt,at;if(isSeries(_e)){var ot=_e,it=void 0,st=void 0,ut=void 0;if(tt){var ft=et[0];ft.prepareSource(),ut=ft.getSource(),it=ut.data,st=ut.sourceFormat,at=[ft._getVersionSign()]}else it=ot.get("data",!0),st=isTypedArray(it)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,at=[];var dt=this._getSourceMetaRawOption()||{},vt=ut&&ut.metaRawOption||{},gt=retrieve2(dt.seriesLayoutBy,vt.seriesLayoutBy)||null,yt=retrieve2(dt.sourceHeader,vt.sourceHeader),xt=retrieve2(dt.dimensions,vt.dimensions),Ct=gt!==vt.seriesLayoutBy||!!yt!=!!vt.sourceHeader||xt;nt=Ct?[createSource(it,{seriesLayoutBy:gt,sourceHeader:yt,dimensions:xt},st)]:[]}else{var wt=_e;if(tt){var Et=this._applyTransform(et);nt=Et.sourceList,at=Et.upstreamSignList}else{var $t=wt.get("source",!0);nt=[createSource($t,this._getSourceMetaRawOption(),null)],at=[]}}this._setLocalSource(nt,at)},$.prototype._applyTransform=function(_e){var et=this._sourceHost,tt=et.get("transform",!0),nt=et.get("fromTransformResult",!0);if(nt!=null){var at="";_e.length!==1&&doThrow(at)}var ot,it=[],st=[];return each$f(_e,function(ut){ut.prepareSource();var ft=ut.getSource(nt||0),dt="";nt!=null&&!ft&&doThrow(dt),it.push(ft),st.push(ut._getVersionSign())}),tt?ot=applyDataTransform(tt,it,{datasetIndex:et.componentIndex}):nt!=null&&(ot=[cloneSourceShallow(it[0])]),{sourceList:ot,upstreamSignList:st}},$.prototype._isDirty=function(){if(this._dirty)return!0;for(var _e=this._getUpstreamSourceManagers(),et=0;et<_e.length;et++){var tt=_e[et];if(tt._isDirty()||this._upstreamSignList[et]!==tt._getVersionSign())return!0}},$.prototype.getSource=function(_e){_e=_e||0;var et=this._sourceList[_e];if(!et){var tt=this._getUpstreamSourceManagers();return tt[0]&&tt[0].getSource(_e)}return et},$.prototype.getSharedDataStore=function(_e){var et=_e.makeStoreSchema();return this._innerGetDataStore(et.dimensions,_e.source,et.hash)},$.prototype._innerGetDataStore=function(_e,et,tt){var nt=0,at=this._storeList,ot=at[nt];ot||(ot=at[nt]={});var it=ot[tt];if(!it){var st=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&st?it=st._innerGetDataStore(_e,et,tt):(it=new DataStore,it.initData(new DefaultDataProvider(et,_e.length),_e)),ot[tt]=it}return it},$.prototype._getUpstreamSourceManagers=function(){var _e=this._sourceHost;if(isSeries(_e)){var et=querySeriesUpstreamDatasetModel(_e);return et?[et.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(_e),function(tt){return tt.getSourceManager()})},$.prototype._getSourceMetaRawOption=function(){var _e=this._sourceHost,et,tt,nt;if(isSeries(_e))et=_e.get("seriesLayoutBy",!0),tt=_e.get("sourceHeader",!0),nt=_e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var at=_e;et=at.get("seriesLayoutBy",!0),tt=at.get("sourceHeader",!0),nt=at.get("dimensions",!0)}return{seriesLayoutBy:et,sourceHeader:tt,dimensions:nt}},$}();function disableTransformOptionMerge($){var _e=$.option.transform;_e&&setAsPrimitive($.option.transform)}function isSeries($){return $.mainType==="series"}function doThrow($){throw new Error($)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle($,_e){var et=$.color||"#6e7079",tt=$.fontSize||12,nt=$.fontWeight||"400",at=$.color||"#464646",ot=$.fontSize||14,it=$.fontWeight||"900";return _e==="html"?{nameStyle:"font-size:"+encodeHTML(tt+"")+"px;color:"+encodeHTML(et)+";font-weight:"+encodeHTML(nt+""),valueStyle:"font-size:"+encodeHTML(ot+"")+"px;color:"+encodeHTML(at)+";font-weight:"+encodeHTML(it+"")}:{nameStyle:{fontSize:tt,fill:et,fontWeight:nt},valueStyle:{fontSize:ot,fill:at,fontWeight:it}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup($,_e){return _e.type=$,_e}function isSectionFragment($){return $.type==="section"}function getBuilder($){return isSectionFragment($)?buildSection:buildNameValue}function getBlockGapLevel($){if(isSectionFragment($)){var _e=0,et=$.blocks.length,tt=et>1||et>0&&!$.noHeader;return each$f($.blocks,function(nt){var at=getBlockGapLevel(nt);at>=_e&&(_e=at+ +(tt&&(!at||isSectionFragment(nt)&&!nt.noHeader)))}),_e}return 0}function buildSection($,_e,et,tt){var nt=_e.noHeader,at=getGap(getBlockGapLevel(_e)),ot=[],it=_e.blocks||[];assert(!it||isArray$1(it)),it=it||[];var st=$.orderMode;if(_e.sortBlocks&&st){it=it.slice();var ut={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(ut,st)){var ft=new SortOrderComparator(ut[st],null);it.sort(function(yt,xt){return ft.evaluate(yt.sortParam,xt.sortParam)})}else st==="seriesDesc"&&it.reverse()}each$f(it,function(yt,xt){var Ct=_e.valueFormatter,wt=getBuilder(yt)(Ct?extend(extend({},$),{valueFormatter:Ct}):$,yt,xt>0?at.html:0,tt);wt!=null&&ot.push(wt)});var dt=$.renderMode==="richText"?ot.join(at.richText):wrapBlockHTML(ot.join(""),nt?et:at.html);if(nt)return dt;var vt=makeValueReadable(_e.header,"ordinal",$.useUTC),gt=getTooltipTextStyle(tt,$.renderMode).nameStyle;return $.renderMode==="richText"?wrapInlineNameRichText($,vt,gt)+at.richText+dt:wrapBlockHTML('<div style="'+gt+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(vt)+"</div>"+dt,et)}function buildNameValue($,_e,et,tt){var nt=$.renderMode,at=_e.noName,ot=_e.noValue,it=!_e.markerType,st=_e.name,ut=$.useUTC,ft=_e.valueFormatter||$.valueFormatter||function(It){return It=isArray$1(It)?It:[It],map$1(It,function(Ot,Lt){return makeValueReadable(Ot,isArray$1(gt)?gt[Lt]:gt,ut)})};if(!(at&&ot)){var dt=it?"":$.markupStyleCreator.makeTooltipMarker(_e.markerType,_e.markerColor||"#333",nt),vt=at?"":makeValueReadable(st,"ordinal",ut),gt=_e.valueType,yt=ot?[]:ft(_e.value),xt=!it||!at,Ct=!it&&at,wt=getTooltipTextStyle(tt,nt),Et=wt.nameStyle,$t=wt.valueStyle;return nt==="richText"?(it?"":dt)+(at?"":wrapInlineNameRichText($,vt,Et))+(ot?"":wrapInlineValueRichText($,yt,xt,Ct,$t)):wrapBlockHTML((it?"":dt)+(at?"":wrapInlineNameHTML(vt,!it,Et))+(ot?"":wrapInlineValueHTML(yt,xt,Ct,$t)),et)}}function buildTooltipMarkup($,_e,et,tt,nt,at){if(!!$){var ot=getBuilder($),it={useUTC:nt,renderMode:et,orderMode:tt,markupStyleCreator:_e,valueFormatter:$.valueFormatter};return ot(it,$,0,at)}}function getGap($){return{html:HTML_GAPS[$],richText:RICH_TEXT_GAPS[$]}}function wrapBlockHTML($,_e){var et='<div style="clear:both"></div>',tt="margin: "+_e+"px 0 0";return'<div style="'+tt+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+$+et+"</div>"}function wrapInlineNameHTML($,_e,et){var tt=_e?"margin-left:2px":"";return'<span style="'+et+";"+tt+'">'+encodeHTML($)+"</span>"}function wrapInlineValueHTML($,_e,et,tt){var nt=et?"10px":"20px",at=_e?"float:right;margin-left:"+nt:"";return $=isArray$1($)?$:[$],'<span style="'+at+";"+tt+'">'+map$1($,function(ot){return encodeHTML(ot)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText($,_e,et){return $.markupStyleCreator.wrapRichTextStyle(_e,et)}function wrapInlineValueRichText($,_e,et,tt,nt){var at=[nt],ot=tt?10:20;return et&&at.push({padding:[0,0,0,ot],align:"right"}),$.markupStyleCreator.wrapRichTextStyle(isArray$1(_e)?_e.join("  "):_e,at)}function retrieveVisualColorForTooltipMarker($,_e){var et=$.getData().getItemVisual(_e,"style"),tt=et[$.visualDrawType];return convertToColorString(tt)}function getPaddingFromTooltipModel($,_e){var et=$.get("padding");return et!=null?et:_e==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function $(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return $.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},$.prototype.makeTooltipMarker=function(_e,et,tt){var nt=tt==="richText"?this._generateStyleName():null,at=getTooltipMarker({color:et,type:_e,renderMode:tt,markerId:nt});return isString(at)?at:(this.richTextStyles[nt]=at.style,at.content)},$.prototype.wrapRichTextStyle=function(_e,et){var tt={};isArray$1(et)?each$f(et,function(at){return extend(tt,at)}):extend(tt,et);var nt=this._generateStyleName();return this.richTextStyles[nt]=tt,"{"+nt+"|"+_e+"}"},$}();function defaultSeriesFormatTooltip($){var _e=$.series,et=$.dataIndex,tt=$.multipleSeries,nt=_e.getData(),at=nt.mapDimensionsAll("defaultedTooltip"),ot=at.length,it=_e.getRawValue(et),st=isArray$1(it),ut=retrieveVisualColorForTooltipMarker(_e,et),ft,dt,vt,gt;if(ot>1||st&&!ot){var yt=formatTooltipArrayValue(it,_e,et,at,ut);ft=yt.inlineValues,dt=yt.inlineValueTypes,vt=yt.blocks,gt=yt.inlineValues[0]}else if(ot){var xt=nt.getDimensionInfo(at[0]);gt=ft=retrieveRawValue(nt,et,at[0]),dt=xt.type}else gt=ft=st?it[0]:it;var Ct=isNameSpecified(_e),wt=Ct&&_e.name||"",Et=nt.getName(et),$t=tt?wt:Et;return createTooltipMarkup("section",{header:wt,noHeader:tt||!Ct,sortParam:gt,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:ut,name:$t,noName:!trim$1($t),value:ft,valueType:dt})].concat(vt||[])})}function formatTooltipArrayValue($,_e,et,tt,nt){var at=_e.getData(),ot=reduce($,function(dt,vt,gt){var yt=at.getDimensionInfo(gt);return dt=dt||yt&&yt.tooltip!==!1&&yt.displayName!=null},!1),it=[],st=[],ut=[];tt.length?each$f(tt,function(dt){ft(retrieveRawValue(at,et,dt),dt)}):each$f($,ft);function ft(dt,vt){var gt=at.getDimensionInfo(vt);!gt||gt.otherDims.tooltip===!1||(ot?ut.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:nt,name:gt.displayName,value:dt,valueType:gt.type})):(it.push(dt),st.push(gt.type)))}return{inlineValues:it,inlineValueTypes:st,blocks:ut}}var inner$k=makeInner();function getSelectionKey($,_e){return $.getName(_e)||$.getId(_e)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et._selectedDataIndicesMap={},et}return _e.prototype.init=function(et,tt,nt){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(et,nt);var at=inner$k(this).sourceManager=new SourceManager(this);at.prepareSource();var ot=this.getInitialData(et,nt);wrapData(ot,this),this.dataTask.context.data=ot,inner$k(this).dataBeforeProcessed=ot,autoSeriesName(this),this._initSelectedMapFromData(ot)},_e.prototype.mergeDefaultAndTheme=function(et,tt){var nt=fetchLayoutMode(this),at=nt?getLayoutParams(et):{},ot=this.subType;ComponentModel$1.hasClass(ot)&&(ot+="Series"),merge(et,tt.getTheme().get(this.subType)),merge(et,this.getDefaultOption()),defaultEmphasis(et,"label",["show"]),this.fillDataTextStyle(et.data),nt&&mergeLayoutParam(et,at,nt)},_e.prototype.mergeOption=function(et,tt){et=merge(this.option,et,!0),this.fillDataTextStyle(et.data);var nt=fetchLayoutMode(this);nt&&mergeLayoutParam(this.option,et,nt);var at=inner$k(this).sourceManager;at.dirty(),at.prepareSource();var ot=this.getInitialData(et,tt);wrapData(ot,this),this.dataTask.dirty(),this.dataTask.context.data=ot,inner$k(this).dataBeforeProcessed=ot,autoSeriesName(this),this._initSelectedMapFromData(ot)},_e.prototype.fillDataTextStyle=function(et){if(et&&!isTypedArray(et))for(var tt=["show"],nt=0;nt<et.length;nt++)et[nt]&&et[nt].label&&defaultEmphasis(et[nt],"label",tt)},_e.prototype.getInitialData=function(et,tt){},_e.prototype.appendData=function(et){var tt=this.getRawData();tt.appendData(et.data)},_e.prototype.getData=function(et){var tt=getCurrentTask(this);if(tt){var nt=tt.context.data;return et==null?nt:nt.getLinkedData(et)}else return inner$k(this).data},_e.prototype.getAllData=function(){var et=this.getData();return et&&et.getLinkedDataAll?et.getLinkedDataAll():[{data:et}]},_e.prototype.setData=function(et){var tt=getCurrentTask(this);if(tt){var nt=tt.context;nt.outputData=et,tt!==this.dataTask&&(nt.data=et)}inner$k(this).data=et},_e.prototype.getEncode=function(){var et=this.get("encode",!0);if(et)return createHashMap(et)},_e.prototype.getSourceManager=function(){return inner$k(this).sourceManager},_e.prototype.getSource=function(){return this.getSourceManager().getSource()},_e.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},_e.prototype.getColorBy=function(){var et=this.get("colorBy");return et||"series"},_e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},_e.prototype.getBaseAxis=function(){var et=this.coordinateSystem;return et&&et.getBaseAxis&&et.getBaseAxis()},_e.prototype.formatTooltip=function(et,tt,nt){return defaultSeriesFormatTooltip({series:this,dataIndex:et,multipleSeries:tt})},_e.prototype.isAnimationEnabled=function(){var et=this.ecModel;if(env$1.node&&!(et&&et.ssr))return!1;var tt=this.getShallow("animation");return tt&&this.getData().count()>this.getShallow("animationThreshold")&&(tt=!1),!!tt},_e.prototype.restoreData=function(){this.dataTask.dirty()},_e.prototype.getColorFromPalette=function(et,tt,nt){var at=this.ecModel,ot=PaletteMixin.prototype.getColorFromPalette.call(this,et,tt,nt);return ot||(ot=at.getColorFromPalette(et,tt,nt)),ot},_e.prototype.coordDimToDataDim=function(et){return this.getRawData().mapDimensionsAll(et)},_e.prototype.getProgressive=function(){return this.get("progressive")},_e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},_e.prototype.select=function(et,tt){this._innerSelect(this.getData(tt),et)},_e.prototype.unselect=function(et,tt){var nt=this.option.selectedMap;if(!!nt){var at=this.option.selectedMode,ot=this.getData(tt);if(at==="series"||nt==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var it=0;it<et.length;it++){var st=et[it],ut=getSelectionKey(ot,st);nt[ut]=!1,this._selectedDataIndicesMap[ut]=-1}}},_e.prototype.toggleSelect=function(et,tt){for(var nt=[],at=0;at<et.length;at++)nt[0]=et[at],this.isSelected(et[at],tt)?this.unselect(nt,tt):this.select(nt,tt)},_e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var et=this._selectedDataIndicesMap,tt=keys(et),nt=[],at=0;at<tt.length;at++){var ot=et[tt[at]];ot>=0&&nt.push(ot)}return nt},_e.prototype.isSelected=function(et,tt){var nt=this.option.selectedMap;if(!nt)return!1;var at=this.getData(tt);return(nt==="all"||nt[getSelectionKey(at,et)])&&!at.getItemModel(et).get(["select","disabled"])},_e.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var et=this.option.universalTransition;return et?et===!0?!0:et&&et.enabled:!1},_e.prototype._innerSelect=function(et,tt){var nt,at,ot=this.option,it=ot.selectedMode,st=tt.length;if(!(!it||!st)){if(it==="series")ot.selectedMap="all";else if(it==="multiple"){isObject$3(ot.selectedMap)||(ot.selectedMap={});for(var ut=ot.selectedMap,ft=0;ft<st;ft++){var dt=tt[ft],vt=getSelectionKey(et,dt);ut[vt]=!0,this._selectedDataIndicesMap[vt]=et.getRawIndex(dt)}}else if(it==="single"||it===!0){var gt=tt[st-1],vt=getSelectionKey(et,gt);ot.selectedMap=(nt={},nt[vt]=!0,nt),this._selectedDataIndicesMap=(at={},at[vt]=et.getRawIndex(gt),at)}}},_e.prototype._initSelectedMapFromData=function(et){if(!this.option.selectedMap){var tt=[];et.hasItemOption&&et.each(function(nt){var at=et.getRawDataItem(nt);at&&at.selected&&tt.push(nt)}),tt.length>0&&this._innerSelect(et,tt)}},_e.registerClass=function(et){return ComponentModel$1.registerClass(et)},_e.protoInitialize=function(){var et=_e.prototype;et.type="series.__base__",et.seriesIndex=0,et.ignoreStyleOnData=!1,et.hasSymbolVisual=!1,et.defaultSymbol="circle",et.visualStyleAccessPath="itemStyle",et.visualDrawType="fill"}(),_e}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName($){var _e=$.name;isNameSpecified($)||($.name=getSeriesAutoName($)||_e)}function getSeriesAutoName($){var _e=$.getRawData(),et=_e.mapDimensionsAll("seriesName"),tt=[];return each$f(et,function(nt){var at=_e.getDimensionInfo(nt);at.displayName&&tt.push(at.displayName)}),tt.join(" ")}function dataTaskCount($){return $.model.getRawData().count()}function dataTaskReset($){var _e=$.model;return _e.setData(_e.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress($,_e){_e.outputData&&$.end>_e.outputData.count()&&_e.model.getRawData().cloneShallow(_e.outputData)}function wrapData($,_e){each$f(concatArray($.CHANGABLE_METHODS,$.DOWNSAMPLE_METHODS),function(et){$.wrapMethod(et,curry$1(onDataChange,_e))})}function onDataChange($,_e){var et=getCurrentTask($);return et&&et.setOutputEnd((_e||this).count()),_e}function getCurrentTask($){var _e=($.ecModel||{}).scheduler,et=_e&&_e.getPipeline($.uid);if(et){var tt=et.currentTask;if(tt){var nt=tt.agentStubMap;nt&&(tt=nt.get($.uid))}return tt}}var SeriesModel$1=SeriesModel,ComponentView=function(){function $(){this.group=new Group$4,this.uid=getUID("viewComponent")}return $.prototype.init=function(_e,et){},$.prototype.render=function(_e,et,tt,nt){},$.prototype.dispose=function(_e,et){},$.prototype.updateView=function(_e,et,tt,nt){},$.prototype.updateLayout=function(_e,et,tt,nt){},$.prototype.updateVisual=function(_e,et,tt,nt){},$.prototype.toggleBlurSeries=function(_e,et,tt){},$.prototype.eachRendered=function(_e){var et=this.group;et&&et.traverse(_e)},$}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);var ComponentView$1=ComponentView;function createRenderPlanner(){var $=makeInner();return function(_e){var et=$(_e),tt=_e.pipelineContext,nt=!!et.large,at=!!et.progressiveRender,ot=et.large=!!(tt&&tt.large),it=et.progressiveRender=!!(tt&&tt.progressiveRender);return(nt!==ot||at!==it)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function $(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return $.prototype.init=function(_e,et){},$.prototype.render=function(_e,et,tt,nt){},$.prototype.highlight=function(_e,et,tt,nt){var at=_e.getData(nt&&nt.dataType);!at||toggleHighlight(at,nt,"emphasis")},$.prototype.downplay=function(_e,et,tt,nt){var at=_e.getData(nt&&nt.dataType);!at||toggleHighlight(at,nt,"normal")},$.prototype.remove=function(_e,et){this.group.removeAll()},$.prototype.dispose=function(_e,et){},$.prototype.updateView=function(_e,et,tt,nt){this.render(_e,et,tt,nt)},$.prototype.updateLayout=function(_e,et,tt,nt){this.render(_e,et,tt,nt)},$.prototype.updateVisual=function(_e,et,tt,nt){this.render(_e,et,tt,nt)},$.prototype.eachRendered=function(_e){traverseElements(this.group,_e)},$.markUpdateMethod=function(_e,et){inner$j(_e).updateMethod=et},$.protoInitialize=function(){var _e=$.prototype;_e.type="chart"}(),$}();function elSetState($,_e,et){$&&isHighDownDispatcher($)&&(_e==="emphasis"?enterEmphasis:leaveEmphasis)($,et)}function toggleHighlight($,_e,et){var tt=queryDataIndex($,_e),nt=_e&&_e.highlightKey!=null?getHighlightDigit(_e.highlightKey):null;tt!=null?each$f(normalizeToArray(tt),function(at){elSetState($.getItemGraphicEl(at),et,nt)}):$.eachItemGraphicEl(function(at){elSetState(at,et,nt)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan($){return renderPlanner($.model)}function renderTaskReset($){var _e=$.model,et=$.ecModel,tt=$.api,nt=$.payload,at=_e.pipelineContext.progressiveRender,ot=$.view,it=nt&&inner$j(nt).updateMethod,st=at?"incrementalPrepareRender":it&&ot[it]?it:"render";return st!=="render"&&ot[st](_e,et,tt,nt),progressMethodMap[st]}var progressMethodMap={incrementalPrepareRender:{progress:function($,_e){_e.view.incrementalRender($,_e.model,_e.ecModel,_e.api,_e.payload)}},render:{forceFirstProgress:!0,progress:function($,_e){_e.view.render(_e.model,_e.ecModel,_e.api,_e.payload)}}},ChartView$1=ChartView,ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle($,_e,et){var tt,nt=0,at=0,ot=null,it,st,ut,ft;_e=_e||0;function dt(){at=new Date().getTime(),ot=null,$.apply(st,ut||[])}var vt=function(){for(var gt=[],yt=0;yt<arguments.length;yt++)gt[yt]=arguments[yt];tt=new Date().getTime(),st=this,ut=gt;var xt=ft||_e,Ct=ft||et;ft=null,it=tt-(Ct?nt:at)-xt,clearTimeout(ot),Ct?ot=setTimeout(dt,xt):it>=0?dt():ot=setTimeout(dt,-it),nt=tt};return vt.clear=function(){ot&&(clearTimeout(ot),ot=null)},vt.debounceNextCall=function(gt){ft=gt},vt}function createOrUpdate($,_e,et,tt){var nt=$[_e];if(!!nt){var at=nt[ORIGIN_METHOD]||nt,ot=nt[THROTTLE_TYPE],it=nt[RATE];if(it!==et||ot!==tt){if(et==null||!tt)return $[_e]=at;nt=$[_e]=throttle(at,et,tt==="debounce"),nt[ORIGIN_METHOD]=at,nt[THROTTLE_TYPE]=tt,nt[RATE]=et}return nt}}function clear$1($,_e){var et=$[_e];et&&et[ORIGIN_METHOD]&&(et.clear&&et.clear(),$[_e]=et[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper($,_e){var et=$.visualStyleMapper||defaultStyleMappers[_e];return et||(console.warn("Unkown style type '"+_e+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey($,_e){var et=$.visualDrawType||defaultColorKey[_e];return et||(console.warn("Unkown style type '"+_e+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function($,_e){var et=$.getData(),tt=$.visualStyleAccessPath||"itemStyle",nt=$.getModel(tt),at=getStyleMapper($,tt),ot=at(nt),it=nt.getShallow("decal");it&&(et.setVisual("decal",it),it.dirty=!0);var st=getDefaultColorKey($,tt),ut=ot[st],ft=isFunction(ut)?ut:null,dt=ot.fill==="auto"||ot.stroke==="auto";if(!ot[st]||ft||dt){var vt=$.getColorFromPalette($.name,null,_e.getSeriesCount());ot[st]||(ot[st]=vt,et.setVisual("colorFromPalette",!0)),ot.fill=ot.fill==="auto"||isFunction(ot.fill)?vt:ot.fill,ot.stroke=ot.stroke==="auto"||isFunction(ot.stroke)?vt:ot.stroke}if(et.setVisual("style",ot),et.setVisual("drawType",st),!_e.isSeriesFiltered($)&&ft)return et.setVisual("colorFromPalette",!1),{dataEach:function(gt,yt){var xt=$.getDataParams(yt),Ct=extend({},ot);Ct[st]=ft(xt),gt.setItemVisual(yt,"style",Ct)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function($,_e){if(!($.ignoreStyleOnData||_e.isSeriesFiltered($))){var et=$.getData(),tt=$.visualStyleAccessPath||"itemStyle",nt=getStyleMapper($,tt),at=et.getVisual("drawType");return{dataEach:et.hasItemOption?function(ot,it){var st=ot.getRawDataItem(it);if(st&&st[tt]){sharedModel.option=st[tt];var ut=nt(sharedModel),ft=ot.ensureUniqueItemVisual(it,"style");extend(ft,ut),sharedModel.option.decal&&(ot.setItemVisual(it,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),at in ut&&ot.setItemVisual(it,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function($){var _e=createHashMap();$.eachSeries(function(et){var tt=et.getColorBy();if(!et.isColorBySeries()){var nt=et.type+"-"+tt,at=_e.get(nt);at||(at={},_e.set(nt,at)),inner$i(et).scope=at}}),$.eachSeries(function(et){if(!(et.isColorBySeries()||$.isSeriesFiltered(et))){var tt=et.getRawData(),nt={},at=et.getData(),ot=inner$i(et).scope,it=et.visualStyleAccessPath||"itemStyle",st=getDefaultColorKey(et,it);at.each(function(ut){var ft=at.getRawIndex(ut);nt[ft]=ut}),tt.each(function(ut){var ft=nt[ut],dt=at.getItemVisual(ft,"colorFromPalette");if(dt){var vt=at.ensureUniqueItemVisual(ft,"style"),gt=tt.getName(ut)||ut+"",yt=tt.count();vt[st]=et.getColorFromPalette(gt,ot,yt)}})}})}},PI$5=Math.PI;function defaultLoading($,_e){_e=_e||{},defaults(_e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var et=new Group$4,tt=new Rect$3({style:{fill:_e.maskColor},zlevel:_e.zlevel,z:1e4});et.add(tt);var nt=new ZRText$1({style:{text:_e.text,fill:_e.textColor,fontSize:_e.fontSize,fontWeight:_e.fontWeight,fontStyle:_e.fontStyle,fontFamily:_e.fontFamily},zlevel:_e.zlevel,z:10001}),at=new Rect$3({style:{fill:"none"},textContent:nt,textConfig:{position:"right",distance:10},zlevel:_e.zlevel,z:10001});et.add(at);var ot;return _e.showSpinner&&(ot=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:_e.spinnerRadius},style:{stroke:_e.color,lineCap:"round",lineWidth:_e.lineWidth},zlevel:_e.zlevel,z:10001}),ot.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),ot.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),et.add(ot)),et.resize=function(){var it=nt.getBoundingRect().width,st=_e.showSpinner?_e.spinnerRadius:0,ut=($.getWidth()-st*2-(_e.showSpinner&&it?10:0)-it)/2-(_e.showSpinner&&it?0:5+it/2)+(_e.showSpinner?0:it/2)+(it?0:st),ft=$.getHeight()/2;_e.showSpinner&&ot.setShape({cx:ut,cy:ft}),at.setShape({x:ut-st,y:ft-st,width:st*2,height:st*2}),tt.setShape({x:0,y:0,width:$.getWidth(),height:$.getHeight()})},et.resize(),et}var Scheduler=function(){function $(_e,et,tt,nt){this._stageTaskMap=createHashMap(),this.ecInstance=_e,this.api=et,tt=this._dataProcessorHandlers=tt.slice(),nt=this._visualHandlers=nt.slice(),this._allHandlers=tt.concat(nt)}return $.prototype.restoreData=function(_e,et){_e.restoreData(et),this._stageTaskMap.each(function(tt){var nt=tt.overallTask;nt&&nt.dirty()})},$.prototype.getPerformArgs=function(_e,et){if(!!_e.__pipeline){var tt=this._pipelineMap.get(_e.__pipeline.id),nt=tt.context,at=!et&&tt.progressiveEnabled&&(!nt||nt.progressiveRender)&&_e.__idxInPipeline>tt.blockIndex,ot=at?tt.step:null,it=nt&&nt.modDataCount,st=it!=null?Math.ceil(it/ot):null;return{step:ot,modBy:st,modDataCount:it}}},$.prototype.getPipeline=function(_e){return this._pipelineMap.get(_e)},$.prototype.updateStreamModes=function(_e,et){var tt=this._pipelineMap.get(_e.uid),nt=_e.getData(),at=nt.count(),ot=tt.progressiveEnabled&&et.incrementalPrepareRender&&at>=tt.threshold,it=_e.get("large")&&at>=_e.get("largeThreshold"),st=_e.get("progressiveChunkMode")==="mod"?at:null;_e.pipelineContext=tt.context={progressiveRender:ot,modDataCount:st,large:it}},$.prototype.restorePipelines=function(_e){var et=this,tt=et._pipelineMap=createHashMap();_e.eachSeries(function(nt){var at=nt.getProgressive(),ot=nt.uid;tt.set(ot,{id:ot,head:null,tail:null,threshold:nt.getProgressiveThreshold(),progressiveEnabled:at&&!(nt.preventIncremental&&nt.preventIncremental()),blockIndex:-1,step:Math.round(at||700),count:0}),et._pipe(nt,nt.dataTask)})},$.prototype.prepareStageTasks=function(){var _e=this._stageTaskMap,et=this.api.getModel(),tt=this.api;each$f(this._allHandlers,function(nt){var at=_e.get(nt.uid)||_e.set(nt.uid,{}),ot="";assert(!(nt.reset&&nt.overallReset),ot),nt.reset&&this._createSeriesStageTask(nt,at,et,tt),nt.overallReset&&this._createOverallStageTask(nt,at,et,tt)},this)},$.prototype.prepareView=function(_e,et,tt,nt){var at=_e.renderTask,ot=at.context;ot.model=et,ot.ecModel=tt,ot.api=nt,at.__block=!_e.incrementalPrepareRender,this._pipe(et,at)},$.prototype.performDataProcessorTasks=function(_e,et){this._performStageTasks(this._dataProcessorHandlers,_e,et,{block:!0})},$.prototype.performVisualTasks=function(_e,et,tt){this._performStageTasks(this._visualHandlers,_e,et,tt)},$.prototype._performStageTasks=function(_e,et,tt,nt){nt=nt||{};var at=!1,ot=this;each$f(_e,function(st,ut){if(!(nt.visualType&&nt.visualType!==st.visualType)){var ft=ot._stageTaskMap.get(st.uid),dt=ft.seriesTaskMap,vt=ft.overallTask;if(vt){var gt,yt=vt.agentStubMap;yt.each(function(Ct){it(nt,Ct)&&(Ct.dirty(),gt=!0)}),gt&&vt.dirty(),ot.updatePayload(vt,tt);var xt=ot.getPerformArgs(vt,nt.block);yt.each(function(Ct){Ct.perform(xt)}),vt.perform(xt)&&(at=!0)}else dt&&dt.each(function(Ct,wt){it(nt,Ct)&&Ct.dirty();var Et=ot.getPerformArgs(Ct,nt.block);Et.skip=!st.performRawSeries&&et.isSeriesFiltered(Ct.context.model),ot.updatePayload(Ct,tt),Ct.perform(Et)&&(at=!0)})}});function it(st,ut){return st.setDirty&&(!st.dirtyMap||st.dirtyMap.get(ut.__pipeline.id))}this.unfinished=at||this.unfinished},$.prototype.performSeriesTasks=function(_e){var et;_e.eachSeries(function(tt){et=tt.dataTask.perform()||et}),this.unfinished=et||this.unfinished},$.prototype.plan=function(){this._pipelineMap.each(function(_e){var et=_e.tail;do{if(et.__block){_e.blockIndex=et.__idxInPipeline;break}et=et.getUpstream()}while(et)})},$.prototype.updatePayload=function(_e,et){et!=="remain"&&(_e.context.payload=et)},$.prototype._createSeriesStageTask=function(_e,et,tt,nt){var at=this,ot=et.seriesTaskMap,it=et.seriesTaskMap=createHashMap(),st=_e.seriesType,ut=_e.getTargetSeries;_e.createOnAllSeries?tt.eachRawSeries(ft):st?tt.eachRawSeriesByType(st,ft):ut&&ut(tt,nt).each(ft);function ft(dt){var vt=dt.uid,gt=it.set(vt,ot&&ot.get(vt)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));gt.context={model:dt,ecModel:tt,api:nt,useClearVisual:_e.isVisual&&!_e.isLayout,plan:_e.plan,reset:_e.reset,scheduler:at},at._pipe(dt,gt)}},$.prototype._createOverallStageTask=function(_e,et,tt,nt){var at=this,ot=et.overallTask=et.overallTask||createTask({reset:overallTaskReset});ot.context={ecModel:tt,api:nt,overallReset:_e.overallReset,scheduler:at};var it=ot.agentStubMap,st=ot.agentStubMap=createHashMap(),ut=_e.seriesType,ft=_e.getTargetSeries,dt=!0,vt=!1,gt="";assert(!_e.createOnAllSeries,gt),ut?tt.eachRawSeriesByType(ut,yt):ft?ft(tt,nt).each(yt):(dt=!1,each$f(tt.getSeries(),yt));function yt(xt){var Ct=xt.uid,wt=st.set(Ct,it&&it.get(Ct)||(vt=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));wt.context={model:xt,overallProgress:dt},wt.agent=ot,wt.__block=dt,at._pipe(xt,wt)}vt&&ot.dirty()},$.prototype._pipe=function(_e,et){var tt=_e.uid,nt=this._pipelineMap.get(tt);!nt.head&&(nt.head=et),nt.tail&&nt.tail.pipe(et),nt.tail=et,et.__idxInPipeline=nt.count++,et.__pipeline=nt},$.wrapStageHandler=function(_e,et){return isFunction(_e)&&(_e={overallReset:_e,seriesType:detectSeriseType(_e)}),_e.uid=getUID("stageHandler"),et&&(_e.visualType=et),_e},$}();function overallTaskReset($){$.overallReset($.ecModel,$.api,$.payload)}function stubReset($){return $.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan($){return $.plan?$.plan($.model,$.ecModel,$.api,$.payload):null}function seriesTaskReset($){$.useClearVisual&&$.data.clearAllVisual();var _e=$.resetDefines=normalizeToArray($.reset($.model,$.ecModel,$.api,$.payload));return _e.length>1?map$1(_e,function(et,tt){return makeSeriesTaskProgress(tt)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress($){return function(_e,et){var tt=et.data,nt=et.resetDefines[$];if(nt&&nt.dataEach)for(var at=_e.start;at<_e.end;at++)nt.dataEach(tt,at);else nt&&nt.progress&&nt.progress(_e,tt)}}function seriesTaskCount($){return $.data.count()}function detectSeriseType($){seriesType=null;try{$(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function($){seriesType=$};ecModelMock.eachComponent=function($){$.mainType==="series"&&$.subType&&(seriesType=$.subType)};function mockMethods($,_e){for(var et in _e.prototype)$[et]=noop}var Scheduler$1=Scheduler,colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]},contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var darkTheme=theme,ECEventProcessor=function(){function $(){}return $.prototype.normalizeQuery=function(_e){var et={},tt={},nt={};if(isString(_e)){var at=parseClassType(_e);et.mainType=at.main||null,et.subType=at.sub||null}else{var ot=["Index","Name","Id"],it={name:1,dataIndex:1,dataType:1};each$f(_e,function(st,ut){for(var ft=!1,dt=0;dt<ot.length;dt++){var vt=ot[dt],gt=ut.lastIndexOf(vt);if(gt>0&&gt===ut.length-vt.length){var yt=ut.slice(0,gt);yt!=="data"&&(et.mainType=yt,et[vt.toLowerCase()]=st,ft=!0)}}it.hasOwnProperty(ut)&&(tt[ut]=st,ft=!0),ft||(nt[ut]=st)})}return{cptQuery:et,dataQuery:tt,otherQuery:nt}},$.prototype.filter=function(_e,et){var tt=this.eventInfo;if(!tt)return!0;var nt=tt.targetEl,at=tt.packedEvent,ot=tt.model,it=tt.view;if(!ot||!it)return!0;var st=et.cptQuery,ut=et.dataQuery;return ft(st,ot,"mainType")&&ft(st,ot,"subType")&&ft(st,ot,"index","componentIndex")&&ft(st,ot,"name")&&ft(st,ot,"id")&&ft(ut,at,"name")&&ft(ut,at,"dataIndex")&&ft(ut,at,"dataType")&&(!it.filterForExposedEvent||it.filterForExposedEvent(_e,et.otherQuery,nt,at));function ft(dt,vt,gt,yt){return dt[gt]==null||vt[yt||gt]===dt[gt]}},$.prototype.afterTrigger=function(){this.eventInfo=null},$}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function($,_e){var et=$.getData();if($.legendIcon&&et.setVisual("legendIcon",$.legendIcon),!$.hasSymbolVisual)return;for(var tt={},nt={},at=!1,ot=0;ot<SYMBOL_PROPS_WITH_CB.length;ot++){var it=SYMBOL_PROPS_WITH_CB[ot],st=$.get(it);isFunction(st)?(at=!0,nt[it]=st):tt[it]=st}if(tt.symbol=tt.symbol||$.defaultSymbol,et.setVisual(extend({legendIcon:$.legendIcon||tt.symbol,symbolKeepAspect:$.get("symbolKeepAspect")},tt)),_e.isSeriesFiltered($))return;var ut=keys(nt);function ft(dt,vt){for(var gt=$.getRawValue(vt),yt=$.getDataParams(vt),xt=0;xt<ut.length;xt++){var Ct=ut[xt];dt.setItemVisual(vt,Ct,nt[Ct](gt,yt))}}return{dataEach:at?ft:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function($,_e){if(!$.hasSymbolVisual||_e.isSeriesFiltered($))return;var et=$.getData();function tt(nt,at){for(var ot=nt.getItemModel(at),it=0;it<SYMBOL_PROPS.length;it++){var st=SYMBOL_PROPS[it],ut=ot.getShallow(st,!0);ut!=null&&nt.setItemVisual(at,st,ut)}}return{dataEach:et.hasItemOption?tt:null}}};function getItemVisualFromData($,_e,et){switch(et){case"color":var tt=$.getItemVisual(_e,"style");return tt[$.getVisual("drawType")];case"opacity":return $.getItemVisual(_e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return $.getItemVisual(_e,et)}}function getVisualFromData($,_e){switch(_e){case"color":var et=$.getVisual("style");return et[$.getVisual("drawType")];case"opacity":return $.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return $.getVisual(_e)}}function setItemVisualFromData($,_e,et,tt){switch(et){case"color":var nt=$.ensureUniqueItemVisual(_e,"style");nt[$.getVisual("drawType")]=tt,$.setItemVisual(_e,"colorFromPalette",!1);break;case"opacity":$.ensureUniqueItemVisual(_e,"style").opacity=tt;break;case"symbol":case"symbolSize":case"liftZ":$.setItemVisual(_e,et,tt);break}}function createLegacyDataSelectAction($,_e){function et(tt,nt){var at=[];return tt.eachComponent({mainType:"series",subType:$,query:nt},function(ot){at.push(ot.seriesIndex)}),at}each$f([[$+"ToggleSelect","toggleSelect"],[$+"Select","select"],[$+"UnSelect","unselect"]],function(tt){_e(tt[0],function(nt,at,ot){nt=extend({},nt),ot.dispatchAction(extend(nt,{type:tt[1],seriesIndex:et(at,nt)}))})})}function handleSeriesLegacySelectEvents($,_e,et,tt,nt){var at=$+_e;et.isSilent(at)||tt.eachComponent({mainType:"series",subType:"pie"},function(ot){for(var it=ot.seriesIndex,st=ot.option.selectedMap,ut=nt.selected,ft=0;ft<ut.length;ft++)if(ut[ft].seriesIndex===it){var dt=ot.getData(),vt=queryDataIndex(dt,nt.fromActionPayload);et.trigger(at,{type:at,seriesId:ot.id,name:isArray$1(vt)?dt.getName(vt[0]):dt.getName(vt),selected:isString(st)?st:extend({},st)})}})}function handleLegacySelectEvents($,_e,et){$.on("selectchanged",function(tt){var nt=et.getModel();tt.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",_e,nt,tt),handleSeriesLegacySelectEvents("pie","selectchanged",_e,nt,tt)):tt.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",_e,nt,tt),handleSeriesLegacySelectEvents("pie","selected",_e,nt,tt)):tt.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",_e,nt,tt),handleSeriesLegacySelectEvents("pie","unselected",_e,nt,tt))})}function findEventDispatcher($,_e,et){for(var tt;$&&!(_e($)&&(tt=$,et));)$=$.__hostTarget||$.parent;return tt}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function $(){this._id="__ec_inner_"+wmUniqueIndex++}return $.prototype.get=function(_e){return this._guard(_e)[this._id]},$.prototype.set=function(_e,et){var tt=this._guard(_e);return supportDefineProperty?Object.defineProperty(tt,this._id,{value:et,enumerable:!1,configurable:!0}):tt[this._id]=et,this},$.prototype.delete=function(_e){return this.has(_e)?(delete this._guard(_e)[this._id],!0):!1},$.prototype.has=function(_e){return!!this._guard(_e)[this._id]},$.prototype._guard=function(_e){if(_e!==Object(_e))throw TypeError("Value of WeakMap is not a non-null object.");return _e},$}(),WeakMap$2=WeakMap$1,Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,_e){var et=_e.cx,tt=_e.cy,nt=_e.width/2,at=_e.height/2;$.moveTo(et,tt-at),$.lineTo(et+nt,tt+at),$.lineTo(et-nt,tt+at),$.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,_e){var et=_e.cx,tt=_e.cy,nt=_e.width/2,at=_e.height/2;$.moveTo(et,tt-at),$.lineTo(et+nt,tt),$.lineTo(et,tt+at),$.lineTo(et-nt,tt),$.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function($,_e){var et=_e.x,tt=_e.y,nt=_e.width/5*3,at=Math.max(nt,_e.height),ot=nt/2,it=ot*ot/(at-ot),st=tt-at+ot+it,ut=Math.asin(it/ot),ft=Math.cos(ut)*ot,dt=Math.sin(ut),vt=Math.cos(ut),gt=ot*.6,yt=ot*.7;$.moveTo(et-ft,st+it),$.arc(et,st,ot,Math.PI-ut,Math.PI*2+ut),$.bezierCurveTo(et+ft-dt*gt,st+it+vt*gt,et,tt-yt,et,tt),$.bezierCurveTo(et,tt-yt,et-ft+dt*gt,st+it+vt*gt,et-ft,st+it),$.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function($,_e){var et=_e.height,tt=_e.width,nt=_e.x,at=_e.y,ot=tt/3*2;$.moveTo(nt,at),$.lineTo(nt+ot,at+et),$.lineTo(nt,at+et/4*3),$.lineTo(nt-ot,at+et),$.lineTo(nt,at),$.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function($,_e,et,tt,nt){nt.x1=$,nt.y1=_e+tt/2,nt.x2=$+et,nt.y2=_e+tt/2},rect:function($,_e,et,tt,nt){nt.x=$,nt.y=_e,nt.width=et,nt.height=tt},roundRect:function($,_e,et,tt,nt){nt.x=$,nt.y=_e,nt.width=et,nt.height=tt,nt.r=Math.min(et,tt)/4},square:function($,_e,et,tt,nt){var at=Math.min(et,tt);nt.x=$,nt.y=_e,nt.width=at,nt.height=at},circle:function($,_e,et,tt,nt){nt.cx=$+et/2,nt.cy=_e+tt/2,nt.r=Math.min(et,tt)/2},diamond:function($,_e,et,tt,nt){nt.cx=$+et/2,nt.cy=_e+tt/2,nt.width=et,nt.height=tt},pin:function($,_e,et,tt,nt){nt.x=$+et/2,nt.y=_e+tt/2,nt.width=et,nt.height=tt},arrow:function($,_e,et,tt,nt){nt.x=$+et/2,nt.y=_e+tt/2,nt.width=et,nt.height=tt},triangle:function($,_e,et,tt,nt){nt.cx=$+et/2,nt.cy=_e+tt/2,nt.width=et,nt.height=tt}},symbolBuildProxies={};each$f(symbolCtors,function($,_e){symbolBuildProxies[_e]=new $});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function($,_e,et){var tt=calculateTextPosition($,_e,et),nt=this.shape;return nt&&nt.symbolType==="pin"&&_e.position==="inside"&&(tt.y=et.y+et.height*.4),tt},buildPath:function($,_e,et){var tt=_e.symbolType;if(tt!=="none"){var nt=symbolBuildProxies[tt];nt||(tt="rect",nt=symbolBuildProxies[tt]),symbolShapeMakers[tt](_e.x,_e.y,_e.width,_e.height,nt.shape),nt.buildPath($,nt.shape,et)}}});function symbolPathSetColor($,_e){if(this.type!=="image"){var et=this.style;this.__isEmptyBrush?(et.stroke=$,et.fill=_e||"#fff",et.lineWidth=2):this.shape.symbolType==="line"?et.stroke=$:et.fill=$,this.markRedraw()}}function createSymbol$1($,_e,et,tt,nt,at,ot){var it=$.indexOf("empty")===0;it&&($=$.substr(5,1).toLowerCase()+$.substr(6));var st;return $.indexOf("image://")===0?st=makeImage($.slice(8),new BoundingRect$1(_e,et,tt,nt),ot?"center":"cover"):$.indexOf("path://")===0?st=makePath($.slice(7),{},new BoundingRect$1(_e,et,tt,nt),ot?"center":"cover"):st=new SymbolClz$1({shape:{symbolType:$,x:_e,y:et,width:tt,height:nt}}),st.__isEmptyBrush=it,st.setColor=symbolPathSetColor,at&&st.setColor(at),st}function normalizeSymbolSize($){return isArray$1($)||($=[+$,+$]),[$[0]||0,$[1]||0]}function normalizeSymbolOffset($,_e){if($!=null)return isArray$1($)||($=[$,$]),[parsePercent($[0],_e[0])||0,parsePercent(retrieve2($[1],$[0]),_e[1])||0]}function isSafeNum($){return isFinite($)}function createLinearGradient($,_e,et){var tt=_e.x==null?0:_e.x,nt=_e.x2==null?1:_e.x2,at=_e.y==null?0:_e.y,ot=_e.y2==null?0:_e.y2;_e.global||(tt=tt*et.width+et.x,nt=nt*et.width+et.x,at=at*et.height+et.y,ot=ot*et.height+et.y),tt=isSafeNum(tt)?tt:0,nt=isSafeNum(nt)?nt:1,at=isSafeNum(at)?at:0,ot=isSafeNum(ot)?ot:0;var it=$.createLinearGradient(tt,at,nt,ot);return it}function createRadialGradient($,_e,et){var tt=et.width,nt=et.height,at=Math.min(tt,nt),ot=_e.x==null?.5:_e.x,it=_e.y==null?.5:_e.y,st=_e.r==null?.5:_e.r;_e.global||(ot=ot*tt+et.x,it=it*nt+et.y,st=st*at),ot=isSafeNum(ot)?ot:.5,it=isSafeNum(it)?it:.5,st=st>=0&&isSafeNum(st)?st:.5;var ut=$.createRadialGradient(ot,it,0,ot,it,st);return ut}function getCanvasGradient($,_e,et){for(var tt=_e.type==="radial"?createRadialGradient($,_e,et):createLinearGradient($,_e,et),nt=_e.colorStops,at=0;at<nt.length;at++)tt.addColorStop(nt[at].offset,nt[at].color);return tt}function isClipPathChanged($,_e){if($===_e||!$&&!_e)return!1;if(!$||!_e||$.length!==_e.length)return!0;for(var et=0;et<$.length;et++)if($[et]!==_e[et])return!0;return!1}function parseInt10($){return parseInt($,10)}function getSize$1($,_e,et){var tt=["width","height"][_e],nt=["clientWidth","clientHeight"][_e],at=["paddingLeft","paddingTop"][_e],ot=["paddingRight","paddingBottom"][_e];if(et[tt]!=null&&et[tt]!=="auto")return parseFloat(et[tt]);var it=document.defaultView.getComputedStyle($);return($[nt]||parseInt10(it[tt])||parseInt10($.style[tt]))-(parseInt10(it[at])||0)-(parseInt10(it[ot])||0)|0}function normalizeLineDash($,_e){return!$||$==="solid"||!(_e>0)?null:$==="dashed"?[4*_e,2*_e]:$==="dotted"?[_e]:isNumber($)?[$]:isArray$1($)?$:null}function getLineDash($){var _e=$.style,et=_e.lineDash&&_e.lineWidth>0&&normalizeLineDash(_e.lineDash,_e.lineWidth),tt=_e.lineDashOffset;if(et){var nt=_e.strokeNoScale&&$.getLineScale?$.getLineScale():1;nt&&nt!==1&&(et=map$1(et,function(at){return at/nt}),tt/=nt)}return[et,tt]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke($){var _e=$.stroke;return!(_e==null||_e==="none"||!($.lineWidth>0))}function isValidStrokeFillStyle($){return typeof $=="string"&&$!=="none"}function styleHasFill($){var _e=$.fill;return _e!=null&&_e!=="none"}function doFillPath($,_e){if(_e.fillOpacity!=null&&_e.fillOpacity!==1){var et=$.globalAlpha;$.globalAlpha=_e.fillOpacity*_e.opacity,$.fill(),$.globalAlpha=et}else $.fill()}function doStrokePath($,_e){if(_e.strokeOpacity!=null&&_e.strokeOpacity!==1){var et=$.globalAlpha;$.globalAlpha=_e.strokeOpacity*_e.opacity,$.stroke(),$.globalAlpha=et}else $.stroke()}function createCanvasPattern($,_e,et){var tt=createOrUpdateImage(_e.image,_e.__image,et);if(isImageReady(tt)){var nt=$.createPattern(tt,_e.repeat||"repeat");if(typeof DOMMatrix=="function"&&nt&&nt.setTransform){var at=new DOMMatrix;at.translateSelf(_e.x||0,_e.y||0),at.rotateSelf(0,0,(_e.rotation||0)*RADIAN_TO_DEGREE),at.scaleSelf(_e.scaleX||1,_e.scaleY||1),nt.setTransform(at)}return nt}}function brushPath($,_e,et,tt){var nt,at=styleHasStroke(et),ot=styleHasFill(et),it=et.strokePercent,st=it<1,ut=!_e.path;(!_e.silent||st)&&ut&&_e.createPathProxy();var ft=_e.path||pathProxyForDraw,dt=_e.__dirty;if(!tt){var vt=et.fill,gt=et.stroke,yt=ot&&!!vt.colorStops,xt=at&&!!gt.colorStops,Ct=ot&&!!vt.image,wt=at&&!!gt.image,Et=void 0,$t=void 0,It=void 0,Ot=void 0,Lt=void 0;(yt||xt)&&(Lt=_e.getBoundingRect()),yt&&(Et=dt?getCanvasGradient($,vt,Lt):_e.__canvasFillGradient,_e.__canvasFillGradient=Et),xt&&($t=dt?getCanvasGradient($,gt,Lt):_e.__canvasStrokeGradient,_e.__canvasStrokeGradient=$t),Ct&&(It=dt||!_e.__canvasFillPattern?createCanvasPattern($,vt,_e):_e.__canvasFillPattern,_e.__canvasFillPattern=It),wt&&(Ot=dt||!_e.__canvasStrokePattern?createCanvasPattern($,gt,_e):_e.__canvasStrokePattern,_e.__canvasStrokePattern=It),yt?$.fillStyle=Et:Ct&&(It?$.fillStyle=It:ot=!1),xt?$.strokeStyle=$t:wt&&(Ot?$.strokeStyle=Ot:at=!1)}var Ft=_e.getGlobalScale();ft.setScale(Ft[0],Ft[1],_e.segmentIgnoreThreshold);var zt,Gt;$.setLineDash&&et.lineDash&&(nt=getLineDash(_e),zt=nt[0],Gt=nt[1]);var jt=!0;(ut||dt&SHAPE_CHANGED_BIT)&&(ft.setDPR($.dpr),st?ft.setContext(null):(ft.setContext($),jt=!1),ft.reset(),_e.buildPath(ft,_e.shape,tt),ft.toStatic(),_e.pathUpdated()),jt&&ft.rebuildPath($,st?it:1),zt&&($.setLineDash(zt),$.lineDashOffset=Gt),tt||(et.strokeFirst?(at&&doStrokePath($,et),ot&&doFillPath($,et)):(ot&&doFillPath($,et),at&&doStrokePath($,et))),zt&&$.setLineDash([])}function brushImage($,_e,et){var tt=_e.__image=createOrUpdateImage(et.image,_e.__image,_e,_e.onload);if(!(!tt||!isImageReady(tt))){var nt=et.x||0,at=et.y||0,ot=_e.getWidth(),it=_e.getHeight(),st=tt.width/tt.height;if(ot==null&&it!=null?ot=it*st:it==null&&ot!=null?it=ot/st:ot==null&&it==null&&(ot=tt.width,it=tt.height),et.sWidth&&et.sHeight){var ut=et.sx||0,ft=et.sy||0;$.drawImage(tt,ut,ft,et.sWidth,et.sHeight,nt,at,ot,it)}else if(et.sx&&et.sy){var ut=et.sx,ft=et.sy,dt=ot-ut,vt=it-ft;$.drawImage(tt,ut,ft,dt,vt,nt,at,ot,it)}else $.drawImage(tt,nt,at,ot,it)}}function brushText($,_e,et){var tt,nt=et.text;if(nt!=null&&(nt+=""),nt){$.font=et.font||DEFAULT_FONT,$.textAlign=et.textAlign,$.textBaseline=et.textBaseline;var at=void 0,ot=void 0;$.setLineDash&&et.lineDash&&(tt=getLineDash(_e),at=tt[0],ot=tt[1]),at&&($.setLineDash(at),$.lineDashOffset=ot),et.strokeFirst?(styleHasStroke(et)&&$.strokeText(nt,et.x,et.y),styleHasFill(et)&&$.fillText(nt,et.x,et.y)):(styleHasFill(et)&&$.fillText(nt,et.x,et.y),styleHasStroke(et)&&$.strokeText(nt,et.x,et.y)),at&&$.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps($,_e,et,tt,nt){var at=!1;if(!tt&&(et=et||{},_e===et))return!1;if(tt||_e.opacity!==et.opacity){flushPathDrawn($,nt),at=!0;var ot=Math.max(Math.min(_e.opacity,1),0);$.globalAlpha=isNaN(ot)?DEFAULT_COMMON_STYLE.opacity:ot}(tt||_e.blend!==et.blend)&&(at||(flushPathDrawn($,nt),at=!0),$.globalCompositeOperation=_e.blend||DEFAULT_COMMON_STYLE.blend);for(var it=0;it<SHADOW_NUMBER_PROPS.length;it++){var st=SHADOW_NUMBER_PROPS[it];(tt||_e[st]!==et[st])&&(at||(flushPathDrawn($,nt),at=!0),$[st]=$.dpr*(_e[st]||0))}return(tt||_e.shadowColor!==et.shadowColor)&&(at||(flushPathDrawn($,nt),at=!0),$.shadowColor=_e.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),at}function bindPathAndTextCommonStyle($,_e,et,tt,nt){var at=getStyle(_e,nt.inHover),ot=tt?null:et&&getStyle(et,nt.inHover)||{};if(at===ot)return!1;var it=bindCommonProps($,at,ot,tt,nt);if((tt||at.fill!==ot.fill)&&(it||(flushPathDrawn($,nt),it=!0),isValidStrokeFillStyle(at.fill)&&($.fillStyle=at.fill)),(tt||at.stroke!==ot.stroke)&&(it||(flushPathDrawn($,nt),it=!0),isValidStrokeFillStyle(at.stroke)&&($.strokeStyle=at.stroke)),(tt||at.opacity!==ot.opacity)&&(it||(flushPathDrawn($,nt),it=!0),$.globalAlpha=at.opacity==null?1:at.opacity),_e.hasStroke()){var st=at.lineWidth,ut=st/(at.strokeNoScale&&_e.getLineScale?_e.getLineScale():1);$.lineWidth!==ut&&(it||(flushPathDrawn($,nt),it=!0),$.lineWidth=ut)}for(var ft=0;ft<STROKE_PROPS.length;ft++){var dt=STROKE_PROPS[ft],vt=dt[0];(tt||at[vt]!==ot[vt])&&(it||(flushPathDrawn($,nt),it=!0),$[vt]=at[vt]||dt[1])}return it}function bindImageStyle($,_e,et,tt,nt){return bindCommonProps($,getStyle(_e,nt.inHover),et&&getStyle(et,nt.inHover),tt,nt)}function setContextTransform($,_e){var et=_e.transform,tt=$.dpr||1;et?$.setTransform(tt*et[0],tt*et[1],tt*et[2],tt*et[3],tt*et[4],tt*et[5]):$.setTransform(tt,0,0,tt,0,0)}function updateClipStatus($,_e,et){for(var tt=!1,nt=0;nt<$.length;nt++){var at=$[nt];tt=tt||at.isZeroArea(),setContextTransform(_e,at),_e.beginPath(),at.buildPath(_e,at.shape),_e.clip()}et.allClipped=tt}function isTransformChanged($,_e){return $&&_e?$[0]!==_e[0]||$[1]!==_e[1]||$[2]!==_e[2]||$[3]!==_e[3]||$[4]!==_e[4]||$[5]!==_e[5]:!(!$&&!_e)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch($){var _e=styleHasFill($),et=styleHasStroke($);return!($.lineDash||!(+_e^+et)||_e&&typeof $.fill!="string"||et&&typeof $.stroke!="string"||$.strokePercent<1||$.strokeOpacity<1||$.fillOpacity<1)}function flushPathDrawn($,_e){_e.batchFill&&$.fill(),_e.batchStroke&&$.stroke(),_e.batchFill="",_e.batchStroke=""}function getStyle($,_e){return _e&&$.__hoverStyle||$.style}function brushSingle($,_e){brush$1($,_e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1($,_e,et,tt){var nt=_e.transform;if(!_e.shouldBePainted(et.viewWidth,et.viewHeight,!1,!1)){_e.__dirty&=~REDRAW_BIT,_e.__isRendered=!1;return}var at=_e.__clipPaths,ot=et.prevElClipPaths,it=!1,st=!1;if((!ot||isClipPathChanged(at,ot))&&(ot&&ot.length&&(flushPathDrawn($,et),$.restore(),st=it=!0,et.prevElClipPaths=null,et.allClipped=!1,et.prevEl=null),at&&at.length&&(flushPathDrawn($,et),$.save(),updateClipStatus(at,$,et),it=!0),et.prevElClipPaths=at),et.allClipped){_e.__isRendered=!1;return}_e.beforeBrush&&_e.beforeBrush(),_e.innerBeforeBrush();var ut=et.prevEl;ut||(st=it=!0);var ft=_e instanceof Path$1&&_e.autoBatch&&canPathBatch(_e.style);it||isTransformChanged(nt,ut.transform)?(flushPathDrawn($,et),setContextTransform($,_e)):ft||flushPathDrawn($,et);var dt=getStyle(_e,et.inHover);_e instanceof Path$1?(et.lastDrawType!==DRAW_TYPE_PATH&&(st=!0,et.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle($,_e,ut,st,et),(!ft||!et.batchFill&&!et.batchStroke)&&$.beginPath(),brushPath($,_e,dt,ft),ft&&(et.batchFill=dt.fill||"",et.batchStroke=dt.stroke||"")):_e instanceof TSpan$1?(et.lastDrawType!==DRAW_TYPE_TEXT&&(st=!0,et.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle($,_e,ut,st,et),brushText($,_e,dt)):_e instanceof ZRImage$1?(et.lastDrawType!==DRAW_TYPE_IMAGE&&(st=!0,et.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle($,_e,ut,st,et),brushImage($,_e,dt)):_e.getTemporalDisplayables&&(et.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(st=!0,et.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental($,_e,et)),ft&&tt&&flushPathDrawn($,et),_e.innerAfterBrush(),_e.afterBrush&&_e.afterBrush(),et.prevEl=_e,_e.__dirty=0,_e.__isRendered=!0}function brushIncremental($,_e,et){var tt=_e.getDisplayables(),nt=_e.getTemporalDisplayables();$.save();var at={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:et.viewWidth,viewHeight:et.viewHeight,inHover:et.inHover},ot,it;for(ot=_e.getCursor(),it=tt.length;ot<it;ot++){var st=tt[ot];st.beforeBrush&&st.beforeBrush(),st.innerBeforeBrush(),brush$1($,st,at,ot===it-1),st.innerAfterBrush(),st.afterBrush&&st.afterBrush(),at.prevEl=st}for(var ut=0,ft=nt.length;ut<ft;ut++){var st=nt[ut];st.beforeBrush&&st.beforeBrush(),st.innerBeforeBrush(),brush$1($,st,at,ut===ft-1),st.innerAfterBrush(),st.afterBrush&&st.afterBrush(),at.prevEl=st}_e.clearTemporalDisplayables(),_e.notClear=!0,$.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal($,_e){if($==="none")return null;var et=_e.getDevicePixelRatio(),tt=_e.getZr(),nt=tt.painter.type==="svg";$.dirty&&decalMap.delete($);var at=decalMap.get($);if(at)return at;var ot=defaults($,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});ot.backgroundColor==="none"&&(ot.backgroundColor=null);var it={repeat:"repeat"};return st(it),it.rotation=ot.rotation,it.scaleX=it.scaleY=nt?1:1/et,decalMap.set($,it),$.dirty=!1,it;function st(ut){for(var ft=[et],dt=!0,vt=0;vt<decalKeys.length;++vt){var gt=ot[decalKeys[vt]];if(gt!=null&&!isArray$1(gt)&&!isString(gt)&&!isNumber(gt)&&typeof gt!="boolean"){dt=!1;break}ft.push(gt)}var yt;if(dt){yt=ft.join(",")+(nt?"-svg":"");var xt=decalCache.get(yt);xt&&(nt?ut.svgElement=xt:ut.image=xt)}var Ct=normalizeDashArrayX(ot.dashArrayX),wt=normalizeDashArrayY(ot.dashArrayY),Et=normalizeSymbolArray(ot.symbol),$t=getLineBlockLengthX(Ct),It=getLineBlockLengthY(wt),Ot=!nt&&platformApi.createCanvas(),Lt=nt&&{tag:"g",attrs:{},key:"dcl",children:[]},Ft=Gt(),zt;Ot&&(Ot.width=Ft.width*et,Ot.height=Ft.height*et,zt=Ot.getContext("2d")),jt(),dt&&decalCache.put(yt,Ot||Lt),ut.image=Ot,ut.svgElement=Lt,ut.svgWidth=Ft.width,ut.svgHeight=Ft.height;function Gt(){for(var Ut=1,Kt=0,Zt=$t.length;Kt<Zt;++Kt)Ut=getLeastCommonMultiple(Ut,$t[Kt]);for(var Qt=1,Kt=0,Zt=Et.length;Kt<Zt;++Kt)Qt=getLeastCommonMultiple(Qt,Et[Kt].length);Ut*=Qt;var rr=It*$t.length*Et.length;return{width:Math.max(1,Math.min(Ut,ot.maxTileWidth)),height:Math.max(1,Math.min(rr,ot.maxTileHeight))}}function jt(){zt&&(zt.clearRect(0,0,Ot.width,Ot.height),ot.backgroundColor&&(zt.fillStyle=ot.backgroundColor,zt.fillRect(0,0,Ot.width,Ot.height)));for(var Ut=0,Kt=0;Kt<wt.length;++Kt)Ut+=wt[Kt];if(Ut<=0)return;for(var Zt=-It,Qt=0,rr=0,nr=0;Zt<Ft.height;){if(Qt%2===0){for(var dr=rr/2%Et.length,sr=0,fr=0,yr=0;sr<Ft.width*2;){for(var Pr=0,Kt=0;Kt<Ct[nr].length;++Kt)Pr+=Ct[nr][Kt];if(Pr<=0)break;if(fr%2===0){var wr=(1-ot.symbolSize)*.5,Mr=sr+Ct[nr][fr]*wr,Lr=Zt+wt[Qt]*wr,Br=Ct[nr][fr]*ot.symbolSize,qr=wt[Qt]*ot.symbolSize,Qr=yr/2%Et[dr].length;Jr(Mr,Lr,Br,qr,Et[dr][Qr])}sr+=Ct[nr][fr],++yr,++fr,fr===Ct[nr].length&&(fr=0)}++nr,nr===Ct.length&&(nr=0)}Zt+=wt[Qt],++rr,++Qt,Qt===wt.length&&(Qt=0)}function Jr(sn,yn,pn,ln,Sn){var cn=nt?1:et,Pn=createSymbol$1(Sn,sn*cn,yn*cn,pn*cn,ln*cn,ot.color,ot.symbolKeepAspect);if(nt){var In=tt.painter.renderOneToVNode(Pn);In&&Lt.children.push(In)}else brushSingle(zt,Pn)}}}}function normalizeSymbolArray($){if(!$||$.length===0)return[["rect"]];if(isString($))return[[$]];for(var _e=!0,et=0;et<$.length;++et)if(!isString($[et])){_e=!1;break}if(_e)return normalizeSymbolArray([$]);for(var tt=[],et=0;et<$.length;++et)isString($[et])?tt.push([$[et]]):tt.push($[et]);return tt}function normalizeDashArrayX($){if(!$||$.length===0)return[[0,0]];if(isNumber($)){var _e=Math.ceil($);return[[_e,_e]]}for(var et=!0,tt=0;tt<$.length;++tt)if(!isNumber($[tt])){et=!1;break}if(et)return normalizeDashArrayX([$]);for(var nt=[],tt=0;tt<$.length;++tt)if(isNumber($[tt])){var _e=Math.ceil($[tt]);nt.push([_e,_e])}else{var _e=map$1($[tt],function(it){return Math.ceil(it)});_e.length%2===1?nt.push(_e.concat(_e)):nt.push(_e)}return nt}function normalizeDashArrayY($){if(!$||typeof $=="object"&&$.length===0)return[0,0];if(isNumber($)){var _e=Math.ceil($);return[_e,_e]}var et=map$1($,function(tt){return Math.ceil(tt)});return $.length%2?et.concat(et):et}function getLineBlockLengthX($){return map$1($,function(_e){return getLineBlockLengthY(_e)})}function getLineBlockLengthY($){for(var _e=0,et=0;et<$.length;++et)_e+=$[et];return $.length%2===1?_e*2:_e}function decalVisual($,_e){$.eachRawSeries(function(et){if(!$.isSeriesFiltered(et)){var tt=et.getData();tt.hasItemVisual()&&tt.each(function(ot){var it=tt.getItemVisual(ot,"decal");if(it){var st=tt.ensureUniqueItemVisual(ot,"style");st.decal=createOrUpdatePatternFromDecal(it,_e)}});var nt=tt.getVisual("decal");if(nt){var at=tt.getVisual("style");at.decal=createOrUpdatePatternFromDecal(nt,_e)}}})}var lifecycle=new Eventful$1,lifecycle$1=lifecycle,implsStore={};function registerImpl($,_e){implsStore[$]=_e}function getImpl($){return implsStore[$]}var hasWindow=typeof window!="undefined",TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts($){return function(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,$,_e)}}function createRegisterEventWithLowercaseMessageCenter($){return function(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];return toLowercaseNameAndCallEventful(this,$,_e)}}function toLowercaseNameAndCallEventful($,_e,et){return et[0]=et[0]&&et[0].toLowerCase(),Eventful$1.prototype[_e].apply($,et)}var MessageCenter=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this,new ECEventProcessor)||this;at._chartsViews=[],at._chartsMap={},at._componentsViews=[],at._componentsMap={},at._pendingActions=[],nt=nt||{},isString(tt)&&(tt=themeStorage[tt]),at._dom=et;var ot="canvas",it=!1,st=at._zr=init$2(et,{renderer:nt.renderer||ot,devicePixelRatio:nt.devicePixelRatio,width:nt.width,height:nt.height,ssr:nt.ssr,useDirtyRect:nt.useDirtyRect==null?it:nt.useDirtyRect});at._ssr=nt.ssr,at._throttledZrFlush=throttle(bind$1(st.flush,st),17),tt=clone$4(tt),tt&&globalBackwardCompat(tt,!0),at._theme=tt,at._locale=createLocaleObject(nt.locale||SYSTEM_LANG),at._coordSysMgr=new CoordinateSystem;var ut=at._api=createExtensionAPI(at);function ft(dt,vt){return dt.__prio-vt.__prio}return sort$2(visualFuncs,ft),sort$2(dataProcessorFuncs,ft),at._scheduler=new Scheduler$1(at,ut,dataProcessorFuncs,visualFuncs),at._messageCenter=new MessageCenter,at._initEvents(),at.resize=bind$1(at.resize,at),st.animation.on("frame",at._onframe,at),bindRenderedEvent(st,at),bindMouseEvent(st,at),setAsPrimitive(at),at}return _e.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var et=this._scheduler;if(this[PENDING_UPDATE]){var tt=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(st){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,st}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,tt),triggerUpdatedEvent.call(this,tt)}else if(et.unfinished){var nt=TEST_FRAME_REMAIN_TIME,at=this._model,ot=this._api;et.unfinished=!1;do{var it=+new Date;et.performSeriesTasks(at),et.performDataProcessorTasks(at),updateStreamModes(this,at),et.performVisualTasks(at),renderSeries(this,this._model,ot,"remain",{}),nt-=+new Date-it}while(nt>0&&et.unfinished);et.unfinished||this._zr.flush()}}},_e.prototype.getDom=function(){return this._dom},_e.prototype.getId=function(){return this.id},_e.prototype.getZr=function(){return this._zr},_e.prototype.isSSR=function(){return this._ssr},_e.prototype.setOption=function(et,tt,nt){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var at,ot,it;if(isObject$3(tt)&&(nt=tt.lazyUpdate,at=tt.silent,ot=tt.replaceMerge,it=tt.transition,tt=tt.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||tt){var st=new OptionManager$1(this._api),ut=this._theme,ft=this._model=new GlobalModel$1;ft.scheduler=this._scheduler,ft.ssr=this._ssr,ft.init(null,null,null,ut,this._locale,st)}this._model.setOption(et,{replaceMerge:ot},optionPreprocessorFuncs);var dt={seriesTransition:it,optionChanged:!0};if(nt)this[PENDING_UPDATE]={silent:at,updateParams:dt},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,dt)}catch(vt){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,vt}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,at),triggerUpdatedEvent.call(this,at)}}},_e.prototype.setTheme=function(){},_e.prototype.getModel=function(){return this._model},_e.prototype.getOption=function(){return this._model&&this._model.getOption()},_e.prototype.getWidth=function(){return this._zr.getWidth()},_e.prototype.getHeight=function(){return this._zr.getHeight()},_e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hasWindow&&window.devicePixelRatio||1},_e.prototype.getRenderedCanvas=function(et){return this.renderToCanvas(et)},_e.prototype.renderToCanvas=function(et){et=et||{};var tt=this._zr.painter;return tt.getRenderedCanvas({backgroundColor:et.backgroundColor||this._model.get("backgroundColor"),pixelRatio:et.pixelRatio||this.getDevicePixelRatio()})},_e.prototype.renderToSVGString=function(et){et=et||{};var tt=this._zr.painter;return tt.renderToString({useViewBox:et.useViewBox})},_e.prototype.getSvgDataURL=function(){if(!!env$1.svgSupported){var et=this._zr,tt=et.storage.getDisplayList();return each$f(tt,function(nt){nt.stopAnimation(null,!0)}),et.painter.toDataURL()}},_e.prototype.getDataURL=function(et){if(this._disposed){this.id;return}et=et||{};var tt=et.excludeComponents,nt=this._model,at=[],ot=this;each$f(tt,function(st){nt.eachComponent({mainType:st},function(ut){var ft=ot._componentsMap[ut.__viewId];ft.group.ignore||(at.push(ft),ft.group.ignore=!0)})});var it=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(et).toDataURL("image/"+(et&&et.type||"png"));return each$f(at,function(st){st.group.ignore=!1}),it},_e.prototype.getConnectedDataURL=function(et){if(this._disposed){this.id;return}var tt=et.type==="svg",nt=this.group,at=Math.min,ot=Math.max,it=1/0;if(connectedGroups[nt]){var st=it,ut=it,ft=-it,dt=-it,vt=[],gt=et&&et.pixelRatio||this.getDevicePixelRatio();each$f(instances,function($t,It){if($t.group===nt){var Ot=tt?$t.getZr().painter.getSvgDom().innerHTML:$t.renderToCanvas(clone$4(et)),Lt=$t.getDom().getBoundingClientRect();st=at(Lt.left,st),ut=at(Lt.top,ut),ft=ot(Lt.right,ft),dt=ot(Lt.bottom,dt),vt.push({dom:Ot,left:Lt.left,top:Lt.top})}}),st*=gt,ut*=gt,ft*=gt,dt*=gt;var yt=ft-st,xt=dt-ut,Ct=platformApi.createCanvas(),wt=init$2(Ct,{renderer:tt?"svg":"canvas"});if(wt.resize({width:yt,height:xt}),tt){var Et="";return each$f(vt,function($t){var It=$t.left-st,Ot=$t.top-ut;Et+='<g transform="translate('+It+","+Ot+')">'+$t.dom+"</g>"}),wt.painter.getSvgRoot().innerHTML=Et,et.connectedBackgroundColor&&wt.painter.setBackgroundColor(et.connectedBackgroundColor),wt.refreshImmediately(),wt.painter.toDataURL()}else return et.connectedBackgroundColor&&wt.add(new Rect$3({shape:{x:0,y:0,width:yt,height:xt},style:{fill:et.connectedBackgroundColor}})),each$f(vt,function($t){var It=new ZRImage$1({style:{x:$t.left*gt-st,y:$t.top*gt-ut,image:$t.dom}});wt.add(It)}),wt.refreshImmediately(),Ct.toDataURL("image/"+(et&&et.type||"png"))}else return this.getDataURL(et)},_e.prototype.convertToPixel=function(et,tt){return doConvertPixel(this,"convertToPixel",et,tt)},_e.prototype.convertFromPixel=function(et,tt){return doConvertPixel(this,"convertFromPixel",et,tt)},_e.prototype.containPixel=function(et,tt){if(this._disposed){this.id;return}var nt=this._model,at,ot=parseFinder$1(nt,et);return each$f(ot,function(it,st){st.indexOf("Models")>=0&&each$f(it,function(ut){var ft=ut.coordinateSystem;if(ft&&ft.containPoint)at=at||!!ft.containPoint(tt);else if(st==="seriesModels"){var dt=this._chartsMap[ut.__viewId];dt&&dt.containPoint&&(at=at||dt.containPoint(tt,ut))}},this)},this),!!at},_e.prototype.getVisual=function(et,tt){var nt=this._model,at=parseFinder$1(nt,et,{defaultMainType:"series"}),ot=at.seriesModel,it=ot.getData(),st=at.hasOwnProperty("dataIndexInside")?at.dataIndexInside:at.hasOwnProperty("dataIndex")?it.indexOfRawIndex(at.dataIndex):null;return st!=null?getItemVisualFromData(it,st,tt):getVisualFromData(it,tt)},_e.prototype.getViewOfComponentModel=function(et){return this._componentsMap[et.__viewId]},_e.prototype.getViewOfSeriesModel=function(et){return this._chartsMap[et.__viewId]},_e.prototype._initEvents=function(){var et=this;each$f(MOUSE_EVENT_NAMES,function(tt){var nt=function(at){var ot=et.getModel(),it=at.target,st,ut=tt==="globalout";if(ut?st={}:it&&findEventDispatcher(it,function(yt){var xt=getECData(yt);if(xt&&xt.dataIndex!=null){var Ct=xt.dataModel||ot.getSeriesByIndex(xt.seriesIndex);return st=Ct&&Ct.getDataParams(xt.dataIndex,xt.dataType)||{},!0}else if(xt.eventData)return st=extend({},xt.eventData),!0},!0),st){var ft=st.componentType,dt=st.componentIndex;(ft==="markLine"||ft==="markPoint"||ft==="markArea")&&(ft="series",dt=st.seriesIndex);var vt=ft&&dt!=null&&ot.getComponent(ft,dt),gt=vt&&et[vt.mainType==="series"?"_chartsMap":"_componentsMap"][vt.__viewId];st.event=at,st.type=tt,et._$eventProcessor.eventInfo={targetEl:it,packedEvent:st,model:vt,view:gt},et.trigger(tt,st)}};nt.zrEventfulCallAtLast=!0,et._zr.on(tt,nt,et)}),each$f(eventActionMap,function(tt,nt){et._messageCenter.on(nt,function(at){this.trigger(nt,at)},et)}),each$f(["selectchanged"],function(tt){et._messageCenter.on(tt,function(nt){this.trigger(tt,nt)},et)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},_e.prototype.isDisposed=function(){return this._disposed},_e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},_e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var et=this.getDom();et&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var tt=this,nt=tt._api,at=tt._model;each$f(tt._componentsViews,function(ot){ot.dispose(at,nt)}),each$f(tt._chartsViews,function(ot){ot.dispose(at,nt)}),tt._zr.dispose(),tt._dom=tt._model=tt._chartsMap=tt._componentsMap=tt._chartsViews=tt._componentsViews=tt._scheduler=tt._api=tt._zr=tt._throttledZrFlush=tt._theme=tt._coordSysMgr=tt._messageCenter=null,delete instances[tt.id]},_e.prototype.resize=function(et){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(et);var tt=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!tt){var nt=tt.resetOption("media"),at=et&&et.silent;this[PENDING_UPDATE]&&(at==null&&(at=this[PENDING_UPDATE].silent),nt=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{nt&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},et&&et.animation)})}catch(ot){throw this[IN_MAIN_PROCESS_KEY]=!1,ot}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,at),triggerUpdatedEvent.call(this,at)}}},_e.prototype.showLoading=function(et,tt){if(this._disposed){this.id;return}if(isObject$3(et)&&(tt=et,et=""),et=et||"default",this.hideLoading(),!!loadingEffects[et]){var nt=loadingEffects[et](this._api,tt),at=this._zr;this._loadingFX=nt,at.add(nt)}},_e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},_e.prototype.makeActionFromEvent=function(et){var tt=extend({},et);return tt.type=eventActionMap[et.type],tt},_e.prototype.dispatchAction=function(et,tt){if(this._disposed){this.id;return}if(isObject$3(tt)||(tt={silent:!!tt}),!!actions[et.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(et);return}var nt=tt.silent;doDispatchAction.call(this,et,nt);var at=tt.flush;at?this._zr.flush():at!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,nt),triggerUpdatedEvent.call(this,nt)}},_e.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},_e.prototype.appendData=function(et){if(this._disposed){this.id;return}var tt=et.seriesIndex,nt=this.getModel(),at=nt.getSeriesByIndex(tt);at.appendData(et),this._scheduler.unfinished=!0,this.getZr().wakeUp()},_e.internalField=function(){prepare=function(dt){var vt=dt._scheduler;vt.restorePipelines(dt._model),vt.prepareStageTasks(),prepareView(dt,!0),prepareView(dt,!1),vt.plan()},prepareView=function(dt,vt){for(var gt=dt._model,yt=dt._scheduler,xt=vt?dt._componentsViews:dt._chartsViews,Ct=vt?dt._componentsMap:dt._chartsMap,wt=dt._zr,Et=dt._api,$t=0;$t<xt.length;$t++)xt[$t].__alive=!1;vt?gt.eachComponent(function(Lt,Ft){Lt!=="series"&&It(Ft)}):gt.eachSeries(It);function It(Lt){var Ft=Lt.__requireNewView;Lt.__requireNewView=!1;var zt="_ec_"+Lt.id+"_"+Lt.type,Gt=!Ft&&Ct[zt];if(!Gt){var jt=parseClassType(Lt.type),Ut=vt?ComponentView$1.getClass(jt.main,jt.sub):ChartView$1.getClass(jt.sub);Gt=new Ut,Gt.init(gt,Et),Ct[zt]=Gt,xt.push(Gt),wt.add(Gt.group)}Lt.__viewId=Gt.__id=zt,Gt.__alive=!0,Gt.__model=Lt,Gt.group.__ecComponentInfo={mainType:Lt.mainType,index:Lt.componentIndex},!vt&&yt.prepareView(Gt,Lt,gt,Et)}for(var $t=0;$t<xt.length;){var Ot=xt[$t];Ot.__alive?$t++:(!vt&&Ot.renderTask.dispose(),wt.remove(Ot.group),Ot.dispose(gt,Et),xt.splice($t,1),Ct[Ot.__id]===Ot&&delete Ct[Ot.__id],Ot.__id=Ot.group.__ecComponentInfo=null)}},updateDirectly=function(dt,vt,gt,yt,xt){var Ct=dt._model;if(Ct.setUpdatePayload(gt),!yt){each$f([].concat(dt._componentsViews).concat(dt._chartsViews),Ot);return}var wt={};wt[yt+"Id"]=gt[yt+"Id"],wt[yt+"Index"]=gt[yt+"Index"],wt[yt+"Name"]=gt[yt+"Name"];var Et={mainType:yt,query:wt};xt&&(Et.subType=xt);var $t=gt.excludeSeriesId,It;$t!=null&&(It=createHashMap(),each$f(normalizeToArray($t),function(Lt){var Ft=convertOptionIdName(Lt,null);Ft!=null&&It.set(Ft,!0)})),Ct&&Ct.eachComponent(Et,function(Lt){var Ft=It&&It.get(Lt.id)!==null;if(!Ft)if(isHighDownPayload(gt))if(Lt instanceof SeriesModel$1)gt.type===HIGHLIGHT_ACTION_TYPE&&!gt.notBlur&&!Lt.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(Lt,gt,dt._api);else{var zt=findComponentHighDownDispatchers(Lt.mainType,Lt.componentIndex,gt.name,dt._api),Gt=zt.focusSelf,jt=zt.dispatchers;gt.type===HIGHLIGHT_ACTION_TYPE&&Gt&&!gt.notBlur&&blurComponent(Lt.mainType,Lt.componentIndex,dt._api),jt&&each$f(jt,function(Ut){gt.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(Ut):leaveEmphasis(Ut)})}else isSelectChangePayload(gt)&&Lt instanceof SeriesModel$1&&(toggleSelectionFromPayload(Lt,gt,dt._api),updateSeriesElementSelection(Lt),markStatusToUpdate(dt))},dt),Ct&&Ct.eachComponent(Et,function(Lt){var Ft=It&&It.get(Lt.id)!==null;Ft||Ot(dt[yt==="series"?"_chartsMap":"_componentsMap"][Lt.__viewId])},dt);function Ot(Lt){Lt&&Lt.__alive&&Lt[vt]&&Lt[vt](Lt.__model,Ct,dt._api,gt)}},updateMethods={prepareAndUpdate:function(dt){prepare(this),updateMethods.update.call(this,dt,{optionChanged:dt.newOption!=null})},update:function(dt,vt){var gt=this._model,yt=this._api,xt=this._zr,Ct=this._coordSysMgr,wt=this._scheduler;if(!!gt){gt.setUpdatePayload(dt),wt.restoreData(gt,dt),wt.performSeriesTasks(gt),Ct.create(gt,yt),wt.performDataProcessorTasks(gt,dt),updateStreamModes(this,gt),Ct.update(gt,yt),et(gt),wt.performVisualTasks(gt,dt),render(this,gt,yt,dt,vt);var Et=gt.get("backgroundColor")||"transparent",$t=gt.get("darkMode");xt.setBackgroundColor(Et),$t!=null&&$t!=="auto"&&xt.setDarkMode($t),lifecycle$1.trigger("afterupdate",gt,yt)}},updateTransform:function(dt){var vt=this,gt=this._model,yt=this._api;if(!!gt){gt.setUpdatePayload(dt);var xt=[];gt.eachComponent(function(wt,Et){if(wt!=="series"){var $t=vt.getViewOfComponentModel(Et);if($t&&$t.__alive)if($t.updateTransform){var It=$t.updateTransform(Et,gt,yt,dt);It&&It.update&&xt.push($t)}else xt.push($t)}});var Ct=createHashMap();gt.eachSeries(function(wt){var Et=vt._chartsMap[wt.__viewId];if(Et.updateTransform){var $t=Et.updateTransform(wt,gt,yt,dt);$t&&$t.update&&Ct.set(wt.uid,1)}else Ct.set(wt.uid,1)}),et(gt),this._scheduler.performVisualTasks(gt,dt,{setDirty:!0,dirtyMap:Ct}),renderSeries(this,gt,yt,dt,{},Ct),lifecycle$1.trigger("afterupdate",gt,yt)}},updateView:function(dt){var vt=this._model;!vt||(vt.setUpdatePayload(dt),ChartView$1.markUpdateMethod(dt,"updateView"),et(vt),this._scheduler.performVisualTasks(vt,dt,{setDirty:!0}),render(this,vt,this._api,dt,{}),lifecycle$1.trigger("afterupdate",vt,this._api))},updateVisual:function(dt){var vt=this,gt=this._model;!gt||(gt.setUpdatePayload(dt),gt.eachSeries(function(yt){yt.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(dt,"updateVisual"),et(gt),this._scheduler.performVisualTasks(gt,dt,{visualType:"visual",setDirty:!0}),gt.eachComponent(function(yt,xt){if(yt!=="series"){var Ct=vt.getViewOfComponentModel(xt);Ct&&Ct.__alive&&Ct.updateVisual(xt,gt,vt._api,dt)}}),gt.eachSeries(function(yt){var xt=vt._chartsMap[yt.__viewId];xt.updateVisual(yt,gt,vt._api,dt)}),lifecycle$1.trigger("afterupdate",gt,this._api))},updateLayout:function(dt){updateMethods.update.call(this,dt)}},doConvertPixel=function(dt,vt,gt,yt){if(dt._disposed){dt.id;return}for(var xt=dt._model,Ct=dt._coordSysMgr.getCoordinateSystems(),wt,Et=parseFinder$1(xt,gt),$t=0;$t<Ct.length;$t++){var It=Ct[$t];if(It[vt]&&(wt=It[vt](xt,Et,yt))!=null)return wt}},updateStreamModes=function(dt,vt){var gt=dt._chartsMap,yt=dt._scheduler;vt.eachSeries(function(xt){yt.updateStreamModes(xt,gt[xt.__viewId])})},doDispatchAction=function(dt,vt){var gt=this,yt=this.getModel(),xt=dt.type,Ct=dt.escapeConnect,wt=actions[xt],Et=wt.actionInfo,$t=(Et.update||"update").split(":"),It=$t.pop(),Ot=$t[0]!=null&&parseClassType($t[0]);this[IN_MAIN_PROCESS_KEY]=!0;var Lt=[dt],Ft=!1;dt.batch&&(Ft=!0,Lt=map$1(dt.batch,function(Qt){return Qt=defaults(extend({},Qt),dt),Qt.batch=null,Qt}));var zt=[],Gt,jt=isSelectChangePayload(dt),Ut=isHighDownPayload(dt);if(Ut&&allLeaveBlur(this._api),each$f(Lt,function(Qt){if(Gt=wt.action(Qt,gt._model,gt._api),Gt=Gt||extend({},Qt),Gt.type=Et.event||Gt.type,zt.push(Gt),Ut){var rr=preParseFinder(dt),nr=rr.queryOptionMap,dr=rr.mainTypeSpecified,sr=dr?nr.keys()[0]:"series";updateDirectly(gt,It,Qt,sr),markStatusToUpdate(gt)}else jt?(updateDirectly(gt,It,Qt,"series"),markStatusToUpdate(gt)):Ot&&updateDirectly(gt,It,Qt,Ot.main,Ot.sub)}),It!=="none"&&!Ut&&!jt&&!Ot)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,dt),this[PENDING_UPDATE]=null):updateMethods[It].call(this,dt)}catch(Qt){throw this[IN_MAIN_PROCESS_KEY]=!1,Qt}if(Ft?Gt={type:Et.event||xt,escapeConnect:Ct,batch:zt}:Gt=zt[0],this[IN_MAIN_PROCESS_KEY]=!1,!vt){var Kt=this._messageCenter;if(Kt.trigger(Gt.type,Gt),jt){var Zt={type:"selectchanged",escapeConnect:Ct,selected:getAllSelectedIndices(yt),isFromClick:dt.isFromClick||!1,fromAction:dt.type,fromActionPayload:dt};Kt.trigger(Zt.type,Zt)}}},flushPendingActions=function(dt){for(var vt=this._pendingActions;vt.length;){var gt=vt.shift();doDispatchAction.call(this,gt,dt)}},triggerUpdatedEvent=function(dt){!dt&&this.trigger("updated")},bindRenderedEvent=function(dt,vt){dt.on("rendered",function(gt){vt.trigger("rendered",gt),dt.animation.isFinished()&&!vt[PENDING_UPDATE]&&!vt._scheduler.unfinished&&!vt._pendingActions.length&&vt.trigger("finished")})},bindMouseEvent=function(dt,vt){dt.on("mouseover",function(gt){var yt=gt.target,xt=findEventDispatcher(yt,isHighDownDispatcher);xt&&(handleGlobalMouseOverForHighDown(xt,gt,vt._api),markStatusToUpdate(vt))}).on("mouseout",function(gt){var yt=gt.target,xt=findEventDispatcher(yt,isHighDownDispatcher);xt&&(handleGlobalMouseOutForHighDown(xt,gt,vt._api),markStatusToUpdate(vt))}).on("click",function(gt){var yt=gt.target,xt=findEventDispatcher(yt,function(Et){return getECData(Et).dataIndex!=null},!0);if(xt){var Ct=xt.selected?"unselect":"select",wt=getECData(xt);vt._api.dispatchAction({type:Ct,dataType:wt.dataType,dataIndexInside:wt.dataIndex,seriesIndex:wt.seriesIndex,isFromClick:!0})}})};function et(dt){dt.clearColorPalette(),dt.eachSeries(function(vt){vt.clearColorPalette()})}function tt(dt){var vt=[],gt=[],yt=!1;if(dt.eachComponent(function(Et,$t){var It=$t.get("zlevel")||0,Ot=$t.get("z")||0,Lt=$t.getZLevelKey();yt=yt||!!Lt,(Et==="series"?gt:vt).push({zlevel:It,z:Ot,idx:$t.componentIndex,type:Et,key:Lt})}),yt){var xt=vt.concat(gt),Ct,wt;sort$2(xt,function(Et,$t){return Et.zlevel===$t.zlevel?Et.z-$t.z:Et.zlevel-$t.zlevel}),each$f(xt,function(Et){var $t=dt.getComponent(Et.type,Et.idx),It=Et.zlevel,Ot=Et.key;Ct!=null&&(It=Math.max(Ct,It)),Ot?(It===Ct&&Ot!==wt&&It++,wt=Ot):wt&&(It===Ct&&It++,wt=""),Ct=It,$t.setZLevel(It)})}}render=function(dt,vt,gt,yt,xt){tt(vt),renderComponents(dt,vt,gt,yt,xt),each$f(dt._chartsViews,function(Ct){Ct.__alive=!1}),renderSeries(dt,vt,gt,yt,xt),each$f(dt._chartsViews,function(Ct){Ct.__alive||Ct.remove(vt,gt)})},renderComponents=function(dt,vt,gt,yt,xt,Ct){each$f(Ct||dt._componentsViews,function(wt){var Et=wt.__model;ut(Et,wt),wt.render(Et,vt,gt,yt),it(Et,wt),ft(Et,wt)})},renderSeries=function(dt,vt,gt,yt,xt,Ct){var wt=dt._scheduler;xt=extend(xt||{},{updatedSeries:vt.getSeries()}),lifecycle$1.trigger("series:beforeupdate",vt,gt,xt);var Et=!1;vt.eachSeries(function($t){var It=dt._chartsMap[$t.__viewId];It.__alive=!0;var Ot=It.renderTask;wt.updatePayload(Ot,yt),ut($t,It),Ct&&Ct.get($t.uid)&&Ot.dirty(),Ot.perform(wt.getPerformArgs(Ot))&&(Et=!0),It.group.silent=!!$t.get("silent"),ot($t,It),updateSeriesElementSelection($t)}),wt.unfinished=Et||wt.unfinished,lifecycle$1.trigger("series:layoutlabels",vt,gt,xt),lifecycle$1.trigger("series:transition",vt,gt,xt),vt.eachSeries(function($t){var It=dt._chartsMap[$t.__viewId];it($t,It),ft($t,It)}),at(dt,vt),lifecycle$1.trigger("series:afterupdate",vt,gt,xt)},markStatusToUpdate=function(dt){dt[STATUS_NEEDS_UPDATE_KEY]=!0,dt.getZr().wakeUp()},applyChangedStates=function(dt){!dt[STATUS_NEEDS_UPDATE_KEY]||(dt.getZr().storage.traverse(function(vt){isElementRemoved(vt)||nt(vt)}),dt[STATUS_NEEDS_UPDATE_KEY]=!1)};function nt(dt){for(var vt=[],gt=dt.currentStates,yt=0;yt<gt.length;yt++){var xt=gt[yt];xt==="emphasis"||xt==="blur"||xt==="select"||vt.push(xt)}dt.selected&&dt.states.select&&vt.push("select"),dt.hoverState===HOVER_STATE_EMPHASIS&&dt.states.emphasis?vt.push("emphasis"):dt.hoverState===HOVER_STATE_BLUR&&dt.states.blur&&vt.push("blur"),dt.useStates(vt)}function at(dt,vt){var gt=dt._zr,yt=gt.storage,xt=0;yt.traverse(function(Ct){Ct.isGroup||xt++}),xt>vt.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&vt.eachSeries(function(Ct){if(!Ct.preventUsingHoverLayer){var wt=dt._chartsMap[Ct.__viewId];wt.__alive&&wt.eachRendered(function(Et){Et.states.emphasis&&(Et.states.emphasis.hoverLayer=!0)})}})}function ot(dt,vt){var gt=dt.get("blendMode")||null;vt.eachRendered(function(yt){yt.isGroup||(yt.style.blend=gt)})}function it(dt,vt){if(!dt.preventAutoZ){var gt=dt.get("z")||0,yt=dt.get("zlevel")||0;vt.eachRendered(function(xt){return st(xt,gt,yt,-1/0),!0})}}function st(dt,vt,gt,yt){var xt=dt.getTextContent(),Ct=dt.getTextGuideLine(),wt=dt.isGroup;if(wt)for(var Et=dt.childrenRef(),$t=0;$t<Et.length;$t++)yt=Math.max(st(Et[$t],vt,gt,yt),yt);else dt.z=vt,dt.zlevel=gt,yt=Math.max(dt.z2,yt);if(xt&&(xt.z=vt,xt.zlevel=gt,isFinite(yt)&&(xt.z2=yt+2)),Ct){var It=dt.textGuideLineConfig;Ct.z=vt,Ct.zlevel=gt,isFinite(yt)&&(Ct.z2=yt+(It&&It.showAbove?1:-1))}return yt}function ut(dt,vt){vt.eachRendered(function(gt){if(!isElementRemoved(gt)){var yt=gt.getTextContent(),xt=gt.getTextGuideLine();gt.stateTransition&&(gt.stateTransition=null),yt&&yt.stateTransition&&(yt.stateTransition=null),xt&&xt.stateTransition&&(xt.stateTransition=null),gt.hasState()?(gt.prevStates=gt.currentStates,gt.clearStates()):gt.prevStates&&(gt.prevStates=null)}})}function ft(dt,vt){var gt=dt.getModel("stateAnimation"),yt=dt.isAnimationEnabled(),xt=gt.get("duration"),Ct=xt>0?{duration:xt,delay:gt.get("delay"),easing:gt.get("easing")}:null;vt.eachRendered(function(wt){if(wt.states&&wt.states.emphasis){if(isElementRemoved(wt))return;if(wt instanceof Path$1&&savePathStates(wt),wt.__dirty){var Et=wt.prevStates;Et&&wt.useStates(Et)}if(yt){wt.stateTransition=Ct;var $t=wt.getTextContent(),It=wt.getTextGuideLine();$t&&($t.stateTransition=Ct),It&&(It.stateTransition=Ct)}wt.__dirty&&nt(wt)}})}createExtensionAPI=function(dt){return new(function(vt){__extends(gt,vt);function gt(){return vt!==null&&vt.apply(this,arguments)||this}return gt.prototype.getCoordinateSystems=function(){return dt._coordSysMgr.getCoordinateSystems()},gt.prototype.getComponentByElement=function(yt){for(;yt;){var xt=yt.__ecComponentInfo;if(xt!=null)return dt._model.getComponent(xt.mainType,xt.index);yt=yt.parent}},gt.prototype.enterEmphasis=function(yt,xt){enterEmphasis(yt,xt),markStatusToUpdate(dt)},gt.prototype.leaveEmphasis=function(yt,xt){leaveEmphasis(yt,xt),markStatusToUpdate(dt)},gt.prototype.enterBlur=function(yt){enterBlur(yt),markStatusToUpdate(dt)},gt.prototype.leaveBlur=function(yt){leaveBlur(yt),markStatusToUpdate(dt)},gt.prototype.enterSelect=function(yt){enterSelect(yt),markStatusToUpdate(dt)},gt.prototype.leaveSelect=function(yt){leaveSelect(yt),markStatusToUpdate(dt)},gt.prototype.getModel=function(){return dt.getModel()},gt.prototype.getViewOfComponentModel=function(yt){return dt.getViewOfComponentModel(yt)},gt.prototype.getViewOfSeriesModel=function(yt){return dt.getViewOfSeriesModel(yt)},gt}(ExtensionAPI$1))(dt)},enableConnect=function(dt){function vt(gt,yt){for(var xt=0;xt<gt.length;xt++){var Ct=gt[xt];Ct[CONNECT_STATUS_KEY]=yt}}each$f(eventActionMap,function(gt,yt){dt._messageCenter.on(yt,function(xt){if(connectedGroups[dt.group]&&dt[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(xt&&xt.escapeConnect)return;var Ct=dt.makeActionFromEvent(xt),wt=[];each$f(instances,function(Et){Et!==dt&&Et.group===dt.group&&wt.push(Et)}),vt(wt,CONNECT_STATUS_PENDING),each$f(wt,function(Et){Et[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&Et.dispatchAction(Ct)}),vt(wt,CONNECT_STATUS_UPDATED)}})})}}(),_e}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function($,_e,et){var tt=this;function nt(){for(var at=[],ot=0;ot<arguments.length;ot++)at[ot]=arguments[ot];_e&&_e.apply&&_e.apply(this,at),tt.off($,nt)}this.on.call(this,$,nt,et)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning($){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1($,_e,et){var tt=!(et&&et.ssr);if(tt){var nt=getInstanceByDom($);if(nt)return nt}var at=new ECharts($,_e,et);return at.id="ec_"+idBase++,instances[at.id]=at,tt&&setAttribute($,DOM_ATTRIBUTE_KEY,at.id),enableConnect(at),lifecycle$1.trigger("afterinit",at),at}function getInstanceByDom($){return instances[getAttribute($,DOM_ATTRIBUTE_KEY)]}function registerTheme($,_e){themeStorage[$]=_e}function registerPreprocessor($){indexOf(optionPreprocessorFuncs,$)<0&&optionPreprocessorFuncs.push($)}function registerProcessor($,_e){normalizeRegister(dataProcessorFuncs,$,_e,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit($){registerUpdateLifecycle("afterinit",$)}function registerPostUpdate($){registerUpdateLifecycle("afterupdate",$)}function registerUpdateLifecycle($,_e){lifecycle$1.on($,_e)}function registerAction($,_e,et){isFunction(_e)&&(et=_e,_e="");var tt=isObject$3($)?$.type:[$,$={event:_e}][0];$.event=($.event||tt).toLowerCase(),_e=$.event,!eventActionMap[_e]&&(assert(ACTION_REG.test(tt)&&ACTION_REG.test(_e)),actions[tt]||(actions[tt]={action:et,actionInfo:$}),eventActionMap[_e]=tt)}function registerCoordinateSystem($,_e){CoordinateSystem.register($,_e)}function registerLayout($,_e){normalizeRegister(visualFuncs,$,_e,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual($,_e){normalizeRegister(visualFuncs,$,_e,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister($,_e,et,tt,nt){if((isFunction(_e)||isObject$3(_e))&&(et=_e,_e=tt),!(indexOf(registeredTasks,et)>=0)){registeredTasks.push(et);var at=Scheduler$1.wrapStageHandler(et,nt);at.__prio=_e,at.__raw=et,$.push(at)}}function registerLoading($,_e){loadingEffects[$]=_e}function registerMap$1($,_e,et){var tt=getImpl("registerMap");tt&&tt($,_e,et)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function($){ComponentModel$1.registerClass($)},registerComponentView:function($){ComponentView$1.registerClass($)},registerSeriesModel:function($){SeriesModel$1.registerClass($)},registerChartView:function($){ChartView$1.registerClass($)},registerSubTypeDefaulter:function($,_e){ComponentModel$1.registerSubTypeDefaulter($,_e)},registerPainter:function($,_e){registerPainter($,_e)}};function use($){if(isArray$1($)){each$f($,function(_e){use(_e)});return}indexOf(extensions,$)>=0||(extensions.push($),isFunction($)&&($={install:$}),$.install(extensionRegisters))}function dataIndexMapValueLength($){return $==null?0:$.length||1}function defaultKeyGetter($){return $}var DataDiffer=function(){function $(_e,et,tt,nt,at,ot){this._old=_e,this._new=et,this._oldKeyGetter=tt||defaultKeyGetter,this._newKeyGetter=nt||defaultKeyGetter,this.context=at,this._diffModeMultiple=ot==="multiple"}return $.prototype.add=function(_e){return this._add=_e,this},$.prototype.update=function(_e){return this._update=_e,this},$.prototype.updateManyToOne=function(_e){return this._updateManyToOne=_e,this},$.prototype.updateOneToMany=function(_e){return this._updateOneToMany=_e,this},$.prototype.updateManyToMany=function(_e){return this._updateManyToMany=_e,this},$.prototype.remove=function(_e){return this._remove=_e,this},$.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},$.prototype._executeOneToOne=function(){var _e=this._old,et=this._new,tt={},nt=new Array(_e.length),at=new Array(et.length);this._initIndexMap(_e,null,nt,"_oldKeyGetter"),this._initIndexMap(et,tt,at,"_newKeyGetter");for(var ot=0;ot<_e.length;ot++){var it=nt[ot],st=tt[it],ut=dataIndexMapValueLength(st);if(ut>1){var ft=st.shift();st.length===1&&(tt[it]=st[0]),this._update&&this._update(ft,ot)}else ut===1?(tt[it]=null,this._update&&this._update(st,ot)):this._remove&&this._remove(ot)}this._performRestAdd(at,tt)},$.prototype._executeMultiple=function(){var _e=this._old,et=this._new,tt={},nt={},at=[],ot=[];this._initIndexMap(_e,tt,at,"_oldKeyGetter"),this._initIndexMap(et,nt,ot,"_newKeyGetter");for(var it=0;it<at.length;it++){var st=at[it],ut=tt[st],ft=nt[st],dt=dataIndexMapValueLength(ut),vt=dataIndexMapValueLength(ft);if(dt>1&&vt===1)this._updateManyToOne&&this._updateManyToOne(ft,ut),nt[st]=null;else if(dt===1&&vt>1)this._updateOneToMany&&this._updateOneToMany(ft,ut),nt[st]=null;else if(dt===1&&vt===1)this._update&&this._update(ft,ut),nt[st]=null;else if(dt>1&&vt>1)this._updateManyToMany&&this._updateManyToMany(ft,ut),nt[st]=null;else if(dt>1)for(var gt=0;gt<dt;gt++)this._remove&&this._remove(ut[gt]);else this._remove&&this._remove(ut)}this._performRestAdd(ot,nt)},$.prototype._performRestAdd=function(_e,et){for(var tt=0;tt<_e.length;tt++){var nt=_e[tt],at=et[nt],ot=dataIndexMapValueLength(at);if(ot>1)for(var it=0;it<ot;it++)this._add&&this._add(at[it]);else ot===1&&this._add&&this._add(at);et[nt]=null}},$.prototype._initIndexMap=function(_e,et,tt,nt){for(var at=this._diffModeMultiple,ot=0;ot<_e.length;ot++){var it="_ec_"+this[nt](_e[ot],ot);if(at||(tt[ot]=it),!!et){var st=et[it],ut=dataIndexMapValueLength(st);ut===0?(et[it]=ot,at&&tt.push(it)):ut===1?et[it]=[st,ot]:st.push(ot)}}},$}(),DataDiffer$1=DataDiffer,DimensionUserOuput=function(){function $(_e,et){this._encode=_e,this._schema=et}return $.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},$.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},$}();function summarizeDimensions($,_e){var et={},tt=et.encode={},nt=createHashMap(),at=[],ot=[],it={};each$f($.dimensions,function(vt){var gt=$.getDimensionInfo(vt),yt=gt.coordDim;if(yt){var xt=gt.coordDimIndex;getOrCreateEncodeArr(tt,yt)[xt]=vt,gt.isExtraCoord||(nt.set(yt,1),mayLabelDimType(gt.type)&&(at[0]=vt),getOrCreateEncodeArr(it,yt)[xt]=$.getDimensionIndex(gt.name)),gt.defaultTooltip&&ot.push(vt)}VISUAL_DIMENSIONS.each(function(Ct,wt){var Et=getOrCreateEncodeArr(tt,wt),$t=gt.otherDims[wt];$t!=null&&$t!==!1&&(Et[$t]=gt.name)})});var st=[],ut={};nt.each(function(vt,gt){var yt=tt[gt];ut[gt]=yt[0],st=st.concat(yt)}),et.dataDimsOnCoord=st,et.dataDimIndicesOnCoord=map$1(st,function(vt){return $.getDimensionInfo(vt).storeDimIndex}),et.encodeFirstDimNotExtra=ut;var ft=tt.label;ft&&ft.length&&(at=ft.slice());var dt=tt.tooltip;return dt&&dt.length?ot=dt.slice():ot.length||(ot=at.slice()),tt.defaultedLabel=at,tt.defaultedTooltip=ot,et.userOutput=new DimensionUserOuput(it,_e),et}function getOrCreateEncodeArr($,_e){return $.hasOwnProperty(_e)||($[_e]=[]),$[_e]}function getDimensionTypeByAxis($){return $==="category"?"ordinal":$==="time"?"time":"float"}function mayLabelDimType($){return!($==="ordinal"||$==="time")}var SeriesDimensionDefine=function(){function $(_e){this.otherDims={},_e!=null&&extend(this,_e)}return $}(),SeriesDimensionDefine$1=SeriesDimensionDefine,inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function $(_e){this.dimensions=_e.dimensions,this._dimOmitted=_e.dimensionOmitted,this.source=_e.source,this._fullDimCount=_e.fullDimensionCount,this._updateDimOmitted(_e.dimensionOmitted)}return $.prototype.isDimensionOmitted=function(){return this._dimOmitted},$.prototype._updateDimOmitted=function(_e){this._dimOmitted=_e,_e&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},$.prototype.getSourceDimensionIndex=function(_e){return retrieve2(this._dimNameMap.get(_e),-1)},$.prototype.getSourceDimension=function(_e){var et=this.source.dimensionsDefine;if(et)return et[_e]},$.prototype.makeStoreSchema=function(){for(var _e=this._fullDimCount,et=shouldRetrieveDataByName(this.source),tt=!shouldOmitUnusedDimensions(_e),nt="",at=[],ot=0,it=0;ot<_e;ot++){var st=void 0,ut=void 0,ft=void 0,dt=this.dimensions[it];if(dt&&dt.storeDimIndex===ot)st=et?dt.name:null,ut=dt.type,ft=dt.ordinalMeta,it++;else{var vt=this.getSourceDimension(ot);vt&&(st=et?vt.name:null,ut=vt.type)}at.push({property:st,type:ut,ordinalMeta:ft}),et&&st!=null&&(!dt||!dt.isCalculationCoord)&&(nt+=tt?st.replace(/\`/g,"`1").replace(/\$/g,"`2"):st),nt+="$",nt+=dimTypeShort[ut]||"f",ft&&(nt+=ft.uid),nt+="$"}var gt=this.source,yt=[gt.seriesLayoutBy,gt.startIndex,nt].join("$$");return{dimensions:at,hash:yt}},$.prototype.makeOutputDimensionNames=function(){for(var _e=[],et=0,tt=0;et<this._fullDimCount;et++){var nt=void 0,at=this.dimensions[tt];if(at&&at.storeDimIndex===et)at.isCalculationCoord||(nt=at.name),tt++;else{var ot=this.getSourceDimension(et);ot&&(nt=ot.name)}_e.push(nt)}return _e},$.prototype.appendCalculationDimension=function(_e){this.dimensions.push(_e),_e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},$}();function isSeriesDataSchema($){return $ instanceof SeriesDataSchema}function createDimNameMap($){for(var _e=createHashMap(),et=0;et<($||[]).length;et++){var tt=$[et],nt=isObject$3(tt)?tt.name:tt;nt!=null&&_e.get(nt)==null&&_e.set(nt,et)}return _e}function ensureSourceDimNameMap($){var _e=inner$h($);return _e.dimNameMap||(_e.dimNameMap=createDimNameMap($.dimensionsDefine))}function shouldOmitUnusedDimensions($){return $>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array=="undefined"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function $(_e,et){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var tt,nt=!1;isSeriesDataSchema(_e)?(tt=_e.dimensions,this._dimOmitted=_e.isDimensionOmitted(),this._schema=_e):(nt=!0,tt=_e),tt=tt||["x","y"];for(var at={},ot=[],it={},st=!1,ut={},ft=0;ft<tt.length;ft++){var dt=tt[ft],vt=isString(dt)?new SeriesDimensionDefine$1({name:dt}):dt instanceof SeriesDimensionDefine$1?dt:new SeriesDimensionDefine$1(dt),gt=vt.name;vt.type=vt.type||"float",vt.coordDim||(vt.coordDim=gt,vt.coordDimIndex=0);var yt=vt.otherDims=vt.otherDims||{};ot.push(gt),at[gt]=vt,ut[gt]!=null&&(st=!0),vt.createInvertedIndices&&(it[gt]=[]),yt.itemName===0&&(this._nameDimIdx=ft),yt.itemId===0&&(this._idDimIdx=ft),nt&&(vt.storeDimIndex=ft)}if(this.dimensions=ot,this._dimInfos=at,this._initGetDimensionInfo(st),this.hostModel=et,this._invertedIndicesMap=it,this._dimOmitted){var xt=this._dimIdxToName=createHashMap();each$f(ot,function(Ct){xt.set(at[Ct].storeDimIndex,Ct)})}}return $.prototype.getDimension=function(_e){var et=this._recognizeDimIndex(_e);if(et==null)return _e;if(et=_e,!this._dimOmitted)return this.dimensions[et];var tt=this._dimIdxToName.get(et);if(tt!=null)return tt;var nt=this._schema.getSourceDimension(et);if(nt)return nt.name},$.prototype.getDimensionIndex=function(_e){var et=this._recognizeDimIndex(_e);if(et!=null)return et;if(_e==null)return-1;var tt=this._getDimInfo(_e);return tt?tt.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(_e):-1},$.prototype._recognizeDimIndex=function(_e){if(isNumber(_e)||_e!=null&&!isNaN(_e)&&!this._getDimInfo(_e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(_e)<0))return+_e},$.prototype._getStoreDimIndex=function(_e){var et=this.getDimensionIndex(_e);return et},$.prototype.getDimensionInfo=function(_e){return this._getDimInfo(this.getDimension(_e))},$.prototype._initGetDimensionInfo=function(_e){var et=this._dimInfos;this._getDimInfo=_e?function(tt){return et.hasOwnProperty(tt)?et[tt]:void 0}:function(tt){return et[tt]}},$.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},$.prototype.mapDimension=function(_e,et){var tt=this._dimSummary;if(et==null)return tt.encodeFirstDimNotExtra[_e];var nt=tt.encode[_e];return nt?nt[et]:null},$.prototype.mapDimensionsAll=function(_e){var et=this._dimSummary,tt=et.encode[_e];return(tt||[]).slice()},$.prototype.getStore=function(){return this._store},$.prototype.initData=function(_e,et,tt){var nt=this,at;if(_e instanceof DataStore&&(at=_e),!at){var ot=this.dimensions,it=isSourceInstance(_e)||isArrayLike(_e)?new DefaultDataProvider(_e,ot.length):_e;at=new DataStore;var st=map(ot,function(ut){return{type:nt._dimInfos[ut].type,property:ut}});at.initData(it,st,tt)}this._store=at,this._nameList=(et||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,at.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},$.prototype.appendData=function(_e){var et=this._store.appendData(_e);this._doInit(et[0],et[1])},$.prototype.appendValues=function(_e,et){var tt=this._store.appendValues(_e,et.length),nt=tt.start,at=tt.end,ot=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),et)for(var it=nt;it<at;it++){var st=it-nt;this._nameList[it]=et[st],ot&&makeIdFromName(this,it)}},$.prototype._updateOrdinalMeta=function(){for(var _e=this._store,et=this.dimensions,tt=0;tt<et.length;tt++){var nt=this._dimInfos[et[tt]];nt.ordinalMeta&&_e.collectOrdinalMeta(nt.storeDimIndex,nt.ordinalMeta)}},$.prototype._shouldMakeIdFromName=function(){var _e=this._store.getProvider();return this._idDimIdx==null&&_e.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!_e.fillStorage},$.prototype._doInit=function(_e,et){if(!(_e>=et)){var tt=this._store,nt=tt.getProvider();this._updateOrdinalMeta();var at=this._nameList,ot=this._idList,it=nt.getSource().sourceFormat,st=it===SOURCE_FORMAT_ORIGINAL;if(st&&!nt.pure)for(var ut=[],ft=_e;ft<et;ft++){var dt=nt.getItem(ft,ut);if(!this.hasItemOption&&isDataItemOption(dt)&&(this.hasItemOption=!0),dt){var vt=dt.name;at[ft]==null&&vt!=null&&(at[ft]=convertOptionIdName(vt,null));var gt=dt.id;ot[ft]==null&&gt!=null&&(ot[ft]=convertOptionIdName(gt,null))}}if(this._shouldMakeIdFromName())for(var ft=_e;ft<et;ft++)makeIdFromName(this,ft);prepareInvertedIndex(this)}},$.prototype.getApproximateExtent=function(_e){return this._approximateExtent[_e]||this._store.getDataExtent(this._getStoreDimIndex(_e))},$.prototype.setApproximateExtent=function(_e,et){et=this.getDimension(et),this._approximateExtent[et]=_e.slice()},$.prototype.getCalculationInfo=function(_e){return this._calculationInfo[_e]},$.prototype.setCalculationInfo=function(_e,et){isObject$1(_e)?extend(this._calculationInfo,_e):this._calculationInfo[_e]=et},$.prototype.getName=function(_e){var et=this.getRawIndex(_e),tt=this._nameList[et];return tt==null&&this._nameDimIdx!=null&&(tt=getIdNameFromStore(this,this._nameDimIdx,et)),tt==null&&(tt=""),tt},$.prototype._getCategory=function(_e,et){var tt=this._store.get(_e,et),nt=this._store.getOrdinalMeta(_e);return nt?nt.categories[tt]:tt},$.prototype.getId=function(_e){return getId(this,this.getRawIndex(_e))},$.prototype.count=function(){return this._store.count()},$.prototype.get=function(_e,et){var tt=this._store,nt=this._dimInfos[_e];if(nt)return tt.get(nt.storeDimIndex,et)},$.prototype.getByRawIndex=function(_e,et){var tt=this._store,nt=this._dimInfos[_e];if(nt)return tt.getByRawIndex(nt.storeDimIndex,et)},$.prototype.getIndices=function(){return this._store.getIndices()},$.prototype.getDataExtent=function(_e){return this._store.getDataExtent(this._getStoreDimIndex(_e))},$.prototype.getSum=function(_e){return this._store.getSum(this._getStoreDimIndex(_e))},$.prototype.getMedian=function(_e){return this._store.getMedian(this._getStoreDimIndex(_e))},$.prototype.getValues=function(_e,et){var tt=this,nt=this._store;return isArray$1(_e)?nt.getValues(map(_e,function(at){return tt._getStoreDimIndex(at)}),et):nt.getValues(_e)},$.prototype.hasValue=function(_e){for(var et=this._dimSummary.dataDimIndicesOnCoord,tt=0,nt=et.length;tt<nt;tt++)if(isNaN(this._store.get(et[tt],_e)))return!1;return!0},$.prototype.indexOfName=function(_e){for(var et=0,tt=this._store.count();et<tt;et++)if(this.getName(et)===_e)return et;return-1},$.prototype.getRawIndex=function(_e){return this._store.getRawIndex(_e)},$.prototype.indexOfRawIndex=function(_e){return this._store.indexOfRawIndex(_e)},$.prototype.rawIndexOf=function(_e,et){var tt=_e&&this._invertedIndicesMap[_e],nt=tt[et];return nt==null||isNaN(nt)?INDEX_NOT_FOUND:nt},$.prototype.indicesOfNearest=function(_e,et,tt){return this._store.indicesOfNearest(this._getStoreDimIndex(_e),et,tt)},$.prototype.each=function(_e,et,tt){isFunction(_e)&&(tt=et,et=_e,_e=[]);var nt=tt||this,at=map(normalizeDimensions(_e),this._getStoreDimIndex,this);this._store.each(at,nt?bind$1(et,nt):et)},$.prototype.filterSelf=function(_e,et,tt){isFunction(_e)&&(tt=et,et=_e,_e=[]);var nt=tt||this,at=map(normalizeDimensions(_e),this._getStoreDimIndex,this);return this._store=this._store.filter(at,nt?bind$1(et,nt):et),this},$.prototype.selectRange=function(_e){var et=this,tt={},nt=keys(_e);return each$f(nt,function(at){var ot=et._getStoreDimIndex(at);tt[ot]=_e[at]}),this._store=this._store.selectRange(tt),this},$.prototype.mapArray=function(_e,et,tt){isFunction(_e)&&(tt=et,et=_e,_e=[]),tt=tt||this;var nt=[];return this.each(_e,function(){nt.push(et&&et.apply(this,arguments))},tt),nt},$.prototype.map=function(_e,et,tt,nt){var at=tt||nt||this,ot=map(normalizeDimensions(_e),this._getStoreDimIndex,this),it=cloneListForMapAndSample(this);return it._store=this._store.map(ot,at?bind$1(et,at):et),it},$.prototype.modify=function(_e,et,tt,nt){var at=tt||nt||this,ot=map(normalizeDimensions(_e),this._getStoreDimIndex,this);this._store.modify(ot,at?bind$1(et,at):et)},$.prototype.downSample=function(_e,et,tt,nt){var at=cloneListForMapAndSample(this);return at._store=this._store.downSample(this._getStoreDimIndex(_e),et,tt,nt),at},$.prototype.lttbDownSample=function(_e,et){var tt=cloneListForMapAndSample(this);return tt._store=this._store.lttbDownSample(this._getStoreDimIndex(_e),et),tt},$.prototype.getRawDataItem=function(_e){return this._store.getRawDataItem(_e)},$.prototype.getItemModel=function(_e){var et=this.hostModel,tt=this.getRawDataItem(_e);return new Model$1(tt,et,et&&et.ecModel)},$.prototype.diff=function(_e){var et=this;return new DataDiffer$1(_e?_e.getStore().getIndices():[],this.getStore().getIndices(),function(tt){return getId(_e,tt)},function(tt){return getId(et,tt)})},$.prototype.getVisual=function(_e){var et=this._visual;return et&&et[_e]},$.prototype.setVisual=function(_e,et){this._visual=this._visual||{},isObject$1(_e)?extend(this._visual,_e):this._visual[_e]=et},$.prototype.getItemVisual=function(_e,et){var tt=this._itemVisuals[_e],nt=tt&&tt[et];return nt==null?this.getVisual(et):nt},$.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},$.prototype.ensureUniqueItemVisual=function(_e,et){var tt=this._itemVisuals,nt=tt[_e];nt||(nt=tt[_e]={});var at=nt[et];return at==null&&(at=this.getVisual(et),isArray$1(at)?at=at.slice():isObject$1(at)&&(at=extend({},at)),nt[et]=at),at},$.prototype.setItemVisual=function(_e,et,tt){var nt=this._itemVisuals[_e]||{};this._itemVisuals[_e]=nt,isObject$1(et)?extend(nt,et):nt[et]=tt},$.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},$.prototype.setLayout=function(_e,et){isObject$1(_e)?extend(this._layout,_e):this._layout[_e]=et},$.prototype.getLayout=function(_e){return this._layout[_e]},$.prototype.getItemLayout=function(_e){return this._itemLayouts[_e]},$.prototype.setItemLayout=function(_e,et,tt){this._itemLayouts[_e]=tt?extend(this._itemLayouts[_e]||{},et):et},$.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},$.prototype.setItemGraphicEl=function(_e,et){var tt=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(tt,this.dataType,_e,et),this._graphicEls[_e]=et},$.prototype.getItemGraphicEl=function(_e){return this._graphicEls[_e]},$.prototype.eachItemGraphicEl=function(_e,et){each$f(this._graphicEls,function(tt,nt){tt&&_e&&_e.call(et,tt,nt)})},$.prototype.cloneShallow=function(_e){return _e||(_e=new $(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(_e,this),_e._store=this._store,_e},$.prototype.wrapMethod=function(_e,et){var tt=this[_e];!isFunction(tt)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(_e),this[_e]=function(){var nt=tt.apply(this,arguments);return et.apply(this,[nt].concat(slice(arguments)))})},$.internalField=function(){prepareInvertedIndex=function(_e){var et=_e._invertedIndicesMap;each$f(et,function(tt,nt){var at=_e._dimInfos[nt],ot=at.ordinalMeta,it=_e._store;if(ot){tt=et[nt]=new CtorInt32Array(ot.categories.length);for(var st=0;st<tt.length;st++)tt[st]=INDEX_NOT_FOUND;for(var st=0;st<it.count();st++)tt[it.get(at.storeDimIndex,st)]=st}})},getIdNameFromStore=function(_e,et,tt){return convertOptionIdName(_e._getCategory(et,tt),null)},getId=function(_e,et){var tt=_e._idList[et];return tt==null&&_e._idDimIdx!=null&&(tt=getIdNameFromStore(_e,_e._idDimIdx,et)),tt==null&&(tt=ID_PREFIX+et),tt},normalizeDimensions=function(_e){return isArray$1(_e)||(_e=_e!=null?[_e]:[]),_e},cloneListForMapAndSample=function(_e){var et=new $(_e._schema?_e._schema:map(_e.dimensions,_e._getDimInfo,_e),_e.hostModel);return transferProperties(et,_e),et},transferProperties=function(_e,et){each$f(TRANSFERABLE_PROPERTIES.concat(et.__wrappedMethods||[]),function(tt){et.hasOwnProperty(tt)&&(_e[tt]=et[tt])}),_e.__wrappedMethods=et.__wrappedMethods,each$f(CLONE_PROPERTIES,function(tt){_e[tt]=clone$4(et[tt])}),_e._calculationInfo=extend({},et._calculationInfo)},makeIdFromName=function(_e,et){var tt=_e._nameList,nt=_e._idList,at=_e._nameDimIdx,ot=_e._idDimIdx,it=tt[et],st=nt[et];if(it==null&&at!=null&&(tt[et]=it=getIdNameFromStore(_e,at,et)),st==null&&ot!=null&&(nt[et]=st=getIdNameFromStore(_e,ot,et)),st==null&&it!=null){var ut=_e._nameRepeatCount,ft=ut[it]=(ut[it]||0)+1;st=it,ft>1&&(st+="__ec__"+ft),nt[et]=st}}}(),$}(),SeriesData$1=SeriesData;function prepareSeriesDataSchema($,_e){isSourceInstance($)||($=createSourceFromSeriesDataOption($)),_e=_e||{};var et=_e.coordDimensions||[],tt=_e.dimensionsDefine||$.dimensionsDefine||[],nt=createHashMap(),at=[],ot=getDimCount($,et,tt,_e.dimensionsCount),it=_e.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(ot),st=tt===$.dimensionsDefine,ut=st?ensureSourceDimNameMap($):createDimNameMap(tt),ft=_e.encodeDefine;!ft&&_e.encodeDefaulter&&(ft=_e.encodeDefaulter($,ot));for(var dt=createHashMap(ft),vt=new CtorInt32Array$1(ot),gt=0;gt<vt.length;gt++)vt[gt]=-1;function yt(Gt){var jt=vt[Gt];if(jt<0){var Ut=tt[Gt],Kt=isObject$3(Ut)?Ut:{name:Ut},Zt=new SeriesDimensionDefine$1,Qt=Kt.name;Qt!=null&&ut.get(Qt)!=null&&(Zt.name=Zt.displayName=Qt),Kt.type!=null&&(Zt.type=Kt.type),Kt.displayName!=null&&(Zt.displayName=Kt.displayName);var rr=at.length;return vt[Gt]=rr,Zt.storeDimIndex=Gt,at.push(Zt),Zt}return at[jt]}if(!it)for(var gt=0;gt<ot;gt++)yt(gt);dt.each(function(Gt,jt){var Ut=normalizeToArray(Gt).slice();if(Ut.length===1&&!isString(Ut[0])&&Ut[0]<0){dt.set(jt,!1);return}var Kt=dt.set(jt,[]);each$f(Ut,function(Zt,Qt){var rr=isString(Zt)?ut.get(Zt):Zt;rr!=null&&rr<ot&&(Kt[Qt]=rr,Ct(yt(rr),jt,Qt))})});var xt=0;each$f(et,function(Gt){var jt,Ut,Kt,Zt;if(isString(Gt))jt=Gt,Zt={};else{Zt=Gt,jt=Zt.name;var Qt=Zt.ordinalMeta;Zt.ordinalMeta=null,Zt=extend({},Zt),Zt.ordinalMeta=Qt,Ut=Zt.dimsDef,Kt=Zt.otherDims,Zt.name=Zt.coordDim=Zt.coordDimIndex=Zt.dimsDef=Zt.otherDims=null}var rr=dt.get(jt);if(rr!==!1){if(rr=normalizeToArray(rr),!rr.length)for(var nr=0;nr<(Ut&&Ut.length||1);nr++){for(;xt<ot&&yt(xt).coordDim!=null;)xt++;xt<ot&&rr.push(xt++)}each$f(rr,function(dr,sr){var fr=yt(dr);if(st&&Zt.type!=null&&(fr.type=Zt.type),Ct(defaults(fr,Zt),jt,sr),fr.name==null&&Ut){var yr=Ut[sr];!isObject$3(yr)&&(yr={name:yr}),fr.name=fr.displayName=yr.name,fr.defaultTooltip=yr.defaultTooltip}Kt&&defaults(fr.otherDims,Kt)})}});function Ct(Gt,jt,Ut){VISUAL_DIMENSIONS.get(jt)!=null?Gt.otherDims[jt]=Ut:(Gt.coordDim=jt,Gt.coordDimIndex=Ut,nt.set(jt,!0))}var wt=_e.generateCoord,Et=_e.generateCoordCount,$t=Et!=null;Et=wt?Et||1:0;var It=wt||"value";function Ot(Gt){Gt.name==null&&(Gt.name=Gt.coordDim)}if(it)each$f(at,function(Gt){Ot(Gt)}),at.sort(function(Gt,jt){return Gt.storeDimIndex-jt.storeDimIndex});else for(var Lt=0;Lt<ot;Lt++){var Ft=yt(Lt),zt=Ft.coordDim;zt==null&&(Ft.coordDim=genCoordDimName(It,nt,$t),Ft.coordDimIndex=0,(!wt||Et<=0)&&(Ft.isExtraCoord=!0),Et--),Ot(Ft),Ft.type==null&&(guessOrdinal($,Lt)===BE_ORDINAL.Must||Ft.isExtraCoord&&(Ft.otherDims.itemName!=null||Ft.otherDims.seriesName!=null))&&(Ft.type="ordinal")}return removeDuplication(at),new SeriesDataSchema({source:$,dimensions:at,fullDimensionCount:ot,dimensionOmitted:it})}function removeDuplication($){for(var _e=createHashMap(),et=0;et<$.length;et++){var tt=$[et],nt=tt.name,at=_e.get(nt)||0;at>0&&(tt.name=nt+(at-1)),at++,_e.set(nt,at)}}function getDimCount($,_e,et,tt){var nt=Math.max($.dimensionsDetectedCount||1,_e.length,et.length,tt||0);return each$f(_e,function(at){var ot;isObject$3(at)&&(ot=at.dimsDef)&&(nt=Math.max(nt,ot.length))}),nt}function genCoordDimName($,_e,et){var tt=_e.data;if(et||tt.hasOwnProperty($)){for(var nt=0;tt.hasOwnProperty($+nt);)nt++;$+=nt}return _e.set($,!0),$}var CoordSysInfo=function(){function $(_e){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=_e}return $}();function getCoordSysInfoBySeries($){var _e=$.get("coordinateSystem"),et=new CoordSysInfo(_e),tt=fetchers[_e];if(tt)return tt($,et,et.axisMap,et.categoryAxisMap),et}var fetchers={cartesian2d:function($,_e,et,tt){var nt=$.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],at=$.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];_e.coordSysDims=["x","y"],et.set("x",nt),et.set("y",at),isCategory(nt)&&(tt.set("x",nt),_e.firstCategoryDimIndex=0),isCategory(at)&&(tt.set("y",at),_e.firstCategoryDimIndex==null&&(_e.firstCategoryDimIndex=1))},singleAxis:function($,_e,et,tt){var nt=$.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];_e.coordSysDims=["single"],et.set("single",nt),isCategory(nt)&&(tt.set("single",nt),_e.firstCategoryDimIndex=0)},polar:function($,_e,et,tt){var nt=$.getReferringComponents("polar",SINGLE_REFERRING).models[0],at=nt.findAxisModel("radiusAxis"),ot=nt.findAxisModel("angleAxis");_e.coordSysDims=["radius","angle"],et.set("radius",at),et.set("angle",ot),isCategory(at)&&(tt.set("radius",at),_e.firstCategoryDimIndex=0),isCategory(ot)&&(tt.set("angle",ot),_e.firstCategoryDimIndex==null&&(_e.firstCategoryDimIndex=1))},geo:function($,_e,et,tt){_e.coordSysDims=["lng","lat"]},parallel:function($,_e,et,tt){var nt=$.ecModel,at=nt.getComponent("parallel",$.get("parallelIndex")),ot=_e.coordSysDims=at.dimensions.slice();each$f(at.parallelAxisIndex,function(it,st){var ut=nt.getComponent("parallelAxis",it),ft=ot[st];et.set(ft,ut),isCategory(ut)&&(tt.set(ft,ut),_e.firstCategoryDimIndex==null&&(_e.firstCategoryDimIndex=st))})}};function isCategory($){return $.get("type")==="category"}function enableDataStack($,_e,et){et=et||{};var tt=et.byIndex,nt=et.stackedCoordDimension,at,ot,it;isLegacyDimensionsInput(_e)?at=_e:(ot=_e.schema,at=ot.dimensions,it=_e.store);var st=!!($&&$.get("stack")),ut,ft,dt,vt;if(each$f(at,function(Et,$t){isString(Et)&&(at[$t]=Et={name:Et}),st&&!Et.isExtraCoord&&(!tt&&!ut&&Et.ordinalMeta&&(ut=Et),!ft&&Et.type!=="ordinal"&&Et.type!=="time"&&(!nt||nt===Et.coordDim)&&(ft=Et))}),ft&&!tt&&!ut&&(tt=!0),ft){dt="__\0ecstackresult_"+$.id,vt="__\0ecstackedover_"+$.id,ut&&(ut.createInvertedIndices=!0);var gt=ft.coordDim,yt=ft.type,xt=0;each$f(at,function(Et){Et.coordDim===gt&&xt++});var Ct={name:dt,coordDim:gt,coordDimIndex:xt,type:yt,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:at.length},wt={name:vt,coordDim:vt,coordDimIndex:xt+1,type:yt,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:at.length+1};ot?(it&&(Ct.storeDimIndex=it.ensureCalculationDimension(vt,yt),wt.storeDimIndex=it.ensureCalculationDimension(dt,yt)),ot.appendCalculationDimension(Ct),ot.appendCalculationDimension(wt)):(at.push(Ct),at.push(wt))}return{stackedDimension:ft&&ft.name,stackedByDimension:ut&&ut.name,isStackedByIndex:tt,stackedOverDimension:vt,stackResultDimension:dt}}function isLegacyDimensionsInput($){return!isSeriesDataSchema($.schema)}function isDimensionStacked($,_e){return!!_e&&_e===$.getCalculationInfo("stackedDimension")}function getStackedDimension($,_e){return isDimensionStacked($,_e)?$.getCalculationInfo("stackResultDimension"):_e}function getCoordSysDimDefs($,_e){var et=$.get("coordinateSystem"),tt=CoordinateSystem.get(et),nt;return _e&&_e.coordSysDims&&(nt=map$1(_e.coordSysDims,function(at){var ot={name:at},it=_e.axisMap.get(at);if(it){var st=it.get("type");ot.type=getDimensionTypeByAxis(st)}return ot})),nt||(nt=tt&&(tt.getDimensionsInfo?tt.getDimensionsInfo():tt.dimensions.slice())||["x","y"]),nt}function injectOrdinalMeta($,_e,et){var tt,nt;return et&&each$f($,function(at,ot){var it=at.coordDim,st=et.categoryAxisMap.get(it);st&&(tt==null&&(tt=ot),at.ordinalMeta=st.getOrdinalMeta(),_e&&(at.createInvertedIndices=!0)),at.otherDims.itemName!=null&&(nt=!0)}),!nt&&tt!=null&&($[tt].otherDims.itemName=0),tt}function createSeriesData($,_e,et){et=et||{};var tt=_e.getSourceManager(),nt,at=!1;$?(at=!0,nt=createSourceFromSeriesDataOption($)):(nt=tt.getSource(),at=nt.sourceFormat===SOURCE_FORMAT_ORIGINAL);var ot=getCoordSysInfoBySeries(_e),it=getCoordSysDimDefs(_e,ot),st=et.useEncodeDefaulter,ut=isFunction(st)?st:st?curry$1(makeSeriesEncodeForAxisCoordSys,it,_e):null,ft={coordDimensions:it,generateCoord:et.generateCoord,encodeDefine:_e.getEncode(),encodeDefaulter:ut,canOmitUnusedDimensions:!at},dt=prepareSeriesDataSchema(nt,ft),vt=injectOrdinalMeta(dt.dimensions,et.createInvertedIndices,ot),gt=at?null:tt.getSharedDataStore(dt),yt=enableDataStack(_e,{schema:dt,store:gt}),xt=new SeriesData$1(dt,_e);xt.setCalculationInfo(yt);var Ct=vt!=null&&isNeedCompleteOrdinalData(nt)?function(wt,Et,$t,It){return It===vt?$t:this.defaultDimValueGetter(wt,Et,$t,It)}:null;return xt.hasItemOption=!1,xt.initData(at?nt:gt,null,Ct),xt}function isNeedCompleteOrdinalData($){if($.sourceFormat===SOURCE_FORMAT_ORIGINAL){var _e=firstDataNotNull($.data||[]);return!isArray$1(getDataItemValue(_e))}}function firstDataNotNull($){for(var _e=0;_e<$.length&&$[_e]==null;)_e++;return $[_e]}var Scale=function(){function $(_e){this._setting=_e||{},this._extent=[1/0,-1/0]}return $.prototype.getSetting=function(_e){return this._setting[_e]},$.prototype.unionExtent=function(_e){var et=this._extent;_e[0]<et[0]&&(et[0]=_e[0]),_e[1]>et[1]&&(et[1]=_e[1])},$.prototype.unionExtentFromData=function(_e,et){this.unionExtent(_e.getApproximateExtent(et))},$.prototype.getExtent=function(){return this._extent.slice()},$.prototype.setExtent=function(_e,et){var tt=this._extent;isNaN(_e)||(tt[0]=_e),isNaN(et)||(tt[1]=et)},$.prototype.isInExtentRange=function(_e){return this._extent[0]<=_e&&this._extent[1]>=_e},$.prototype.isBlank=function(){return this._isBlank},$.prototype.setBlank=function(_e){this._isBlank=_e},$}();enableClassManagement(Scale);var Scale$1=Scale,uidBase=0,OrdinalMeta=function(){function $(_e){this.categories=_e.categories||[],this._needCollect=_e.needCollect,this._deduplication=_e.deduplication,this.uid=++uidBase}return $.createByAxisModel=function(_e){var et=_e.option,tt=et.data,nt=tt&&map$1(tt,getName);return new $({categories:nt,needCollect:!nt,deduplication:et.dedplication!==!1})},$.prototype.getOrdinal=function(_e){return this._getOrCreateMap().get(_e)},$.prototype.parseAndCollect=function(_e){var et,tt=this._needCollect;if(!isString(_e)&&!tt)return _e;if(tt&&!this._deduplication)return et=this.categories.length,this.categories[et]=_e,et;var nt=this._getOrCreateMap();return et=nt.get(_e),et==null&&(tt?(et=this.categories.length,this.categories[et]=_e,nt.set(_e,et)):et=NaN),et},$.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},$}();function getName($){return isObject$3($)&&$.value!=null?$.value:$+""}var OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale($){return $.type==="interval"||$.type==="log"}function intervalScaleNiceTicks($,_e,et,tt){var nt={},at=$[1]-$[0],ot=nt.interval=nice(at/_e,!0);et!=null&&ot<et&&(ot=nt.interval=et),tt!=null&&ot>tt&&(ot=nt.interval=tt);var it=nt.intervalPrecision=getIntervalPrecision(ot),st=nt.niceTickExtent=[round$3(Math.ceil($[0]/ot)*ot,it),round$3(Math.floor($[1]/ot)*ot,it)];return fixExtent(st,$),nt}function increaseInterval($){var _e=Math.pow(10,quantityExponent($)),et=$/_e;return et?et===2?et=3:et===3?et=5:et*=2:et=1,round$3(et*_e)}function getIntervalPrecision($){return getPrecision($)+2}function clamp($,_e,et){$[_e]=Math.max(Math.min($[_e],et[1]),et[0])}function fixExtent($,_e){!isFinite($[0])&&($[0]=_e[0]),!isFinite($[1])&&($[1]=_e[1]),clamp($,0,_e),clamp($,1,_e),$[0]>$[1]&&($[0]=$[1])}function contain$1($,_e){return $>=_e[0]&&$<=_e[1]}function normalize$2($,_e){return _e[1]===_e[0]?.5:($-_e[0])/(_e[1]-_e[0])}function scale($,_e){return $*(_e[1]-_e[0])+_e[0]}var OrdinalScale=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;tt.type="ordinal";var nt=tt.getSetting("ordinalMeta");return nt||(nt=new OrdinalMeta$1({})),isArray$1(nt)&&(nt=new OrdinalMeta$1({categories:map$1(nt,function(at){return isObject$3(at)?at.value:at})})),tt._ordinalMeta=nt,tt._extent=tt.getSetting("extent")||[0,nt.categories.length-1],tt}return _e.prototype.parse=function(et){return et==null?NaN:isString(et)?this._ordinalMeta.getOrdinal(et):Math.round(et)},_e.prototype.contain=function(et){return et=this.parse(et),contain$1(et,this._extent)&&this._ordinalMeta.categories[et]!=null},_e.prototype.normalize=function(et){return et=this._getTickNumber(this.parse(et)),normalize$2(et,this._extent)},_e.prototype.scale=function(et){return et=Math.round(scale(et,this._extent)),this.getRawOrdinalNumber(et)},_e.prototype.getTicks=function(){for(var et=[],tt=this._extent,nt=tt[0];nt<=tt[1];)et.push({value:nt}),nt++;return et},_e.prototype.getMinorTicks=function(et){},_e.prototype.setSortInfo=function(et){if(et==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var tt=et.ordinalNumbers,nt=this._ordinalNumbersByTick=[],at=this._ticksByOrdinalNumber=[],ot=0,it=this._ordinalMeta.categories.length,st=Math.min(it,tt.length);ot<st;++ot){var ut=tt[ot];nt[ot]=ut,at[ut]=ot}for(var ft=0;ot<it;++ot){for(;at[ft]!=null;)ft++;nt.push(ft),at[ft]=ot}},_e.prototype._getTickNumber=function(et){var tt=this._ticksByOrdinalNumber;return tt&&et>=0&&et<tt.length?tt[et]:et},_e.prototype.getRawOrdinalNumber=function(et){var tt=this._ordinalNumbersByTick;return tt&&et>=0&&et<tt.length?tt[et]:et},_e.prototype.getLabel=function(et){if(!this.isBlank()){var tt=this.getRawOrdinalNumber(et.value),nt=this._ordinalMeta.categories[tt];return nt==null?"":nt+""}},_e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},_e.prototype.unionExtentFromData=function(et,tt){this.unionExtent(et.getApproximateExtent(tt))},_e.prototype.isInExtentRange=function(et){return et=this._getTickNumber(et),this._extent[0]<=et&&this._extent[1]>=et},_e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},_e.prototype.calcNiceTicks=function(){},_e.prototype.calcNiceExtent=function(){},_e.type="ordinal",_e}(Scale$1);Scale$1.registerClass(OrdinalScale);var OrdinalScale$1=OrdinalScale,roundNumber=round$3,IntervalScale=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="interval",et._interval=0,et._intervalPrecision=2,et}return _e.prototype.parse=function(et){return et},_e.prototype.contain=function(et){return contain$1(et,this._extent)},_e.prototype.normalize=function(et){return normalize$2(et,this._extent)},_e.prototype.scale=function(et){return scale(et,this._extent)},_e.prototype.setExtent=function(et,tt){var nt=this._extent;isNaN(et)||(nt[0]=parseFloat(et)),isNaN(tt)||(nt[1]=parseFloat(tt))},_e.prototype.unionExtent=function(et){var tt=this._extent;et[0]<tt[0]&&(tt[0]=et[0]),et[1]>tt[1]&&(tt[1]=et[1]),this.setExtent(tt[0],tt[1])},_e.prototype.getInterval=function(){return this._interval},_e.prototype.setInterval=function(et){this._interval=et,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(et)},_e.prototype.getTicks=function(et){var tt=this._interval,nt=this._extent,at=this._niceExtent,ot=this._intervalPrecision,it=[];if(!tt)return it;var st=1e4;nt[0]<at[0]&&(et?it.push({value:roundNumber(at[0]-tt,ot)}):it.push({value:nt[0]}));for(var ut=at[0];ut<=at[1]&&(it.push({value:ut}),ut=roundNumber(ut+tt,ot),ut!==it[it.length-1].value);)if(it.length>st)return[];var ft=it.length?it[it.length-1].value:at[1];return nt[1]>ft&&(et?it.push({value:roundNumber(ft+tt,ot)}):it.push({value:nt[1]})),it},_e.prototype.getMinorTicks=function(et){for(var tt=this.getTicks(!0),nt=[],at=this.getExtent(),ot=1;ot<tt.length;ot++){for(var it=tt[ot],st=tt[ot-1],ut=0,ft=[],dt=it.value-st.value,vt=dt/et;ut<et-1;){var gt=roundNumber(st.value+(ut+1)*vt);gt>at[0]&&gt<at[1]&&ft.push(gt),ut++}nt.push(ft)}return nt},_e.prototype.getLabel=function(et,tt){if(et==null)return"";var nt=tt&&tt.precision;nt==null?nt=getPrecision(et.value)||0:nt==="auto"&&(nt=this._intervalPrecision);var at=roundNumber(et.value,nt,!0);return addCommas(at)},_e.prototype.calcNiceTicks=function(et,tt,nt){et=et||5;var at=this._extent,ot=at[1]-at[0];if(!!isFinite(ot)){ot<0&&(ot=-ot,at.reverse());var it=intervalScaleNiceTicks(at,et,tt,nt);this._intervalPrecision=it.intervalPrecision,this._interval=it.interval,this._niceExtent=it.niceTickExtent}},_e.prototype.calcNiceExtent=function(et){var tt=this._extent;if(tt[0]===tt[1])if(tt[0]!==0){var nt=tt[0];et.fixMax||(tt[1]+=nt/2),tt[0]-=nt/2}else tt[1]=1;var at=tt[1]-tt[0];isFinite(at)||(tt[0]=0,tt[1]=1),this.calcNiceTicks(et.splitNumber,et.minInterval,et.maxInterval);var ot=this._interval;et.fixMin||(tt[0]=roundNumber(Math.floor(tt[0]/ot)*ot)),et.fixMax||(tt[1]=roundNumber(Math.ceil(tt[1]/ot)*ot))},_e.prototype.setNiceExtent=function(et,tt){this._niceExtent=[et,tt]},_e.type="interval",_e}(Scale$1);Scale$1.registerClass(IntervalScale);var IntervalScale$1=IntervalScale,supportFloat32Array=typeof Float32Array!="undefined",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array($){return isArray$1($)?supportFloat32Array?new Float32Array($):$:new Float32ArrayCtor($)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1($){return $.get("stack")||STACK_PREFIX+$.seriesIndex}function getAxisKey$1($){return $.dim+$.index}function getLayoutOnAxis($){var _e=[],et=$.axis,tt="axis0";if(et.type==="category"){for(var nt=et.getBandWidth(),at=0;at<$.count;at++)_e.push(defaults({bandWidth:nt,axisKey:tt,stackId:STACK_PREFIX+at},$));for(var ot=doCalBarWidthAndOffset(_e),it=[],at=0;at<$.count;at++){var st=ot[tt][STACK_PREFIX+at];st.offsetCenter=st.offset+st.width/2,it.push(st)}return it}}function prepareLayoutBarSeries($,_e){var et=[];return _e.eachSeriesByType($,function(tt){isOnCartesian(tt)&&et.push(tt)}),et}function getValueAxesMinGaps($){var _e={};each$f($,function(st){var ut=st.coordinateSystem,ft=ut.getBaseAxis();if(!(ft.type!=="time"&&ft.type!=="value"))for(var dt=st.getData(),vt=ft.dim+"_"+ft.index,gt=dt.getDimensionIndex(dt.mapDimension(ft.dim)),yt=dt.getStore(),xt=0,Ct=yt.count();xt<Ct;++xt){var wt=yt.get(gt,xt);_e[vt]?_e[vt].push(wt):_e[vt]=[wt]}});var et={};for(var tt in _e)if(_e.hasOwnProperty(tt)){var nt=_e[tt];if(nt){nt.sort(function(st,ut){return st-ut});for(var at=null,ot=1;ot<nt.length;++ot){var it=nt[ot]-nt[ot-1];it>0&&(at=at===null?it:Math.min(at,it))}et[tt]=at}}return et}function makeColumnLayout($){var _e=getValueAxesMinGaps($),et=[];return each$f($,function(tt){var nt=tt.coordinateSystem,at=nt.getBaseAxis(),ot=at.getExtent(),it;if(at.type==="category")it=at.getBandWidth();else if(at.type==="value"||at.type==="time"){var st=at.dim+"_"+at.index,ut=_e[st],ft=Math.abs(ot[1]-ot[0]),dt=at.scale.getExtent(),vt=Math.abs(dt[1]-dt[0]);it=ut?ft/vt*ut:ft}else{var gt=tt.getData();it=Math.abs(ot[1]-ot[0])/gt.count()}var yt=parsePercent(tt.get("barWidth"),it),xt=parsePercent(tt.get("barMaxWidth"),it),Ct=parsePercent(tt.get("barMinWidth")||(isInLargeMode(tt)?.5:1),it),wt=tt.get("barGap"),Et=tt.get("barCategoryGap");et.push({bandWidth:it,barWidth:yt,barMaxWidth:xt,barMinWidth:Ct,barGap:wt,barCategoryGap:Et,axisKey:getAxisKey$1(at),stackId:getSeriesStackId$1(tt)})}),doCalBarWidthAndOffset(et)}function doCalBarWidthAndOffset($){var _e={};each$f($,function(tt,nt){var at=tt.axisKey,ot=tt.bandWidth,it=_e[at]||{bandWidth:ot,remainedWidth:ot,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},st=it.stacks;_e[at]=it;var ut=tt.stackId;st[ut]||it.autoWidthCount++,st[ut]=st[ut]||{width:0,maxWidth:0};var ft=tt.barWidth;ft&&!st[ut].width&&(st[ut].width=ft,ft=Math.min(it.remainedWidth,ft),it.remainedWidth-=ft);var dt=tt.barMaxWidth;dt&&(st[ut].maxWidth=dt);var vt=tt.barMinWidth;vt&&(st[ut].minWidth=vt);var gt=tt.barGap;gt!=null&&(it.gap=gt);var yt=tt.barCategoryGap;yt!=null&&(it.categoryGap=yt)});var et={};return each$f(_e,function(tt,nt){et[nt]={};var at=tt.stacks,ot=tt.bandWidth,it=tt.categoryGap;if(it==null){var st=keys(at).length;it=Math.max(35-st*4,15)+"%"}var ut=parsePercent(it,ot),ft=parsePercent(tt.gap,1),dt=tt.remainedWidth,vt=tt.autoWidthCount,gt=(dt-ut)/(vt+(vt-1)*ft);gt=Math.max(gt,0),each$f(at,function(wt){var Et=wt.maxWidth,$t=wt.minWidth;if(wt.width){var It=wt.width;Et&&(It=Math.min(It,Et)),$t&&(It=Math.max(It,$t)),wt.width=It,dt-=It+ft*It,vt--}else{var It=gt;Et&&Et<It&&(It=Math.min(Et,dt)),$t&&$t>It&&(It=$t),It!==gt&&(wt.width=It,dt-=It+ft*It,vt--)}}),gt=(dt-ut)/(vt+(vt-1)*ft),gt=Math.max(gt,0);var yt=0,xt;each$f(at,function(wt,Et){wt.width||(wt.width=gt),xt=wt,yt+=wt.width*(1+ft)}),xt&&(yt-=xt.width*ft);var Ct=-yt/2;each$f(at,function(wt,Et){et[nt][Et]=et[nt][Et]||{bandWidth:ot,offset:Ct,width:wt.width},Ct+=wt.width*(1+ft)})}),et}function retrieveColumnLayout($,_e,et){if($&&_e){var tt=$[getAxisKey$1(_e)];return tt!=null&&et!=null?tt[getSeriesStackId$1(et)]:tt}}function layout$3($,_e){var et=prepareLayoutBarSeries($,_e),tt=makeColumnLayout(et);each$f(et,function(nt){var at=nt.getData(),ot=nt.coordinateSystem,it=ot.getBaseAxis(),st=getSeriesStackId$1(nt),ut=tt[getAxisKey$1(it)][st],ft=ut.offset,dt=ut.width;at.setLayout({bandWidth:ut.bandWidth,offset:ft,size:dt})})}function createProgressiveLayout($){return{seriesType:$,plan:createRenderPlanner(),reset:function(_e){if(!!isOnCartesian(_e)){var et=_e.getData(),tt=_e.coordinateSystem,nt=tt.getBaseAxis(),at=tt.getOtherAxis(nt),ot=et.getDimensionIndex(et.mapDimension(at.dim)),it=et.getDimensionIndex(et.mapDimension(nt.dim)),st=_e.get("showBackground",!0),ut=et.mapDimension(at.dim),ft=et.getCalculationInfo("stackResultDimension"),dt=isDimensionStacked(et,ut)&&!!et.getCalculationInfo("stackedOnSeries"),vt=at.isHorizontal(),gt=getValueAxisStart(nt,at),yt=isInLargeMode(_e),xt=_e.get("barMinHeight")||0,Ct=ft&&et.getDimensionIndex(ft),wt=et.getLayout("size"),Et=et.getLayout("offset");return{progress:function($t,It){for(var Ot=$t.count,Lt=yt&&createFloat32Array(Ot*3),Ft=yt&&st&&createFloat32Array(Ot*3),zt=yt&&createFloat32Array(Ot),Gt=tt.master.getRect(),jt=vt?Gt.width:Gt.height,Ut,Kt=It.getStore(),Zt=0;(Ut=$t.next())!=null;){var Qt=Kt.get(dt?Ct:ot,Ut),rr=Kt.get(it,Ut),nr=gt,dr=void 0;dt&&(dr=+Qt-Kt.get(ot,Ut));var sr=void 0,fr=void 0,yr=void 0,Pr=void 0;if(vt){var wr=tt.dataToPoint([Qt,rr]);if(dt){var Mr=tt.dataToPoint([dr,rr]);nr=Mr[0]}sr=nr,fr=wr[1]+Et,yr=wr[0]-nr,Pr=wt,Math.abs(yr)<xt&&(yr=(yr<0?-1:1)*xt)}else{var wr=tt.dataToPoint([rr,Qt]);if(dt){var Mr=tt.dataToPoint([rr,dr]);nr=Mr[1]}sr=wr[0]+Et,fr=nr,yr=wt,Pr=wr[1]-nr,Math.abs(Pr)<xt&&(Pr=(Pr<=0?-1:1)*xt)}yt?(Lt[Zt]=sr,Lt[Zt+1]=fr,Lt[Zt+2]=vt?yr:Pr,Ft&&(Ft[Zt]=vt?Gt.x:sr,Ft[Zt+1]=vt?fr:Gt.y,Ft[Zt+2]=jt),zt[Ut]=Ut):It.setItemLayout(Ut,{x:sr,y:fr,width:yr,height:Pr}),Zt+=3}yt&&It.setLayout({largePoints:Lt,largeDataIndices:zt,largeBackgroundPoints:Ft,valueAxisHorizontal:vt})}}}}}}function isOnCartesian($){return $.coordinateSystem&&$.coordinateSystem.type==="cartesian2d"}function isInLargeMode($){return $.pipelineContext&&$.pipelineContext.large}function getValueAxisStart($,_e){return _e.toGlobalCoord(_e.dataToCoord(_e.type==="log"?1:0))}var bisect=function($,_e,et,tt){for(;et<tt;){var nt=et+tt>>>1;$[nt][1]<_e?et=nt+1:tt=nt}return et},TimeScale=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="time",tt}return _e.prototype.getLabel=function(et){var tt=this.getSetting("useUTC");return format(et.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,tt,this.getSetting("locale"))},_e.prototype.getFormattedLabel=function(et,tt,nt){var at=this.getSetting("useUTC"),ot=this.getSetting("locale");return leveledFormat(et,tt,nt,ot,at)},_e.prototype.getTicks=function(){var et=this._interval,tt=this._extent,nt=[];if(!et)return nt;nt.push({value:tt[0],level:0});var at=this.getSetting("useUTC"),ot=getIntervalTicks(this._minLevelUnit,this._approxInterval,at,tt);return nt=nt.concat(ot),nt.push({value:tt[1],level:0}),nt},_e.prototype.calcNiceExtent=function(et){var tt=this._extent;if(tt[0]===tt[1]&&(tt[0]-=ONE_DAY,tt[1]+=ONE_DAY),tt[1]===-1/0&&tt[0]===1/0){var nt=new Date;tt[1]=+new Date(nt.getFullYear(),nt.getMonth(),nt.getDate()),tt[0]=tt[1]-ONE_DAY}this.calcNiceTicks(et.splitNumber,et.minInterval,et.maxInterval)},_e.prototype.calcNiceTicks=function(et,tt,nt){et=et||10;var at=this._extent,ot=at[1]-at[0];this._approxInterval=ot/et,tt!=null&&this._approxInterval<tt&&(this._approxInterval=tt),nt!=null&&this._approxInterval>nt&&(this._approxInterval=nt);var it=scaleIntervals.length,st=Math.min(bisect(scaleIntervals,this._approxInterval,0,it),it-1);this._interval=scaleIntervals[st][1],this._minLevelUnit=scaleIntervals[Math.max(st-1,0)][0]},_e.prototype.parse=function(et){return isNumber(et)?et:+parseDate(et)},_e.prototype.contain=function(et){return contain$1(this.parse(et),this._extent)},_e.prototype.normalize=function(et){return normalize$2(this.parse(et),this._extent)},_e.prototype.scale=function(et){return scale(et,this._extent)},_e.type="time",_e}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame($,_e,et,tt){var nt=parseDate(_e),at=parseDate(et),ot=function(yt){return getUnitValue(nt,yt,tt)===getUnitValue(at,yt,tt)},it=function(){return ot("year")},st=function(){return it()&&ot("month")},ut=function(){return st()&&ot("day")},ft=function(){return ut()&&ot("hour")},dt=function(){return ft()&&ot("minute")},vt=function(){return dt()&&ot("second")},gt=function(){return vt()&&ot("millisecond")};switch($){case"year":return it();case"month":return st();case"day":return ut();case"hour":return ft();case"minute":return dt();case"second":return vt();case"millisecond":return gt()}}function getDateInterval($,_e){return $/=ONE_DAY,$>16?16:$>7.5?7:$>3.5?4:$>1.5?2:1}function getMonthInterval($){var _e=30*ONE_DAY;return $/=_e,$>6?6:$>3?3:$>2?2:1}function getHourInterval($){return $/=ONE_HOUR,$>12?12:$>6?6:$>3.5?4:$>2?2:1}function getMinutesAndSecondsInterval($,_e){return $/=_e?ONE_MINUTE:ONE_SECOND,$>30?30:$>20?20:$>15?15:$>10?10:$>5?5:$>2?2:1}function getMillisecondsInterval($){return nice($,!0)}function getFirstTimestampOfUnit($,_e,et){var tt=new Date($);switch(getPrimaryTimeUnit(_e)){case"year":case"month":tt[monthSetterName(et)](0);case"day":tt[dateSetterName(et)](1);case"hour":tt[hoursSetterName(et)](0);case"minute":tt[minutesSetterName(et)](0);case"second":tt[secondsSetterName(et)](0),tt[millisecondsSetterName(et)](0)}return tt.getTime()}function getIntervalTicks($,_e,et,tt){var nt=1e4,at=timeUnits,ot=0;function it(jt,Ut,Kt,Zt,Qt,rr,nr){for(var dr=new Date(Ut),sr=Ut,fr=dr[Zt]();sr<Kt&&sr<=tt[1];)nr.push({value:sr}),fr+=jt,dr[Qt](fr),sr=dr.getTime();nr.push({value:sr,notAdd:!0})}function st(jt,Ut,Kt){var Zt=[],Qt=!Ut.length;if(!isUnitValueSame(getPrimaryTimeUnit(jt),tt[0],tt[1],et)){Qt&&(Ut=[{value:getFirstTimestampOfUnit(new Date(tt[0]),jt,et)},{value:tt[1]}]);for(var rr=0;rr<Ut.length-1;rr++){var nr=Ut[rr].value,dr=Ut[rr+1].value;if(nr!==dr){var sr=void 0,fr=void 0,yr=void 0,Pr=!1;switch(jt){case"year":sr=Math.max(1,Math.round(_e/ONE_DAY/365)),fr=fullYearGetterName(et),yr=fullYearSetterName(et);break;case"half-year":case"quarter":case"month":sr=getMonthInterval(_e),fr=monthGetterName(et),yr=monthSetterName(et);break;case"week":case"half-week":case"day":sr=getDateInterval(_e),fr=dateGetterName(et),yr=dateSetterName(et),Pr=!0;break;case"half-day":case"quarter-day":case"hour":sr=getHourInterval(_e),fr=hoursGetterName(et),yr=hoursSetterName(et);break;case"minute":sr=getMinutesAndSecondsInterval(_e,!0),fr=minutesGetterName(et),yr=minutesSetterName(et);break;case"second":sr=getMinutesAndSecondsInterval(_e,!1),fr=secondsGetterName(et),yr=secondsSetterName(et);break;case"millisecond":sr=getMillisecondsInterval(_e),fr=millisecondsGetterName(et),yr=millisecondsSetterName(et);break}it(sr,nr,dr,fr,yr,Pr,Zt),jt==="year"&&Kt.length>1&&rr===0&&Kt.unshift({value:Kt[0].value-sr})}}for(var rr=0;rr<Zt.length;rr++)Kt.push(Zt[rr]);return Zt}}for(var ut=[],ft=[],dt=0,vt=0,gt=0;gt<at.length&&ot++<nt;++gt){var yt=getPrimaryTimeUnit(at[gt]);if(!!isPrimaryTimeUnit(at[gt])){st(at[gt],ut[ut.length-1]||[],ft);var xt=at[gt+1]?getPrimaryTimeUnit(at[gt+1]):null;if(yt!==xt){if(ft.length){vt=dt,ft.sort(function(jt,Ut){return jt.value-Ut.value});for(var Ct=[],wt=0;wt<ft.length;++wt){var Et=ft[wt].value;(wt===0||ft[wt-1].value!==Et)&&(Ct.push(ft[wt]),Et>=tt[0]&&Et<=tt[1]&&dt++)}var $t=(tt[1]-tt[0])/_e;if(dt>$t*1.5&&vt>$t/1.5||(ut.push(Ct),dt>$t||$===at[gt]))break}ft=[]}}}for(var It=filter(map$1(ut,function(jt){return filter(jt,function(Ut){return Ut.value>=tt[0]&&Ut.value<=tt[1]&&!Ut.notAdd})}),function(jt){return jt.length>0}),Ot=[],Lt=It.length-1,gt=0;gt<It.length;++gt)for(var Ft=It[gt],zt=0;zt<Ft.length;++zt)Ot.push({value:Ft[zt].value,level:Lt-gt});Ot.sort(function(jt,Ut){return jt.value-Ut.value});for(var Gt=[],gt=0;gt<Ot.length;++gt)(gt===0||Ot[gt].value!==Ot[gt-1].value)&&Gt.push(Ot[gt]);return Gt}Scale$1.registerClass(TimeScale);var TimeScale$1=TimeScale,scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="log",et.base=10,et._originalScale=new IntervalScale$1,et._interval=0,et}return _e.prototype.getTicks=function(et){var tt=this._originalScale,nt=this._extent,at=tt.getExtent(),ot=intervalScaleProto.getTicks.call(this,et);return map$1(ot,function(it){var st=it.value,ut=round$3(mathPow$1(this.base,st));return ut=st===nt[0]&&this._fixMin?fixRoundingError(ut,at[0]):ut,ut=st===nt[1]&&this._fixMax?fixRoundingError(ut,at[1]):ut,{value:ut}},this)},_e.prototype.setExtent=function(et,tt){var nt=this.base;et=mathLog$1(et)/mathLog$1(nt),tt=mathLog$1(tt)/mathLog$1(nt),intervalScaleProto.setExtent.call(this,et,tt)},_e.prototype.getExtent=function(){var et=this.base,tt=scaleProto.getExtent.call(this);tt[0]=mathPow$1(et,tt[0]),tt[1]=mathPow$1(et,tt[1]);var nt=this._originalScale,at=nt.getExtent();return this._fixMin&&(tt[0]=fixRoundingError(tt[0],at[0])),this._fixMax&&(tt[1]=fixRoundingError(tt[1],at[1])),tt},_e.prototype.unionExtent=function(et){this._originalScale.unionExtent(et);var tt=this.base;et[0]=mathLog$1(et[0])/mathLog$1(tt),et[1]=mathLog$1(et[1])/mathLog$1(tt),scaleProto.unionExtent.call(this,et)},_e.prototype.unionExtentFromData=function(et,tt){this.unionExtent(et.getApproximateExtent(tt))},_e.prototype.calcNiceTicks=function(et){et=et||10;var tt=this._extent,nt=tt[1]-tt[0];if(!(nt===1/0||nt<=0)){var at=quantity(nt),ot=et/nt*at;for(ot<=.5&&(at*=10);!isNaN(at)&&Math.abs(at)<1&&Math.abs(at)>0;)at*=10;var it=[round$3(mathCeil$1(tt[0]/at)*at),round$3(mathFloor$1(tt[1]/at)*at)];this._interval=at,this._niceExtent=it}},_e.prototype.calcNiceExtent=function(et){intervalScaleProto.calcNiceExtent.call(this,et),this._fixMin=et.fixMin,this._fixMax=et.fixMax},_e.prototype.parse=function(et){return et},_e.prototype.contain=function(et){return et=mathLog$1(et)/mathLog$1(this.base),contain$1(et,this._extent)},_e.prototype.normalize=function(et){return et=mathLog$1(et)/mathLog$1(this.base),normalize$2(et,this._extent)},_e.prototype.scale=function(et){return et=scale(et,this._extent),mathPow$1(this.base,et)},_e.type="log",_e}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError($,_e){return roundingErrorFix($,getPrecision(_e))}Scale$1.registerClass(LogScale);var LogScale$1=LogScale,ScaleRawExtentInfo=function(){function $(_e,et,tt){this._prepareParams(_e,et,tt)}return $.prototype._prepareParams=function(_e,et,tt){tt[1]<tt[0]&&(tt=[NaN,NaN]),this._dataMin=tt[0],this._dataMax=tt[1];var nt=this._isOrdinal=_e.type==="ordinal";this._needCrossZero=_e.type==="interval"&&et.getNeedCrossZero&&et.getNeedCrossZero();var at=this._modelMinRaw=et.get("min",!0);isFunction(at)?this._modelMinNum=parseAxisModelMinMax(_e,at({min:tt[0],max:tt[1]})):at!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(_e,at));var ot=this._modelMaxRaw=et.get("max",!0);if(isFunction(ot)?this._modelMaxNum=parseAxisModelMinMax(_e,ot({min:tt[0],max:tt[1]})):ot!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(_e,ot)),nt)this._axisDataLen=et.getCategories().length;else{var it=et.get("boundaryGap"),st=isArray$1(it)?it:[it||0,it||0];typeof st[0]=="boolean"||typeof st[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(st[0],1),parsePercent$1(st[1],1)]}},$.prototype.calculate=function(){var _e=this._isOrdinal,et=this._dataMin,tt=this._dataMax,nt=this._axisDataLen,at=this._boundaryGapInner,ot=_e?null:tt-et||Math.abs(et),it=this._modelMinRaw==="dataMin"?et:this._modelMinNum,st=this._modelMaxRaw==="dataMax"?tt:this._modelMaxNum,ut=it!=null,ft=st!=null;it==null&&(it=_e?nt?0:NaN:et-at[0]*ot),st==null&&(st=_e?nt?nt-1:NaN:tt+at[1]*ot),(it==null||!isFinite(it))&&(it=NaN),(st==null||!isFinite(st))&&(st=NaN);var dt=eqNaN(it)||eqNaN(st)||_e&&!nt;this._needCrossZero&&(it>0&&st>0&&!ut&&(it=0),it<0&&st<0&&!ft&&(st=0));var vt=this._determinedMin,gt=this._determinedMax;return vt!=null&&(it=vt,ut=!0),gt!=null&&(st=gt,ft=!0),{min:it,max:st,minFixed:ut,maxFixed:ft,isBlank:dt}},$.prototype.modifyDataMinMax=function(_e,et){this[DATA_MIN_MAX_ATTR[_e]]=et},$.prototype.setDeterminedMinMax=function(_e,et){var tt=DETERMINED_MIN_MAX_ATTR[_e];this[tt]=et},$.prototype.freeze=function(){this.frozen=!0},$}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo($,_e,et){var tt=$.rawExtentInfo;return tt||(tt=new ScaleRawExtentInfo($,_e,et),$.rawExtentInfo=tt,tt)}function parseAxisModelMinMax($,_e){return _e==null?null:eqNaN(_e)?NaN:$.parse(_e)}function getScaleExtent($,_e){var et=$.type,tt=ensureScaleRawExtentInfo($,_e,$.getExtent()).calculate();$.setBlank(tt.isBlank);var nt=tt.min,at=tt.max,ot=_e.ecModel;if(ot&&et==="time"){var it=prepareLayoutBarSeries("bar",ot),st=!1;if(each$f(it,function(dt){st=st||dt.getBaseAxis()===_e.axis}),st){var ut=makeColumnLayout(it),ft=adjustScaleForOverflow(nt,at,_e,ut);nt=ft.min,at=ft.max}}return{extent:[nt,at],fixMin:tt.minFixed,fixMax:tt.maxFixed}}function adjustScaleForOverflow($,_e,et,tt){var nt=et.axis.getExtent(),at=nt[1]-nt[0],ot=retrieveColumnLayout(tt,et.axis);if(ot===void 0)return{min:$,max:_e};var it=1/0;each$f(ot,function(gt){it=Math.min(gt.offset,it)});var st=-1/0;each$f(ot,function(gt){st=Math.max(gt.offset+gt.width,st)}),it=Math.abs(it),st=Math.abs(st);var ut=it+st,ft=_e-$,dt=1-(it+st)/at,vt=ft/dt-ft;return _e+=vt*(st/ut),$-=vt*(it/ut),{min:$,max:_e}}function niceScaleExtent($,_e){var et=_e,tt=getScaleExtent($,et),nt=tt.extent,at=et.get("splitNumber");$ instanceof LogScale$1&&($.base=et.get("logBase"));var ot=$.type,it=et.get("interval"),st=ot==="interval"||ot==="time";$.setExtent(nt[0],nt[1]),$.calcNiceExtent({splitNumber:at,fixMin:tt.fixMin,fixMax:tt.fixMax,minInterval:st?et.get("minInterval"):null,maxInterval:st?et.get("maxInterval"):null}),it!=null&&$.setInterval&&$.setInterval(it)}function createScaleByModel$1($,_e){if(_e=_e||$.get("type"),_e)switch(_e){case"category":return new OrdinalScale$1({ordinalMeta:$.getOrdinalMeta?$.getOrdinalMeta():$.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:$.ecModel.getLocaleModel(),useUTC:$.ecModel.get("useUTC")});default:return new(Scale$1.getClass(_e)||IntervalScale$1)}}function ifAxisCrossZero($){var _e=$.scale.getExtent(),et=_e[0],tt=_e[1];return!(et>0&&tt>0||et<0&&tt<0)}function makeLabelFormatter($){var _e=$.getLabelModel().get("formatter"),et=$.type==="category"?$.scale.getExtent()[0]:null;return $.scale.type==="time"?function(tt){return function(nt,at){return $.scale.getFormattedLabel(nt,at,tt)}}(_e):isString(_e)?function(tt){return function(nt){var at=$.scale.getLabel(nt),ot=tt.replace("{value}",at!=null?at:"");return ot}}(_e):isFunction(_e)?function(tt){return function(nt,at){return et!=null&&(at=nt.value-et),tt(getAxisRawValue($,nt),at,nt.level!=null?{level:nt.level}:null)}}(_e):function(tt){return $.scale.getLabel(tt)}}function getAxisRawValue($,_e){return $.type==="category"?$.scale.getLabel(_e):_e.value}function estimateLabelUnionRect($){var _e=$.model,et=$.scale;if(!(!_e.get(["axisLabel","show"])||et.isBlank())){var tt,nt,at=et.getExtent();et instanceof OrdinalScale$1?nt=et.count():(tt=et.getTicks(),nt=tt.length);var ot=$.getLabelModel(),it=makeLabelFormatter($),st,ut=1;nt>40&&(ut=Math.ceil(nt/40));for(var ft=0;ft<nt;ft+=ut){var dt=tt?tt[ft]:{value:at[0]+ft},vt=it(dt,ft),gt=ot.getTextRect(vt),yt=rotateTextRect(gt,ot.get("rotate")||0);st?st.union(yt):st=yt}return st}}function rotateTextRect($,_e){var et=_e*Math.PI/180,tt=$.width,nt=$.height,at=tt*Math.abs(Math.cos(et))+Math.abs(nt*Math.sin(et)),ot=tt*Math.abs(Math.sin(et))+Math.abs(nt*Math.cos(et)),it=new BoundingRect$1($.x,$.y,at,ot);return it}function getOptionCategoryInterval($){var _e=$.get("interval");return _e==null?"auto":_e}function shouldShowAllLabels($){return $.type==="category"&&getOptionCategoryInterval($.getLabelModel())===0}function getDataDimensionsOnAxis($,_e){var et={};return each$f($.mapDimensionsAll(_e),function(tt){et[getStackedDimension($,tt)]=!0}),keys(et)}function unionAxisExtentFromData($,_e,et){_e&&each$f(getDataDimensionsOnAxis(_e,et),function(tt){var nt=_e.getApproximateExtent(tt);nt[0]<$[0]&&($[0]=nt[0]),nt[1]>$[1]&&($[1]=nt[1])})}var AxisModelCommonMixin=function(){function $(){}return $.prototype.getNeedCrossZero=function(){var _e=this.option;return!_e.scale},$.prototype.getCoordSysModel=function(){},$}(),EPSILON=1e-8;function isAroundEqual($,_e){return Math.abs($-_e)<EPSILON}function contain($,_e,et){var tt=0,nt=$[0];if(!nt)return!1;for(var at=1;at<$.length;at++){var ot=$[at];tt+=windingLine(nt[0],nt[1],ot[0],ot[1],_e,et),nt=ot}var it=$[0];return(!isAroundEqual(nt[0],it[0])||!isAroundEqual(nt[1],it[1]))&&(tt+=windingLine(nt[0],nt[1],it[0],it[1],_e,et)),tt!==0}var TMP_TRANSFORM=[];function transformPoints($,_e){for(var et=0;et<$.length;et++)applyTransform$1($[et],$[et],_e)}function updateBBoxFromPoints($,_e,et,tt){for(var nt=0;nt<$.length;nt++){var at=$[nt];tt&&(at=tt.project(at)),at&&isFinite(at[0])&&isFinite(at[1])&&(min$1(_e,_e,at),max$1(et,et,at))}}function centroid$1($){for(var _e=0,et=0,tt=0,nt=$.length,at=$[nt-1][0],ot=$[nt-1][1],it=0;it<nt;it++){var st=$[it][0],ut=$[it][1],ft=at*ut-st*ot;_e+=ft,et+=(at+st)*ft,tt+=(ot+ut)*ft,at=st,ot=ut}return _e?[et/_e/3,tt/_e/3,_e]:[$[0][0]||0,$[0][1]||0]}var Region=function(){function $(_e){this.name=_e}return $.prototype.setCenter=function(_e){this._center=_e},$.prototype.getCenter=function(){var _e=this._center;return _e||(_e=this._center=this.calcCenter()),_e},$}(),GeoJSONPolygonGeometry=function(){function $(_e,et){this.type="polygon",this.exterior=_e,this.interiors=et}return $}(),GeoJSONLineStringGeometry=function(){function $(_e){this.type="linestring",this.points=_e}return $}(),GeoJSONRegion=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this,et)||this;return at.type="geoJSON",at.geometries=tt,at._center=nt&&[nt[0],nt[1]],at}return _e.prototype.calcCenter=function(){for(var et=this.geometries,tt,nt=0,at=0;at<et.length;at++){var ot=et[at],it=ot.exterior,st=it&&it.length;st>nt&&(tt=ot,nt=st)}if(tt)return centroid$1(tt.exterior);var ut=this.getBoundingRect();return[ut.x+ut.width/2,ut.y+ut.height/2]},_e.prototype.getBoundingRect=function(et){var tt=this._rect;if(tt&&!et)return tt;var nt=[1/0,1/0],at=[-1/0,-1/0],ot=this.geometries;return each$f(ot,function(it){it.type==="polygon"?updateBBoxFromPoints(it.exterior,nt,at,et):each$f(it.points,function(st){updateBBoxFromPoints(st,nt,at,et)})}),isFinite(nt[0])&&isFinite(nt[1])&&isFinite(at[0])&&isFinite(at[1])||(nt[0]=nt[1]=at[0]=at[1]=0),tt=new BoundingRect$1(nt[0],nt[1],at[0]-nt[0],at[1]-nt[1]),et||(this._rect=tt),tt},_e.prototype.contain=function(et){var tt=this.getBoundingRect(),nt=this.geometries;if(!tt.contain(et[0],et[1]))return!1;e:for(var at=0,ot=nt.length;at<ot;at++){var it=nt[at];if(it.type==="polygon"){var st=it.exterior,ut=it.interiors;if(contain(st,et[0],et[1])){for(var ft=0;ft<(ut?ut.length:0);ft++)if(contain(ut[ft],et[0],et[1]))continue e;return!0}}}return!1},_e.prototype.transformTo=function(et,tt,nt,at){var ot=this.getBoundingRect(),it=ot.width/ot.height;nt?at||(at=nt/it):nt=it*at;for(var st=new BoundingRect$1(et,tt,nt,at),ut=ot.calculateTransform(st),ft=this.geometries,dt=0;dt<ft.length;dt++){var vt=ft[dt];vt.type==="polygon"?(transformPoints(vt.exterior,ut),each$f(vt.interiors,function(gt){transformPoints(gt,ut)})):each$f(vt.points,function(gt){transformPoints(gt,ut)})}ot=this._rect,ot.copy(st),this._center=[ot.x+ot.width/2,ot.y+ot.height/2]},_e.prototype.cloneShallow=function(et){et==null&&(et=this.name);var tt=new _e(et,this.geometries,this._center);return tt._rect=this._rect,tt.transformTo=null,tt},_e}(Region),GeoSVGRegion=function($){__extends(_e,$);function _e(et,tt){var nt=$.call(this,et)||this;return nt.type="geoSVG",nt._elOnlyForCalculate=tt,nt}return _e.prototype.calcCenter=function(){for(var et=this._elOnlyForCalculate,tt=et.getBoundingRect(),nt=[tt.x+tt.width/2,tt.y+tt.height/2],at=identity(TMP_TRANSFORM),ot=et;ot&&!ot.isGeoSVGGraphicRoot;)mul(at,ot.getLocalTransform(),at),ot=ot.parent;return invert(at,at),applyTransform$1(nt,nt,at),nt},_e}(Region);function decode($){if(!$.UTF8Encoding)return $;var _e=$,et=_e.UTF8Scale;et==null&&(et=1024);var tt=_e.features;return each$f(tt,function(nt){var at=nt.geometry,ot=at.encodeOffsets,it=at.coordinates;if(!!ot)switch(at.type){case"LineString":at.coordinates=decodeRing(it,ot,et);break;case"Polygon":decodeRings(it,ot,et);break;case"MultiLineString":decodeRings(it,ot,et);break;case"MultiPolygon":each$f(it,function(st,ut){return decodeRings(st,ot[ut],et)})}}),_e.UTF8Encoding=!1,_e}function decodeRings($,_e,et){for(var tt=0;tt<$.length;tt++)$[tt]=decodeRing($[tt],_e[tt],et)}function decodeRing($,_e,et){for(var tt=[],nt=_e[0],at=_e[1],ot=0;ot<$.length;ot+=2){var it=$.charCodeAt(ot)-64,st=$.charCodeAt(ot+1)-64;it=it>>1^-(it&1),st=st>>1^-(st&1),it+=nt,st+=at,nt=it,at=st,tt.push([it/et,st/et])}return tt}function parseGeoJSON($,_e){return $=decode($),map$1(filter($.features,function(et){return et.geometry&&et.properties&&et.geometry.coordinates.length>0}),function(et){var tt=et.properties,nt=et.geometry,at=[];switch(nt.type){case"Polygon":var ot=nt.coordinates;at.push(new GeoJSONPolygonGeometry(ot[0],ot.slice(1)));break;case"MultiPolygon":each$f(nt.coordinates,function(st){st[0]&&at.push(new GeoJSONPolygonGeometry(st[0],st.slice(1)))});break;case"LineString":at.push(new GeoJSONLineStringGeometry([nt.coordinates]));break;case"MultiLineString":at.push(new GeoJSONLineStringGeometry(nt.coordinates))}var it=new GeoJSONRegion(tt[_e||"name"],at,tt.cp);return it.properties=tt,it})}var inner$g=makeInner();function createAxisLabels($){return $.type==="category"?makeCategoryLabels($):makeRealNumberLabels($)}function createAxisTicks($,_e){return $.type==="category"?makeCategoryTicks($,_e):{ticks:map$1($.scale.getTicks(),function(et){return et.value})}}function makeCategoryLabels($){var _e=$.getLabelModel(),et=makeCategoryLabelsActually($,_e);return!_e.get("show")||$.scale.isBlank()?{labels:[],labelCategoryInterval:et.labelCategoryInterval}:et}function makeCategoryLabelsActually($,_e){var et=getListCache($,"labels"),tt=getOptionCategoryInterval(_e),nt=listCacheGet(et,tt);if(nt)return nt;var at,ot;return isFunction(tt)?at=makeLabelsByCustomizedCategoryInterval($,tt):(ot=tt==="auto"?makeAutoCategoryInterval($):tt,at=makeLabelsByNumericCategoryInterval($,ot)),listCacheSet(et,tt,{labels:at,labelCategoryInterval:ot})}function makeCategoryTicks($,_e){var et=getListCache($,"ticks"),tt=getOptionCategoryInterval(_e),nt=listCacheGet(et,tt);if(nt)return nt;var at,ot;if((!_e.get("show")||$.scale.isBlank())&&(at=[]),isFunction(tt))at=makeLabelsByCustomizedCategoryInterval($,tt,!0);else if(tt==="auto"){var it=makeCategoryLabelsActually($,$.getLabelModel());ot=it.labelCategoryInterval,at=map$1(it.labels,function(st){return st.tickValue})}else ot=tt,at=makeLabelsByNumericCategoryInterval($,ot,!0);return listCacheSet(et,tt,{ticks:at,tickCategoryInterval:ot})}function makeRealNumberLabels($){var _e=$.scale.getTicks(),et=makeLabelFormatter($);return{labels:map$1(_e,function(tt,nt){return{level:tt.level,formattedLabel:et(tt,nt),rawLabel:$.scale.getLabel(tt),tickValue:tt.value}})}}function getListCache($,_e){return inner$g($)[_e]||(inner$g($)[_e]=[])}function listCacheGet($,_e){for(var et=0;et<$.length;et++)if($[et].key===_e)return $[et].value}function listCacheSet($,_e,et){return $.push({key:_e,value:et}),et}function makeAutoCategoryInterval($){var _e=inner$g($).autoInterval;return _e!=null?_e:inner$g($).autoInterval=$.calculateCategoryInterval()}function calculateCategoryInterval($){var _e=fetchAutoCategoryIntervalCalculationParams($),et=makeLabelFormatter($),tt=(_e.axisRotate-_e.labelRotate)/180*Math.PI,nt=$.scale,at=nt.getExtent(),ot=nt.count();if(at[1]-at[0]<1)return 0;var it=1;ot>40&&(it=Math.max(1,Math.floor(ot/40)));for(var st=at[0],ut=$.dataToCoord(st+1)-$.dataToCoord(st),ft=Math.abs(ut*Math.cos(tt)),dt=Math.abs(ut*Math.sin(tt)),vt=0,gt=0;st<=at[1];st+=it){var yt=0,xt=0,Ct=getBoundingRect(et({value:st}),_e.font,"center","top");yt=Ct.width*1.3,xt=Ct.height*1.3,vt=Math.max(vt,yt,7),gt=Math.max(gt,xt,7)}var wt=vt/ft,Et=gt/dt;isNaN(wt)&&(wt=1/0),isNaN(Et)&&(Et=1/0);var $t=Math.max(0,Math.floor(Math.min(wt,Et))),It=inner$g($.model),Ot=$.getExtent(),Lt=It.lastAutoInterval,Ft=It.lastTickCount;return Lt!=null&&Ft!=null&&Math.abs(Lt-$t)<=1&&Math.abs(Ft-ot)<=1&&Lt>$t&&It.axisExtent0===Ot[0]&&It.axisExtent1===Ot[1]?$t=Lt:(It.lastTickCount=ot,It.lastAutoInterval=$t,It.axisExtent0=Ot[0],It.axisExtent1=Ot[1]),$t}function fetchAutoCategoryIntervalCalculationParams($){var _e=$.getLabelModel();return{axisRotate:$.getRotate?$.getRotate():$.isHorizontal&&!$.isHorizontal()?90:0,labelRotate:_e.get("rotate")||0,font:_e.getFont()}}function makeLabelsByNumericCategoryInterval($,_e,et){var tt=makeLabelFormatter($),nt=$.scale,at=nt.getExtent(),ot=$.getLabelModel(),it=[],st=Math.max((_e||0)+1,1),ut=at[0],ft=nt.count();ut!==0&&st>1&&ft/st>2&&(ut=Math.round(Math.ceil(ut/st)*st));var dt=shouldShowAllLabels($),vt=ot.get("showMinLabel")||dt,gt=ot.get("showMaxLabel")||dt;vt&&ut!==at[0]&&xt(at[0]);for(var yt=ut;yt<=at[1];yt+=st)xt(yt);gt&&yt-st!==at[1]&&xt(at[1]);function xt(Ct){var wt={value:Ct};it.push(et?Ct:{formattedLabel:tt(wt),rawLabel:nt.getLabel(wt),tickValue:Ct})}return it}function makeLabelsByCustomizedCategoryInterval($,_e,et){var tt=$.scale,nt=makeLabelFormatter($),at=[];return each$f(tt.getTicks(),function(ot){var it=tt.getLabel(ot),st=ot.value;_e(ot.value,it)&&at.push(et?st:{formattedLabel:nt(ot),rawLabel:it,tickValue:st})}),at}var NORMALIZED_EXTENT=[0,1],Axis=function(){function $(_e,et,tt){this.onBand=!1,this.inverse=!1,this.dim=_e,this.scale=et,this._extent=tt||[0,0]}return $.prototype.contain=function(_e){var et=this._extent,tt=Math.min(et[0],et[1]),nt=Math.max(et[0],et[1]);return _e>=tt&&_e<=nt},$.prototype.containData=function(_e){return this.scale.contain(_e)},$.prototype.getExtent=function(){return this._extent.slice()},$.prototype.getPixelPrecision=function(_e){return getPixelPrecision(_e||this.scale.getExtent(),this._extent)},$.prototype.setExtent=function(_e,et){var tt=this._extent;tt[0]=_e,tt[1]=et},$.prototype.dataToCoord=function(_e,et){var tt=this._extent,nt=this.scale;return _e=nt.normalize(_e),this.onBand&&nt.type==="ordinal"&&(tt=tt.slice(),fixExtentWithBands(tt,nt.count())),linearMap$2(_e,NORMALIZED_EXTENT,tt,et)},$.prototype.coordToData=function(_e,et){var tt=this._extent,nt=this.scale;this.onBand&&nt.type==="ordinal"&&(tt=tt.slice(),fixExtentWithBands(tt,nt.count()));var at=linearMap$2(_e,tt,NORMALIZED_EXTENT,et);return this.scale.scale(at)},$.prototype.pointToData=function(_e,et){},$.prototype.getTicksCoords=function(_e){_e=_e||{};var et=_e.tickModel||this.getTickModel(),tt=createAxisTicks(this,et),nt=tt.ticks,at=map$1(nt,function(it){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(it):it),tickValue:it}},this),ot=et.get("alignWithLabel");return fixOnBandTicksCoords(this,at,ot,_e.clamp),at},$.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var _e=this.model.getModel("minorTick"),et=_e.get("splitNumber");et>0&&et<100||(et=5);var tt=this.scale.getMinorTicks(et),nt=map$1(tt,function(at){return map$1(at,function(ot){return{coord:this.dataToCoord(ot),tickValue:ot}},this)},this);return nt},$.prototype.getViewLabels=function(){return createAxisLabels(this).labels},$.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},$.prototype.getTickModel=function(){return this.model.getModel("axisTick")},$.prototype.getBandWidth=function(){var _e=this._extent,et=this.scale.getExtent(),tt=et[1]-et[0]+(this.onBand?1:0);tt===0&&(tt=1);var nt=Math.abs(_e[1]-_e[0]);return Math.abs(nt)/tt},$.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},$}();function fixExtentWithBands($,_e){var et=$[1]-$[0],tt=_e,nt=et/tt/2;$[0]+=nt,$[1]-=nt}function fixOnBandTicksCoords($,_e,et,tt){var nt=_e.length;if(!$.onBand||et||!nt)return;var at=$.getExtent(),ot,it;if(nt===1)_e[0].coord=at[0],ot=_e[1]={coord:at[0]};else{var st=_e[nt-1].tickValue-_e[0].tickValue,ut=(_e[nt-1].coord-_e[0].coord)/st;each$f(_e,function(gt){gt.coord-=ut/2});var ft=$.scale.getExtent();it=1+ft[1]-_e[nt-1].tickValue,ot={coord:_e[nt-1].coord+ut*it},_e.push(ot)}var dt=at[0]>at[1];vt(_e[0].coord,at[0])&&(tt?_e[0].coord=at[0]:_e.shift()),tt&&vt(at[0],_e[0].coord)&&_e.unshift({coord:at[0]}),vt(at[1],ot.coord)&&(tt?ot.coord=at[1]:_e.pop()),tt&&vt(ot.coord,at[1])&&_e.push({coord:at[1]});function vt(gt,yt){return gt=round$3(gt),yt=round$3(yt),dt?gt>yt:gt<yt}}var Axis$1=Axis,PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor($,_e,et,tt,nt){var at=et.width,ot=et.height;switch($){case"top":tt.set(et.x+at/2,et.y-_e),nt.set(0,-1);break;case"bottom":tt.set(et.x+at/2,et.y+ot+_e),nt.set(0,1);break;case"left":tt.set(et.x-_e,et.y+ot/2),nt.set(-1,0);break;case"right":tt.set(et.x+at+_e,et.y+ot/2),nt.set(1,0);break}}function projectPointToArc($,_e,et,tt,nt,at,ot,it,st){ot-=$,it-=_e;var ut=Math.sqrt(ot*ot+it*it);ot/=ut,it/=ut;var ft=ot*et+$,dt=it*et+_e;if(Math.abs(tt-nt)%PI2$2<1e-4)return st[0]=ft,st[1]=dt,ut-et;if(at){var vt=tt;tt=normalizeRadian(nt),nt=normalizeRadian(vt)}else tt=normalizeRadian(tt),nt=normalizeRadian(nt);tt>nt&&(nt+=PI2$2);var gt=Math.atan2(it,ot);if(gt<0&&(gt+=PI2$2),gt>=tt&&gt<=nt||gt+PI2$2>=tt&&gt+PI2$2<=nt)return st[0]=ft,st[1]=dt,ut-et;var yt=et*Math.cos(tt)+$,xt=et*Math.sin(tt)+_e,Ct=et*Math.cos(nt)+$,wt=et*Math.sin(nt)+_e,Et=(yt-ot)*(yt-ot)+(xt-it)*(xt-it),$t=(Ct-ot)*(Ct-ot)+(wt-it)*(wt-it);return Et<$t?(st[0]=yt,st[1]=xt,Math.sqrt(Et)):(st[0]=Ct,st[1]=wt,Math.sqrt($t))}function projectPointToLine($,_e,et,tt,nt,at,ot,it){var st=nt-$,ut=at-_e,ft=et-$,dt=tt-_e,vt=Math.sqrt(ft*ft+dt*dt);ft/=vt,dt/=vt;var gt=st*ft+ut*dt,yt=gt/vt;it&&(yt=Math.min(Math.max(yt,0),1)),yt*=vt;var xt=ot[0]=$+yt*ft,Ct=ot[1]=_e+yt*dt;return Math.sqrt((xt-nt)*(xt-nt)+(Ct-at)*(Ct-at))}function projectPointToRect($,_e,et,tt,nt,at,ot){et<0&&($=$+et,et=-et),tt<0&&(_e=_e+tt,tt=-tt);var it=$+et,st=_e+tt,ut=ot[0]=Math.min(Math.max(nt,$),it),ft=ot[1]=Math.min(Math.max(at,_e),st);return Math.sqrt((ut-nt)*(ut-nt)+(ft-at)*(ft-at))}var tmpPt=[];function nearestPointOnRect($,_e,et){var tt=projectPointToRect(_e.x,_e.y,_e.width,_e.height,$.x,$.y,tmpPt);return et.set(tmpPt[0],tmpPt[1]),tt}function nearestPointOnPath($,_e,et){for(var tt=0,nt=0,at=0,ot=0,it,st,ut=1/0,ft=_e.data,dt=$.x,vt=$.y,gt=0;gt<ft.length;){var yt=ft[gt++];gt===1&&(tt=ft[gt],nt=ft[gt+1],at=tt,ot=nt);var xt=ut;switch(yt){case CMD$1.M:at=ft[gt++],ot=ft[gt++],tt=at,nt=ot;break;case CMD$1.L:xt=projectPointToLine(tt,nt,ft[gt],ft[gt+1],dt,vt,tmpPt,!0),tt=ft[gt++],nt=ft[gt++];break;case CMD$1.C:xt=cubicProjectPoint(tt,nt,ft[gt++],ft[gt++],ft[gt++],ft[gt++],ft[gt],ft[gt+1],dt,vt,tmpPt),tt=ft[gt++],nt=ft[gt++];break;case CMD$1.Q:xt=quadraticProjectPoint(tt,nt,ft[gt++],ft[gt++],ft[gt],ft[gt+1],dt,vt,tmpPt),tt=ft[gt++],nt=ft[gt++];break;case CMD$1.A:var Ct=ft[gt++],wt=ft[gt++],Et=ft[gt++],$t=ft[gt++],It=ft[gt++],Ot=ft[gt++];gt+=1;var Lt=!!(1-ft[gt++]);it=Math.cos(It)*Et+Ct,st=Math.sin(It)*$t+wt,gt<=1&&(at=it,ot=st);var Ft=(dt-Ct)*$t/Et+Ct;xt=projectPointToArc(Ct,wt,$t,It,It+Ot,Lt,Ft,vt,tmpPt),tt=Math.cos(It+Ot)*Et+Ct,nt=Math.sin(It+Ot)*$t+wt;break;case CMD$1.R:at=tt=ft[gt++],ot=nt=ft[gt++];var zt=ft[gt++],Gt=ft[gt++];xt=projectPointToRect(at,ot,zt,Gt,dt,vt,tmpPt);break;case CMD$1.Z:xt=projectPointToLine(tt,nt,at,ot,dt,vt,tmpPt,!0),tt=at,nt=ot;break}xt<ut&&(ut=xt,et.set(tmpPt[0],tmpPt[1]))}return ut}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints($,_e){if(!!$){var et=$.getTextGuideLine(),tt=$.getTextContent();if(!!(tt&&et)){var nt=$.textGuideLineConfig||{},at=[[0,0],[0,0],[0,0]],ot=nt.candidates||DEFAULT_SEARCH_SPACE,it=tt.getBoundingRect().clone();it.applyTransform(tt.getComputedTransform());var st=1/0,ut=nt.anchor,ft=$.getComputedTransform(),dt=ft&&invert([],ft),vt=_e.get("length2")||0;ut&&pt2.copy(ut);for(var gt=0;gt<ot.length;gt++){var yt=ot[gt];getCandidateAnchor(yt,0,it,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,vt),pt1.transform(dt);var xt=$.getBoundingRect(),Ct=ut?ut.distance(pt1):$ instanceof Path$1?nearestPointOnPath(pt1,$.path,pt2):nearestPointOnRect(pt1,xt,pt2);Ct<st&&(st=Ct,pt1.transform(ft),pt2.transform(ft),pt2.toArray(at[0]),pt1.toArray(at[1]),pt0.toArray(at[2]))}limitTurnAngle(at,_e.get("minTurnAngle")),et.setShape({points:at})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle($,_e){if(_e<=180&&_e>0){_e=_e/180*Math.PI,pt0.fromArray($[0]),pt1.fromArray($[1]),pt2.fromArray($[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var et=dir.len(),tt=dir2.len();if(!(et<.001||tt<.001)){dir.scale(1/et),dir2.scale(1/tt);var nt=dir.dot(dir2),at=Math.cos(_e);if(at<nt){var ot=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,ot/Math.tan(Math.PI-_e));var it=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(it))return;it<0?Point$1.copy(tmpProjPoint,pt1):it>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray($[1])}}}}function limitSurfaceAngle($,_e,et){if(et<=180&&et>0){et=et/180*Math.PI,pt0.fromArray($[0]),pt1.fromArray($[1]),pt2.fromArray($[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var tt=dir.len(),nt=dir2.len();if(!(tt<.001||nt<.001)){dir.scale(1/tt),dir2.scale(1/nt);var at=dir.dot(_e),ot=Math.cos(et);if(at<ot){var it=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var st=Math.PI/2,ut=Math.acos(dir2.dot(_e)),ft=st+ut-et;if(ft>=st)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,it/Math.tan(Math.PI/2-ft));var dt=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(dt))return;dt<0?Point$1.copy(tmpProjPoint,pt1):dt>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray($[1])}}}}function setLabelLineState($,_e,et,tt){var nt=et==="normal",at=nt?$:$.ensureState(et);at.ignore=_e;var ot=tt.get("smooth");ot&&ot===!0&&(ot=.3),at.shape=at.shape||{},ot>0&&(at.shape.smooth=ot);var it=tt.getModel("lineStyle").getLineStyle();nt?$.useStyle(it):at.style=it}function buildLabelLinePath($,_e){var et=_e.smooth,tt=_e.points;if(!!tt)if($.moveTo(tt[0][0],tt[0][1]),et>0&&tt.length>=3){var nt=dist$1(tt[0],tt[1]),at=dist$1(tt[1],tt[2]);if(!nt||!at){$.lineTo(tt[1][0],tt[1][1]),$.lineTo(tt[2][0],tt[2][1]);return}var ot=Math.min(nt,at)*et,it=lerp$1([],tt[1],tt[0],ot/nt),st=lerp$1([],tt[1],tt[2],ot/at),ut=lerp$1([],it,st,.5);$.bezierCurveTo(it[0],it[1],it[0],it[1],ut[0],ut[1]),$.bezierCurveTo(st[0],st[1],st[0],st[1],tt[2][0],tt[2][1])}else for(var ft=1;ft<tt.length;ft++)$.lineTo(tt[ft][0],tt[ft][1])}function setLabelLineStyle($,_e,et){var tt=$.getTextGuideLine(),nt=$.getTextContent();if(!nt){tt&&$.removeTextGuideLine();return}for(var at=_e.normal,ot=at.get("show"),it=nt.ignore,st=0;st<DISPLAY_STATES.length;st++){var ut=DISPLAY_STATES[st],ft=_e[ut],dt=ut==="normal";if(ft){var vt=ft.get("show"),gt=dt?it:retrieve2(nt.states[ut]&&nt.states[ut].ignore,it);if(gt||!retrieve2(vt,ot)){var yt=dt?tt:tt&&tt.states[ut];yt&&(yt.ignore=!0);continue}tt||(tt=new Polyline$3,$.setTextGuideLine(tt),!dt&&(it||!ot)&&setLabelLineState(tt,!0,"normal",_e.normal),$.stateProxy&&(tt.stateProxy=$.stateProxy)),setLabelLineState(tt,!1,ut,ft)}}if(tt){defaults(tt.style,et),tt.style.fill=null;var xt=at.get("showAbove"),Ct=$.textGuideLineConfig=$.textGuideLineConfig||{};Ct.showAbove=xt||!1,tt.buildPath=buildLabelLinePath}}function getLabelLineStatesModels($,_e){_e=_e||"labelLine";for(var et={normal:$.getModel(_e)},tt=0;tt<SPECIAL_STATES.length;tt++){var nt=SPECIAL_STATES[tt];et[nt]=$.getModel([nt,_e])}return et}function prepareLayoutList($){for(var _e=[],et=0;et<$.length;et++){var tt=$[et];if(!tt.defaultAttr.ignore){var nt=tt.label,at=nt.getComputedTransform(),ot=nt.getBoundingRect(),it=!at||at[1]<1e-5&&at[2]<1e-5,st=nt.style.margin||0,ut=ot.clone();ut.applyTransform(at),ut.x-=st/2,ut.y-=st/2,ut.width+=st,ut.height+=st;var ft=it?new OrientedBoundingRect$1(ot,at):null;_e.push({label:nt,labelLine:tt.labelLine,rect:ut,localRect:ot,obb:ft,priority:tt.priority,defaultAttr:tt.defaultAttr,layoutOption:tt.computedLayoutOption,axisAligned:it,transform:at})}}return _e}function shiftLayout($,_e,et,tt,nt,at){var ot=$.length;if(ot<2)return;$.sort(function(zt,Gt){return zt.rect[_e]-Gt.rect[_e]});for(var it=0,st,ut=!1,ft=0,dt=0;dt<ot;dt++){var vt=$[dt],gt=vt.rect;st=gt[_e]-it,st<0&&(gt[_e]-=st,vt.label[_e]-=st,ut=!0);var yt=Math.max(-st,0);ft+=yt,it=gt[_e]+gt[et]}ft>0&&at&&Ot(-ft/ot,0,ot);var xt=$[0],Ct=$[ot-1],wt,Et;$t(),wt<0&&Lt(-wt,.8),Et<0&&Lt(Et,.8),$t(),It(wt,Et,1),It(Et,wt,-1),$t(),wt<0&&Ft(-wt),Et<0&&Ft(Et);function $t(){wt=xt.rect[_e]-tt,Et=nt-Ct.rect[_e]-Ct.rect[et]}function It(zt,Gt,jt){if(zt<0){var Ut=Math.min(Gt,-zt);if(Ut>0){Ot(Ut*jt,0,ot);var Kt=Ut+zt;Kt<0&&Lt(-Kt*jt,1)}else Lt(-zt*jt,1)}}function Ot(zt,Gt,jt){zt!==0&&(ut=!0);for(var Ut=Gt;Ut<jt;Ut++){var Kt=$[Ut],Zt=Kt.rect;Zt[_e]+=zt,Kt.label[_e]+=zt}}function Lt(zt,Gt){for(var jt=[],Ut=0,Kt=1;Kt<ot;Kt++){var Zt=$[Kt-1].rect,Qt=Math.max($[Kt].rect[_e]-Zt[_e]-Zt[et],0);jt.push(Qt),Ut+=Qt}if(!!Ut){var rr=Math.min(Math.abs(zt)/Ut,Gt);if(zt>0)for(var Kt=0;Kt<ot-1;Kt++){var nr=jt[Kt]*rr;Ot(nr,0,Kt+1)}else for(var Kt=ot-1;Kt>0;Kt--){var nr=jt[Kt-1]*rr;Ot(-nr,Kt,ot)}}}function Ft(zt){var Gt=zt<0?-1:1;zt=Math.abs(zt);for(var jt=Math.ceil(zt/(ot-1)),Ut=0;Ut<ot-1;Ut++)if(Gt>0?Ot(jt,0,Ut+1):Ot(-jt,ot-Ut-1,ot),zt-=jt,zt<=0)return}return ut}function shiftLayoutOnX($,_e,et,tt){return shiftLayout($,"x","width",_e,et,tt)}function shiftLayoutOnY($,_e,et,tt){return shiftLayout($,"y","height",_e,et,tt)}function hideOverlap($){var _e=[];$.sort(function(xt,Ct){return Ct.priority-xt.priority});var et=new BoundingRect$1(0,0,0,0);function tt(xt){if(!xt.ignore){var Ct=xt.ensureState("emphasis");Ct.ignore==null&&(Ct.ignore=!1)}xt.ignore=!0}for(var nt=0;nt<$.length;nt++){var at=$[nt],ot=at.axisAligned,it=at.localRect,st=at.transform,ut=at.label,ft=at.labelLine;et.copy(at.rect),et.width-=.1,et.height-=.1,et.x+=.05,et.y+=.05;for(var dt=at.obb,vt=!1,gt=0;gt<_e.length;gt++){var yt=_e[gt];if(!!et.intersect(yt.rect)){if(ot&&yt.axisAligned){vt=!0;break}if(yt.obb||(yt.obb=new OrientedBoundingRect$1(yt.localRect,yt.transform)),dt||(dt=new OrientedBoundingRect$1(it,st)),dt.intersect(yt.obb)){vt=!0;break}}}vt?(tt(ut),ft&&tt(ft)):(ut.attr("ignore",at.defaultAttr.ignore),ft&&ft.attr("ignore",at.defaultAttr.labelGuideIgnore),_e.push(at))}}function cloneArr($){if($){for(var _e=[],et=0;et<$.length;et++)_e.push($[et].slice());return _e}}function prepareLayoutCallbackParams($,_e){var et=$.label,tt=_e&&_e.getTextGuideLine();return{dataIndex:$.dataIndex,dataType:$.dataType,seriesIndex:$.seriesModel.seriesIndex,text:$.label.style.text,rect:$.hostRect,labelRect:$.rect,align:et.style.align,verticalAlign:et.style.verticalAlign,labelLinePoints:cloneArr(tt&&tt.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys($,_e,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt];_e[nt]!=null&&($[nt]=_e[nt])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function $(){this._labelList=[],this._chartViewList=[]}return $.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},$.prototype._addLabel=function(_e,et,tt,nt,at){var ot=nt.style,it=nt.__hostTarget,st=it.textConfig||{},ut=nt.getComputedTransform(),ft=nt.getBoundingRect().plain();BoundingRect$1.applyTransform(ft,ft,ut),ut?dummyTransformable.setLocalTransform(ut):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1);var dt=nt.__hostTarget,vt;if(dt){vt=dt.getBoundingRect().plain();var gt=dt.getComputedTransform();BoundingRect$1.applyTransform(vt,vt,gt)}var yt=vt&&dt.getTextGuideLine();this._labelList.push({label:nt,labelLine:yt,seriesModel:tt,dataIndex:_e,dataType:et,layoutOption:at,computedLayoutOption:null,rect:ft,hostRect:vt,priority:vt?vt.width*vt.height:0,defaultAttr:{ignore:nt.ignore,labelGuideIgnore:yt&&yt.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:ot.x,y:ot.y,align:ot.align,verticalAlign:ot.verticalAlign,width:ot.width,height:ot.height,fontSize:ot.fontSize},cursor:nt.cursor,attachedPos:st.position,attachedRot:st.rotation}})},$.prototype.addLabelsOfSeries=function(_e){var et=this;this._chartViewList.push(_e);var tt=_e.__model,nt=tt.get("labelLayout");!(isFunction(nt)||keys(nt).length)||_e.group.traverse(function(at){if(at.ignore)return!0;var ot=at.getTextContent(),it=getECData(at);ot&&!ot.disableLabelLayout&&et._addLabel(it.dataIndex,it.dataType,tt,ot,nt)})},$.prototype.updateLayoutConfig=function(_e){var et=_e.getWidth(),tt=_e.getHeight();function nt($t,It){return function(){updateLabelLinePoints($t,It)}}for(var at=0;at<this._labelList.length;at++){var ot=this._labelList[at],it=ot.label,st=it.__hostTarget,ut=ot.defaultAttr,ft=void 0;isFunction(ot.layoutOption)?ft=ot.layoutOption(prepareLayoutCallbackParams(ot,st)):ft=ot.layoutOption,ft=ft||{},ot.computedLayoutOption=ft;var dt=Math.PI/180;st&&st.setTextConfig({local:!1,position:ft.x!=null||ft.y!=null?null:ut.attachedPos,rotation:ft.rotate!=null?ft.rotate*dt:ut.attachedRot,offset:[ft.dx||0,ft.dy||0]});var vt=!1;if(ft.x!=null?(it.x=parsePercent(ft.x,et),it.setStyle("x",0),vt=!0):(it.x=ut.x,it.setStyle("x",ut.style.x)),ft.y!=null?(it.y=parsePercent(ft.y,tt),it.setStyle("y",0),vt=!0):(it.y=ut.y,it.setStyle("y",ut.style.y)),ft.labelLinePoints){var gt=st.getTextGuideLine();gt&&(gt.setShape({points:ft.labelLinePoints}),vt=!1)}var yt=labelLayoutInnerStore(it);yt.needsUpdateLabelLine=vt,it.rotation=ft.rotate!=null?ft.rotate*dt:ut.rotation,it.scaleX=ut.scaleX,it.scaleY=ut.scaleY;for(var xt=0;xt<LABEL_OPTION_TO_STYLE_KEYS.length;xt++){var Ct=LABEL_OPTION_TO_STYLE_KEYS[xt];it.setStyle(Ct,ft[Ct]!=null?ft[Ct]:ut.style[Ct])}if(ft.draggable){if(it.draggable=!0,it.cursor="move",st){var wt=ot.seriesModel;if(ot.dataIndex!=null){var Et=ot.seriesModel.getData(ot.dataType);wt=Et.getItemModel(ot.dataIndex)}it.on("drag",nt(st,wt.getModel("labelLine")))}}else it.off("drag"),it.cursor=ut.cursor}},$.prototype.layout=function(_e){var et=_e.getWidth(),tt=_e.getHeight(),nt=prepareLayoutList(this._labelList),at=filter(nt,function(st){return st.layoutOption.moveOverlap==="shiftX"}),ot=filter(nt,function(st){return st.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(at,0,et),shiftLayoutOnY(ot,0,tt);var it=filter(nt,function(st){return st.layoutOption.hideOverlap});hideOverlap(it)},$.prototype.processLabelsOverall=function(){var _e=this;each$f(this._chartViewList,function(et){var tt=et.__model,nt=et.ignoreLabelLineUpdate,at=tt.isAnimationEnabled();et.group.traverse(function(ot){if(ot.ignore&&!ot.forceLabelAnimation)return!0;var it=!nt,st=ot.getTextContent();!it&&st&&(it=labelLayoutInnerStore(st).needsUpdateLabelLine),it&&_e._updateLabelLine(ot,tt),at&&_e._animateLabels(ot,tt)})})},$.prototype._updateLabelLine=function(_e,et){var tt=_e.getTextContent(),nt=getECData(_e),at=nt.dataIndex;if(tt&&at!=null){var ot=et.getData(nt.dataType),it=ot.getItemModel(at),st={},ut=ot.getItemVisual(at,"style"),ft=ot.getVisual("drawType");st.stroke=ut[ft];var dt=it.getModel("labelLine");setLabelLineStyle(_e,getLabelLineStatesModels(it),st),updateLabelLinePoints(_e,dt)}},$.prototype._animateLabels=function(_e,et){var tt=_e.getTextContent(),nt=_e.getTextGuideLine();if(tt&&(_e.forceLabelAnimation||!tt.ignore&&!tt.invisible&&!_e.disableLabelAnimation&&!isElementRemoved(_e))){var at=labelLayoutInnerStore(tt),ot=at.oldLayout,it=getECData(_e),st=it.dataIndex,ut={x:tt.x,y:tt.y,rotation:tt.rotation},ft=et.getData(it.dataType);if(ot){tt.attr(ot);var vt=_e.prevStates;vt&&(indexOf(vt,"select")>=0&&tt.attr(at.oldLayoutSelect),indexOf(vt,"emphasis")>=0&&tt.attr(at.oldLayoutEmphasis)),updateProps$1(tt,ut,et,st)}else if(tt.attr(ut),!labelInner(tt).valueAnimation){var dt=retrieve2(tt.style.opacity,1);tt.style.opacity=0,initProps(tt,{style:{opacity:dt}},et,st)}if(at.oldLayout=ut,tt.states.select){var gt=at.oldLayoutSelect={};extendWithKeys(gt,ut,LABEL_LAYOUT_PROPS),extendWithKeys(gt,tt.states.select,LABEL_LAYOUT_PROPS)}if(tt.states.emphasis){var yt=at.oldLayoutEmphasis={};extendWithKeys(yt,ut,LABEL_LAYOUT_PROPS),extendWithKeys(yt,tt.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(tt,st,ft,et,et)}if(nt&&!nt.ignore&&!nt.invisible){var at=labelLineAnimationStore(nt),ot=at.oldLayout,xt={points:nt.shape.points};ot?(nt.attr({shape:ot}),updateProps$1(nt,{shape:xt},et)):(nt.setShape(xt),nt.style.strokePercent=0,initProps(nt,{style:{strokePercent:1}},et)),at.oldLayout=xt}},$}(),LabelManager$1=LabelManager,getLabelManager=makeInner();function installLabelLayout($){$.registerUpdateLifecycle("series:beforeupdate",function(_e,et,tt){var nt=getLabelManager(et).labelManager;nt||(nt=getLabelManager(et).labelManager=new LabelManager$1),nt.clearLabels()}),$.registerUpdateLifecycle("series:layoutlabels",function(_e,et,tt){var nt=getLabelManager(et).labelManager;tt.updatedSeries.forEach(function(at){nt.addLabelsOfSeries(et.getViewOfSeriesModel(at))}),nt.updateLayoutConfig(et),nt.layout(et),nt.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function $(){}return $.prototype.reset=function(_e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,_e||4)},$.prototype.moveTo=function(_e,et){this._add("M",_e,et)},$.prototype.lineTo=function(_e,et){this._add("L",_e,et)},$.prototype.bezierCurveTo=function(_e,et,tt,nt,at,ot){this._add("C",_e,et,tt,nt,at,ot)},$.prototype.quadraticCurveTo=function(_e,et,tt,nt){this._add("Q",_e,et,tt,nt)},$.prototype.arc=function(_e,et,tt,nt,at,ot){this.ellipse(_e,et,tt,tt,0,nt,at,ot)},$.prototype.ellipse=function(_e,et,tt,nt,at,ot,it,st){var ut=it-ot,ft=!st,dt=Math.abs(ut),vt=isAroundZero(dt-PI2$1)||(ft?ut>=PI2$1:-ut>=PI2$1),gt=ut>0?ut%PI2$1:ut%PI2$1+PI2$1,yt=!1;vt?yt=!0:isAroundZero(dt)?yt=!1:yt=gt>=PI$4==!!ft;var xt=_e+tt*mathCos(ot),Ct=et+nt*mathSin(ot);this._start&&this._add("M",xt,Ct);var wt=Math.round(at*degree);if(vt){var Et=1/this._p,$t=(ft?1:-1)*(PI2$1-Et);this._add("A",tt,nt,wt,1,+ft,_e+tt*mathCos(ot+$t),et+nt*mathSin(ot+$t)),Et>.01&&this._add("A",tt,nt,wt,0,+ft,xt,Ct)}else{var It=_e+tt*mathCos(it),Ot=et+nt*mathSin(it);this._add("A",tt,nt,wt,+yt,+ft,It,Ot)}},$.prototype.rect=function(_e,et,tt,nt){this._add("M",_e,et),this._add("l",tt,0),this._add("l",0,nt),this._add("l",-tt,0),this._add("Z")},$.prototype.closePath=function(){this._d.length>0&&this._add("Z")},$.prototype._add=function(_e,et,tt,nt,at,ot,it,st,ut){for(var ft=[],dt=this._p,vt=1;vt<arguments.length;vt++){var gt=arguments[vt];if(isNaN(gt)){this._invalid=!0;return}ft.push(Math.round(gt*dt)/dt)}this._d.push(_e+ft.join(" ")),this._start=_e==="Z"},$.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},$.prototype.getStr=function(){return this._str},$}(),SVGPathRebuilder$1=SVGPathRebuilder,NONE="none",mathRound=Math.round;function pathHasFill($){var _e=$.fill;return _e!=null&&_e!==NONE}function pathHasStroke($){var _e=$.stroke;return _e!=null&&_e!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function($){return"stroke-"+$.toLowerCase()});function mapStyleToAttrs($,_e,et,tt){var nt=_e.opacity==null?1:_e.opacity;if(et instanceof ZRImage$1){$("opacity",nt);return}if(pathHasFill(_e)){var at=normalizeColor(_e.fill);$("fill",at.color);var ot=_e.fillOpacity!=null?_e.fillOpacity*at.opacity*nt:at.opacity*nt;(tt||ot<1)&&$("fill-opacity",ot)}else $("fill",NONE);if(pathHasStroke(_e)){var it=normalizeColor(_e.stroke);$("stroke",it.color);var st=_e.strokeNoScale?et.getLineScale():1,ut=st?(_e.lineWidth||0)/st:0,ft=_e.strokeOpacity!=null?_e.strokeOpacity*it.opacity*nt:it.opacity*nt,dt=_e.strokeFirst;if((tt||ut!==1)&&$("stroke-width",ut),(tt||dt)&&$("paint-order",dt?"stroke":"fill"),(tt||ft<1)&&$("stroke-opacity",ft),_e.lineDash){var vt=getLineDash(et),gt=vt[0],yt=vt[1];gt&&(yt=mathRound(yt||0),$("stroke-dasharray",gt.join(",")),(yt||tt)&&$("stroke-dashoffset",yt))}else tt&&$("stroke-dasharray",NONE);for(var xt=0;xt<strokeProps.length;xt++){var Ct=strokeProps[xt];if(tt||_e[Ct]!==DEFAULT_PATH_STYLE[Ct]){var wt=_e[Ct]||DEFAULT_PATH_STYLE[Ct];wt&&$(svgStrokeProps[xt],wt)}}}else tt&&$("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement($){return document.createElementNS(SVGNS,$)}function createVNode($,_e,et,tt,nt){return{tag:$,attrs:et||{},children:tt,text:nt,key:_e}}function createElementOpen($,_e){var et=[];if(_e)for(var tt in _e){var nt=_e[tt],at=tt;nt!==!1&&(nt!==!0&&nt!=null&&(at+='="'+nt+'"'),et.push(at))}return"<"+$+" "+et.join(" ")+">"}function createElementClose($){return"</"+$+">"}function vNodeToString($,_e){_e=_e||{};var et=_e.newline?`
`:"";function tt(nt){var at=nt.children,ot=nt.tag,it=nt.attrs;return createElementOpen(ot,it)+(nt.text||"")+(at?""+et+map$1(at,function(st){return tt(st)}).join(et)+et:"")+createElementClose(ot)}return tt($)}function getCssString($,_e,et){et=et||{};var tt=et.newline?`
`:"",nt=" {"+tt,at=tt+"}",ot=map$1(keys($),function(st){return st+nt+map$1(keys($[st]),function(ut){return ut+":"+$[st][ut]+";"}).join(tt)+at}).join(tt),it=map$1(keys(_e),function(st){return"@keyframes "+st+nt+map$1(keys(_e[st]),function(ut){return ut+nt+map$1(keys(_e[st][ut]),function(ft){var dt=_e[st][ut][ft];return ft==="d"&&(dt='path("'+dt+'")'),ft+":"+dt+";"}).join(tt)+at}).join(tt)+at}).join(tt);return!ot&&!it?"":["<![CDATA[",ot,it,"]]>"].join(tt)}function createBrushScope($){return{zrId:$,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode($,_e,et,tt){return createVNode("svg","root",{width:$,height:_e,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:tt?"0 0 "+$+" "+_e:!1},et)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString($,_e,et){var tt=extend({},$.shape);extend(tt,_e),$.buildPath(et,tt);var nt=new SVGPathRebuilder$1;return nt.reset(getPathPrecision($)),et.rebuildPath(nt,1),nt.generateStr(),nt.getStr()}function setTransformOrigin($,_e){var et=_e.originX,tt=_e.originY;(et||tt)&&($[transformOriginKey]=et+"px "+tt+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation($,_e){var et=_e.zrId+"-ani-"+_e.cssAnimIdx++;return _e.cssAnims[et]=$,et}function createCompoundPathCSSAnimation($,_e,et){var tt=$.shape.paths,nt={},at,ot;if(each$f(tt,function(st){var ut=createBrushScope(et.zrId);ut.animation=!0,createCSSAnimation(st,{},ut,!0);var ft=ut.cssAnims,dt=ut.cssNodes,vt=keys(ft),gt=vt.length;if(!!gt){ot=vt[gt-1];var yt=ft[ot];for(var xt in yt){var Ct=yt[xt];nt[xt]=nt[xt]||{d:""},nt[xt].d+=Ct.d||""}for(var wt in dt){var Et=dt[wt].animation;Et.indexOf(ot)>=0&&(at=Et)}}}),!!at){_e.d=!1;var it=addAnimation(nt,et);return at.replace(ot,it)}}function getEasingFunc($){return isString($)?EASING_MAP[$]?"cubic-bezier("+EASING_MAP[$]+")":createCubicEasingFunc($)?$:"":""}function createCSSAnimation($,_e,et,tt){var nt=$.animators,at=nt.length,ot=[];if($ instanceof CompoundPath$1){var it=createCompoundPathCSSAnimation($,_e,et);if(it)ot.push(it);else if(!at)return}else if(!at)return;for(var st={},ut=0;ut<at;ut++){var ft=nt[ut],dt=[ft.getMaxTime()/1e3+"s"],vt=getEasingFunc(ft.getClip().easing),gt=ft.getDelay();vt?dt.push(vt):dt.push("linear"),gt&&dt.push(gt/1e3+"s"),ft.getLoop()&&dt.push("infinite");var yt=dt.join(" ");st[yt]=st[yt]||[yt,[]],st[yt][1].push(ft)}function xt(Et){var $t=Et[1],It=$t.length,Ot={},Lt={},Ft={},zt="animation-timing-function";function Gt(Jr,sn,yn){for(var pn=Jr.getTracks(),ln=Jr.getMaxTime(),Sn=0;Sn<pn.length;Sn++){var cn=pn[Sn];if(cn.needsAnimate()){var Pn=cn.keyframes,In=cn.propName;if(yn&&(In=yn(In)),In)for(var Rn=0;Rn<Pn.length;Rn++){var Mn=Pn[Rn],Fn=Math.round(Mn.time/ln*100)+"%",Xr=getEasingFunc(Mn.easing),wn=Mn.rawValue;(isString(wn)||isNumber(wn))&&(sn[Fn]=sn[Fn]||{},sn[Fn][In]=Mn.rawValue,Xr&&(sn[Fn][zt]=Xr))}}}}for(var jt=0;jt<It;jt++){var Ut=$t[jt],Kt=Ut.targetName;Kt?Kt==="shape"&&Gt(Ut,Lt):!tt&&Gt(Ut,Ot)}for(var Zt in Ot){var Qt={};copyTransform(Qt,$),extend(Qt,Ot[Zt]);var rr=getSRTTransformString(Qt),nr=Ot[Zt][zt];Ft[Zt]=rr?{transform:rr}:{},setTransformOrigin(Ft[Zt],Qt),nr&&(Ft[Zt][zt]=nr)}var dr,sr=!0;for(var Zt in Lt){Ft[Zt]=Ft[Zt]||{};var fr=!dr,nr=Lt[Zt][zt];fr&&(dr=new PathProxy);var yr=dr.len();dr.reset(),Ft[Zt].d=buildPathString($,Lt[Zt],dr);var Pr=dr.len();if(!fr&&yr!==Pr){sr=!1;break}nr&&(Ft[Zt][zt]=nr)}if(!sr)for(var Zt in Ft)delete Ft[Zt].d;if(!tt)for(var jt=0;jt<It;jt++){var Ut=$t[jt],Kt=Ut.targetName;Kt==="style"&&Gt(Ut,Ft,function(pn){return ANIMATE_STYLE_MAP[pn]})}for(var wr=keys(Ft),Mr=!0,Lr,jt=1;jt<wr.length;jt++){var Br=wr[jt-1],qr=wr[jt];if(Ft[Br][transformOriginKey]!==Ft[qr][transformOriginKey]){Mr=!1;break}Lr=Ft[Br][transformOriginKey]}if(Mr&&Lr){for(var Zt in Ft)Ft[Zt][transformOriginKey]&&delete Ft[Zt][transformOriginKey];_e[transformOriginKey]=Lr}if(filter(wr,function(Jr){return keys(Ft[Jr]).length>0}).length){var Qr=addAnimation(Ft,et);return Qr+" "+Et[0]+" both"}}for(var Ct in st){var it=xt(st[Ct]);it&&ot.push(it)}if(ot.length){var wt=et.zrId+"-cls-"+et.cssClassIdx++;et.cssNodes["."+wt]={animation:ot.join(",")},_e.class=wt}}var round$1=Math.round;function isImageLike($){return $&&isString($.src)}function isCanvasLike($){return $&&isFunction($.toDataURL)}function setStyleAttrs($,_e,et,tt){mapStyleToAttrs(function(nt,at){var ot=nt==="fill"||nt==="stroke";ot&&isGradient(at)?setGradient(_e,$,nt,tt):ot&&isPattern(at)?setPattern(et,$,nt,tt):$[nt]=at},_e,et,!1),setShadow(et,$,tt)}function noRotateScale($){return isAroundZero($[0]-1)&&isAroundZero($[1])&&isAroundZero($[2])&&isAroundZero($[3]-1)}function noTranslate($){return isAroundZero($[4])&&isAroundZero($[5])}function setTransform($,_e,et){if(_e&&!(noTranslate(_e)&&noRotateScale(_e))){var tt=et?10:1e4;$.transform=noRotateScale(_e)?"translate("+round$1(_e[4]*tt)/tt+" "+round$1(_e[5]*tt)/tt+")":getMatrixStr(_e)}}function convertPolyShape($,_e,et){for(var tt=$.points,nt=[],at=0;at<tt.length;at++)nt.push(round$1(tt[at][0]*et)/et),nt.push(round$1(tt[at][1]*et)/et);_e.points=nt.join(" ")}function validatePolyShape($){return!$.smooth}function createAttrsConvert($){var _e=map$1($,function(et){return typeof et=="string"?[et,et]:et});return function(et,tt,nt){for(var at=0;at<_e.length;at++){var ot=_e[at],it=et[ot[0]];it!=null&&(tt[ot[1]]=round$1(it*nt)/nt)}}}var buitinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation($){for(var _e=$.animators,et=0;et<_e.length;et++)if(_e[et].targetName==="shape")return!0;return!1}function brushSVGPath($,_e){var et=$.style,tt=$.shape,nt=buitinShapesDef[$.type],at={},ot=_e.animation,it="path",st=$.style.strokePercent,ut=_e.compress&&getPathPrecision($)||4;if(nt&&!_e.willUpdate&&!(nt[1]&&!nt[1](tt))&&!(ot&&hasShapeAnimation($))&&!(st<1)){it=$.type;var ft=Math.pow(10,ut);nt[0](tt,at,ft)}else{$.path||$.createPathProxy();var dt=$.path;$.shapeChanged()&&(dt.beginPath(),$.buildPath(dt,$.shape),$.pathUpdated());var vt=dt.getVersion(),gt=$,yt=gt.__svgPathBuilder;(gt.__svgPathVersion!==vt||!yt||st!==gt.__svgPathStrokePercent)&&(yt||(yt=gt.__svgPathBuilder=new SVGPathRebuilder$1),yt.reset(ut),dt.rebuildPath(yt,st),yt.generateStr(),gt.__svgPathVersion=vt,gt.__svgPathStrokePercent=st),at.d=yt.getStr()}return setTransform(at,$.transform),setStyleAttrs(at,et,$,_e),_e.animation&&createCSSAnimation($,at,_e),createVNode(it,$.id+"",at)}function brushSVGImage($,_e){var et=$.style,tt=et.image;if(tt&&!isString(tt)&&(isImageLike(tt)?tt=tt.src:isCanvasLike(tt)&&(tt=tt.toDataURL())),!!tt){var nt=et.x||0,at=et.y||0,ot=et.width,it=et.height,st={href:tt,width:ot,height:it};return nt&&(st.x=nt),at&&(st.y=at),setTransform(st,$.transform),setStyleAttrs(st,et,$,_e),_e.animation&&createCSSAnimation($,st,_e),createVNode("image",$.id+"",st)}}function brushSVGTSpan($,_e){var et=$.style,tt=et.text;if(tt!=null&&(tt+=""),!(!tt||isNaN(et.x)||isNaN(et.y))){var nt=et.font||DEFAULT_FONT,at=et.x||0,ot=adjustTextY$1(et.y||0,getLineHeight(nt),et.textBaseline),it=TEXT_ALIGN_TO_ANCHOR[et.textAlign]||et.textAlign,st={"dominant-baseline":"central","text-anchor":it};if(hasSeparateFont(et)){var ut="",ft=et.fontStyle,dt=parseFontSize(et.fontSize);if(!parseFloat(dt))return;var vt=et.fontFamily||DEFAULT_FONT_FAMILY,gt=et.fontWeight;ut+="font-size:"+dt+";font-family:"+vt+";",ft&&ft!=="normal"&&(ut+="font-style:"+ft+";"),gt&&gt!=="normal"&&(ut+="font-weight:"+gt+";"),st.style=ut}else st.style="font: "+nt;return tt.match(/\s/)&&(st["xml:space"]="preserve"),at&&(st.x=at),ot&&(st.y=ot),setTransform(st,$.transform),setStyleAttrs(st,et,$,_e),_e.animation&&createCSSAnimation($,st,_e),createVNode("text",$.id+"",st,void 0,tt)}}function brush($,_e){if($ instanceof Path$1)return brushSVGPath($,_e);if($ instanceof ZRImage$1)return brushSVGImage($,_e);if($ instanceof TSpan$1)return brushSVGTSpan($,_e)}function setShadow($,_e,et){var tt=$.style;if(hasShadow(tt)){var nt=getShadowKey($),at=et.shadowCache,ot=at[nt];if(!ot){var it=$.getGlobalScale(),st=it[0],ut=it[1];if(!st||!ut)return;var ft=tt.shadowOffsetX||0,dt=tt.shadowOffsetY||0,vt=tt.shadowBlur,gt=normalizeColor(tt.shadowColor),yt=gt.opacity,xt=gt.color,Ct=vt/2/st,wt=vt/2/ut,Et=Ct+" "+wt;ot=et.zrId+"-s"+et.shadowIdx++,et.defs[ot]=createVNode("filter",ot,{id:ot,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:ft/st,dy:dt/ut,stdDeviation:Et,"flood-color":xt,"flood-opacity":yt})]),at[nt]=ot}_e.filter=getIdURL(ot)}}function setGradient($,_e,et,tt){var nt=$[et],at,ot={gradientUnits:nt.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(nt))at="linearGradient",ot.x1=nt.x,ot.y1=nt.y,ot.x2=nt.x2,ot.y2=nt.y2;else if(isRadialGradient(nt))at="radialGradient",ot.cx=retrieve2(nt.x,.5),ot.cy=retrieve2(nt.y,.5),ot.r=retrieve2(nt.r,.5);else return;for(var it=nt.colorStops,st=[],ut=0,ft=it.length;ut<ft;++ut){var dt=round4(it[ut].offset)*100+"%",vt=it[ut].color,gt=normalizeColor(vt),yt=gt.color,xt=gt.opacity,Ct={offset:dt};Ct["stop-color"]=yt,xt<1&&(Ct["stop-opacity"]=xt),st.push(createVNode("stop",ut+"",Ct))}var wt=createVNode(at,"",ot,st),Et=vNodeToString(wt),$t=tt.gradientCache,It=$t[Et];It||(It=tt.zrId+"-g"+tt.gradientIdx++,$t[Et]=It,ot.id=It,tt.defs[It]=createVNode(at,It,ot,st)),_e[et]=getIdURL(It)}function setPattern($,_e,et,tt){var nt=$.style[et],at={patternUnits:"userSpaceOnUse"},ot;if(isImagePattern(nt)){var it=nt.imageWidth,st=nt.imageHeight,ut=void 0,ft=nt.image;if(isString(ft)?ut=ft:isImageLike(ft)?ut=ft.src:isCanvasLike(ft)&&(ut=ft.toDataURL()),typeof Image=="undefined"){var dt="Image width/height must been given explictly in svg-ssr renderer.";assert(it,dt),assert(st,dt)}else if(it==null||st==null){var vt=function(Et,$t){if(Et){var It=Et.elm,Ot=Et.attrs.width=it||$t.width,Lt=Et.attrs.height=st||$t.height;It&&(It.setAttribute("width",Ot),It.setAttribute("height",Lt))}},gt=createOrUpdateImage(ut,null,$,function(Et){vt(yt,Et),vt(ot,Et)});gt&&gt.width&&gt.height&&(it=it||gt.width,st=st||gt.height)}ot=createVNode("image","img",{href:ut,width:it,height:st}),at.width=it,at.height=st}else nt.svgElement&&(ot=clone$4(nt.svgElement),at.width=nt.svgWidth,at.height=nt.svgHeight);if(!!ot){at.patternTransform=getSRTTransformString(nt);var yt=createVNode("pattern","",at,[ot]),xt=vNodeToString(yt),Ct=tt.patternCache,wt=Ct[xt];wt||(wt=tt.zrId+"-p"+tt.patternIdx++,Ct[xt]=wt,at.id=wt,yt=tt.defs[wt]=createVNode("pattern",wt,at,[ot])),_e[et]=getIdURL(wt)}}function setClipPath($,_e,et){var tt=et.clipPathCache,nt=et.defs,at=tt[$.id];if(!at){at=et.zrId+"-c"+et.clipPathIdx++;var ot={id:at};tt[$.id]=at,nt[at]=createVNode("clipPath",at,ot,[brushSVGPath($,et)])}_e["clip-path"]=getIdURL(at)}function createTextNode($){return document.createTextNode($)}function insertBefore($,_e,et){$.insertBefore(_e,et)}function removeChild($,_e){$.removeChild(_e)}function appendChild($,_e){$.appendChild(_e)}function parentNode($){return $.parentNode}function nextSibling($){return $.nextSibling}function setTextContent($,_e){$.textContent=_e}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef($){return $===void 0}function isDef($){return $!==void 0}function createKeyToOldIdx($,_e,et){for(var tt={},nt=_e;nt<=et;++nt){var at=$[nt].key;at!==void 0&&(tt[at]=nt)}return tt}function sameVnode($,_e){var et=$.key===_e.key,tt=$.tag===_e.tag;return tt&&et}function createElm($){var _e,et=$.children,tt=$.tag;if(isDef(tt)){var nt=$.elm=createElement(tt);if(updateAttrs(emptyNode,$),isArray$1(et))for(_e=0;_e<et.length;++_e){var at=et[_e];at!=null&&appendChild(nt,createElm(at))}else isDef($.text)&&!isObject$3($.text)&&appendChild(nt,createTextNode($.text))}else $.elm=createTextNode($.text);return $.elm}function addVnodes($,_e,et,tt,nt){for(;tt<=nt;++tt){var at=et[tt];at!=null&&insertBefore($,createElm(at),_e)}}function removeVnodes($,_e,et,tt){for(;et<=tt;++et){var nt=_e[et];if(nt!=null)if(isDef(nt.tag)){var at=parentNode(nt.elm);removeChild(at,nt.elm)}else removeChild($,nt.elm)}}function updateAttrs($,_e){var et,tt=_e.elm,nt=$&&$.attrs||{},at=_e.attrs||{};if(nt!==at){for(et in at){var ot=at[et],it=nt[et];it!==ot&&(ot===!0?tt.setAttribute(et,""):ot===!1?tt.removeAttribute(et):et.charCodeAt(0)!==xChar?tt.setAttribute(et,ot):et==="xmlns:xlink"||et==="xmlns"?tt.setAttributeNS(XMLNS,et,ot):et.charCodeAt(3)===colonChar?tt.setAttributeNS(XML_NAMESPACE,et,ot):et.charCodeAt(5)===colonChar?tt.setAttributeNS(XLINKNS,et,ot):tt.setAttribute(et,ot))}for(et in nt)et in at||tt.removeAttribute(et)}}function updateChildren($,_e,et){for(var tt=0,nt=0,at=_e.length-1,ot=_e[0],it=_e[at],st=et.length-1,ut=et[0],ft=et[st],dt,vt,gt,yt;tt<=at&&nt<=st;)ot==null?ot=_e[++tt]:it==null?it=_e[--at]:ut==null?ut=et[++nt]:ft==null?ft=et[--st]:sameVnode(ot,ut)?(patchVnode(ot,ut),ot=_e[++tt],ut=et[++nt]):sameVnode(it,ft)?(patchVnode(it,ft),it=_e[--at],ft=et[--st]):sameVnode(ot,ft)?(patchVnode(ot,ft),insertBefore($,ot.elm,nextSibling(it.elm)),ot=_e[++tt],ft=et[--st]):sameVnode(it,ut)?(patchVnode(it,ut),insertBefore($,it.elm,ot.elm),it=_e[--at],ut=et[++nt]):(isUndef(dt)&&(dt=createKeyToOldIdx(_e,tt,at)),vt=dt[ut.key],isUndef(vt)?insertBefore($,createElm(ut),ot.elm):(gt=_e[vt],gt.tag!==ut.tag?insertBefore($,createElm(ut),ot.elm):(patchVnode(gt,ut),_e[vt]=void 0,insertBefore($,gt.elm,ot.elm))),ut=et[++nt]);(tt<=at||nt<=st)&&(tt>at?(yt=et[st+1]==null?null:et[st+1].elm,addVnodes($,yt,et,nt,st)):removeVnodes($,_e,tt,at))}function patchVnode($,_e){var et=_e.elm=$.elm,tt=$.children,nt=_e.children;$!==_e&&(updateAttrs($,_e),isUndef(_e.text)?isDef(tt)&&isDef(nt)?tt!==nt&&updateChildren(et,tt,nt):isDef(nt)?(isDef($.text)&&setTextContent(et,""),addVnodes(et,null,nt,0,nt.length-1)):isDef(tt)?removeVnodes(et,tt,0,tt.length-1):isDef($.text)&&setTextContent(et,""):$.text!==_e.text&&(isDef(tt)&&removeVnodes(et,tt,0,tt.length-1),setTextContent(et,_e.text)))}function patch($,_e){if(sameVnode($,_e))patchVnode($,_e);else{var et=$.elm,tt=parentNode(et);createElm(_e),tt!==null&&(insertBefore(tt,_e.elm,nextSibling(et)),removeVnodes(tt,[$],0,0))}return _e}var svgId=0,SVGPainter=function(){function $(_e,et,tt){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=et,this._opts=tt=extend({},tt),this.root=_e,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(tt.width,tt.height),_e&&!tt.ssr){var nt=this._viewport=document.createElement("div");nt.style.cssText="position:relative;overflow:hidden";var at=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),nt.appendChild(at),_e.appendChild(nt)}this.resize(tt.width,tt.height)}return $.prototype.getType=function(){return this.type},$.prototype.getViewportRoot=function(){return this._viewport},$.prototype.getViewportRootOffset=function(){var _e=this.getViewportRoot();if(_e)return{offsetLeft:_e.offsetLeft||0,offsetTop:_e.offsetTop||0}},$.prototype.getSvgDom=function(){return this._svgDom},$.prototype.refresh=function(){if(this.root){var _e=this.renderToVNode({willUpdate:!0});_e.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,_e),this._oldVNode=_e}},$.prototype.renderOneToVNode=function(_e){return brush(_e,createBrushScope(this._id))},$.prototype.renderToVNode=function(_e){_e=_e||{};var et=this.storage.getDisplayList(!0),tt=this._backgroundColor,nt=this._width,at=this._height,ot=createBrushScope(this._id);ot.animation=_e.animation,ot.willUpdate=_e.willUpdate,ot.compress=_e.compress;var it=[];if(tt&&tt!=="none"){var st=normalizeColor(tt),ut=st.color,ft=st.opacity;this._bgVNode=createVNode("rect","bg",{width:nt,height:at,x:"0",y:"0",id:"0",fill:ut,"fill-opacity":ft}),it.push(this._bgVNode)}else this._bgVNode=null;var dt=_e.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(et,ot,dt?dt.children:it),dt&&it.push(dt);var vt=map$1(keys(ot.defs),function(xt){return ot.defs[xt]});if(vt.length&&it.push(createVNode("defs","defs",{},vt)),_e.animation){var gt=getCssString(ot.cssNodes,ot.cssAnims,{newline:!0});if(gt){var yt=createVNode("style","stl",{},[],gt);it.push(yt)}}return createSVGVNode(nt,at,it,_e.useViewBox)},$.prototype.renderToString=function(_e){return _e=_e||{},vNodeToString(this.renderToVNode({animation:retrieve2(_e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(_e.useViewBox,!0)}),{newline:!0})},$.prototype.setBackgroundColor=function(_e){this._backgroundColor=_e;var et=this._bgVNode;if(et&&et.elm){var tt=normalizeColor(_e),nt=tt.color,at=tt.opacity;et.elm.setAttribute("fill",nt),at<1&&et.elm.setAttribute("fill-opacity",at)}},$.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},$.prototype._paintList=function(_e,et,tt){for(var nt=_e.length,at=[],ot=0,it,st,ut=0,ft=0;ft<nt;ft++){var dt=_e[ft];if(!dt.invisible){var vt=dt.__clipPaths,gt=vt&&vt.length||0,yt=st&&st.length||0,xt=void 0;for(xt=Math.max(gt-1,yt-1);xt>=0&&!(vt&&st&&vt[xt]===st[xt]);xt--);for(var Ct=yt-1;Ct>xt;Ct--)ot--,it=at[ot-1];for(var wt=xt+1;wt<gt;wt++){var Et={};setClipPath(vt[wt],Et,et);var $t=createVNode("g","clip-g-"+ut++,Et,[]);(it?it.children:tt).push($t),at[ot++]=$t,it=$t}st=vt;var It=brush(dt,et);It&&(it?it.children:tt).push(It)}}},$.prototype.resize=function(_e,et){var tt=this._opts,nt=this.root,at=this._viewport;if(_e!=null&&(tt.width=_e),et!=null&&(tt.height=et),nt&&at&&(at.style.display="none",_e=getSize$1(nt,0,tt),et=getSize$1(nt,1,tt),at.style.display=""),this._width!==_e||this._height!==et){if(this._width=_e,this._height=et,at){var ot=at.style;ot.width=_e+"px",ot.height=et+"px"}var it=this._svgDom;it&&(it.setAttribute("width",_e),it.setAttribute("height",et))}},$.prototype.getWidth=function(){return this._width},$.prototype.getHeight=function(){return this._height},$.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},$.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},$.prototype.toDataURL=function(_e){var et=encodeURIComponent(this.renderToString()),tt="data:image/svg+xml;";return _e?(et=encodeBase64(et),et&&tt+"base64,"+et):tt+"charset=UTF-8,"+et},$}();function createMethodNotSupport($){return function(){}}var SVGPainter$1=SVGPainter;function install$S($){$.registerPainter("svg",SVGPainter$1)}function createDom($,_e,et){var tt=platformApi.createCanvas(),nt=_e.getWidth(),at=_e.getHeight(),ot=tt.style;return ot&&(ot.position="absolute",ot.left="0",ot.top="0",ot.width=nt+"px",ot.height=at+"px",tt.setAttribute("data-zr-dom-id",$)),tt.width=nt*et,tt.height=at*et,tt}var Layer=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this)||this;at.motionBlur=!1,at.lastFrameAlpha=.7,at.dpr=1,at.virtual=!1,at.config={},at.incremental=!1,at.zlevel=0,at.maxRepaintRectCount=5,at.__dirty=!0,at.__firstTimePaint=!0,at.__used=!1,at.__drawIndex=0,at.__startIndex=0,at.__endIndex=0,at.__prevStartIndex=null,at.__prevEndIndex=null;var ot;nt=nt||devicePixelRatio,typeof et=="string"?ot=createDom(et,tt,nt):isObject$3(et)&&(ot=et,et=ot.id),at.id=et,at.dom=ot;var it=ot.style;return it&&(disableUserSelect(ot),ot.onselectstart=function(){return!1},it.padding="0",it.margin="0",it.borderWidth="0"),at.painter=tt,at.dpr=nt,at}return _e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},_e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},_e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},_e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},_e.prototype.createBackBuffer=function(){var et=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,et),this.ctxBack=this.domBack.getContext("2d"),et!==1&&this.ctxBack.scale(et,et)},_e.prototype.createRepaintRects=function(et,tt,nt,at){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var ot=[],it=this.maxRepaintRectCount,st=!1,ut=new BoundingRect$1(0,0,0,0);function ft(Et){if(!(!Et.isFinite()||Et.isZero()))if(ot.length===0){var $t=new BoundingRect$1(0,0,0,0);$t.copy(Et),ot.push($t)}else{for(var It=!1,Ot=1/0,Lt=0,Ft=0;Ft<ot.length;++Ft){var zt=ot[Ft];if(zt.intersect(Et)){var Gt=new BoundingRect$1(0,0,0,0);Gt.copy(zt),Gt.union(Et),ot[Ft]=Gt,It=!0;break}else if(st){ut.copy(Et),ut.union(zt);var jt=Et.width*Et.height,Ut=zt.width*zt.height,Kt=ut.width*ut.height,Zt=Kt-jt-Ut;Zt<Ot&&(Ot=Zt,Lt=Ft)}}if(st&&(ot[Lt].union(Et),It=!0),!It){var $t=new BoundingRect$1(0,0,0,0);$t.copy(Et),ot.push($t)}st||(st=ot.length>=it)}}for(var dt=this.__startIndex;dt<this.__endIndex;++dt){var vt=et[dt];if(vt){var gt=vt.shouldBePainted(nt,at,!0,!0),yt=vt.__isRendered&&(vt.__dirty&REDRAW_BIT||!gt)?vt.getPrevPaintRect():null;yt&&ft(yt);var xt=gt&&(vt.__dirty&REDRAW_BIT||!vt.__isRendered)?vt.getPaintRect():null;xt&&ft(xt)}}for(var dt=this.__prevStartIndex;dt<this.__prevEndIndex;++dt){var vt=tt[dt],gt=vt.shouldBePainted(nt,at,!0,!0);if(vt&&(!gt||!vt.__zr)&&vt.__isRendered){var yt=vt.getPrevPaintRect();yt&&ft(yt)}}var Ct;do{Ct=!1;for(var dt=0;dt<ot.length;){if(ot[dt].isZero()){ot.splice(dt,1);continue}for(var wt=dt+1;wt<ot.length;)ot[dt].intersect(ot[wt])?(Ct=!0,ot[dt].union(ot[wt]),ot.splice(wt,1)):wt++;dt++}}while(Ct);return this._paintRects=ot,ot},_e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},_e.prototype.resize=function(et,tt){var nt=this.dpr,at=this.dom,ot=at.style,it=this.domBack;ot&&(ot.width=et+"px",ot.height=tt+"px"),at.width=et*nt,at.height=tt*nt,it&&(it.width=et*nt,it.height=tt*nt,nt!==1&&this.ctxBack.scale(nt,nt))},_e.prototype.clear=function(et,tt,nt){var at=this.dom,ot=this.ctx,it=at.width,st=at.height;tt=tt||this.clearColor;var ut=this.motionBlur&&!et,ft=this.lastFrameAlpha,dt=this.dpr,vt=this;ut&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(at,0,0,it/dt,st/dt));var gt=this.domBack;function yt(xt,Ct,wt,Et){if(ot.clearRect(xt,Ct,wt,Et),tt&&tt!=="transparent"){var $t=void 0;isGradientObject(tt)?($t=tt.__canvasGradient||getCanvasGradient(ot,tt,{x:0,y:0,width:wt,height:Et}),tt.__canvasGradient=$t):isImagePatternObject(tt)&&($t=createCanvasPattern(ot,tt,{dirty:function(){vt.setUnpainted(),vt.__painter.refresh()}})),ot.save(),ot.fillStyle=$t||tt,ot.fillRect(xt,Ct,wt,Et),ot.restore()}ut&&(ot.save(),ot.globalAlpha=ft,ot.drawImage(gt,xt,Ct,wt,Et),ot.restore())}!nt||ut?yt(0,0,it,st):nt.length&&each$f(nt,function(xt){yt(xt.x*dt,xt.y*dt,xt.width*dt,xt.height*dt)})},_e}(Eventful$1),Layer$1=Layer,HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid($){return $?$.__builtin__?!0:!(typeof $.resize!="function"||typeof $.refresh!="function"):!1}function createRoot($,_e){var et=document.createElement("div");return et.style.cssText=["position:relative","width:"+$+"px","height:"+_e+"px","padding:0","margin:0","border-width:0"].join(";")+";",et}var CanvasPainter=function(){function $(_e,et,tt,nt){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var at=!_e.nodeName||_e.nodeName.toUpperCase()==="CANVAS";this._opts=tt=extend({},tt||{}),this.dpr=tt.devicePixelRatio||devicePixelRatio,this._singleCanvas=at,this.root=_e;var ot=_e.style;ot&&(disableUserSelect(_e),_e.innerHTML=""),this.storage=et;var it=this._zlevelList;this._prevDisplayList=[];var st=this._layers;if(at){var ft=_e,dt=ft.width,vt=ft.height;tt.width!=null&&(dt=tt.width),tt.height!=null&&(vt=tt.height),this.dpr=tt.devicePixelRatio||1,ft.width=dt*this.dpr,ft.height=vt*this.dpr,this._width=dt,this._height=vt;var gt=new Layer$1(ft,this,this.dpr);gt.__builtin__=!0,gt.initContext(),st[CANVAS_ZLEVEL]=gt,gt.zlevel=CANVAS_ZLEVEL,it.push(CANVAS_ZLEVEL),this._domRoot=_e}else{this._width=getSize$1(_e,0,tt),this._height=getSize$1(_e,1,tt);var ut=this._domRoot=createRoot(this._width,this._height);_e.appendChild(ut)}}return $.prototype.getType=function(){return"canvas"},$.prototype.isSingleCanvas=function(){return this._singleCanvas},$.prototype.getViewportRoot=function(){return this._domRoot},$.prototype.getViewportRootOffset=function(){var _e=this.getViewportRoot();if(_e)return{offsetLeft:_e.offsetLeft||0,offsetTop:_e.offsetTop||0}},$.prototype.refresh=function(_e){var et=this.storage.getDisplayList(!0),tt=this._prevDisplayList,nt=this._zlevelList;this._redrawId=Math.random(),this._paintList(et,tt,_e,this._redrawId);for(var at=0;at<nt.length;at++){var ot=nt[at],it=this._layers[ot];if(!it.__builtin__&&it.refresh){var st=at===0?this._backgroundColor:null;it.refresh(st)}}return this._opts.useDirtyRect&&(this._prevDisplayList=et.slice()),this},$.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},$.prototype._paintHoverList=function(_e){var et=_e.length,tt=this._hoverlayer;if(tt&&tt.clear(),!!et){for(var nt={inHover:!0,viewWidth:this._width,viewHeight:this._height},at,ot=0;ot<et;ot++){var it=_e[ot];it.__inHover&&(tt||(tt=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),at||(at=tt.ctx,at.save()),brush$1(at,it,nt,ot===et-1))}at&&at.restore()}},$.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},$.prototype.paintOne=function(_e,et){brushSingle(_e,et)},$.prototype._paintList=function(_e,et,tt,nt){if(this._redrawId===nt){tt=tt||!1,this._updateLayerStatus(_e);var at=this._doPaintList(_e,et,tt),ot=at.finished,it=at.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),it&&this._paintHoverList(_e),ot)this.eachLayer(function(ut){ut.afterBrush&&ut.afterBrush()});else{var st=this;requestAnimationFrame$2(function(){st._paintList(_e,et,tt,nt)})}}},$.prototype._compositeManually=function(){var _e=this.getLayer(CANVAS_ZLEVEL).ctx,et=this._domRoot.width,tt=this._domRoot.height;_e.clearRect(0,0,et,tt),this.eachBuiltinLayer(function(nt){nt.virtual&&_e.drawImage(nt.dom,0,0,et,tt)})},$.prototype._doPaintList=function(_e,et,tt){for(var nt=this,at=[],ot=this._opts.useDirtyRect,it=0;it<this._zlevelList.length;it++){var st=this._zlevelList[it],ut=this._layers[st];ut.__builtin__&&ut!==this._hoverlayer&&(ut.__dirty||tt)&&at.push(ut)}for(var ft=!0,dt=!1,vt=function(xt){var Ct=at[xt],wt=Ct.ctx,Et=ot&&Ct.createRepaintRects(_e,et,gt._width,gt._height),$t=tt?Ct.__startIndex:Ct.__drawIndex,It=!tt&&Ct.incremental&&Date.now,Ot=It&&Date.now(),Lt=Ct.zlevel===gt._zlevelList[0]?gt._backgroundColor:null;if(Ct.__startIndex===Ct.__endIndex)Ct.clear(!1,Lt,Et);else if($t===Ct.__startIndex){var Ft=_e[$t];(!Ft.incremental||!Ft.notClear||tt)&&Ct.clear(!1,Lt,Et)}$t===-1&&(console.error("For some unknown reason. drawIndex is -1"),$t=Ct.__startIndex);var zt,Gt=function(Zt){var Qt={inHover:!1,allClipped:!1,prevEl:null,viewWidth:nt._width,viewHeight:nt._height};for(zt=$t;zt<Ct.__endIndex;zt++){var rr=_e[zt];if(rr.__inHover&&(dt=!0),nt._doPaintEl(rr,Ct,ot,Zt,Qt,zt===Ct.__endIndex-1),It){var nr=Date.now()-Ot;if(nr>15)break}}Qt.prevElClipPaths&&wt.restore()};if(Et)if(Et.length===0)zt=Ct.__endIndex;else for(var jt=gt.dpr,Ut=0;Ut<Et.length;++Ut){var Kt=Et[Ut];wt.save(),wt.beginPath(),wt.rect(Kt.x*jt,Kt.y*jt,Kt.width*jt,Kt.height*jt),wt.clip(),Gt(Kt),wt.restore()}else wt.save(),Gt(),wt.restore();Ct.__drawIndex=zt,Ct.__drawIndex<Ct.__endIndex&&(ft=!1)},gt=this,yt=0;yt<at.length;yt++)vt(yt);return env$1.wxa&&each$f(this._layers,function(xt){xt&&xt.ctx&&xt.ctx.draw&&xt.ctx.draw()}),{finished:ft,needsRefreshHover:dt}},$.prototype._doPaintEl=function(_e,et,tt,nt,at,ot){var it=et.ctx;if(tt){var st=_e.getPaintRect();(!nt||st&&st.intersect(nt))&&(brush$1(it,_e,at,ot),_e.setPrevPaintRect(st))}else brush$1(it,_e,at,ot)},$.prototype.getLayer=function(_e,et){this._singleCanvas&&!this._needsManuallyCompositing&&(_e=CANVAS_ZLEVEL);var tt=this._layers[_e];return tt||(tt=new Layer$1("zr_"+_e,this,this.dpr),tt.zlevel=_e,tt.__builtin__=!0,this._layerConfig[_e]?merge(tt,this._layerConfig[_e],!0):this._layerConfig[_e-EL_AFTER_INCREMENTAL_INC]&&merge(tt,this._layerConfig[_e-EL_AFTER_INCREMENTAL_INC],!0),et&&(tt.virtual=et),this.insertLayer(_e,tt),tt.initContext()),tt},$.prototype.insertLayer=function(_e,et){var tt=this._layers,nt=this._zlevelList,at=nt.length,ot=this._domRoot,it=null,st=-1;if(!tt[_e]&&!!isLayerValid(et)){if(at>0&&_e>nt[0]){for(st=0;st<at-1&&!(nt[st]<_e&&nt[st+1]>_e);st++);it=tt[nt[st]]}if(nt.splice(st+1,0,_e),tt[_e]=et,!et.virtual)if(it){var ut=it.dom;ut.nextSibling?ot.insertBefore(et.dom,ut.nextSibling):ot.appendChild(et.dom)}else ot.firstChild?ot.insertBefore(et.dom,ot.firstChild):ot.appendChild(et.dom);et.__painter=this}},$.prototype.eachLayer=function(_e,et){for(var tt=this._zlevelList,nt=0;nt<tt.length;nt++){var at=tt[nt];_e.call(et,this._layers[at],at)}},$.prototype.eachBuiltinLayer=function(_e,et){for(var tt=this._zlevelList,nt=0;nt<tt.length;nt++){var at=tt[nt],ot=this._layers[at];ot.__builtin__&&_e.call(et,ot,at)}},$.prototype.eachOtherLayer=function(_e,et){for(var tt=this._zlevelList,nt=0;nt<tt.length;nt++){var at=tt[nt],ot=this._layers[at];ot.__builtin__||_e.call(et,ot,at)}},$.prototype.getLayers=function(){return this._layers},$.prototype._updateLayerStatus=function(_e){this.eachBuiltinLayer(function(dt,vt){dt.__dirty=dt.__used=!1});function et(dt){at&&(at.__endIndex!==dt&&(at.__dirty=!0),at.__endIndex=dt)}if(this._singleCanvas)for(var tt=1;tt<_e.length;tt++){var nt=_e[tt];if(nt.zlevel!==_e[tt-1].zlevel||nt.incremental){this._needsManuallyCompositing=!0;break}}var at=null,ot=0,it,st;for(st=0;st<_e.length;st++){var nt=_e[st],ut=nt.zlevel,ft=void 0;it!==ut&&(it=ut,ot=0),nt.incremental?(ft=this.getLayer(ut+INCREMENTAL_INC,this._needsManuallyCompositing),ft.incremental=!0,ot=1):ft=this.getLayer(ut+(ot>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),ft.__builtin__||logError("ZLevel "+ut+" has been used by unkown layer "+ft.id),ft!==at&&(ft.__used=!0,ft.__startIndex!==st&&(ft.__dirty=!0),ft.__startIndex=st,ft.incremental?ft.__drawIndex=-1:ft.__drawIndex=st,et(st),at=ft),nt.__dirty&REDRAW_BIT&&!nt.__inHover&&(ft.__dirty=!0,ft.incremental&&ft.__drawIndex<0&&(ft.__drawIndex=st))}et(st),this.eachBuiltinLayer(function(dt,vt){!dt.__used&&dt.getElementCount()>0&&(dt.__dirty=!0,dt.__startIndex=dt.__endIndex=dt.__drawIndex=0),dt.__dirty&&dt.__drawIndex<0&&(dt.__drawIndex=dt.__startIndex)})},$.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},$.prototype._clearLayer=function(_e){_e.clear()},$.prototype.setBackgroundColor=function(_e){this._backgroundColor=_e,each$f(this._layers,function(et){et.setUnpainted()})},$.prototype.configLayer=function(_e,et){if(et){var tt=this._layerConfig;tt[_e]?merge(tt[_e],et,!0):tt[_e]=et;for(var nt=0;nt<this._zlevelList.length;nt++){var at=this._zlevelList[nt];if(at===_e||at===_e+EL_AFTER_INCREMENTAL_INC){var ot=this._layers[at];merge(ot,tt[_e],!0)}}}},$.prototype.delLayer=function(_e){var et=this._layers,tt=this._zlevelList,nt=et[_e];!nt||(nt.dom.parentNode.removeChild(nt.dom),delete et[_e],tt.splice(indexOf(tt,_e),1))},$.prototype.resize=function(_e,et){if(this._domRoot.style){var tt=this._domRoot;tt.style.display="none";var nt=this._opts,at=this.root;if(_e!=null&&(nt.width=_e),et!=null&&(nt.height=et),_e=getSize$1(at,0,nt),et=getSize$1(at,1,nt),tt.style.display="",this._width!==_e||et!==this._height){tt.style.width=_e+"px",tt.style.height=et+"px";for(var ot in this._layers)this._layers.hasOwnProperty(ot)&&this._layers[ot].resize(_e,et);this.refresh(!0)}this._width=_e,this._height=et}else{if(_e==null||et==null)return;this._width=_e,this._height=et,this.getLayer(CANVAS_ZLEVEL).resize(_e,et)}return this},$.prototype.clearLayer=function(_e){var et=this._layers[_e];et&&et.clear()},$.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},$.prototype.getRenderedCanvas=function(_e){if(_e=_e||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var et=new Layer$1("image",this,_e.pixelRatio||this.dpr);et.initContext(),et.clear(!1,_e.backgroundColor||this._backgroundColor);var tt=et.ctx;if(_e.pixelRatio<=this.dpr){this.refresh();var nt=et.dom.width,at=et.dom.height;this.eachLayer(function(dt){dt.__builtin__?tt.drawImage(dt.dom,0,0,nt,at):dt.renderToCanvas&&(tt.save(),dt.renderToCanvas(tt),tt.restore())})}else for(var ot={inHover:!1,viewWidth:this._width,viewHeight:this._height},it=this.storage.getDisplayList(!0),st=0,ut=it.length;st<ut;st++){var ft=it[st];brush$1(tt,ft,ot,st===ut-1)}return et.dom},$.prototype.getWidth=function(){return this._width},$.prototype.getHeight=function(){return this._height},$}(),CanvasPainter$1=CanvasPainter;function install$R($){$.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.hasSymbolVisual=!0,et}return _e.prototype.getInitialData=function(et){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_e.prototype.getLegendIcon=function(et){var tt=new Group$4,nt=createSymbol$1("line",0,et.itemHeight/2,et.itemWidth,0,et.lineStyle.stroke,!1);tt.add(nt),nt.setStyle(et.lineStyle);var at=this.getData().getVisual("symbol"),ot=this.getData().getVisual("symbolRotate"),it=at==="none"?"circle":at,st=et.itemHeight*.8,ut=createSymbol$1(it,(et.itemWidth-st)/2,(et.itemHeight-st)/2,st,st,et.itemStyle.fill);tt.add(ut),ut.setStyle(et.itemStyle);var ft=et.iconRotate==="inherit"?ot:et.iconRotate||0;return ut.rotation=ft*Math.PI/180,ut.setOrigin([et.itemWidth/2,et.itemHeight/2]),it.indexOf("empty")>-1&&(ut.style.stroke=ut.style.fill,ut.style.fill="#fff",ut.style.lineWidth=2),tt},_e.type="series.line",_e.dependencies=["grid","polar"],_e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},_e}(SeriesModel$1),LineSeries=LineSeriesModel;function getDefaultLabel($,_e){var et=$.mapDimensionsAll("defaultedLabel"),tt=et.length;if(tt===1){var nt=retrieveRawValue($,_e,et[0]);return nt!=null?nt+"":null}else if(tt){for(var at=[],ot=0;ot<et.length;ot++)at.push(retrieveRawValue($,_e,et[ot]));return at.join(" ")}}function getDefaultInterpolatedLabel($,_e){var et=$.mapDimensionsAll("defaultedLabel");if(!isArray$1(_e))return _e+"";for(var tt=[],nt=0;nt<et.length;nt++){var at=$.getDimensionIndex(et[nt]);at>=0&&tt.push(_e[at])}return tt.join(" ")}var Symbol$1=function($){__extends(_e,$);function _e(et,tt,nt,at){var ot=$.call(this)||this;return ot.updateData(et,tt,nt,at),ot}return _e.prototype._createSymbol=function(et,tt,nt,at,ot){this.removeAll();var it=createSymbol$1(et,-1,-1,2,2,null,ot);it.attr({z2:100,culling:!0,scaleX:at[0]/2,scaleY:at[1]/2}),it.drift=driftSymbol,this._symbolType=et,this.add(it)},_e.prototype.stopSymbolAnimation=function(et){this.childAt(0).stopAnimation(null,et)},_e.prototype.getSymbolType=function(){return this._symbolType},_e.prototype.getSymbolPath=function(){return this.childAt(0)},_e.prototype.highlight=function(){enterEmphasis(this.childAt(0))},_e.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},_e.prototype.setZ=function(et,tt){var nt=this.childAt(0);nt.zlevel=et,nt.z=tt},_e.prototype.setDraggable=function(et,tt){var nt=this.childAt(0);nt.draggable=et,nt.cursor=!tt&&et?"move":nt.cursor},_e.prototype.updateData=function(et,tt,nt,at){this.silent=!1;var ot=et.getItemVisual(tt,"symbol")||"circle",it=et.hostModel,st=_e.getSymbolSize(et,tt),ut=ot!==this._symbolType,ft=at&&at.disableAnimation;if(ut){var dt=et.getItemVisual(tt,"symbolKeepAspect");this._createSymbol(ot,et,tt,st,dt)}else{var vt=this.childAt(0);vt.silent=!1;var gt={scaleX:st[0]/2,scaleY:st[1]/2};ft?vt.attr(gt):updateProps$1(vt,gt,it,tt),saveOldStyle(vt)}if(this._updateCommon(et,tt,st,nt,at),ut){var vt=this.childAt(0);if(!ft){var gt={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:vt.style.opacity}};vt.scaleX=vt.scaleY=0,vt.style.opacity=0,initProps(vt,gt,it,tt)}}ft&&this.childAt(0).stopAnimation("leave")},_e.prototype._updateCommon=function(et,tt,nt,at,ot){var it=this.childAt(0),st=et.hostModel,ut,ft,dt,vt,gt,yt,xt,Ct,wt;if(at&&(ut=at.emphasisItemStyle,ft=at.blurItemStyle,dt=at.selectItemStyle,vt=at.focus,gt=at.blurScope,xt=at.labelStatesModels,Ct=at.hoverScale,wt=at.cursorStyle,yt=at.emphasisDisabled),!at||et.hasItemOption){var Et=at&&at.itemModel?at.itemModel:et.getItemModel(tt),$t=Et.getModel("emphasis");ut=$t.getModel("itemStyle").getItemStyle(),dt=Et.getModel(["select","itemStyle"]).getItemStyle(),ft=Et.getModel(["blur","itemStyle"]).getItemStyle(),vt=$t.get("focus"),gt=$t.get("blurScope"),yt=$t.get("disabled"),xt=getLabelStatesModels(Et),Ct=$t.getShallow("scale"),wt=Et.getShallow("cursor")}var It=et.getItemVisual(tt,"symbolRotate");it.attr("rotation",(It||0)*Math.PI/180||0);var Ot=normalizeSymbolOffset(et.getItemVisual(tt,"symbolOffset"),nt);Ot&&(it.x=Ot[0],it.y=Ot[1]),wt&&it.attr("cursor",wt);var Lt=et.getItemVisual(tt,"style"),Ft=Lt.fill;if(it instanceof ZRImage$1){var zt=it.style;it.useStyle(extend({image:zt.image,x:zt.x,y:zt.y,width:zt.width,height:zt.height},Lt))}else it.__isEmptyBrush?it.useStyle(extend({},Lt)):it.useStyle(Lt),it.style.decal=null,it.setColor(Ft,ot&&ot.symbolInnerColor),it.style.strokeNoScale=!0;var Gt=et.getItemVisual(tt,"liftZ"),jt=this._z2;Gt!=null?jt==null&&(this._z2=it.z2,it.z2+=Gt):jt!=null&&(it.z2=jt,this._z2=null);var Ut=ot&&ot.useNameLabel;setLabelStyle(it,xt,{labelFetcher:st,labelDataIndex:tt,defaultText:Kt,inheritColor:Ft,defaultOpacity:Lt.opacity});function Kt(rr){return Ut?et.getName(rr):getDefaultLabel(et,rr)}this._sizeX=nt[0]/2,this._sizeY=nt[1]/2;var Zt=it.ensureState("emphasis");if(Zt.style=ut,it.ensureState("select").style=dt,it.ensureState("blur").style=ft,Ct){var Qt=Math.max(isNumber(Ct)?Ct:1.1,3/this._sizeY);Zt.scaleX=this._sizeX*Qt,Zt.scaleY=this._sizeY*Qt}this.setSymbolScale(1),toggleHoverEmphasis(this,vt,gt,yt)},_e.prototype.setSymbolScale=function(et){this.scaleX=this.scaleY=et},_e.prototype.fadeOut=function(et,tt,nt){var at=this.childAt(0),ot=getECData(this).dataIndex,it=nt&&nt.animation;if(this.silent=at.silent=!0,nt&&nt.fadeLabel){var st=at.getTextContent();st&&removeElement(st,{style:{opacity:0}},tt,{dataIndex:ot,removeOpt:it,cb:function(){at.removeTextContent()}})}else at.removeTextContent();removeElement(at,{style:{opacity:0},scaleX:0,scaleY:0},tt,{dataIndex:ot,cb:et,removeOpt:it})},_e.getSymbolSize=function(et,tt){return normalizeSymbolSize(et.getItemVisual(tt,"symbolSize"))},_e}(Group$4);function driftSymbol($,_e){this.parent.drift($,_e)}var SymbolClz=Symbol$1;function symbolNeedsDraw$1($,_e,et,tt){return _e&&!isNaN(_e[0])&&!isNaN(_e[1])&&!(tt.isIgnore&&tt.isIgnore(et))&&!(tt.clipShape&&!tt.clipShape.contain(_e[0],_e[1]))&&$.getItemVisual(et,"symbol")!=="none"}function normalizeUpdateOpt($){return $!=null&&!isObject$3($)&&($={isIgnore:$}),$||{}}function makeSeriesScope$2($){var _e=$.hostModel,et=_e.getModel("emphasis");return{emphasisItemStyle:et.getModel("itemStyle").getItemStyle(),blurItemStyle:_e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:_e.getModel(["select","itemStyle"]).getItemStyle(),focus:et.get("focus"),blurScope:et.get("blurScope"),emphasisDisabled:et.get("disabled"),hoverScale:et.get("scale"),labelStatesModels:getLabelStatesModels(_e),cursorStyle:_e.get("cursor")}}var SymbolDraw=function(){function $(_e){this.group=new Group$4,this._SymbolCtor=_e||SymbolClz}return $.prototype.updateData=function(_e,et){this._progressiveEls=null,et=normalizeUpdateOpt(et);var tt=this.group,nt=_e.hostModel,at=this._data,ot=this._SymbolCtor,it=et.disableAnimation,st=makeSeriesScope$2(_e),ut={disableAnimation:it},ft=et.getSymbolPoint||function(dt){return _e.getItemLayout(dt)};at||tt.removeAll(),_e.diff(at).add(function(dt){var vt=ft(dt);if(symbolNeedsDraw$1(_e,vt,dt,et)){var gt=new ot(_e,dt,st,ut);gt.setPosition(vt),_e.setItemGraphicEl(dt,gt),tt.add(gt)}}).update(function(dt,vt){var gt=at.getItemGraphicEl(vt),yt=ft(dt);if(!symbolNeedsDraw$1(_e,yt,dt,et)){tt.remove(gt);return}var xt=_e.getItemVisual(dt,"symbol")||"circle",Ct=gt&&gt.getSymbolType&&gt.getSymbolType();if(!gt||Ct&&Ct!==xt)tt.remove(gt),gt=new ot(_e,dt,st,ut),gt.setPosition(yt);else{gt.updateData(_e,dt,st,ut);var wt={x:yt[0],y:yt[1]};it?gt.attr(wt):updateProps$1(gt,wt,nt)}tt.add(gt),_e.setItemGraphicEl(dt,gt)}).remove(function(dt){var vt=at.getItemGraphicEl(dt);vt&&vt.fadeOut(function(){tt.remove(vt)},nt)}).execute(),this._getSymbolPoint=ft,this._data=_e},$.prototype.updateLayout=function(){var _e=this,et=this._data;et&&et.eachItemGraphicEl(function(tt,nt){var at=_e._getSymbolPoint(nt);tt.setPosition(at),tt.markRedraw()})},$.prototype.incrementalPrepareUpdate=function(_e){this._seriesScope=makeSeriesScope$2(_e),this._data=null,this.group.removeAll()},$.prototype.incrementalUpdate=function(_e,et,tt){this._progressiveEls=[],tt=normalizeUpdateOpt(tt);function nt(st){st.isGroup||(st.incremental=!0,st.ensureState("emphasis").hoverLayer=!0)}for(var at=_e.start;at<_e.end;at++){var ot=et.getItemLayout(at);if(symbolNeedsDraw$1(et,ot,at,tt)){var it=new this._SymbolCtor(et,at,this._seriesScope);it.traverse(nt),it.setPosition(ot),this.group.add(it),et.setItemGraphicEl(at,it),this._progressiveEls.push(it)}}},$.prototype.eachRendered=function(_e){traverseElements(this._progressiveEls||this.group,_e)},$.prototype.remove=function(_e){var et=this.group,tt=this._data;tt&&_e?tt.eachItemGraphicEl(function(nt){nt.fadeOut(function(){et.remove(nt)},tt.hostModel)}):et.removeAll()},$}(),SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo($,_e,et){var tt=$.getBaseAxis(),nt=$.getOtherAxis(tt),at=getValueStart(nt,et),ot=tt.dim,it=nt.dim,st=_e.mapDimension(it),ut=_e.mapDimension(ot),ft=it==="x"||it==="radius"?1:0,dt=map$1($.dimensions,function(yt){return _e.mapDimension(yt)}),vt=!1,gt=_e.getCalculationInfo("stackResultDimension");return isDimensionStacked(_e,dt[0])&&(vt=!0,dt[0]=gt),isDimensionStacked(_e,dt[1])&&(vt=!0,dt[1]=gt),{dataDimsForPoint:dt,valueStart:at,valueAxisDim:it,baseAxisDim:ot,stacked:!!vt,valueDim:st,baseDim:ut,baseDataOffset:ft,stackedOverDimension:_e.getCalculationInfo("stackedOverDimension")}}function getValueStart($,_e){var et=0,tt=$.scale.getExtent();return _e==="start"?et=tt[0]:_e==="end"?et=tt[1]:isNumber(_e)&&!isNaN(_e)?et=_e:tt[0]>0?et=tt[0]:tt[1]<0&&(et=tt[1]),et}function getStackedOnPoint($,_e,et,tt){var nt=NaN;$.stacked&&(nt=et.get(et.getCalculationInfo("stackedOverDimension"),tt)),isNaN(nt)&&(nt=$.valueStart);var at=$.baseDataOffset,ot=[];return ot[at]=et.get($.baseDim,tt),ot[1-at]=nt,_e.dataToPoint(ot)}function diffData($,_e){var et=[];return _e.diff($).add(function(tt){et.push({cmd:"+",idx:tt})}).update(function(tt,nt){et.push({cmd:"=",idx:nt,idx1:tt})}).remove(function(tt){et.push({cmd:"-",idx:tt})}).execute(),et}function lineAnimationDiff($,_e,et,tt,nt,at,ot,it){for(var st=diffData($,_e),ut=[],ft=[],dt=[],vt=[],gt=[],yt=[],xt=[],Ct=prepareDataCoordInfo(nt,_e,ot),wt=$.getLayout("points")||[],Et=_e.getLayout("points")||[],$t=0;$t<st.length;$t++){var It=st[$t],Ot=!0,Lt=void 0,Ft=void 0;switch(It.cmd){case"=":Lt=It.idx*2,Ft=It.idx1*2;var zt=wt[Lt],Gt=wt[Lt+1],jt=Et[Ft],Ut=Et[Ft+1];(isNaN(zt)||isNaN(Gt))&&(zt=jt,Gt=Ut),ut.push(zt,Gt),ft.push(jt,Ut),dt.push(et[Lt],et[Lt+1]),vt.push(tt[Ft],tt[Ft+1]),xt.push(_e.getRawIndex(It.idx1));break;case"+":var Kt=It.idx,Zt=Ct.dataDimsForPoint,Qt=nt.dataToPoint([_e.get(Zt[0],Kt),_e.get(Zt[1],Kt)]);Ft=Kt*2,ut.push(Qt[0],Qt[1]),ft.push(Et[Ft],Et[Ft+1]);var rr=getStackedOnPoint(Ct,nt,_e,Kt);dt.push(rr[0],rr[1]),vt.push(tt[Ft],tt[Ft+1]),xt.push(_e.getRawIndex(Kt));break;case"-":Ot=!1}Ot&&(gt.push(It),yt.push(yt.length))}yt.sort(function(Br,qr){return xt[Br]-xt[qr]});for(var nr=ut.length,dr=createFloat32Array(nr),sr=createFloat32Array(nr),fr=createFloat32Array(nr),yr=createFloat32Array(nr),Pr=[],$t=0;$t<yt.length;$t++){var wr=yt[$t],Mr=$t*2,Lr=wr*2;dr[Mr]=ut[Lr],dr[Mr+1]=ut[Lr+1],sr[Mr]=ft[Lr],sr[Mr+1]=ft[Lr+1],fr[Mr]=dt[Lr],fr[Mr+1]=dt[Lr+1],yr[Mr]=vt[Lr],yr[Mr+1]=vt[Lr+1],Pr[$t]=gt[wr]}return{current:dr,next:sr,stackedOnCurrent:fr,stackedOnNext:yr,status:Pr}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1($,_e){return isNaN($)||isNaN(_e)}function drawSegment($,_e,et,tt,nt,at,ot,it,st){for(var ut,ft,dt,vt,gt,yt,xt=et,Ct=0;Ct<tt;Ct++){var wt=_e[xt*2],Et=_e[xt*2+1];if(xt>=nt||xt<0)break;if(isPointNull$1(wt,Et)){if(st){xt+=at;continue}break}if(xt===et)$[at>0?"moveTo":"lineTo"](wt,Et),dt=wt,vt=Et;else{var $t=wt-ut,It=Et-ft;if($t*$t+It*It<.5){xt+=at;continue}if(ot>0){for(var Ot=xt+at,Lt=_e[Ot*2],Ft=_e[Ot*2+1];Lt===wt&&Ft===Et&&Ct<tt;)Ct++,Ot+=at,xt+=at,Lt=_e[Ot*2],Ft=_e[Ot*2+1],wt=_e[xt*2],Et=_e[xt*2+1],$t=wt-ut,It=Et-ft;var zt=Ct+1;if(st)for(;isPointNull$1(Lt,Ft)&&zt<tt;)zt++,Ot+=at,Lt=_e[Ot*2],Ft=_e[Ot*2+1];var Gt=.5,jt=0,Ut=0,Kt=void 0,Zt=void 0;if(zt>=tt||isPointNull$1(Lt,Ft))gt=wt,yt=Et;else{jt=Lt-ut,Ut=Ft-ft;var Qt=wt-ut,rr=Lt-wt,nr=Et-ft,dr=Ft-Et,sr=void 0,fr=void 0;if(it==="x"){sr=Math.abs(Qt),fr=Math.abs(rr);var yr=jt>0?1:-1;gt=wt-yr*sr*ot,yt=Et,Kt=wt+yr*fr*ot,Zt=Et}else if(it==="y"){sr=Math.abs(nr),fr=Math.abs(dr);var Pr=Ut>0?1:-1;gt=wt,yt=Et-Pr*sr*ot,Kt=wt,Zt=Et+Pr*fr*ot}else sr=Math.sqrt(Qt*Qt+nr*nr),fr=Math.sqrt(rr*rr+dr*dr),Gt=fr/(fr+sr),gt=wt-jt*ot*(1-Gt),yt=Et-Ut*ot*(1-Gt),Kt=wt+jt*ot*Gt,Zt=Et+Ut*ot*Gt,Kt=mathMin$5(Kt,mathMax$5(Lt,wt)),Zt=mathMin$5(Zt,mathMax$5(Ft,Et)),Kt=mathMax$5(Kt,mathMin$5(Lt,wt)),Zt=mathMax$5(Zt,mathMin$5(Ft,Et)),jt=Kt-wt,Ut=Zt-Et,gt=wt-jt*sr/fr,yt=Et-Ut*sr/fr,gt=mathMin$5(gt,mathMax$5(ut,wt)),yt=mathMin$5(yt,mathMax$5(ft,Et)),gt=mathMax$5(gt,mathMin$5(ut,wt)),yt=mathMax$5(yt,mathMin$5(ft,Et)),jt=wt-gt,Ut=Et-yt,Kt=wt+jt*fr/sr,Zt=Et+Ut*fr/sr}$.bezierCurveTo(dt,vt,gt,yt,wt,Et),dt=Kt,vt=Zt}else $.lineTo(wt,Et)}ut=wt,ft=Et,xt+=at}return Ct}var ECPolylineShape=function(){function $(){this.smooth=0,this.smoothConstraint=!0}return $}(),ECPolyline=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="ec-polyline",tt}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new ECPolylineShape},_e.prototype.buildPath=function(et,tt){var nt=tt.points,at=0,ot=nt.length/2;if(tt.connectNulls){for(;ot>0&&isPointNull$1(nt[ot*2-2],nt[ot*2-1]);ot--);for(;at<ot&&isPointNull$1(nt[at*2],nt[at*2+1]);at++);}for(;at<ot;)at+=drawSegment(et,nt,at,ot,ot,1,tt.smooth,tt.smoothMonotone,tt.connectNulls)+1},_e.prototype.getPointOn=function(et,tt){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var nt=this.path,at=nt.data,ot=PathProxy.CMD,it,st,ut=tt==="x",ft=[],dt=0;dt<at.length;){var vt=at[dt++],gt=void 0,yt=void 0,xt=void 0,Ct=void 0,wt=void 0,Et=void 0,$t=void 0;switch(vt){case ot.M:it=at[dt++],st=at[dt++];break;case ot.L:if(gt=at[dt++],yt=at[dt++],$t=ut?(et-it)/(gt-it):(et-st)/(yt-st),$t<=1&&$t>=0){var It=ut?(yt-st)*$t+st:(gt-it)*$t+it;return ut?[et,It]:[It,et]}it=gt,st=yt;break;case ot.C:gt=at[dt++],yt=at[dt++],xt=at[dt++],Ct=at[dt++],wt=at[dt++],Et=at[dt++];var Ot=ut?cubicRootAt(it,gt,xt,wt,et,ft):cubicRootAt(st,yt,Ct,Et,et,ft);if(Ot>0)for(var Lt=0;Lt<Ot;Lt++){var Ft=ft[Lt];if(Ft<=1&&Ft>=0){var It=ut?cubicAt(st,yt,Ct,Et,Ft):cubicAt(it,gt,xt,wt,Ft);return ut?[et,It]:[It,et]}}it=wt,st=Et;break}}},_e}(Path$1),ECPolygonShape=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e}(ECPolylineShape),ECPolygon=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="ec-polygon",tt}return _e.prototype.getDefaultShape=function(){return new ECPolygonShape},_e.prototype.buildPath=function(et,tt){var nt=tt.points,at=tt.stackedOnPoints,ot=0,it=nt.length/2,st=tt.smoothMonotone;if(tt.connectNulls){for(;it>0&&isPointNull$1(nt[it*2-2],nt[it*2-1]);it--);for(;ot<it&&isPointNull$1(nt[ot*2],nt[ot*2+1]);ot++);}for(;ot<it;){var ut=drawSegment(et,nt,ot,it,it,1,tt.smooth,st,tt.connectNulls);drawSegment(et,at,ot+ut-1,ut,it,-1,tt.stackedOnSmooth,st,tt.connectNulls),ot+=ut+1,et.closePath()}},_e}(Path$1);function createGridClipPath($,_e,et,tt,nt){var at=$.getArea(),ot=at.x,it=at.y,st=at.width,ut=at.height,ft=et.get(["lineStyle","width"])||2;ot-=ft/2,it-=ft/2,st+=ft,ut+=ft,ot=Math.floor(ot),st=Math.round(st);var dt=new Rect$3({shape:{x:ot,y:it,width:st,height:ut}});if(_e){var vt=$.getBaseAxis(),gt=vt.isHorizontal(),yt=vt.inverse;gt?(yt&&(dt.shape.x+=st),dt.shape.width=0):(yt||(dt.shape.y+=ut),dt.shape.height=0);var xt=isFunction(nt)?function(Ct){nt(Ct,dt)}:null;initProps(dt,{shape:{width:st,height:ut,x:ot,y:it}},et,null,tt,xt)}return dt}function createPolarClipPath($,_e,et){var tt=$.getArea(),nt=round$3(tt.r0,1),at=round$3(tt.r,1),ot=new Sector$1({shape:{cx:round$3($.cx,1),cy:round$3($.cy,1),r0:nt,r:at,startAngle:tt.startAngle,endAngle:tt.endAngle,clockwise:tt.clockwise}});if(_e){var it=$.getBaseAxis().dim==="angle";it?ot.shape.endAngle=tt.startAngle:ot.shape.r=nt,initProps(ot,{shape:{endAngle:tt.endAngle,r:at}},et)}return ot}function createClipPath($,_e,et,tt,nt){if($){if($.type==="polar")return createPolarClipPath($,_e,et);if($.type==="cartesian2d")return createGridClipPath($,_e,et,tt,nt)}else return null;return null}function isCoordinateSystemType($,_e){return $.type===_e}function isPointsSame($,_e){if($.length===_e.length){for(var et=0;et<$.length;et++)if($[et]!==_e[et])return;return!0}}function bboxFromPoints($){for(var _e=1/0,et=1/0,tt=-1/0,nt=-1/0,at=0;at<$.length;){var ot=$[at++],it=$[at++];isNaN(ot)||(_e=Math.min(ot,_e),tt=Math.max(ot,tt)),isNaN(it)||(et=Math.min(it,et),nt=Math.max(it,nt))}return[[_e,et],[tt,nt]]}function getBoundingDiff($,_e){var et=bboxFromPoints($),tt=et[0],nt=et[1],at=bboxFromPoints(_e),ot=at[0],it=at[1];return Math.max(Math.abs(tt[0]-ot[0]),Math.abs(tt[1]-ot[1]),Math.abs(nt[0]-it[0]),Math.abs(nt[1]-it[1]))}function getSmooth($){return isNumber($)?$:$?.5:0}function getStackedOnPoints($,_e,et){if(!et.valueDim)return[];for(var tt=_e.count(),nt=createFloat32Array(tt*2),at=0;at<tt;at++){var ot=getStackedOnPoint(et,$,_e,at);nt[at*2]=ot[0],nt[at*2+1]=ot[1]}return nt}function turnPointsIntoStep($,_e,et,tt){var nt=_e.getBaseAxis(),at=nt.dim==="x"||nt.dim==="radius"?0:1,ot=[],it=0,st=[],ut=[],ft=[],dt=[];if(tt){for(it=0;it<$.length;it+=2)!isNaN($[it])&&!isNaN($[it+1])&&dt.push($[it],$[it+1]);$=dt}for(it=0;it<$.length-2;it+=2)switch(ft[0]=$[it+2],ft[1]=$[it+3],ut[0]=$[it],ut[1]=$[it+1],ot.push(ut[0],ut[1]),et){case"end":st[at]=ft[at],st[1-at]=ut[1-at],ot.push(st[0],st[1]);break;case"middle":var vt=(ut[at]+ft[at])/2,gt=[];st[at]=gt[at]=vt,st[1-at]=ut[1-at],gt[1-at]=ft[1-at],ot.push(st[0],st[1]),ot.push(gt[0],gt[1]);break;default:st[at]=ut[at],st[1-at]=ft[1-at],ot.push(st[0],st[1])}return ot.push($[it++],$[it++]),ot}function clipColorStops($,_e){var et=[],tt=$.length,nt,at;function ot(ft,dt,vt){var gt=ft.coord,yt=(vt-gt)/(dt.coord-gt),xt=lerp(yt,[ft.color,dt.color]);return{coord:vt,color:xt}}for(var it=0;it<tt;it++){var st=$[it],ut=st.coord;if(ut<0)nt=st;else if(ut>_e){at?et.push(ot(at,st,_e)):nt&&et.push(ot(nt,st,0),ot(nt,st,_e));break}else nt&&(et.push(ot(nt,st,0)),nt=null),et.push(st),at=st}return et}function getVisualGradient($,_e,et){var tt=$.getVisual("visualMeta");if(!(!tt||!tt.length||!$.count())&&_e.type==="cartesian2d"){for(var nt,at,ot=tt.length-1;ot>=0;ot--){var it=$.getDimensionInfo(tt[ot].dimension);if(nt=it&&it.coordDim,nt==="x"||nt==="y"){at=tt[ot];break}}if(!!at){var st=_e.getAxis(nt),ut=map$1(at.stops,function($t){return{coord:st.toGlobalCoord(st.dataToCoord($t.value)),color:$t.color}}),ft=ut.length,dt=at.outerColors.slice();ft&&ut[0].coord>ut[ft-1].coord&&(ut.reverse(),dt.reverse());var vt=clipColorStops(ut,nt==="x"?et.getWidth():et.getHeight()),gt=vt.length;if(!gt&&ft)return ut[0].coord<0?dt[1]?dt[1]:ut[ft-1].color:dt[0]?dt[0]:ut[0].color;var yt=10,xt=vt[0].coord-yt,Ct=vt[gt-1].coord+yt,wt=Ct-xt;if(wt<.001)return"transparent";each$f(vt,function($t){$t.offset=($t.coord-xt)/wt}),vt.push({offset:gt?vt[gt-1].offset:.5,color:dt[1]||"transparent"}),vt.unshift({offset:gt?vt[0].offset:.5,color:dt[0]||"transparent"});var Et=new LinearGradient$1(0,0,0,0,vt,!0);return Et[nt]=xt,Et[nt+"2"]=Ct,Et}}}function getIsIgnoreFunc($,_e,et){var tt=$.get("showAllSymbol"),nt=tt==="auto";if(!(tt&&!nt)){var at=et.getAxesByScale("ordinal")[0];if(!!at&&!(nt&&canShowAllSymbolForCategory(at,_e))){var ot=_e.mapDimension(at.dim),it={};return each$f(at.getViewLabels(),function(st){var ut=at.scale.getRawOrdinalNumber(st.tickValue);it[ut]=1}),function(st){return!it.hasOwnProperty(_e.get(ot,st))}}}}function canShowAllSymbolForCategory($,_e){var et=$.getExtent(),tt=Math.abs(et[1]-et[0])/$.scale.count();isNaN(tt)&&(tt=0);for(var nt=_e.count(),at=Math.max(1,Math.round(nt/5)),ot=0;ot<nt;ot+=at)if(SymbolClz.getSymbolSize(_e,ot)[$.isHorizontal()?1:0]*1.5>tt)return!1;return!0}function isPointNull($,_e){return isNaN($)||isNaN(_e)}function getLastIndexNotNull($){for(var _e=$.length/2;_e>0&&isPointNull($[_e*2-2],$[_e*2-1]);_e--);return _e-1}function getPointAtIndex($,_e){return[$[_e*2],$[_e*2+1]]}function getIndexRange($,_e,et){for(var tt=$.length/2,nt=et==="x"?0:1,at,ot,it=0,st=-1,ut=0;ut<tt;ut++)if(ot=$[ut*2+nt],!(isNaN(ot)||isNaN($[ut*2+1-nt]))){if(ut===0){at=ot;continue}if(at<=_e&&ot>=_e||at>=_e&&ot<=_e){st=ut;break}it=ut,at=ot}return{range:[it,st],t:(_e-at)/(ot-at)}}function anyStateShowEndLabel($){if($.get(["endLabel","show"]))return!0;for(var _e=0;_e<SPECIAL_STATES.length;_e++)if($.get([SPECIAL_STATES[_e],"endLabel","show"]))return!0;return!1}function createLineClipPath($,_e,et,tt){if(isCoordinateSystemType(_e,"cartesian2d")){var nt=tt.getModel("endLabel"),at=nt.get("valueAnimation"),ot=tt.getData(),it={lastFrameIndex:0},st=anyStateShowEndLabel(tt)?function(gt,yt){$._endLabelOnDuring(gt,yt,ot,it,at,nt,_e)}:null,ut=_e.getBaseAxis().isHorizontal(),ft=createGridClipPath(_e,et,tt,function(){var gt=$._endLabel;gt&&et&&it.originalX!=null&&gt.attr({x:it.originalX,y:it.originalY})},st);if(!tt.get("clip",!0)){var dt=ft.shape,vt=Math.max(dt.width,dt.height);ut?(dt.y-=vt,dt.height+=vt*2):(dt.x-=vt,dt.width+=vt*2)}return st&&st(1,ft),ft}else return createPolarClipPath(_e,et,tt)}function getEndLabelStateSpecified($,_e){var et=_e.getBaseAxis(),tt=et.isHorizontal(),nt=et.inverse,at=tt?nt?"right":"left":"center",ot=tt?"middle":nt?"top":"bottom";return{normal:{align:$.get("align")||at,verticalAlign:$.get("verticalAlign")||ot}}}var LineView=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.init=function(){var et=new Group$4,tt=new SymbolDraw$1;this.group.add(tt.group),this._symbolDraw=tt,this._lineGroup=et},_e.prototype.render=function(et,tt,nt){var at=this,ot=et.coordinateSystem,it=this.group,st=et.getData(),ut=et.getModel("lineStyle"),ft=et.getModel("areaStyle"),dt=st.getLayout("points")||[],vt=ot.type==="polar",gt=this._coordSys,yt=this._symbolDraw,xt=this._polyline,Ct=this._polygon,wt=this._lineGroup,Et=et.get("animation"),$t=!ft.isEmpty(),It=ft.get("origin"),Ot=prepareDataCoordInfo(ot,st,It),Lt=$t&&getStackedOnPoints(ot,st,Ot),Ft=et.get("showSymbol"),zt=et.get("connectNulls"),Gt=Ft&&!vt&&getIsIgnoreFunc(et,st,ot),jt=this._data;jt&&jt.eachItemGraphicEl(function(qr,Qr){qr.__temp&&(it.remove(qr),jt.setItemGraphicEl(Qr,null))}),Ft||yt.remove(),it.add(wt);var Ut=vt?!1:et.get("step"),Kt;ot&&ot.getArea&&et.get("clip",!0)&&(Kt=ot.getArea(),Kt.width!=null?(Kt.x-=.1,Kt.y-=.1,Kt.width+=.2,Kt.height+=.2):Kt.r0&&(Kt.r0-=.5,Kt.r+=.5)),this._clipShapeForSymbol=Kt;var Zt=getVisualGradient(st,ot,nt)||st.getVisual("style")[st.getVisual("drawType")];if(!(xt&&gt.type===ot.type&&Ut===this._step))Ft&&yt.updateData(st,{isIgnore:Gt,clipShape:Kt,disableAnimation:!0,getSymbolPoint:function(qr){return[dt[qr*2],dt[qr*2+1]]}}),Et&&this._initSymbolLabelAnimation(st,ot,Kt),Ut&&(dt=turnPointsIntoStep(dt,ot,Ut,zt),Lt&&(Lt=turnPointsIntoStep(Lt,ot,Ut,zt))),xt=this._newPolyline(dt),$t?Ct=this._newPolygon(dt,Lt):Ct&&(wt.remove(Ct),Ct=this._polygon=null),vt||this._initOrUpdateEndLabel(et,ot,convertToColorString(Zt)),wt.setClipPath(createLineClipPath(this,ot,!0,et));else{$t&&!Ct?Ct=this._newPolygon(dt,Lt):Ct&&!$t&&(wt.remove(Ct),Ct=this._polygon=null),vt||this._initOrUpdateEndLabel(et,ot,convertToColorString(Zt));var Qt=wt.getClipPath();if(Qt){var rr=createLineClipPath(this,ot,!1,et);initProps(Qt,{shape:rr.shape},et)}else wt.setClipPath(createLineClipPath(this,ot,!0,et));Ft&&yt.updateData(st,{isIgnore:Gt,clipShape:Kt,disableAnimation:!0,getSymbolPoint:function(qr){return[dt[qr*2],dt[qr*2+1]]}}),(!isPointsSame(this._stackedOnPoints,Lt)||!isPointsSame(this._points,dt))&&(Et?this._doUpdateAnimation(st,Lt,ot,nt,Ut,It,zt):(Ut&&(dt=turnPointsIntoStep(dt,ot,Ut,zt),Lt&&(Lt=turnPointsIntoStep(Lt,ot,Ut,zt))),xt.setShape({points:dt}),Ct&&Ct.setShape({points:dt,stackedOnPoints:Lt})))}var nr=et.getModel("emphasis"),dr=nr.get("focus"),sr=nr.get("blurScope"),fr=nr.get("disabled");if(xt.useStyle(defaults(ut.getLineStyle(),{fill:"none",stroke:Zt,lineJoin:"bevel"})),setStatesStylesFromModel(xt,et,"lineStyle"),xt.style.lineWidth>0&&et.get(["emphasis","lineStyle","width"])==="bolder"){var yr=xt.getState("emphasis").style;yr.lineWidth=+xt.style.lineWidth+1}getECData(xt).seriesIndex=et.seriesIndex,toggleHoverEmphasis(xt,dr,sr,fr);var Pr=getSmooth(et.get("smooth")),wr=et.get("smoothMonotone");if(xt.setShape({smooth:Pr,smoothMonotone:wr,connectNulls:zt}),Ct){var Mr=st.getCalculationInfo("stackedOnSeries"),Lr=0;Ct.useStyle(defaults(ft.getAreaStyle(),{fill:Zt,opacity:.7,lineJoin:"bevel",decal:st.getVisual("style").decal})),Mr&&(Lr=getSmooth(Mr.get("smooth"))),Ct.setShape({smooth:Pr,stackedOnSmooth:Lr,smoothMonotone:wr,connectNulls:zt}),setStatesStylesFromModel(Ct,et,"areaStyle"),getECData(Ct).seriesIndex=et.seriesIndex,toggleHoverEmphasis(Ct,dr,sr,fr)}var Br=function(qr){at._changePolyState(qr)};st.eachItemGraphicEl(function(qr){qr&&(qr.onHoverStateChange=Br)}),this._polyline.onHoverStateChange=Br,this._data=st,this._coordSys=ot,this._stackedOnPoints=Lt,this._points=dt,this._step=Ut,this._valueOrigin=It,et.get("triggerLineEvent")&&(this.packEventData(et,xt),Ct&&this.packEventData(et,Ct))},_e.prototype.packEventData=function(et,tt){getECData(tt).eventData={componentType:"series",componentSubType:"line",componentIndex:et.componentIndex,seriesIndex:et.seriesIndex,seriesName:et.name,seriesType:"line"}},_e.prototype.highlight=function(et,tt,nt,at){var ot=et.getData(),it=queryDataIndex(ot,at);if(this._changePolyState("emphasis"),!(it instanceof Array)&&it!=null&&it>=0){var st=ot.getLayout("points"),ut=ot.getItemGraphicEl(it);if(!ut){var ft=st[it*2],dt=st[it*2+1];if(isNaN(ft)||isNaN(dt)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(ft,dt))return;var vt=et.get("zlevel"),gt=et.get("z");ut=new SymbolClz(ot,it),ut.x=ft,ut.y=dt,ut.setZ(vt,gt);var yt=ut.getSymbolPath().getTextContent();yt&&(yt.zlevel=vt,yt.z=gt,yt.z2=this._polyline.z2+1),ut.__temp=!0,ot.setItemGraphicEl(it,ut),ut.stopSymbolAnimation(!0),this.group.add(ut)}ut.highlight()}else ChartView$1.prototype.highlight.call(this,et,tt,nt,at)},_e.prototype.downplay=function(et,tt,nt,at){var ot=et.getData(),it=queryDataIndex(ot,at);if(this._changePolyState("normal"),it!=null&&it>=0){var st=ot.getItemGraphicEl(it);st&&(st.__temp?(ot.setItemGraphicEl(it,null),this.group.remove(st)):st.downplay())}else ChartView$1.prototype.downplay.call(this,et,tt,nt,at)},_e.prototype._changePolyState=function(et){var tt=this._polygon;setStatesFlag(this._polyline,et),tt&&setStatesFlag(tt,et)},_e.prototype._newPolyline=function(et){var tt=this._polyline;return tt&&this._lineGroup.remove(tt),tt=new ECPolyline({shape:{points:et},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(tt),this._polyline=tt,tt},_e.prototype._newPolygon=function(et,tt){var nt=this._polygon;return nt&&this._lineGroup.remove(nt),nt=new ECPolygon({shape:{points:et,stackedOnPoints:tt},segmentIgnoreThreshold:2}),this._lineGroup.add(nt),this._polygon=nt,nt},_e.prototype._initSymbolLabelAnimation=function(et,tt,nt){var at,ot,it=tt.getBaseAxis(),st=it.inverse;tt.type==="cartesian2d"?(at=it.isHorizontal(),ot=!1):tt.type==="polar"&&(at=it.dim==="angle",ot=!0);var ut=et.hostModel,ft=ut.get("animationDuration");isFunction(ft)&&(ft=ft(null));var dt=ut.get("animationDelay")||0,vt=isFunction(dt)?dt(null):dt;et.eachItemGraphicEl(function(gt,yt){var xt=gt;if(xt){var Ct=[gt.x,gt.y],wt=void 0,Et=void 0,$t=void 0;if(nt)if(ot){var It=nt,Ot=tt.pointToCoord(Ct);at?(wt=It.startAngle,Et=It.endAngle,$t=-Ot[1]/180*Math.PI):(wt=It.r0,Et=It.r,$t=Ot[0])}else{var Lt=nt;at?(wt=Lt.x,Et=Lt.x+Lt.width,$t=gt.x):(wt=Lt.y+Lt.height,Et=Lt.y,$t=gt.y)}var Ft=Et===wt?0:($t-wt)/(Et-wt);st&&(Ft=1-Ft);var zt=isFunction(dt)?dt(yt):ft*Ft+vt,Gt=xt.getSymbolPath(),jt=Gt.getTextContent();xt.attr({scaleX:0,scaleY:0}),xt.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:zt}),jt&&jt.animateFrom({style:{opacity:0}},{duration:300,delay:zt}),Gt.disableLabelAnimation=!0}})},_e.prototype._initOrUpdateEndLabel=function(et,tt,nt){var at=et.getModel("endLabel");if(anyStateShowEndLabel(et)){var ot=et.getData(),it=this._polyline,st=ot.getLayout("points");if(!st){it.removeTextContent(),this._endLabel=null;return}var ut=this._endLabel;ut||(ut=this._endLabel=new ZRText$1({z2:200}),ut.ignoreClip=!0,it.setTextContent(this._endLabel),it.disableLabelAnimation=!0);var ft=getLastIndexNotNull(st);ft>=0&&(setLabelStyle(it,getLabelStatesModels(et,"endLabel"),{inheritColor:nt,labelFetcher:et,labelDataIndex:ft,defaultText:function(dt,vt,gt){return gt!=null?getDefaultInterpolatedLabel(ot,gt):getDefaultLabel(ot,dt)},enableTextSetter:!0},getEndLabelStateSpecified(at,tt)),it.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},_e.prototype._endLabelOnDuring=function(et,tt,nt,at,ot,it,st){var ut=this._endLabel,ft=this._polyline;if(ut){et<1&&at.originalX==null&&(at.originalX=ut.x,at.originalY=ut.y);var dt=nt.getLayout("points"),vt=nt.hostModel,gt=vt.get("connectNulls"),yt=it.get("precision"),xt=it.get("distance")||0,Ct=st.getBaseAxis(),wt=Ct.isHorizontal(),Et=Ct.inverse,$t=tt.shape,It=Et?wt?$t.x:$t.y+$t.height:wt?$t.x+$t.width:$t.y,Ot=(wt?xt:0)*(Et?-1:1),Lt=(wt?0:-xt)*(Et?-1:1),Ft=wt?"x":"y",zt=getIndexRange(dt,It,Ft),Gt=zt.range,jt=Gt[1]-Gt[0],Ut=void 0;if(jt>=1){if(jt>1&&!gt){var Kt=getPointAtIndex(dt,Gt[0]);ut.attr({x:Kt[0]+Ot,y:Kt[1]+Lt}),ot&&(Ut=vt.getRawValue(Gt[0]))}else{var Kt=ft.getPointOn(It,Ft);Kt&&ut.attr({x:Kt[0]+Ot,y:Kt[1]+Lt});var Zt=vt.getRawValue(Gt[0]),Qt=vt.getRawValue(Gt[1]);ot&&(Ut=interpolateRawValues(nt,yt,Zt,Qt,zt.t))}at.lastFrameIndex=Gt[0]}else{var rr=et===1||at.lastFrameIndex>0?Gt[0]:0,Kt=getPointAtIndex(dt,rr);ot&&(Ut=vt.getRawValue(rr)),ut.attr({x:Kt[0]+Ot,y:Kt[1]+Lt})}ot&&labelInner(ut).setLabelText(Ut)}},_e.prototype._doUpdateAnimation=function(et,tt,nt,at,ot,it,st){var ut=this._polyline,ft=this._polygon,dt=et.hostModel,vt=lineAnimationDiff(this._data,et,this._stackedOnPoints,tt,this._coordSys,nt,this._valueOrigin),gt=vt.current,yt=vt.stackedOnCurrent,xt=vt.next,Ct=vt.stackedOnNext;if(ot&&(gt=turnPointsIntoStep(vt.current,nt,ot,st),yt=turnPointsIntoStep(vt.stackedOnCurrent,nt,ot,st),xt=turnPointsIntoStep(vt.next,nt,ot,st),Ct=turnPointsIntoStep(vt.stackedOnNext,nt,ot,st)),getBoundingDiff(gt,xt)>3e3||ft&&getBoundingDiff(yt,Ct)>3e3){ut.stopAnimation(),ut.setShape({points:xt}),ft&&(ft.stopAnimation(),ft.setShape({points:xt,stackedOnPoints:Ct}));return}ut.shape.__points=vt.current,ut.shape.points=gt;var wt={shape:{points:xt}};vt.current!==gt&&(wt.shape.__points=vt.next),ut.stopAnimation(),updateProps$1(ut,wt,dt),ft&&(ft.setShape({points:gt,stackedOnPoints:yt}),ft.stopAnimation(),updateProps$1(ft,{shape:{stackedOnPoints:Ct}},dt),ut.shape.points!==ft.shape.points&&(ft.shape.points=ut.shape.points));for(var Et=[],$t=vt.status,It=0;It<$t.length;It++){var Ot=$t[It].cmd;if(Ot==="="){var Lt=et.getItemGraphicEl($t[It].idx1);Lt&&Et.push({el:Lt,ptIdx:It})}}ut.animators&&ut.animators.length&&ut.animators[0].during(function(){ft&&ft.dirtyShape();for(var Ft=ut.shape.__points,zt=0;zt<Et.length;zt++){var Gt=Et[zt].el,jt=Et[zt].ptIdx*2;Gt.x=Ft[jt],Gt.y=Ft[jt+1],Gt.markRedraw()}})},_e.prototype.remove=function(et){var tt=this.group,nt=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),nt&&nt.eachItemGraphicEl(function(at,ot){at.__temp&&(tt.remove(at),nt.setItemGraphicEl(ot,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},_e.type="line",_e}(ChartView$1),LineView$1=LineView;function pointsLayout($,_e){return{seriesType:$,plan:createRenderPlanner(),reset:function(et){var tt=et.getData(),nt=et.coordinateSystem,at=et.pipelineContext,ot=_e||at.large;if(!!nt){var it=map$1(nt.dimensions,function(gt){return tt.mapDimension(gt)}).slice(0,2),st=it.length,ut=tt.getCalculationInfo("stackResultDimension");isDimensionStacked(tt,it[0])&&(it[0]=ut),isDimensionStacked(tt,it[1])&&(it[1]=ut);var ft=tt.getStore(),dt=tt.getDimensionIndex(it[0]),vt=tt.getDimensionIndex(it[1]);return st&&{progress:function(gt,yt){for(var xt=gt.end-gt.start,Ct=ot&&createFloat32Array(xt*st),wt=[],Et=[],$t=gt.start,It=0;$t<gt.end;$t++){var Ot=void 0;if(st===1){var Lt=ft.get(dt,$t);Ot=nt.dataToPoint(Lt,null,Et)}else wt[0]=ft.get(dt,$t),wt[1]=ft.get(vt,$t),Ot=nt.dataToPoint(wt,null,Et);ot?(Ct[It++]=Ot[0],Ct[It++]=Ot[1]):yt.setItemLayout($t,Ot.slice())}ot&&yt.setLayout("points",Ct)}}}}}}var samplers={average:function($){for(var _e=0,et=0,tt=0;tt<$.length;tt++)isNaN($[tt])||(_e+=$[tt],et++);return et===0?NaN:_e/et},sum:function($){for(var _e=0,et=0;et<$.length;et++)_e+=$[et]||0;return _e},max:function($){for(var _e=-1/0,et=0;et<$.length;et++)$[et]>_e&&(_e=$[et]);return isFinite(_e)?_e:NaN},min:function($){for(var _e=1/0,et=0;et<$.length;et++)$[et]<_e&&(_e=$[et]);return isFinite(_e)?_e:NaN},nearest:function($){return $[0]}},indexSampler=function($){return Math.round($.length/2)};function dataSample($){return{seriesType:$,reset:function(_e,et,tt){var nt=_e.getData(),at=_e.get("sampling"),ot=_e.coordinateSystem,it=nt.count();if(it>10&&ot.type==="cartesian2d"&&at){var st=ot.getBaseAxis(),ut=ot.getOtherAxis(st),ft=st.getExtent(),dt=tt.getDevicePixelRatio(),vt=Math.abs(ft[1]-ft[0])*(dt||1),gt=Math.round(it/vt);if(isFinite(gt)&&gt>1){at==="lttb"&&_e.setData(nt.lttbDownSample(nt.mapDimension(ut.dim),1/gt));var yt=void 0;isString(at)?yt=samplers[at]:isFunction(at)&&(yt=at),yt&&_e.setData(nt.downSample(nt.mapDimension(ut.dim),1/gt,yt,indexSampler))}}}}}function install$Q($){$.registerChartView(LineView$1),$.registerSeriesModel(LineSeries),$.registerLayout(pointsLayout("line",!0)),$.registerVisual({seriesType:"line",reset:function(_e){var et=_e.getData(),tt=_e.getModel("lineStyle").getLineStyle();tt&&!tt.stroke&&(tt.stroke=et.getVisual("style").fill),et.setVisual("legendLineStyle",tt)}}),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.getInitialData=function(et,tt){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_e.prototype.getMarkerPosition=function(et){var tt=this.coordinateSystem;if(tt&&tt.clampData){var nt=tt.dataToPoint(tt.clampData(et)),at=this.getData(),ot=at.getLayout("offset"),it=at.getLayout("size"),st=tt.getBaseAxis().isHorizontal()?0:1;return nt[st]+=ot+it/2,nt}return[NaN,NaN]},_e.type="series.__base_bar__",_e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},_e}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);var BaseBarSeriesModel$1=BaseBarSeriesModel,BarSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},_e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},_e.prototype.getProgressiveThreshold=function(){var et=this.get("progressiveThreshold"),tt=this.get("largeThreshold");return tt>et&&(et=tt),et},_e.prototype.brushSelector=function(et,tt,nt){return nt.rect(tt.getItemLayout(et))},_e.type="series.bar",_e.dependencies=["grid","polar"],_e.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),_e}(BaseBarSeriesModel$1),BarSeries=BarSeriesModel,SausageShape=function(){function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return $}(),SausagePath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="sausage",tt}return _e.prototype.getDefaultShape=function(){return new SausageShape},_e.prototype.buildPath=function(et,tt){var nt=tt.cx,at=tt.cy,ot=Math.max(tt.r0||0,0),it=Math.max(tt.r,0),st=(it-ot)*.5,ut=ot+st,ft=tt.startAngle,dt=tt.endAngle,vt=tt.clockwise,gt=Math.PI*2,yt=vt?dt-ft<gt:ft-dt<gt;yt||(ft=dt-(vt?gt:-gt));var xt=Math.cos(ft),Ct=Math.sin(ft),wt=Math.cos(dt),Et=Math.sin(dt);yt?(et.moveTo(xt*ot+nt,Ct*ot+at),et.arc(xt*ut+nt,Ct*ut+at,st,-Math.PI+ft,ft,!vt)):et.moveTo(xt*it+nt,Ct*it+at),et.arc(nt,at,it,ft,dt,!vt),et.arc(wt*ut+nt,Et*ut+at,st,dt-Math.PI*2,dt-Math.PI,!vt),ot!==0&&et.arc(nt,at,ot,dt,ft,vt)},_e}(Path$1),Sausage=SausagePath;function createSectorCalculateTextPosition($,_e){_e=_e||{};var et=_e.isRoundCap;return function(tt,nt,at){var ot=nt.position;if(!ot||ot instanceof Array)return calculateTextPosition(tt,nt,at);var it=$(ot),st=nt.distance!=null?nt.distance:5,ut=this.shape,ft=ut.cx,dt=ut.cy,vt=ut.r,gt=ut.r0,yt=(vt+gt)/2,xt=ut.startAngle,Ct=ut.endAngle,wt=(xt+Ct)/2,Et=et?Math.abs(vt-gt)/2:0,$t=Math.cos,It=Math.sin,Ot=ft+vt*$t(xt),Lt=dt+vt*It(xt),Ft="left",zt="top";switch(it){case"startArc":Ot=ft+(gt-st)*$t(wt),Lt=dt+(gt-st)*It(wt),Ft="center",zt="top";break;case"insideStartArc":Ot=ft+(gt+st)*$t(wt),Lt=dt+(gt+st)*It(wt),Ft="center",zt="bottom";break;case"startAngle":Ot=ft+yt*$t(xt)+adjustAngleDistanceX(xt,st+Et,!1),Lt=dt+yt*It(xt)+adjustAngleDistanceY(xt,st+Et,!1),Ft="right",zt="middle";break;case"insideStartAngle":Ot=ft+yt*$t(xt)+adjustAngleDistanceX(xt,-st+Et,!1),Lt=dt+yt*It(xt)+adjustAngleDistanceY(xt,-st+Et,!1),Ft="left",zt="middle";break;case"middle":Ot=ft+yt*$t(wt),Lt=dt+yt*It(wt),Ft="center",zt="middle";break;case"endArc":Ot=ft+(vt+st)*$t(wt),Lt=dt+(vt+st)*It(wt),Ft="center",zt="bottom";break;case"insideEndArc":Ot=ft+(vt-st)*$t(wt),Lt=dt+(vt-st)*It(wt),Ft="center",zt="top";break;case"endAngle":Ot=ft+yt*$t(Ct)+adjustAngleDistanceX(Ct,st+Et,!0),Lt=dt+yt*It(Ct)+adjustAngleDistanceY(Ct,st+Et,!0),Ft="left",zt="middle";break;case"insideEndAngle":Ot=ft+yt*$t(Ct)+adjustAngleDistanceX(Ct,-st+Et,!0),Lt=dt+yt*It(Ct)+adjustAngleDistanceY(Ct,-st+Et,!0),Ft="right",zt="middle";break;default:return calculateTextPosition(tt,nt,at)}return tt=tt||{},tt.x=Ot,tt.y=Lt,tt.align=Ft,tt.verticalAlign=zt,tt}}function setSectorTextRotation($,_e,et,tt){if(isNumber(tt)){$.setTextConfig({rotation:tt});return}else if(isArray$1(_e)){$.setTextConfig({rotation:0});return}var nt=$.shape,at=nt.clockwise?nt.startAngle:nt.endAngle,ot=nt.clockwise?nt.endAngle:nt.startAngle,it=(at+ot)/2,st,ut=et(_e);switch(ut){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":st=it;break;case"startAngle":case"insideStartAngle":st=at;break;case"endAngle":case"insideEndAngle":st=ot;break;default:$.setTextConfig({rotation:0});return}var ft=Math.PI*1.5-st;ut==="middle"&&ft>Math.PI/2&&ft<Math.PI*1.5&&(ft-=Math.PI),$.setTextConfig({rotation:ft})}function adjustAngleDistanceX($,_e,et){return _e*Math.sin($)*(et?-1:1)}function adjustAngleDistanceY($,_e,et){return _e*Math.cos($)*(et?1:-1)}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea($,_e){var et=$.getArea&&$.getArea();if(isCoordinateSystemType($,"cartesian2d")){var tt=$.getBaseAxis();if(tt.type!=="category"||!tt.onBand){var nt=_e.getLayout("bandWidth");tt.isHorizontal()?(et.x-=nt,et.width+=nt*2):(et.y-=nt,et.height+=nt*2)}}return et}var BarView=function($){__extends(_e,$);function _e(){var et=$.call(this)||this;return et.type=_e.type,et._isFirstFrame=!0,et}return _e.prototype.render=function(et,tt,nt,at){this._model=et,this._removeOnRenderedListener(nt),this._updateDrawMode(et);var ot=et.get("coordinateSystem");(ot==="cartesian2d"||ot==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(et,tt,nt):this._renderNormal(et,tt,nt,at))},_e.prototype.incrementalPrepareRender=function(et){this._clear(),this._updateDrawMode(et),this._updateLargeClip(et)},_e.prototype.incrementalRender=function(et,tt){this._progressiveEls=[],this._incrementalRenderLarge(et,tt)},_e.prototype.eachRendered=function(et){traverseElements(this._progressiveEls||this.group,et)},_e.prototype._updateDrawMode=function(et){var tt=et.pipelineContext.large;(this._isLargeDraw==null||tt!==this._isLargeDraw)&&(this._isLargeDraw=tt,this._clear())},_e.prototype._renderNormal=function(et,tt,nt,at){var ot=this.group,it=et.getData(),st=this._data,ut=et.coordinateSystem,ft=ut.getBaseAxis(),dt;ut.type==="cartesian2d"?dt=ft.isHorizontal():ut.type==="polar"&&(dt=ft.dim==="angle");var vt=et.isAnimationEnabled()?et:null,gt=shouldRealtimeSort(et,ut);gt&&this._enableRealtimeSort(gt,it,nt);var yt=et.get("clip",!0)||gt,xt=getClipArea(ut,it);ot.removeClipPath();var Ct=et.get("roundCap",!0),wt=et.get("showBackground",!0),Et=et.getModel("backgroundStyle"),$t=Et.get("borderRadius")||0,It=[],Ot=this._backgroundEls,Lt=at&&at.isInitSort,Ft=at&&at.type==="changeAxisOrder";function zt(Ut){var Kt=getLayout[ut.type](it,Ut),Zt=createBackgroundEl(ut,dt,Kt);return Zt.useStyle(Et.getItemStyle()),ut.type==="cartesian2d"&&Zt.setShape("r",$t),It[Ut]=Zt,Zt}it.diff(st).add(function(Ut){var Kt=it.getItemModel(Ut),Zt=getLayout[ut.type](it,Ut,Kt);if(wt&&zt(Ut),!(!it.hasValue(Ut)||!isValidLayout[ut.type](Zt))){var Qt=!1;yt&&(Qt=clip[ut.type](xt,Zt));var rr=elementCreator[ut.type](et,it,Ut,Zt,dt,vt,ft.model,!1,Ct);gt&&(rr.forceLabelAnimation=!0),updateStyle(rr,it,Ut,Kt,Zt,et,dt,ut.type==="polar"),Lt?rr.attr({shape:Zt}):gt?updateRealtimeAnimation(gt,vt,rr,Zt,Ut,dt,!1,!1):initProps(rr,{shape:Zt},et,Ut),it.setItemGraphicEl(Ut,rr),ot.add(rr),rr.ignore=Qt}}).update(function(Ut,Kt){var Zt=it.getItemModel(Ut),Qt=getLayout[ut.type](it,Ut,Zt);if(wt){var rr=void 0;Ot.length===0?rr=zt(Kt):(rr=Ot[Kt],rr.useStyle(Et.getItemStyle()),ut.type==="cartesian2d"&&rr.setShape("r",$t),It[Ut]=rr);var nr=getLayout[ut.type](it,Ut),dr=createBackgroundShape(dt,nr,ut);updateProps$1(rr,{shape:dr},vt,Ut)}var sr=st.getItemGraphicEl(Kt);if(!it.hasValue(Ut)||!isValidLayout[ut.type](Qt)){ot.remove(sr);return}var fr=!1;if(yt&&(fr=clip[ut.type](xt,Qt),fr&&ot.remove(sr)),sr?saveOldStyle(sr):sr=elementCreator[ut.type](et,it,Ut,Qt,dt,vt,ft.model,!!sr,Ct),gt&&(sr.forceLabelAnimation=!0),Ft){var yr=sr.getTextContent();if(yr){var Pr=labelInner(yr);Pr.prevValue!=null&&(Pr.prevValue=Pr.value)}}else updateStyle(sr,it,Ut,Zt,Qt,et,dt,ut.type==="polar");Lt?sr.attr({shape:Qt}):gt?updateRealtimeAnimation(gt,vt,sr,Qt,Ut,dt,!0,Ft):updateProps$1(sr,{shape:Qt},et,Ut,null),it.setItemGraphicEl(Ut,sr),sr.ignore=fr,ot.add(sr)}).remove(function(Ut){var Kt=st.getItemGraphicEl(Ut);Kt&&removeElementWithFadeOut(Kt,et,Ut)}).execute();var Gt=this._backgroundGroup||(this._backgroundGroup=new Group$4);Gt.removeAll();for(var jt=0;jt<It.length;++jt)Gt.add(It[jt]);ot.add(Gt),this._backgroundEls=It,this._data=it},_e.prototype._renderLarge=function(et,tt,nt){this._clear(),createLarge$1(et,this.group),this._updateLargeClip(et)},_e.prototype._incrementalRenderLarge=function(et,tt){this._removeBackground(),createLarge$1(tt,this.group,this._progressiveEls,!0)},_e.prototype._updateLargeClip=function(et){var tt=et.get("clip",!0)&&createClipPath(et.coordinateSystem,!1,et),nt=this.group;tt?nt.setClipPath(tt):nt.removeClipPath()},_e.prototype._enableRealtimeSort=function(et,tt,nt){var at=this;if(!!tt.count()){var ot=et.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(tt,et,nt),this._isFirstFrame=!1;else{var it=function(st){var ut=tt.getItemGraphicEl(st),ft=ut&&ut.shape;return ft&&Math.abs(ot.isHorizontal()?ft.height:ft.width)||0};this._onRendered=function(){at._updateSortWithinSameData(tt,it,ot,nt)},nt.getZr().on("rendered",this._onRendered)}}},_e.prototype._dataSort=function(et,tt,nt){var at=[];return et.each(et.mapDimension(tt.dim),function(ot,it){var st=nt(it);st=st==null?NaN:st,at.push({dataIndex:it,mappedValue:st,ordinalNumber:ot})}),at.sort(function(ot,it){return it.mappedValue-ot.mappedValue}),{ordinalNumbers:map$1(at,function(ot){return ot.ordinalNumber})}},_e.prototype._isOrderChangedWithinSameData=function(et,tt,nt){for(var at=nt.scale,ot=et.mapDimension(nt.dim),it=Number.MAX_VALUE,st=0,ut=at.getOrdinalMeta().categories.length;st<ut;++st){var ft=et.rawIndexOf(ot,at.getRawOrdinalNumber(st)),dt=ft<0?Number.MIN_VALUE:tt(et.indexOfRawIndex(ft));if(dt>it)return!0;it=dt}return!1},_e.prototype._isOrderDifferentInView=function(et,tt){for(var nt=tt.scale,at=nt.getExtent(),ot=Math.max(0,at[0]),it=Math.min(at[1],nt.getOrdinalMeta().categories.length-1);ot<=it;++ot)if(et.ordinalNumbers[ot]!==nt.getRawOrdinalNumber(ot))return!0},_e.prototype._updateSortWithinSameData=function(et,tt,nt,at){if(!!this._isOrderChangedWithinSameData(et,tt,nt)){var ot=this._dataSort(et,nt,tt);this._isOrderDifferentInView(ot,nt)&&(this._removeOnRenderedListener(at),at.dispatchAction({type:"changeAxisOrder",componentType:nt.dim+"Axis",axisId:nt.index,sortInfo:ot}))}},_e.prototype._dispatchInitSort=function(et,tt,nt){var at=tt.baseAxis,ot=this._dataSort(et,at,function(it){return et.get(et.mapDimension(tt.otherAxis.dim),it)});nt.dispatchAction({type:"changeAxisOrder",componentType:at.dim+"Axis",isInitSort:!0,axisId:at.index,sortInfo:ot})},_e.prototype.remove=function(et,tt){this._clear(this._model),this._removeOnRenderedListener(tt)},_e.prototype.dispose=function(et,tt){this._removeOnRenderedListener(tt)},_e.prototype._removeOnRenderedListener=function(et){this._onRendered&&(et.getZr().off("rendered",this._onRendered),this._onRendered=null)},_e.prototype._clear=function(et){var tt=this.group,nt=this._data;et&&et.isAnimationEnabled()&&nt&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],nt.eachItemGraphicEl(function(at){removeElementWithFadeOut(at,et,getECData(at).dataIndex)})):tt.removeAll(),this._data=null,this._isFirstFrame=!0},_e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},_e.type="bar",_e}(ChartView$1),clip={cartesian2d:function($,_e){var et=_e.width<0?-1:1,tt=_e.height<0?-1:1;et<0&&(_e.x+=_e.width,_e.width=-_e.width),tt<0&&(_e.y+=_e.height,_e.height=-_e.height);var nt=$.x+$.width,at=$.y+$.height,ot=mathMax$4(_e.x,$.x),it=mathMin$4(_e.x+_e.width,nt),st=mathMax$4(_e.y,$.y),ut=mathMin$4(_e.y+_e.height,at),ft=it<ot,dt=ut<st;return _e.x=ft&&ot>nt?it:ot,_e.y=dt&&st>at?ut:st,_e.width=ft?0:it-ot,_e.height=dt?0:ut-st,et<0&&(_e.x+=_e.width,_e.width=-_e.width),tt<0&&(_e.y+=_e.height,_e.height=-_e.height),ft||dt},polar:function($,_e){var et=_e.r0<=_e.r?1:-1;if(et<0){var tt=_e.r;_e.r=_e.r0,_e.r0=tt}var nt=mathMin$4(_e.r,$.r),at=mathMax$4(_e.r0,$.r0);_e.r=nt,_e.r0=at;var ot=nt-at<0;if(et<0){var tt=_e.r;_e.r=_e.r0,_e.r0=tt}return ot}},elementCreator={cartesian2d:function($,_e,et,tt,nt,at,ot,it,st){var ut=new Rect$3({shape:extend({},tt),z2:1});if(ut.__dataIndex=et,ut.name="item",at){var ft=ut.shape,dt=nt?"height":"width";ft[dt]=0}return ut},polar:function($,_e,et,tt,nt,at,ot,it,st){var ut=!nt&&st?Sausage:Sector$1,ft=new ut({shape:tt,z2:1});ft.name="item";var dt=createPolarPositionMapping(nt);if(ft.calculateTextPosition=createSectorCalculateTextPosition(dt,{isRoundCap:ut===Sausage}),at){var vt=ft.shape,gt=nt?"r":"endAngle",yt={};vt[gt]=nt?0:tt.startAngle,yt[gt]=tt[gt],(it?updateProps$1:initProps)(ft,{shape:yt},at)}return ft}};function shouldRealtimeSort($,_e){var et=$.get("realtimeSort",!0),tt=_e.getBaseAxis();if(et&&tt.type==="category"&&_e.type==="cartesian2d")return{baseAxis:tt,otherAxis:_e.getOtherAxis(tt)}}function updateRealtimeAnimation($,_e,et,tt,nt,at,ot,it){var st,ut;at?(ut={x:tt.x,width:tt.width},st={y:tt.y,height:tt.height}):(ut={y:tt.y,height:tt.height},st={x:tt.x,width:tt.width}),it||(ot?updateProps$1:initProps)(et,{shape:st},_e,nt,null);var ft=_e?$.baseAxis.model:null;(ot?updateProps$1:initProps)(et,{shape:ut},ft,nt)}function checkPropertiesNotValid($,_e){for(var et=0;et<_e.length;et++)if(!isFinite($[_e[et]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function($){return!checkPropertiesNotValid($,rectPropties)},polar:function($){return!checkPropertiesNotValid($,polarPropties)}},getLayout={cartesian2d:function($,_e,et){var tt=$.getItemLayout(_e),nt=et?getLineWidth(et,tt):0,at=tt.width>0?1:-1,ot=tt.height>0?1:-1;return{x:tt.x+at*nt/2,y:tt.y+ot*nt/2,width:tt.width-at*nt,height:tt.height-ot*nt}},polar:function($,_e,et){var tt=$.getItemLayout(_e);return{cx:tt.cx,cy:tt.cy,r0:tt.r0,r:tt.r,startAngle:tt.startAngle,endAngle:tt.endAngle,clockwise:tt.clockwise}}};function isZeroOnPolar($){return $.startAngle!=null&&$.endAngle!=null&&$.startAngle===$.endAngle}function createPolarPositionMapping($){return function(_e){var et=_e?"Arc":"Angle";return function(tt){switch(tt){case"start":case"insideStart":case"end":case"insideEnd":return tt+et;default:return tt}}}($)}function updateStyle($,_e,et,tt,nt,at,ot,it){var st=_e.getItemVisual(et,"style");it||$.setShape("r",tt.get(["itemStyle","borderRadius"])||0),$.useStyle(st);var ut=tt.getShallow("cursor");ut&&$.attr("cursor",ut);var ft=it?ot?nt.r>=nt.r0?"endArc":"startArc":nt.endAngle>=nt.startAngle?"endAngle":"startAngle":ot?nt.height>=0?"bottom":"top":nt.width>=0?"right":"left",dt=getLabelStatesModels(tt);setLabelStyle($,dt,{labelFetcher:at,labelDataIndex:et,defaultText:getDefaultLabel(at.getData(),et),inheritColor:st.fill,defaultOpacity:st.opacity,defaultOutsidePosition:ft});var vt=$.getTextContent();if(it&&vt){var gt=tt.get(["label","position"]);$.textConfig.inside=gt==="middle"?!0:null,setSectorTextRotation($,gt==="outside"?ft:gt,createPolarPositionMapping(ot),tt.get(["label","rotate"]))}setLabelValueAnimation(vt,dt,at.getRawValue(et),function(xt){return getDefaultInterpolatedLabel(_e,xt)});var yt=tt.getModel(["emphasis"]);toggleHoverEmphasis($,yt.get("focus"),yt.get("blurScope"),yt.get("disabled")),setStatesStylesFromModel($,tt),isZeroOnPolar(nt)&&($.style.fill="none",$.style.stroke="none",each$f($.states,function(xt){xt.style&&(xt.style.fill=xt.style.stroke="none")}))}function getLineWidth($,_e){var et=$.get(["itemStyle","borderColor"]);if(!et||et==="none")return 0;var tt=$.get(["itemStyle","borderWidth"])||0,nt=isNaN(_e.width)?Number.MAX_VALUE:Math.abs(_e.width),at=isNaN(_e.height)?Number.MAX_VALUE:Math.abs(_e.height);return Math.min(tt,nt,at)}var LagePathShape=function(){function $(){}return $}(),LargePath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="largeBar",tt}return _e.prototype.getDefaultShape=function(){return new LagePathShape},_e.prototype.buildPath=function(et,tt){for(var nt=tt.points,at=this.baseDimIdx,ot=1-this.baseDimIdx,it=[],st=[],ut=this.barWidth,ft=0;ft<nt.length;ft+=3)st[at]=ut,st[ot]=nt[ft+2],it[at]=nt[ft+at],it[ot]=nt[ft+ot],et.rect(it[0],it[1],st[0],st[1])},_e}(Path$1);function createLarge$1($,_e,et,tt){var nt=$.getData(),at=nt.getLayout("valueAxisHorizontal")?1:0,ot=nt.getLayout("largeDataIndices"),it=nt.getLayout("size"),st=$.getModel("backgroundStyle"),ut=nt.getLayout("largeBackgroundPoints");if(ut){var ft=new LargePath({shape:{points:ut},incremental:!!tt,silent:!0,z2:0});ft.baseDimIdx=at,ft.largeDataIndices=ot,ft.barWidth=it,ft.useStyle(st.getItemStyle()),_e.add(ft),et&&et.push(ft)}var dt=new LargePath({shape:{points:nt.getLayout("largePoints")},incremental:!!tt,z2:1});dt.baseDimIdx=at,dt.largeDataIndices=ot,dt.barWidth=it,_e.add(dt),dt.useStyle(nt.getVisual("style")),getECData(dt).seriesIndex=$.seriesIndex,$.get("silent")||(dt.on("mousedown",largePathUpdateDataIndex),dt.on("mousemove",largePathUpdateDataIndex)),et&&et.push(dt)}var largePathUpdateDataIndex=throttle(function($){var _e=this,et=largePathFindDataIndex(_e,$.offsetX,$.offsetY);getECData(_e).dataIndex=et>=0?et:null},30,!1);function largePathFindDataIndex($,_e,et){for(var tt=$.baseDimIdx,nt=1-tt,at=$.shape.points,ot=$.largeDataIndices,it=[],st=[],ut=$.barWidth,ft=0,dt=at.length/3;ft<dt;ft++){var vt=ft*3;if(st[tt]=ut,st[nt]=at[vt+2],it[tt]=at[vt+tt],it[nt]=at[vt+nt],st[nt]<0&&(it[nt]+=st[nt],st[nt]=-st[nt]),_e>=it[0]&&_e<=it[0]+st[0]&&et>=it[1]&&et<=it[1]+st[1])return ot[ft]}return-1}function createBackgroundShape($,_e,et){if(isCoordinateSystemType(et,"cartesian2d")){var tt=_e,nt=et.getArea();return{x:$?tt.x:nt.x,y:$?nt.y:tt.y,width:$?tt.width:nt.width,height:$?nt.height:tt.height}}else{var nt=et.getArea(),at=_e;return{cx:nt.cx,cy:nt.cy,r0:$?nt.r0:at.r0,r:$?nt.r:at.r,startAngle:$?at.startAngle:0,endAngle:$?at.endAngle:Math.PI*2}}}function createBackgroundEl($,_e,et){var tt=$.type==="polar"?Sector$1:Rect$3;return new tt({shape:createBackgroundShape(_e,et,$),silent:!0,z2:0})}var BarView$1=BarView;function install$P($){$.registerChartView(BarView$1),$.registerSeriesModel(BarSeries),$.registerLayout($.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),$.registerLayout($.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),$.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(_e,et){var tt=_e.componentType||"series";et.eachComponent({mainType:tt,query:_e},function(nt){_e.sortInfo&&nt.axis.setCategorySortInfo(_e.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5($,_e){return getLayoutRect($.getBoxLayoutParams(),{width:_e.getWidth(),height:_e.getHeight()})}function getBasicPieLayout($,_e){var et=getViewRect$5($,_e),tt=$.get("center"),nt=$.get("radius");isArray$1(nt)||(nt=[0,nt]),isArray$1(tt)||(tt=[tt,tt]);var at=parsePercent(et.width,_e.getWidth()),ot=parsePercent(et.height,_e.getHeight()),it=Math.min(at,ot),st=parsePercent(tt[0],at)+et.x,ut=parsePercent(tt[1],ot)+et.y,ft=parsePercent(nt[0],it/2),dt=parsePercent(nt[1],it/2);return{cx:st,cy:ut,r0:ft,r:dt}}function pieLayout($,_e,et){_e.eachSeriesByType($,function(tt){var nt=tt.getData(),at=nt.mapDimension("value"),ot=getViewRect$5(tt,et),it=getBasicPieLayout(tt,et),st=it.cx,ut=it.cy,ft=it.r,dt=it.r0,vt=-tt.get("startAngle")*RADIAN$2,gt=tt.get("minAngle")*RADIAN$2,yt=0;nt.each(at,function(jt){!isNaN(jt)&&yt++});var xt=nt.getSum(at),Ct=Math.PI/(xt||yt)*2,wt=tt.get("clockwise"),Et=tt.get("roseType"),$t=tt.get("stillShowZeroSum"),It=nt.getDataExtent(at);It[0]=0;var Ot=PI2,Lt=0,Ft=vt,zt=wt?1:-1;if(nt.setLayout({viewRect:ot,r:ft}),nt.each(at,function(jt,Ut){var Kt;if(isNaN(jt)){nt.setItemLayout(Ut,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:wt,cx:st,cy:ut,r0:dt,r:Et?NaN:ft});return}Et!=="area"?Kt=xt===0&&$t?Ct:jt*Ct:Kt=PI2/yt,Kt<gt?(Kt=gt,Ot-=gt):Lt+=jt;var Zt=Ft+zt*Kt;nt.setItemLayout(Ut,{angle:Kt,startAngle:Ft,endAngle:Zt,clockwise:wt,cx:st,cy:ut,r0:dt,r:Et?linearMap$2(jt,It,[dt,ft]):ft}),Ft=Zt}),Ot<PI2&&yt)if(Ot<=.001){var Gt=PI2/yt;nt.each(at,function(jt,Ut){if(!isNaN(jt)){var Kt=nt.getItemLayout(Ut);Kt.angle=Gt,Kt.startAngle=vt+zt*Ut*Gt,Kt.endAngle=vt+zt*(Ut+1)*Gt}})}else Ct=Ot/Lt,Ft=vt,nt.each(at,function(jt,Ut){if(!isNaN(jt)){var Kt=nt.getItemLayout(Ut),Zt=Kt.angle===gt?gt:jt*Ct;Kt.startAngle=Ft,Kt.endAngle=Ft+zt*Zt,Ft+=zt*Zt}})})}function dataFilter$1($){return{seriesType:$,reset:function(_e,et){var tt=et.findComponents({mainType:"legend"});if(!(!tt||!tt.length)){var nt=_e.getData();nt.filterSelf(function(at){for(var ot=nt.getName(at),it=0;it<tt.length;it++)if(!tt[it].isSelected(ot))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide($,_e,et,tt,nt,at,ot,it,st,ut){if($.length<2)return;function ft(xt){for(var Ct=xt.rB,wt=Ct*Ct,Et=0;Et<xt.list.length;Et++){var $t=xt.list[Et],It=Math.abs($t.label.y-et),Ot=tt+$t.len,Lt=Ot*Ot,Ft=Math.sqrt((1-Math.abs(It*It/wt))*Lt),zt=_e+(Ft+$t.len2)*nt,Gt=zt-$t.label.x,jt=$t.targetTextWidth-Gt*nt;constrainTextWidth($t,jt,!0),$t.label.x=zt}}function dt(xt){for(var Ct={list:[],maxY:0},wt={list:[],maxY:0},Et=0;Et<xt.length;Et++)if(xt[Et].labelAlignTo==="none"){var $t=xt[Et],It=$t.label.y>et?wt:Ct,Ot=Math.abs($t.label.y-et);if(Ot>=It.maxY){var Lt=$t.label.x-_e-$t.len2*nt,Ft=tt+$t.len,zt=Math.abs(Lt)<Ft?Math.sqrt(Ot*Ot/(1-Lt*Lt/Ft/Ft)):Ft;It.rB=zt,It.maxY=Ot}It.list.push($t)}ft(Ct),ft(wt)}for(var vt=$.length,gt=0;gt<vt;gt++)if($[gt].position==="outer"&&$[gt].labelAlignTo==="labelLine"){var yt=$[gt].label.x-ut;$[gt].linePoints[1][0]+=yt,$[gt].label.x=ut}shiftLayoutOnY($,st,st+ot)&&dt($)}function avoidOverlap($,_e,et,tt,nt,at,ot,it){for(var st=[],ut=[],ft=Number.MAX_VALUE,dt=-Number.MAX_VALUE,vt=0;vt<$.length;vt++){var gt=$[vt].label;isPositionCenter($[vt])||(gt.x<_e?(ft=Math.min(ft,gt.x),st.push($[vt])):(dt=Math.max(dt,gt.x),ut.push($[vt])))}for(var vt=0;vt<$.length;vt++){var yt=$[vt];if(!isPositionCenter(yt)&&yt.linePoints){if(yt.labelStyleWidth!=null)continue;var gt=yt.label,xt=yt.linePoints,Ct=void 0;yt.labelAlignTo==="edge"?gt.x<_e?Ct=xt[2][0]-yt.labelDistance-ot-yt.edgeDistance:Ct=ot+nt-yt.edgeDistance-xt[2][0]-yt.labelDistance:yt.labelAlignTo==="labelLine"?gt.x<_e?Ct=ft-ot-yt.bleedMargin:Ct=ot+nt-dt-yt.bleedMargin:gt.x<_e?Ct=gt.x-ot-yt.bleedMargin:Ct=ot+nt-gt.x-yt.bleedMargin,yt.targetTextWidth=Ct,constrainTextWidth(yt,Ct)}}adjustSingleSide(ut,_e,et,tt,1,nt,at,ot,it,dt),adjustSingleSide(st,_e,et,tt,-1,nt,at,ot,it,ft);for(var vt=0;vt<$.length;vt++){var yt=$[vt];if(!isPositionCenter(yt)&&yt.linePoints){var gt=yt.label,xt=yt.linePoints,wt=yt.labelAlignTo==="edge",Et=gt.style.padding,$t=Et?Et[1]+Et[3]:0,It=gt.style.backgroundColor?0:$t,Ot=yt.rect.width+It,Lt=xt[1][0]-xt[2][0];wt?gt.x<_e?xt[2][0]=ot+yt.edgeDistance+Ot+yt.labelDistance:xt[2][0]=ot+nt-yt.edgeDistance-Ot-yt.labelDistance:(gt.x<_e?xt[2][0]=gt.x+yt.labelDistance:xt[2][0]=gt.x-yt.labelDistance,xt[1][0]=xt[2][0]+Lt),xt[1][1]=xt[2][1]=gt.y}}}function constrainTextWidth($,_e,et){if(et===void 0&&(et=!1),$.labelStyleWidth==null){var tt=$.label,nt=tt.style,at=$.rect,ot=nt.backgroundColor,it=nt.padding,st=it?it[1]+it[3]:0,ut=nt.overflow,ft=at.width+(ot?0:st);if(_e<ft||et){var dt=at.height;if(ut&&ut.match("break")){tt.setStyle("backgroundColor",null),tt.setStyle("width",_e-st);var vt=tt.getBoundingRect();tt.setStyle("width",Math.ceil(vt.width)),tt.setStyle("backgroundColor",ot)}else{var gt=_e-st,yt=_e<ft?gt:et?gt>$.unconstrainedWidth?null:gt:null;tt.setStyle("width",yt)}var xt=tt.getBoundingRect();at.width=xt.width;var Ct=(tt.style.margin||0)+2.1;at.height=xt.height+Ct,at.y-=(at.height-dt)/2}}}function isPositionCenter($){return $.position==="center"}function pieLabelLayout($){var _e=$.getData(),et=[],tt,nt,at=!1,ot=($.get("minShowLabelAngle")||0)*RADIAN$1,it=_e.getLayout("viewRect"),st=_e.getLayout("r"),ut=it.width,ft=it.x,dt=it.y,vt=it.height;function gt(Lt){Lt.ignore=!0}function yt(Lt){if(!Lt.ignore)return!0;for(var Ft in Lt.states)if(Lt.states[Ft].ignore===!1)return!0;return!1}_e.each(function(Lt){var Ft=_e.getItemGraphicEl(Lt),zt=Ft.shape,Gt=Ft.getTextContent(),jt=Ft.getTextGuideLine(),Ut=_e.getItemModel(Lt),Kt=Ut.getModel("label"),Zt=Kt.get("position")||Ut.get(["emphasis","label","position"]),Qt=Kt.get("distanceToLabelLine"),rr=Kt.get("alignTo"),nr=parsePercent(Kt.get("edgeDistance"),ut),dr=Kt.get("bleedMargin"),sr=Ut.getModel("labelLine"),fr=sr.get("length");fr=parsePercent(fr,ut);var yr=sr.get("length2");if(yr=parsePercent(yr,ut),Math.abs(zt.endAngle-zt.startAngle)<ot){each$f(Gt.states,gt),Gt.ignore=!0;return}if(!!yt(Gt)){var Pr=(zt.startAngle+zt.endAngle)/2,wr=Math.cos(Pr),Mr=Math.sin(Pr),Lr,Br,qr,Qr;tt=zt.cx,nt=zt.cy;var Jr=Zt==="inside"||Zt==="inner";if(Zt==="center")Lr=zt.cx,Br=zt.cy,Qr="center";else{var sn=(Jr?(zt.r+zt.r0)/2*wr:zt.r*wr)+tt,yn=(Jr?(zt.r+zt.r0)/2*Mr:zt.r*Mr)+nt;if(Lr=sn+wr*3,Br=yn+Mr*3,!Jr){var pn=sn+wr*(fr+st-zt.r),ln=yn+Mr*(fr+st-zt.r),Sn=pn+(wr<0?-1:1)*yr,cn=ln;rr==="edge"?Lr=wr<0?ft+nr:ft+ut-nr:Lr=Sn+(wr<0?-Qt:Qt),Br=cn,qr=[[sn,yn],[pn,ln],[Sn,cn]]}Qr=Jr?"center":rr==="edge"?wr>0?"right":"left":wr>0?"left":"right"}var Pn=Math.PI,In=0,Rn=Kt.get("rotate");if(isNumber(Rn))In=Rn*(Pn/180);else if(Zt==="center")In=0;else if(Rn==="radial"||Rn===!0){var Mn=wr<0?-Pr+Pn:-Pr;In=Mn}else if(Rn==="tangential"&&Zt!=="outside"&&Zt!=="outer"){var Fn=Math.atan2(wr,Mr);Fn<0&&(Fn=Pn*2+Fn);var Xr=Mr>0;Xr&&(Fn=Pn+Fn),In=Fn-Pn}if(at=!!In,Gt.x=Lr,Gt.y=Br,Gt.rotation=In,Gt.setStyle({verticalAlign:"middle"}),Jr){Gt.setStyle({align:Qr});var $n=Gt.states.select;$n&&($n.x+=Gt.x,$n.y+=Gt.y)}else{var wn=Gt.getBoundingRect().clone();wn.applyTransform(Gt.getComputedTransform());var vn=(Gt.style.margin||0)+2.1;wn.y-=vn/2,wn.height+=vn,et.push({label:Gt,labelLine:jt,position:Zt,len:fr,len2:yr,minTurnAngle:sr.get("minTurnAngle"),maxSurfaceAngle:sr.get("maxSurfaceAngle"),surfaceNormal:new Point$1(wr,Mr),linePoints:qr,textAlign:Qr,labelDistance:Qt,labelAlignTo:rr,edgeDistance:nr,bleedMargin:dr,rect:wn,unconstrainedWidth:wn.width,labelStyleWidth:Gt.style.width})}Ft.setTextConfig({inside:Jr})}}),!at&&$.get("avoidLabelOverlap")&&avoidOverlap(et,tt,nt,st,ut,vt,ft,dt);for(var xt=0;xt<et.length;xt++){var Ct=et[xt],wt=Ct.label,Et=Ct.labelLine,$t=isNaN(wt.x)||isNaN(wt.y);if(wt){wt.setStyle({align:Ct.textAlign}),$t&&(each$f(wt.states,gt),wt.ignore=!0);var It=wt.states.select;It&&(It.x+=wt.x,It.y+=wt.y)}if(Et){var Ot=Ct.linePoints;$t||!Ot?(each$f(Et.states,gt),Et.ignore=!0):(limitTurnAngle(Ot,Ct.minTurnAngle),limitSurfaceAngle(Ot,Ct.surfaceNormal,Ct.maxSurfaceAngle),Et.setShape({points:Ot}),wt.__hostTarget.textGuideLineConfig={anchor:new Point$1(Ot[0][0],Ot[0][1])})}}}function getSectorCornerRadius($,_e,et){var tt=$.get("borderRadius");if(tt==null)return et?{cornerRadius:0}:null;isArray$1(tt)||(tt=[tt,tt,tt,tt]);var nt=Math.abs(_e.r||0-_e.r0||0);return{cornerRadius:map$1(tt,function(at){return parsePercent$1(at,nt)})}}var PiePiece=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this)||this;at.z2=2;var ot=new ZRText$1;return at.setTextContent(ot),at.updateData(et,tt,nt,!0),at}return _e.prototype.updateData=function(et,tt,nt,at){var ot=this,it=et.hostModel,st=et.getItemModel(tt),ut=st.getModel("emphasis"),ft=et.getItemLayout(tt),dt=extend(getSectorCornerRadius(st.getModel("itemStyle"),ft,!0),ft);if(isNaN(dt.startAngle)){ot.setShape(dt);return}if(at){ot.setShape(dt);var vt=it.getShallow("animationType");it.ecModel.ssr?(initProps(ot,{scaleX:0,scaleY:0},it,{dataIndex:tt,isFrom:!0}),ot.originX=dt.cx,ot.originY=dt.cy):vt==="scale"?(ot.shape.r=ft.r0,initProps(ot,{shape:{r:ft.r}},it,tt)):nt!=null?(ot.setShape({startAngle:nt,endAngle:nt}),initProps(ot,{shape:{startAngle:ft.startAngle,endAngle:ft.endAngle}},it,tt)):(ot.shape.endAngle=ft.startAngle,updateProps$1(ot,{shape:{endAngle:ft.endAngle}},it,tt))}else saveOldStyle(ot),updateProps$1(ot,{shape:dt},it,tt);ot.useStyle(et.getItemVisual(tt,"style")),setStatesStylesFromModel(ot,st);var gt=(ft.startAngle+ft.endAngle)/2,yt=it.get("selectedOffset"),xt=Math.cos(gt)*yt,Ct=Math.sin(gt)*yt,wt=st.getShallow("cursor");wt&&ot.attr("cursor",wt),this._updateLabel(it,et,tt),ot.ensureState("emphasis").shape=extend({r:ft.r+(ut.get("scale")&&ut.get("scaleSize")||0)},getSectorCornerRadius(ut.getModel("itemStyle"),ft)),extend(ot.ensureState("select"),{x:xt,y:Ct,shape:getSectorCornerRadius(st.getModel(["select","itemStyle"]),ft)}),extend(ot.ensureState("blur"),{shape:getSectorCornerRadius(st.getModel(["blur","itemStyle"]),ft)});var Et=ot.getTextGuideLine(),$t=ot.getTextContent();Et&&extend(Et.ensureState("select"),{x:xt,y:Ct}),extend($t.ensureState("select"),{x:xt,y:Ct}),toggleHoverEmphasis(this,ut.get("focus"),ut.get("blurScope"),ut.get("disabled"))},_e.prototype._updateLabel=function(et,tt,nt){var at=this,ot=tt.getItemModel(nt),it=ot.getModel("labelLine"),st=tt.getItemVisual(nt,"style"),ut=st&&st.fill,ft=st&&st.opacity;setLabelStyle(at,getLabelStatesModels(ot),{labelFetcher:tt.hostModel,labelDataIndex:nt,inheritColor:ut,defaultOpacity:ft,defaultText:et.getFormattedLabel(nt,"normal")||tt.getName(nt)});var dt=at.getTextContent();at.setTextConfig({position:null,rotation:null}),dt.attr({z2:10});var vt=et.get(["label","position"]);if(vt!=="outside"&&vt!=="outer")at.removeTextGuideLine();else{var gt=this.getTextGuideLine();gt||(gt=new Polyline$3,this.setTextGuideLine(gt)),setLabelLineStyle(this,getLabelLineStatesModels(ot),{stroke:ut,opacity:retrieve3(it.get(["lineStyle","opacity"]),ft,1)})}},_e}(Sector$1),PieView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.ignoreLabelLineUpdate=!0,et}return _e.prototype.render=function(et,tt,nt,at){var ot=et.getData(),it=this._data,st=this.group,ut;if(!it&&ot.count()>0){for(var ft=ot.getItemLayout(0),dt=1;isNaN(ft&&ft.startAngle)&&dt<ot.count();++dt)ft=ot.getItemLayout(dt);ft&&(ut=ft.startAngle)}if(this._emptyCircleSector&&st.remove(this._emptyCircleSector),ot.count()===0&&et.get("showEmptyCircle")){var vt=new Sector$1({shape:getBasicPieLayout(et,nt)});vt.useStyle(et.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=vt,st.add(vt)}ot.diff(it).add(function(gt){var yt=new PiePiece(ot,gt,ut);ot.setItemGraphicEl(gt,yt),st.add(yt)}).update(function(gt,yt){var xt=it.getItemGraphicEl(yt);xt.updateData(ot,gt,ut),xt.off("click"),st.add(xt),ot.setItemGraphicEl(gt,xt)}).remove(function(gt){var yt=it.getItemGraphicEl(gt);removeElementWithFadeOut(yt,et,gt)}).execute(),pieLabelLayout(et),et.get("animationTypeUpdate")!=="expansion"&&(this._data=ot)},_e.prototype.dispose=function(){},_e.prototype.containPoint=function(et,tt){var nt=tt.getData(),at=nt.getItemLayout(0);if(at){var ot=et[0]-at.cx,it=et[1]-at.cy,st=Math.sqrt(ot*ot+it*it);return st<=at.r&&st>=at.r0}},_e.type="pie",_e}(ChartView$1),PieView$1=PieView;function createSeriesDataSimply($,_e,et){_e=isArray$1(_e)&&{coordDimensions:_e}||extend({encodeDefine:$.getEncode()},_e);var tt=$.getSource(),nt=prepareSeriesDataSchema(tt,_e).dimensions,at=new SeriesData$1(nt,$);return at.initData(tt,et),at}var LegendVisualProvider=function(){function $(_e,et){this._getDataWithEncodedVisual=_e,this._getRawData=et}return $.prototype.getAllNames=function(){var _e=this._getRawData();return _e.mapArray(_e.getName)},$.prototype.containName=function(_e){var et=this._getRawData();return et.indexOfName(_e)>=0},$.prototype.indexOfName=function(_e){var et=this._getDataWithEncodedVisual();return et.indexOfName(_e)},$.prototype.getItemVisual=function(_e,et){var tt=this._getDataWithEncodedVisual();return tt.getItemVisual(_e,et)},$}(),LegendVisualProvider$1=LegendVisualProvider,PieSeriesModel=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.init=function(et){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(et)},_e.prototype.mergeOption=function(){$.prototype.mergeOption.apply(this,arguments)},_e.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},_e.prototype.getDataParams=function(et){var tt=this.getData(),nt=$.prototype.getDataParams.call(this,et),at=[];return tt.each(tt.mapDimension("value"),function(ot){at.push(ot)}),nt.percent=getPercentWithPrecision(at,et,tt.hostModel.get("percentPrecision")),nt.$vars.push("percent"),nt},_e.prototype._defaultLabelLine=function(et){defaultEmphasis(et,"labelLine",["show"]);var tt=et.labelLine,nt=et.emphasis.labelLine;tt.show=tt.show&&et.label.show,nt.show=nt.show&&et.emphasis.label.show},_e.type="series.pie",_e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},_e}(SeriesModel$1),PieSeriesModel$1=PieSeriesModel;function negativeDataFilter($){return{seriesType:$,reset:function(_e,et){var tt=_e.getData();tt.filterSelf(function(nt){var at=tt.mapDimension("value"),ot=tt.get(at,nt);return!(isNumber(ot)&&!isNaN(ot)&&ot<0)})}}}function install$O($){$.registerChartView(PieView$1),$.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",$.registerAction),$.registerLayout(curry$1(pieLayout,"pie")),$.registerProcessor(dataFilter$1("pie")),$.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.hasSymbolVisual=!0,et}return _e.prototype.getInitialData=function(et,tt){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_e.prototype.getProgressive=function(){var et=this.option.progressive;return et==null?this.option.large?5e3:this.get("progressive"):et},_e.prototype.getProgressiveThreshold=function(){var et=this.option.progressiveThreshold;return et==null?this.option.large?1e4:this.get("progressiveThreshold"):et},_e.prototype.brushSelector=function(et,tt,nt){return nt.point(tt.getItemLayout(et))},_e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},_e.type="series.scatter",_e.dependencies=["grid","polar","geo","singleAxis","calendar"],_e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},_e}(SeriesModel$1),ScatterSeriesModel$1=ScatterSeriesModel,BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function $(){}return $}(),LargeSymbolPath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt._off=0,tt.hoverDataIdx=-1,tt}return _e.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},_e.prototype.reset=function(){this.notClear=!1,this._off=0},_e.prototype.buildPath=function(et,tt){var nt=tt.points,at=tt.size,ot=this.symbolProxy,it=ot.shape,st=et.getContext?et.getContext():et,ut=st&&at[0]<BOOST_SIZE_THRESHOLD,ft=this.softClipShape,dt;if(ut){this._ctx=st;return}for(this._ctx=null,dt=this._off;dt<nt.length;){var vt=nt[dt++],gt=nt[dt++];isNaN(vt)||isNaN(gt)||ft&&!ft.contain(vt,gt)||(it.x=vt-at[0]/2,it.y=gt-at[1]/2,it.width=at[0],it.height=at[1],ot.buildPath(et,it,!0))}this.incremental&&(this._off=dt,this.notClear=!0)},_e.prototype.afterBrush=function(){var et=this.shape,tt=et.points,nt=et.size,at=this._ctx,ot=this.softClipShape,it;if(!!at){for(it=this._off;it<tt.length;){var st=tt[it++],ut=tt[it++];isNaN(st)||isNaN(ut)||ot&&!ot.contain(st,ut)||at.fillRect(st-nt[0]/2,ut-nt[1]/2,nt[0],nt[1])}this.incremental&&(this._off=it,this.notClear=!0)}},_e.prototype.findDataIndex=function(et,tt){for(var nt=this.shape,at=nt.points,ot=nt.size,it=Math.max(ot[0],4),st=Math.max(ot[1],4),ut=at.length/2-1;ut>=0;ut--){var ft=ut*2,dt=at[ft]-it/2,vt=at[ft+1]-st/2;if(et>=dt&&tt>=vt&&et<=dt+it&&tt<=vt+st)return ut}return-1},_e.prototype.contain=function(et,tt){var nt=this.transformCoordToLocal(et,tt),at=this.getBoundingRect();if(et=nt[0],tt=nt[1],at.contain(et,tt)){var ot=this.hoverDataIdx=this.findDataIndex(et,tt);return ot>=0}return this.hoverDataIdx=-1,!1},_e.prototype.getBoundingRect=function(){var et=this._rect;if(!et){for(var tt=this.shape,nt=tt.points,at=tt.size,ot=at[0],it=at[1],st=1/0,ut=1/0,ft=-1/0,dt=-1/0,vt=0;vt<nt.length;){var gt=nt[vt++],yt=nt[vt++];st=Math.min(gt,st),ft=Math.max(gt,ft),ut=Math.min(yt,ut),dt=Math.max(yt,dt)}et=this._rect=new BoundingRect$1(st-ot/2,ut-it/2,ft-st+ot,dt-ut+it)}return et},_e}(Path$1),LargeSymbolDraw=function(){function $(){this.group=new Group$4}return $.prototype.updateData=function(_e,et){this._clear();var tt=this._create();tt.setShape({points:_e.getLayout("points")}),this._setCommon(tt,_e,et)},$.prototype.updateLayout=function(_e){var et=_e.getLayout("points");this.group.eachChild(function(tt){if(tt.startIndex!=null){var nt=(tt.endIndex-tt.startIndex)*2,at=tt.startIndex*4*2;et=new Float32Array(et.buffer,at,nt)}tt.setShape("points",et),tt.reset()})},$.prototype.incrementalPrepareUpdate=function(_e){this._clear()},$.prototype.incrementalUpdate=function(_e,et,tt){var nt=this._newAdded[0],at=et.getLayout("points"),ot=nt&&nt.shape.points;if(ot&&ot.length<2e4){var it=ot.length,st=new Float32Array(it+at.length);st.set(ot),st.set(at,it),nt.endIndex=_e.end,nt.setShape({points:st})}else{this._newAdded=[];var ut=this._create();ut.startIndex=_e.start,ut.endIndex=_e.end,ut.incremental=!0,ut.setShape({points:at}),this._setCommon(ut,et,tt)}},$.prototype.eachRendered=function(_e){this._newAdded[0]&&_e(this._newAdded[0])},$.prototype._create=function(){var _e=new LargeSymbolPath({cursor:"default"});return this.group.add(_e),this._newAdded.push(_e),_e},$.prototype._setCommon=function(_e,et,tt){var nt=et.hostModel;tt=tt||{};var at=et.getVisual("symbolSize");_e.setShape("size",at instanceof Array?at:[at,at]),_e.softClipShape=tt.clipShape||null,_e.symbolProxy=createSymbol$1(et.getVisual("symbol"),0,0,0,0),_e.setColor=_e.symbolProxy.setColor;var ot=_e.shape.size[0]<BOOST_SIZE_THRESHOLD;_e.useStyle(nt.getModel("itemStyle").getItemStyle(ot?["color","shadowBlur","shadowColor"]:["color"]));var it=et.getVisual("style"),st=it&&it.fill;st&&_e.setColor(st);var ut=getECData(_e);ut.seriesIndex=nt.seriesIndex,_e.on("mousemove",function(ft){ut.dataIndex=null;var dt=_e.hoverDataIdx;dt>=0&&(ut.dataIndex=dt+(_e.startIndex||0))})},$.prototype.remove=function(){this._clear()},$.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},$}(),LargeSymbolDraw$1=LargeSymbolDraw,ScatterView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=this._updateSymbolDraw(at,et);ot.updateData(at,{clipShape:this._getClipShape(et)}),this._finished=!0},_e.prototype.incrementalPrepareRender=function(et,tt,nt){var at=et.getData(),ot=this._updateSymbolDraw(at,et);ot.incrementalPrepareUpdate(at),this._finished=!1},_e.prototype.incrementalRender=function(et,tt,nt){this._symbolDraw.incrementalUpdate(et,tt.getData(),{clipShape:this._getClipShape(tt)}),this._finished=et.end===tt.getData().count()},_e.prototype.updateTransform=function(et,tt,nt){var at=et.getData();if(this.group.dirty(),!this._finished||at.count()>1e4)return{update:!0};var ot=pointsLayout("").reset(et,tt,nt);ot.progress&&ot.progress({start:0,end:at.count(),count:at.count()},at),this._symbolDraw.updateLayout(at)},_e.prototype.eachRendered=function(et){this._symbolDraw&&this._symbolDraw.eachRendered(et)},_e.prototype._getClipShape=function(et){var tt=et.coordinateSystem,nt=tt&&tt.getArea&&tt.getArea();return et.get("clip",!0)?nt:null},_e.prototype._updateSymbolDraw=function(et,tt){var nt=this._symbolDraw,at=tt.pipelineContext,ot=at.large;return(!nt||ot!==this._isLargeDraw)&&(nt&&nt.remove(),nt=this._symbolDraw=ot?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=ot,this.group.removeAll()),this.group.add(nt.group),nt},_e.prototype.remove=function(et,tt){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},_e.prototype.dispose=function(){},_e.type="scatter",_e}(ChartView$1),ScatterView$1=ScatterView,GridModel=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.type="grid",_e.dependencies=["xAxis","yAxis"],_e.layoutMode="box",_e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},_e}(ComponentModel$1),GridModel$1=GridModel,CartesianAxisModel=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},_e.type="cartesian2dAxis",_e}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$2={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$2),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$2),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis),axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis},AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator($,_e,et,tt){each$f(AXIS_TYPES,function(nt,at){var ot=merge(merge({},axisDefault[at],!0),tt,!0),it=function(st){__extends(ut,st);function ut(){var ft=st!==null&&st.apply(this,arguments)||this;return ft.type=_e+"Axis."+at,ft}return ut.prototype.mergeDefaultAndTheme=function(ft,dt){var vt=fetchLayoutMode(this),gt=vt?getLayoutParams(ft):{},yt=dt.getTheme();merge(ft,yt.get(at+"Axis")),merge(ft,this.getDefaultOption()),ft.type=getAxisType(ft),vt&&mergeLayoutParam(ft,gt,vt)},ut.prototype.optionUpdated=function(){var ft=this.option;ft.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},ut.prototype.getCategories=function(ft){var dt=this.option;if(dt.type==="category")return ft?dt.data:this.__ordinalMeta.categories},ut.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},ut.type=_e+"Axis."+at,ut.defaultOption=ot,ut}(et);$.registerComponentModel(it)}),$.registerSubTypeDefaulter(_e+"Axis",getAxisType)}function getAxisType($){return $.type||($.data?"category":"value")}var Cartesian=function(){function $(_e){this.type="cartesian",this._dimList=[],this._axes={},this.name=_e||""}return $.prototype.getAxis=function(_e){return this._axes[_e]},$.prototype.getAxes=function(){return map$1(this._dimList,function(_e){return this._axes[_e]},this)},$.prototype.getAxesByScale=function(_e){return _e=_e.toLowerCase(),filter(this.getAxes(),function(et){return et.scale.type===_e})},$.prototype.addAxis=function(_e){var et=_e.dim;this._axes[et]=_e,this._dimList.push(et)},$}(),Cartesian$1=Cartesian,cartesian2DDimensions=["x","y"];function canCalculateAffineTransform($){return $.type==="interval"||$.type==="time"}var Cartesian2D=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="cartesian2d",et.dimensions=cartesian2DDimensions,et}return _e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var et=this.getAxis("x").scale,tt=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(et)||!canCalculateAffineTransform(tt))){var nt=et.getExtent(),at=tt.getExtent(),ot=this.dataToPoint([nt[0],at[0]]),it=this.dataToPoint([nt[1],at[1]]),st=nt[1]-nt[0],ut=at[1]-at[0];if(!(!st||!ut)){var ft=(it[0]-ot[0])/st,dt=(it[1]-ot[1])/ut,vt=ot[0]-nt[0]*ft,gt=ot[1]-at[0]*dt,yt=this._transform=[ft,0,0,dt,vt,gt];this._invTransform=invert([],yt)}}},_e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},_e.prototype.containPoint=function(et){var tt=this.getAxis("x"),nt=this.getAxis("y");return tt.contain(tt.toLocalCoord(et[0]))&&nt.contain(nt.toLocalCoord(et[1]))},_e.prototype.containData=function(et){return this.getAxis("x").containData(et[0])&&this.getAxis("y").containData(et[1])},_e.prototype.containZone=function(et,tt){var nt=this.dataToPoint(et),at=this.dataToPoint(tt),ot=this.getArea(),it=new BoundingRect$1(nt[0],nt[1],at[0]-nt[0],at[1]-nt[1]);return ot.intersect(it)},_e.prototype.dataToPoint=function(et,tt,nt){nt=nt||[];var at=et[0],ot=et[1];if(this._transform&&at!=null&&isFinite(at)&&ot!=null&&isFinite(ot))return applyTransform$1(nt,et,this._transform);var it=this.getAxis("x"),st=this.getAxis("y");return nt[0]=it.toGlobalCoord(it.dataToCoord(at,tt)),nt[1]=st.toGlobalCoord(st.dataToCoord(ot,tt)),nt},_e.prototype.clampData=function(et,tt){var nt=this.getAxis("x").scale,at=this.getAxis("y").scale,ot=nt.getExtent(),it=at.getExtent(),st=nt.parse(et[0]),ut=at.parse(et[1]);return tt=tt||[],tt[0]=Math.min(Math.max(Math.min(ot[0],ot[1]),st),Math.max(ot[0],ot[1])),tt[1]=Math.min(Math.max(Math.min(it[0],it[1]),ut),Math.max(it[0],it[1])),tt},_e.prototype.pointToData=function(et,tt){var nt=[];if(this._invTransform)return applyTransform$1(nt,et,this._invTransform);var at=this.getAxis("x"),ot=this.getAxis("y");return nt[0]=at.coordToData(at.toLocalCoord(et[0]),tt),nt[1]=ot.coordToData(ot.toLocalCoord(et[1]),tt),nt},_e.prototype.getOtherAxis=function(et){return this.getAxis(et.dim==="x"?"y":"x")},_e.prototype.getArea=function(){var et=this.getAxis("x").getGlobalExtent(),tt=this.getAxis("y").getGlobalExtent(),nt=Math.min(et[0],et[1]),at=Math.min(tt[0],tt[1]),ot=Math.max(et[0],et[1])-nt,it=Math.max(tt[0],tt[1])-at;return new BoundingRect$1(nt,at,ot,it)},_e}(Cartesian$1),Axis2D=function($){__extends(_e,$);function _e(et,tt,nt,at,ot){var it=$.call(this,et,tt,nt)||this;return it.index=0,it.type=at||"value",it.position=ot||"bottom",it}return _e.prototype.isHorizontal=function(){var et=this.position;return et==="top"||et==="bottom"},_e.prototype.getGlobalExtent=function(et){var tt=this.getExtent();return tt[0]=this.toGlobalCoord(tt[0]),tt[1]=this.toGlobalCoord(tt[1]),et&&tt[0]>tt[1]&&tt.reverse(),tt},_e.prototype.pointToData=function(et,tt){return this.coordToData(this.toLocalCoord(et[this.dim==="x"?0:1]),tt)},_e.prototype.setCategorySortInfo=function(et){if(this.type!=="category")return!1;this.model.option.categorySortInfo=et,this.scale.setSortInfo(et)},_e}(Axis$1),Axis2D$1=Axis2D;function layout$2($,_e,et){et=et||{};var tt=$.coordinateSystem,nt=_e.axis,at={},ot=nt.getAxesOnZeroOf()[0],it=nt.position,st=ot?"onZero":it,ut=nt.dim,ft=tt.getRect(),dt=[ft.x,ft.x+ft.width,ft.y,ft.y+ft.height],vt={left:0,right:1,top:0,bottom:1,onZero:2},gt=_e.get("offset")||0,yt=ut==="x"?[dt[2]-gt,dt[3]+gt]:[dt[0]-gt,dt[1]+gt];if(ot){var xt=ot.toGlobalCoord(ot.dataToCoord(0));yt[vt.onZero]=Math.max(Math.min(xt,yt[1]),yt[0])}at.position=[ut==="y"?yt[vt[st]]:dt[0],ut==="x"?yt[vt[st]]:dt[3]],at.rotation=Math.PI/2*(ut==="x"?0:1);var Ct={top:-1,bottom:1,left:-1,right:1};at.labelDirection=at.tickDirection=at.nameDirection=Ct[it],at.labelOffset=ot?yt[vt[it]]-yt[vt.onZero]:0,_e.get(["axisTick","inside"])&&(at.tickDirection=-at.tickDirection),retrieve(et.labelInside,_e.get(["axisLabel","inside"]))&&(at.labelDirection=-at.labelDirection);var wt=_e.get(["axisLabel","rotate"]);return at.labelRotate=st==="top"?-wt:wt,at.z2=1,at}function isCartesian2DSeries($){return $.get("coordinateSystem")==="cartesian2d"}function findAxisModels($){var _e={xAxisModel:null,yAxisModel:null};return each$f(_e,function(et,tt){var nt=tt.replace(/Model$/,""),at=$.getReferringComponents(nt,SINGLE_REFERRING).models[0];_e[tt]=at}),_e}var mathLog=Math.log;function alignScaleTicks($,_e,et){var tt=IntervalScale$1.prototype,nt=tt.getTicks.call(et),at=tt.getTicks.call(et,!0),ot=nt.length-1,it=tt.getInterval.call(et),st=getScaleExtent($,_e),ut=st.extent,ft=st.fixMin,dt=st.fixMax;if($.type==="log"){var vt=mathLog($.base);ut=[mathLog(ut[0])/vt,mathLog(ut[1])/vt]}$.setExtent(ut[0],ut[1]),$.calcNiceExtent({splitNumber:ot,fixMin:ft,fixMax:dt});var gt=tt.getExtent.call($);ft&&(ut[0]=gt[0]),dt&&(ut[1]=gt[1]);var yt=tt.getInterval.call($),xt=ut[0],Ct=ut[1];if(ft&&dt)yt=(Ct-xt)/ot;else if(ft)for(Ct=ut[0]+yt*ot;Ct<ut[1]&&isFinite(Ct)&&isFinite(ut[1]);)yt=increaseInterval(yt),Ct=ut[0]+yt*ot;else if(dt)for(xt=ut[1]-yt*ot;xt>ut[0]&&isFinite(xt)&&isFinite(ut[0]);)yt=increaseInterval(yt),xt=ut[1]-yt*ot;else{var wt=$.getTicks().length-1;wt>ot&&(yt=increaseInterval(yt));var Et=yt*ot;Ct=Math.ceil(ut[1]/yt)*yt,xt=round$3(Ct-Et),xt<0&&ut[0]>=0?(xt=0,Ct=round$3(Et)):Ct>0&&ut[1]<=0&&(Ct=0,xt=-round$3(Et))}var $t=(nt[0].value-at[0].value)/it,It=(nt[ot].value-at[ot].value)/it;tt.setExtent.call($,xt+yt*$t,Ct+yt*It),tt.setInterval.call($,yt),($t||It)&&tt.setNiceExtent.call($,xt+yt,Ct-yt)}var Grid=function(){function $(_e,et,tt){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(_e,et,tt),this.model=_e}return $.prototype.getRect=function(){return this._rect},$.prototype.update=function(_e,et){var tt=this._axesMap;this._updateScale(_e,this.model);function nt(ot){var it,st=keys(ot),ut=st.length;if(!!ut){for(var ft=[],dt=ut-1;dt>=0;dt--){var vt=+st[dt],gt=ot[vt],yt=gt.model,xt=gt.scale;isIntervalOrLogScale(xt)&&yt.get("alignTicks")&&yt.get("interval")==null?ft.push(gt):(niceScaleExtent(xt,yt),isIntervalOrLogScale(xt)&&(it=gt))}ft.length&&(it||(it=ft.pop(),niceScaleExtent(it.scale,it.model)),each$f(ft,function(Ct){alignScaleTicks(Ct.scale,Ct.model,it.scale)}))}}nt(tt.x),nt(tt.y);var at={};each$f(tt.x,function(ot){fixAxisOnZero(tt,"y",ot,at)}),each$f(tt.y,function(ot){fixAxisOnZero(tt,"x",ot,at)}),this.resize(this.model,et)},$.prototype.resize=function(_e,et,tt){var nt=_e.getBoxLayoutParams(),at=!tt&&_e.get("containLabel"),ot=getLayoutRect(nt,{width:et.getWidth(),height:et.getHeight()});this._rect=ot;var it=this._axesList;st(),at&&(each$f(it,function(ut){if(!ut.model.get(["axisLabel","inside"])){var ft=estimateLabelUnionRect(ut);if(ft){var dt=ut.isHorizontal()?"height":"width",vt=ut.model.get(["axisLabel","margin"]);ot[dt]-=ft[dt]+vt,ut.position==="top"?ot.y+=ft.height+vt:ut.position==="left"&&(ot.x+=ft.width+vt)}}}),st()),each$f(this._coordsList,function(ut){ut.calcAffineTransform()});function st(){each$f(it,function(ut){var ft=ut.isHorizontal(),dt=ft?[0,ot.width]:[0,ot.height],vt=ut.inverse?1:0;ut.setExtent(dt[vt],dt[1-vt]),updateAxisTransform(ut,ft?ot.x:ot.y)})}},$.prototype.getAxis=function(_e,et){var tt=this._axesMap[_e];if(tt!=null)return tt[et||0]},$.prototype.getAxes=function(){return this._axesList.slice()},$.prototype.getCartesian=function(_e,et){if(_e!=null&&et!=null){var tt="x"+_e+"y"+et;return this._coordsMap[tt]}isObject$3(_e)&&(et=_e.yAxisIndex,_e=_e.xAxisIndex);for(var nt=0,at=this._coordsList;nt<at.length;nt++)if(at[nt].getAxis("x").index===_e||at[nt].getAxis("y").index===et)return at[nt]},$.prototype.getCartesians=function(){return this._coordsList.slice()},$.prototype.convertToPixel=function(_e,et,tt){var nt=this._findConvertTarget(et);return nt.cartesian?nt.cartesian.dataToPoint(tt):nt.axis?nt.axis.toGlobalCoord(nt.axis.dataToCoord(tt)):null},$.prototype.convertFromPixel=function(_e,et,tt){var nt=this._findConvertTarget(et);return nt.cartesian?nt.cartesian.pointToData(tt):nt.axis?nt.axis.coordToData(nt.axis.toLocalCoord(tt)):null},$.prototype._findConvertTarget=function(_e){var et=_e.seriesModel,tt=_e.xAxisModel||et&&et.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],nt=_e.yAxisModel||et&&et.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],at=_e.gridModel,ot=this._coordsList,it,st;if(et)it=et.coordinateSystem,indexOf(ot,it)<0&&(it=null);else if(tt&&nt)it=this.getCartesian(tt.componentIndex,nt.componentIndex);else if(tt)st=this.getAxis("x",tt.componentIndex);else if(nt)st=this.getAxis("y",nt.componentIndex);else if(at){var ut=at.coordinateSystem;ut===this&&(it=this._coordsList[0])}return{cartesian:it,axis:st}},$.prototype.containPoint=function(_e){var et=this._coordsList[0];if(et)return et.containPoint(_e)},$.prototype._initCartesian=function(_e,et,tt){var nt=this,at=this,ot={left:!1,right:!1,top:!1,bottom:!1},it={x:{},y:{}},st={x:0,y:0};if(et.eachComponent("xAxis",ut("x"),this),et.eachComponent("yAxis",ut("y"),this),!st.x||!st.y){this._axesMap={},this._axesList=[];return}this._axesMap=it,each$f(it.x,function(ft,dt){each$f(it.y,function(vt,gt){var yt="x"+dt+"y"+gt,xt=new Cartesian2D(yt);xt.master=nt,xt.model=_e,nt._coordsMap[yt]=xt,nt._coordsList.push(xt),xt.addAxis(ft),xt.addAxis(vt)})});function ut(ft){return function(dt,vt){if(!!isAxisUsedInTheGrid(dt,_e)){var gt=dt.get("position");ft==="x"?gt!=="top"&&gt!=="bottom"&&(gt=ot.bottom?"top":"bottom"):gt!=="left"&&gt!=="right"&&(gt=ot.left?"right":"left"),ot[gt]=!0;var yt=new Axis2D$1(ft,createScaleByModel$1(dt),[0,0],dt.get("type"),gt),xt=yt.type==="category";yt.onBand=xt&&dt.get("boundaryGap"),yt.inverse=dt.get("inverse"),dt.axis=yt,yt.model=dt,yt.grid=at,yt.index=vt,at._axesList.push(yt),it[ft][vt]=yt,st[ft]++}}}},$.prototype._updateScale=function(_e,et){each$f(this._axesList,function(nt){if(nt.scale.setExtent(1/0,-1/0),nt.type==="category"){var at=nt.model.get("categorySortInfo");nt.scale.setSortInfo(at)}}),_e.eachSeries(function(nt){if(isCartesian2DSeries(nt)){var at=findAxisModels(nt),ot=at.xAxisModel,it=at.yAxisModel;if(!isAxisUsedInTheGrid(ot,et)||!isAxisUsedInTheGrid(it,et))return;var st=this.getCartesian(ot.componentIndex,it.componentIndex),ut=nt.getData(),ft=st.getAxis("x"),dt=st.getAxis("y");tt(ut,ft),tt(ut,dt)}},this);function tt(nt,at){each$f(getDataDimensionsOnAxis(nt,at.dim),function(ot){at.scale.unionExtentFromData(nt,ot)})}},$.prototype.getTooltipAxes=function(_e){var et=[],tt=[];return each$f(this.getCartesians(),function(nt){var at=_e!=null&&_e!=="auto"?nt.getAxis(_e):nt.getBaseAxis(),ot=nt.getOtherAxis(at);indexOf(et,at)<0&&et.push(at),indexOf(tt,ot)<0&&tt.push(ot)}),{baseAxes:et,otherAxes:tt}},$.create=function(_e,et){var tt=[];return _e.eachComponent("grid",function(nt,at){var ot=new $(nt,_e,et);ot.name="grid_"+at,ot.resize(nt,et,!0),nt.coordinateSystem=ot,tt.push(ot)}),_e.eachSeries(function(nt){if(!!isCartesian2DSeries(nt)){var at=findAxisModels(nt),ot=at.xAxisModel,it=at.yAxisModel,st=ot.getCoordSysModel(),ut=st.coordinateSystem;nt.coordinateSystem=ut.getCartesian(ot.componentIndex,it.componentIndex)}}),tt},$.dimensions=cartesian2DDimensions,$}();function isAxisUsedInTheGrid($,_e){return $.getCoordSysModel()===_e}function fixAxisOnZero($,_e,et,tt){et.getAxesOnZeroOf=function(){return at?[at]:[]};var nt=$[_e],at,ot=et.model,it=ot.get(["axisLine","onZero"]),st=ot.get(["axisLine","onZeroAxisIndex"]);if(!it)return;if(st!=null)canOnZeroToAxis(nt[st])&&(at=nt[st]);else for(var ut in nt)if(nt.hasOwnProperty(ut)&&canOnZeroToAxis(nt[ut])&&!tt[ft(nt[ut])]){at=nt[ut];break}at&&(tt[ft(at)]=!0);function ft(dt){return dt.dim+"_"+dt.index}}function canOnZeroToAxis($){return $&&$.type!=="category"&&$.type!=="time"&&ifAxisCrossZero($)}function updateAxisTransform($,_e){var et=$.getExtent(),tt=et[0]+et[1];$.toGlobalCoord=$.dim==="x"?function(nt){return nt+_e}:function(nt){return tt-nt+_e},$.toLocalCoord=$.dim==="x"?function(nt){return nt-_e}:function(nt){return tt-nt+_e}}var Grid$1=Grid,PI$3=Math.PI,AxisBuilder=function(){function $(_e,et){this.group=new Group$4,this.opt=et,this.axisModel=_e,defaults(et,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var tt=new Group$4({x:et.position[0],y:et.position[1],rotation:et.rotation});tt.updateTransform(),this._transformGroup=tt}return $.prototype.hasBuilder=function(_e){return!!builders[_e]},$.prototype.add=function(_e){builders[_e](this.opt,this.axisModel,this.group,this._transformGroup)},$.prototype.getGroup=function(){return this.group},$.innerTextLayout=function(_e,et,tt){var nt=remRadian(et-_e),at,ot;return isRadianAroundZero(nt)?(ot=tt>0?"top":"bottom",at="center"):isRadianAroundZero(nt-PI$3)?(ot=tt>0?"bottom":"top",at="center"):(ot="middle",nt>0&&nt<PI$3?at=tt>0?"right":"left":at=tt>0?"left":"right"),{rotation:nt,textAlign:at,textVerticalAlign:ot}},$.makeAxisEventDataBase=function(_e){var et={componentType:_e.mainType,componentIndex:_e.componentIndex};return et[_e.mainType+"Index"]=_e.componentIndex,et},$.isLabelSilent=function(_e){var et=_e.get("tooltip");return _e.get("silent")||!(_e.get("triggerEvent")||et&&et.show)},$}(),builders={axisLine:function($,_e,et,tt){var nt=_e.get(["axisLine","show"]);if(nt==="auto"&&$.handleAutoShown&&(nt=$.handleAutoShown("axisLine")),!!nt){var at=_e.axis.getExtent(),ot=tt.transform,it=[at[0],0],st=[at[1],0];ot&&(applyTransform$1(it,it,ot),applyTransform$1(st,st,ot));var ut=extend({lineCap:"round"},_e.getModel(["axisLine","lineStyle"]).getLineStyle()),ft=new Line$3({subPixelOptimize:!0,shape:{x1:it[0],y1:it[1],x2:st[0],y2:st[1]},style:ut,strokeContainThreshold:$.strokeContainThreshold||5,silent:!0,z2:1});ft.anid="line",et.add(ft);var dt=_e.get(["axisLine","symbol"]);if(dt!=null){var vt=_e.get(["axisLine","symbolSize"]);isString(dt)&&(dt=[dt,dt]),(isString(vt)||isNumber(vt))&&(vt=[vt,vt]);var gt=normalizeSymbolOffset(_e.get(["axisLine","symbolOffset"])||0,vt),yt=vt[0],xt=vt[1];each$f([{rotate:$.rotation+Math.PI/2,offset:gt[0],r:0},{rotate:$.rotation-Math.PI/2,offset:gt[1],r:Math.sqrt((it[0]-st[0])*(it[0]-st[0])+(it[1]-st[1])*(it[1]-st[1]))}],function(Ct,wt){if(dt[wt]!=="none"&&dt[wt]!=null){var Et=createSymbol$1(dt[wt],-yt/2,-xt/2,yt,xt,ut.stroke,!0),$t=Ct.r+Ct.offset;Et.attr({rotation:Ct.rotate,x:it[0]+$t*Math.cos($.rotation),y:it[1]-$t*Math.sin($.rotation),silent:!0,z2:11}),et.add(Et)}})}}},axisTickLabel:function($,_e,et,tt){var nt=buildAxisMajorTicks(et,tt,_e,$),at=buildAxisLabel(et,tt,_e,$);if(fixMinMaxLabelShow(_e,at,nt),buildAxisMinorTicks(et,tt,_e,$.tickDirection),_e.get(["axisLabel","hideOverlap"])){var ot=prepareLayoutList(map$1(at,function(it){return{label:it,priority:it.z2,defaultAttr:{ignore:it.ignore}}}));hideOverlap(ot)}},axisName:function($,_e,et,tt){var nt=retrieve($.axisName,_e.get("name"));if(!!nt){var at=_e.get("nameLocation"),ot=$.nameDirection,it=_e.getModel("nameTextStyle"),st=_e.get("nameGap")||0,ut=_e.axis.getExtent(),ft=ut[0]>ut[1]?-1:1,dt=[at==="start"?ut[0]-ft*st:at==="end"?ut[1]+ft*st:(ut[0]+ut[1])/2,isNameLocationCenter(at)?$.labelOffset+ot*st:0],vt,gt=_e.get("nameRotate");gt!=null&&(gt=gt*PI$3/180);var yt;isNameLocationCenter(at)?vt=AxisBuilder.innerTextLayout($.rotation,gt!=null?gt:$.rotation,ot):(vt=endTextLayout($.rotation,at,gt||0,ut),yt=$.axisNameAvailableWidth,yt!=null&&(yt=Math.abs(yt/Math.sin(vt.rotation)),!isFinite(yt)&&(yt=null)));var xt=it.getFont(),Ct=_e.get("nameTruncate",!0)||{},wt=Ct.ellipsis,Et=retrieve($.nameTruncateMaxWidth,Ct.maxWidth,yt),$t=new ZRText$1({x:dt[0],y:dt[1],rotation:vt.rotation,silent:AxisBuilder.isLabelSilent(_e),style:createTextStyle(it,{text:nt,font:xt,overflow:"truncate",width:Et,ellipsis:wt,fill:it.getTextColor()||_e.get(["axisLine","lineStyle","color"]),align:it.get("align")||vt.textAlign,verticalAlign:it.get("verticalAlign")||vt.textVerticalAlign}),z2:1});if(setTooltipConfig({el:$t,componentModel:_e,itemName:nt}),$t.__fullText=nt,$t.anid="name",_e.get("triggerEvent")){var It=AxisBuilder.makeAxisEventDataBase(_e);It.targetType="axisName",It.name=nt,getECData($t).eventData=It}tt.add($t),$t.updateTransform(),et.add($t),$t.decomposeTransform()}}};function endTextLayout($,_e,et,tt){var nt=remRadian(et-$),at,ot,it=tt[0]>tt[1],st=_e==="start"&&!it||_e!=="start"&&it;return isRadianAroundZero(nt-PI$3/2)?(ot=st?"bottom":"top",at="center"):isRadianAroundZero(nt-PI$3*1.5)?(ot=st?"top":"bottom",at="center"):(ot="middle",nt<PI$3*1.5&&nt>PI$3/2?at=st?"left":"right":at=st?"right":"left"),{rotation:nt,textAlign:at,textVerticalAlign:ot}}function fixMinMaxLabelShow($,_e,et){if(!shouldShowAllLabels($.axis)){var tt=$.get(["axisLabel","showMinLabel"]),nt=$.get(["axisLabel","showMaxLabel"]);_e=_e||[],et=et||[];var at=_e[0],ot=_e[1],it=_e[_e.length-1],st=_e[_e.length-2],ut=et[0],ft=et[1],dt=et[et.length-1],vt=et[et.length-2];tt===!1?(ignoreEl(at),ignoreEl(ut)):isTwoLabelOverlapped(at,ot)&&(tt?(ignoreEl(ot),ignoreEl(ft)):(ignoreEl(at),ignoreEl(ut))),nt===!1?(ignoreEl(it),ignoreEl(dt)):isTwoLabelOverlapped(st,it)&&(nt?(ignoreEl(st),ignoreEl(vt)):(ignoreEl(it),ignoreEl(dt)))}}function ignoreEl($){$&&($.ignore=!0)}function isTwoLabelOverlapped($,_e){var et=$&&$.getBoundingRect().clone(),tt=_e&&_e.getBoundingRect().clone();if(!(!et||!tt)){var nt=identity([]);return rotate(nt,nt,-$.rotation),et.applyTransform(mul([],nt,$.getLocalTransform())),tt.applyTransform(mul([],nt,_e.getLocalTransform())),et.intersect(tt)}}function isNameLocationCenter($){return $==="middle"||$==="center"}function createTicks($,_e,et,tt,nt){for(var at=[],ot=[],it=[],st=0;st<$.length;st++){var ut=$[st].coord;ot[0]=ut,ot[1]=0,it[0]=ut,it[1]=et,_e&&(applyTransform$1(ot,ot,_e),applyTransform$1(it,it,_e));var ft=new Line$3({subPixelOptimize:!0,shape:{x1:ot[0],y1:ot[1],x2:it[0],y2:it[1]},style:tt,z2:2,autoBatch:!0,silent:!0});ft.anid=nt+"_"+$[st].tickValue,at.push(ft)}return at}function buildAxisMajorTicks($,_e,et,tt){var nt=et.axis,at=et.getModel("axisTick"),ot=at.get("show");if(ot==="auto"&&tt.handleAutoShown&&(ot=tt.handleAutoShown("axisTick")),!(!ot||nt.scale.isBlank())){for(var it=at.getModel("lineStyle"),st=tt.tickDirection*at.get("length"),ut=nt.getTicksCoords(),ft=createTicks(ut,_e.transform,st,defaults(it.getLineStyle(),{stroke:et.get(["axisLine","lineStyle","color"])}),"ticks"),dt=0;dt<ft.length;dt++)$.add(ft[dt]);return ft}}function buildAxisMinorTicks($,_e,et,tt){var nt=et.axis,at=et.getModel("minorTick");if(!(!at.get("show")||nt.scale.isBlank())){var ot=nt.getMinorTicksCoords();if(!!ot.length)for(var it=at.getModel("lineStyle"),st=tt*at.get("length"),ut=defaults(it.getLineStyle(),defaults(et.getModel("axisTick").getLineStyle(),{stroke:et.get(["axisLine","lineStyle","color"])})),ft=0;ft<ot.length;ft++)for(var dt=createTicks(ot[ft],_e.transform,st,ut,"minorticks_"+ft),vt=0;vt<dt.length;vt++)$.add(dt[vt])}}function buildAxisLabel($,_e,et,tt){var nt=et.axis,at=retrieve(tt.axisLabelShow,et.get(["axisLabel","show"]));if(!(!at||nt.scale.isBlank())){var ot=et.getModel("axisLabel"),it=ot.get("margin"),st=nt.getViewLabels(),ut=(retrieve(tt.labelRotate,ot.get("rotate"))||0)*PI$3/180,ft=AxisBuilder.innerTextLayout(tt.rotation,ut,tt.labelDirection),dt=et.getCategories&&et.getCategories(!0),vt=[],gt=AxisBuilder.isLabelSilent(et),yt=et.get("triggerEvent");return each$f(st,function(xt,Ct){var wt=nt.scale.type==="ordinal"?nt.scale.getRawOrdinalNumber(xt.tickValue):xt.tickValue,Et=xt.formattedLabel,$t=xt.rawLabel,It=ot;if(dt&&dt[wt]){var Ot=dt[wt];isObject$3(Ot)&&Ot.textStyle&&(It=new Model$1(Ot.textStyle,ot,et.ecModel))}var Lt=It.getTextColor()||et.get(["axisLine","lineStyle","color"]),Ft=nt.dataToCoord(wt),zt=new ZRText$1({x:Ft,y:tt.labelOffset+tt.labelDirection*it,rotation:ft.rotation,silent:gt,z2:10+(xt.level||0),style:createTextStyle(It,{text:Et,align:It.getShallow("align",!0)||ft.textAlign,verticalAlign:It.getShallow("verticalAlign",!0)||It.getShallow("baseline",!0)||ft.textVerticalAlign,fill:isFunction(Lt)?Lt(nt.type==="category"?$t:nt.type==="value"?wt+"":wt,Ct):Lt})});if(zt.anid="label_"+wt,yt){var Gt=AxisBuilder.makeAxisEventDataBase(et);Gt.targetType="axisLabel",Gt.value=$t,Gt.tickIndex=Ct,nt.type==="category"&&(Gt.dataIndex=wt),getECData(zt).eventData=Gt}_e.add(zt),zt.updateTransform(),vt.push(zt),$.add(zt),zt.decomposeTransform()}),vt}}var AxisBuilder$1=AxisBuilder;function collect($,_e){var et={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(et,$,_e),et.seriesInvolved&&collectSeriesInfo(et,$),et}function collectAxesInfo($,_e,et){var tt=_e.getComponent("tooltip"),nt=_e.getComponent("axisPointer"),at=nt.get("link",!0)||[],ot=[];each$f(et.getCoordinateSystems(),function(it){if(!it.axisPointerEnabled)return;var st=makeKey(it.model),ut=$.coordSysAxesInfo[st]={};$.coordSysMap[st]=it;var ft=it.model,dt=ft.getModel("tooltip",tt);if(each$f(it.getAxes(),curry$1(xt,!1,null)),it.getTooltipAxes&&tt&&dt.get("show")){var vt=dt.get("trigger")==="axis",gt=dt.get(["axisPointer","type"])==="cross",yt=it.getTooltipAxes(dt.get(["axisPointer","axis"]));(vt||gt)&&each$f(yt.baseAxes,curry$1(xt,gt?"cross":!0,vt)),gt&&each$f(yt.otherAxes,curry$1(xt,"cross",!1))}function xt(Ct,wt,Et){var $t=Et.model.getModel("axisPointer",nt),It=$t.get("show");if(!(!It||It==="auto"&&!Ct&&!isHandleTrigger($t))){wt==null&&(wt=$t.get("triggerTooltip")),$t=Ct?makeAxisPointerModel(Et,dt,nt,_e,Ct,wt):$t;var Ot=$t.get("snap"),Lt=makeKey(Et.model),Ft=wt||Ot||Et.type==="category",zt=$.axesInfo[Lt]={key:Lt,axis:Et,coordSys:it,axisPointerModel:$t,triggerTooltip:wt,involveSeries:Ft,snap:Ot,useHandle:isHandleTrigger($t),seriesModels:[],linkGroup:null};ut[Lt]=zt,$.seriesInvolved=$.seriesInvolved||Ft;var Gt=getLinkGroupIndex(at,Et);if(Gt!=null){var jt=ot[Gt]||(ot[Gt]={axesInfo:{}});jt.axesInfo[Lt]=zt,jt.mapper=at[Gt].mapper,zt.linkGroup=jt}}}})}function makeAxisPointerModel($,_e,et,tt,nt,at){var ot=_e.getModel("axisPointer"),it=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],st={};each$f(it,function(vt){st[vt]=clone$4(ot.get(vt))}),st.snap=$.type!=="category"&&!!at,ot.get("type")==="cross"&&(st.type="line");var ut=st.label||(st.label={});if(ut.show==null&&(ut.show=!1),nt==="cross"){var ft=ot.get(["label","show"]);if(ut.show=ft!=null?ft:!0,!at){var dt=st.lineStyle=ot.get("crossStyle");dt&&defaults(ut,dt.textStyle)}}return $.model.getModel("axisPointer",new Model$1(st,et,tt))}function collectSeriesInfo($,_e){_e.eachSeries(function(et){var tt=et.coordinateSystem,nt=et.get(["tooltip","trigger"],!0),at=et.get(["tooltip","show"],!0);!tt||nt==="none"||nt===!1||nt==="item"||at===!1||et.get(["axisPointer","show"],!0)===!1||each$f($.coordSysAxesInfo[makeKey(tt.model)],function(ot){var it=ot.axis;tt.getAxis(it.dim)===it&&(ot.seriesModels.push(et),ot.seriesDataCount==null&&(ot.seriesDataCount=0),ot.seriesDataCount+=et.getData().count())})})}function getLinkGroupIndex($,_e){for(var et=_e.model,tt=_e.dim,nt=0;nt<$.length;nt++){var at=$[nt]||{};if(checkPropInLink(at[tt+"AxisId"],et.id)||checkPropInLink(at[tt+"AxisIndex"],et.componentIndex)||checkPropInLink(at[tt+"AxisName"],et.name))return nt}}function checkPropInLink($,_e){return $==="all"||isArray$1($)&&indexOf($,_e)>=0||$===_e}function fixValue($){var _e=getAxisInfo$1($);if(!!_e){var et=_e.axisPointerModel,tt=_e.axis.scale,nt=et.option,at=et.get("status"),ot=et.get("value");ot!=null&&(ot=tt.parse(ot));var it=isHandleTrigger(et);at==null&&(nt.status=it?"show":"hide");var st=tt.getExtent().slice();st[0]>st[1]&&st.reverse(),(ot==null||ot>st[1])&&(ot=st[1]),ot<st[0]&&(ot=st[0]),nt.value=ot,it&&(nt.status=_e.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1($){var _e=($.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return _e&&_e.axesInfo[makeKey($)]}function getAxisPointerModel($){var _e=getAxisInfo$1($);return _e&&_e.axisPointerModel}function isHandleTrigger($){return!!$.get(["handle","show"])}function makeKey($){return $.type+"||"+$.id}var axisPointerClazz={},AxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt,at){this.axisPointerClass&&fixValue(et),$.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(et,nt,!0)},_e.prototype.updateAxisPointer=function(et,tt,nt,at){this._doUpdateAxisPointerClass(et,nt,!1)},_e.prototype.remove=function(et,tt){var nt=this._axisPointer;nt&&nt.remove(tt)},_e.prototype.dispose=function(et,tt){this._disposeAxisPointer(tt),$.prototype.dispose.apply(this,arguments)},_e.prototype._doUpdateAxisPointerClass=function(et,tt,nt){var at=_e.getAxisPointerClass(this.axisPointerClass);if(!!at){var ot=getAxisPointerModel(et);ot?(this._axisPointer||(this._axisPointer=new at)).render(et,ot,tt,nt):this._disposeAxisPointer(tt)}},_e.prototype._disposeAxisPointer=function(et){this._axisPointer&&this._axisPointer.dispose(et),this._axisPointer=null},_e.registerAxisPointerClass=function(et,tt){axisPointerClazz[et]=tt},_e.getAxisPointerClass=function(et){return et&&axisPointerClazz[et]},_e.type="axis",_e}(ComponentView$1),AxisView$1=AxisView,inner$f=makeInner();function rectCoordAxisBuildSplitArea($,_e,et,tt){var nt=et.axis;if(!nt.scale.isBlank()){var at=et.getModel("splitArea"),ot=at.getModel("areaStyle"),it=ot.get("color"),st=tt.coordinateSystem.getRect(),ut=nt.getTicksCoords({tickModel:at,clamp:!0});if(!!ut.length){var ft=it.length,dt=inner$f($).splitAreaColors,vt=createHashMap(),gt=0;if(dt)for(var yt=0;yt<ut.length;yt++){var xt=dt.get(ut[yt].tickValue);if(xt!=null){gt=(xt+(ft-1)*yt)%ft;break}}var Ct=nt.toGlobalCoord(ut[0].coord),wt=ot.getAreaStyle();it=isArray$1(it)?it:[it];for(var yt=1;yt<ut.length;yt++){var Et=nt.toGlobalCoord(ut[yt].coord),$t=void 0,It=void 0,Ot=void 0,Lt=void 0;nt.isHorizontal()?($t=Ct,It=st.y,Ot=Et-$t,Lt=st.height,Ct=$t+Ot):($t=st.x,It=Ct,Ot=st.width,Lt=Et-It,Ct=It+Lt);var Ft=ut[yt-1].tickValue;Ft!=null&&vt.set(Ft,gt),_e.add(new Rect$3({anid:Ft!=null?"area_"+Ft:null,shape:{x:$t,y:It,width:Ot,height:Lt},style:defaults({fill:it[gt]},wt),autoBatch:!0,silent:!0})),gt=(gt+1)%ft}inner$f($).splitAreaColors=vt}}}function rectCoordAxisHandleRemove($){inner$f($).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.axisPointerClass="CartesianAxisPointer",et}return _e.prototype.render=function(et,tt,nt,at){this.group.removeAll();var ot=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!et.get("show")){var it=et.getCoordSysModel(),st=layout$2(it,et),ut=new AxisBuilder$1(et,extend({handleAutoShown:function(dt){for(var vt=it.coordinateSystem.getCartesians(),gt=0;gt<vt.length;gt++)if(isIntervalOrLogScale(vt[gt].getOtherAxis(et.axis).scale))return!0;return!1}},st));each$f(axisBuilderAttrs$3,ut.add,ut),this._axisGroup.add(ut.getGroup()),each$f(selfBuilderAttrs$2,function(dt){et.get([dt,"show"])&&axisElementBuilders$2[dt](this,this._axisGroup,et,it)},this);var ft=at&&at.type==="changeAxisOrder"&&at.isInitSort;ft||groupTransition(ot,this._axisGroup,et),$.prototype.render.call(this,et,tt,nt,at)}},_e.prototype.remove=function(){rectCoordAxisHandleRemove(this)},_e.type="cartesianAxis",_e}(AxisView$1),axisElementBuilders$2={splitLine:function($,_e,et,tt){var nt=et.axis;if(!nt.scale.isBlank()){var at=et.getModel("splitLine"),ot=at.getModel("lineStyle"),it=ot.get("color");it=isArray$1(it)?it:[it];for(var st=tt.coordinateSystem.getRect(),ut=nt.isHorizontal(),ft=0,dt=nt.getTicksCoords({tickModel:at}),vt=[],gt=[],yt=ot.getLineStyle(),xt=0;xt<dt.length;xt++){var Ct=nt.toGlobalCoord(dt[xt].coord);ut?(vt[0]=Ct,vt[1]=st.y,gt[0]=Ct,gt[1]=st.y+st.height):(vt[0]=st.x,vt[1]=Ct,gt[0]=st.x+st.width,gt[1]=Ct);var wt=ft++%it.length,Et=dt[xt].tickValue;_e.add(new Line$3({anid:Et!=null?"line_"+dt[xt].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:vt[0],y1:vt[1],x2:gt[0],y2:gt[1]},style:defaults({stroke:it[wt]},yt),silent:!0}))}}},minorSplitLine:function($,_e,et,tt){var nt=et.axis,at=et.getModel("minorSplitLine"),ot=at.getModel("lineStyle"),it=tt.coordinateSystem.getRect(),st=nt.isHorizontal(),ut=nt.getMinorTicksCoords();if(!!ut.length)for(var ft=[],dt=[],vt=ot.getLineStyle(),gt=0;gt<ut.length;gt++)for(var yt=0;yt<ut[gt].length;yt++){var xt=nt.toGlobalCoord(ut[gt][yt].coord);st?(ft[0]=xt,ft[1]=it.y,dt[0]=xt,dt[1]=it.y+it.height):(ft[0]=it.x,ft[1]=xt,dt[0]=it.x+it.width,dt[1]=xt),_e.add(new Line$3({anid:"minor_line_"+ut[gt][yt].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:ft[0],y1:ft[1],x2:dt[0],y2:dt[1]},style:vt,silent:!0}))}},splitArea:function($,_e,et,tt){rectCoordAxisBuildSplitArea($,_e,et,tt)}},CartesianXAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="xAxis",_e}(CartesianAxisView),CartesianYAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=CartesianXAxisView.type,et}return _e.type="yAxis",_e}(CartesianAxisView),GridView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="grid",et}return _e.prototype.render=function(et,tt){this.group.removeAll(),et.get("show")&&this.group.add(new Rect$3({shape:et.coordinateSystem.getRect(),style:defaults({fill:et.get("backgroundColor")},et.getItemStyle()),silent:!0,z2:-1}))},_e.type="grid",_e}(ComponentView$1),extraOption={offset:0};function install$N($){$.registerComponentView(GridView),$.registerComponentModel(GridModel$1),$.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator($,"x",CartesianAxisModel,extraOption),axisModelCreator($,"y",CartesianAxisModel,extraOption),$.registerComponentView(CartesianXAxisView),$.registerComponentView(CartesianYAxisView),$.registerPreprocessor(function(_e){_e.xAxis&&_e.yAxis&&!_e.grid&&(_e.grid={})})}function install$M($){use(install$N),$.registerSeriesModel(ScatterSeriesModel$1),$.registerChartView(ScatterView$1),$.registerLayout(pointsLayout("scatter"))}function radarLayout($){$.eachSeriesByType("radar",function(_e){var et=_e.getData(),tt=[],nt=_e.coordinateSystem;if(!!nt){var at=nt.getIndicatorAxes();each$f(at,function(ot,it){et.each(et.mapDimension(at[it].dim),function(st,ut){tt[ut]=tt[ut]||[];var ft=nt.dataToPoint(st,it);tt[ut][it]=isValidPoint(ft)?ft:getValueMissingPoint(nt)})}),et.each(function(ot){var it=find(tt[ot],function(st){return isValidPoint(st)})||getValueMissingPoint(nt);tt[ot].push(it.slice()),et.setItemLayout(ot,tt[ot])})}})}function isValidPoint($){return!isNaN($[0])&&!isNaN($[1])}function getValueMissingPoint($){return[$.cx,$.cy]}function radarBackwardCompat($){var _e=$.polar;if(_e){isArray$1(_e)||(_e=[_e]);var et=[];each$f(_e,function(tt,nt){tt.indicator?(tt.type&&!tt.shape&&(tt.shape=tt.type),$.radar=$.radar||[],isArray$1($.radar)||($.radar=[$.radar]),$.radar.push(tt)):et.push(tt)}),$.polar=et}each$f($.series,function(tt){tt&&tt.type==="radar"&&tt.polarIndex&&(tt.radarIndex=tt.polarIndex)})}var RadarView$2=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=et.coordinateSystem,ot=this.group,it=et.getData(),st=this._data;function ut(vt,gt){var yt=vt.getItemVisual(gt,"symbol")||"circle";if(yt!=="none"){var xt=normalizeSymbolSize(vt.getItemVisual(gt,"symbolSize")),Ct=createSymbol$1(yt,-1,-1,2,2),wt=vt.getItemVisual(gt,"symbolRotate")||0;return Ct.attr({style:{strokeNoScale:!0},z2:100,scaleX:xt[0]/2,scaleY:xt[1]/2,rotation:wt*Math.PI/180||0}),Ct}}function ft(vt,gt,yt,xt,Ct,wt){yt.removeAll();for(var Et=0;Et<gt.length-1;Et++){var $t=ut(xt,Ct);$t&&($t.__dimIdx=Et,vt[Et]?($t.setPosition(vt[Et]),graphic[wt?"initProps":"updateProps"]($t,{x:gt[Et][0],y:gt[Et][1]},et,Ct)):$t.setPosition(gt[Et]),yt.add($t))}}function dt(vt){return map$1(vt,function(gt){return[at.cx,at.cy]})}it.diff(st).add(function(vt){var gt=it.getItemLayout(vt);if(!!gt){var yt=new Polygon$1,xt=new Polyline$3,Ct={shape:{points:gt}};yt.shape.points=dt(gt),xt.shape.points=dt(gt),initProps(yt,Ct,et,vt),initProps(xt,Ct,et,vt);var wt=new Group$4,Et=new Group$4;wt.add(xt),wt.add(yt),wt.add(Et),ft(xt.shape.points,gt,Et,it,vt,!0),it.setItemGraphicEl(vt,wt)}}).update(function(vt,gt){var yt=st.getItemGraphicEl(gt),xt=yt.childAt(0),Ct=yt.childAt(1),wt=yt.childAt(2),Et={shape:{points:it.getItemLayout(vt)}};!Et.shape.points||(ft(xt.shape.points,Et.shape.points,wt,it,vt,!1),saveOldStyle(Ct),saveOldStyle(xt),updateProps$1(xt,Et,et),updateProps$1(Ct,Et,et),it.setItemGraphicEl(vt,yt))}).remove(function(vt){ot.remove(st.getItemGraphicEl(vt))}).execute(),it.eachItemGraphicEl(function(vt,gt){var yt=it.getItemModel(gt),xt=vt.childAt(0),Ct=vt.childAt(1),wt=vt.childAt(2),Et=it.getItemVisual(gt,"style"),$t=Et.fill;ot.add(vt),xt.useStyle(defaults(yt.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:$t})),setStatesStylesFromModel(xt,yt,"lineStyle"),setStatesStylesFromModel(Ct,yt,"areaStyle");var It=yt.getModel("areaStyle"),Ot=It.isEmpty()&&It.parentModel.isEmpty();Ct.ignore=Ot,each$f(["emphasis","select","blur"],function(zt){var Gt=yt.getModel([zt,"areaStyle"]),jt=Gt.isEmpty()&&Gt.parentModel.isEmpty();Ct.ensureState(zt).ignore=jt&&Ot}),Ct.useStyle(defaults(It.getAreaStyle(),{fill:$t,opacity:.7,decal:Et.decal}));var Lt=yt.getModel("emphasis"),Ft=Lt.getModel("itemStyle").getItemStyle();wt.eachChild(function(zt){if(zt instanceof ZRImage$1){var Gt=zt.style;zt.useStyle(extend({image:Gt.image,x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height},Et))}else zt.useStyle(Et),zt.setColor($t),zt.style.strokeNoScale=!0;var jt=zt.ensureState("emphasis");jt.style=clone$4(Ft);var Ut=it.getStore().get(it.getDimensionIndex(zt.__dimIdx),gt);(Ut==null||isNaN(Ut))&&(Ut=""),setLabelStyle(zt,getLabelStatesModels(yt),{labelFetcher:it.hostModel,labelDataIndex:gt,labelDimIndex:zt.__dimIdx,defaultText:Ut,inheritColor:$t,defaultOpacity:Et.opacity})}),toggleHoverEmphasis(vt,Lt.get("focus"),Lt.get("blurScope"),Lt.get("disabled"))}),this._data=it},_e.prototype.remove=function(){this.group.removeAll(),this._data=null},_e.type="radar",_e}(ChartView$1),RadarView$3=RadarView$2,RadarSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.hasSymbolVisual=!0,et}return _e.prototype.init=function(et){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},_e.prototype.getInitialData=function(et,tt){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},_e.prototype.formatTooltip=function(et,tt,nt){var at=this.getData(),ot=this.coordinateSystem,it=ot.getIndicatorAxes(),st=this.getData().getName(et),ut=st===""?this.name:st,ft=retrieveVisualColorForTooltipMarker(this,et);return createTooltipMarkup("section",{header:ut,sortBlocks:!0,blocks:map$1(it,function(dt){var vt=at.get(at.mapDimension(dt.dim),et);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:ft,name:dt.name,value:vt,sortParam:vt})})})},_e.prototype.getTooltipPosition=function(et){if(et!=null){for(var tt=this.getData(),nt=this.coordinateSystem,at=tt.getValues(map$1(nt.dimensions,function(ut){return tt.mapDimension(ut)}),et),ot=0,it=at.length;ot<it;ot++)if(!isNaN(at[ot])){var st=nt.getIndicatorAxes();return nt.coordToPoint(st[ot].dataToCoord(at[ot]),ot)}}},_e.type="series.radar",_e.dependencies=["radar"],_e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},_e}(SeriesModel$1),RadarSeriesModel$1=RadarSeriesModel,valueAxisDefault=axisDefault.value;function defaultsShow($,_e){return defaults({show:_e},$)}var RadarModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.optionUpdated=function(){var et=this.get("boundaryGap"),tt=this.get("splitNumber"),nt=this.get("scale"),at=this.get("axisLine"),ot=this.get("axisTick"),it=this.get("axisLabel"),st=this.get("axisName"),ut=this.get(["axisName","show"]),ft=this.get(["axisName","formatter"]),dt=this.get("axisNameGap"),vt=this.get("triggerEvent"),gt=map$1(this.get("indicator")||[],function(yt){yt.max!=null&&yt.max>0&&!yt.min?yt.min=0:yt.min!=null&&yt.min<0&&!yt.max&&(yt.max=0);var xt=st;yt.color!=null&&(xt=defaults({color:yt.color},st));var Ct=merge(clone$4(yt),{boundaryGap:et,splitNumber:tt,scale:nt,axisLine:at,axisTick:ot,axisLabel:it,name:yt.text,showName:ut,nameLocation:"end",nameGap:dt,nameTextStyle:xt,triggerEvent:vt},!1);if(isString(ft)){var wt=Ct.name;Ct.name=ft.replace("{value}",wt!=null?wt:"")}else isFunction(ft)&&(Ct.name=ft(Ct.name,Ct));var Et=new Model$1(Ct,null,this.ecModel);return mixin(Et,AxisModelCommonMixin.prototype),Et.mainType="radar",Et.componentIndex=this.componentIndex,Et},this);this._indicatorModels=gt},_e.prototype.getIndicatorModels=function(){return this._indicatorModels},_e.type="radar",_e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},_e}(ComponentModel$1),RadarModel$1=RadarModel,axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=this.group;at.removeAll(),this._buildAxes(et),this._buildSplitLineAndArea(et)},_e.prototype._buildAxes=function(et){var tt=et.coordinateSystem,nt=tt.getIndicatorAxes(),at=map$1(nt,function(ot){var it=ot.model.get("showName")?ot.name:"",st=new AxisBuilder$1(ot.model,{axisName:it,position:[tt.cx,tt.cy],rotation:ot.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return st});each$f(at,function(ot){each$f(axisBuilderAttrs$2,ot.add,ot),this.group.add(ot.getGroup())},this)},_e.prototype._buildSplitLineAndArea=function(et){var tt=et.coordinateSystem,nt=tt.getIndicatorAxes();if(!nt.length)return;var at=et.get("shape"),ot=et.getModel("splitLine"),it=et.getModel("splitArea"),st=ot.getModel("lineStyle"),ut=it.getModel("areaStyle"),ft=ot.get("show"),dt=it.get("show"),vt=st.get("color"),gt=ut.get("color"),yt=isArray$1(vt)?vt:[vt],xt=isArray$1(gt)?gt:[gt],Ct=[],wt=[];function Et(rr,nr,dr){var sr=dr%nr.length;return rr[sr]=rr[sr]||[],sr}if(at==="circle")for(var $t=nt[0].getTicksCoords(),It=tt.cx,Ot=tt.cy,Lt=0;Lt<$t.length;Lt++){if(ft){var Ft=Et(Ct,yt,Lt);Ct[Ft].push(new Circle$1({shape:{cx:It,cy:Ot,r:$t[Lt].coord}}))}if(dt&&Lt<$t.length-1){var Ft=Et(wt,xt,Lt);wt[Ft].push(new Ring$1({shape:{cx:It,cy:Ot,r0:$t[Lt].coord,r:$t[Lt+1].coord}}))}}else for(var zt,Gt=map$1(nt,function(rr,nr){var dr=rr.getTicksCoords();return zt=zt==null?dr.length-1:Math.min(dr.length-1,zt),map$1(dr,function(sr){return tt.coordToPoint(sr.coord,nr)})}),jt=[],Lt=0;Lt<=zt;Lt++){for(var Ut=[],Kt=0;Kt<nt.length;Kt++)Ut.push(Gt[Kt][Lt]);if(Ut[0]&&Ut.push(Ut[0].slice()),ft){var Ft=Et(Ct,yt,Lt);Ct[Ft].push(new Polyline$3({shape:{points:Ut}}))}if(dt&&jt){var Ft=Et(wt,xt,Lt-1);wt[Ft].push(new Polygon$1({shape:{points:Ut.concat(jt)}}))}jt=Ut.slice().reverse()}var Zt=st.getLineStyle(),Qt=ut.getAreaStyle();each$f(wt,function(rr,nr){this.group.add(mergePath(rr,{style:defaults({stroke:"none",fill:xt[nr%xt.length]},Qt),silent:!0}))},this),each$f(Ct,function(rr,nr){this.group.add(mergePath(rr,{style:defaults({fill:"none",stroke:yt[nr%yt.length]},Zt),silent:!0}))},this)},_e.type="radar",_e}(ComponentView$1),RadarView$1=RadarView,IndicatorAxis=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this,et,tt,nt)||this;return at.type="value",at.angle=0,at.name="",at}return _e}(Axis$1),IndicatorAxis$1=IndicatorAxis,Radar=function(){function $(_e,et,tt){this.dimensions=[],this._model=_e,this._indicatorAxes=map$1(_e.getIndicatorModels(),function(nt,at){var ot="indicator_"+at,it=new IndicatorAxis$1(ot,new IntervalScale$1);return it.name=nt.get("name"),it.model=nt,nt.axis=it,this.dimensions.push(ot),it},this),this.resize(_e,tt)}return $.prototype.getIndicatorAxes=function(){return this._indicatorAxes},$.prototype.dataToPoint=function(_e,et){var tt=this._indicatorAxes[et];return this.coordToPoint(tt.dataToCoord(_e),et)},$.prototype.coordToPoint=function(_e,et){var tt=this._indicatorAxes[et],nt=tt.angle,at=this.cx+_e*Math.cos(nt),ot=this.cy-_e*Math.sin(nt);return[at,ot]},$.prototype.pointToData=function(_e){var et=_e[0]-this.cx,tt=_e[1]-this.cy,nt=Math.sqrt(et*et+tt*tt);et/=nt,tt/=nt;for(var at=Math.atan2(-tt,et),ot=1/0,it,st=-1,ut=0;ut<this._indicatorAxes.length;ut++){var ft=this._indicatorAxes[ut],dt=Math.abs(at-ft.angle);dt<ot&&(it=ft,st=ut,ot=dt)}return[st,+(it&&it.coordToData(nt))]},$.prototype.resize=function(_e,et){var tt=_e.get("center"),nt=et.getWidth(),at=et.getHeight(),ot=Math.min(nt,at)/2;this.cx=parsePercent(tt[0],nt),this.cy=parsePercent(tt[1],at),this.startAngle=_e.get("startAngle")*Math.PI/180;var it=_e.get("radius");(isString(it)||isNumber(it))&&(it=[0,it]),this.r0=parsePercent(it[0],ot),this.r=parsePercent(it[1],ot),each$f(this._indicatorAxes,function(st,ut){st.setExtent(this.r0,this.r);var ft=this.startAngle+ut*Math.PI*2/this._indicatorAxes.length;ft=Math.atan2(Math.sin(ft),Math.cos(ft)),st.angle=ft},this)},$.prototype.update=function(_e,et){var tt=this._indicatorAxes,nt=this._model;each$f(tt,function(it){it.scale.setExtent(1/0,-1/0)}),_e.eachSeriesByType("radar",function(it,st){if(!(it.get("coordinateSystem")!=="radar"||_e.getComponent("radar",it.get("radarIndex"))!==nt)){var ut=it.getData();each$f(tt,function(ft){ft.scale.unionExtentFromData(ut,ut.mapDimension(ft.dim))})}},this);var at=nt.get("splitNumber"),ot=new IntervalScale$1;ot.setExtent(0,at),ot.setInterval(1),each$f(tt,function(it,st){alignScaleTicks(it.scale,it.model,ot)})},$.prototype.convertToPixel=function(_e,et,tt){return console.warn("Not implemented."),null},$.prototype.convertFromPixel=function(_e,et,tt){return console.warn("Not implemented."),null},$.prototype.containPoint=function(_e){return console.warn("Not implemented."),!1},$.create=function(_e,et){var tt=[];return _e.eachComponent("radar",function(nt){var at=new $(nt,_e,et);tt.push(at),nt.coordinateSystem=at}),_e.eachSeriesByType("radar",function(nt){nt.get("coordinateSystem")==="radar"&&(nt.coordinateSystem=tt[nt.get("radarIndex")||0])}),tt},$.dimensions=[],$}(),Radar$1=Radar;function install$L($){$.registerCoordinateSystem("radar",Radar$1),$.registerComponentModel(RadarModel$1),$.registerComponentView(RadarView$1),$.registerVisual({seriesType:"radar",reset:function(_e){var et=_e.getData();et.each(function(tt){et.setItemVisual(tt,"legendIcon","roundRect")}),et.setVisual("legendIcon","roundRect")}})}function install$K($){use(install$L),$.registerChartView(RadarView$3),$.registerSeriesModel(RadarSeriesModel$1),$.registerLayout(radarLayout),$.registerProcessor(dataFilter$1("radar")),$.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take($,_e,et){var tt=getStore($);tt[_e]=et}function release($,_e,et){var tt=getStore($),nt=tt[_e];nt===et&&(tt[_e]=null)}function isTaken($,_e){return!!getStore($)[_e]}function getStore($){return $[ATTR]||($[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function($){__extends(_e,$);function _e(et){var tt=$.call(this)||this;tt._zr=et;var nt=bind$1(tt._mousedownHandler,tt),at=bind$1(tt._mousemoveHandler,tt),ot=bind$1(tt._mouseupHandler,tt),it=bind$1(tt._mousewheelHandler,tt),st=bind$1(tt._pinchHandler,tt);return tt.enable=function(ut,ft){this.disable(),this._opt=defaults(clone$4(ft)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),ut==null&&(ut=!0),(ut===!0||ut==="move"||ut==="pan")&&(et.on("mousedown",nt),et.on("mousemove",at),et.on("mouseup",ot)),(ut===!0||ut==="scale"||ut==="zoom")&&(et.on("mousewheel",it),et.on("pinch",st))},tt.disable=function(){et.off("mousedown",nt),et.off("mousemove",at),et.off("mouseup",ot),et.off("mousewheel",it),et.off("pinch",st)},tt}return _e.prototype.isDragging=function(){return this._dragging},_e.prototype.isPinching=function(){return this._pinching},_e.prototype.setPointerChecker=function(et){this.pointerChecker=et},_e.prototype.dispose=function(){this.disable()},_e.prototype._mousedownHandler=function(et){if(!(isMiddleOrRightButtonOnMouseUpDown(et)||et.target&&et.target.draggable)){var tt=et.offsetX,nt=et.offsetY;this.pointerChecker&&this.pointerChecker(et,tt,nt)&&(this._x=tt,this._y=nt,this._dragging=!0)}},_e.prototype._mousemoveHandler=function(et){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",et,this._opt)||et.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var tt=et.offsetX,nt=et.offsetY,at=this._x,ot=this._y,it=tt-at,st=nt-ot;this._x=tt,this._y=nt,this._opt.preventDefaultMouseMove&&stop(et.event),trigger$1(this,"pan","moveOnMouseMove",et,{dx:it,dy:st,oldX:at,oldY:ot,newX:tt,newY:nt,isAvailableBehavior:null})}},_e.prototype._mouseupHandler=function(et){isMiddleOrRightButtonOnMouseUpDown(et)||(this._dragging=!1)},_e.prototype._mousewheelHandler=function(et){var tt=isAvailableBehavior("zoomOnMouseWheel",et,this._opt),nt=isAvailableBehavior("moveOnMouseWheel",et,this._opt),at=et.wheelDelta,ot=Math.abs(at),it=et.offsetX,st=et.offsetY;if(!(at===0||!tt&&!nt)){if(tt){var ut=ot>3?1.4:ot>1?1.2:1.1,ft=at>0?ut:1/ut;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",et,{scale:ft,originX:it,originY:st,isAvailableBehavior:null})}if(nt){var dt=Math.abs(at),vt=(at>0?1:-1)*(dt>3?.4:dt>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",et,{scrollDelta:vt,originX:it,originY:st,isAvailableBehavior:null})}}},_e.prototype._pinchHandler=function(et){if(!isTaken(this._zr,"globalPan")){var tt=et.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,et,{scale:tt,originX:et.pinchX,originY:et.pinchY,isAvailableBehavior:null})}},_e}(Eventful$1);function checkPointerAndTrigger($,_e,et,tt,nt){$.pointerChecker&&$.pointerChecker(tt,nt.originX,nt.originY)&&(stop(tt.event),trigger$1($,_e,et,tt,nt))}function trigger$1($,_e,et,tt,nt){nt.isAvailableBehavior=bind$1(isAvailableBehavior,null,et,tt),$.trigger(_e,nt)}function isAvailableBehavior($,_e,et){var tt=et[$];return!$||tt&&(!isString(tt)||_e.event[tt+"Key"])}var RoamController$1=RoamController;function updateViewOnPan($,_e,et){var tt=$.target;tt.x+=_e,tt.y+=et,tt.dirty()}function updateViewOnZoom($,_e,et,tt){var nt=$.target,at=$.zoomLimit,ot=$.zoom=$.zoom||1;if(ot*=_e,at){var it=at.min||0,st=at.max||1/0;ot=Math.max(Math.min(st,ot),it)}var ut=ot/$.zoom;$.zoom=ot,nt.x-=(et-nt.x)*(ut-1),nt.y-=(tt-nt.y)*(ut-1),nt.scaleX*=ut,nt.scaleY*=ut,nt.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement($,_e,et){var tt=_e.getComponentByElement($.topTarget),nt=tt&&tt.coordinateSystem;return tt&&tt!==et&&!IRRELEVANT_EXCLUDES.hasOwnProperty(tt.mainType)&&nt&&nt.model!==et}function parseXML($){if(isString($)){var _e=new DOMParser;$=_e.parseFromString($,"text/xml")}var et=$;for(et.nodeType===9&&(et=et.firstChild);et.nodeName.toLowerCase()!=="svg"||et.nodeType!==1;)et=et.nextSibling;return et}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function $(){this._defs={},this._root=null}return $.prototype.parse=function(_e,et){et=et||{};var tt=parseXML(_e);this._defsUsePending=[];var nt=new Group$4;this._root=nt;var at=[],ot=tt.getAttribute("viewBox")||"",it=parseFloat(tt.getAttribute("width")||et.width),st=parseFloat(tt.getAttribute("height")||et.height);isNaN(it)&&(it=null),isNaN(st)&&(st=null),parseAttributes(tt,nt,null,!0,!1);for(var ut=tt.firstChild;ut;)this._parseNode(ut,nt,at,null,!1,!1),ut=ut.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var ft,dt;if(ot){var vt=splitNumberSequence(ot);vt.length>=4&&(ft={x:parseFloat(vt[0]||0),y:parseFloat(vt[1]||0),width:parseFloat(vt[2]),height:parseFloat(vt[3])})}if(ft&&it!=null&&st!=null&&(dt=makeViewBoxTransform(ft,{x:0,y:0,width:it,height:st}),!et.ignoreViewBox)){var gt=nt;nt=new Group$4,nt.add(gt),gt.scaleX=gt.scaleY=dt.scale,gt.x=dt.x,gt.y=dt.y}return!et.ignoreRootClip&&it!=null&&st!=null&&nt.setClipPath(new Rect$3({shape:{x:0,y:0,width:it,height:st}})),{root:nt,width:it,height:st,viewBoxRect:ft,viewBoxTransform:dt,named:at}},$.prototype._parseNode=function(_e,et,tt,nt,at,ot){var it=_e.nodeName.toLowerCase(),st,ut=nt;if(it==="defs"&&(at=!0),it==="text"&&(ot=!0),it==="defs"||it==="switch")st=et;else{if(!at){var ft=nodeParsers[it];if(ft&&hasOwn(nodeParsers,it)){st=ft.call(this,_e,et);var dt=_e.getAttribute("name");if(dt){var vt={name:dt,namedFrom:null,svgNodeTagLower:it,el:st};tt.push(vt),it==="g"&&(ut=vt)}else nt&&tt.push({name:nt.name,namedFrom:nt,svgNodeTagLower:it,el:st});et.add(st)}}var gt=paintServerParsers[it];if(gt&&hasOwn(paintServerParsers,it)){var yt=gt.call(this,_e),xt=_e.getAttribute("id");xt&&(this._defs[xt]=yt)}}if(st&&st.isGroup)for(var Ct=_e.firstChild;Ct;)Ct.nodeType===1?this._parseNode(Ct,st,tt,ut,at,ot):Ct.nodeType===3&&ot&&this._parseText(Ct,st),Ct=Ct.nextSibling},$.prototype._parseText=function(_e,et){var tt=new TSpan$1({style:{text:_e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),applyTextAlignment(tt,et);var nt=tt.style,at=nt.fontSize;at&&at<9&&(nt.fontSize=9,tt.scaleX*=at/9,tt.scaleY*=at/9);var ot=(nt.fontSize||nt.fontFamily)&&[nt.fontStyle,nt.fontWeight,(nt.fontSize||12)+"px",nt.fontFamily||"sans-serif"].join(" ");nt.font=ot;var it=tt.getBoundingRect();return this._textX+=it.width,et.add(tt),tt},$.internalField=function(){nodeParsers={g:function(_e,et){var tt=new Group$4;return inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),tt},rect:function(_e,et){var tt=new Rect$3;return inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),tt.setShape({x:parseFloat(_e.getAttribute("x")||"0"),y:parseFloat(_e.getAttribute("y")||"0"),width:parseFloat(_e.getAttribute("width")||"0"),height:parseFloat(_e.getAttribute("height")||"0")}),tt.silent=!0,tt},circle:function(_e,et){var tt=new Circle$1;return inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),tt.setShape({cx:parseFloat(_e.getAttribute("cx")||"0"),cy:parseFloat(_e.getAttribute("cy")||"0"),r:parseFloat(_e.getAttribute("r")||"0")}),tt.silent=!0,tt},line:function(_e,et){var tt=new Line$3;return inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),tt.setShape({x1:parseFloat(_e.getAttribute("x1")||"0"),y1:parseFloat(_e.getAttribute("y1")||"0"),x2:parseFloat(_e.getAttribute("x2")||"0"),y2:parseFloat(_e.getAttribute("y2")||"0")}),tt.silent=!0,tt},ellipse:function(_e,et){var tt=new Ellipse$1;return inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),tt.setShape({cx:parseFloat(_e.getAttribute("cx")||"0"),cy:parseFloat(_e.getAttribute("cy")||"0"),rx:parseFloat(_e.getAttribute("rx")||"0"),ry:parseFloat(_e.getAttribute("ry")||"0")}),tt.silent=!0,tt},polygon:function(_e,et){var tt=_e.getAttribute("points"),nt;tt&&(nt=parsePoints(tt));var at=new Polygon$1({shape:{points:nt||[]},silent:!0});return inheritStyle(et,at),parseAttributes(_e,at,this._defsUsePending,!1,!1),at},polyline:function(_e,et){var tt=_e.getAttribute("points"),nt;tt&&(nt=parsePoints(tt));var at=new Polyline$3({shape:{points:nt||[]},silent:!0});return inheritStyle(et,at),parseAttributes(_e,at,this._defsUsePending,!1,!1),at},image:function(_e,et){var tt=new ZRImage$1;return inheritStyle(et,tt),parseAttributes(_e,tt,this._defsUsePending,!1,!1),tt.setStyle({image:_e.getAttribute("xlink:href")||_e.getAttribute("href"),x:+_e.getAttribute("x"),y:+_e.getAttribute("y"),width:+_e.getAttribute("width"),height:+_e.getAttribute("height")}),tt.silent=!0,tt},text:function(_e,et){var tt=_e.getAttribute("x")||"0",nt=_e.getAttribute("y")||"0",at=_e.getAttribute("dx")||"0",ot=_e.getAttribute("dy")||"0";this._textX=parseFloat(tt)+parseFloat(at),this._textY=parseFloat(nt)+parseFloat(ot);var it=new Group$4;return inheritStyle(et,it),parseAttributes(_e,it,this._defsUsePending,!1,!0),it},tspan:function(_e,et){var tt=_e.getAttribute("x"),nt=_e.getAttribute("y");tt!=null&&(this._textX=parseFloat(tt)),nt!=null&&(this._textY=parseFloat(nt));var at=_e.getAttribute("dx")||"0",ot=_e.getAttribute("dy")||"0",it=new Group$4;return inheritStyle(et,it),parseAttributes(_e,it,this._defsUsePending,!1,!0),this._textX+=parseFloat(at),this._textY+=parseFloat(ot),it},path:function(_e,et){var tt=_e.getAttribute("d")||"",nt=createFromString(tt);return inheritStyle(et,nt),parseAttributes(_e,nt,this._defsUsePending,!1,!1),nt.silent=!0,nt}}}(),$}(),paintServerParsers={lineargradient:function($){var _e=parseInt($.getAttribute("x1")||"0",10),et=parseInt($.getAttribute("y1")||"0",10),tt=parseInt($.getAttribute("x2")||"10",10),nt=parseInt($.getAttribute("y2")||"0",10),at=new LinearGradient$1(_e,et,tt,nt);return parsePaintServerUnit($,at),parseGradientColorStops($,at),at},radialgradient:function($){var _e=parseInt($.getAttribute("cx")||"0",10),et=parseInt($.getAttribute("cy")||"0",10),tt=parseInt($.getAttribute("r")||"0",10),nt=new RadialGradient$1(_e,et,tt);return parsePaintServerUnit($,nt),parseGradientColorStops($,nt),nt}};function parsePaintServerUnit($,_e){var et=$.getAttribute("gradientUnits");et==="userSpaceOnUse"&&(_e.global=!0)}function parseGradientColorStops($,_e){for(var et=$.firstChild;et;){if(et.nodeType===1&&et.nodeName.toLocaleLowerCase()==="stop"){var tt=et.getAttribute("offset"),nt=void 0;tt&&tt.indexOf("%")>0?nt=parseInt(tt,10)/100:tt?nt=parseFloat(tt):nt=0;var at={};parseInlineStyle(et,at,at);var ot=at.stopColor||et.getAttribute("stop-color")||"#000000";_e.colorStops.push({offset:nt,color:ot})}et=et.nextSibling}}function inheritStyle($,_e){$&&$.__inheritedStyle&&(_e.__inheritedStyle||(_e.__inheritedStyle={}),defaults(_e.__inheritedStyle,$.__inheritedStyle))}function parsePoints($){for(var _e=splitNumberSequence($),et=[],tt=0;tt<_e.length;tt+=2){var nt=parseFloat(_e[tt]),at=parseFloat(_e[tt+1]);et.push([nt,at])}return et}function parseAttributes($,_e,et,tt,nt){var at=_e,ot=at.__inheritedStyle=at.__inheritedStyle||{},it={};$.nodeType===1&&(parseTransformAttribute($,_e),parseInlineStyle($,ot,it),tt||parseAttributeStyle($,ot,it)),at.style=at.style||{},ot.fill!=null&&(at.style.fill=getFillStrokeStyle(at,"fill",ot.fill,et)),ot.stroke!=null&&(at.style.stroke=getFillStrokeStyle(at,"stroke",ot.stroke,et)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(st){ot[st]!=null&&(at.style[st]=parseFloat(ot[st]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(st){ot[st]!=null&&(at.style[st]=ot[st])}),nt&&(at.__selfStyle=it),ot.lineDash&&(at.style.lineDash=map$1(splitNumberSequence(ot.lineDash),function(st){return parseFloat(st)})),(ot.visibility==="hidden"||ot.visibility==="collapse")&&(at.invisible=!0),ot.display==="none"&&(at.ignore=!0)}function applyTextAlignment($,_e){var et=_e.__selfStyle;if(et){var tt=et.textBaseline,nt=tt;!tt||tt==="auto"||tt==="baseline"?nt="alphabetic":tt==="before-edge"||tt==="text-before-edge"?nt="top":tt==="after-edge"||tt==="text-after-edge"?nt="bottom":(tt==="central"||tt==="mathematical")&&(nt="middle"),$.style.textBaseline=nt}var at=_e.__inheritedStyle;if(at){var ot=at.textAlign,it=ot;ot&&(ot==="middle"&&(it="center"),$.style.textAlign=it)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle($,_e,et,tt){var nt=et&&et.match(urlRegex);if(nt){var at=trim$1(nt[1]);tt.push([$,_e,at]);return}return et==="none"&&(et=null),et}function applyDefs($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt[0].style[tt[1]]=$[tt[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence($){return $.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute($,_e){var et=$.getAttribute("transform");if(et){et=et.replace(/,/g," ");var tt=[],nt=null;et.replace(transformRegex,function(dt,vt,gt){return tt.push(vt,gt),""});for(var at=tt.length-1;at>0;at-=2){var ot=tt[at],it=tt[at-1],st=splitNumberSequence(ot);switch(nt=nt||create$1(),it){case"translate":translate(nt,nt,[parseFloat(st[0]),parseFloat(st[1]||"0")]);break;case"scale":scale$1(nt,nt,[parseFloat(st[0]),parseFloat(st[1]||st[0])]);break;case"rotate":rotate(nt,nt,-parseFloat(st[0])*DEGREE_TO_ANGLE);break;case"skewX":var ut=Math.tan(parseFloat(st[0])*DEGREE_TO_ANGLE);mul(nt,[1,0,ut,1,0,0],nt);break;case"skewY":var ft=Math.tan(parseFloat(st[0])*DEGREE_TO_ANGLE);mul(nt,[1,ft,0,1,0,0],nt);break;case"matrix":nt[0]=parseFloat(st[0]),nt[1]=parseFloat(st[1]),nt[2]=parseFloat(st[2]),nt[3]=parseFloat(st[3]),nt[4]=parseFloat(st[4]),nt[5]=parseFloat(st[5]);break}}_e.setLocalTransform(nt)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle($,_e,et){var tt=$.getAttribute("style");if(!!tt){styleRegex.lastIndex=0;for(var nt;(nt=styleRegex.exec(tt))!=null;){var at=nt[1],ot=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,at)?INHERITABLE_STYLE_ATTRIBUTES_MAP[at]:null;ot&&(_e[ot]=nt[2]);var it=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,at)?SELF_STYLE_ATTRIBUTES_MAP[at]:null;it&&(et[it]=nt[2])}}}function parseAttributeStyle($,_e,et){for(var tt=0;tt<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;tt++){var nt=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[tt],at=$.getAttribute(nt);at!=null&&(_e[INHERITABLE_STYLE_ATTRIBUTES_MAP[nt]]=at)}for(var tt=0;tt<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;tt++){var nt=SELF_STYLE_ATTRIBUTES_MAP_KEYS[tt],at=$.getAttribute(nt);at!=null&&(et[SELF_STYLE_ATTRIBUTES_MAP[nt]]=at)}}function makeViewBoxTransform($,_e){var et=_e.width/$.width,tt=_e.height/$.height,nt=Math.min(et,tt);return{scale:nt,x:-($.x+$.width/2)*nt+(_e.x+_e.width/2),y:-($.y+$.height/2)*nt+(_e.y+_e.height/2)}}function parseSVG($,_e){var et=new SVGParser;return et.parse($,_e)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function $(_e,et){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=_e,this._parsedXML=parseXML(et)}return $.prototype.load=function(){var _e=this._firstGraphic;if(!_e){_e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(_e),this._boundingRect=this._firstGraphic.boundingRect.clone();var et=createRegions(_e.named),tt=et.regions,nt=et.regionsMap;this._regions=tt,this._regionsMap=nt}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},$.prototype._buildGraphic=function(_e){var et,tt;try{et=_e&&parseSVG(_e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},tt=et.root,assert(tt!=null)}catch(Ct){throw new Error(`Invalid svg format
`+Ct.message)}var nt=new Group$4;nt.add(tt),nt.isGeoSVGGraphicRoot=!0;var at=et.width,ot=et.height,it=et.viewBoxRect,st=this._boundingRect;if(!st){var ut=void 0,ft=void 0,dt=void 0,vt=void 0;if(at!=null?(ut=0,dt=at):it&&(ut=it.x,dt=it.width),ot!=null?(ft=0,vt=ot):it&&(ft=it.y,vt=it.height),ut==null||ft==null){var gt=tt.getBoundingRect();ut==null&&(ut=gt.x,dt=gt.width),ft==null&&(ft=gt.y,vt=gt.height)}st=this._boundingRect=new BoundingRect$1(ut,ft,dt,vt)}if(it){var yt=makeViewBoxTransform(it,st);tt.scaleX=tt.scaleY=yt.scale,tt.x=yt.x,tt.y=yt.y}nt.setClipPath(new Rect$3({shape:st.plain()}));var xt=[];return each$f(et.named,function(Ct){REGION_AVAILABLE_SVG_TAG_MAP.get(Ct.svgNodeTagLower)!=null&&(xt.push(Ct),setSilent(Ct.el))}),{root:nt,boundingRect:st,named:xt}},$.prototype.useGraphic=function(_e){var et=this._usedGraphicMap,tt=et.get(_e);return tt||(tt=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),et.set(_e,tt),tt)},$.prototype.freeGraphic=function(_e){var et=this._usedGraphicMap,tt=et.get(_e);tt&&(et.removeKey(_e),this._freedGraphics.push(tt))},$}();function setSilent($){$.silent=!1,$.isGroup&&$.traverse(function(_e){_e.silent=!1})}function createRegions($){var _e=[],et=createHashMap();return each$f($,function(tt){if(tt.namedFrom==null){var nt=new GeoSVGRegion(tt.name,tt.el);_e.push(nt),et.set(tt.name,nt)}}),{regions:_e,regionsMap:et}}var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai($,_e){if($==="china"){for(var et=0;et<_e.length;et++)if(_e[et].name===nanhaiName)return;_e.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(tt){return{type:"polygon",exterior:tt}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords($,_e){if($==="china"){var et=coordsOffsetMap[_e.name];if(et){var tt=_e.getCenter();tt[0]+=et[0]/10.5,tt[1]+=-et[1]/(10.5/.75),_e.setCenter(tt)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland($,_e){$==="china"&&_e.name==="\u53F0\u6E7E"&&_e.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function $(_e,et,tt){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=_e,this._specialAreas=tt,this._geoJSON=parseInput(et)}return $.prototype.load=function(_e,et){et=et||DEFAULT_NAME_PROPERTY;var tt=this._parsedMap.get(et);if(!tt){var nt=this._parseToRegions(et);tt=this._parsedMap.set(et,{regions:nt,boundingRect:calculateBoundingRect(nt)})}var at=createHashMap(),ot=[];return each$f(tt.regions,function(it){var st=it.name;_e&&hasOwn(_e,st)&&(it=it.cloneShallow(st=_e[st])),ot.push(it),at.set(st,it)}),{regions:ot,boundingRect:tt.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:at}},$.prototype._parseToRegions=function(_e){var et=this._mapName,tt=this._geoJSON,nt;try{nt=tt?parseGeoJSON(tt,_e):[]}catch(at){throw new Error(`Invalid geoJson format
`+at.message)}return fixNanhai(et,nt),each$f(nt,function(at){var ot=at.name;fixTextCoords(et,at),fixDiaoyuIsland(et,at);var it=this._specialAreas&&this._specialAreas[ot];it&&at.transformTo(it.left,it.top,it.width,it.height)},this),nt},$.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},$}();function calculateBoundingRect($){for(var _e,et=0;et<$.length;et++){var tt=$[et].getBoundingRect();_e=_e||tt.clone(),_e.union(tt)}return _e}function parseInput($){return isString($)?typeof JSON!="undefined"&&JSON.parse?JSON.parse($):new Function("return ("+$+");")():$}var storage=createHashMap(),geoSourceManager={registerMap:function($,_e,et){if(_e.svg){var tt=new GeoSVGResource($,_e.svg);storage.set($,tt)}else{var nt=_e.geoJson||_e.geoJSON;nt&&!_e.features?et=_e.specialAreas:nt=_e;var tt=new GeoJSONResource($,nt,et);storage.set($,tt)}},getGeoResource:function($){return storage.get($)},getMapForUser:function($){var _e=storage.get($);return _e&&_e.type==="geoJSON"&&_e.getMapForUser()},load:function($,_e,et){var tt=storage.get($);if(!!tt)return tt.load(_e,et)}},OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle($){var _e=$.getItemStyle(),et=$.get("areaColor");return et!=null&&(_e.fill=et),_e}function fixLineStyle($){var _e=$.style;_e&&(_e.stroke=_e.stroke||_e.fill,_e.fill=null)}var MapDraw=function(){function $(_e){var et=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(_e.getZr()),this._controllerHost={target:et},this.group=et,et.add(this._regionsGroup=new Group$4),et.add(this._svgGroup=new Group$4)}return $.prototype.draw=function(_e,et,tt,nt,at){var ot=_e.mainType==="geo",it=_e.getData&&_e.getData();ot&&et.eachComponent({mainType:"series",subType:"map"},function(wt){!it&&wt.getHostGeoModel()===_e&&(it=wt.getData())});var st=_e.coordinateSystem,ut=this._regionsGroup,ft=this.group,dt=st.getTransformInfo(),vt=dt.raw,gt=dt.roam,yt=!ut.childAt(0)||at;yt?(ft.x=gt.x,ft.y=gt.y,ft.scaleX=gt.scaleX,ft.scaleY=gt.scaleY,ft.dirty()):updateProps$1(ft,gt,_e);var xt=it&&it.getVisual("visualMeta")&&it.getVisual("visualMeta").length>0,Ct={api:tt,geo:st,mapOrGeoModel:_e,data:it,isVisualEncodedByVisualMap:xt,isGeo:ot,transformInfoRaw:vt};st.resourceType==="geoJSON"?this._buildGeoJSON(Ct):st.resourceType==="geoSVG"&&this._buildSVG(Ct),this._updateController(_e,et,tt),this._updateMapSelectHandler(_e,ut,tt,nt)},$.prototype._buildGeoJSON=function(_e){var et=this._regionsGroupByName=createHashMap(),tt=createHashMap(),nt=this._regionsGroup,at=_e.transformInfoRaw,ot=_e.mapOrGeoModel,it=_e.data,st=_e.geo.projection,ut=st&&st.stream;function ft(gt,yt){return yt&&(gt=yt(gt)),gt&&[gt[0]*at.scaleX+at.x,gt[1]*at.scaleY+at.y]}function dt(gt){for(var yt=[],xt=!ut&&st&&st.project,Ct=0;Ct<gt.length;++Ct){var wt=ft(gt[Ct],xt);wt&&yt.push(wt)}return yt}function vt(gt){return{shape:{points:dt(gt)}}}nt.removeAll(),each$f(_e.geo.regions,function(gt){var yt=gt.name,xt=et.get(yt),Ct=tt.get(yt)||{},wt=Ct.dataIdx,Et=Ct.regionModel;xt||(xt=et.set(yt,new Group$4),nt.add(xt),wt=it?it.indexOfName(yt):null,Et=_e.isGeo?ot.getRegionModel(yt):it?it.getItemModel(wt):null,tt.set(yt,{dataIdx:wt,regionModel:Et}));var $t=[],It=[];each$f(gt.geometries,function(Ft){if(Ft.type==="polygon"){var zt=[Ft.exterior].concat(Ft.interiors||[]);ut&&(zt=projectPolys(zt,ut)),each$f(zt,function(jt){$t.push(new Polygon$1(vt(jt)))})}else{var Gt=Ft.points;ut&&(Gt=projectPolys(Gt,ut,!0)),each$f(Gt,function(jt){It.push(new Polyline$3(vt(jt)))})}});var Ot=ft(gt.getCenter(),st&&st.project);function Lt(Ft,zt){if(!!Ft.length){var Gt=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Ft}});xt.add(Gt),applyOptionStyleForRegion(_e,Gt,wt,Et),resetLabelForRegion(_e,Gt,yt,Et,ot,wt,Ot),zt&&(fixLineStyle(Gt),each$f(Gt.states,fixLineStyle))}}Lt($t),Lt(It,!0)}),et.each(function(gt,yt){var xt=tt.get(yt),Ct=xt.dataIdx,wt=xt.regionModel;resetEventTriggerForRegion(_e,gt,yt,wt,ot,Ct),resetTooltipForRegion(_e,gt,yt,wt,ot),resetStateTriggerForRegion(_e,gt,yt,wt,ot)},this)},$.prototype._buildSVG=function(_e){var et=_e.geo.map,tt=_e.transformInfoRaw;this._svgGroup.x=tt.x,this._svgGroup.y=tt.y,this._svgGroup.scaleX=tt.scaleX,this._svgGroup.scaleY=tt.scaleY,this._svgResourceChanged(et)&&(this._freeSVG(),this._useSVG(et));var nt=this._svgDispatcherMap=createHashMap(),at=!1;each$f(this._svgGraphicRecord.named,function(ot){var it=ot.name,st=_e.mapOrGeoModel,ut=_e.data,ft=ot.svgNodeTagLower,dt=ot.el,vt=ut?ut.indexOfName(it):null,gt=st.getRegionModel(it);if(OPTION_STYLE_ENABLED_TAG_MAP.get(ft)!=null&&dt instanceof Displayable$1&&applyOptionStyleForRegion(_e,dt,vt,gt),dt instanceof Displayable$1&&(dt.culling=!0),dt.z2EmphasisLift=0,!ot.namedFrom&&(LABEL_HOST_MAP.get(ft)!=null&&resetLabelForRegion(_e,dt,it,gt,st,vt,null),resetEventTriggerForRegion(_e,dt,it,gt,st,vt),resetTooltipForRegion(_e,dt,it,gt,st),STATE_TRIGGER_TAG_MAP.get(ft)!=null)){var yt=resetStateTriggerForRegion(_e,dt,it,gt,st);yt==="self"&&(at=!0);var xt=nt.get(it)||nt.set(it,[]);xt.push(dt)}},this),this._enableBlurEntireSVG(at,_e)},$.prototype._enableBlurEntireSVG=function(_e,et){if(_e&&et.isGeo){var tt=et.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),nt=tt.opacity;this._svgGraphicRecord.root.traverse(function(at){if(!at.isGroup){setDefaultStateProxy(at);var ot=at.ensureState("blur").style||{};ot.opacity==null&&nt!=null&&(ot.opacity=nt),at.ensureState("emphasis")}})}},$.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},$.prototype.findHighDownDispatchers=function(_e,et){if(_e==null)return[];var tt=et.coordinateSystem;if(tt.resourceType==="geoJSON"){var nt=this._regionsGroupByName;if(nt){var at=nt.get(_e);return at?[at]:[]}}else if(tt.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(_e)||[]},$.prototype._svgResourceChanged=function(_e){return this._svgMapName!==_e},$.prototype._useSVG=function(_e){var et=geoSourceManager.getGeoResource(_e);if(et&&et.type==="geoSVG"){var tt=et.useGraphic(this.uid);this._svgGroup.add(tt.root),this._svgGraphicRecord=tt,this._svgMapName=_e}},$.prototype._freeSVG=function(){var _e=this._svgMapName;if(_e!=null){var et=geoSourceManager.getGeoResource(_e);et&&et.type==="geoSVG"&&et.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},$.prototype._updateController=function(_e,et,tt){var nt=_e.coordinateSystem,at=this._controller,ot=this._controllerHost;ot.zoomLimit=_e.get("scaleLimit"),ot.zoom=nt.getZoom(),at.enable(_e.get("roam")||!1);var it=_e.mainType;function st(){var ut={type:"geoRoam",componentType:it};return ut[it+"Id"]=_e.id,ut}at.off("pan").on("pan",function(ut){this._mouseDownFlag=!1,updateViewOnPan(ot,ut.dx,ut.dy),tt.dispatchAction(extend(st(),{dx:ut.dx,dy:ut.dy,animation:{duration:0}}))},this),at.off("zoom").on("zoom",function(ut){this._mouseDownFlag=!1,updateViewOnZoom(ot,ut.scale,ut.originX,ut.originY),tt.dispatchAction(extend(st(),{zoom:ut.scale,originX:ut.originX,originY:ut.originY,animation:{duration:0}}))},this),at.setPointerChecker(function(ut,ft,dt){return nt.containPoint([ft,dt])&&!onIrrelevantElement(ut,tt,_e)})},$.prototype.resetForLabelLayout=function(){this.group.traverse(function(_e){var et=_e.getTextContent();et&&(et.ignore=mapLabelRaw(et).ignore)})},$.prototype._updateMapSelectHandler=function(_e,et,tt,nt){var at=this;et.off("mousedown"),et.off("click"),_e.get("selectedMode")&&(et.on("mousedown",function(){at._mouseDownFlag=!0}),et.on("click",function(ot){!at._mouseDownFlag||(at._mouseDownFlag=!1)}))},$}();function applyOptionStyleForRegion($,_e,et,tt){var nt=tt.getModel("itemStyle"),at=tt.getModel(["emphasis","itemStyle"]),ot=tt.getModel(["blur","itemStyle"]),it=tt.getModel(["select","itemStyle"]),st=getFixedItemStyle(nt),ut=getFixedItemStyle(at),ft=getFixedItemStyle(it),dt=getFixedItemStyle(ot),vt=$.data;if(vt){var gt=vt.getItemVisual(et,"style"),yt=vt.getItemVisual(et,"decal");$.isVisualEncodedByVisualMap&&gt.fill&&(st.fill=gt.fill),yt&&(st.decal=createOrUpdatePatternFromDecal(yt,$.api))}_e.setStyle(st),_e.style.strokeNoScale=!0,_e.ensureState("emphasis").style=ut,_e.ensureState("select").style=ft,_e.ensureState("blur").style=dt,setDefaultStateProxy(_e)}function resetLabelForRegion($,_e,et,tt,nt,at,ot){var it=$.data,st=$.isGeo,ut=it&&isNaN(it.get(it.mapDimension("value"),at)),ft=it&&it.getItemLayout(at);if(st||ut||ft&&ft.showLabel){var dt=st?et:at,vt=void 0;(!it||at>=0)&&(vt=nt);var gt=ot?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(_e,getLabelStatesModels(tt),{labelFetcher:vt,labelDataIndex:dt,defaultText:et},gt);var yt=_e.getTextContent();if(yt&&(mapLabelRaw(yt).ignore=yt.ignore,_e.textConfig&&ot)){var xt=_e.getBoundingRect().clone();_e.textConfig.layoutRect=xt,_e.textConfig.position=[(ot[0]-xt.x)/xt.width*100+"%",(ot[1]-xt.y)/xt.height*100+"%"]}_e.disableLabelAnimation=!0}else _e.removeTextContent(),_e.removeTextConfig(),_e.disableLabelAnimation=null}function resetEventTriggerForRegion($,_e,et,tt,nt,at){$.data?$.data.setItemGraphicEl(at,_e):getECData(_e).eventData={componentType:"geo",componentIndex:nt.componentIndex,geoIndex:nt.componentIndex,name:et,region:tt&&tt.option||{}}}function resetTooltipForRegion($,_e,et,tt,nt){$.data||setTooltipConfig({el:_e,componentModel:nt,itemName:et,itemTooltipOption:tt.get("tooltip")})}function resetStateTriggerForRegion($,_e,et,tt,nt){_e.highDownSilentOnTouch=!!nt.get("selectedMode");var at=tt.getModel("emphasis"),ot=at.get("focus");return toggleHoverEmphasis(_e,ot,at.get("blurScope"),at.get("disabled")),$.isGeo&&enableComponentHighDownFeatures(_e,nt,et),ot}function projectPolys($,_e,et){var tt=[],nt;function at(){nt=[]}function ot(){nt.length&&(tt.push(nt),nt=[])}var it=_e({polygonStart:at,polygonEnd:ot,lineStart:at,lineEnd:ot,point:function(st,ut){isFinite(st)&&isFinite(ut)&&nt.push([st,ut])},sphere:function(){}});return!et&&it.polygonStart(),each$f($,function(st){it.lineStart();for(var ut=0;ut<st.length;ut++)it.point(st[ut][0],st[ut][1]);it.lineEnd()}),!et&&it.polygonEnd(),tt}var MapDraw$1=MapDraw,MapView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt,at){if(!(at&&at.type==="mapToggleSelect"&&at.from===this.uid)){var ot=this.group;if(ot.removeAll(),!et.getHostGeoModel()){if(this._mapDraw&&at&&at.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),at&&at.type==="geoRoam"&&at.componentType==="series"&&at.seriesId===et.id){var it=this._mapDraw;it&&ot.add(it.group)}else if(et.needsDrawMap){var it=this._mapDraw||new MapDraw$1(nt);ot.add(it.group),it.draw(et,tt,nt,this,at),this._mapDraw=it}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;et.get("showLegendSymbol")&&tt.getComponent("legend")&&this._renderSymbols(et,tt,nt)}}},_e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_e.prototype._renderSymbols=function(et,tt,nt){var at=et.originalData,ot=this.group;at.each(at.mapDimension("value"),function(it,st){if(!isNaN(it)){var ut=at.getItemLayout(st);if(!(!ut||!ut.point)){var ft=ut.point,dt=ut.offset,vt=new Circle$1({style:{fill:et.getData().getVisual("style").fill},shape:{cx:ft[0]+dt*9,cy:ft[1],r:3},silent:!0,z2:8+(dt?0:Z2_EMPHASIS_LIFT+1)});if(!dt){var gt=et.mainSeries.getData(),yt=at.getName(st),xt=gt.indexOfName(yt),Ct=at.getItemModel(st),wt=Ct.getModel("label"),Et=gt.getItemGraphicEl(xt);setLabelStyle(vt,getLabelStatesModels(Ct),{labelFetcher:{getFormattedLabel:function($t,It){return et.getFormattedLabel(xt,It)}},defaultText:yt}),vt.disableLabelAnimation=!0,wt.get("position")||vt.setTextConfig({position:"bottom"}),Et.onHoverStateChange=function($t){setStatesFlag(vt,$t)}}ot.add(vt)}}})},_e.type="map",_e}(ChartView$1),MapView$1=MapView,MapSeries=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.needsDrawMap=!1,et.seriesGroup=[],et.getTooltipPosition=function(tt){if(tt!=null){var nt=this.getData().getName(tt),at=this.coordinateSystem,ot=at.getRegion(nt);return ot&&at.dataToPoint(ot.getCenter())}},et}return _e.prototype.getInitialData=function(et){for(var tt=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),nt=createHashMap(),at=[],ot=0,it=tt.count();ot<it;ot++){var st=tt.getName(ot);nt.set(st,!0)}var ut=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(ut.regions,function(ft){var dt=ft.name;nt.get(dt)||at.push(dt)}),tt.appendValues([],at),tt},_e.prototype.getHostGeoModel=function(){var et=this.option.geoIndex;return et!=null?this.ecModel.getComponent("geo",et):null},_e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},_e.prototype.getRawValue=function(et){var tt=this.getData();return tt.get(tt.mapDimension("value"),et)},_e.prototype.getRegionModel=function(et){var tt=this.getData();return tt.getItemModel(tt.indexOfName(et))},_e.prototype.formatTooltip=function(et,tt,nt){for(var at=this.getData(),ot=this.getRawValue(et),it=at.getName(et),st=this.seriesGroup,ut=[],ft=0;ft<st.length;ft++){var dt=st[ft].originalData.indexOfName(it),vt=at.mapDimension("value");isNaN(st[ft].originalData.get(vt,dt))||ut.push(st[ft].name)}return createTooltipMarkup("section",{header:ut.join(", "),noHeader:!ut.length,blocks:[createTooltipMarkup("nameValue",{name:it,value:ot})]})},_e.prototype.setZoom=function(et){this.option.zoom=et},_e.prototype.setCenter=function(et){this.option.center=et},_e.prototype.getLegendIcon=function(et){var tt=et.icon||"roundRect",nt=createSymbol$1(tt,0,0,et.itemWidth,et.itemHeight,et.itemStyle.fill);return nt.setStyle(et.itemStyle),nt.style.stroke="none",tt.indexOf("empty")>-1&&(nt.style.stroke=nt.style.fill,nt.style.fill="#fff",nt.style.lineWidth=2),nt},_e.type="series.map",_e.dependencies=["geo"],_e.layoutMode="box",_e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},_e}(SeriesModel$1),MapSeries$1=MapSeries;function dataStatistics($,_e){var et={};return each$f($,function(tt){tt.each(tt.mapDimension("value"),function(nt,at){var ot="ec-"+tt.getName(at);et[ot]=et[ot]||[],isNaN(nt)||et[ot].push(nt)})}),$[0].map($[0].mapDimension("value"),function(tt,nt){for(var at="ec-"+$[0].getName(nt),ot=0,it=1/0,st=-1/0,ut=et[at].length,ft=0;ft<ut;ft++)it=Math.min(it,et[at][ft]),st=Math.max(st,et[at][ft]),ot+=et[at][ft];var dt;return _e==="min"?dt=it:_e==="max"?dt=st:_e==="average"?dt=ot/ut:dt=ot,ut===0?NaN:dt})}function mapDataStatistic($){var _e={};$.eachSeriesByType("map",function(et){var tt=et.getHostGeoModel(),nt=tt?"o"+tt.id:"i"+et.getMapType();(_e[nt]=_e[nt]||[]).push(et)}),each$f(_e,function(et,tt){for(var nt=dataStatistics(map$1(et,function(ot){return ot.getData()}),et[0].get("mapValueCalculation")),at=0;at<et.length;at++)et[at].originalData=et[at].getData();for(var at=0;at<et.length;at++)et[at].seriesGroup=et,et[at].needsDrawMap=at===0&&!et[at].getHostGeoModel(),et[at].setData(nt.cloneShallow()),et[at].mainSeries=et[0]})}function mapSymbolLayout($){var _e={};$.eachSeriesByType("map",function(et){var tt=et.getMapType();if(!(et.getHostGeoModel()||_e[tt])){var nt={};each$f(et.seriesGroup,function(ot){var it=ot.coordinateSystem,st=ot.originalData;ot.get("showLegendSymbol")&&$.getComponent("legend")&&st.each(st.mapDimension("value"),function(ut,ft){var dt=st.getName(ft),vt=it.getRegion(dt);if(!(!vt||isNaN(ut))){var gt=nt[dt]||0,yt=it.dataToPoint(vt.getCenter());nt[dt]=gt+1,st.setItemLayout(ft,{point:yt,offset:gt})}})});var at=et.getData();at.each(function(ot){var it=at.getName(ot),st=at.getItemLayout(ot)||{};st.showLabel=!nt[it],at.setItemLayout(ot,st)}),_e[tt]=!0}})}var v2ApplyTransform=applyTransform$1,View=function($){__extends(_e,$);function _e(et){var tt=$.call(this)||this;return tt.type="view",tt.dimensions=["x","y"],tt._roamTransformable=new Transformable$1,tt._rawTransformable=new Transformable$1,tt.name=et,tt}return _e.prototype.setBoundingRect=function(et,tt,nt,at){return this._rect=new BoundingRect$1(et,tt,nt,at),this._rect},_e.prototype.getBoundingRect=function(){return this._rect},_e.prototype.setViewRect=function(et,tt,nt,at){this._transformTo(et,tt,nt,at),this._viewRect=new BoundingRect$1(et,tt,nt,at)},_e.prototype._transformTo=function(et,tt,nt,at){var ot=this.getBoundingRect(),it=this._rawTransformable;it.transform=ot.calculateTransform(new BoundingRect$1(et,tt,nt,at));var st=it.parent;it.parent=null,it.decomposeTransform(),it.parent=st,this._updateTransform()},_e.prototype.setCenter=function(et,tt){!et||(this._center=[parsePercent(et[0],tt.getWidth()),parsePercent(et[1],tt.getHeight())],this._updateCenterAndZoom())},_e.prototype.setZoom=function(et){et=et||1;var tt=this.zoomLimit;tt&&(tt.max!=null&&(et=Math.min(tt.max,et)),tt.min!=null&&(et=Math.max(tt.min,et))),this._zoom=et,this._updateCenterAndZoom()},_e.prototype.getDefaultCenter=function(){var et=this.getBoundingRect(),tt=et.x+et.width/2,nt=et.y+et.height/2;return[tt,nt]},_e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},_e.prototype.getZoom=function(){return this._zoom||1},_e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},_e.prototype._updateCenterAndZoom=function(){var et=this._rawTransformable.getLocalTransform(),tt=this._roamTransformable,nt=this.getDefaultCenter(),at=this.getCenter(),ot=this.getZoom();at=applyTransform$1([],at,et),nt=applyTransform$1([],nt,et),tt.originX=at[0],tt.originY=at[1],tt.x=nt[0]-at[0],tt.y=nt[1]-at[1],tt.scaleX=tt.scaleY=ot,this._updateTransform()},_e.prototype._updateTransform=function(){var et=this._roamTransformable,tt=this._rawTransformable;tt.parent=et,et.updateTransform(),tt.updateTransform(),copy(this.transform||(this.transform=[]),tt.transform||create$1()),this._rawTransform=tt.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},_e.prototype.getTransformInfo=function(){var et=this._rawTransformable,tt=this._roamTransformable,nt=new Transformable$1;return nt.transform=tt.transform,nt.decomposeTransform(),{roam:{x:nt.x,y:nt.y,scaleX:nt.scaleX,scaleY:nt.scaleY},raw:{x:et.x,y:et.y,scaleX:et.scaleX,scaleY:et.scaleY}}},_e.prototype.getViewRect=function(){return this._viewRect},_e.prototype.getViewRectAfterRoam=function(){var et=this.getBoundingRect().clone();return et.applyTransform(this.transform),et},_e.prototype.dataToPoint=function(et,tt,nt){var at=tt?this._rawTransform:this.transform;return nt=nt||[],at?v2ApplyTransform(nt,et,at):copy$1(nt,et)},_e.prototype.pointToData=function(et){var tt=this.invTransform;return tt?v2ApplyTransform([],et,tt):[et[0],et[1]]},_e.prototype.convertToPixel=function(et,tt,nt){var at=getCoordSys$4(tt);return at===this?at.dataToPoint(nt):null},_e.prototype.convertFromPixel=function(et,tt,nt){var at=getCoordSys$4(tt);return at===this?at.pointToData(nt):null},_e.prototype.containPoint=function(et){return this.getViewRectAfterRoam().contain(et[0],et[1])},_e.dimensions=["x","y"],_e}(Transformable$1);function getCoordSys$4($){var _e=$.seriesModel;return _e?_e.coordinateSystem:null}var View$1=View,GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this,et)||this;at.dimensions=geo2DDimensions,at.type="geo",at._nameCoordMap=createHashMap(),at.map=tt;var ot=nt.projection,it=geoSourceManager.load(tt,nt.nameMap,nt.nameProperty),st=geoSourceManager.getGeoResource(tt);at.resourceType=st?st.type:null;var ut=at.regions=it.regions,ft=GEO_DEFAULT_PARAMS[st.type];at._regionsMap=it.regionsMap,at.regions=it.regions,at.projection=ot;var dt;if(ot)for(var vt=0;vt<ut.length;vt++){var gt=ut[vt].getBoundingRect(ot);dt=dt||gt.clone(),dt.union(gt)}else dt=it.boundingRect;return at.setBoundingRect(dt.x,dt.y,dt.width,dt.height),at.aspectScale=ot?1:retrieve2(nt.aspectScale,ft.aspectScale),at._invertLongitute=ot?!1:ft.invertLongitute,at}return _e.prototype._transformTo=function(et,tt,nt,at){var ot=this.getBoundingRect(),it=this._invertLongitute;ot=ot.clone(),it&&(ot.y=-ot.y-ot.height);var st=this._rawTransformable;st.transform=ot.calculateTransform(new BoundingRect$1(et,tt,nt,at));var ut=st.parent;st.parent=null,st.decomposeTransform(),st.parent=ut,it&&(st.scaleY=-st.scaleY),this._updateTransform()},_e.prototype.getRegion=function(et){return this._regionsMap.get(et)},_e.prototype.getRegionByCoord=function(et){for(var tt=this.regions,nt=0;nt<tt.length;nt++){var at=tt[nt];if(at.type==="geoJSON"&&at.contain(et))return tt[nt]}},_e.prototype.addGeoCoord=function(et,tt){this._nameCoordMap.set(et,tt)},_e.prototype.getGeoCoord=function(et){var tt=this._regionsMap.get(et);return this._nameCoordMap.get(et)||tt&&tt.getCenter()},_e.prototype.dataToPoint=function(et,tt,nt){if(isString(et)&&(et=this.getGeoCoord(et)),et){var at=this.projection;return at&&(et=at.project(et)),et&&this.projectedToPoint(et,tt,nt)}},_e.prototype.pointToData=function(et){var tt=this.projection;return tt&&(et=tt.unproject(et)),et&&this.pointToProjected(et)},_e.prototype.pointToProjected=function(et){return $.prototype.pointToData.call(this,et)},_e.prototype.projectedToPoint=function(et,tt,nt){return $.prototype.dataToPoint.call(this,et,tt,nt)},_e.prototype.convertToPixel=function(et,tt,nt){var at=getCoordSys$3(tt);return at===this?at.dataToPoint(nt):null},_e.prototype.convertFromPixel=function(et,tt,nt){var at=getCoordSys$3(tt);return at===this?at.pointToData(nt):null},_e}(View$1);mixin(Geo,View$1);function getCoordSys$3($){var _e=$.geoModel,et=$.seriesModel;return _e?_e.coordinateSystem:et?et.coordinateSystem||(et.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}var Geo$1=Geo;function resizeGeo($,_e){var et=$.get("boundingCoords");if(et!=null){var tt=et[0],nt=et[1];if(isFinite(tt[0])&&isFinite(tt[1])&&isFinite(nt[0])&&isFinite(nt[1])){var at=this.projection;if(at){var ot=tt[0],it=tt[1],st=nt[0],ut=nt[1];tt=[1/0,1/0],nt=[-1/0,-1/0];var ft=function(Lt,Ft,zt,Gt){for(var jt=zt-Lt,Ut=Gt-Ft,Kt=0;Kt<=100;Kt++){var Zt=Kt/100,Qt=at.project([Lt+jt*Zt,Ft+Ut*Zt]);min$1(tt,tt,Qt),max$1(nt,nt,Qt)}};ft(ot,it,st,it),ft(st,it,st,ut),ft(st,ut,ot,ut),ft(ot,ut,st,it)}this.setBoundingRect(tt[0],tt[1],nt[0]-tt[0],nt[1]-tt[1])}}var dt=this.getBoundingRect(),vt=$.get("layoutCenter"),gt=$.get("layoutSize"),yt=_e.getWidth(),xt=_e.getHeight(),Ct=dt.width/dt.height*this.aspectScale,wt=!1,Et,$t;vt&&gt&&(Et=[parsePercent(vt[0],yt),parsePercent(vt[1],xt)],$t=parsePercent(gt,Math.min(yt,xt)),!isNaN(Et[0])&&!isNaN(Et[1])&&!isNaN($t)&&(wt=!0));var It;if(wt)It={},Ct>1?(It.width=$t,It.height=$t/Ct):(It.height=$t,It.width=$t*Ct),It.y=Et[1]-It.height/2,It.x=Et[0]-It.width/2;else{var Ot=$.getBoxLayoutParams();Ot.aspect=Ct,It=getLayoutRect(Ot,{width:yt,height:xt})}this.setViewRect(It.x,It.y,It.width,It.height),this.setCenter($.get("center"),_e),this.setZoom($.get("zoom"))}function setGeoCoords($,_e){each$f(_e.get("geoCoord"),function(et,tt){$.addGeoCoord(tt,et)})}var GeoCreator=function(){function $(){this.dimensions=geo2DDimensions}return $.prototype.create=function(_e,et){var tt=[];function nt(ot){return{nameProperty:ot.get("nameProperty"),aspectScale:ot.get("aspectScale"),projection:ot.get("projection")}}_e.eachComponent("geo",function(ot,it){var st=ot.get("map"),ut=new Geo$1(st+it,st,extend({nameMap:ot.get("nameMap")},nt(ot)));ut.zoomLimit=ot.get("scaleLimit"),tt.push(ut),ot.coordinateSystem=ut,ut.model=ot,ut.resize=resizeGeo,ut.resize(ot,et)}),_e.eachSeries(function(ot){var it=ot.get("coordinateSystem");if(it==="geo"){var st=ot.get("geoIndex")||0;ot.coordinateSystem=tt[st]}});var at={};return _e.eachSeriesByType("map",function(ot){if(!ot.getHostGeoModel()){var it=ot.getMapType();at[it]=at[it]||[],at[it].push(ot)}}),each$f(at,function(ot,it){var st=map$1(ot,function(ft){return ft.get("nameMap")}),ut=new Geo$1(it,it,extend({nameMap:mergeAll(st)},nt(ot[0])));ut.zoomLimit=retrieve.apply(null,map$1(ot,function(ft){return ft.get("scaleLimit")})),tt.push(ut),ut.resize=resizeGeo,ut.resize(ot[0],et),each$f(ot,function(ft){ft.coordinateSystem=ut,setGeoCoords(ut,ft)})}),tt},$.prototype.getFilledRegions=function(_e,et,tt,nt){for(var at=(_e||[]).slice(),ot=createHashMap(),it=0;it<at.length;it++)ot.set(at[it].name,at[it]);var st=geoSourceManager.load(et,tt,nt);return each$f(st.regions,function(ut){var ft=ut.name;!ot.get(ft)&&at.push({name:ft})}),at},$}(),geoCreator=new GeoCreator,geoCreator$1=geoCreator,GeoModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt,nt){var at=geoSourceManager.getGeoResource(et.map);if(at&&at.type==="geoJSON"){var ot=et.itemStyle=et.itemStyle||{};"color"in ot||(ot.color="#eee")}this.mergeDefaultAndTheme(et,nt),defaultEmphasis(et,"label",["show"])},_e.prototype.optionUpdated=function(){var et=this,tt=this.option;tt.regions=geoCreator$1.getFilledRegions(tt.regions,tt.map,tt.nameMap,tt.nameProperty);var nt={};this._optionModelMap=reduce(tt.regions||[],function(at,ot){var it=ot.name;return it&&(at.set(it,new Model$1(ot,et,et.ecModel)),ot.selected&&(nt[it]=!0)),at},createHashMap()),tt.selectedMap||(tt.selectedMap=nt)},_e.prototype.getRegionModel=function(et){return this._optionModelMap.get(et)||new Model$1(null,this,this.ecModel)},_e.prototype.getFormattedLabel=function(et,tt){var nt=this.getRegionModel(et),at=tt==="normal"?nt.get(["label","formatter"]):nt.get(["emphasis","label","formatter"]),ot={name:et};if(isFunction(at))return ot.status=tt,at(ot);if(isString(at))return at.replace("{a}",et!=null?et:"")},_e.prototype.setZoom=function(et){this.option.zoom=et},_e.prototype.setCenter=function(et){this.option.center=et},_e.prototype.select=function(et){var tt=this.option,nt=tt.selectedMode;if(!!nt){nt!=="multiple"&&(tt.selectedMap=null);var at=tt.selectedMap||(tt.selectedMap={});at[et]=!0}},_e.prototype.unSelect=function(et){var tt=this.option.selectedMap;tt&&(tt[et]=!1)},_e.prototype.toggleSelected=function(et){this[this.isSelected(et)?"unSelect":"select"](et)},_e.prototype.isSelected=function(et){var tt=this.option.selectedMap;return!!(tt&&tt[et])},_e.type="geo",_e.layoutMode="box",_e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},_e}(ComponentModel$1),GeoModel$1=GeoModel;function getCenterCoord($,_e){return $.pointToProjected?$.pointToProjected(_e):$.pointToData(_e)}function updateCenterAndZoom($,_e,et,tt){var nt=$.getZoom(),at=$.getCenter(),ot=_e.zoom,it=$.projectedToPoint?$.projectedToPoint(at):$.dataToPoint(at);if(_e.dx!=null&&_e.dy!=null&&(it[0]-=_e.dx,it[1]-=_e.dy,$.setCenter(getCenterCoord($,it),tt)),ot!=null){if(et){var st=et.min||0,ut=et.max||1/0;ot=Math.max(Math.min(nt*ot,ut),st)/nt}$.scaleX*=ot,$.scaleY*=ot;var ft=(_e.originX-$.x)*(ot-1),dt=(_e.originY-$.y)*(ot-1);$.x-=ft,$.y-=dt,$.updateTransform(),$.setCenter(getCenterCoord($,it),tt),$.setZoom(ot*nt)}return{center:$.getCenter(),zoom:$.getZoom()}}var GeoView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.focusBlurEnabled=!0,et}return _e.prototype.init=function(et,tt){this._api=tt},_e.prototype.render=function(et,tt,nt,at){if(this._model=et,!et.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(nt));var ot=this._mapDraw;ot.draw(et,tt,nt,this,at),ot.group.on("click",this._handleRegionClick,this),ot.group.silent=et.get("silent"),this.group.add(ot.group),this.updateSelectStatus(et,tt,nt)},_e.prototype._handleRegionClick=function(et){var tt;findEventDispatcher(et.target,function(nt){return(tt=getECData(nt).eventData)!=null},!0),tt&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:tt.name})},_e.prototype.updateSelectStatus=function(et,tt,nt){var at=this;this._mapDraw.group.traverse(function(ot){var it=getECData(ot).eventData;if(it)return at._model.isSelected(it.name)?nt.enterSelect(ot):nt.leaveSelect(ot),!0})},_e.prototype.findHighDownDispatchers=function(et){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(et,this._model)},_e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},_e.type="geo",_e}(ComponentView$1),GeoView$1=GeoView;function registerMap($,_e,et){geoSourceManager.registerMap($,_e,et)}function install$J($){$.registerCoordinateSystem("geo",geoCreator$1),$.registerComponentModel(GeoModel$1),$.registerComponentView(GeoView$1),$.registerImpl("registerMap",registerMap),$.registerImpl("getMap",function(et){return geoSourceManager.getMapForUser(et)});function _e(et,tt){tt.update="geo:updateSelectStatus",$.registerAction(tt,function(nt,at){var ot={},it=[];return at.eachComponent({mainType:"geo",query:nt},function(st){st[et](nt.name);var ut=st.coordinateSystem;each$f(ut.regions,function(dt){ot[dt.name]=st.isSelected(dt.name)||!1});var ft=[];each$f(ot,function(dt,vt){ot[vt]&&ft.push(vt)}),it.push({geoIndex:st.componentIndex,name:ft})}),{selected:ot,allSelected:it,name:nt.name}})}_e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),_e("select",{type:"geoSelect",event:"geoselected"}),_e("unSelect",{type:"geoUnSelect",event:"geounselected"}),$.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(et,tt,nt){var at=et.componentType||"series";tt.eachComponent({mainType:at,query:et},function(ot){var it=ot.coordinateSystem;if(it.type==="geo"){var st=updateCenterAndZoom(it,et,ot.get("scaleLimit"),nt);ot.setCenter&&ot.setCenter(st.center),ot.setZoom&&ot.setZoom(st.zoom),at==="series"&&each$f(ot.seriesGroup,function(ut){ut.setCenter(st.center),ut.setZoom(st.zoom)})}})})}function install$I($){use(install$J),$.registerChartView(MapView$1),$.registerSeriesModel(MapSeries$1),$.registerLayout(mapSymbolLayout),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",$.registerAction)}function init($){var _e=$;_e.hierNode={defaultAncestor:null,ancestor:_e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var et=[_e],tt,nt;tt=et.pop();)if(nt=tt.children,tt.isExpand&&nt.length)for(var at=nt.length,ot=at-1;ot>=0;ot--){var it=nt[ot];it.hierNode={defaultAncestor:null,ancestor:it,prelim:0,modifier:0,change:0,shift:0,i:ot,thread:null},et.push(it)}}function firstWalk($,_e){var et=$.isExpand?$.children:[],tt=$.parentNode.children,nt=$.hierNode.i?tt[$.hierNode.i-1]:null;if(et.length){executeShifts($);var at=(et[0].hierNode.prelim+et[et.length-1].hierNode.prelim)/2;nt?($.hierNode.prelim=nt.hierNode.prelim+_e($,nt),$.hierNode.modifier=$.hierNode.prelim-at):$.hierNode.prelim=at}else nt&&($.hierNode.prelim=nt.hierNode.prelim+_e($,nt));$.parentNode.hierNode.defaultAncestor=apportion($,nt,$.parentNode.hierNode.defaultAncestor||tt[0],_e)}function secondWalk($){var _e=$.hierNode.prelim+$.parentNode.hierNode.modifier;$.setLayout({x:_e},!0),$.hierNode.modifier+=$.parentNode.hierNode.modifier}function separation($){return arguments.length?$:defaultSeparation}function radialCoordinate($,_e){return $-=Math.PI/2,{x:_e*Math.cos($),y:_e*Math.sin($)}}function getViewRect$4($,_e){return getLayoutRect($.getBoxLayoutParams(),{width:_e.getWidth(),height:_e.getHeight()})}function executeShifts($){for(var _e=$.children,et=_e.length,tt=0,nt=0;--et>=0;){var at=_e[et];at.hierNode.prelim+=tt,at.hierNode.modifier+=tt,nt+=at.hierNode.change,tt+=at.hierNode.shift+nt}}function apportion($,_e,et,tt){if(_e){for(var nt=$,at=$,ot=at.parentNode.children[0],it=_e,st=nt.hierNode.modifier,ut=at.hierNode.modifier,ft=ot.hierNode.modifier,dt=it.hierNode.modifier;it=nextRight(it),at=nextLeft(at),it&&at;){nt=nextRight(nt),ot=nextLeft(ot),nt.hierNode.ancestor=$;var vt=it.hierNode.prelim+dt-at.hierNode.prelim-ut+tt(it,at);vt>0&&(moveSubtree(nextAncestor(it,$,et),$,vt),ut+=vt,st+=vt),dt+=it.hierNode.modifier,ut+=at.hierNode.modifier,st+=nt.hierNode.modifier,ft+=ot.hierNode.modifier}it&&!nextRight(nt)&&(nt.hierNode.thread=it,nt.hierNode.modifier+=dt-st),at&&!nextLeft(ot)&&(ot.hierNode.thread=at,ot.hierNode.modifier+=ut-ft,et=$)}return et}function nextRight($){var _e=$.children;return _e.length&&$.isExpand?_e[_e.length-1]:$.hierNode.thread}function nextLeft($){var _e=$.children;return _e.length&&$.isExpand?_e[0]:$.hierNode.thread}function nextAncestor($,_e,et){return $.hierNode.ancestor.parentNode===_e.parentNode?$.hierNode.ancestor:et}function moveSubtree($,_e,et){var tt=et/(_e.hierNode.i-$.hierNode.i);_e.hierNode.change-=tt,_e.hierNode.shift+=et,_e.hierNode.modifier+=et,_e.hierNode.prelim+=et,$.hierNode.change+=tt}function defaultSeparation($,_e){return $.parentNode===_e.parentNode?1:2}var TreeEdgeShape=function(){function $(){this.parentPoint=[],this.childPoints=[]}return $}(),TreePath=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new TreeEdgeShape},_e.prototype.buildPath=function(et,tt){var nt=tt.childPoints,at=nt.length,ot=tt.parentPoint,it=nt[0],st=nt[at-1];if(at===1){et.moveTo(ot[0],ot[1]),et.lineTo(it[0],it[1]);return}var ut=tt.orient,ft=ut==="TB"||ut==="BT"?0:1,dt=1-ft,vt=parsePercent(tt.forkPosition,1),gt=[];gt[ft]=ot[ft],gt[dt]=ot[dt]+(st[dt]-ot[dt])*vt,et.moveTo(ot[0],ot[1]),et.lineTo(gt[0],gt[1]),et.moveTo(it[0],it[1]),gt[ft]=it[ft],et.lineTo(gt[0],gt[1]),gt[ft]=st[ft],et.lineTo(gt[0],gt[1]),et.lineTo(st[0],st[1]);for(var yt=1;yt<at-1;yt++){var xt=nt[yt];et.moveTo(xt[0],xt[1]),gt[ft]=xt[ft],et.lineTo(gt[0],gt[1])}},_e}(Path$1),TreeView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._mainGroup=new Group$4,et}return _e.prototype.init=function(et,tt){this._controller=new RoamController$1(tt.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},_e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=et.layoutInfo,it=this._mainGroup,st=et.get("layout");st==="radial"?(it.x=ot.x+ot.width/2,it.y=ot.y+ot.height/2):(it.x=ot.x,it.y=ot.y),this._updateViewCoordSys(et,nt),this._updateController(et,tt,nt);var ut=this._data;at.diff(ut).add(function(ft){symbolNeedsDraw(at,ft)&&updateNode(at,ft,null,it,et)}).update(function(ft,dt){var vt=ut.getItemGraphicEl(dt);if(!symbolNeedsDraw(at,ft)){vt&&removeNode(ut,dt,vt,it,et);return}updateNode(at,ft,vt,it,et)}).remove(function(ft){var dt=ut.getItemGraphicEl(ft);dt&&removeNode(ut,ft,dt,it,et)}).execute(),this._nodeScaleRatio=et.get("nodeScaleRatio"),this._updateNodeAndLinkScale(et),et.get("expandAndCollapse")===!0&&at.eachItemGraphicEl(function(ft,dt){ft.off("click").on("click",function(){nt.dispatchAction({type:"treeExpandAndCollapse",seriesId:et.id,dataIndex:dt})})}),this._data=at},_e.prototype._updateViewCoordSys=function(et,tt){var nt=et.getData(),at=[];nt.each(function(dt){var vt=nt.getItemLayout(dt);vt&&!isNaN(vt.x)&&!isNaN(vt.y)&&at.push([+vt.x,+vt.y])});var ot=[],it=[];fromPoints(at,ot,it);var st=this._min,ut=this._max;it[0]-ot[0]===0&&(ot[0]=st?st[0]:ot[0]-1,it[0]=ut?ut[0]:it[0]+1),it[1]-ot[1]===0&&(ot[1]=st?st[1]:ot[1]-1,it[1]=ut?ut[1]:it[1]+1);var ft=et.coordinateSystem=new View$1;ft.zoomLimit=et.get("scaleLimit"),ft.setBoundingRect(ot[0],ot[1],it[0]-ot[0],it[1]-ot[1]),ft.setCenter(et.get("center"),tt),ft.setZoom(et.get("zoom")),this.group.attr({x:ft.x,y:ft.y,scaleX:ft.scaleX,scaleY:ft.scaleY}),this._min=ot,this._max=it},_e.prototype._updateController=function(et,tt,nt){var at=this,ot=this._controller,it=this._controllerHost,st=this.group;ot.setPointerChecker(function(ut,ft,dt){var vt=st.getBoundingRect();return vt.applyTransform(st.transform),vt.contain(ft,dt)&&!onIrrelevantElement(ut,nt,et)}),ot.enable(et.get("roam")),it.zoomLimit=et.get("scaleLimit"),it.zoom=et.coordinateSystem.getZoom(),ot.off("pan").off("zoom").on("pan",function(ut){updateViewOnPan(it,ut.dx,ut.dy),nt.dispatchAction({seriesId:et.id,type:"treeRoam",dx:ut.dx,dy:ut.dy})}).on("zoom",function(ut){updateViewOnZoom(it,ut.scale,ut.originX,ut.originY),nt.dispatchAction({seriesId:et.id,type:"treeRoam",zoom:ut.scale,originX:ut.originX,originY:ut.originY}),at._updateNodeAndLinkScale(et),nt.updateLabelLayout()})},_e.prototype._updateNodeAndLinkScale=function(et){var tt=et.getData(),nt=this._getNodeGlobalScale(et);tt.eachItemGraphicEl(function(at,ot){at.setSymbolScale(nt)})},_e.prototype._getNodeGlobalScale=function(et){var tt=et.coordinateSystem;if(tt.type!=="view")return 1;var nt=this._nodeScaleRatio,at=tt.scaleX||1,ot=tt.getZoom(),it=(ot-1)*nt+1;return it/at},_e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},_e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},_e.type="tree",_e}(ChartView$1);function symbolNeedsDraw($,_e){var et=$.getItemLayout(_e);return et&&!isNaN(et.x)&&!isNaN(et.y)}function updateNode($,_e,et,tt,nt){var at=!et,ot=$.tree.getNodeByDataIndex(_e),it=ot.getModel(),st=ot.getVisual("style").fill,ut=ot.isExpand===!1&&ot.children.length!==0?st:"#fff",ft=$.tree.root,dt=ot.parentNode===ft?ot:ot.parentNode||ot,vt=$.getItemGraphicEl(dt.dataIndex),gt=dt.getLayout(),yt=vt?{x:vt.__oldX,y:vt.__oldY,rawX:vt.__radialOldRawX,rawY:vt.__radialOldRawY}:gt,xt=ot.getLayout();at?(et=new SymbolClz($,_e,null,{symbolInnerColor:ut,useNameLabel:!0}),et.x=yt.x,et.y=yt.y):et.updateData($,_e,null,{symbolInnerColor:ut,useNameLabel:!0}),et.__radialOldRawX=et.__radialRawX,et.__radialOldRawY=et.__radialRawY,et.__radialRawX=xt.rawX,et.__radialRawY=xt.rawY,tt.add(et),$.setItemGraphicEl(_e,et),et.__oldX=et.x,et.__oldY=et.y,updateProps$1(et,{x:xt.x,y:xt.y},nt);var Ct=et.getSymbolPath();if(nt.get("layout")==="radial"){var wt=ft.children[0],Et=wt.getLayout(),$t=wt.children.length,It=void 0,Ot=void 0;if(xt.x===Et.x&&ot.isExpand===!0&&wt.children.length){var Lt={x:(wt.children[0].getLayout().x+wt.children[$t-1].getLayout().x)/2,y:(wt.children[0].getLayout().y+wt.children[$t-1].getLayout().y)/2};It=Math.atan2(Lt.y-Et.y,Lt.x-Et.x),It<0&&(It=Math.PI*2+It),Ot=Lt.x<Et.x,Ot&&(It=It-Math.PI)}else It=Math.atan2(xt.y-Et.y,xt.x-Et.x),It<0&&(It=Math.PI*2+It),ot.children.length===0||ot.children.length!==0&&ot.isExpand===!1?(Ot=xt.x<Et.x,Ot&&(It=It-Math.PI)):(Ot=xt.x>Et.x,Ot||(It=It-Math.PI));var Ft=Ot?"left":"right",zt=it.getModel("label"),Gt=zt.get("rotate"),jt=Gt*(Math.PI/180),Ut=Ct.getTextContent();Ut&&(Ct.setTextConfig({position:zt.get("position")||Ft,rotation:Gt==null?-It:jt,origin:"center"}),Ut.setStyle("verticalAlign","middle"))}var Kt=it.get(["emphasis","focus"]),Zt=Kt==="relative"?concatArray(ot.getAncestorsIndices(),ot.getDescendantIndices()):Kt==="ancestor"?ot.getAncestorsIndices():Kt==="descendant"?ot.getDescendantIndices():null;Zt&&(getECData(et).focus=Zt),drawEdge(nt,ot,ft,et,yt,gt,xt,tt),et.__edge&&(et.onHoverStateChange=function(Qt){if(Qt!=="blur"){var rr=ot.parentNode&&$.getItemGraphicEl(ot.parentNode.dataIndex);rr&&rr.hoverState===HOVER_STATE_BLUR||setStatesFlag(et.__edge,Qt)}})}function drawEdge($,_e,et,tt,nt,at,ot,it){var st=_e.getModel(),ut=$.get("edgeShape"),ft=$.get("layout"),dt=$.getOrient(),vt=$.get(["lineStyle","curveness"]),gt=$.get("edgeForkPosition"),yt=st.getModel("lineStyle").getLineStyle(),xt=tt.__edge;if(ut==="curve")_e.parentNode&&_e.parentNode!==et&&(xt||(xt=tt.__edge=new BezierCurve$1({shape:getEdgeShape(ft,dt,vt,nt,nt)})),updateProps$1(xt,{shape:getEdgeShape(ft,dt,vt,at,ot)},$));else if(ut==="polyline"&&ft==="orthogonal"&&_e!==et&&_e.children&&_e.children.length!==0&&_e.isExpand===!0){for(var Ct=_e.children,wt=[],Et=0;Et<Ct.length;Et++){var $t=Ct[Et].getLayout();wt.push([$t.x,$t.y])}xt||(xt=tt.__edge=new TreePath({shape:{parentPoint:[ot.x,ot.y],childPoints:[[ot.x,ot.y]],orient:dt,forkPosition:gt}})),updateProps$1(xt,{shape:{parentPoint:[ot.x,ot.y],childPoints:wt}},$)}xt&&!(ut==="polyline"&&!_e.isExpand)&&(xt.useStyle(defaults({strokeNoScale:!0,fill:null},yt)),setStatesStylesFromModel(xt,st,"lineStyle"),setDefaultStateProxy(xt),it.add(xt))}function removeNodeEdge($,_e,et,tt,nt){var at=_e.tree.root,ot=getSourceNode(at,$),it=ot.source,st=ot.sourceLayout,ut=_e.getItemGraphicEl($.dataIndex);if(!!ut){var ft=_e.getItemGraphicEl(it.dataIndex),dt=ft.__edge,vt=ut.__edge||(it.isExpand===!1||it.children.length===1?dt:void 0),gt=tt.get("edgeShape"),yt=tt.get("layout"),xt=tt.get("orient"),Ct=tt.get(["lineStyle","curveness"]);vt&&(gt==="curve"?removeElement(vt,{shape:getEdgeShape(yt,xt,Ct,st,st),style:{opacity:0}},tt,{cb:function(){et.remove(vt)},removeOpt:nt}):gt==="polyline"&&tt.get("layout")==="orthogonal"&&removeElement(vt,{shape:{parentPoint:[st.x,st.y],childPoints:[[st.x,st.y]]},style:{opacity:0}},tt,{cb:function(){et.remove(vt)},removeOpt:nt}))}}function getSourceNode($,_e){for(var et=_e.parentNode===$?_e:_e.parentNode||_e,tt;tt=et.getLayout(),tt==null;)et=et.parentNode===$?et:et.parentNode||et;return{source:et,sourceLayout:tt}}function removeNode($,_e,et,tt,nt){var at=$.tree.getNodeByDataIndex(_e),ot=$.tree.root,it=getSourceNode(ot,at).sourceLayout,st={duration:nt.get("animationDurationUpdate"),easing:nt.get("animationEasingUpdate")};removeElement(et,{x:it.x+1,y:it.y+1},nt,{cb:function(){tt.remove(et),$.setItemGraphicEl(_e,null)},removeOpt:st}),et.fadeOut(null,$.hostModel,{fadeLabel:!0,animation:st}),at.children.forEach(function(ut){removeNodeEdge(ut,$,tt,nt,st)}),removeNodeEdge(at,$,tt,nt,st)}function getEdgeShape($,_e,et,tt,nt){var at,ot,it,st,ut,ft,dt,vt;if($==="radial"){ut=tt.rawX,dt=tt.rawY,ft=nt.rawX,vt=nt.rawY;var gt=radialCoordinate(ut,dt),yt=radialCoordinate(ut,dt+(vt-dt)*et),xt=radialCoordinate(ft,vt+(dt-vt)*et),Ct=radialCoordinate(ft,vt);return{x1:gt.x||0,y1:gt.y||0,x2:Ct.x||0,y2:Ct.y||0,cpx1:yt.x||0,cpy1:yt.y||0,cpx2:xt.x||0,cpy2:xt.y||0}}else ut=tt.x,dt=tt.y,ft=nt.x,vt=nt.y,(_e==="LR"||_e==="RL")&&(at=ut+(ft-ut)*et,ot=dt,it=ft+(ut-ft)*et,st=vt),(_e==="TB"||_e==="BT")&&(at=ut,ot=dt+(vt-dt)*et,it=ft,st=vt+(dt-vt)*et);return{x1:ut,y1:dt,x2:ft,y2:vt,cpx1:at,cpy1:ot,cpx2:it,cpy2:st}}var TreeView$1=TreeView,inner$e=makeInner();function linkSeriesData($){var _e=$.mainData,et=$.datas;et||(et={main:_e},$.datasAttr={main:"data"}),$.datas=$.mainData=null,linkAll(_e,et,$),each$f(et,function(tt){each$f(_e.TRANSFERABLE_METHODS,function(nt){tt.wrapMethod(nt,curry$1(transferInjection,$))})}),_e.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,$)),each$f(_e.CHANGABLE_METHODS,function(tt){_e.wrapMethod(tt,curry$1(changeInjection,$))}),assert(et[_e.dataType]===_e)}function transferInjection($,_e){if(isMainData(this)){var et=extend({},inner$e(this).datas);et[this.dataType]=_e,linkAll(_e,et,$)}else linkSingle(_e,this.dataType,inner$e(this).mainData,$);return _e}function changeInjection($,_e){return $.struct&&$.struct.update(),_e}function cloneShallowInjection($,_e){return each$f(inner$e(_e).datas,function(et,tt){et!==_e&&linkSingle(et.cloneShallow(),tt,_e,$)}),_e}function getLinkedData($){var _e=inner$e(this).mainData;return $==null||_e==null?_e:inner$e(_e).datas[$]}function getLinkedDataAll(){var $=inner$e(this).mainData;return $==null?[{data:$}]:map$1(keys(inner$e($).datas),function(_e){return{type:_e,data:inner$e($).datas[_e]}})}function isMainData($){return inner$e($).mainData===$}function linkAll($,_e,et){inner$e($).datas={},each$f(_e,function(tt,nt){linkSingle(tt,nt,$,et)})}function linkSingle($,_e,et,tt){inner$e(et).datas[_e]=$,inner$e($).mainData=et,$.dataType=_e,tt.struct&&($[tt.structAttr]=tt.struct,tt.struct[tt.datasAttr[_e]]=$),$.getLinkedData=getLinkedData,$.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function $(_e,et){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=_e||"",this.hostTree=et}return $.prototype.isRemoved=function(){return this.dataIndex<0},$.prototype.eachNode=function(_e,et,tt){isFunction(_e)&&(tt=et,et=_e,_e=null),_e=_e||{},isString(_e)&&(_e={order:_e});var nt=_e.order||"preorder",at=this[_e.attr||"children"],ot;nt==="preorder"&&(ot=et.call(tt,this));for(var it=0;!ot&&it<at.length;it++)at[it].eachNode(_e,et,tt);nt==="postorder"&&et.call(tt,this)},$.prototype.updateDepthAndHeight=function(_e){var et=0;this.depth=_e;for(var tt=0;tt<this.children.length;tt++){var nt=this.children[tt];nt.updateDepthAndHeight(_e+1),nt.height>et&&(et=nt.height)}this.height=et+1},$.prototype.getNodeById=function(_e){if(this.getId()===_e)return this;for(var et=0,tt=this.children,nt=tt.length;et<nt;et++){var at=tt[et].getNodeById(_e);if(at)return at}},$.prototype.contains=function(_e){if(_e===this)return!0;for(var et=0,tt=this.children,nt=tt.length;et<nt;et++){var at=tt[et].contains(_e);if(at)return at}},$.prototype.getAncestors=function(_e){for(var et=[],tt=_e?this:this.parentNode;tt;)et.push(tt),tt=tt.parentNode;return et.reverse(),et},$.prototype.getAncestorsIndices=function(){for(var _e=[],et=this;et;)_e.push(et.dataIndex),et=et.parentNode;return _e.reverse(),_e},$.prototype.getDescendantIndices=function(){var _e=[];return this.eachNode(function(et){_e.push(et.dataIndex)}),_e},$.prototype.getValue=function(_e){var et=this.hostTree.data;return et.getStore().get(et.getDimensionIndex(_e||"value"),this.dataIndex)},$.prototype.setLayout=function(_e,et){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,_e,et)},$.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},$.prototype.getModel=function(_e){if(!(this.dataIndex<0)){var et=this.hostTree,tt=et.data.getItemModel(this.dataIndex);return tt.getModel(_e)}},$.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},$.prototype.setVisual=function(_e,et){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,_e,et)},$.prototype.getVisual=function(_e){return this.hostTree.data.getItemVisual(this.dataIndex,_e)},$.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},$.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},$.prototype.getChildIndex=function(){if(this.parentNode){for(var _e=this.parentNode.children,et=0;et<_e.length;++et)if(_e[et]===this)return et;return-1}return-1},$.prototype.isAncestorOf=function(_e){for(var et=_e.parentNode;et;){if(et===this)return!0;et=et.parentNode}return!1},$.prototype.isDescendantOf=function(_e){return _e!==this&&_e.isAncestorOf(this)},$}(),Tree=function(){function $(_e){this.type="tree",this._nodes=[],this.hostModel=_e}return $.prototype.eachNode=function(_e,et,tt){this.root.eachNode(_e,et,tt)},$.prototype.getNodeByDataIndex=function(_e){var et=this.data.getRawIndex(_e);return this._nodes[et]},$.prototype.getNodeById=function(_e){return this.root.getNodeById(_e)},$.prototype.update=function(){for(var _e=this.data,et=this._nodes,tt=0,nt=et.length;tt<nt;tt++)et[tt].dataIndex=-1;for(var tt=0,nt=_e.count();tt<nt;tt++)et[_e.getRawIndex(tt)].dataIndex=tt},$.prototype.clearLayouts=function(){this.data.clearItemLayouts()},$.createTree=function(_e,et,tt){var nt=new $(et),at=[],ot=1;it(_e);function it(ft,dt){var vt=ft.value;ot=Math.max(ot,isArray$1(vt)?vt.length:1),at.push(ft);var gt=new TreeNode(convertOptionIdName(ft.name,""),nt);dt?addChild(gt,dt):nt.root=gt,nt._nodes.push(gt);var yt=ft.children;if(yt)for(var xt=0;xt<yt.length;xt++)it(yt[xt],gt)}nt.root.updateDepthAndHeight(0);var st=prepareSeriesDataSchema(at,{coordDimensions:["value"],dimensionsCount:ot}).dimensions,ut=new SeriesData$1(st,et);return ut.initData(at),tt&&tt(ut),linkSeriesData({mainData:ut,struct:nt,structAttr:"tree"}),nt.update(),nt},$}();function addChild($,_e){var et=_e.children;$.parentNode!==_e&&(et.push($),$.parentNode=_e)}var Tree$1=Tree;function retrieveTargetInfo($,_e,et){if($&&indexOf(_e,$.type)>=0){var tt=et.getData().tree.root,nt=$.targetNode;if(isString(nt)&&(nt=tt.getNodeById(nt)),nt&&tt.contains(nt))return{node:nt};var at=$.targetNodeId;if(at!=null&&(nt=tt.getNodeById(at)))return{node:nt}}}function getPathToRoot($){for(var _e=[];$;)$=$.parentNode,$&&_e.push($);return _e.reverse()}function aboveViewRoot($,_e){var et=getPathToRoot($);return indexOf(et,_e)>=0}function wrapTreePathInfo($,_e){for(var et=[];$;){var tt=$.dataIndex;et.push({name:$.name,dataIndex:tt,value:_e.getRawValue(tt)}),$=$.parentNode}return et.reverse(),et}var TreeSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.hasSymbolVisual=!0,et.ignoreStyleOnData=!0,et}return _e.prototype.getInitialData=function(et){var tt={name:et.name,children:et.data},nt=et.leaves||{},at=new Model$1(nt,this,this.ecModel),ot=Tree$1.createTree(tt,this,it);function it(dt){dt.wrapMethod("getItemModel",function(vt,gt){var yt=ot.getNodeByDataIndex(gt);return yt&&yt.children.length&&yt.isExpand||(vt.parentModel=at),vt})}var st=0;ot.eachNode("preorder",function(dt){dt.depth>st&&(st=dt.depth)});var ut=et.expandAndCollapse,ft=ut&&et.initialTreeDepth>=0?et.initialTreeDepth:st;return ot.root.eachNode("preorder",function(dt){var vt=dt.hostTree.data.getRawDataItem(dt.dataIndex);dt.isExpand=vt&&vt.collapsed!=null?!vt.collapsed:dt.depth<=ft}),ot.data},_e.prototype.getOrient=function(){var et=this.get("orient");return et==="horizontal"?et="LR":et==="vertical"&&(et="TB"),et},_e.prototype.setZoom=function(et){this.option.zoom=et},_e.prototype.setCenter=function(et){this.option.center=et},_e.prototype.formatTooltip=function(et,tt,nt){for(var at=this.getData().tree,ot=at.root.children[0],it=at.getNodeByDataIndex(et),st=it.getValue(),ut=it.name;it&&it!==ot;)ut=it.parentNode.name+"."+ut,it=it.parentNode;return createTooltipMarkup("nameValue",{name:ut,value:st,noValue:isNaN(st)||st==null})},_e.prototype.getDataParams=function(et){var tt=$.prototype.getDataParams.apply(this,arguments),nt=this.getData().tree.getNodeByDataIndex(et);return tt.treeAncestors=wrapTreePathInfo(nt,this),tt.collapsed=!nt.isExpand,tt},_e.type="series.tree",_e.layoutMode="box",_e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},_e}(SeriesModel$1),TreeSeriesModel$1=TreeSeriesModel;function eachAfter($,_e,et){for(var tt=[$],nt=[],at;at=tt.pop();)if(nt.push(at),at.isExpand){var ot=at.children;if(ot.length)for(var it=0;it<ot.length;it++)tt.push(ot[it])}for(;at=nt.pop();)_e(at,et)}function eachBefore($,_e){for(var et=[$],tt;tt=et.pop();)if(_e(tt),tt.isExpand){var nt=tt.children;if(nt.length)for(var at=nt.length-1;at>=0;at--)et.push(nt[at])}}function treeLayout($,_e){$.eachSeriesByType("tree",function(et){commonLayout(et,_e)})}function commonLayout($,_e){var et=getViewRect$4($,_e);$.layoutInfo=et;var tt=$.get("layout"),nt=0,at=0,ot=null;tt==="radial"?(nt=2*Math.PI,at=Math.min(et.height,et.width)/2,ot=separation(function($t,It){return($t.parentNode===It.parentNode?1:2)/$t.depth})):(nt=et.width,at=et.height,ot=separation());var it=$.getData().tree.root,st=it.children[0];if(st){init(it),eachAfter(st,firstWalk,ot),it.hierNode.modifier=-st.hierNode.prelim,eachBefore(st,secondWalk);var ut=st,ft=st,dt=st;eachBefore(st,function($t){var It=$t.getLayout().x;It<ut.getLayout().x&&(ut=$t),It>ft.getLayout().x&&(ft=$t),$t.depth>dt.depth&&(dt=$t)});var vt=ut===ft?1:ot(ut,ft)/2,gt=vt-ut.getLayout().x,yt=0,xt=0,Ct=0,wt=0;if(tt==="radial")yt=nt/(ft.getLayout().x+vt+gt),xt=at/(dt.depth-1||1),eachBefore(st,function($t){Ct=($t.getLayout().x+gt)*yt,wt=($t.depth-1)*xt;var It=radialCoordinate(Ct,wt);$t.setLayout({x:It.x,y:It.y,rawX:Ct,rawY:wt},!0)});else{var Et=$.getOrient();Et==="RL"||Et==="LR"?(xt=at/(ft.getLayout().x+vt+gt),yt=nt/(dt.depth-1||1),eachBefore(st,function($t){wt=($t.getLayout().x+gt)*xt,Ct=Et==="LR"?($t.depth-1)*yt:nt-($t.depth-1)*yt,$t.setLayout({x:Ct,y:wt},!0)})):(Et==="TB"||Et==="BT")&&(yt=nt/(ft.getLayout().x+vt+gt),xt=at/(dt.depth-1||1),eachBefore(st,function($t){Ct=($t.getLayout().x+gt)*yt,wt=Et==="TB"?($t.depth-1)*xt:at-($t.depth-1)*xt,$t.setLayout({x:Ct,y:wt},!0)}))}}}function treeVisual($){$.eachSeriesByType("tree",function(_e){var et=_e.getData(),tt=et.tree;tt.eachNode(function(nt){var at=nt.getModel(),ot=at.getModel("itemStyle").getItemStyle(),it=et.ensureUniqueItemVisual(nt.dataIndex,"style");extend(it,ot)})})}function installTreeAction($){$.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(_e,et){et.eachComponent({mainType:"series",subType:"tree",query:_e},function(tt){var nt=_e.dataIndex,at=tt.getData().tree,ot=at.getNodeByDataIndex(nt);ot.isExpand=!ot.isExpand})}),$.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(_e,et,tt){et.eachComponent({mainType:"series",subType:"tree",query:_e},function(nt){var at=nt.coordinateSystem,ot=updateCenterAndZoom(at,_e,void 0,tt);nt.setCenter&&nt.setCenter(ot.center),nt.setZoom&&nt.setZoom(ot.zoom)})})}function install$H($){$.registerChartView(TreeView$1),$.registerSeriesModel(TreeSeriesModel$1),$.registerLayout(treeLayout),$.registerVisual(treeVisual),installTreeAction($)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction($){for(var _e=0;_e<actionTypes.length;_e++)$.registerAction({type:actionTypes[_e],update:"updateView"},noop);$.registerAction({type:"treemapRootToNode",update:"updateView"},function(et,tt){tt.eachComponent({mainType:"series",subType:"treemap",query:et},nt);function nt(at,ot){var it=["treemapZoomToNode","treemapRootToNode"],st=retrieveTargetInfo(et,it,at);if(st){var ut=at.getViewRoot();ut&&(et.direction=aboveViewRoot(ut,st.node)?"rollUp":"drillDown"),at.resetViewRoot(st.node)}}})}function enableAriaDecalForTree($){var _e=$.getData(),et=_e.tree,tt={};et.eachNode(function(nt){for(var at=nt;at&&at.depth>1;)at=at.parentNode;var ot=getDecalFromPalette($.ecModel,at.name||at.dataIndex+"",tt);nt.setVisual("decal",ot)})}var TreemapSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.preventUsingHoverLayer=!0,et}return _e.prototype.getInitialData=function(et,tt){var nt={name:et.name,children:et.data};completeTreeValue$1(nt);var at=et.levels||[],ot=this.designatedVisualItemStyle={},it=new Model$1({itemStyle:ot},this,tt);at=et.levels=setDefault(at,tt);var st=map$1(at||[],function(dt){return new Model$1(dt,it,tt)},this),ut=Tree$1.createTree(nt,this,ft);function ft(dt){dt.wrapMethod("getItemModel",function(vt,gt){var yt=ut.getNodeByDataIndex(gt),xt=yt?st[yt.depth]:null;return vt.parentModel=xt||it,vt})}return ut.data},_e.prototype.optionUpdated=function(){this.resetViewRoot()},_e.prototype.formatTooltip=function(et,tt,nt){var at=this.getData(),ot=this.getRawValue(et),it=at.getName(et);return createTooltipMarkup("nameValue",{name:it,value:ot})},_e.prototype.getDataParams=function(et){var tt=$.prototype.getDataParams.apply(this,arguments),nt=this.getData().tree.getNodeByDataIndex(et);return tt.treeAncestors=wrapTreePathInfo(nt,this),tt.treePathInfo=tt.treeAncestors,tt},_e.prototype.setLayoutInfo=function(et){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,et)},_e.prototype.mapIdToIndex=function(et){var tt=this._idIndexMap;tt||(tt=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var nt=tt.get(et);return nt==null&&tt.set(et,nt=this._idIndexMapCount++),nt},_e.prototype.getViewRoot=function(){return this._viewRoot},_e.prototype.resetViewRoot=function(et){et?this._viewRoot=et:et=this._viewRoot;var tt=this.getRawData().tree.root;(!et||et!==tt&&!tt.contains(et))&&(this._viewRoot=tt)},_e.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},_e.type="series.treemap",_e.layoutMode="box",_e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},_e}(SeriesModel$1);function completeTreeValue$1($){var _e=0;each$f($.children,function(tt){completeTreeValue$1(tt);var nt=tt.value;isArray$1(nt)&&(nt=nt[0]),_e+=nt});var et=$.value;isArray$1(et)&&(et=et[0]),(et==null||isNaN(et))&&(et=_e),et<0&&(et=0),isArray$1($.value)?$.value[0]=et:$.value=et}function setDefault($,_e){var et=normalizeToArray(_e.get("color")),tt=normalizeToArray(_e.get(["aria","decal","decals"]));if(!!et){$=$||[];var nt,at;each$f($,function(it){var st=new Model$1(it),ut=st.get("color"),ft=st.get("decal");(st.get(["itemStyle","color"])||ut&&ut!=="none")&&(nt=!0),(st.get(["itemStyle","decal"])||ft&&ft!=="none")&&(at=!0)});var ot=$[0]||($[0]={});return nt||(ot.color=et.slice()),!at&&tt&&(ot.decal=tt.slice()),$}}var TreemapSeriesModel$1=TreemapSeriesModel,TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function $(_e){this.group=new Group$4,_e.add(this.group)}return $.prototype.render=function(_e,et,tt,nt){var at=_e.getModel("breadcrumb"),ot=this.group;if(ot.removeAll(),!(!at.get("show")||!tt)){var it=at.getModel("itemStyle"),st=it.getModel("textStyle"),ut={pos:{left:at.get("left"),right:at.get("right"),top:at.get("top"),bottom:at.get("bottom")},box:{width:et.getWidth(),height:et.getHeight()},emptyItemWidth:at.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(tt,ut,st),this._renderContent(_e,ut,it,st,nt),positionElement(ot,ut.pos,ut.box)}},$.prototype._prepare=function(_e,et,tt){for(var nt=_e;nt;nt=nt.parentNode){var at=convertOptionIdName(nt.getModel().get("name"),""),ot=tt.getTextRect(at),it=Math.max(ot.width+TEXT_PADDING*2,et.emptyItemWidth);et.totalWidth+=it+ITEM_GAP,et.renderList.push({node:nt,text:at,width:it})}},$.prototype._renderContent=function(_e,et,tt,nt,at){for(var ot=0,it=et.emptyItemWidth,st=_e.get(["breadcrumb","height"]),ut=getAvailableSize(et.pos,et.box),ft=et.totalWidth,dt=et.renderList,vt=dt.length-1;vt>=0;vt--){var gt=dt[vt],yt=gt.node,xt=gt.width,Ct=gt.text;ft>ut.width&&(ft-=xt-it,xt=it,Ct=null);var wt=new Polygon$1({shape:{points:makeItemPoints(ot,0,xt,st,vt===dt.length-1,vt===0)},style:defaults(tt.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:{text:Ct,fill:nt.getTextColor(),font:nt.getFont()}}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(at,yt)});wt.disableLabelAnimation=!0,this.group.add(wt),packEventData(wt,_e,yt),ot+=xt+ITEM_GAP}},$.prototype.remove=function(){this.group.removeAll()},$}();function makeItemPoints($,_e,et,tt,nt,at){var ot=[[nt?$:$-ARRAY_LENGTH,_e],[$+et,_e],[$+et,_e+tt],[nt?$:$-ARRAY_LENGTH,_e+tt]];return!at&&ot.splice(2,0,[$+et+ARRAY_LENGTH,_e+tt/2]),!nt&&ot.push([$,_e+tt/2]),ot}function packEventData($,_e,et){getECData($).eventData={componentType:"series",componentSubType:"treemap",componentIndex:_e.componentIndex,seriesIndex:_e.seriesIndex,seriesName:_e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:et&&et.dataIndex,name:et&&et.name},treePathInfo:et&&wrapTreePathInfo(et,_e)}}var Breadcrumb$1=Breadcrumb,AnimationWrap=function(){function $(){this._storage=[],this._elExistsMap={}}return $.prototype.add=function(_e,et,tt,nt,at){return this._elExistsMap[_e.id]?!1:(this._elExistsMap[_e.id]=!0,this._storage.push({el:_e,target:et,duration:tt,delay:nt,easing:at}),!0)},$.prototype.finished=function(_e){return this._finishedCallback=_e,this},$.prototype.start=function(){for(var _e=this,et=this._storage.length,tt=function(){et--,et<=0&&(_e._storage.length=0,_e._elExistsMap={},_e._finishedCallback&&_e._finishedCallback())},nt=0,at=this._storage.length;nt<at;nt++){var ot=this._storage[nt];ot.el.animateTo(ot.target,{duration:ot.duration,delay:ot.delay,easing:ot.easing,setToFinal:!0,done:tt,aborted:tt})}return this},$}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function($){var _e=getStateItemStyle($);return _e.stroke=_e.fill=_e.lineWidth=null,_e},inner$d=makeInner(),TreemapView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._state="ready",et._storage=createStorage(),et}return _e.prototype.render=function(et,tt,nt,at){var ot=tt.findComponents({mainType:"series",subType:"treemap",query:at});if(!(indexOf(ot,et)<0)){this.seriesModel=et,this.api=nt,this.ecModel=tt;var it=["treemapZoomToNode","treemapRootToNode"],st=retrieveTargetInfo(at,it,et),ut=at&&at.type,ft=et.layoutInfo,dt=!this._oldTree,vt=this._storage,gt=ut==="treemapRootToNode"&&st&&vt?{rootNodeGroup:vt.nodeGroup[st.node.getRawIndex()],direction:at.direction}:null,yt=this._giveContainerGroup(ft),xt=et.get("animation"),Ct=this._doRender(yt,et,gt);xt&&!dt&&(!ut||ut==="treemapZoomToNode"||ut==="treemapRootToNode")?this._doAnimation(yt,Ct,et,gt):Ct.renderFinally(),this._resetController(nt),this._renderBreadcrumb(et,nt,st)}},_e.prototype._giveContainerGroup=function(et){var tt=this._containerGroup;return tt||(tt=this._containerGroup=new Group$2,this._initEvents(tt),this.group.add(tt)),tt.x=et.x,tt.y=et.y,tt},_e.prototype._doRender=function(et,tt,nt){var at=tt.getData().tree,ot=this._oldTree,it=createStorage(),st=createStorage(),ut=this._storage,ft=[];function dt(Ct,wt,Et,$t){return renderNode(tt,st,ut,nt,it,ft,Ct,wt,Et,$t)}gt(at.root?[at.root]:[],ot&&ot.root?[ot.root]:[],et,at===ot||!ot,0);var vt=yt(ut);return this._oldTree=at,this._storage=st,{lastsForAnimation:it,willDeleteEls:vt,renderFinally:xt};function gt(Ct,wt,Et,$t,It){$t?(wt=Ct,each$f(Ct,function(Ft,zt){!Ft.isRemoved()&&Lt(zt,zt)})):new DataDiffer$1(wt,Ct,Ot,Ot).add(Lt).update(Lt).remove(curry$1(Lt,null)).execute();function Ot(Ft){return Ft.getId()}function Lt(Ft,zt){var Gt=Ft!=null?Ct[Ft]:null,jt=zt!=null?wt[zt]:null,Ut=dt(Gt,jt,Et,It);Ut&&gt(Gt&&Gt.viewChildren||[],jt&&jt.viewChildren||[],Ut,$t,It+1)}}function yt(Ct){var wt=createStorage();return Ct&&each$f(Ct,function(Et,$t){var It=wt[$t];each$f(Et,function(Ot){Ot&&(It.push(Ot),inner$d(Ot).willDelete=!0)})}),wt}function xt(){each$f(vt,function(Ct){each$f(Ct,function(wt){wt.parent&&wt.parent.remove(wt)})}),each$f(ft,function(Ct){Ct.invisible=!0,Ct.dirty()})}},_e.prototype._doAnimation=function(et,tt,nt,at){var ot=nt.get("animationDurationUpdate"),it=nt.get("animationEasing"),st=(isFunction(ot)?0:ot)||0,ut=(isFunction(it)?null:it)||"cubicOut",ft=createWrap();each$f(tt.willDeleteEls,function(dt,vt){each$f(dt,function(gt,yt){if(!gt.invisible){var xt=gt.parent,Ct,wt=inner$d(xt);if(at&&at.direction==="drillDown")Ct=xt===at.rootNodeGroup?{shape:{x:0,y:0,width:wt.nodeWidth,height:wt.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Et=0,$t=0;wt.willDelete||(Et=wt.nodeWidth/2,$t=wt.nodeHeight/2),Ct=vt==="nodeGroup"?{x:Et,y:$t,style:{opacity:0}}:{shape:{x:Et,y:$t,width:0,height:0},style:{opacity:0}}}Ct&&ft.add(gt,Ct,st,0,ut)}})}),each$f(this._storage,function(dt,vt){each$f(dt,function(gt,yt){var xt=tt.lastsForAnimation[vt][yt],Ct={};!xt||(gt instanceof Group$4?xt.oldX!=null&&(Ct.x=gt.x,Ct.y=gt.y,gt.x=xt.oldX,gt.y=xt.oldY):(xt.oldShape&&(Ct.shape=extend({},gt.shape),gt.setShape(xt.oldShape)),xt.fadein?(gt.setStyle("opacity",0),Ct.style={opacity:1}):gt.style.opacity!==1&&(Ct.style={opacity:1})),ft.add(gt,Ct,st,0,ut))})},this),this._state="animating",ft.finished(bind$1(function(){this._state="ready",tt.renderFinally()},this)).start()},_e.prototype._resetController=function(et){var tt=this._controller;tt||(tt=this._controller=new RoamController$1(et.getZr()),tt.enable(this.seriesModel.get("roam")),tt.on("pan",bind$1(this._onPan,this)),tt.on("zoom",bind$1(this._onZoom,this)));var nt=new BoundingRect$1(0,0,et.getWidth(),et.getHeight());tt.setPointerChecker(function(at,ot,it){return nt.contain(ot,it)})},_e.prototype._clearController=function(){var et=this._controller;et&&(et.dispose(),et=null)},_e.prototype._onPan=function(et){if(this._state!=="animating"&&(Math.abs(et.dx)>DRAG_THRESHOLD||Math.abs(et.dy)>DRAG_THRESHOLD)){var tt=this.seriesModel.getData().tree.root;if(!tt)return;var nt=tt.getLayout();if(!nt)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:nt.x+et.dx,y:nt.y+et.dy,width:nt.width,height:nt.height}})}},_e.prototype._onZoom=function(et){var tt=et.originX,nt=et.originY;if(this._state!=="animating"){var at=this.seriesModel.getData().tree.root;if(!at)return;var ot=at.getLayout();if(!ot)return;var it=new BoundingRect$1(ot.x,ot.y,ot.width,ot.height),st=this.seriesModel.layoutInfo;tt-=st.x,nt-=st.y;var ut=create$1();translate(ut,ut,[-tt,-nt]),scale$1(ut,ut,[et.scale,et.scale]),translate(ut,ut,[tt,nt]),it.applyTransform(ut),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:it.x,y:it.y,width:it.width,height:it.height}})}},_e.prototype._initEvents=function(et){var tt=this;et.on("click",function(nt){if(tt._state==="ready"){var at=tt.seriesModel.get("nodeClick",!0);if(!!at){var ot=tt.findTarget(nt.offsetX,nt.offsetY);if(!!ot){var it=ot.node;if(it.getLayout().isLeafRoot)tt._rootToNode(ot);else if(at==="zoomToNode")tt._zoomToNode(ot);else if(at==="link"){var st=it.hostTree.data.getItemModel(it.dataIndex),ut=st.get("link",!0),ft=st.get("target",!0)||"blank";ut&&windowOpen(ut,ft)}}}}},this)},_e.prototype._renderBreadcrumb=function(et,tt,nt){var at=this;nt||(nt=et.get("leafDepth",!0)!=null?{node:et.getViewRoot()}:this.findTarget(tt.getWidth()/2,tt.getHeight()/2),nt||(nt={node:et.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(et,tt,nt.node,function(ot){at._state!=="animating"&&(aboveViewRoot(et.getViewRoot(),ot)?at._rootToNode({node:ot}):at._zoomToNode({node:ot}))})},_e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},_e.prototype.dispose=function(){this._clearController()},_e.prototype._zoomToNode=function(et){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:et.node})},_e.prototype._rootToNode=function(et){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:et.node})},_e.prototype.findTarget=function(et,tt){var nt,at=this.seriesModel.getViewRoot();return at.eachNode({attr:"viewChildren",order:"preorder"},function(ot){var it=this._storage.background[ot.getRawIndex()];if(it){var st=it.transformCoordToLocal(et,tt),ut=it.shape;if(ut.x<=st[0]&&st[0]<=ut.x+ut.width&&ut.y<=st[1]&&st[1]<=ut.y+ut.height)nt={node:ot,offsetX:st[0],offsetY:st[1]};else return!1}},this),nt},_e.type="treemap",_e}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode($,_e,et,tt,nt,at,ot,it,st,ut){if(!ot)return;var ft=ot.getLayout(),dt=$.getData(),vt=ot.getModel();if(dt.setItemGraphicEl(ot.dataIndex,null),!ft||!ft.isInView)return;var gt=ft.width,yt=ft.height,xt=ft.borderWidth,Ct=ft.invisible,wt=ot.getRawIndex(),Et=it&&it.getRawIndex(),$t=ot.viewChildren,It=ft.upperHeight,Ot=$t&&$t.length,Lt=vt.getModel("itemStyle"),Ft=vt.getModel(["emphasis","itemStyle"]),zt=vt.getModel(["blur","itemStyle"]),Gt=vt.getModel(["select","itemStyle"]),jt=Lt.get("borderRadius")||0,Ut=Lr("nodeGroup",Group$2);if(!Ut)return;if(st.add(Ut),Ut.x=ft.x||0,Ut.y=ft.y||0,Ut.markRedraw(),inner$d(Ut).nodeWidth=gt,inner$d(Ut).nodeHeight=yt,ft.isAboveViewRoot)return Ut;var Kt=Lr("background",Rect$1,ut,Z2_BG);Kt&&fr(Ut,Kt,Ot&&ft.upperLabelHeight);var Zt=vt.getModel("emphasis"),Qt=Zt.get("focus"),rr=Zt.get("blurScope"),nr=Zt.get("disabled"),dr=Qt==="ancestor"?ot.getAncestorsIndices():Qt==="descendant"?ot.getDescendantIndices():Qt;if(Ot)isHighDownDispatcher(Ut)&&setAsHighDownDispatcher(Ut,!1),Kt&&(setAsHighDownDispatcher(Kt,!nr),dt.setItemGraphicEl(ot.dataIndex,Kt),enableHoverFocus(Kt,dr,rr));else{var sr=Lr("content",Rect$1,ut,Z2_CONTENT);sr&&yr(Ut,sr),Kt.disableMorphing=!0,Kt&&isHighDownDispatcher(Kt)&&setAsHighDownDispatcher(Kt,!1),setAsHighDownDispatcher(Ut,!nr),dt.setItemGraphicEl(ot.dataIndex,Ut),enableHoverFocus(Ut,dr,rr)}return Ut;function fr(Qr,Jr,sn){var yn=getECData(Jr);if(yn.dataIndex=ot.dataIndex,yn.seriesIndex=$.seriesIndex,Jr.setShape({x:0,y:0,width:gt,height:yt,r:jt}),Ct)Pr(Jr);else{Jr.invisible=!1;var pn=ot.getVisual("style"),ln=pn.stroke,Sn=getItemStyleNormal(Lt);Sn.fill=ln;var cn=getStateItemStyle(Ft);cn.fill=Ft.get("borderColor");var Pn=getStateItemStyle(zt);Pn.fill=zt.get("borderColor");var In=getStateItemStyle(Gt);if(In.fill=Gt.get("borderColor"),sn){var Rn=gt-2*xt;wr(Jr,ln,pn.opacity,{x:xt,y:0,width:Rn,height:It})}else Jr.removeTextContent();Jr.setStyle(Sn),Jr.ensureState("emphasis").style=cn,Jr.ensureState("blur").style=Pn,Jr.ensureState("select").style=In,setDefaultStateProxy(Jr)}Qr.add(Jr)}function yr(Qr,Jr){var sn=getECData(Jr);sn.dataIndex=ot.dataIndex,sn.seriesIndex=$.seriesIndex;var yn=Math.max(gt-2*xt,0),pn=Math.max(yt-2*xt,0);if(Jr.culling=!0,Jr.setShape({x:xt,y:xt,width:yn,height:pn,r:jt}),Ct)Pr(Jr);else{Jr.invisible=!1;var ln=ot.getVisual("style"),Sn=ln.fill,cn=getItemStyleNormal(Lt);cn.fill=Sn,cn.decal=ln.decal;var Pn=getStateItemStyle(Ft),In=getStateItemStyle(zt),Rn=getStateItemStyle(Gt);wr(Jr,Sn,ln.opacity,null),Jr.setStyle(cn),Jr.ensureState("emphasis").style=Pn,Jr.ensureState("blur").style=In,Jr.ensureState("select").style=Rn,setDefaultStateProxy(Jr)}Qr.add(Jr)}function Pr(Qr){!Qr.invisible&&at.push(Qr)}function wr(Qr,Jr,sn,yn){var pn=vt.getModel(yn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),ln=convertOptionIdName(vt.get("name"),null),Sn=pn.getShallow("show");setLabelStyle(Qr,getLabelStatesModels(vt,yn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Sn?ln:null,inheritColor:Jr,defaultOpacity:sn,labelFetcher:$,labelDataIndex:ot.dataIndex});var cn=Qr.getTextContent();if(!!cn){var Pn=cn.style,In=normalizeCssArray$1(Pn.padding||0);yn&&(Qr.setTextConfig({layoutRect:yn}),cn.disableLabelLayout=!0),cn.beforeUpdate=function(){var Mn=Math.max((yn?yn.width:Qr.shape.width)-In[1]-In[3],0),Fn=Math.max((yn?yn.height:Qr.shape.height)-In[0]-In[2],0);(Pn.width!==Mn||Pn.height!==Fn)&&cn.setStyle({width:Mn,height:Fn})},Pn.truncateMinChar=2,Pn.lineOverflow="truncate",Mr(Pn,yn,ft);var Rn=cn.getState("emphasis");Mr(Rn?Rn.style:null,yn,ft)}}function Mr(Qr,Jr,sn){var yn=Qr?Qr.text:null;if(!Jr&&sn.isLeafRoot&&yn!=null){var pn=$.get("drillDownIcon",!0);Qr.text=pn?pn+" "+yn:yn}}function Lr(Qr,Jr,sn,yn){var pn=Et!=null&&et[Qr][Et],ln=nt[Qr];return pn?(et[Qr][Et]=null,Br(ln,pn)):Ct||(pn=new Jr,pn instanceof Displayable$1&&(pn.z2=calculateZ2(sn,yn)),qr(ln,pn)),_e[Qr][wt]=pn}function Br(Qr,Jr){var sn=Qr[wt]={};Jr instanceof Group$2?(sn.oldX=Jr.x,sn.oldY=Jr.y):sn.oldShape=extend({},Jr.shape)}function qr(Qr,Jr){var sn=Qr[wt]={},yn=ot.parentNode,pn=Jr instanceof Group$4;if(yn&&(!tt||tt.direction==="drillDown")){var ln=0,Sn=0,cn=nt.background[yn.getRawIndex()];!tt&&cn&&cn.oldShape&&(ln=cn.oldShape.width,Sn=cn.oldShape.height),pn?(sn.oldX=0,sn.oldY=Sn):sn.oldShape={x:ln,y:Sn,width:0,height:0}}sn.fadein=!pn}}function calculateZ2($,_e){return $*Z2_BASE+_e}var TreemapView$1=TreemapView,each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function $(_e){var et=_e.mappingMethod,tt=_e.type,nt=this.option=clone$4(_e);this.type=tt,this.mappingMethod=et,this._normalizeData=normalizers[et];var at=$.visualHandlers[tt];this.applyVisual=at.applyVisual,this.getColorMapper=at.getColorMapper,this._normalizedToVisual=at._normalizedToVisual[et],et==="piecewise"?(normalizeVisualRange(nt),preprocessForPiecewise(nt)):et==="category"?nt.categories?preprocessForSpecifiedCategory(nt):normalizeVisualRange(nt,!0):(assert(et!=="linear"||nt.dataExtent),normalizeVisualRange(nt))}return $.prototype.mapValueToVisual=function(_e){var et=this._normalizeData(_e);return this._normalizedToVisual(et,_e)},$.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},$.listVisualTypes=function(){return keys($.visualHandlers)},$.isValidType=function(_e){return $.visualHandlers.hasOwnProperty(_e)},$.eachVisual=function(_e,et,tt){isObject$3(_e)?each$f(_e,et,tt):et.call(tt,_e)},$.mapVisual=function(_e,et,tt){var nt,at=isArray$1(_e)?[]:isObject$3(_e)?{}:(nt=!0,null);return $.eachVisual(_e,function(ot,it){var st=et.call(tt,ot,it);nt?at=st:at[it]=st}),at},$.retrieveVisuals=function(_e){var et={},tt;return _e&&each$c($.visualHandlers,function(nt,at){_e.hasOwnProperty(at)&&(et[at]=_e[at],tt=!0)}),tt?et:null},$.prepareVisualTypes=function(_e){if(isArray$1(_e))_e=_e.slice();else if(isObject(_e)){var et=[];each$c(_e,function(tt,nt){et.push(nt)}),_e=et}else return[];return _e.sort(function(tt,nt){return nt==="color"&&tt!=="color"&&tt.indexOf("color")===0?1:-1}),_e},$.dependsOn=function(_e,et){return et==="color"?!!(_e&&_e.indexOf(et)===0):_e===et},$.findPieceIndex=function(_e,et,tt){for(var nt,at=1/0,ot=0,it=et.length;ot<it;ot++){var st=et[ot].value;if(st!=null){if(st===_e||isString(st)&&st===_e+"")return ot;tt&&vt(st,ot)}}for(var ot=0,it=et.length;ot<it;ot++){var ut=et[ot],ft=ut.interval,dt=ut.close;if(ft){if(ft[0]===-1/0){if(littleThan(dt[1],_e,ft[1]))return ot}else if(ft[1]===1/0){if(littleThan(dt[0],ft[0],_e))return ot}else if(littleThan(dt[0],ft[0],_e)&&littleThan(dt[1],_e,ft[1]))return ot;tt&&vt(ft[0],ot),tt&&vt(ft[1],ot)}}if(tt)return _e===1/0?et.length-1:_e===-1/0?0:nt;function vt(gt,yt){var xt=Math.abs(gt-_e);xt<at&&(at=xt,nt=yt)}},$.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var _e=this.option;return bind$1(_e.mappingMethod==="category"?function(et,tt){return!tt&&(et=this._normalizeData(et)),doMapCategory.call(this,et)}:function(et,tt,nt){var at=!!nt;return!tt&&(et=this._normalizeData(et)),nt=fastLerp(et,_e.parsedVisual,nt),at?nt:stringify(nt,"rgba")},this)},_normalizedToVisual:{linear:function(_e){return stringify(fastLerp(_e,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(_e,et){var tt=getSpecifiedVisual.call(this,et);return tt==null&&(tt=stringify(fastLerp(_e,this.option.parsedVisual),"rgba")),tt},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(_e,et){return modifyHSL(_e,et)}),colorSaturation:makePartialColorVisualHandler(function(_e,et){return modifyHSL(_e,null,et)}),colorLightness:makePartialColorVisualHandler(function(_e,et){return modifyHSL(_e,null,null,et)}),colorAlpha:makePartialColorVisualHandler(function(_e,et){return modifyAlpha(_e,et)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(_e,et,tt){var nt=this.mapValueToVisual(_e);tt("symbol",nt)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(_e,et){var tt=getSpecifiedVisual.call(this,et);return tt==null&&(tt=doMapToArray.call(this,_e)),tt},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},$}();function preprocessForPiecewise($){var _e=$.pieceList;$.hasSpecialVisual=!1,each$f(_e,function(et,tt){et.originIndex=tt,et.visual!=null&&($.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory($){var _e=$.categories,et=$.categoryMap={},tt=$.visual;if(each$c(_e,function(ot,it){et[ot]=it}),!isArray$1(tt)){var nt=[];isObject$3(tt)?each$c(tt,function(ot,it){var st=et[it];nt[st!=null?st:CATEGORY_DEFAULT_VISUAL_INDEX]=ot}):nt[CATEGORY_DEFAULT_VISUAL_INDEX]=tt,tt=setVisualToOption($,nt)}for(var at=_e.length-1;at>=0;at--)tt[at]==null&&(delete et[_e[at]],_e.pop())}function normalizeVisualRange($,_e){var et=$.visual,tt=[];isObject$3(et)?each$c(et,function(at){tt.push(at)}):et!=null&&tt.push(et);var nt={color:1,symbol:1};!_e&&tt.length===1&&!nt.hasOwnProperty($.type)&&(tt[1]=tt[0]),setVisualToOption($,tt)}function makePartialColorVisualHandler($){return{applyVisual:function(_e,et,tt){var nt=this.mapValueToVisual(_e);tt("color",$(et("color"),nt))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray($){var _e=this.option.visual;return _e[Math.round(linearMap$2($,[0,1],[0,_e.length-1],!0))]||{}}function makeApplyVisual($){return function(_e,et,tt){tt($,this.mapValueToVisual(_e))}}function doMapCategory($){var _e=this.option.visual;return _e[this.option.loop&&$!==CATEGORY_DEFAULT_VISUAL_INDEX?$%_e.length:$]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual($){return{linear:function(_e){return linearMap$2(_e,$,this.option.visual,!0)},category:doMapCategory,piecewise:function(_e,et){var tt=getSpecifiedVisual.call(this,et);return tt==null&&(tt=linearMap$2(_e,$,this.option.visual,!0)),tt},fixed:doMapFixed}}function getSpecifiedVisual($){var _e=this.option,et=_e.pieceList;if(_e.hasSpecialVisual){var tt=VisualMapping.findPieceIndex($,et),nt=et[tt];if(nt&&nt.visual)return nt.visual[this.type]}}function setVisualToOption($,_e){return $.visual=_e,$.type==="color"&&($.parsedVisual=map$1(_e,function(et){var tt=parse(et);return tt||[0,0,0,1]})),_e}var normalizers={linear:function($){return linearMap$2($,this.option.dataExtent,[0,1],!0)},piecewise:function($){var _e=this.option.pieceList,et=VisualMapping.findPieceIndex($,_e,!0);if(et!=null)return linearMap$2(et,[0,_e.length-1],[0,1],!0)},category:function($){var _e=this.option.categories?this.option.categoryMap[$]:$;return _e==null?CATEGORY_DEFAULT_VISUAL_INDEX:_e},fixed:noop};function littleThan($,_e,et){return $?_e<=et:_e<et}var VisualMapping$1=VisualMapping,ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner(),treemapVisual={seriesType:"treemap",reset:function($){var _e=$.getData().tree,et=_e.root;et.isRemoved()||travelTree(et,{},$.getViewRoot().getAncestors(),$)}};function travelTree($,_e,et,tt){var nt=$.getModel(),at=$.getLayout(),ot=$.hostTree.data;if(!(!at||at.invisible||!at.isInView)){var it=nt.getModel(ITEM_STYLE_NORMAL),st=buildVisuals(it,_e,tt),ut=ot.ensureUniqueItemVisual($.dataIndex,"style"),ft=it.get("borderColor"),dt=it.get("borderColorSaturation"),vt;dt!=null&&(vt=calculateColor(st),ft=calculateBorderColor(dt,vt)),ut.stroke=ft;var gt=$.viewChildren;if(!gt||!gt.length)vt=calculateColor(st),ut.fill=vt;else{var yt=buildVisualMapping($,nt,at,it,st,gt);each$f(gt,function(xt,Ct){if(xt.depth>=et.length||xt===et[xt.depth]){var wt=mapVisual$1(nt,st,xt,Ct,yt,tt);travelTree(xt,wt,et,tt)}})}}}function buildVisuals($,_e,et){var tt=extend({},_e),nt=et.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(at){nt[at]=_e[at];var ot=$.get(at);nt[at]=null,ot!=null&&(tt[at]=ot)}),tt}function calculateColor($){var _e=getValueVisualDefine($,"color");if(_e){var et=getValueVisualDefine($,"colorAlpha"),tt=getValueVisualDefine($,"colorSaturation");return tt&&(_e=modifyHSL(_e,null,null,tt)),et&&(_e=modifyAlpha(_e,et)),_e}}function calculateBorderColor($,_e){return _e!=null?modifyHSL(_e,null,null,$):null}function getValueVisualDefine($,_e){var et=$[_e];if(et!=null&&et!=="none")return et}function buildVisualMapping($,_e,et,tt,nt,at){if(!(!at||!at.length)){var ot=getRangeVisual(_e,"color")||nt.color!=null&&nt.color!=="none"&&(getRangeVisual(_e,"colorAlpha")||getRangeVisual(_e,"colorSaturation"));if(!!ot){var it=_e.get("visualMin"),st=_e.get("visualMax"),ut=et.dataExtent.slice();it!=null&&it<ut[0]&&(ut[0]=it),st!=null&&st>ut[1]&&(ut[1]=st);var ft=_e.get("colorMappingBy"),dt={type:ot.name,dataExtent:ut,visual:ot.range};dt.type==="color"&&(ft==="index"||ft==="id")?(dt.mappingMethod="category",dt.loop=!0):dt.mappingMethod="linear";var vt=new VisualMapping$1(dt);return inner$c(vt).drColorMappingBy=ft,vt}}}function getRangeVisual($,_e){var et=$.get(_e);return isArray$1(et)&&et.length?{name:_e,range:et}:null}function mapVisual$1($,_e,et,tt,nt,at){var ot=extend({},_e);if(nt){var it=nt.type,st=it==="color"&&inner$c(nt).drColorMappingBy,ut=st==="index"?tt:st==="id"?at.mapIdToIndex(et.getId()):et.getValue($.get("visualDimension"));ot[it]=nt.mapValueToVisual(ut)}return ot}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"],treemapLayout={seriesType:"treemap",reset:function($,_e,et,tt){var nt=et.getWidth(),at=et.getHeight(),ot=$.option,it=getLayoutRect($.getBoxLayoutParams(),{width:et.getWidth(),height:et.getHeight()}),st=ot.size||[],ut=parsePercent(retrieveValue(it.width,st[0]),nt),ft=parsePercent(retrieveValue(it.height,st[1]),at),dt=tt&&tt.type,vt=["treemapZoomToNode","treemapRootToNode"],gt=retrieveTargetInfo(tt,vt,$),yt=dt==="treemapRender"||dt==="treemapMove"?tt.rootRect:null,xt=$.getViewRoot(),Ct=getPathToRoot(xt);if(dt!=="treemapMove"){var wt=dt==="treemapZoomToNode"?estimateRootSize($,gt,xt,ut,ft):yt?[yt.width,yt.height]:[ut,ft],Et=ot.sort;Et&&Et!=="asc"&&Et!=="desc"&&(Et="desc");var $t={squareRatio:ot.squareRatio,sort:Et,leafDepth:ot.leafDepth};xt.hostTree.clearLayouts();var It={x:0,y:0,width:wt[0],height:wt[1],area:wt[0]*wt[1]};xt.setLayout(It),squarify(xt,$t,!1,0),It=xt.getLayout(),each$b(Ct,function(Lt,Ft){var zt=(Ct[Ft+1]||xt).getValue();Lt.setLayout(extend({dataExtent:[zt,zt],borderWidth:0,upperHeight:0},It))})}var Ot=$.getData().tree.root;Ot.setLayout(calculateRootPosition(it,yt,gt),!0),$.setLayoutInfo(it),prunning(Ot,new BoundingRect$1(-it.x,-it.y,nt,at),Ct,xt,0)}};function squarify($,_e,et,tt){var nt,at;if(!$.isRemoved()){var ot=$.getLayout();nt=ot.width,at=ot.height;var it=$.getModel(),st=it.get(PATH_BORDER_WIDTH),ut=it.get(PATH_GAP_WIDTH)/2,ft=getUpperLabelHeight(it),dt=Math.max(st,ft),vt=st-ut,gt=dt-ut;$.setLayout({borderWidth:st,upperHeight:dt,upperLabelHeight:ft},!0),nt=mathMax$3(nt-2*vt,0),at=mathMax$3(at-vt-gt,0);var yt=nt*at,xt=initChildren$1($,it,yt,_e,et,tt);if(!!xt.length){var Ct={x:vt,y:gt,width:nt,height:at},wt=mathMin$3(nt,at),Et=1/0,$t=[];$t.area=0;for(var It=0,Ot=xt.length;It<Ot;){var Lt=xt[It];$t.push(Lt),$t.area+=Lt.getLayout().area;var Ft=worst($t,wt,_e.squareRatio);Ft<=Et?(It++,Et=Ft):($t.area-=$t.pop().getLayout().area,position($t,wt,Ct,ut,!1),wt=mathMin$3(Ct.width,Ct.height),$t.length=$t.area=0,Et=1/0)}if($t.length&&position($t,wt,Ct,ut,!0),!et){var zt=it.get("childrenVisibleMin");zt!=null&&yt<zt&&(et=!0)}for(var It=0,Ot=xt.length;It<Ot;It++)squarify(xt[It],_e,et,tt+1)}}}function initChildren$1($,_e,et,tt,nt,at){var ot=$.children||[],it=tt.sort;it!=="asc"&&it!=="desc"&&(it=null);var st=tt.leafDepth!=null&&tt.leafDepth<=at;if(nt&&!st)return $.viewChildren=[];ot=filter(ot,function(gt){return!gt.isRemoved()}),sort$1(ot,it);var ut=statistic(_e,ot,it);if(ut.sum===0)return $.viewChildren=[];if(ut.sum=filterByThreshold(_e,et,ut.sum,it,ot),ut.sum===0)return $.viewChildren=[];for(var ft=0,dt=ot.length;ft<dt;ft++){var vt=ot[ft].getValue()/ut.sum*et;ot[ft].setLayout({area:vt})}return st&&(ot.length&&$.setLayout({isLeafRoot:!0},!0),ot.length=0),$.viewChildren=ot,$.setLayout({dataExtent:ut.dataExtent},!0),ot}function filterByThreshold($,_e,et,tt,nt){if(!tt)return et;for(var at=$.get("visibleMin"),ot=nt.length,it=ot,st=ot-1;st>=0;st--){var ut=nt[tt==="asc"?ot-st-1:st].getValue();ut/et*_e<at&&(it=st,et-=ut)}return tt==="asc"?nt.splice(0,ot-it):nt.splice(it,ot-it),et}function sort$1($,_e){return _e&&$.sort(function(et,tt){var nt=_e==="asc"?et.getValue()-tt.getValue():tt.getValue()-et.getValue();return nt===0?_e==="asc"?et.dataIndex-tt.dataIndex:tt.dataIndex-et.dataIndex:nt}),$}function statistic($,_e,et){for(var tt=0,nt=0,at=_e.length;nt<at;nt++)tt+=_e[nt].getValue();var ot=$.get("visualDimension"),it;return!_e||!_e.length?it=[NaN,NaN]:ot==="value"&&et?(it=[_e[_e.length-1].getValue(),_e[0].getValue()],et==="asc"&&it.reverse()):(it=[1/0,-1/0],each$b(_e,function(st){var ut=st.getValue(ot);ut<it[0]&&(it[0]=ut),ut>it[1]&&(it[1]=ut)})),{sum:tt,dataExtent:it}}function worst($,_e,et){for(var tt=0,nt=1/0,at=0,ot=void 0,it=$.length;at<it;at++)ot=$[at].getLayout().area,ot&&(ot<nt&&(nt=ot),ot>tt&&(tt=ot));var st=$.area*$.area,ut=_e*_e*et;return st?mathMax$3(ut*tt/st,st/(ut*nt)):1/0}function position($,_e,et,tt,nt){var at=_e===et.width?0:1,ot=1-at,it=["x","y"],st=["width","height"],ut=et[it[at]],ft=_e?$.area/_e:0;(nt||ft>et[st[ot]])&&(ft=et[st[ot]]);for(var dt=0,vt=$.length;dt<vt;dt++){var gt=$[dt],yt={},xt=ft?gt.getLayout().area/ft:0,Ct=yt[st[ot]]=mathMax$3(ft-2*tt,0),wt=et[it[at]]+et[st[at]]-ut,Et=dt===vt-1||wt<xt?wt:xt,$t=yt[st[at]]=mathMax$3(Et-2*tt,0);yt[it[ot]]=et[it[ot]]+mathMin$3(tt,Ct/2),yt[it[at]]=ut+mathMin$3(tt,$t/2),ut+=Et,gt.setLayout(yt,!0)}et[it[ot]]+=ft,et[st[ot]]-=ft}function estimateRootSize($,_e,et,tt,nt){var at=(_e||{}).node,ot=[tt,nt];if(!at||at===et)return ot;for(var it,st=tt*nt,ut=st*$.option.zoomToNodeRatio;it=at.parentNode;){for(var ft=0,dt=it.children,vt=0,gt=dt.length;vt<gt;vt++)ft+=dt[vt].getValue();var yt=at.getValue();if(yt===0)return ot;ut*=ft/yt;var xt=it.getModel(),Ct=xt.get(PATH_BORDER_WIDTH),wt=Math.max(Ct,getUpperLabelHeight(xt));ut+=4*Ct*Ct+(3*Ct+wt)*Math.pow(ut,.5),ut>MAX_SAFE_INTEGER&&(ut=MAX_SAFE_INTEGER),at=it}ut<st&&(ut=st);var Et=Math.pow(ut/st,.5);return[tt*Et,nt*Et]}function calculateRootPosition($,_e,et){if(_e)return{x:_e.x,y:_e.y};var tt={x:0,y:0};if(!et)return tt;var nt=et.node,at=nt.getLayout();if(!at)return tt;for(var ot=[at.width/2,at.height/2],it=nt;it;){var st=it.getLayout();ot[0]+=st.x,ot[1]+=st.y,it=it.parentNode}return{x:$.width/2-ot[0],y:$.height/2-ot[1]}}function prunning($,_e,et,tt,nt){var at=$.getLayout(),ot=et[nt],it=ot&&ot===$;if(!(ot&&!it||nt===et.length&&$!==tt)){$.setLayout({isInView:!0,invisible:!it&&!_e.intersect(at),isAboveViewRoot:it},!0);var st=new BoundingRect$1(_e.x-at.x,_e.y-at.y,_e.width,_e.height);each$b($.viewChildren||[],function(ut){prunning(ut,st,et,tt,nt+1)})}}function getUpperLabelHeight($){return $.get(PATH_UPPER_LABEL_SHOW)?$.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G($){$.registerSeriesModel(TreemapSeriesModel$1),$.registerChartView(TreemapView$1),$.registerVisual(treemapVisual),$.registerLayout(treemapLayout),installTreemapAction($)}function categoryFilter($){var _e=$.findComponents({mainType:"legend"});!_e||!_e.length||$.eachSeriesByType("graph",function(et){var tt=et.getCategoriesData(),nt=et.getGraph(),at=nt.data,ot=tt.mapArray(tt.getName);at.filterSelf(function(it){var st=at.getItemModel(it),ut=st.getShallow("category");if(ut!=null){isNumber(ut)&&(ut=ot[ut]);for(var ft=0;ft<_e.length;ft++)if(!_e[ft].isSelected(ut))return!1}return!0})})}function categoryVisual($){var _e={};$.eachSeriesByType("graph",function(et){var tt=et.getCategoriesData(),nt=et.getData(),at={};tt.each(function(ot){var it=tt.getName(ot);at["ec-"+it]=ot;var st=tt.getItemModel(ot),ut=st.getModel("itemStyle").getItemStyle();ut.fill||(ut.fill=et.getColorFromPalette(it,_e)),tt.setItemVisual(ot,"style",ut);for(var ft=["symbol","symbolSize","symbolKeepAspect"],dt=0;dt<ft.length;dt++){var vt=st.getShallow(ft[dt],!0);vt!=null&&tt.setItemVisual(ot,ft[dt],vt)}}),tt.count()&&nt.each(function(ot){var it=nt.getItemModel(ot),st=it.getShallow("category");if(st!=null){isString(st)&&(st=at["ec-"+st]);var ut=tt.getItemVisual(st,"style"),ft=nt.ensureUniqueItemVisual(ot,"style");extend(ft,ut);for(var dt=["symbol","symbolSize","symbolKeepAspect"],vt=0;vt<dt.length;vt++)nt.setItemVisual(ot,dt[vt],tt.getItemVisual(st,dt[vt]))}})})}function normalize$1($){return $ instanceof Array||($=[$,$]),$}function graphEdgeVisual($){$.eachSeriesByType("graph",function(_e){var et=_e.getGraph(),tt=_e.getEdgeData(),nt=normalize$1(_e.get("edgeSymbol")),at=normalize$1(_e.get("edgeSymbolSize"));tt.setVisual("fromSymbol",nt&&nt[0]),tt.setVisual("toSymbol",nt&&nt[1]),tt.setVisual("fromSymbolSize",at&&at[0]),tt.setVisual("toSymbolSize",at&&at[1]),tt.setVisual("style",_e.getModel("lineStyle").getLineStyle()),tt.each(function(ot){var it=tt.getItemModel(ot),st=et.getEdgeByIndex(ot),ut=normalize$1(it.getShallow("symbol",!0)),ft=normalize$1(it.getShallow("symbolSize",!0)),dt=it.getModel("lineStyle").getLineStyle(),vt=tt.ensureUniqueItemVisual(ot,"style");switch(extend(vt,dt),vt.stroke){case"source":{var gt=st.node1.getVisual("style");vt.stroke=gt&&gt.fill;break}case"target":{var gt=st.node2.getVisual("style");vt.stroke=gt&&gt.fill;break}}ut[0]&&st.setVisual("fromSymbol",ut[0]),ut[1]&&st.setVisual("toSymbol",ut[1]),ft[0]&&st.setVisual("fromSymbolSize",ft[0]),ft[1]&&st.setVisual("toSymbolSize",ft[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function($){return $.get("autoCurveness")||null},createCurveness=function($,_e){var et=getAutoCurvenessParams($),tt=20,nt=[];if(isNumber(et))tt=et;else if(isArray$1(et)){$.__curvenessList=et;return}_e>tt&&(tt=_e);var at=tt%2?tt+2:tt+3;nt=[];for(var ot=0;ot<at;ot++)nt.push((ot%2?ot+1:ot)/10*(ot%2?-1:1));$.__curvenessList=nt},getKeyOfEdges=function($,_e,et){var tt=[$.id,$.dataIndex].join("."),nt=[_e.id,_e.dataIndex].join(".");return[et.uid,tt,nt].join(KEY_DELIMITER)},getOppositeKey=function($){var _e=$.split(KEY_DELIMITER);return[_e[0],_e[2],_e[1]].join(KEY_DELIMITER)},getEdgeFromMap=function($,_e){var et=getKeyOfEdges($.node1,$.node2,_e);return _e.__edgeMap[et]},getTotalLengthBetweenNodes=function($,_e){var et=getEdgeMapLengthWithKey(getKeyOfEdges($.node1,$.node2,_e),_e),tt=getEdgeMapLengthWithKey(getKeyOfEdges($.node2,$.node1,_e),_e);return et+tt},getEdgeMapLengthWithKey=function($,_e){var et=_e.__edgeMap;return et[$]?et[$].length:0};function initCurvenessList($){!getAutoCurvenessParams($)||($.__curvenessList=[],$.__edgeMap={},createCurveness($))}function createEdgeMapForCurveness($,_e,et,tt){if(!!getAutoCurvenessParams(et)){var nt=getKeyOfEdges($,_e,et),at=et.__edgeMap,ot=at[getOppositeKey(nt)];at[nt]&&!ot?at[nt].isForward=!0:ot&&at[nt]&&(ot.isForward=!0,at[nt].isForward=!1),at[nt]=at[nt]||[],at[nt].push(tt)}}function getCurvenessForEdge($,_e,et,tt){var nt=getAutoCurvenessParams(_e),at=isArray$1(nt);if(!nt)return null;var ot=getEdgeFromMap($,_e);if(!ot)return null;for(var it=-1,st=0;st<ot.length;st++)if(ot[st]===et){it=st;break}var ut=getTotalLengthBetweenNodes($,_e);createCurveness(_e,ut),$.lineStyle=$.lineStyle||{};var ft=getKeyOfEdges($.node1,$.node2,_e),dt=_e.__curvenessList,vt=at||ut%2?0:1;if(ot.isForward)return dt[vt+it];var gt=getOppositeKey(ft),yt=getEdgeMapLengthWithKey(gt,_e),xt=dt[it+yt+vt];return tt?at?nt&&nt[0]===0?(yt+vt)%2?xt:-xt:((yt%2?0:1)+vt)%2?xt:-xt:(yt+vt)%2?xt:-xt:dt[it+yt+vt]}function simpleLayout($){var _e=$.coordinateSystem;if(!(_e&&_e.type!=="view")){var et=$.getGraph();et.eachNode(function(tt){var nt=tt.getModel();tt.setLayout([+nt.get("x"),+nt.get("y")])}),simpleLayoutEdge(et,$)}}function simpleLayoutEdge($,_e){$.eachEdge(function(et,tt){var nt=retrieve3(et.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(et,_e,tt,!0),0),at=clone$3(et.node1.getLayout()),ot=clone$3(et.node2.getLayout()),it=[at,ot];+nt&&it.push([(at[0]+ot[0])/2-(at[1]-ot[1])*nt,(at[1]+ot[1])/2-(ot[0]-at[0])*nt]),et.setLayout(it)})}function graphSimpleLayout($,_e){$.eachSeriesByType("graph",function(et){var tt=et.get("layout"),nt=et.coordinateSystem;if(nt&&nt.type!=="view"){var at=et.getData(),ot=[];each$f(nt.dimensions,function(vt){ot=ot.concat(at.mapDimensionsAll(vt))});for(var it=0;it<at.count();it++){for(var st=[],ut=!1,ft=0;ft<ot.length;ft++){var dt=at.get(ot[ft],it);isNaN(dt)||(ut=!0),st.push(dt)}ut?at.setItemLayout(it,nt.dataToPoint(st)):at.setItemLayout(it,[NaN,NaN])}simpleLayoutEdge(at.graph,et)}else(!tt||tt==="none")&&simpleLayout(et)})}function getNodeGlobalScale($){var _e=$.coordinateSystem;if(_e.type!=="view")return 1;var et=$.option.nodeScaleRatio,tt=_e.scaleX,nt=_e.getZoom(),at=(nt-1)*et+1;return at/tt}function getSymbolSize($){var _e=$.getVisual("symbolSize");return _e instanceof Array&&(_e=(_e[0]+_e[1])/2),+_e}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout($,_e){var et=$.coordinateSystem;if(!(et&&et.type!=="view")){var tt=et.getBoundingRect(),nt=$.getData(),at=nt.graph,ot=tt.width/2+tt.x,it=tt.height/2+tt.y,st=Math.min(tt.width,tt.height)/2,ut=nt.count();nt.setLayout({cx:ot,cy:it}),ut&&(_layoutNodesBasedOn[_e]($,at,nt,st,ot,it,ut),at.eachEdge(function(ft,dt){var vt=retrieve3(ft.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(ft,$,dt),0),gt=clone$3(ft.node1.getLayout()),yt=clone$3(ft.node2.getLayout()),xt,Ct=(gt[0]+yt[0])/2,wt=(gt[1]+yt[1])/2;+vt&&(vt*=3,xt=[ot*vt+Ct*(1-vt),it*vt+wt*(1-vt)]),ft.setLayout([gt,yt,xt])}))}}var _layoutNodesBasedOn={value:function($,_e,et,tt,nt,at,ot){var it=0,st=et.getSum("value"),ut=Math.PI*2/(st||ot);_e.eachNode(function(ft){var dt=ft.getValue("value"),vt=ut*(st?dt:1)/2;it+=vt,ft.setLayout([tt*Math.cos(it)+nt,tt*Math.sin(it)+at]),it+=vt})},symbolSize:function($,_e,et,tt,nt,at,ot){var it=0;_symbolRadiansHalf.length=ot;var st=getNodeGlobalScale($);_e.eachNode(function(dt){var vt=getSymbolSize(dt);isNaN(vt)&&(vt=2),vt<0&&(vt=0),vt*=st;var gt=Math.asin(vt/2/tt);isNaN(gt)&&(gt=PI$2/2),_symbolRadiansHalf[dt.dataIndex]=gt,it+=gt*2});var ut=(2*PI$2-it)/ot/2,ft=0;_e.eachNode(function(dt){var vt=ut+_symbolRadiansHalf[dt.dataIndex];ft+=vt,dt.setLayout([tt*Math.cos(ft)+nt,tt*Math.sin(ft)+at]),ft+=vt})}};function graphCircularLayout($){$.eachSeriesByType("graph",function(_e){_e.get("layout")==="circular"&&circularLayout(_e,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout($,_e,et){for(var tt=$,nt=_e,at=et.rect,ot=at.width,it=at.height,st=[at.x+ot/2,at.y+it/2],ut=et.gravity==null?.1:et.gravity,ft=0;ft<tt.length;ft++){var dt=tt[ft];dt.p||(dt.p=create$2(ot*(Math.random()-.5)+st[0],it*(Math.random()-.5)+st[1])),dt.pp=clone$3(dt.p),dt.edges=null}var vt=et.friction==null?.6:et.friction,gt=vt,yt,xt;return{warmUp:function(){gt=vt*.8},setFixed:function(Ct){tt[Ct].fixed=!0},setUnfixed:function(Ct){tt[Ct].fixed=!1},beforeStep:function(Ct){yt=Ct},afterStep:function(Ct){xt=Ct},step:function(Ct){yt&&yt(tt,nt);for(var wt=[],Et=tt.length,$t=0;$t<nt.length;$t++){var It=nt[$t];if(!It.ignoreForceLayout){var Ot=It.n1,Lt=It.n2;sub(wt,Lt.p,Ot.p);var Ft=len(wt)-It.d,zt=Lt.w/(Ot.w+Lt.w);isNaN(zt)&&(zt=0),normalize$3(wt,wt),!Ot.fixed&&scaleAndAdd(Ot.p,Ot.p,wt,zt*Ft*gt),!Lt.fixed&&scaleAndAdd(Lt.p,Lt.p,wt,-(1-zt)*Ft*gt)}}for(var $t=0;$t<Et;$t++){var Gt=tt[$t];Gt.fixed||(sub(wt,st,Gt.p),scaleAndAdd(Gt.p,Gt.p,wt,ut*gt))}for(var $t=0;$t<Et;$t++)for(var Ot=tt[$t],jt=$t+1;jt<Et;jt++){var Lt=tt[jt];sub(wt,Lt.p,Ot.p);var Ft=len(wt);Ft===0&&(set$1(wt,Math.random()-.5,Math.random()-.5),Ft=1);var Ut=(Ot.rep+Lt.rep)/Ft/Ft;!Ot.fixed&&scaleAndAdd(Ot.pp,Ot.pp,wt,Ut),!Lt.fixed&&scaleAndAdd(Lt.pp,Lt.pp,wt,-Ut)}for(var Kt=[],$t=0;$t<Et;$t++){var Gt=tt[$t];Gt.fixed||(sub(Kt,Gt.p,Gt.pp),scaleAndAdd(Gt.p,Gt.p,Kt,gt),copy$1(Gt.pp,Gt.p))}gt=gt*.992;var Zt=gt<.01;xt&&xt(tt,nt,Zt),Ct&&Ct(Zt)}}}function graphForceLayout($){$.eachSeriesByType("graph",function(_e){var et=_e.coordinateSystem;if(!(et&&et.type!=="view"))if(_e.get("layout")==="force"){var tt=_e.preservedPoints||{},nt=_e.getGraph(),at=nt.data,ot=nt.edgeData,it=_e.getModel("force"),st=it.get("initLayout");_e.preservedPoints?at.each(function($t){var It=at.getId($t);at.setItemLayout($t,tt[It]||[NaN,NaN])}):!st||st==="none"?simpleLayout(_e):st==="circular"&&circularLayout(_e,"value");var ut=at.getDataExtent("value"),ft=ot.getDataExtent("value"),dt=it.get("repulsion"),vt=it.get("edgeLength"),gt=isArray$1(dt)?dt:[dt,dt],yt=isArray$1(vt)?vt:[vt,vt];yt=[yt[1],yt[0]];var xt=at.mapArray("value",function($t,It){var Ot=at.getItemLayout(It),Lt=linearMap$2($t,ut,gt);return isNaN(Lt)&&(Lt=(gt[0]+gt[1])/2),{w:Lt,rep:Lt,fixed:at.getItemModel(It).get("fixed"),p:!Ot||isNaN(Ot[0])||isNaN(Ot[1])?null:Ot}}),Ct=ot.mapArray("value",function($t,It){var Ot=nt.getEdgeByIndex(It),Lt=linearMap$2($t,ft,yt);isNaN(Lt)&&(Lt=(yt[0]+yt[1])/2);var Ft=Ot.getModel(),zt=retrieve3(Ot.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Ot,_e,It,!0),0);return{n1:xt[Ot.node1.dataIndex],n2:xt[Ot.node2.dataIndex],d:Lt,curveness:zt,ignoreForceLayout:Ft.get("ignoreForceLayout")}}),wt=et.getBoundingRect(),Et=forceLayout(xt,Ct,{rect:wt,gravity:it.get("gravity"),friction:it.get("friction")});Et.beforeStep(function($t,It){for(var Ot=0,Lt=$t.length;Ot<Lt;Ot++)$t[Ot].fixed&&copy$1($t[Ot].p,nt.getNodeByIndex(Ot).getLayout())}),Et.afterStep(function($t,It,Ot){for(var Lt=0,Ft=$t.length;Lt<Ft;Lt++)$t[Lt].fixed||nt.getNodeByIndex(Lt).setLayout($t[Lt].p),tt[at.getId(Lt)]=$t[Lt].p;for(var Lt=0,Ft=It.length;Lt<Ft;Lt++){var zt=It[Lt],Gt=nt.getEdgeByIndex(Lt),jt=zt.n1.p,Ut=zt.n2.p,Kt=Gt.getLayout();Kt=Kt?Kt.slice():[],Kt[0]=Kt[0]||[],Kt[1]=Kt[1]||[],copy$1(Kt[0],jt),copy$1(Kt[1],Ut),+zt.curveness&&(Kt[2]=[(jt[0]+Ut[0])/2-(jt[1]-Ut[1])*zt.curveness,(jt[1]+Ut[1])/2-(Ut[0]-jt[0])*zt.curveness]),Gt.setLayout(Kt)}}),_e.forceLayout=Et,_e.preservedPoints=tt,Et.step()}else _e.forceLayout=null})}function getViewRect$3($,_e,et){var tt=extend($.getBoxLayoutParams(),{aspect:et});return getLayoutRect(tt,{width:_e.getWidth(),height:_e.getHeight()})}function createViewCoordSys($,_e){var et=[];return $.eachSeriesByType("graph",function(tt){var nt=tt.get("coordinateSystem");if(!nt||nt==="view"){var at=tt.getData(),ot=at.mapArray(function(Ct){var wt=at.getItemModel(Ct);return[+wt.get("x"),+wt.get("y")]}),it=[],st=[];fromPoints(ot,it,st),st[0]-it[0]===0&&(st[0]+=1,it[0]-=1),st[1]-it[1]===0&&(st[1]+=1,it[1]-=1);var ut=(st[0]-it[0])/(st[1]-it[1]),ft=getViewRect$3(tt,_e,ut);isNaN(ut)&&(it=[ft.x,ft.y],st=[ft.x+ft.width,ft.y+ft.height]);var dt=st[0]-it[0],vt=st[1]-it[1],gt=ft.width,yt=ft.height,xt=tt.coordinateSystem=new View$1;xt.zoomLimit=tt.get("scaleLimit"),xt.setBoundingRect(it[0],it[1],dt,vt),xt.setViewRect(ft.x,ft.y,gt,yt),xt.setCenter(tt.get("center"),_e),xt.setZoom(tt.get("zoom")),et.push(xt)}}),et}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return $}();(function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e})(StraightLineShape);function isStraightLine($){return isNaN(+$.cpx1)||isNaN(+$.cpy1)}var ECLinePath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="ec-line",tt}return _e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new StraightLineShape},_e.prototype.buildPath=function(et,tt){isStraightLine(tt)?straightLineProto.buildPath.call(this,et,tt):bezierCurveProto.buildPath.call(this,et,tt)},_e.prototype.pointAt=function(et){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,et):bezierCurveProto.pointAt.call(this,et)},_e.prototype.tangentAt=function(et){var tt=this.shape,nt=isStraightLine(tt)?[tt.x2-tt.x1,tt.y2-tt.y1]:bezierCurveProto.tangentAt.call(this,et);return normalize$3(nt,nt)},_e}(Path$1),ECLinePath$1=ECLinePath,SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey($){return"_"+$+"Type"}function createSymbol($,_e,et){var tt=_e.getItemVisual(et,$);if(!(!tt||tt==="none")){var nt=_e.getItemVisual(et,$+"Size"),at=_e.getItemVisual(et,$+"Rotate"),ot=_e.getItemVisual(et,$+"Offset"),it=_e.getItemVisual(et,$+"KeepAspect"),st=normalizeSymbolSize(nt),ut=normalizeSymbolOffset(ot||0,st),ft=createSymbol$1(tt,-st[0]/2+ut[0],-st[1]/2+ut[1],st[0],st[1],null,it);return ft.__specifiedRotation=at==null||isNaN(at)?void 0:+at*Math.PI/180||0,ft.name=$,ft}}function createLine($){var _e=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(_e.shape,$),_e}function setLinePoints($,_e){$.x1=_e[0][0],$.y1=_e[0][1],$.x2=_e[1][0],$.y2=_e[1][1],$.percent=1;var et=_e[2];et?($.cpx1=et[0],$.cpy1=et[1]):($.cpx1=NaN,$.cpy1=NaN)}var Line=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this)||this;return at._createLine(et,tt,nt),at}return _e.prototype._createLine=function(et,tt,nt){var at=et.hostModel,ot=et.getItemLayout(tt),it=createLine(ot);it.shape.percent=0,initProps(it,{shape:{percent:1}},at,tt),this.add(it),each$f(SYMBOL_CATEGORIES,function(st){var ut=createSymbol(st,et,tt);this.add(ut),this[makeSymbolTypeKey(st)]=et.getItemVisual(tt,st)},this),this._updateCommonStl(et,tt,nt)},_e.prototype.updateData=function(et,tt,nt){var at=et.hostModel,ot=this.childOfName("line"),it=et.getItemLayout(tt),st={shape:{}};setLinePoints(st.shape,it),updateProps$1(ot,st,at,tt),each$f(SYMBOL_CATEGORIES,function(ut){var ft=et.getItemVisual(tt,ut),dt=makeSymbolTypeKey(ut);if(this[dt]!==ft){this.remove(this.childOfName(ut));var vt=createSymbol(ut,et,tt);this.add(vt)}this[dt]=ft},this),this._updateCommonStl(et,tt,nt)},_e.prototype.getLinePath=function(){return this.childAt(0)},_e.prototype._updateCommonStl=function(et,tt,nt){var at=et.hostModel,ot=this.childOfName("line"),it=nt&&nt.emphasisLineStyle,st=nt&&nt.blurLineStyle,ut=nt&&nt.selectLineStyle,ft=nt&&nt.labelStatesModels,dt=nt&&nt.emphasisDisabled,vt=nt&&nt.focus,gt=nt&&nt.blurScope;if(!nt||et.hasItemOption){var yt=et.getItemModel(tt),xt=yt.getModel("emphasis");it=xt.getModel("lineStyle").getLineStyle(),st=yt.getModel(["blur","lineStyle"]).getLineStyle(),ut=yt.getModel(["select","lineStyle"]).getLineStyle(),dt=xt.get("disabled"),vt=xt.get("focus"),gt=xt.get("blurScope"),ft=getLabelStatesModels(yt)}var Ct=et.getItemVisual(tt,"style"),wt=Ct.stroke;ot.useStyle(Ct),ot.style.fill=null,ot.style.strokeNoScale=!0,ot.ensureState("emphasis").style=it,ot.ensureState("blur").style=st,ot.ensureState("select").style=ut,each$f(SYMBOL_CATEGORIES,function(Lt){var Ft=this.childOfName(Lt);if(Ft){Ft.setColor(wt),Ft.style.opacity=Ct.opacity;for(var zt=0;zt<SPECIAL_STATES.length;zt++){var Gt=SPECIAL_STATES[zt],jt=ot.getState(Gt);if(jt){var Ut=jt.style||{},Kt=Ft.ensureState(Gt),Zt=Kt.style||(Kt.style={});Ut.stroke!=null&&(Zt[Ft.__isEmptyBrush?"stroke":"fill"]=Ut.stroke),Ut.opacity!=null&&(Zt.opacity=Ut.opacity)}}Ft.markRedraw()}},this);var Et=at.getRawValue(tt);setLabelStyle(this,ft,{labelDataIndex:tt,labelFetcher:{getFormattedLabel:function(Lt,Ft){return at.getFormattedLabel(Lt,Ft,et.dataType)}},inheritColor:wt||"#000",defaultOpacity:Ct.opacity,defaultText:(Et==null?et.getName(tt):isFinite(Et)?round$3(Et):Et)+""});var $t=this.getTextContent();if($t){var It=ft.normal;$t.__align=$t.style.align,$t.__verticalAlign=$t.style.verticalAlign,$t.__position=It.get("position")||"middle";var Ot=It.get("distance");isArray$1(Ot)||(Ot=[Ot,Ot]),$t.__labelDistance=Ot}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,vt,gt,dt)},_e.prototype.highlight=function(){enterEmphasis(this)},_e.prototype.downplay=function(){leaveEmphasis(this)},_e.prototype.updateLayout=function(et,tt){this.setLinePoints(et.getItemLayout(tt))},_e.prototype.setLinePoints=function(et){var tt=this.childOfName("line");setLinePoints(tt.shape,et),tt.dirty()},_e.prototype.beforeUpdate=function(){var et=this,tt=et.childOfName("fromSymbol"),nt=et.childOfName("toSymbol"),at=et.getTextContent();if(!tt&&!nt&&(!at||at.ignore))return;for(var ot=1,it=this.parent;it;)it.scaleX&&(ot/=it.scaleX),it=it.parent;var st=et.childOfName("line");if(!this.__dirty&&!st.__dirty)return;var ut=st.shape.percent,ft=st.pointAt(0),dt=st.pointAt(ut),vt=sub([],dt,ft);normalize$3(vt,vt);function gt(jt,Ut){var Kt=jt.__specifiedRotation;if(Kt==null){var Zt=st.tangentAt(Ut);jt.attr("rotation",(Ut===1?-1:1)*Math.PI/2-Math.atan2(Zt[1],Zt[0]))}else jt.attr("rotation",Kt)}if(tt&&(tt.setPosition(ft),gt(tt,0),tt.scaleX=tt.scaleY=ot*ut,tt.markRedraw()),nt&&(nt.setPosition(dt),gt(nt,1),nt.scaleX=nt.scaleY=ot*ut,nt.markRedraw()),at&&!at.ignore){at.x=at.y=0,at.originX=at.originY=0;var yt=void 0,xt=void 0,Ct=at.__labelDistance,wt=Ct[0]*ot,Et=Ct[1]*ot,$t=ut/2,It=st.tangentAt($t),Ot=[It[1],-It[0]],Lt=st.pointAt($t);Ot[1]>0&&(Ot[0]=-Ot[0],Ot[1]=-Ot[1]);var Ft=It[0]<0?-1:1;if(at.__position!=="start"&&at.__position!=="end"){var zt=-Math.atan2(It[1],It[0]);dt[0]<ft[0]&&(zt=Math.PI+zt),at.rotation=zt}var Gt=void 0;switch(at.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Gt=-Et,xt="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Gt=Et,xt="top";break;default:Gt=0,xt="middle"}switch(at.__position){case"end":at.x=vt[0]*wt+dt[0],at.y=vt[1]*Et+dt[1],yt=vt[0]>.8?"left":vt[0]<-.8?"right":"center",xt=vt[1]>.8?"top":vt[1]<-.8?"bottom":"middle";break;case"start":at.x=-vt[0]*wt+ft[0],at.y=-vt[1]*Et+ft[1],yt=vt[0]>.8?"right":vt[0]<-.8?"left":"center",xt=vt[1]>.8?"bottom":vt[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":at.x=wt*Ft+ft[0],at.y=ft[1]+Gt,yt=It[0]<0?"right":"left",at.originX=-wt*Ft,at.originY=-Gt;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":at.x=Lt[0],at.y=Lt[1]+Gt,yt="center",at.originY=-Gt;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":at.x=-wt*Ft+dt[0],at.y=dt[1]+Gt,yt=It[0]>=0?"right":"left",at.originX=wt*Ft,at.originY=-Gt;break}at.scaleX=at.scaleY=ot,at.setStyle({verticalAlign:at.__verticalAlign||xt,align:at.__align||yt})}},_e}(Group$4),Line$1=Line,LineDraw=function(){function $(_e){this.group=new Group$4,this._LineCtor=_e||Line$1}return $.prototype.updateData=function(_e){var et=this;this._progressiveEls=null;var tt=this,nt=tt.group,at=tt._lineData;tt._lineData=_e,at||nt.removeAll();var ot=makeSeriesScope$1(_e);_e.diff(at).add(function(it){et._doAdd(_e,it,ot)}).update(function(it,st){et._doUpdate(at,_e,st,it,ot)}).remove(function(it){nt.remove(at.getItemGraphicEl(it))}).execute()},$.prototype.updateLayout=function(){var _e=this._lineData;!_e||_e.eachItemGraphicEl(function(et,tt){et.updateLayout(_e,tt)},this)},$.prototype.incrementalPrepareUpdate=function(_e){this._seriesScope=makeSeriesScope$1(_e),this._lineData=null,this.group.removeAll()},$.prototype.incrementalUpdate=function(_e,et){this._progressiveEls=[];function tt(it){!it.isGroup&&!isEffectObject(it)&&(it.incremental=!0,it.ensureState("emphasis").hoverLayer=!0)}for(var nt=_e.start;nt<_e.end;nt++){var at=et.getItemLayout(nt);if(lineNeedsDraw(at)){var ot=new this._LineCtor(et,nt,this._seriesScope);ot.traverse(tt),this.group.add(ot),et.setItemGraphicEl(nt,ot),this._progressiveEls.push(ot)}}},$.prototype.remove=function(){this.group.removeAll()},$.prototype.eachRendered=function(_e){traverseElements(this._progressiveEls||this.group,_e)},$.prototype._doAdd=function(_e,et,tt){var nt=_e.getItemLayout(et);if(!!lineNeedsDraw(nt)){var at=new this._LineCtor(_e,et,tt);_e.setItemGraphicEl(et,at),this.group.add(at)}},$.prototype._doUpdate=function(_e,et,tt,nt,at){var ot=_e.getItemGraphicEl(tt);if(!lineNeedsDraw(et.getItemLayout(nt))){this.group.remove(ot);return}ot?ot.updateData(et,nt,at):ot=new this._LineCtor(et,nt,at),et.setItemGraphicEl(nt,ot),this.group.add(ot)},$}();function isEffectObject($){return $.animators&&$.animators.length>0}function makeSeriesScope$1($){var _e=$.hostModel,et=_e.getModel("emphasis");return{lineStyle:_e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:et.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:_e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:_e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:et.get("disabled"),blurScope:et.get("blurScope"),focus:et.get("focus"),labelStatesModels:getLabelStatesModels(_e)}}function isPointNaN($){return isNaN($[0])||isNaN($[1])}function lineNeedsDraw($){return $&&!isPointNaN($[0])&&!isPointNaN($[1])}var LineDraw$1=LineDraw,v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle($,_e,et){for(var tt=$[0],nt=$[1],at=$[2],ot=1/0,it,st=et*et,ut=.1,ft=.1;ft<=.9;ft+=.1){v1[0]=quadraticAt(tt[0],nt[0],at[0],ft),v1[1]=quadraticAt(tt[1],nt[1],at[1],ft);var dt=mathAbs(v2DistSquare(v1,_e)-st);dt<ot&&(ot=dt,it=ft)}for(var vt=0;vt<32;vt++){var gt=it+ut;v2[0]=quadraticAt(tt[0],nt[0],at[0],it),v2[1]=quadraticAt(tt[1],nt[1],at[1],it),v3[0]=quadraticAt(tt[0],nt[0],at[0],gt),v3[1]=quadraticAt(tt[1],nt[1],at[1],gt);var dt=v2DistSquare(v2,_e)-st;if(mathAbs(dt)<.01)break;var yt=v2DistSquare(v3,_e)-st;ut/=2,dt<0?yt>=0?it=it+ut:it=it-ut:yt>=0?it=it-ut:it=it+ut}return it}function adjustEdge($,_e){var et=[],tt=quadraticSubdivide,nt=[[],[],[]],at=[[],[]],ot=[];_e/=2,$.eachEdge(function(it,st){var ut=it.getLayout(),ft=it.getVisual("fromSymbol"),dt=it.getVisual("toSymbol");ut.__original||(ut.__original=[clone$3(ut[0]),clone$3(ut[1])],ut[2]&&ut.__original.push(clone$3(ut[2])));var vt=ut.__original;if(ut[2]!=null){if(copy$1(nt[0],vt[0]),copy$1(nt[1],vt[2]),copy$1(nt[2],vt[1]),ft&&ft!=="none"){var gt=getSymbolSize(it.node1),yt=intersectCurveCircle(nt,vt[0],gt*_e);tt(nt[0][0],nt[1][0],nt[2][0],yt,et),nt[0][0]=et[3],nt[1][0]=et[4],tt(nt[0][1],nt[1][1],nt[2][1],yt,et),nt[0][1]=et[3],nt[1][1]=et[4]}if(dt&&dt!=="none"){var gt=getSymbolSize(it.node2),yt=intersectCurveCircle(nt,vt[1],gt*_e);tt(nt[0][0],nt[1][0],nt[2][0],yt,et),nt[1][0]=et[1],nt[2][0]=et[2],tt(nt[0][1],nt[1][1],nt[2][1],yt,et),nt[1][1]=et[1],nt[2][1]=et[2]}copy$1(ut[0],nt[0]),copy$1(ut[1],nt[2]),copy$1(ut[2],nt[1])}else{if(copy$1(at[0],vt[0]),copy$1(at[1],vt[1]),sub(ot,at[1],at[0]),normalize$3(ot,ot),ft&&ft!=="none"){var gt=getSymbolSize(it.node1);scaleAndAdd$1(at[0],at[0],ot,gt*_e)}if(dt&&dt!=="none"){var gt=getSymbolSize(it.node2);scaleAndAdd$1(at[1],at[1],ot,-gt*_e)}copy$1(ut[0],at[0]),copy$1(ut[1],at[1])}})}function isViewCoordSys($){return $.type==="view"}var GraphView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt){var nt=new SymbolDraw$1,at=new LineDraw$1,ot=this.group;this._controller=new RoamController$1(tt.getZr()),this._controllerHost={target:ot},ot.add(nt.group),ot.add(at.group),this._symbolDraw=nt,this._lineDraw=at,this._firstRender=!0},_e.prototype.render=function(et,tt,nt){var at=this,ot=et.coordinateSystem;this._model=et;var it=this._symbolDraw,st=this._lineDraw,ut=this.group;if(isViewCoordSys(ot)){var ft={x:ot.x,y:ot.y,scaleX:ot.scaleX,scaleY:ot.scaleY};this._firstRender?ut.attr(ft):updateProps$1(ut,ft,et)}adjustEdge(et.getGraph(),getNodeGlobalScale(et));var dt=et.getData();it.updateData(dt);var vt=et.getEdgeData();st.updateData(vt),this._updateNodeAndLinkScale(),this._updateController(et,tt,nt),clearTimeout(this._layoutTimeout);var gt=et.forceLayout,yt=et.get(["force","layoutAnimation"]);gt&&this._startForceLayoutIteration(gt,yt),dt.graph.eachNode(function(Et){var $t=Et.dataIndex,It=Et.getGraphicEl(),Ot=Et.getModel();if(!!It){It.off("drag").off("dragend");var Lt=Ot.get("draggable");Lt&&It.on("drag",function(){gt&&(gt.warmUp(),!at._layouting&&at._startForceLayoutIteration(gt,yt),gt.setFixed($t),dt.setItemLayout($t,[It.x,It.y]))}).on("dragend",function(){gt&&gt.setUnfixed($t)}),It.setDraggable(Lt&&!!gt,!!Ot.get("cursor"));var Ft=Ot.get(["emphasis","focus"]);Ft==="adjacency"&&(getECData(It).focus=Et.getAdjacentDataIndices())}}),dt.graph.eachEdge(function(Et){var $t=Et.getGraphicEl(),It=Et.getModel().get(["emphasis","focus"]);!$t||It==="adjacency"&&(getECData($t).focus={edge:[Et.dataIndex],node:[Et.node1.dataIndex,Et.node2.dataIndex]})});var xt=et.get("layout")==="circular"&&et.get(["circular","rotateLabel"]),Ct=dt.getLayout("cx"),wt=dt.getLayout("cy");dt.eachItemGraphicEl(function(Et,$t){var It=dt.getItemModel($t),Ot=It.get(["label","rotate"])||0,Lt=Et.getSymbolPath();if(xt){var Ft=dt.getItemLayout($t),zt=Math.atan2(Ft[1]-wt,Ft[0]-Ct);zt<0&&(zt=Math.PI*2+zt);var Gt=Ft[0]<Ct;Gt&&(zt=zt-Math.PI);var jt=Gt?"left":"right";Lt.setTextConfig({rotation:-zt,position:jt,origin:"center"});var Ut=Lt.ensureState("emphasis");extend(Ut.textConfig||(Ut.textConfig={}),{position:jt})}else Lt.setTextConfig({rotation:Ot*=Math.PI/180})}),this._firstRender=!1},_e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},_e.prototype._startForceLayoutIteration=function(et,tt){var nt=this;(function at(){et.step(function(ot){nt.updateLayout(nt._model),(nt._layouting=!ot)&&(tt?nt._layoutTimeout=setTimeout(at,16):at())})})()},_e.prototype._updateController=function(et,tt,nt){var at=this,ot=this._controller,it=this._controllerHost,st=this.group;if(ot.setPointerChecker(function(ut,ft,dt){var vt=st.getBoundingRect();return vt.applyTransform(st.transform),vt.contain(ft,dt)&&!onIrrelevantElement(ut,nt,et)}),!isViewCoordSys(et.coordinateSystem)){ot.disable();return}ot.enable(et.get("roam")),it.zoomLimit=et.get("scaleLimit"),it.zoom=et.coordinateSystem.getZoom(),ot.off("pan").off("zoom").on("pan",function(ut){updateViewOnPan(it,ut.dx,ut.dy),nt.dispatchAction({seriesId:et.id,type:"graphRoam",dx:ut.dx,dy:ut.dy})}).on("zoom",function(ut){updateViewOnZoom(it,ut.scale,ut.originX,ut.originY),nt.dispatchAction({seriesId:et.id,type:"graphRoam",zoom:ut.scale,originX:ut.originX,originY:ut.originY}),at._updateNodeAndLinkScale(),adjustEdge(et.getGraph(),getNodeGlobalScale(et)),at._lineDraw.updateLayout(),nt.updateLabelLayout()})},_e.prototype._updateNodeAndLinkScale=function(){var et=this._model,tt=et.getData(),nt=getNodeGlobalScale(et);tt.eachItemGraphicEl(function(at,ot){at&&at.setSymbolScale(nt)})},_e.prototype.updateLayout=function(et){adjustEdge(et.getGraph(),getNodeGlobalScale(et)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},_e.prototype.remove=function(et,tt){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},_e.type="graph",_e}(ChartView$1),GraphView$1=GraphView;function generateNodeKey($){return"_EC_"+$}var Graph=function(){function $(_e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=_e||!1}return $.prototype.isDirected=function(){return this._directed},$.prototype.addNode=function(_e,et){_e=_e==null?""+et:""+_e;var tt=this._nodesMap;if(!tt[generateNodeKey(_e)]){var nt=new GraphNode(_e,et);return nt.hostGraph=this,this.nodes.push(nt),tt[generateNodeKey(_e)]=nt,nt}},$.prototype.getNodeByIndex=function(_e){var et=this.data.getRawIndex(_e);return this.nodes[et]},$.prototype.getNodeById=function(_e){return this._nodesMap[generateNodeKey(_e)]},$.prototype.addEdge=function(_e,et,tt){var nt=this._nodesMap,at=this._edgesMap;if(isNumber(_e)&&(_e=this.nodes[_e]),isNumber(et)&&(et=this.nodes[et]),_e instanceof GraphNode||(_e=nt[generateNodeKey(_e)]),et instanceof GraphNode||(et=nt[generateNodeKey(et)]),!(!_e||!et)){var ot=_e.id+"-"+et.id,it=new GraphEdge(_e,et,tt);return it.hostGraph=this,this._directed&&(_e.outEdges.push(it),et.inEdges.push(it)),_e.edges.push(it),_e!==et&&et.edges.push(it),this.edges.push(it),at[ot]=it,it}},$.prototype.getEdgeByIndex=function(_e){var et=this.edgeData.getRawIndex(_e);return this.edges[et]},$.prototype.getEdge=function(_e,et){_e instanceof GraphNode&&(_e=_e.id),et instanceof GraphNode&&(et=et.id);var tt=this._edgesMap;return this._directed?tt[_e+"-"+et]:tt[_e+"-"+et]||tt[et+"-"+_e]},$.prototype.eachNode=function(_e,et){for(var tt=this.nodes,nt=tt.length,at=0;at<nt;at++)tt[at].dataIndex>=0&&_e.call(et,tt[at],at)},$.prototype.eachEdge=function(_e,et){for(var tt=this.edges,nt=tt.length,at=0;at<nt;at++)tt[at].dataIndex>=0&&tt[at].node1.dataIndex>=0&&tt[at].node2.dataIndex>=0&&_e.call(et,tt[at],at)},$.prototype.breadthFirstTraverse=function(_e,et,tt,nt){if(et instanceof GraphNode||(et=this._nodesMap[generateNodeKey(et)]),!!et){for(var at=tt==="out"?"outEdges":tt==="in"?"inEdges":"edges",ot=0;ot<this.nodes.length;ot++)this.nodes[ot].__visited=!1;if(!_e.call(nt,et,null))for(var it=[et];it.length;)for(var st=it.shift(),ut=st[at],ot=0;ot<ut.length;ot++){var ft=ut[ot],dt=ft.node1===st?ft.node2:ft.node1;if(!dt.__visited){if(_e.call(nt,dt,st))return;it.push(dt),dt.__visited=!0}}}},$.prototype.update=function(){for(var _e=this.data,et=this.edgeData,tt=this.nodes,nt=this.edges,at=0,ot=tt.length;at<ot;at++)tt[at].dataIndex=-1;for(var at=0,ot=_e.count();at<ot;at++)tt[_e.getRawIndex(at)].dataIndex=at;et.filterSelf(function(it){var st=nt[et.getRawIndex(it)];return st.node1.dataIndex>=0&&st.node2.dataIndex>=0});for(var at=0,ot=nt.length;at<ot;at++)nt[at].dataIndex=-1;for(var at=0,ot=et.count();at<ot;at++)nt[et.getRawIndex(at)].dataIndex=at},$.prototype.clone=function(){for(var _e=new $(this._directed),et=this.nodes,tt=this.edges,nt=0;nt<et.length;nt++)_e.addNode(et[nt].id,et[nt].dataIndex);for(var nt=0;nt<tt.length;nt++){var at=tt[nt];_e.addEdge(at.node1.id,at.node2.id,at.dataIndex)}return _e},$}(),GraphNode=function(){function $(_e,et){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=_e==null?"":_e,this.dataIndex=et==null?-1:et}return $.prototype.degree=function(){return this.edges.length},$.prototype.inDegree=function(){return this.inEdges.length},$.prototype.outDegree=function(){return this.outEdges.length},$.prototype.getModel=function(_e){if(!(this.dataIndex<0)){var et=this.hostGraph,tt=et.data.getItemModel(this.dataIndex);return tt.getModel(_e)}},$.prototype.getAdjacentDataIndices=function(){for(var _e={edge:[],node:[]},et=0;et<this.edges.length;et++){var tt=this.edges[et];tt.dataIndex<0||(_e.edge.push(tt.dataIndex),_e.node.push(tt.node1.dataIndex,tt.node2.dataIndex))}return _e},$}(),GraphEdge=function(){function $(_e,et,tt){this.dataIndex=-1,this.node1=_e,this.node2=et,this.dataIndex=tt==null?-1:tt}return $.prototype.getModel=function(_e){if(!(this.dataIndex<0)){var et=this.hostGraph,tt=et.edgeData.getItemModel(this.dataIndex);return tt.getModel(_e)}},$.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},$}();function createGraphDataProxyMixin($,_e){return{getValue:function(et){var tt=this[$][_e];return tt.getStore().get(tt.getDimensionIndex(et||"value"),this.dataIndex)},setVisual:function(et,tt){this.dataIndex>=0&&this[$][_e].setItemVisual(this.dataIndex,et,tt)},getVisual:function(et){return this[$][_e].getItemVisual(this.dataIndex,et)},setLayout:function(et,tt){this.dataIndex>=0&&this[$][_e].setItemLayout(this.dataIndex,et,tt)},getLayout:function(){return this[$][_e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[$][_e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[$][_e].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));var Graph$1=Graph;function createGraphFromNodeEdge($,_e,et,tt,nt){for(var at=new Graph$1(tt),ot=0;ot<$.length;ot++)at.addNode(retrieve($[ot].id,$[ot].name,ot),ot);for(var it=[],st=[],ut=0,ot=0;ot<_e.length;ot++){var ft=_e[ot],dt=ft.source,vt=ft.target;at.addEdge(dt,vt,ut)&&(st.push(ft),it.push(retrieve(convertOptionIdName(ft.id,null),dt+" > "+vt)),ut++)}var gt=et.get("coordinateSystem"),yt;if(gt==="cartesian2d"||gt==="polar")yt=createSeriesData($,et);else{var xt=CoordinateSystem.get(gt),Ct=xt?xt.dimensions||[]:[];indexOf(Ct,"value")<0&&Ct.concat(["value"]);var wt=prepareSeriesDataSchema($,{coordDimensions:Ct,encodeDefine:et.getEncode()}).dimensions;yt=new SeriesData$1(wt,et),yt.initData($)}var Et=new SeriesData$1(["value"],et);return Et.initData(st,it),nt&&nt(yt,Et),linkSeriesData({mainData:yt,struct:at,structAttr:"graph",datas:{node:yt,edge:Et},datasAttr:{node:"data",edge:"edgeData"}}),at.update(),at}var GraphSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.hasSymbolVisual=!0,et}return _e.prototype.init=function(et){$.prototype.init.apply(this,arguments);var tt=this;function nt(){return tt._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(nt,nt),this.fillDataTextStyle(et.edges||et.links),this._updateCategoriesData()},_e.prototype.mergeOption=function(et){$.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(et.edges||et.links),this._updateCategoriesData()},_e.prototype.mergeDefaultAndTheme=function(et){$.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(et,"edgeLabel",["show"])},_e.prototype.getInitialData=function(et,tt){var nt=et.edges||et.links||[],at=et.data||et.nodes||[],ot=this;if(at&&nt){initCurvenessList(this);var it=createGraphFromNodeEdge(at,nt,this,!0,st);return each$f(it.edges,function(ut){createEdgeMapForCurveness(ut.node1,ut.node2,this,ut.dataIndex)},this),it.data}function st(ut,ft){ut.wrapMethod("getItemModel",function(yt){var xt=ot._categoriesModels,Ct=yt.getShallow("category"),wt=xt[Ct];return wt&&(wt.parentModel=yt.parentModel,yt.parentModel=wt),yt});var dt=Model$1.prototype.getModel;function vt(yt,xt){var Ct=dt.call(this,yt,xt);return Ct.resolveParentPath=gt,Ct}ft.wrapMethod("getItemModel",function(yt){return yt.resolveParentPath=gt,yt.getModel=vt,yt});function gt(yt){if(yt&&(yt[0]==="label"||yt[1]==="label")){var xt=yt.slice();return yt[0]==="label"?xt[0]="edgeLabel":yt[1]==="label"&&(xt[1]="edgeLabel"),xt}return yt}}},_e.prototype.getGraph=function(){return this.getData().graph},_e.prototype.getEdgeData=function(){return this.getGraph().edgeData},_e.prototype.getCategoriesData=function(){return this._categoriesData},_e.prototype.formatTooltip=function(et,tt,nt){if(nt==="edge"){var at=this.getData(),ot=this.getDataParams(et,nt),it=at.graph.getEdgeByIndex(et),st=at.getName(it.node1.dataIndex),ut=at.getName(it.node2.dataIndex),ft=[];return st!=null&&ft.push(st),ut!=null&&ft.push(ut),createTooltipMarkup("nameValue",{name:ft.join(" > "),value:ot.value,noValue:ot.value==null})}var dt=defaultSeriesFormatTooltip({series:this,dataIndex:et,multipleSeries:tt});return dt},_e.prototype._updateCategoriesData=function(){var et=map$1(this.option.categories||[],function(nt){return nt.value!=null?nt:extend({value:0},nt)}),tt=new SeriesData$1(["value"],this);tt.initData(et),this._categoriesData=tt,this._categoriesModels=tt.mapArray(function(nt){return tt.getItemModel(nt)})},_e.prototype.setZoom=function(et){this.option.zoom=et},_e.prototype.setCenter=function(et){this.option.center=et},_e.prototype.isAnimationEnabled=function(){return $.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},_e.type="series.graph",_e.dependencies=["grid","polar","geo","singleAxis","calendar"],_e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},_e}(SeriesModel$1),GraphSeriesModel$1=GraphSeriesModel,actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F($){$.registerChartView(GraphView$1),$.registerSeriesModel(GraphSeriesModel$1),$.registerProcessor(categoryFilter),$.registerVisual(categoryVisual),$.registerVisual(graphEdgeVisual),$.registerLayout(graphSimpleLayout),$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),$.registerLayout(graphForceLayout),$.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),$.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),$.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),$.registerAction(actionInfo$1,function(_e,et,tt){et.eachComponent({mainType:"series",query:_e},function(nt){var at=nt.coordinateSystem,ot=updateCenterAndZoom(at,_e,void 0,tt);nt.setCenter&&nt.setCenter(ot.center),nt.setZoom&&nt.setZoom(ot.zoom)})})}var PointerShape=function(){function $(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return $}(),PointerPath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="pointer",tt}return _e.prototype.getDefaultShape=function(){return new PointerShape},_e.prototype.buildPath=function(et,tt){var nt=Math.cos,at=Math.sin,ot=tt.r,it=tt.width,st=tt.angle,ut=tt.x-nt(st)*it*(it>=ot/3?1:2),ft=tt.y-at(st)*it*(it>=ot/3?1:2);st=tt.angle-Math.PI/2,et.moveTo(ut,ft),et.lineTo(tt.x+nt(st)*it,tt.y+at(st)*it),et.lineTo(tt.x+nt(tt.angle)*ot,tt.y+at(tt.angle)*ot),et.lineTo(tt.x-nt(st)*it,tt.y-at(st)*it),et.lineTo(ut,ft)},_e}(Path$1),PointerPath$1=PointerPath;function parsePosition($,_e){var et=$.get("center"),tt=_e.getWidth(),nt=_e.getHeight(),at=Math.min(tt,nt),ot=parsePercent(et[0],_e.getWidth()),it=parsePercent(et[1],_e.getHeight()),st=parsePercent($.get("radius"),at/2);return{cx:ot,cy:it,r:st}}function formatLabel($,_e){var et=$==null?"":$+"";return _e&&(isString(_e)?et=_e.replace("{value}",et):isFunction(_e)&&(et=_e($))),et}var GaugeView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){this.group.removeAll();var at=et.get(["axisLine","lineStyle","color"]),ot=parsePosition(et,nt);this._renderMain(et,tt,nt,at,ot),this._data=et.getData()},_e.prototype.dispose=function(){},_e.prototype._renderMain=function(et,tt,nt,at,ot){var it=this.group,st=et.get("clockwise"),ut=-et.get("startAngle")/180*Math.PI,ft=-et.get("endAngle")/180*Math.PI,dt=et.getModel("axisLine"),vt=dt.get("roundCap"),gt=vt?Sausage:Sector$1,yt=dt.get("show"),xt=dt.getModel("lineStyle"),Ct=xt.get("width"),wt=[ut,ft];normalizeArcAngles(wt,!st),ut=wt[0],ft=wt[1];for(var Et=ft-ut,$t=ut,It=0;yt&&It<at.length;It++){var Ot=Math.min(Math.max(at[It][0],0),1);ft=ut+Et*Ot;var Lt=new gt({shape:{startAngle:$t,endAngle:ft,cx:ot.cx,cy:ot.cy,clockwise:st,r0:ot.r-Ct,r:ot.r},silent:!0});Lt.setStyle({fill:at[It][1]}),Lt.setStyle(xt.getLineStyle(["color","width"])),it.add(Lt),$t=ft}var Ft=function(zt){if(zt<=0)return at[0][1];var Gt;for(Gt=0;Gt<at.length;Gt++)if(at[Gt][0]>=zt&&(Gt===0?0:at[Gt-1][0])<zt)return at[Gt][1];return at[Gt-1][1]};this._renderTicks(et,tt,nt,Ft,ot,ut,ft,st,Ct),this._renderTitleAndDetail(et,tt,nt,Ft,ot),this._renderAnchor(et,ot),this._renderPointer(et,tt,nt,Ft,ot,ut,ft,st,Ct)},_e.prototype._renderTicks=function(et,tt,nt,at,ot,it,st,ut,ft){for(var dt=this.group,vt=ot.cx,gt=ot.cy,yt=ot.r,xt=+et.get("min"),Ct=+et.get("max"),wt=et.getModel("splitLine"),Et=et.getModel("axisTick"),$t=et.getModel("axisLabel"),It=et.get("splitNumber"),Ot=Et.get("splitNumber"),Lt=parsePercent(wt.get("length"),yt),Ft=parsePercent(Et.get("length"),yt),zt=it,Gt=(st-it)/It,jt=Gt/Ot,Ut=wt.getModel("lineStyle").getLineStyle(),Kt=Et.getModel("lineStyle").getLineStyle(),Zt=wt.get("distance"),Qt,rr,nr=0;nr<=It;nr++){if(Qt=Math.cos(zt),rr=Math.sin(zt),wt.get("show")){var dr=Zt?Zt+ft:ft,sr=new Line$3({shape:{x1:Qt*(yt-dr)+vt,y1:rr*(yt-dr)+gt,x2:Qt*(yt-Lt-dr)+vt,y2:rr*(yt-Lt-dr)+gt},style:Ut,silent:!0});Ut.stroke==="auto"&&sr.setStyle({stroke:at(nr/It)}),dt.add(sr)}if($t.get("show")){var dr=$t.get("distance")+Zt,fr=formatLabel(round$3(nr/It*(Ct-xt)+xt),$t.get("formatter")),yr=at(nr/It);dt.add(new ZRText$1({style:createTextStyle($t,{text:fr,x:Qt*(yt-Lt-dr)+vt,y:rr*(yt-Lt-dr)+gt,verticalAlign:rr<-.8?"top":rr>.8?"bottom":"middle",align:Qt<-.4?"left":Qt>.4?"right":"center"},{inheritColor:yr}),silent:!0}))}if(Et.get("show")&&nr!==It){var dr=Et.get("distance");dr=dr?dr+ft:ft;for(var Pr=0;Pr<=Ot;Pr++){Qt=Math.cos(zt),rr=Math.sin(zt);var wr=new Line$3({shape:{x1:Qt*(yt-dr)+vt,y1:rr*(yt-dr)+gt,x2:Qt*(yt-Ft-dr)+vt,y2:rr*(yt-Ft-dr)+gt},silent:!0,style:Kt});Kt.stroke==="auto"&&wr.setStyle({stroke:at((nr+Pr/Ot)/It)}),dt.add(wr),zt+=jt}zt-=jt}else zt+=Gt}},_e.prototype._renderPointer=function(et,tt,nt,at,ot,it,st,ut,ft){var dt=this.group,vt=this._data,gt=this._progressEls,yt=[],xt=et.get(["pointer","show"]),Ct=et.getModel("progress"),wt=Ct.get("show"),Et=et.getData(),$t=Et.mapDimension("value"),It=+et.get("min"),Ot=+et.get("max"),Lt=[It,Ot],Ft=[it,st];function zt(jt,Ut){var Kt=Et.getItemModel(jt),Zt=Kt.getModel("pointer"),Qt=parsePercent(Zt.get("width"),ot.r),rr=parsePercent(Zt.get("length"),ot.r),nr=et.get(["pointer","icon"]),dr=Zt.get("offsetCenter"),sr=parsePercent(dr[0],ot.r),fr=parsePercent(dr[1],ot.r),yr=Zt.get("keepAspect"),Pr;return nr?Pr=createSymbol$1(nr,sr-Qt/2,fr-rr,Qt,rr,null,yr):Pr=new PointerPath$1({shape:{angle:-Math.PI/2,width:Qt,r:rr,x:sr,y:fr}}),Pr.rotation=-(Ut+Math.PI/2),Pr.x=ot.cx,Pr.y=ot.cy,Pr}function Gt(jt,Ut){var Kt=Ct.get("roundCap"),Zt=Kt?Sausage:Sector$1,Qt=Ct.get("overlap"),rr=Qt?Ct.get("width"):ft/Et.count(),nr=Qt?ot.r-rr:ot.r-(jt+1)*rr,dr=Qt?ot.r:ot.r-jt*rr,sr=new Zt({shape:{startAngle:it,endAngle:Ut,cx:ot.cx,cy:ot.cy,clockwise:ut,r0:nr,r:dr}});return Qt&&(sr.z2=Ot-Et.get($t,jt)%Ot),sr}(wt||xt)&&(Et.diff(vt).add(function(jt){var Ut=Et.get($t,jt);if(xt){var Kt=zt(jt,it);initProps(Kt,{rotation:-((isNaN(+Ut)?Ft[0]:linearMap$2(Ut,Lt,Ft,!0))+Math.PI/2)},et),dt.add(Kt),Et.setItemGraphicEl(jt,Kt)}if(wt){var Zt=Gt(jt,it),Qt=Ct.get("clip");initProps(Zt,{shape:{endAngle:linearMap$2(Ut,Lt,Ft,Qt)}},et),dt.add(Zt),setCommonECData(et.seriesIndex,Et.dataType,jt,Zt),yt[jt]=Zt}}).update(function(jt,Ut){var Kt=Et.get($t,jt);if(xt){var Zt=vt.getItemGraphicEl(Ut),Qt=Zt?Zt.rotation:it,rr=zt(jt,Qt);rr.rotation=Qt,updateProps$1(rr,{rotation:-((isNaN(+Kt)?Ft[0]:linearMap$2(Kt,Lt,Ft,!0))+Math.PI/2)},et),dt.add(rr),Et.setItemGraphicEl(jt,rr)}if(wt){var nr=gt[Ut],dr=nr?nr.shape.endAngle:it,sr=Gt(jt,dr),fr=Ct.get("clip");updateProps$1(sr,{shape:{endAngle:linearMap$2(Kt,Lt,Ft,fr)}},et),dt.add(sr),setCommonECData(et.seriesIndex,Et.dataType,jt,sr),yt[jt]=sr}}).execute(),Et.each(function(jt){var Ut=Et.getItemModel(jt),Kt=Ut.getModel("emphasis"),Zt=Kt.get("focus"),Qt=Kt.get("blurScope"),rr=Kt.get("disabled");if(xt){var nr=Et.getItemGraphicEl(jt),dr=Et.getItemVisual(jt,"style"),sr=dr.fill;if(nr instanceof ZRImage$1){var fr=nr.style;nr.useStyle(extend({image:fr.image,x:fr.x,y:fr.y,width:fr.width,height:fr.height},dr))}else nr.useStyle(dr),nr.type!=="pointer"&&nr.setColor(sr);nr.setStyle(Ut.getModel(["pointer","itemStyle"]).getItemStyle()),nr.style.fill==="auto"&&nr.setStyle("fill",at(linearMap$2(Et.get($t,jt),Lt,[0,1],!0))),nr.z2EmphasisLift=0,setStatesStylesFromModel(nr,Ut),toggleHoverEmphasis(nr,Zt,Qt,rr)}if(wt){var yr=yt[jt];yr.useStyle(Et.getItemVisual(jt,"style")),yr.setStyle(Ut.getModel(["progress","itemStyle"]).getItemStyle()),yr.z2EmphasisLift=0,setStatesStylesFromModel(yr,Ut),toggleHoverEmphasis(yr,Zt,Qt,rr)}}),this._progressEls=yt)},_e.prototype._renderAnchor=function(et,tt){var nt=et.getModel("anchor"),at=nt.get("show");if(at){var ot=nt.get("size"),it=nt.get("icon"),st=nt.get("offsetCenter"),ut=nt.get("keepAspect"),ft=createSymbol$1(it,tt.cx-ot/2+parsePercent(st[0],tt.r),tt.cy-ot/2+parsePercent(st[1],tt.r),ot,ot,null,ut);ft.z2=nt.get("showAbove")?1:0,ft.setStyle(nt.getModel("itemStyle").getItemStyle()),this.group.add(ft)}},_e.prototype._renderTitleAndDetail=function(et,tt,nt,at,ot){var it=this,st=et.getData(),ut=st.mapDimension("value"),ft=+et.get("min"),dt=+et.get("max"),vt=new Group$4,gt=[],yt=[],xt=et.isAnimationEnabled(),Ct=et.get(["pointer","showAbove"]);st.diff(this._data).add(function(wt){gt[wt]=new ZRText$1({silent:!0}),yt[wt]=new ZRText$1({silent:!0})}).update(function(wt,Et){gt[wt]=it._titleEls[Et],yt[wt]=it._detailEls[Et]}).execute(),st.each(function(wt){var Et=st.getItemModel(wt),$t=st.get(ut,wt),It=new Group$4,Ot=at(linearMap$2($t,[ft,dt],[0,1],!0)),Lt=Et.getModel("title");if(Lt.get("show")){var Ft=Lt.get("offsetCenter"),zt=ot.cx+parsePercent(Ft[0],ot.r),Gt=ot.cy+parsePercent(Ft[1],ot.r),jt=gt[wt];jt.attr({z2:Ct?0:2,style:createTextStyle(Lt,{x:zt,y:Gt,text:st.getName(wt),align:"center",verticalAlign:"middle"},{inheritColor:Ot})}),It.add(jt)}var Ut=Et.getModel("detail");if(Ut.get("show")){var Kt=Ut.get("offsetCenter"),Zt=ot.cx+parsePercent(Kt[0],ot.r),Qt=ot.cy+parsePercent(Kt[1],ot.r),rr=parsePercent(Ut.get("width"),ot.r),nr=parsePercent(Ut.get("height"),ot.r),dr=et.get(["progress","show"])?st.getItemVisual(wt,"style").fill:Ot,jt=yt[wt],sr=Ut.get("formatter");jt.attr({z2:Ct?0:2,style:createTextStyle(Ut,{x:Zt,y:Qt,text:formatLabel($t,sr),width:isNaN(rr)?null:rr,height:isNaN(nr)?null:nr,align:"center",verticalAlign:"middle"},{inheritColor:dr})}),setLabelValueAnimation(jt,{normal:Ut},$t,function(yr){return formatLabel(yr,sr)}),xt&&animateLabelValue(jt,wt,st,et,{getFormattedLabel:function(yr,Pr,wr,Mr,Lr,Br){return formatLabel(Br?Br.interpolatedValue:$t,sr)}}),It.add(jt)}vt.add(It)}),this.group.add(vt),this._titleEls=gt,this._detailEls=yt},_e.type="gauge",_e}(ChartView$1),GaugeView$1=GaugeView,GaugeSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.visualStyleAccessPath="itemStyle",et}return _e.prototype.getInitialData=function(et,tt){return createSeriesDataSimply(this,["value"])},_e.type="series.gauge",_e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},_e}(SeriesModel$1),GaugeSeriesModel$1=GaugeSeriesModel;function install$E($){$.registerChartView(GaugeView$1),$.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function($){__extends(_e,$);function _e(et,tt){var nt=$.call(this)||this,at=nt,ot=new Polyline$3,it=new ZRText$1;return at.setTextContent(it),nt.setTextGuideLine(ot),nt.updateData(et,tt,!0),nt}return _e.prototype.updateData=function(et,tt,nt){var at=this,ot=et.hostModel,it=et.getItemModel(tt),st=et.getItemLayout(tt),ut=it.getModel("emphasis"),ft=it.get(opacityAccessPath$1);ft=ft==null?1:ft,nt||saveOldStyle(at),at.useStyle(et.getItemVisual(tt,"style")),at.style.lineJoin="round",nt?(at.setShape({points:st.points}),at.style.opacity=0,initProps(at,{style:{opacity:ft}},ot,tt)):updateProps$1(at,{style:{opacity:ft},shape:{points:st.points}},ot,tt),setStatesStylesFromModel(at,it),this._updateLabel(et,tt),toggleHoverEmphasis(this,ut.get("focus"),ut.get("blurScope"),ut.get("disabled"))},_e.prototype._updateLabel=function(et,tt){var nt=this,at=this.getTextGuideLine(),ot=nt.getTextContent(),it=et.hostModel,st=et.getItemModel(tt),ut=et.getItemLayout(tt),ft=ut.label,dt=et.getItemVisual(tt,"style"),vt=dt.fill;setLabelStyle(ot,getLabelStatesModels(st),{labelFetcher:et.hostModel,labelDataIndex:tt,defaultOpacity:dt.opacity,defaultText:et.getName(tt)},{normal:{align:ft.textAlign,verticalAlign:ft.verticalAlign}}),nt.setTextConfig({local:!0,inside:!!ft.inside,insideStroke:vt,outsideFill:vt});var gt=ft.linePoints;at.setShape({points:gt}),nt.textGuideLineConfig={anchor:gt?new Point$1(gt[0][0],gt[0][1]):null},updateProps$1(ot,{style:{x:ft.x,y:ft.y}},it,tt),ot.attr({rotation:ft.rotation,originX:ft.x,originY:ft.y,z2:10}),setLabelLineStyle(nt,getLabelLineStatesModels(st),{stroke:vt})},_e}(Polygon$1),FunnelView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.ignoreLabelLineUpdate=!0,et}return _e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=this._data,it=this.group;at.diff(ot).add(function(st){var ut=new FunnelPiece(at,st);at.setItemGraphicEl(st,ut),it.add(ut)}).update(function(st,ut){var ft=ot.getItemGraphicEl(ut);ft.updateData(at,st),it.add(ft),at.setItemGraphicEl(st,ft)}).remove(function(st){var ut=ot.getItemGraphicEl(st);removeElementWithFadeOut(ut,et,st)}).execute(),this._data=at},_e.prototype.remove=function(){this.group.removeAll(),this._data=null},_e.prototype.dispose=function(){},_e.type="funnel",_e}(ChartView$1),FunnelView$1=FunnelView,FunnelSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(et)},_e.prototype.getInitialData=function(et,tt){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},_e.prototype._defaultLabelLine=function(et){defaultEmphasis(et,"labelLine",["show"]);var tt=et.labelLine,nt=et.emphasis.labelLine;tt.show=tt.show&&et.label.show,nt.show=nt.show&&et.emphasis.label.show},_e.prototype.getDataParams=function(et){var tt=this.getData(),nt=$.prototype.getDataParams.call(this,et),at=tt.mapDimension("value"),ot=tt.getSum(at);return nt.percent=ot?+(tt.get(at,et)/ot*100).toFixed(2):0,nt.$vars.push("percent"),nt},_e.type="series.funnel",_e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},_e}(SeriesModel$1),FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2($,_e){return getLayoutRect($.getBoxLayoutParams(),{width:_e.getWidth(),height:_e.getHeight()})}function getSortedIndices($,_e){for(var et=$.mapDimension("value"),tt=$.mapArray(et,function(st){return st}),nt=[],at=_e==="ascending",ot=0,it=$.count();ot<it;ot++)nt[ot]=ot;return isFunction(_e)?nt.sort(_e):_e!=="none"&&nt.sort(function(st,ut){return at?tt[st]-tt[ut]:tt[ut]-tt[st]}),nt}function labelLayout($){var _e=$.hostModel,et=_e.get("orient");$.each(function(tt){var nt=$.getItemModel(tt),at=nt.getModel("label"),ot=at.get("position"),it=nt.getModel("labelLine"),st=$.getItemLayout(tt),ut=st.points,ft=ot==="inner"||ot==="inside"||ot==="center"||ot==="insideLeft"||ot==="insideRight",dt,vt,gt,yt;if(ft)ot==="insideLeft"?(vt=(ut[0][0]+ut[3][0])/2+5,gt=(ut[0][1]+ut[3][1])/2,dt="left"):ot==="insideRight"?(vt=(ut[1][0]+ut[2][0])/2-5,gt=(ut[1][1]+ut[2][1])/2,dt="right"):(vt=(ut[0][0]+ut[1][0]+ut[2][0]+ut[3][0])/4,gt=(ut[0][1]+ut[1][1]+ut[2][1]+ut[3][1])/4,dt="center"),yt=[[vt,gt],[vt,gt]];else{var xt=void 0,Ct=void 0,wt=void 0,Et=void 0,$t=it.get("length");ot==="left"?(xt=(ut[3][0]+ut[0][0])/2,Ct=(ut[3][1]+ut[0][1])/2,wt=xt-$t,vt=wt-5,dt="right"):ot==="right"?(xt=(ut[1][0]+ut[2][0])/2,Ct=(ut[1][1]+ut[2][1])/2,wt=xt+$t,vt=wt+5,dt="left"):ot==="top"?(xt=(ut[3][0]+ut[0][0])/2,Ct=(ut[3][1]+ut[0][1])/2,Et=Ct-$t,gt=Et-5,dt="center"):ot==="bottom"?(xt=(ut[1][0]+ut[2][0])/2,Ct=(ut[1][1]+ut[2][1])/2,Et=Ct+$t,gt=Et+5,dt="center"):ot==="rightTop"?(xt=et==="horizontal"?ut[3][0]:ut[1][0],Ct=et==="horizontal"?ut[3][1]:ut[1][1],et==="horizontal"?(Et=Ct-$t,gt=Et-5,dt="center"):(wt=xt+$t,vt=wt+5,dt="top")):ot==="rightBottom"?(xt=ut[2][0],Ct=ut[2][1],et==="horizontal"?(Et=Ct+$t,gt=Et+5,dt="center"):(wt=xt+$t,vt=wt+5,dt="bottom")):ot==="leftTop"?(xt=ut[0][0],Ct=et==="horizontal"?ut[0][1]:ut[1][1],et==="horizontal"?(Et=Ct-$t,gt=Et-5,dt="center"):(wt=xt-$t,vt=wt-5,dt="right")):ot==="leftBottom"?(xt=et==="horizontal"?ut[1][0]:ut[3][0],Ct=et==="horizontal"?ut[1][1]:ut[2][1],et==="horizontal"?(Et=Ct+$t,gt=Et+5,dt="center"):(wt=xt-$t,vt=wt-5,dt="right")):(xt=(ut[1][0]+ut[2][0])/2,Ct=(ut[1][1]+ut[2][1])/2,et==="horizontal"?(Et=Ct+$t,gt=Et+5,dt="center"):(wt=xt+$t,vt=wt+5,dt="left")),et==="horizontal"?(wt=xt,vt=wt):(Et=Ct,gt=Et),yt=[[xt,Ct],[wt,Et]]}st.label={linePoints:yt,x:vt,y:gt,verticalAlign:"middle",textAlign:dt,inside:ft}})}function funnelLayout($,_e){$.eachSeriesByType("funnel",function(et){var tt=et.getData(),nt=tt.mapDimension("value"),at=et.get("sort"),ot=getViewRect$2(et,_e),it=et.get("orient"),st=ot.width,ut=ot.height,ft=getSortedIndices(tt,at),dt=ot.x,vt=ot.y,gt=it==="horizontal"?[parsePercent(et.get("minSize"),ut),parsePercent(et.get("maxSize"),ut)]:[parsePercent(et.get("minSize"),st),parsePercent(et.get("maxSize"),st)],yt=tt.getDataExtent(nt),xt=et.get("min"),Ct=et.get("max");xt==null&&(xt=Math.min(yt[0],0)),Ct==null&&(Ct=yt[1]);var wt=et.get("funnelAlign"),Et=et.get("gap"),$t=it==="horizontal"?st:ut,It=($t-Et*(tt.count()-1))/tt.count(),Ot=function(Qt,rr){if(it==="horizontal"){var nr=tt.get(nt,Qt)||0,dr=linearMap$2(nr,[xt,Ct],gt,!0),sr=void 0;switch(wt){case"top":sr=vt;break;case"center":sr=vt+(ut-dr)/2;break;case"bottom":sr=vt+(ut-dr);break}return[[rr,sr],[rr,sr+dr]]}var fr=tt.get(nt,Qt)||0,yr=linearMap$2(fr,[xt,Ct],gt,!0),Pr;switch(wt){case"left":Pr=dt;break;case"center":Pr=dt+(st-yr)/2;break;case"right":Pr=dt+st-yr;break}return[[Pr,rr],[Pr+yr,rr]]};at==="ascending"&&(It=-It,Et=-Et,it==="horizontal"?dt+=st:vt+=ut,ft=ft.reverse());for(var Lt=0;Lt<ft.length;Lt++){var Ft=ft[Lt],zt=ft[Lt+1],Gt=tt.getItemModel(Ft);if(it==="horizontal"){var jt=Gt.get(["itemStyle","width"]);jt==null?jt=It:(jt=parsePercent(jt,st),at==="ascending"&&(jt=-jt));var Ut=Ot(Ft,dt),Kt=Ot(zt,dt+jt);dt+=jt+Et,tt.setItemLayout(Ft,{points:Ut.concat(Kt.slice().reverse())})}else{var Zt=Gt.get(["itemStyle","height"]);Zt==null?Zt=It:(Zt=parsePercent(Zt,ut),at==="ascending"&&(Zt=-Zt));var Ut=Ot(Ft,vt),Kt=Ot(zt,vt+Zt);vt+=Zt+Et,tt.setItemLayout(Ft,{points:Ut.concat(Kt.slice().reverse())})}}labelLayout(tt)})}function install$D($){$.registerChartView(FunnelView$1),$.registerSeriesModel(FunnelSeriesModel$1),$.registerLayout(funnelLayout),$.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._dataGroup=new Group$4,et._initialized=!1,et}return _e.prototype.init=function(){this.group.add(this._dataGroup)},_e.prototype.render=function(et,tt,nt,at){this._progressiveEls=null;var ot=this._dataGroup,it=et.getData(),st=this._data,ut=et.coordinateSystem,ft=ut.dimensions,dt=makeSeriesScope(et);it.diff(st).add(vt).update(gt).remove(yt).execute();function vt(Ct){var wt=addEl(it,ot,Ct,ft,ut);updateElCommon(wt,it,Ct,dt)}function gt(Ct,wt){var Et=st.getItemGraphicEl(wt),$t=createLinePoints(it,Ct,ft,ut);it.setItemGraphicEl(Ct,Et),updateProps$1(Et,{shape:{points:$t}},et,Ct),saveOldStyle(Et),updateElCommon(Et,it,Ct,dt)}function yt(Ct){var wt=st.getItemGraphicEl(Ct);ot.remove(wt)}if(!this._initialized){this._initialized=!0;var xt=createGridClipShape$2(ut,et,function(){setTimeout(function(){ot.removeClipPath()})});ot.setClipPath(xt)}this._data=it},_e.prototype.incrementalPrepareRender=function(et,tt,nt){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},_e.prototype.incrementalRender=function(et,tt,nt){for(var at=tt.getData(),ot=tt.coordinateSystem,it=ot.dimensions,st=makeSeriesScope(tt),ut=this._progressiveEls=[],ft=et.start;ft<et.end;ft++){var dt=addEl(at,this._dataGroup,ft,it,ot);dt.incremental=!0,updateElCommon(dt,at,ft,st),ut.push(dt)}},_e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},_e.type="parallel",_e}(ChartView$1);function createGridClipShape$2($,_e,et){var tt=$.model,nt=$.getRect(),at=new Rect$3({shape:{x:nt.x,y:nt.y,width:nt.width,height:nt.height}}),ot=tt.get("layout")==="horizontal"?"width":"height";return at.setShape(ot,0),initProps(at,{shape:{width:nt.width,height:nt.height}},_e,et),at}function createLinePoints($,_e,et,tt){for(var nt=[],at=0;at<et.length;at++){var ot=et[at],it=$.get($.mapDimension(ot),_e);isEmptyValue(it,tt.getAxis(ot).type)||nt.push(tt.dataToPoint(it,ot))}return nt}function addEl($,_e,et,tt,nt){var at=createLinePoints($,et,tt,nt),ot=new Polyline$3({shape:{points:at},z2:10});return _e.add(ot),$.setItemGraphicEl(et,ot),ot}function makeSeriesScope($){var _e=$.get("smooth",!0);return _e===!0&&(_e=DEFAULT_SMOOTH),_e=numericToNumber(_e),eqNaN(_e)&&(_e=0),{smooth:_e}}function updateElCommon($,_e,et,tt){$.useStyle(_e.getItemVisual(et,"style")),$.style.fill=null,$.setShape("smooth",tt.smooth);var nt=_e.getItemModel(et),at=nt.getModel("emphasis");setStatesStylesFromModel($,nt,"lineStyle"),toggleHoverEmphasis($,at.get("focus"),at.get("blurScope"),at.get("disabled"))}function isEmptyValue($,_e){return _e==="category"?$==null:$==null||isNaN($)}var ParallelView$3=ParallelView$2,ParallelSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.visualStyleAccessPath="lineStyle",et.visualDrawType="stroke",et}return _e.prototype.getInitialData=function(et,tt){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},_e.prototype.getRawIndicesByActiveState=function(et){var tt=this.coordinateSystem,nt=this.getData(),at=[];return tt.eachActiveState(nt,function(ot,it){et===ot&&at.push(nt.getRawIndex(it))}),at},_e.type="series.parallel",_e.dependencies=["parallel"],_e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},_e}(SeriesModel$1);function makeDefaultEncode($){var _e=$.ecModel.getComponent("parallel",$.get("parallelIndex"));if(!!_e){var et={};return each$f(_e.dimensions,function(tt){var nt=convertDimNameToNumber(tt);et[tt]=nt}),et}}function convertDimNameToNumber($){return+$.replace("dim","")}var ParallelSeriesModel$1=ParallelSeriesModel,opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function($,_e){var et=$.coordinateSystem,tt={normal:$.get(["lineStyle","opacity"]),active:$.get("activeOpacity"),inactive:$.get("inactiveOpacity")};return{progress:function(nt,at){et.eachActiveState(at,function(ot,it){var st=tt[ot];if(ot==="normal"&&at.hasItemOption){var ut=at.getItemModel(it).get(opacityAccessPath,!0);ut!=null&&(st=ut)}var ft=at.ensureUniqueItemVisual(it,"style");ft.opacity=st},nt.start,nt.end)}}}},parallelVisual$1=parallelVisual;function parallelPreprocessor($){createParallelIfNeeded($),mergeAxisOptionFromParallel($)}function createParallelIfNeeded($){if(!$.parallel){var _e=!1;each$f($.series,function(et){et&&et.type==="parallel"&&(_e=!0)}),_e&&($.parallel=[{}])}}function mergeAxisOptionFromParallel($){var _e=normalizeToArray($.parallelAxis);each$f(_e,function(et){if(!!isObject$3(et)){var tt=et.parallelIndex||0,nt=normalizeToArray($.parallel)[tt];nt&&nt.parallelAxisDefault&&merge(et,nt.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){this._model=et,this._api=nt,this._handlers||(this._handlers={},each$f(handlers$1,function(at,ot){nt.getZr().on(ot,this._handlers[ot]=bind$1(at,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",et.get("axisExpandRate"),"fixRate")},_e.prototype.dispose=function(et,tt){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(nt,at){tt.getZr().off(at,nt)}),this._handlers=null},_e.prototype._throttledDispatchExpand=function(et){this._dispatchExpand(et)},_e.prototype._dispatchExpand=function(et){et&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},et))},_e.type="parallel",_e}(ComponentView$1),handlers$1={mousedown:function($){checkTrigger(this,"click")&&(this._mouseDownPoint=[$.offsetX,$.offsetY])},mouseup:function($){var _e=this._mouseDownPoint;if(checkTrigger(this,"click")&&_e){var et=[$.offsetX,$.offsetY],tt=Math.pow(_e[0]-et[0],2)+Math.pow(_e[1]-et[1],2);if(tt>CLICK_THRESHOLD)return;var nt=this._model.coordinateSystem.getSlidedAxisExpandWindow([$.offsetX,$.offsetY]);nt.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:nt.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function($){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var _e=this._model,et=_e.coordinateSystem.getSlidedAxisExpandWindow([$.offsetX,$.offsetY]),tt=et.behavior;tt==="jump"&&this._throttledDispatchExpand.debounceNextCall(_e.get("axisExpandDebounce")),this._throttledDispatchExpand(tt==="none"?null:{axisExpandWindow:et.axisExpandWindow,animation:tt==="jump"?null:{duration:0}})}}};function checkTrigger($,_e){var et=$._model;return et.get("axisExpandable")&&et.get("axisExpandTriggerOn")===_e}var ParallelView$1=ParallelView,ParallelModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(){$.prototype.init.apply(this,arguments),this.mergeOption({})},_e.prototype.mergeOption=function(et){var tt=this.option;et&&merge(tt,et,!0),this._initDimensions()},_e.prototype.contains=function(et,tt){var nt=et.get("parallelIndex");return nt!=null&&tt.getComponent("parallel",nt)===this},_e.prototype.setAxisExpand=function(et){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(tt){et.hasOwnProperty(tt)&&(this.option[tt]=et[tt])},this)},_e.prototype._initDimensions=function(){var et=this.dimensions=[],tt=this.parallelAxisIndex=[],nt=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(at){return(at.get("parallelIndex")||0)===this.componentIndex},this);each$f(nt,function(at){et.push("dim"+at.get("dim")),tt.push(at.componentIndex)})},_e.type="parallel",_e.dependencies=["parallelAxis"],_e.layoutMode="box",_e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},_e}(ComponentModel$1),ParallelModel$1=ParallelModel,ParallelAxis=function($){__extends(_e,$);function _e(et,tt,nt,at,ot){var it=$.call(this,et,tt,nt)||this;return it.type=at||"value",it.axisIndex=ot,it}return _e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},_e}(Axis$1),ParallelAxis$1=ParallelAxis;function sliderMove($,_e,et,tt,nt,at){$=$||0;var ot=et[1]-et[0];if(nt!=null&&(nt=restrict$1(nt,[0,ot])),at!=null&&(at=Math.max(at,nt!=null?nt:0)),tt==="all"){var it=Math.abs(_e[1]-_e[0]);it=restrict$1(it,[0,ot]),nt=at=restrict$1(it,[nt,at]),tt=0}_e[0]=restrict$1(_e[0],et),_e[1]=restrict$1(_e[1],et);var st=getSpanSign(_e,tt);_e[tt]+=$;var ut=nt||0,ft=et.slice();st.sign<0?ft[0]+=ut:ft[1]-=ut,_e[tt]=restrict$1(_e[tt],ft);var dt;return dt=getSpanSign(_e,tt),nt!=null&&(dt.sign!==st.sign||dt.span<nt)&&(_e[1-tt]=_e[tt]+st.sign*nt),dt=getSpanSign(_e,tt),at!=null&&dt.span>at&&(_e[1-tt]=_e[tt]+dt.sign*at),_e}function getSpanSign($,_e){var et=$[_e]-$[1-_e];return{span:Math.abs(et),sign:et>0?-1:et<0?1:_e?-1:1}}function restrict$1($,_e){return Math.min(_e[1]!=null?_e[1]:1/0,Math.max(_e[0]!=null?_e[0]:-1/0,$))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function $(_e,et,tt){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=_e.dimensions,this._model=_e,this._init(_e,et,tt)}return $.prototype._init=function(_e,et,tt){var nt=_e.dimensions,at=_e.parallelAxisIndex;each$a(nt,function(ot,it){var st=at[it],ut=et.getComponent("parallelAxis",st),ft=this._axesMap.set(ot,new ParallelAxis$1(ot,createScaleByModel$1(ut),[0,0],ut.get("type"),st)),dt=ft.type==="category";ft.onBand=dt&&ut.get("boundaryGap"),ft.inverse=ut.get("inverse"),ut.axis=ft,ft.model=ut,ft.coordinateSystem=ut.coordinateSystem=this},this)},$.prototype.update=function(_e,et){this._updateAxesFromSeries(this._model,_e)},$.prototype.containPoint=function(_e){var et=this._makeLayoutInfo(),tt=et.axisBase,nt=et.layoutBase,at=et.pixelDimIndex,ot=_e[1-at],it=_e[at];return ot>=tt&&ot<=tt+et.axisLength&&it>=nt&&it<=nt+et.layoutLength},$.prototype.getModel=function(){return this._model},$.prototype._updateAxesFromSeries=function(_e,et){et.eachSeries(function(tt){if(!!_e.contains(tt,et)){var nt=tt.getData();each$a(this.dimensions,function(at){var ot=this._axesMap.get(at);ot.scale.unionExtentFromData(nt,nt.mapDimension(at)),niceScaleExtent(ot.scale,ot.model)},this)}},this)},$.prototype.resize=function(_e,et){this._rect=getLayoutRect(_e.getBoxLayoutParams(),{width:et.getWidth(),height:et.getHeight()}),this._layoutAxes()},$.prototype.getRect=function(){return this._rect},$.prototype._makeLayoutInfo=function(){var _e=this._model,et=this._rect,tt=["x","y"],nt=["width","height"],at=_e.get("layout"),ot=at==="horizontal"?0:1,it=et[nt[ot]],st=[0,it],ut=this.dimensions.length,ft=restrict(_e.get("axisExpandWidth"),st),dt=restrict(_e.get("axisExpandCount")||0,[0,ut]),vt=_e.get("axisExpandable")&&ut>3&&ut>dt&&dt>1&&ft>0&&it>0,gt=_e.get("axisExpandWindow"),yt;if(gt)yt=restrict(gt[1]-gt[0],st),gt[1]=gt[0]+yt;else{yt=restrict(ft*(dt-1),st);var xt=_e.get("axisExpandCenter")||mathFloor(ut/2);gt=[ft*xt-yt/2],gt[1]=gt[0]+yt}var Ct=(it-yt)/(ut-dt);Ct<3&&(Ct=0);var wt=[mathFloor(round(gt[0]/ft,1))+1,mathCeil(round(gt[1]/ft,1))-1],Et=Ct/ft*gt[0];return{layout:at,pixelDimIndex:ot,layoutBase:et[tt[ot]],layoutLength:it,axisBase:et[tt[1-ot]],axisLength:et[nt[1-ot]],axisExpandable:vt,axisExpandWidth:ft,axisCollapseWidth:Ct,axisExpandWindow:gt,axisCount:ut,winInnerIndices:wt,axisExpandWindow0Pos:Et}},$.prototype._layoutAxes=function(){var _e=this._rect,et=this._axesMap,tt=this.dimensions,nt=this._makeLayoutInfo(),at=nt.layout;et.each(function(ot){var it=[0,nt.axisLength],st=ot.inverse?1:0;ot.setExtent(it[st],it[1-st])}),each$a(tt,function(ot,it){var st=(nt.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(it,nt),ut={horizontal:{x:st.position,y:nt.axisLength},vertical:{x:0,y:st.position}},ft={horizontal:PI$1/2,vertical:0},dt=[ut[at].x+_e.x,ut[at].y+_e.y],vt=ft[at],gt=create$1();rotate(gt,gt,vt),translate(gt,gt,dt),this._axesLayout[ot]={position:dt,rotation:vt,transform:gt,axisNameAvailableWidth:st.axisNameAvailableWidth,axisLabelShow:st.axisLabelShow,nameTruncateMaxWidth:st.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},$.prototype.getAxis=function(_e){return this._axesMap.get(_e)},$.prototype.dataToPoint=function(_e,et){return this.axisCoordToPoint(this._axesMap.get(et).dataToCoord(_e),et)},$.prototype.eachActiveState=function(_e,et,tt,nt){tt==null&&(tt=0),nt==null&&(nt=_e.count());var at=this._axesMap,ot=this.dimensions,it=[],st=[];each$f(ot,function(Ct){it.push(_e.mapDimension(Ct)),st.push(at.get(Ct).model)});for(var ut=this.hasAxisBrushed(),ft=tt;ft<nt;ft++){var dt=void 0;if(!ut)dt="normal";else{dt="active";for(var vt=_e.getValues(it,ft),gt=0,yt=ot.length;gt<yt;gt++){var xt=st[gt].getActiveState(vt[gt]);if(xt==="inactive"){dt="inactive";break}}}et(dt,ft)}},$.prototype.hasAxisBrushed=function(){for(var _e=this.dimensions,et=this._axesMap,tt=!1,nt=0,at=_e.length;nt<at;nt++)et.get(_e[nt]).model.getActiveState()!=="normal"&&(tt=!0);return tt},$.prototype.axisCoordToPoint=function(_e,et){var tt=this._axesLayout[et];return applyTransform([_e,0],tt.transform)},$.prototype.getAxisLayout=function(_e){return clone$4(this._axesLayout[_e])},$.prototype.getSlidedAxisExpandWindow=function(_e){var et=this._makeLayoutInfo(),tt=et.pixelDimIndex,nt=et.axisExpandWindow.slice(),at=nt[1]-nt[0],ot=[0,et.axisExpandWidth*(et.axisCount-1)];if(!this.containPoint(_e))return{behavior:"none",axisExpandWindow:nt};var it=_e[tt]-et.layoutBase-et.axisExpandWindow0Pos,st,ut="slide",ft=et.axisCollapseWidth,dt=this._model.get("axisExpandSlideTriggerArea"),vt=dt[0]!=null;if(ft)vt&&ft&&it<at*dt[0]?(ut="jump",st=it-at*dt[2]):vt&&ft&&it>at*(1-dt[0])?(ut="jump",st=it-at*(1-dt[2])):(st=it-at*dt[1])>=0&&(st=it-at*(1-dt[1]))<=0&&(st=0),st*=et.axisExpandWidth/ft,st?sliderMove(st,nt,ot,"all"):ut="none";else{var gt=nt[1]-nt[0],yt=ot[1]*it/gt;nt=[mathMax$2(0,yt-gt/2)],nt[1]=mathMin$2(ot[1],nt[0]+gt),nt[0]=nt[1]-gt}return{axisExpandWindow:nt,behavior:ut}},$}();function restrict($,_e){return mathMin$2(mathMax$2($,_e[0]),_e[1])}function layoutAxisWithoutExpand($,_e){var et=_e.layoutLength/(_e.axisCount-1);return{position:et*$,axisNameAvailableWidth:et,axisLabelShow:!0}}function layoutAxisWithExpand($,_e){var et=_e.layoutLength,tt=_e.axisExpandWidth,nt=_e.axisCount,at=_e.axisCollapseWidth,ot=_e.winInnerIndices,it,st=at,ut=!1,ft;return $<ot[0]?(it=$*at,ft=at):$<=ot[1]?(it=_e.axisExpandWindow0Pos+$*tt-_e.axisExpandWindow[0],st=tt,ut=!0):(it=et-(nt-1-$)*at,ft=at),{position:it,axisNameAvailableWidth:st,axisLabelShow:ut,nameTruncateMaxWidth:ft}}var Parallel$1=Parallel;function createParallelCoordSys($,_e){var et=[];return $.eachComponent("parallel",function(tt,nt){var at=new Parallel$1(tt,$,_e);at.name="parallel_"+nt,at.resize(tt,_e),tt.coordinateSystem=at,at.model=tt,et.push(at)}),$.eachSeries(function(tt){if(tt.get("coordinateSystem")==="parallel"){var nt=tt.getReferringComponents("parallel",SINGLE_REFERRING).models[0];tt.coordinateSystem=nt.coordinateSystem}}),et}var parallelCoordSysCreator={create:createParallelCoordSys},parallelCoordSysCreator$1=parallelCoordSysCreator,ParallelAxisModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.activeIntervals=[],et}return _e.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},_e.prototype.setActiveIntervals=function(et){var tt=this.activeIntervals=clone$4(et);if(tt)for(var nt=tt.length-1;nt>=0;nt--)asc$2(tt[nt])},_e.prototype.getActiveState=function(et){var tt=this.activeIntervals;if(!tt.length)return"normal";if(et==null||isNaN(+et))return"inactive";if(tt.length===1){var nt=tt[0];if(nt[0]<=et&&et<=nt[1])return"active"}else for(var at=0,ot=tt.length;at<ot;at++)if(tt[at][0]<=et&&et<=tt[at][1])return"active";return"inactive"},_e}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);var ParallelAxisModel$1=ParallelAxisModel,BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function($){__extends(_e,$);function _e(et){var tt=$.call(this)||this;return tt._track=[],tt._covers=[],tt._handlers={},tt._zr=et,tt.group=new Group$4,tt._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(nt,at){this._handlers[at]=bind$1(nt,this)},tt),tt}return _e.prototype.enableBrush=function(et){return this._brushType&&this._doDisableBrush(),et.brushType&&this._doEnableBrush(et),this},_e.prototype._doEnableBrush=function(et){var tt=this._zr;this._enableGlobalPan||take(tt,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(nt,at){tt.on(at,nt)}),this._brushType=et.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),et,!0)},_e.prototype._doDisableBrush=function(){var et=this._zr;release(et,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(tt,nt){et.off(nt,tt)}),this._brushType=this._brushOption=null},_e.prototype.setPanels=function(et){if(et&&et.length){var tt=this._panels={};each$f(et,function(nt){tt[nt.panelId]=clone$4(nt)})}else this._panels=null;return this},_e.prototype.mount=function(et){et=et||{},this._enableGlobalPan=et.enableGlobalPan;var tt=this.group;return this._zr.add(tt),tt.attr({x:et.x||0,y:et.y||0,rotation:et.rotation||0,scaleX:et.scaleX||1,scaleY:et.scaleY||1}),this._transform=tt.getLocalTransform(),this},_e.prototype.updateCovers=function(et){et=map$1(et,function(vt){return merge(clone$4(DEFAULT_BRUSH_OPT),vt,!0)});var tt="\0-brush-index-",nt=this._covers,at=this._covers=[],ot=this,it=this._creatingCover;return new DataDiffer$1(nt,et,ut,st).add(ft).update(ft).remove(dt).execute(),this;function st(vt,gt){return(vt.id!=null?vt.id:tt+gt)+"-"+vt.brushType}function ut(vt,gt){return st(vt.__brushOption,gt)}function ft(vt,gt){var yt=et[vt];if(gt!=null&&nt[gt]===it)at[vt]=nt[gt];else{var xt=at[vt]=gt!=null?(nt[gt].__brushOption=yt,nt[gt]):endCreating(ot,createCover(ot,yt));updateCoverAfterCreation(ot,xt)}}function dt(vt){nt[vt]!==it&&ot.group.remove(nt[vt])}},_e.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},_e.prototype.dispose=function(){this.unmount(),this.off()},_e}(Eventful$1);function createCover($,_e){var et=coverRenderers[_e.brushType].createCover($,_e);return et.__brushOption=_e,updateZ$1(et,_e),$.group.add(et),et}function endCreating($,_e){var et=getCoverRenderer(_e);return et.endCreating&&(et.endCreating($,_e),updateZ$1(_e,_e.__brushOption)),_e}function updateCoverShape($,_e){var et=_e.__brushOption;getCoverRenderer(_e).updateCoverShape($,_e,et.range,et)}function updateZ$1($,_e){var et=_e.z;et==null&&(et=COVER_Z),$.traverse(function(tt){tt.z=et,tt.z2=et})}function updateCoverAfterCreation($,_e){getCoverRenderer(_e).updateCommon($,_e),updateCoverShape($,_e)}function getCoverRenderer($){return coverRenderers[$.__brushOption.brushType]}function getPanelByPoint($,_e,et){var tt=$._panels;if(!tt)return BRUSH_PANEL_GLOBAL;var nt,at=$._transform;return each$f(tt,function(ot){ot.isTargetByCursor(_e,et,at)&&(nt=ot)}),nt}function getPanelByCover($,_e){var et=$._panels;if(!et)return BRUSH_PANEL_GLOBAL;var tt=_e.__brushOption.panelId;return tt!=null?et[tt]:BRUSH_PANEL_GLOBAL}function clearCovers($){var _e=$._covers,et=_e.length;return each$f(_e,function(tt){$.group.remove(tt)},$),_e.length=0,!!et}function trigger($,_e){var et=map$1($._covers,function(tt){var nt=tt.__brushOption,at=clone$4(nt.range);return{brushType:nt.brushType,panelId:nt.panelId,range:at}});$.trigger("brush",{areas:et,isEnd:!!_e.isEnd,removeOnClick:!!_e.removeOnClick})}function shouldShowCover($){var _e=$._track;if(!_e.length)return!1;var et=_e[_e.length-1],tt=_e[0],nt=et[0]-tt[0],at=et[1]-tt[1],ot=mathPow(nt*nt+at*at,.5);return ot>UNSELECT_THRESHOLD}function getTrackEnds($){var _e=$.length-1;return _e<0&&(_e=0),[$[0],$[_e]]}function createBaseRectCover($,_e,et,tt){var nt=new Group$4;return nt.add(new Rect$3({name:"main",style:makeStyle(et),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,$,_e,nt,["n","s","w","e"]),ondragend:curry$1(trigger,_e,{isEnd:!0})})),each$f(tt,function(at){nt.add(new Rect$3({name:at.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,$,_e,nt,at),ondragend:curry$1(trigger,_e,{isEnd:!0})}))}),nt}function updateBaseRect($,_e,et,tt){var nt=tt.brushStyle.lineWidth||0,at=mathMax$1(nt,MIN_RESIZE_LINE_WIDTH),ot=et[0][0],it=et[1][0],st=ot-nt/2,ut=it-nt/2,ft=et[0][1],dt=et[1][1],vt=ft-at+nt/2,gt=dt-at+nt/2,yt=ft-ot,xt=dt-it,Ct=yt+nt,wt=xt+nt;updateRectShape($,_e,"main",ot,it,yt,xt),tt.transformable&&(updateRectShape($,_e,"w",st,ut,at,wt),updateRectShape($,_e,"e",vt,ut,at,wt),updateRectShape($,_e,"n",st,ut,Ct,at),updateRectShape($,_e,"s",st,gt,Ct,at),updateRectShape($,_e,"nw",st,ut,at,at),updateRectShape($,_e,"ne",vt,ut,at,at),updateRectShape($,_e,"sw",st,gt,at,at),updateRectShape($,_e,"se",vt,gt,at,at))}function updateCommon$1($,_e){var et=_e.__brushOption,tt=et.transformable,nt=_e.childAt(0);nt.useStyle(makeStyle(et)),nt.attr({silent:!tt,cursor:tt?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(at){var ot=_e.childOfName(at.join("")),it=at.length===1?getGlobalDirection1($,at[0]):getGlobalDirection2($,at);ot&&ot.attr({silent:!tt,invisible:!tt,cursor:tt?CURSOR_MAP[it]+"-resize":null})})}function updateRectShape($,_e,et,tt,nt,at,ot){var it=_e.childOfName(et);it&&it.setShape(pointsToRect(clipByPanel($,_e,[[tt,nt],[tt+at,nt+ot]])))}function makeStyle($){return defaults({strokeNoScale:!0},$.brushStyle)}function formatRectRange($,_e,et,tt){var nt=[mathMin$1($,et),mathMin$1(_e,tt)],at=[mathMax$1($,et),mathMax$1(_e,tt)];return[[nt[0],at[0]],[nt[1],at[1]]]}function getTransform($){return getTransform$1($.group)}function getGlobalDirection1($,_e){var et={w:"left",e:"right",n:"top",s:"bottom"},tt={left:"w",right:"e",top:"n",bottom:"s"},nt=transformDirection(et[_e],getTransform($));return tt[nt]}function getGlobalDirection2($,_e){var et=[getGlobalDirection1($,_e[0]),getGlobalDirection1($,_e[1])];return(et[0]==="e"||et[0]==="w")&&et.reverse(),et.join("")}function driftRect($,_e,et,tt,nt,at){var ot=et.__brushOption,it=$.toRectRange(ot.range),st=toLocalDelta(_e,nt,at);each$f(tt,function(ut){var ft=DIRECTION_MAP[ut];it[ft[0]][ft[1]]+=st[ft[0]]}),ot.range=$.fromRectRange(formatRectRange(it[0][0],it[1][0],it[0][1],it[1][1])),updateCoverAfterCreation(_e,et),trigger(_e,{isEnd:!1})}function driftPolygon($,_e,et,tt){var nt=_e.__brushOption.range,at=toLocalDelta($,et,tt);each$f(nt,function(ot){ot[0]+=at[0],ot[1]+=at[1]}),updateCoverAfterCreation($,_e),trigger($,{isEnd:!1})}function toLocalDelta($,_e,et){var tt=$.group,nt=tt.transformCoordToLocal(_e,et),at=tt.transformCoordToLocal(0,0);return[nt[0]-at[0],nt[1]-at[1]]}function clipByPanel($,_e,et){var tt=getPanelByCover($,_e);return tt&&tt!==BRUSH_PANEL_GLOBAL?tt.clipPath(et,$._transform):clone$4(et)}function pointsToRect($){var _e=mathMin$1($[0][0],$[1][0]),et=mathMin$1($[0][1],$[1][1]),tt=mathMax$1($[0][0],$[1][0]),nt=mathMax$1($[0][1],$[1][1]);return{x:_e,y:et,width:tt-_e,height:nt-et}}function resetCursor($,_e,et){if(!(!$._brushType||isOutsideZrArea($,_e.offsetX,_e.offsetY))){var tt=$._zr,nt=$._covers,at=getPanelByPoint($,_e,et);if(!$._dragging)for(var ot=0;ot<nt.length;ot++){var it=nt[ot].__brushOption;if(at&&(at===BRUSH_PANEL_GLOBAL||it.panelId===at.panelId)&&coverRenderers[it.brushType].contain(nt[ot],et[0],et[1]))return}at&&tt.setCursorStyle("crosshair")}}function preventDefault($){var _e=$.event;_e.preventDefault&&_e.preventDefault()}function mainShapeContain($,_e,et){return $.childOfName("main").contain(_e,et)}function updateCoverByMouse($,_e,et,tt){var nt=$._creatingCover,at=$._creatingPanel,ot=$._brushOption,it;if($._track.push(et.slice()),shouldShowCover($)||nt){if(at&&!nt){ot.brushMode==="single"&&clearCovers($);var st=clone$4(ot);st.brushType=determineBrushType(st.brushType,at),st.panelId=at===BRUSH_PANEL_GLOBAL?null:at.panelId,nt=$._creatingCover=createCover($,st),$._covers.push(nt)}if(nt){var ut=coverRenderers[determineBrushType($._brushType,at)],ft=nt.__brushOption;ft.range=ut.getCreatingRange(clipByPanel($,nt,$._track)),tt&&(endCreating($,nt),ut.updateCommon($,nt)),updateCoverShape($,nt),it={isEnd:tt}}}else tt&&ot.brushMode==="single"&&ot.removeOnClick&&getPanelByPoint($,_e,et)&&clearCovers($)&&(it={isEnd:tt,removeOnClick:!0});return it}function determineBrushType($,_e){return $==="auto"?_e.defaultBrushType:$}var pointerHandlers={mousedown:function($){if(this._dragging)handleDragEnd(this,$);else if(!$.target||!$.target.draggable){preventDefault($);var _e=this.group.transformCoordToLocal($.offsetX,$.offsetY);this._creatingCover=null;var et=this._creatingPanel=getPanelByPoint(this,$,_e);et&&(this._dragging=!0,this._track=[_e.slice()])}},mousemove:function($){var _e=$.offsetX,et=$.offsetY,tt=this.group.transformCoordToLocal(_e,et);if(resetCursor(this,$,tt),this._dragging){preventDefault($);var nt=updateCoverByMouse(this,$,tt,!1);nt&&trigger(this,nt)}},mouseup:function($){handleDragEnd(this,$)}};function handleDragEnd($,_e){if($._dragging){preventDefault(_e);var et=_e.offsetX,tt=_e.offsetY,nt=$.group.transformCoordToLocal(et,tt),at=updateCoverByMouse($,_e,nt,!0);$._dragging=!1,$._track=[],$._creatingCover=null,at&&trigger($,at)}}function isOutsideZrArea($,_e,et){var tt=$._zr;return _e<0||_e>tt.getWidth()||et<0||et>tt.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function($,_e){function et(tt){return tt}return createBaseRectCover({toRectRange:et,fromRectRange:et},$,_e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function($){var _e=getTrackEnds($);return formatRectRange(_e[1][0],_e[1][1],_e[0][0],_e[0][1])},updateCoverShape:function($,_e,et,tt){updateBaseRect($,_e,et,tt)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function($,_e){var et=new Group$4;return et.add(new Polyline$3({name:"main",style:makeStyle(_e),silent:!0})),et},getCreatingRange:function($){return $},endCreating:function($,_e){_e.remove(_e.childAt(0)),_e.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,$,_e),ondragend:curry$1(trigger,$,{isEnd:!0})}))},updateCoverShape:function($,_e,et,tt){_e.childAt(0).setShape({points:clipByPanel($,_e,et)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer($){return{createCover:function(_e,et){return createBaseRectCover({toRectRange:function(tt){var nt=[tt,[0,100]];return $&&nt.reverse(),nt},fromRectRange:function(tt){return tt[$]}},_e,et,[[["w"],["e"]],[["n"],["s"]]][$])},getCreatingRange:function(_e){var et=getTrackEnds(_e),tt=mathMin$1(et[0][$],et[1][$]),nt=mathMax$1(et[0][$],et[1][$]);return[tt,nt]},updateCoverShape:function(_e,et,tt,nt){var at,ot=getPanelByCover(_e,et);if(ot!==BRUSH_PANEL_GLOBAL&&ot.getLinearBrushOtherExtent)at=ot.getLinearBrushOtherExtent($);else{var it=_e._zr;at=[0,[it.getWidth(),it.getHeight()][1-$]]}var st=[tt,at];$&&st.reverse(),updateBaseRect(_e,et,st,nt)},updateCommon:updateCommon$1,contain:mainShapeContain}}var BrushController$1=BrushController;function makeRectPanelClipPath($){return $=normalizeRect($),function(_e){return clipPointsByRect(_e,$)}}function makeLinearBrushOtherExtent($,_e){return $=normalizeRect($),function(et){var tt=_e!=null?_e:et,nt=tt?$.width:$.height,at=tt?$.x:$.y;return[at,at+(nt||0)]}}function makeRectIsTargetByCursor($,_e,et){var tt=normalizeRect($);return function(nt,at){return tt.contain(at[0],at[1])&&!onIrrelevantElement(nt,_e,et)}}function normalizeRect($){return BoundingRect$1.create($)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt){$.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(tt.getZr())).on("brush",bind$1(this._onBrush,this))},_e.prototype.render=function(et,tt,nt,at){if(!fromAxisAreaSelect(et,tt,at)){this.axisModel=et,this.api=nt,this.group.removeAll();var ot=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!et.get("show")){var it=getCoordSysModel(et,tt),st=it.coordinateSystem,ut=et.getAreaSelectStyle(),ft=ut.width,dt=et.axis.dim,vt=st.getAxisLayout(dt),gt=extend({strokeContainThreshold:ft},vt),yt=new AxisBuilder$1(et,gt);each$f(elementList$1,yt.add,yt),this._axisGroup.add(yt.getGroup()),this._refreshBrushController(gt,ut,et,it,ft,nt),groupTransition(ot,this._axisGroup,et)}}},_e.prototype._refreshBrushController=function(et,tt,nt,at,ot,it){var st=nt.axis.getExtent(),ut=st[1]-st[0],ft=Math.min(30,Math.abs(ut)*.1),dt=BoundingRect$1.create({x:st[0],y:-ot/2,width:ut,height:ot});dt.x-=ft,dt.width+=2*ft,this._brushController.mount({enableGlobalPan:!0,rotation:et.rotation,x:et.position[0],y:et.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(dt),isTargetByCursor:makeRectIsTargetByCursor(dt,it,at),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(dt,0)}]).enableBrush({brushType:"lineX",brushStyle:tt,removeOnClick:!0}).updateCovers(getCoverInfoList(nt))},_e.prototype._onBrush=function(et){var tt=et.areas,nt=this.axisModel,at=nt.axis,ot=map$1(tt,function(it){return[at.coordToData(it.range[0],!0),at.coordToData(it.range[1],!0)]});(!nt.option.realtime===et.isEnd||et.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:nt.id,intervals:ot})},_e.prototype.dispose=function(){this._brushController.dispose()},_e.type="parallelAxis",_e}(ComponentView$1);function fromAxisAreaSelect($,_e,et){return et&&et.type==="axisAreaSelect"&&_e.findComponents({mainType:"parallelAxis",query:et})[0]===$}function getCoverInfoList($){var _e=$.axis;return map$1($.activeIntervals,function(et){return{brushType:"lineX",panelId:"pl",range:[_e.dataToCoord(et[0],!0),_e.dataToCoord(et[1],!0)]}})}function getCoordSysModel($,_e){return _e.getComponent("parallel",$.get("parallelIndex"))}var ParallelAxisView$1=ParallelAxisView,actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions($){$.registerAction(actionInfo,function(_e,et){et.eachComponent({mainType:"parallelAxis",query:_e},function(tt){tt.axis.model.setActiveIntervals(_e.intervals)})}),$.registerAction("parallelAxisExpand",function(_e,et){et.eachComponent({mainType:"parallel",query:_e},function(tt){tt.setAxisExpand(_e)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C($){$.registerComponentView(ParallelView$1),$.registerComponentModel(ParallelModel$1),$.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),$.registerPreprocessor(parallelPreprocessor),$.registerComponentModel(ParallelAxisModel$1),$.registerComponentView(ParallelAxisView$1),axisModelCreator($,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions($)}function install$B($){use(install$C),$.registerChartView(ParallelView$3),$.registerSeriesModel(ParallelSeriesModel$1),$.registerVisual($.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return $}(),SankeyPath=function($){__extends(_e,$);function _e(et){return $.call(this,et)||this}return _e.prototype.getDefaultShape=function(){return new SankeyPathShape},_e.prototype.buildPath=function(et,tt){var nt=tt.extent;et.moveTo(tt.x1,tt.y1),et.bezierCurveTo(tt.cpx1,tt.cpy1,tt.cpx2,tt.cpy2,tt.x2,tt.y2),tt.orient==="vertical"?(et.lineTo(tt.x2+nt,tt.y2),et.bezierCurveTo(tt.cpx2+nt,tt.cpy2,tt.cpx1+nt,tt.cpy1,tt.x1+nt,tt.y1)):(et.lineTo(tt.x2,tt.y2+nt),et.bezierCurveTo(tt.cpx2,tt.cpy2+nt,tt.cpx1,tt.cpy1+nt,tt.x1,tt.y1+nt)),et.closePath()},_e.prototype.highlight=function(){enterEmphasis(this)},_e.prototype.downplay=function(){leaveEmphasis(this)},_e}(Path$1),SankeyView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._focusAdjacencyDisabled=!1,et}return _e.prototype.render=function(et,tt,nt){var at=this,ot=et.getGraph(),it=this.group,st=et.layoutInfo,ut=st.width,ft=st.height,dt=et.getData(),vt=et.getData("edge"),gt=et.get("orient");this._model=et,it.removeAll(),it.x=st.x,it.y=st.y,ot.eachEdge(function(yt){var xt=new SankeyPath,Ct=getECData(xt);Ct.dataIndex=yt.dataIndex,Ct.seriesIndex=et.seriesIndex,Ct.dataType="edge";var wt=yt.getModel(),Et=wt.getModel("lineStyle"),$t=Et.get("curveness"),It=yt.node1.getLayout(),Ot=yt.node1.getModel(),Lt=Ot.get("localX"),Ft=Ot.get("localY"),zt=yt.node2.getLayout(),Gt=yt.node2.getModel(),jt=Gt.get("localX"),Ut=Gt.get("localY"),Kt=yt.getLayout(),Zt,Qt,rr,nr,dr,sr,fr,yr;switch(xt.shape.extent=Math.max(1,Kt.dy),xt.shape.orient=gt,gt==="vertical"?(Zt=(Lt!=null?Lt*ut:It.x)+Kt.sy,Qt=(Ft!=null?Ft*ft:It.y)+It.dy,rr=(jt!=null?jt*ut:zt.x)+Kt.ty,nr=Ut!=null?Ut*ft:zt.y,dr=Zt,sr=Qt*(1-$t)+nr*$t,fr=rr,yr=Qt*$t+nr*(1-$t)):(Zt=(Lt!=null?Lt*ut:It.x)+It.dx,Qt=(Ft!=null?Ft*ft:It.y)+Kt.sy,rr=jt!=null?jt*ut:zt.x,nr=(Ut!=null?Ut*ft:zt.y)+Kt.ty,dr=Zt*(1-$t)+rr*$t,sr=Qt,fr=Zt*$t+rr*(1-$t),yr=nr),xt.setShape({x1:Zt,y1:Qt,x2:rr,y2:nr,cpx1:dr,cpy1:sr,cpx2:fr,cpy2:yr}),xt.useStyle(Et.getItemStyle()),xt.style.fill){case"source":xt.style.fill=yt.node1.getVisual("color"),xt.style.decal=yt.node1.getVisual("style").decal;break;case"target":xt.style.fill=yt.node2.getVisual("color"),xt.style.decal=yt.node2.getVisual("style").decal;break;case"gradient":var Pr=yt.node1.getVisual("color"),wr=yt.node2.getVisual("color");isString(Pr)&&isString(wr)&&(xt.style.fill=new LinearGradient$1(0,0,+(gt==="horizontal"),+(gt==="vertical"),[{color:Pr,offset:0},{color:wr,offset:1}]))}var Mr=wt.getModel("emphasis");setStatesStylesFromModel(xt,wt,"lineStyle",function(Br){return Br.getItemStyle()}),it.add(xt),vt.setItemGraphicEl(yt.dataIndex,xt);var Lr=Mr.get("focus");toggleHoverEmphasis(xt,Lr==="adjacency"?yt.getAdjacentDataIndices():Lr,Mr.get("blurScope"),Mr.get("disabled")),getECData(xt).dataType="edge"}),ot.eachNode(function(yt){var xt=yt.getLayout(),Ct=yt.getModel(),wt=Ct.get("localX"),Et=Ct.get("localY"),$t=Ct.getModel("emphasis"),It=new Rect$3({shape:{x:wt!=null?wt*ut:xt.x,y:Et!=null?Et*ft:xt.y,width:xt.dx,height:xt.dy},style:Ct.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(It,getLabelStatesModels(Ct),{labelFetcher:et,labelDataIndex:yt.dataIndex,defaultText:yt.id}),It.disableLabelAnimation=!0,It.setStyle("fill",yt.getVisual("color")),It.setStyle("decal",yt.getVisual("style").decal),setStatesStylesFromModel(It,Ct),it.add(It),dt.setItemGraphicEl(yt.dataIndex,It),getECData(It).dataType="node";var Ot=$t.get("focus");toggleHoverEmphasis(It,Ot==="adjacency"?yt.getAdjacentDataIndices():Ot,$t.get("blurScope"),$t.get("disabled"))}),dt.eachItemGraphicEl(function(yt,xt){var Ct=dt.getItemModel(xt);Ct.get("draggable")&&(yt.drift=function(wt,Et){at._focusAdjacencyDisabled=!0,this.shape.x+=wt,this.shape.y+=Et,this.dirty(),nt.dispatchAction({type:"dragNode",seriesId:et.id,dataIndex:dt.getRawIndex(xt),localX:this.shape.x/ut,localY:this.shape.y/ft})},yt.ondragend=function(){at._focusAdjacencyDisabled=!1},yt.draggable=!0,yt.cursor="move")}),!this._data&&et.isAnimationEnabled()&&it.setClipPath(createGridClipShape$1(it.getBoundingRect(),et,function(){it.removeClipPath()})),this._data=et.getData()},_e.prototype.dispose=function(){},_e.type="sankey",_e}(ChartView$1);function createGridClipShape$1($,_e,et){var tt=new Rect$3({shape:{x:$.x-10,y:$.y-10,width:0,height:$.height+20}});return initProps(tt,{shape:{width:$.width+20}},_e,et),tt}var SankeyView$1=SankeyView,SankeySeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.getInitialData=function(et,tt){var nt=et.edges||et.links,at=et.data||et.nodes,ot=et.levels;this.levelModels=[];for(var it=this.levelModels,st=0;st<ot.length;st++)ot[st].depth!=null&&ot[st].depth>=0&&(it[ot[st].depth]=new Model$1(ot[st],this,tt));if(at&&nt){var ut=createGraphFromNodeEdge(at,nt,this,!0,ft);return ut.data}function ft(dt,vt){dt.wrapMethod("getItemModel",function(gt,yt){var xt=gt.parentModel,Ct=xt.getData().getItemLayout(yt);if(Ct){var wt=Ct.depth,Et=xt.levelModels[wt];Et&&(gt.parentModel=Et)}return gt}),vt.wrapMethod("getItemModel",function(gt,yt){var xt=gt.parentModel,Ct=xt.getGraph().getEdgeByIndex(yt),wt=Ct.node1.getLayout();if(wt){var Et=wt.depth,$t=xt.levelModels[Et];$t&&(gt.parentModel=$t)}return gt})}},_e.prototype.setNodePosition=function(et,tt){var nt=this.option.data||this.option.nodes,at=nt[et];at.localX=tt[0],at.localY=tt[1]},_e.prototype.getGraph=function(){return this.getData().graph},_e.prototype.getEdgeData=function(){return this.getGraph().edgeData},_e.prototype.formatTooltip=function(et,tt,nt){function at(gt){return isNaN(gt)||gt==null}if(nt==="edge"){var ot=this.getDataParams(et,nt),it=ot.data,st=ot.value,ut=it.source+" -- "+it.target;return createTooltipMarkup("nameValue",{name:ut,value:st,noValue:at(st)})}else{var ft=this.getGraph().getNodeByIndex(et),dt=ft.getLayout().value,vt=this.getDataParams(et,nt).data.name;return createTooltipMarkup("nameValue",{name:vt!=null?vt+"":null,value:dt,noValue:at(dt)})}},_e.prototype.optionUpdated=function(){},_e.prototype.getDataParams=function(et,tt){var nt=$.prototype.getDataParams.call(this,et,tt);if(nt.value==null&&tt==="node"){var at=this.getGraph().getNodeByIndex(et),ot=at.getLayout().value;nt.value=ot}return nt},_e.type="series.sankey",_e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},_e}(SeriesModel$1),SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout($,_e){$.eachSeriesByType("sankey",function(et){var tt=et.get("nodeWidth"),nt=et.get("nodeGap"),at=getViewRect$1(et,_e);et.layoutInfo=at;var ot=at.width,it=at.height,st=et.getGraph(),ut=st.nodes,ft=st.edges;computeNodeValues(ut);var dt=filter(ut,function(xt){return xt.getLayout().value===0}),vt=dt.length!==0?0:et.get("layoutIterations"),gt=et.get("orient"),yt=et.get("nodeAlign");layoutSankey(ut,ft,tt,nt,ot,it,vt,gt,yt)})}function getViewRect$1($,_e){return getLayoutRect($.getBoxLayoutParams(),{width:_e.getWidth(),height:_e.getHeight()})}function layoutSankey($,_e,et,tt,nt,at,ot,it,st){computeNodeBreadths($,_e,et,nt,at,it,st),computeNodeDepths($,_e,at,nt,tt,ot,it),computeEdgeDepths($,it)}function computeNodeValues($){each$f($,function(_e){var et=sum(_e.outEdges,getEdgeValue),tt=sum(_e.inEdges,getEdgeValue),nt=_e.getValue()||0,at=Math.max(et,tt,nt);_e.setLayout({value:at},!0)})}function computeNodeBreadths($,_e,et,tt,nt,at,ot){for(var it=[],st=[],ut=[],ft=[],dt=0,vt=0;vt<_e.length;vt++)it[vt]=1;for(var vt=0;vt<$.length;vt++)st[vt]=$[vt].inEdges.length,st[vt]===0&&ut.push($[vt]);for(var gt=-1;ut.length;){for(var yt=0;yt<ut.length;yt++){var xt=ut[yt],Ct=xt.hostGraph.data.getRawDataItem(xt.dataIndex),wt=Ct.depth!=null&&Ct.depth>=0;wt&&Ct.depth>gt&&(gt=Ct.depth),xt.setLayout({depth:wt?Ct.depth:dt},!0),at==="vertical"?xt.setLayout({dy:et},!0):xt.setLayout({dx:et},!0);for(var Et=0;Et<xt.outEdges.length;Et++){var $t=xt.outEdges[Et],It=_e.indexOf($t);it[It]=0;var Ot=$t.node2,Lt=$.indexOf(Ot);--st[Lt]===0&&ft.indexOf(Ot)<0&&ft.push(Ot)}}++dt,ut=ft,ft=[]}for(var vt=0;vt<it.length;vt++)if(it[vt]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Ft=gt>dt-1?gt:dt-1;ot&&ot!=="left"&&adjustNodeWithNodeAlign($,ot,at,Ft);var zt=at==="vertical"?(nt-et)/Ft:(tt-et)/Ft;scaleNodeBreadths($,zt,at)}function isNodeDepth($){var _e=$.hostGraph.data.getRawDataItem($.dataIndex);return _e.depth!=null&&_e.depth>=0}function adjustNodeWithNodeAlign($,_e,et,tt){if(_e==="right"){for(var nt=[],at=$,ot=0;at.length;){for(var it=0;it<at.length;it++){var st=at[it];st.setLayout({skNodeHeight:ot},!0);for(var ut=0;ut<st.inEdges.length;ut++){var ft=st.inEdges[ut];nt.indexOf(ft.node1)<0&&nt.push(ft.node1)}}at=nt,nt=[],++ot}each$f($,function(dt){isNodeDepth(dt)||dt.setLayout({depth:Math.max(0,tt-dt.getLayout().skNodeHeight)},!0)})}else _e==="justify"&&moveSinksRight($,tt)}function moveSinksRight($,_e){each$f($,function(et){!isNodeDepth(et)&&!et.outEdges.length&&et.setLayout({depth:_e},!0)})}function scaleNodeBreadths($,_e,et){each$f($,function(tt){var nt=tt.getLayout().depth*_e;et==="vertical"?tt.setLayout({y:nt},!0):tt.setLayout({x:nt},!0)})}function computeNodeDepths($,_e,et,tt,nt,at,ot){var it=prepareNodesByBreadth($,ot);initializeNodeDepth(it,_e,et,tt,nt,ot),resolveCollisions(it,nt,et,tt,ot);for(var st=1;at>0;at--)st*=.99,relaxRightToLeft(it,st,ot),resolveCollisions(it,nt,et,tt,ot),relaxLeftToRight(it,st,ot),resolveCollisions(it,nt,et,tt,ot)}function prepareNodesByBreadth($,_e){var et=[],tt=_e==="vertical"?"y":"x",nt=groupData($,function(at){return at.getLayout()[tt]});return nt.keys.sort(function(at,ot){return at-ot}),each$f(nt.keys,function(at){et.push(nt.buckets.get(at))}),et}function initializeNodeDepth($,_e,et,tt,nt,at){var ot=1/0;each$f($,function(it){var st=it.length,ut=0;each$f(it,function(dt){ut+=dt.getLayout().value});var ft=at==="vertical"?(tt-(st-1)*nt)/ut:(et-(st-1)*nt)/ut;ft<ot&&(ot=ft)}),each$f($,function(it){each$f(it,function(st,ut){var ft=st.getLayout().value*ot;at==="vertical"?(st.setLayout({x:ut},!0),st.setLayout({dx:ft},!0)):(st.setLayout({y:ut},!0),st.setLayout({dy:ft},!0))})}),each$f(_e,function(it){var st=+it.getValue()*ot;it.setLayout({dy:st},!0)})}function resolveCollisions($,_e,et,tt,nt){var at=nt==="vertical"?"x":"y";each$f($,function(ot){ot.sort(function(xt,Ct){return xt.getLayout()[at]-Ct.getLayout()[at]});for(var it,st,ut,ft=0,dt=ot.length,vt=nt==="vertical"?"dx":"dy",gt=0;gt<dt;gt++)st=ot[gt],ut=ft-st.getLayout()[at],ut>0&&(it=st.getLayout()[at]+ut,nt==="vertical"?st.setLayout({x:it},!0):st.setLayout({y:it},!0)),ft=st.getLayout()[at]+st.getLayout()[vt]+_e;var yt=nt==="vertical"?tt:et;if(ut=ft-_e-yt,ut>0){it=st.getLayout()[at]-ut,nt==="vertical"?st.setLayout({x:it},!0):st.setLayout({y:it},!0),ft=it;for(var gt=dt-2;gt>=0;--gt)st=ot[gt],ut=st.getLayout()[at]+st.getLayout()[vt]+_e-ft,ut>0&&(it=st.getLayout()[at]-ut,nt==="vertical"?st.setLayout({x:it},!0):st.setLayout({y:it},!0)),ft=st.getLayout()[at]}})}function relaxRightToLeft($,_e,et){each$f($.slice().reverse(),function(tt){each$f(tt,function(nt){if(nt.outEdges.length){var at=sum(nt.outEdges,weightedTarget,et)/sum(nt.outEdges,getEdgeValue);if(isNaN(at)){var ot=nt.outEdges.length;at=ot?sum(nt.outEdges,centerTarget,et)/ot:0}if(et==="vertical"){var it=nt.getLayout().x+(at-center(nt,et))*_e;nt.setLayout({x:it},!0)}else{var st=nt.getLayout().y+(at-center(nt,et))*_e;nt.setLayout({y:st},!0)}}})})}function weightedTarget($,_e){return center($.node2,_e)*$.getValue()}function centerTarget($,_e){return center($.node2,_e)}function weightedSource($,_e){return center($.node1,_e)*$.getValue()}function centerSource($,_e){return center($.node1,_e)}function center($,_e){return _e==="vertical"?$.getLayout().x+$.getLayout().dx/2:$.getLayout().y+$.getLayout().dy/2}function getEdgeValue($){return $.getValue()}function sum($,_e,et){for(var tt=0,nt=$.length,at=-1;++at<nt;){var ot=+_e($[at],et);isNaN(ot)||(tt+=ot)}return tt}function relaxLeftToRight($,_e,et){each$f($,function(tt){each$f(tt,function(nt){if(nt.inEdges.length){var at=sum(nt.inEdges,weightedSource,et)/sum(nt.inEdges,getEdgeValue);if(isNaN(at)){var ot=nt.inEdges.length;at=ot?sum(nt.inEdges,centerSource,et)/ot:0}if(et==="vertical"){var it=nt.getLayout().x+(at-center(nt,et))*_e;nt.setLayout({x:it},!0)}else{var st=nt.getLayout().y+(at-center(nt,et))*_e;nt.setLayout({y:st},!0)}}})})}function computeEdgeDepths($,_e){var et=_e==="vertical"?"x":"y";each$f($,function(tt){tt.outEdges.sort(function(nt,at){return nt.node2.getLayout()[et]-at.node2.getLayout()[et]}),tt.inEdges.sort(function(nt,at){return nt.node1.getLayout()[et]-at.node1.getLayout()[et]})}),each$f($,function(tt){var nt=0,at=0;each$f(tt.outEdges,function(ot){ot.setLayout({sy:nt},!0),nt+=ot.getLayout().dy}),each$f(tt.inEdges,function(ot){ot.setLayout({ty:at},!0),at+=ot.getLayout().dy})})}function sankeyVisual($){$.eachSeriesByType("sankey",function(_e){var et=_e.getGraph(),tt=et.nodes;if(tt.length){var nt=1/0,at=-1/0;each$f(tt,function(ot){var it=ot.getLayout().value;it<nt&&(nt=it),it>at&&(at=it)}),each$f(tt,function(ot){var it=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[nt,at],visual:_e.get("color")}),st=it.mapValueToVisual(ot.getLayout().value),ut=ot.getModel().get(["itemStyle","color"]);ut!=null?(ot.setVisual("color",ut),ot.setVisual("style",{fill:ut})):(ot.setVisual("color",st),ot.setVisual("style",{fill:st}))})}})}function install$A($){$.registerChartView(SankeyView$1),$.registerSeriesModel(SankeySeriesModel$1),$.registerLayout(sankeyLayout),$.registerVisual(sankeyVisual),$.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(_e,et){et.eachComponent({mainType:"series",subType:"sankey",query:_e},function(tt){tt.setNodePosition(_e.dataIndex,[_e.localX,_e.localY])})})}var WhiskerBoxCommonMixin=function(){function $(){}return $.prototype.getInitialData=function(_e,et){var tt,nt=et.getComponent("xAxis",this.get("xAxisIndex")),at=et.getComponent("yAxis",this.get("yAxisIndex")),ot=nt.get("type"),it=at.get("type"),st;ot==="category"?(_e.layout="horizontal",tt=nt.getOrdinalMeta(),st=!0):it==="category"?(_e.layout="vertical",tt=at.getOrdinalMeta(),st=!0):_e.layout=_e.layout||"horizontal";var ut=["x","y"],ft=_e.layout==="horizontal"?0:1,dt=this._baseAxisDim=ut[ft],vt=ut[1-ft],gt=[nt,at],yt=gt[ft].get("type"),xt=gt[1-ft].get("type"),Ct=_e.data;if(Ct&&st){var wt=[];each$f(Ct,function(It,Ot){var Lt;isArray$1(It)?(Lt=It.slice(),It.unshift(Ot)):isArray$1(It.value)?(Lt=extend({},It),Lt.value=Lt.value.slice(),It.value.unshift(Ot)):Lt=It,wt.push(Lt)}),_e.data=wt}var Et=this.defaultValueDimensions,$t=[{name:dt,type:getDimensionTypeByAxis(yt),ordinalMeta:tt,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:vt,type:getDimensionTypeByAxis(xt),dimsDef:Et.slice()}];return createSeriesDataSimply(this,{coordDimensions:$t,dimensionsCount:Et.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,$t,this)})},$.prototype.getBaseAxis=function(){var _e=this._baseAxisDim;return this.ecModel.getComponent(_e+"Axis",this.get(_e+"AxisIndex")).axis},$}(),BoxplotSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],et.visualDrawType="stroke",et}return _e.type="series.boxplot",_e.dependencies=["xAxis","yAxis","grid"],_e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},_e}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotSeriesModel$1=BoxplotSeriesModel,BoxplotView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=this.group,it=this._data;this._data||ot.removeAll();var st=et.get("layout")==="horizontal"?1:0;at.diff(it).add(function(ut){if(at.hasValue(ut)){var ft=at.getItemLayout(ut),dt=createNormalBox$1(ft,at,ut,st,!0);at.setItemGraphicEl(ut,dt),ot.add(dt)}}).update(function(ut,ft){var dt=it.getItemGraphicEl(ft);if(!at.hasValue(ut)){ot.remove(dt);return}var vt=at.getItemLayout(ut);dt?(saveOldStyle(dt),updateNormalBoxData(vt,dt,at,ut)):dt=createNormalBox$1(vt,at,ut,st),ot.add(dt),at.setItemGraphicEl(ut,dt)}).remove(function(ut){var ft=it.getItemGraphicEl(ut);ft&&ot.remove(ft)}).execute(),this._data=at},_e.prototype.remove=function(et){var tt=this.group,nt=this._data;this._data=null,nt&&nt.eachItemGraphicEl(function(at){at&&tt.remove(at)})},_e.type="boxplot",_e}(ChartView$1),BoxPathShape=function(){function $(){}return $}(),BoxPath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="boxplotBoxPath",tt}return _e.prototype.getDefaultShape=function(){return new BoxPathShape},_e.prototype.buildPath=function(et,tt){var nt=tt.points,at=0;for(et.moveTo(nt[at][0],nt[at][1]),at++;at<4;at++)et.lineTo(nt[at][0],nt[at][1]);for(et.closePath();at<nt.length;at++)et.moveTo(nt[at][0],nt[at][1]),at++,et.lineTo(nt[at][0],nt[at][1])},_e}(Path$1);function createNormalBox$1($,_e,et,tt,nt){var at=$.ends,ot=new BoxPath({shape:{points:nt?transInit$1(at,tt,$):at}});return updateNormalBoxData($,ot,_e,et,nt),ot}function updateNormalBoxData($,_e,et,tt,nt){var at=et.hostModel,ot=graphic[nt?"initProps":"updateProps"];ot(_e,{shape:{points:$.ends}},at,tt),_e.useStyle(et.getItemVisual(tt,"style")),_e.style.strokeNoScale=!0,_e.z2=100;var it=et.getItemModel(tt),st=it.getModel("emphasis");setStatesStylesFromModel(_e,it),toggleHoverEmphasis(_e,st.get("focus"),st.get("blurScope"),st.get("disabled"))}function transInit$1($,_e,et){return map$1($,function(tt){return tt=tt.slice(),tt[_e]=et.initBaseline,tt})}var BoxplotView$1=BoxplotView;function boxplotVisual($,_e){}var each$9=each$f;function boxplotLayout($){var _e=groupSeriesByAxis($);each$9(_e,function(et){var tt=et.seriesModels;!tt.length||(calculateBase(et),each$9(tt,function(nt,at){layoutSingleSeries(nt,et.boxOffsetList[at],et.boxWidthList[at])}))})}function groupSeriesByAxis($){var _e=[],et=[];return $.eachSeriesByType("boxplot",function(tt){var nt=tt.getBaseAxis(),at=indexOf(et,nt);at<0&&(at=et.length,et[at]=nt,_e[at]={axis:nt,seriesModels:[]}),_e[at].seriesModels.push(tt)}),_e}function calculateBase($){var _e=$.axis,et=$.seriesModels,tt=et.length,nt=$.boxWidthList=[],at=$.boxOffsetList=[],ot=[],it;if(_e.type==="category")it=_e.getBandWidth();else{var st=0;each$9(et,function(yt){st=Math.max(st,yt.getData().count())});var ut=_e.getExtent();it=Math.abs(ut[1]-ut[0])/st}each$9(et,function(yt){var xt=yt.get("boxWidth");isArray$1(xt)||(xt=[xt,xt]),ot.push([parsePercent(xt[0],it)||0,parsePercent(xt[1],it)||0])});var ft=it*.8-2,dt=ft/tt*.3,vt=(ft-dt*(tt-1))/tt,gt=vt/2-ft/2;each$9(et,function(yt,xt){at.push(gt),gt+=dt+vt,nt.push(Math.min(Math.max(vt,ot[xt][0]),ot[xt][1]))})}function layoutSingleSeries($,_e,et){var tt=$.coordinateSystem,nt=$.getData(),at=et/2,ot=$.get("layout")==="horizontal"?0:1,it=1-ot,st=["x","y"],ut=nt.mapDimension(st[ot]),ft=nt.mapDimensionsAll(st[it]);if(ut==null||ft.length<5)return;for(var dt=0;dt<nt.count();dt++){var vt=nt.get(ut,dt),gt=$t(vt,ft[2],dt),yt=$t(vt,ft[0],dt),xt=$t(vt,ft[1],dt),Ct=$t(vt,ft[3],dt),wt=$t(vt,ft[4],dt),Et=[];It(Et,xt,!1),It(Et,Ct,!0),Et.push(yt,xt,wt,Ct),Ot(Et,yt),Ot(Et,wt),Ot(Et,gt),nt.setItemLayout(dt,{initBaseline:gt[it],ends:Et})}function $t(Lt,Ft,zt){var Gt=nt.get(Ft,zt),jt=[];jt[ot]=Lt,jt[it]=Gt;var Ut;return isNaN(Lt)||isNaN(Gt)?Ut=[NaN,NaN]:(Ut=tt.dataToPoint(jt),Ut[ot]+=_e),Ut}function It(Lt,Ft,zt){var Gt=Ft.slice(),jt=Ft.slice();Gt[ot]+=at,jt[ot]-=at,zt?Lt.push(Gt,jt):Lt.push(jt,Gt)}function Ot(Lt,Ft){var zt=Ft.slice(),Gt=Ft.slice();zt[ot]-=at,Gt[ot]+=at,Lt.push(zt,Gt)}}function prepareBoxplotData($,_e){_e=_e||{};for(var et=[],tt=[],nt=_e.boundIQR,at=nt==="none"||nt===0,ot=0;ot<$.length;ot++){var it=asc$2($[ot].slice()),st=quantile(it,.25),ut=quantile(it,.5),ft=quantile(it,.75),dt=it[0],vt=it[it.length-1],gt=(nt==null?1.5:nt)*(ft-st),yt=at?dt:Math.max(dt,st-gt),xt=at?vt:Math.min(vt,ft+gt),Ct=_e.itemNameFormatter,wt=isFunction(Ct)?Ct({value:ot}):isString(Ct)?Ct.replace("{value}",ot+""):ot+"";et.push([wt,yt,st,ut,ft,xt]);for(var Et=0;Et<it.length;Et++){var $t=it[Et];if($t<yt||$t>xt){var It=[wt,$t];tt.push(It)}}}return{boxData:et,outliers:tt}}var boxplotTransform={type:"echarts:boxplot",transform:function(_e){var et=_e.upstream;if(et.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var tt="";throwError(tt)}var nt=prepareBoxplotData(et.getRawData(),_e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:nt.boxData},{data:nt.outliers}]}};function install$z($){$.registerSeriesModel(BoxplotSeriesModel$1),$.registerChartView(BoxplotView$1),$.registerVisual(boxplotVisual),$.registerLayout(boxplotLayout),$.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(et),this._isLargeDraw?this._renderLarge(et):this._renderNormal(et)},_e.prototype.incrementalPrepareRender=function(et,tt,nt){this._clear(),this._updateDrawMode(et)},_e.prototype.incrementalRender=function(et,tt,nt,at){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(et,tt):this._incrementalRenderNormal(et,tt)},_e.prototype.eachRendered=function(et){traverseElements(this._progressiveEls||this.group,et)},_e.prototype._updateDrawMode=function(et){var tt=et.pipelineContext.large;(this._isLargeDraw==null||tt!==this._isLargeDraw)&&(this._isLargeDraw=tt,this._clear())},_e.prototype._renderNormal=function(et){var tt=et.getData(),nt=this._data,at=this.group,ot=tt.getLayout("isSimpleBox"),it=et.get("clip",!0),st=et.coordinateSystem,ut=st.getArea&&st.getArea();this._data||at.removeAll(),tt.diff(nt).add(function(ft){if(tt.hasValue(ft)){var dt=tt.getItemLayout(ft);if(it&&isNormalBoxClipped(ut,dt))return;var vt=createNormalBox(dt,ft,!0);initProps(vt,{shape:{points:dt.ends}},et,ft),setBoxCommon(vt,tt,ft,ot),at.add(vt),tt.setItemGraphicEl(ft,vt)}}).update(function(ft,dt){var vt=nt.getItemGraphicEl(dt);if(!tt.hasValue(ft)){at.remove(vt);return}var gt=tt.getItemLayout(ft);if(it&&isNormalBoxClipped(ut,gt)){at.remove(vt);return}vt?(updateProps$1(vt,{shape:{points:gt.ends}},et,ft),saveOldStyle(vt)):vt=createNormalBox(gt),setBoxCommon(vt,tt,ft,ot),at.add(vt),tt.setItemGraphicEl(ft,vt)}).remove(function(ft){var dt=nt.getItemGraphicEl(ft);dt&&at.remove(dt)}).execute(),this._data=tt},_e.prototype._renderLarge=function(et){this._clear(),createLarge(et,this.group);var tt=et.get("clip",!0)?createClipPath(et.coordinateSystem,!1,et):null;tt?this.group.setClipPath(tt):this.group.removeClipPath()},_e.prototype._incrementalRenderNormal=function(et,tt){for(var nt=tt.getData(),at=nt.getLayout("isSimpleBox"),ot;(ot=et.next())!=null;){var it=nt.getItemLayout(ot),st=createNormalBox(it);setBoxCommon(st,nt,ot,at),st.incremental=!0,this.group.add(st),this._progressiveEls.push(st)}},_e.prototype._incrementalRenderLarge=function(et,tt){createLarge(tt,this.group,this._progressiveEls,!0)},_e.prototype.remove=function(et){this._clear()},_e.prototype._clear=function(){this.group.removeAll(),this._data=null},_e.type="candlestick",_e}(ChartView$1),NormalBoxPathShape=function(){function $(){}return $}(),NormalBoxPath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="normalCandlestickBox",tt}return _e.prototype.getDefaultShape=function(){return new NormalBoxPathShape},_e.prototype.buildPath=function(et,tt){var nt=tt.points;this.__simpleBox?(et.moveTo(nt[4][0],nt[4][1]),et.lineTo(nt[6][0],nt[6][1])):(et.moveTo(nt[0][0],nt[0][1]),et.lineTo(nt[1][0],nt[1][1]),et.lineTo(nt[2][0],nt[2][1]),et.lineTo(nt[3][0],nt[3][1]),et.closePath(),et.moveTo(nt[4][0],nt[4][1]),et.lineTo(nt[5][0],nt[5][1]),et.moveTo(nt[6][0],nt[6][1]),et.lineTo(nt[7][0],nt[7][1]))},_e}(Path$1);function createNormalBox($,_e,et){var tt=$.ends;return new NormalBoxPath({shape:{points:et?transInit(tt,$):tt},z2:100})}function isNormalBoxClipped($,_e){for(var et=!0,tt=0;tt<_e.ends.length;tt++)if($.contain(_e.ends[tt][0],_e.ends[tt][1])){et=!1;break}return et}function setBoxCommon($,_e,et,tt){var nt=_e.getItemModel(et);$.useStyle(_e.getItemVisual(et,"style")),$.style.strokeNoScale=!0,$.__simpleBox=tt,setStatesStylesFromModel($,nt)}function transInit($,_e){return map$1($,function(et){return et=et.slice(),et[1]=_e.initBaseline,et})}var LargeBoxPathShape=function(){function $(){}return $}(),LargeBoxPath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt.type="largeCandlestickBox",tt}return _e.prototype.getDefaultShape=function(){return new LargeBoxPathShape},_e.prototype.buildPath=function(et,tt){for(var nt=tt.points,at=0;at<nt.length;)if(this.__sign===nt[at++]){var ot=nt[at++];et.moveTo(ot,nt[at++]),et.lineTo(ot,nt[at++])}else at+=3},_e}(Path$1);function createLarge($,_e,et,tt){var nt=$.getData(),at=nt.getLayout("largePoints"),ot=new LargeBoxPath({shape:{points:at},__sign:1});_e.add(ot);var it=new LargeBoxPath({shape:{points:at},__sign:-1});_e.add(it),setLargeStyle(1,ot,$),setLargeStyle(-1,it,$),tt&&(ot.incremental=!0,it.incremental=!0),et&&et.push(ot,it)}function setLargeStyle($,_e,et,tt){var nt=et.get(["itemStyle",$>0?"borderColor":"borderColor0"])||et.get(["itemStyle",$>0?"color":"color0"]),at=et.getModel("itemStyle").getItemStyle(SKIP_PROPS);_e.useStyle(at),_e.style.fill=null,_e.style.stroke=nt}var CandlestickView$1=CandlestickView,CandlestickSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],et}return _e.prototype.getShadowDim=function(){return"open"},_e.prototype.brushSelector=function(et,tt,nt){var at=tt.getItemLayout(et);return at&&nt.rect(at.brushRect)},_e.type="series.candlestick",_e.dependencies=["xAxis","yAxis","grid"],_e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},_e}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);var CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor($){!$||!isArray$1($.series)||each$f($.series,function(_e){isObject$3(_e)&&_e.type==="k"&&(_e.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function($,_e){function et(at,ot){return ot.get(at>0?positiveColorQuery:negativeColorQuery)}function tt(at,ot){return ot.get(at>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!_e.isSeriesFiltered($)){var nt=$.pipelineContext.large;return!nt&&{progress:function(at,ot){for(var it;(it=at.next())!=null;){var st=ot.getItemModel(it),ut=ot.getItemLayout(it).sign,ft=st.getItemStyle();ft.fill=et(ut,st),ft.stroke=tt(ut,st)||ft.fill;var dt=ot.ensureUniqueItemVisual(it,"style");extend(dt,ft)}}}}}},candlestickVisual$1=candlestickVisual,candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function($){var _e=$.coordinateSystem,et=$.getData(),tt=calculateCandleWidth($,et),nt=0,at=1,ot=["x","y"],it=et.getDimensionIndex(et.mapDimension(ot[nt])),st=map$1(et.mapDimensionsAll(ot[at]),et.getDimensionIndex,et),ut=st[0],ft=st[1],dt=st[2],vt=st[3];if(et.setLayout({candleWidth:tt,isSimpleBox:tt<=1.3}),it<0||st.length<4)return;return{progress:$.pipelineContext.large?yt:gt};function gt(xt,Ct){for(var wt,Et=Ct.getStore();(wt=xt.next())!=null;){var $t=Et.get(it,wt),It=Et.get(ut,wt),Ot=Et.get(ft,wt),Lt=Et.get(dt,wt),Ft=Et.get(vt,wt),zt=Math.min(It,Ot),Gt=Math.max(It,Ot),jt=rr(zt,$t),Ut=rr(Gt,$t),Kt=rr(Lt,$t),Zt=rr(Ft,$t),Qt=[];nr(Qt,Ut,0),nr(Qt,jt,1),Qt.push(sr(Zt),sr(Ut),sr(Kt),sr(jt)),Ct.setItemLayout(wt,{sign:getSign(Et,wt,It,Ot,ft),initBaseline:It>Ot?Ut[at]:jt[at],ends:Qt,brushRect:dr(Lt,Ft,$t)})}function rr(fr,yr){var Pr=[];return Pr[nt]=yr,Pr[at]=fr,isNaN(yr)||isNaN(fr)?[NaN,NaN]:_e.dataToPoint(Pr)}function nr(fr,yr,Pr){var wr=yr.slice(),Mr=yr.slice();wr[nt]=subPixelOptimize(wr[nt]+tt/2,1,!1),Mr[nt]=subPixelOptimize(Mr[nt]-tt/2,1,!0),Pr?fr.push(wr,Mr):fr.push(Mr,wr)}function dr(fr,yr,Pr){var wr=rr(fr,Pr),Mr=rr(yr,Pr);return wr[nt]-=tt/2,Mr[nt]-=tt/2,{x:wr[0],y:wr[1],width:tt,height:Mr[1]-wr[1]}}function sr(fr){return fr[nt]=subPixelOptimize(fr[nt],1),fr}}function yt(xt,Ct){for(var wt=createFloat32Array(xt.count*4),Et=0,$t,It=[],Ot=[],Lt,Ft=Ct.getStore();(Lt=xt.next())!=null;){var zt=Ft.get(it,Lt),Gt=Ft.get(ut,Lt),jt=Ft.get(ft,Lt),Ut=Ft.get(dt,Lt),Kt=Ft.get(vt,Lt);if(isNaN(zt)||isNaN(Ut)||isNaN(Kt)){wt[Et++]=NaN,Et+=3;continue}wt[Et++]=getSign(Ft,Lt,Gt,jt,ft),It[nt]=zt,It[at]=Ut,$t=_e.dataToPoint(It,null,Ot),wt[Et++]=$t?$t[0]:NaN,wt[Et++]=$t?$t[1]:NaN,It[at]=Kt,$t=_e.dataToPoint(It,null,Ot),wt[Et++]=$t?$t[1]:NaN}Ct.setLayout("largePoints",wt)}}};function getSign($,_e,et,tt,nt){var at;return et>tt?at=-1:et<tt?at=1:at=_e>0?$.get(nt,_e-1)<=tt?1:-1:1,at}function calculateCandleWidth($,_e){var et=$.getBaseAxis(),tt,nt=et.type==="category"?et.getBandWidth():(tt=et.getExtent(),Math.abs(tt[1]-tt[0])/_e.count()),at=parsePercent(retrieve2($.get("barMaxWidth"),nt),nt),ot=parsePercent(retrieve2($.get("barMinWidth"),1),nt),it=$.get("barWidth");return it!=null?parsePercent(it,nt):Math.max(Math.min(nt/2,at),ot)}var candlestickLayout$1=candlestickLayout;function install$y($){$.registerChartView(CandlestickView$1),$.registerSeriesModel(CandlestickSeriesModel$1),$.registerPreprocessor(candlestickPreprocessor),$.registerVisual(candlestickVisual$1),$.registerLayout(candlestickLayout$1)}function updateRipplePath($,_e){var et=_e.rippleEffectColor||_e.color;$.eachChild(function(tt){tt.attr({z:_e.z,zlevel:_e.zlevel,style:{stroke:_e.brushType==="stroke"?et:null,fill:_e.brushType==="fill"?et:null}})})}var EffectSymbol=function($){__extends(_e,$);function _e(et,tt){var nt=$.call(this)||this,at=new SymbolClz(et,tt),ot=new Group$4;return nt.add(at),nt.add(ot),nt.updateData(et,tt),nt}return _e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},_e.prototype.startEffectAnimation=function(et){for(var tt=et.symbolType,nt=et.color,at=et.rippleNumber,ot=this.childAt(1),it=0;it<at;it++){var st=createSymbol$1(tt,-1,-1,2,2,nt);st.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var ut=-it/at*et.period+et.effectOffset;st.animate("",!0).when(et.period,{scaleX:et.rippleScale/2,scaleY:et.rippleScale/2}).delay(ut).start(),st.animateStyle(!0).when(et.period,{opacity:0}).delay(ut).start(),ot.add(st)}updateRipplePath(ot,et)},_e.prototype.updateEffectAnimation=function(et){for(var tt=this._effectCfg,nt=this.childAt(1),at=["symbolType","period","rippleScale","rippleNumber"],ot=0;ot<at.length;ot++){var it=at[ot];if(tt[it]!==et[it]){this.stopEffectAnimation(),this.startEffectAnimation(et);return}}updateRipplePath(nt,et)},_e.prototype.highlight=function(){enterEmphasis(this)},_e.prototype.downplay=function(){leaveEmphasis(this)},_e.prototype.getSymbolType=function(){var et=this.childAt(0);return et&&et.getSymbolType()},_e.prototype.updateData=function(et,tt){var nt=this,at=et.hostModel;this.childAt(0).updateData(et,tt);var ot=this.childAt(1),it=et.getItemModel(tt),st=et.getItemVisual(tt,"symbol"),ut=normalizeSymbolSize(et.getItemVisual(tt,"symbolSize")),ft=et.getItemVisual(tt,"style"),dt=ft&&ft.fill,vt=it.getModel("emphasis");ot.setScale(ut),ot.traverse(function(Ct){Ct.setStyle("fill",dt)});var gt=normalizeSymbolOffset(et.getItemVisual(tt,"symbolOffset"),ut);gt&&(ot.x=gt[0],ot.y=gt[1]);var yt=et.getItemVisual(tt,"symbolRotate");ot.rotation=(yt||0)*Math.PI/180||0;var xt={};xt.showEffectOn=at.get("showEffectOn"),xt.rippleScale=it.get(["rippleEffect","scale"]),xt.brushType=it.get(["rippleEffect","brushType"]),xt.period=it.get(["rippleEffect","period"])*1e3,xt.effectOffset=tt/et.count(),xt.z=at.getShallow("z")||0,xt.zlevel=at.getShallow("zlevel")||0,xt.symbolType=st,xt.color=dt,xt.rippleEffectColor=it.get(["rippleEffect","color"]),xt.rippleNumber=it.get(["rippleEffect","number"]),xt.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(xt):this.startEffectAnimation(xt),this._effectCfg=xt):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(Ct){Ct==="emphasis"?xt.showEffectOn!=="render"&&nt.startEffectAnimation(xt):Ct==="normal"&&xt.showEffectOn!=="render"&&nt.stopEffectAnimation()}),this._effectCfg=xt,toggleHoverEmphasis(this,vt.get("focus"),vt.get("blurScope"),vt.get("disabled"))},_e.prototype.fadeOut=function(et){et&&et()},_e}(Group$4),EffectSymbol$1=EffectSymbol,EffectScatterView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},_e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=this._symbolDraw;ot.updateData(at,{clipShape:this._getClipShape(et)}),this.group.add(ot.group)},_e.prototype._getClipShape=function(et){var tt=et.coordinateSystem,nt=tt&&tt.getArea&&tt.getArea();return et.get("clip",!0)?nt:null},_e.prototype.updateTransform=function(et,tt,nt){var at=et.getData();this.group.dirty();var ot=pointsLayout("").reset(et,tt,nt);ot.progress&&ot.progress({start:0,end:at.count(),count:at.count()},at),this._symbolDraw.updateLayout()},_e.prototype._updateGroupTransform=function(et){var tt=et.coordinateSystem;tt&&tt.getRoamTransform&&(this.group.transform=clone$2(tt.getRoamTransform()),this.group.decomposeTransform())},_e.prototype.remove=function(et,tt){this._symbolDraw&&this._symbolDraw.remove(!0)},_e.type="effectScatter",_e}(ChartView$1),EffectScatterView$1=EffectScatterView,EffectScatterSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.hasSymbolVisual=!0,et}return _e.prototype.getInitialData=function(et,tt){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_e.prototype.brushSelector=function(et,tt,nt){return nt.point(tt.getItemLayout(et))},_e.type="series.effectScatter",_e.dependencies=["grid","polar"],_e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},_e}(SeriesModel$1),EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x($){$.registerChartView(EffectScatterView$1),$.registerSeriesModel(EffectScatterSeriesModel$1),$.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this)||this;return at.add(at.createLine(et,tt,nt)),at._updateEffectSymbol(et,tt),at}return _e.prototype.createLine=function(et,tt,nt){return new Line$1(et,tt,nt)},_e.prototype._updateEffectSymbol=function(et,tt){var nt=et.getItemModel(tt),at=nt.getModel("effect"),ot=at.get("symbolSize"),it=at.get("symbol");isArray$1(ot)||(ot=[ot,ot]);var st=et.getItemVisual(tt,"style"),ut=at.get("color")||st&&st.stroke,ft=this.childAt(1);this._symbolType!==it&&(this.remove(ft),ft=createSymbol$1(it,-.5,-.5,1,1,ut),ft.z2=100,ft.culling=!0,this.add(ft)),ft&&(ft.setStyle("shadowColor",ut),ft.setStyle(at.getItemStyle(["color"])),ft.scaleX=ot[0],ft.scaleY=ot[1],ft.setColor(ut),this._symbolType=it,this._symbolScale=ot,this._updateEffectAnimation(et,at,tt))},_e.prototype._updateEffectAnimation=function(et,tt,nt){var at=this.childAt(1);if(!!at){var ot=et.getItemLayout(nt),it=tt.get("period")*1e3,st=tt.get("loop"),ut=tt.get("constantSpeed"),ft=retrieve(tt.get("delay"),function(vt){return vt/et.count()*it/3});if(at.ignore=!0,this._updateAnimationPoints(at,ot),ut>0&&(it=this._getLineLength(at)/ut*1e3),it!==this._period||st!==this._loop){at.stopAnimation();var dt=void 0;isFunction(ft)?dt=ft(nt):dt=ft,at.__t>0&&(dt=-it*at.__t),this._animateSymbol(at,it,dt,st)}this._period=it,this._loop=st}},_e.prototype._animateSymbol=function(et,tt,nt,at){if(tt>0){et.__t=0;var ot=this,it=et.animate("",at).when(tt,{__t:1}).delay(nt).during(function(){ot._updateSymbolPosition(et)});at||it.done(function(){ot.remove(et)}),it.start()}},_e.prototype._getLineLength=function(et){return dist$1(et.__p1,et.__cp1)+dist$1(et.__cp1,et.__p2)},_e.prototype._updateAnimationPoints=function(et,tt){et.__p1=tt[0],et.__p2=tt[1],et.__cp1=tt[2]||[(tt[0][0]+tt[1][0])/2,(tt[0][1]+tt[1][1])/2]},_e.prototype.updateData=function(et,tt,nt){this.childAt(0).updateData(et,tt,nt),this._updateEffectSymbol(et,tt)},_e.prototype._updateSymbolPosition=function(et){var tt=et.__p1,nt=et.__p2,at=et.__cp1,ot=et.__t,it=[et.x,et.y],st=it.slice(),ut=quadraticAt$1,ft=quadraticDerivativeAt;it[0]=ut(tt[0],at[0],nt[0],ot),it[1]=ut(tt[1],at[1],nt[1],ot);var dt=ft(tt[0],at[0],nt[0],ot),vt=ft(tt[1],at[1],nt[1],ot);et.rotation=-Math.atan2(vt,dt)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(et.__lastT!==void 0&&et.__lastT<et.__t?(et.scaleY=dist$1(st,it)*1.05,ot===1&&(it[0]=st[0]+(it[0]-st[0])/2,it[1]=st[1]+(it[1]-st[1])/2)):et.__lastT===1?et.scaleY=2*dist$1(tt,it):et.scaleY=this._symbolScale[1]),et.__lastT=et.__t,et.ignore=!1,et.x=it[0],et.y=it[1]},_e.prototype.updateLayout=function(et,tt){this.childAt(0).updateLayout(et,tt);var nt=et.getItemModel(tt).getModel("effect");this._updateEffectAnimation(et,nt,tt)},_e}(Group$4),EffectLine$1=EffectLine,Polyline=function($){__extends(_e,$);function _e(et,tt,nt){var at=$.call(this)||this;return at._createPolyline(et,tt,nt),at}return _e.prototype._createPolyline=function(et,tt,nt){var at=et.getItemLayout(tt),ot=new Polyline$3({shape:{points:at}});this.add(ot),this._updateCommonStl(et,tt,nt)},_e.prototype.updateData=function(et,tt,nt){var at=et.hostModel,ot=this.childAt(0),it={shape:{points:et.getItemLayout(tt)}};updateProps$1(ot,it,at,tt),this._updateCommonStl(et,tt,nt)},_e.prototype._updateCommonStl=function(et,tt,nt){var at=this.childAt(0),ot=et.getItemModel(tt),it=nt&&nt.emphasisLineStyle,st=nt&&nt.focus,ut=nt&&nt.blurScope,ft=nt&&nt.emphasisDisabled;if(!nt||et.hasItemOption){var dt=ot.getModel("emphasis");it=dt.getModel("lineStyle").getLineStyle(),ft=dt.get("disabled"),st=dt.get("focus"),ut=dt.get("blurScope")}at.useStyle(et.getItemVisual(tt,"style")),at.style.fill=null,at.style.strokeNoScale=!0;var vt=at.ensureState("emphasis");vt.style=it,toggleHoverEmphasis(this,st,ut,ft)},_e.prototype.updateLayout=function(et,tt){var nt=this.childAt(0);nt.setShape("points",et.getItemLayout(tt))},_e}(Group$4),Polyline$1=Polyline,EffectPolyline=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et._lastFrame=0,et._lastFramePercent=0,et}return _e.prototype.createLine=function(et,tt,nt){return new Polyline$1(et,tt,nt)},_e.prototype._updateAnimationPoints=function(et,tt){this._points=tt;for(var nt=[0],at=0,ot=1;ot<tt.length;ot++){var it=tt[ot-1],st=tt[ot];at+=dist$1(it,st),nt.push(at)}if(at===0){this._length=0;return}for(var ot=0;ot<nt.length;ot++)nt[ot]/=at;this._offsets=nt,this._length=at},_e.prototype._getLineLength=function(){return this._length},_e.prototype._updateSymbolPosition=function(et){var tt=et.__t,nt=this._points,at=this._offsets,ot=nt.length;if(!!at){var it=this._lastFrame,st;if(tt<this._lastFramePercent){var ut=Math.min(it+1,ot-1);for(st=ut;st>=0&&!(at[st]<=tt);st--);st=Math.min(st,ot-2)}else{for(st=it;st<ot&&!(at[st]>tt);st++);st=Math.min(st-1,ot-2)}var ft=(tt-at[st])/(at[st+1]-at[st]),dt=nt[st],vt=nt[st+1];et.x=dt[0]*(1-ft)+ft*vt[0],et.y=dt[1]*(1-ft)+ft*vt[1];var gt=vt[0]-dt[0],yt=vt[1]-dt[1];et.rotation=-Math.atan2(yt,gt)-Math.PI/2,this._lastFrame=st,this._lastFramePercent=tt,et.ignore=!1}},_e}(EffectLine$1),EffectPolyline$1=EffectPolyline,LargeLinesPathShape=function(){function $(){this.polyline=!1,this.curveness=0,this.segs=[]}return $}(),LargeLinesPath=function($){__extends(_e,$);function _e(et){var tt=$.call(this,et)||this;return tt._off=0,tt.hoverDataIdx=-1,tt}return _e.prototype.reset=function(){this.notClear=!1,this._off=0},_e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_e.prototype.getDefaultShape=function(){return new LargeLinesPathShape},_e.prototype.buildPath=function(et,tt){var nt=tt.segs,at=tt.curveness,ot;if(tt.polyline)for(ot=this._off;ot<nt.length;){var it=nt[ot++];if(it>0){et.moveTo(nt[ot++],nt[ot++]);for(var st=1;st<it;st++)et.lineTo(nt[ot++],nt[ot++])}}else for(ot=this._off;ot<nt.length;){var ut=nt[ot++],ft=nt[ot++],dt=nt[ot++],vt=nt[ot++];if(et.moveTo(ut,ft),at>0){var gt=(ut+dt)/2-(ft-vt)*at,yt=(ft+vt)/2-(dt-ut)*at;et.quadraticCurveTo(gt,yt,dt,vt)}else et.lineTo(dt,vt)}this.incremental&&(this._off=ot,this.notClear=!0)},_e.prototype.findDataIndex=function(et,tt){var nt=this.shape,at=nt.segs,ot=nt.curveness,it=this.style.lineWidth;if(nt.polyline)for(var st=0,ut=0;ut<at.length;){var ft=at[ut++];if(ft>0)for(var dt=at[ut++],vt=at[ut++],gt=1;gt<ft;gt++){var yt=at[ut++],xt=at[ut++];if(containStroke$4(dt,vt,yt,xt,it,et,tt))return st}st++}else for(var st=0,ut=0;ut<at.length;){var dt=at[ut++],vt=at[ut++],yt=at[ut++],xt=at[ut++];if(ot>0){var Ct=(dt+yt)/2-(vt-xt)*ot,wt=(vt+xt)/2-(yt-dt)*ot;if(containStroke$2(dt,vt,Ct,wt,yt,xt,it,et,tt))return st}else if(containStroke$4(dt,vt,yt,xt,it,et,tt))return st;st++}return-1},_e.prototype.contain=function(et,tt){var nt=this.transformCoordToLocal(et,tt),at=this.getBoundingRect();if(et=nt[0],tt=nt[1],at.contain(et,tt)){var ot=this.hoverDataIdx=this.findDataIndex(et,tt);return ot>=0}return this.hoverDataIdx=-1,!1},_e.prototype.getBoundingRect=function(){var et=this._rect;if(!et){for(var tt=this.shape,nt=tt.segs,at=1/0,ot=1/0,it=-1/0,st=-1/0,ut=0;ut<nt.length;){var ft=nt[ut++],dt=nt[ut++];at=Math.min(ft,at),it=Math.max(ft,it),ot=Math.min(dt,ot),st=Math.max(dt,st)}et=this._rect=new BoundingRect$1(at,ot,it,st)}return et},_e}(Path$1),LargeLineDraw=function(){function $(){this.group=new Group$4}return $.prototype.updateData=function(_e){this._clear();var et=this._create();et.setShape({segs:_e.getLayout("linesPoints")}),this._setCommon(et,_e)},$.prototype.incrementalPrepareUpdate=function(_e){this.group.removeAll(),this._clear()},$.prototype.incrementalUpdate=function(_e,et){var tt=this._newAdded[0],nt=et.getLayout("linesPoints"),at=tt&&tt.shape.segs;if(at&&at.length<2e4){var ot=at.length,it=new Float32Array(ot+nt.length);it.set(at),it.set(nt,ot),tt.setShape({segs:it})}else{this._newAdded=[];var st=this._create();st.incremental=!0,st.setShape({segs:nt}),this._setCommon(st,et),st.__startIndex=_e.start}},$.prototype.remove=function(){this._clear()},$.prototype.eachRendered=function(_e){this._newAdded[0]&&_e(this._newAdded[0])},$.prototype._create=function(){var _e=new LargeLinesPath({cursor:"default"});return this._newAdded.push(_e),this.group.add(_e),_e},$.prototype._setCommon=function(_e,et,tt){var nt=et.hostModel;_e.setShape({polyline:nt.get("polyline"),curveness:nt.get(["lineStyle","curveness"])}),_e.useStyle(nt.getModel("lineStyle").getLineStyle()),_e.style.strokeNoScale=!0;var at=et.getVisual("style");at&&at.stroke&&_e.setStyle("stroke",at.stroke),_e.setStyle("fill",null);var ot=getECData(_e);ot.seriesIndex=nt.seriesIndex,_e.on("mousemove",function(it){ot.dataIndex=null;var st=_e.hoverDataIdx;st>0&&(ot.dataIndex=st+_e.__startIndex)})},$.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},$}(),LargeLineDraw$1=LargeLineDraw,linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function($){var _e=$.coordinateSystem;if(!!_e){var et=$.get("polyline"),tt=$.pipelineContext.large;return{progress:function(nt,at){var ot=[];if(tt){var it=void 0,st=nt.end-nt.start;if(et){for(var ut=0,ft=nt.start;ft<nt.end;ft++)ut+=$.getLineCoordsCount(ft);it=new Float32Array(st+ut*2)}else it=new Float32Array(st*4);for(var dt=0,vt=[],ft=nt.start;ft<nt.end;ft++){var gt=$.getLineCoords(ft,ot);et&&(it[dt++]=gt);for(var yt=0;yt<gt;yt++)vt=_e.dataToPoint(ot[yt],!1,vt),it[dt++]=vt[0],it[dt++]=vt[1]}at.setLayout("linesPoints",it)}else for(var ft=nt.start;ft<nt.end;ft++){var xt=at.getItemModel(ft),gt=$.getLineCoords(ft,ot),Ct=[];if(et)for(var wt=0;wt<gt;wt++)Ct.push(_e.dataToPoint(ot[wt]));else{Ct[0]=_e.dataToPoint(ot[0]),Ct[1]=_e.dataToPoint(ot[1]);var Et=xt.get(["lineStyle","curveness"]);+Et&&(Ct[2]=[(Ct[0][0]+Ct[1][0])/2-(Ct[0][1]-Ct[1][1])*Et,(Ct[0][1]+Ct[1][1])/2-(Ct[1][0]-Ct[0][0])*Et])}at.setItemLayout(ft,Ct)}}}}}},linesLayout$1=linesLayout,LinesView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=this._updateLineDraw(at,et),it=et.get("zlevel"),st=et.get(["effect","trailLength"]),ut=nt.getZr(),ft=ut.painter.getType()==="svg";ft||ut.painter.getLayer(it).clear(!0),this._lastZlevel!=null&&!ft&&ut.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(et)&&st>0&&(ft||ut.configLayer(it,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(st/10+.9,1),0)})),ot.updateData(at);var dt=et.get("clip",!0)&&createClipPath(et.coordinateSystem,!1,et);dt?this.group.setClipPath(dt):this.group.removeClipPath(),this._lastZlevel=it,this._finished=!0},_e.prototype.incrementalPrepareRender=function(et,tt,nt){var at=et.getData(),ot=this._updateLineDraw(at,et);ot.incrementalPrepareUpdate(at),this._clearLayer(nt),this._finished=!1},_e.prototype.incrementalRender=function(et,tt,nt){this._lineDraw.incrementalUpdate(et,tt.getData()),this._finished=et.end===tt.getData().count()},_e.prototype.eachRendered=function(et){this._lineDraw&&this._lineDraw.eachRendered(et)},_e.prototype.updateTransform=function(et,tt,nt){var at=et.getData(),ot=et.pipelineContext;if(!this._finished||ot.large||ot.progressiveRender)return{update:!0};var it=linesLayout$1.reset(et,tt,nt);it.progress&&it.progress({start:0,end:at.count(),count:at.count()},at),this._lineDraw.updateLayout(),this._clearLayer(nt)},_e.prototype._updateLineDraw=function(et,tt){var nt=this._lineDraw,at=this._showEffect(tt),ot=!!tt.get("polyline"),it=tt.pipelineContext,st=it.large;return(!nt||at!==this._hasEffet||ot!==this._isPolyline||st!==this._isLargeDraw)&&(nt&&nt.remove(),nt=this._lineDraw=st?new LargeLineDraw$1:new LineDraw$1(ot?at?EffectPolyline$1:Polyline$1:at?EffectLine$1:Line$1),this._hasEffet=at,this._isPolyline=ot,this._isLargeDraw=st),this.group.add(nt.group),nt},_e.prototype._showEffect=function(et){return!!et.get(["effect","show"])},_e.prototype._clearLayer=function(et){var tt=et.getZr(),nt=tt.painter.getType()==="svg";!nt&&this._lastZlevel!=null&&tt.painter.getLayer(this._lastZlevel).clear(!0)},_e.prototype.remove=function(et,tt){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(tt)},_e.prototype.dispose=function(et,tt){this.remove(et,tt)},_e.type="lines",_e}(ChartView$1),LinesView$1=LinesView,Uint32Arr=typeof Uint32Array=="undefined"?Array:Uint32Array,Float64Arr=typeof Float64Array=="undefined"?Array:Float64Array;function compatEc2($){var _e=$.data;_e&&_e[0]&&_e[0][0]&&_e[0][0].coord&&($.data=map$1(_e,function(et){var tt=[et[0].coord,et[1].coord],nt={coords:tt};return et[0].name&&(nt.fromName=et[0].name),et[1].name&&(nt.toName=et[1].name),mergeAll([nt,et[0],et[1]])}))}var LinesSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.visualStyleAccessPath="lineStyle",et.visualDrawType="stroke",et}return _e.prototype.init=function(et){et.data=et.data||[],compatEc2(et);var tt=this._processFlatCoordsArray(et.data);this._flatCoords=tt.flatCoords,this._flatCoordsOffset=tt.flatCoordsOffset,tt.flatCoords&&(et.data=new Float32Array(tt.count)),$.prototype.init.apply(this,arguments)},_e.prototype.mergeOption=function(et){if(compatEc2(et),et.data){var tt=this._processFlatCoordsArray(et.data);this._flatCoords=tt.flatCoords,this._flatCoordsOffset=tt.flatCoordsOffset,tt.flatCoords&&(et.data=new Float32Array(tt.count))}$.prototype.mergeOption.apply(this,arguments)},_e.prototype.appendData=function(et){var tt=this._processFlatCoordsArray(et.data);tt.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,tt.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,tt.flatCoordsOffset)):(this._flatCoords=tt.flatCoords,this._flatCoordsOffset=tt.flatCoordsOffset),et.data=new Float32Array(tt.count)),this.getRawData().appendData(et.data)},_e.prototype._getCoordsFromItemModel=function(et){var tt=this.getData().getItemModel(et),nt=tt.option instanceof Array?tt.option:tt.getShallow("coords");return nt},_e.prototype.getLineCoordsCount=function(et){return this._flatCoordsOffset?this._flatCoordsOffset[et*2+1]:this._getCoordsFromItemModel(et).length},_e.prototype.getLineCoords=function(et,tt){if(this._flatCoordsOffset){for(var nt=this._flatCoordsOffset[et*2],at=this._flatCoordsOffset[et*2+1],ot=0;ot<at;ot++)tt[ot]=tt[ot]||[],tt[ot][0]=this._flatCoords[nt+ot*2],tt[ot][1]=this._flatCoords[nt+ot*2+1];return at}else{for(var it=this._getCoordsFromItemModel(et),ot=0;ot<it.length;ot++)tt[ot]=tt[ot]||[],tt[ot][0]=it[ot][0],tt[ot][1]=it[ot][1];return it.length}},_e.prototype._processFlatCoordsArray=function(et){var tt=0;if(this._flatCoords&&(tt=this._flatCoords.length),isNumber(et[0])){for(var nt=et.length,at=new Uint32Arr(nt),ot=new Float64Arr(nt),it=0,st=0,ut=0,ft=0;ft<nt;){ut++;var dt=et[ft++];at[st++]=it+tt,at[st++]=dt;for(var vt=0;vt<dt;vt++){var gt=et[ft++],yt=et[ft++];ot[it++]=gt,ot[it++]=yt}}return{flatCoordsOffset:new Uint32Array(at.buffer,0,st),flatCoords:ot,count:ut}}return{flatCoordsOffset:null,flatCoords:null,count:et.length}},_e.prototype.getInitialData=function(et,tt){var nt=new SeriesData$1(["value"],this);return nt.hasItemOption=!1,nt.initData(et.data,[],function(at,ot,it,st){if(at instanceof Array)return NaN;nt.hasItemOption=!0;var ut=at.value;if(ut!=null)return ut instanceof Array?ut[st]:ut}),nt},_e.prototype.formatTooltip=function(et,tt,nt){var at=this.getData(),ot=at.getItemModel(et),it=ot.get("name");if(it)return it;var st=ot.get("fromName"),ut=ot.get("toName"),ft=[];return st!=null&&ft.push(st),ut!=null&&ft.push(ut),createTooltipMarkup("nameValue",{name:ft.join(" > ")})},_e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},_e.prototype.getProgressive=function(){var et=this.option.progressive;return et==null?this.option.large?1e4:this.get("progressive"):et},_e.prototype.getProgressiveThreshold=function(){var et=this.option.progressiveThreshold;return et==null?this.option.large?2e4:this.get("progressiveThreshold"):et},_e.prototype.getZLevelKey=function(){var et=this.getModel("effect"),tt=et.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:et.get("show")&&tt>0?tt+"":""},_e.type="series.lines",_e.dependencies=["grid","polar","geo","calendar"],_e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},_e}(SeriesModel$1),LinesSeriesModel$1=LinesSeriesModel;function normalize($){return $ instanceof Array||($=[$,$]),$}var linesVisual={seriesType:"lines",reset:function($){var _e=normalize($.get("symbol")),et=normalize($.get("symbolSize")),tt=$.getData();tt.setVisual("fromSymbol",_e&&_e[0]),tt.setVisual("toSymbol",_e&&_e[1]),tt.setVisual("fromSymbolSize",et&&et[0]),tt.setVisual("toSymbolSize",et&&et[1]);function nt(at,ot){var it=at.getItemModel(ot),st=normalize(it.getShallow("symbol",!0)),ut=normalize(it.getShallow("symbolSize",!0));st[0]&&at.setItemVisual(ot,"fromSymbol",st[0]),st[1]&&at.setItemVisual(ot,"toSymbol",st[1]),ut[0]&&at.setItemVisual(ot,"fromSymbolSize",ut[0]),ut[1]&&at.setItemVisual(ot,"toSymbolSize",ut[1])}return{dataEach:tt.hasItemOption?nt:null}}},linesVisual$1=linesVisual;function install$w($){$.registerChartView(LinesView$1),$.registerSeriesModel(LinesSeriesModel$1),$.registerLayout(linesLayout$1),$.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function $(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var _e=platformApi.createCanvas();this.canvas=_e}return $.prototype.update=function(_e,et,tt,nt,at,ot){var it=this._getBrush(),st=this._getGradient(at,"inRange"),ut=this._getGradient(at,"outOfRange"),ft=this.pointSize+this.blurSize,dt=this.canvas,vt=dt.getContext("2d"),gt=_e.length;dt.width=et,dt.height=tt;for(var yt=0;yt<gt;++yt){var xt=_e[yt],Ct=xt[0],wt=xt[1],Et=xt[2],$t=nt(Et);vt.globalAlpha=$t,vt.drawImage(it,Ct-ft,wt-ft)}if(!dt.width||!dt.height)return dt;for(var It=vt.getImageData(0,0,dt.width,dt.height),Ot=It.data,Lt=0,Ft=Ot.length,zt=this.minOpacity,Gt=this.maxOpacity,jt=Gt-zt;Lt<Ft;){var $t=Ot[Lt+3]/256,Ut=Math.floor($t*(GRADIENT_LEVELS-1))*4;if($t>0){var Kt=ot($t)?st:ut;$t>0&&($t=$t*jt+zt),Ot[Lt++]=Kt[Ut],Ot[Lt++]=Kt[Ut+1],Ot[Lt++]=Kt[Ut+2],Ot[Lt++]=Kt[Ut+3]*$t*256}else Lt+=4}return vt.putImageData(It,0,0),dt},$.prototype._getBrush=function(){var _e=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),et=this.pointSize+this.blurSize,tt=et*2;_e.width=tt,_e.height=tt;var nt=_e.getContext("2d");return nt.clearRect(0,0,tt,tt),nt.shadowOffsetX=tt,nt.shadowBlur=this.blurSize,nt.shadowColor="#000",nt.beginPath(),nt.arc(-et,et,this.pointSize,0,Math.PI*2,!0),nt.closePath(),nt.fill(),_e},$.prototype._getGradient=function(_e,et){for(var tt=this._gradientPixels,nt=tt[et]||(tt[et]=new Uint8ClampedArray(256*4)),at=[0,0,0,0],ot=0,it=0;it<256;it++)_e[et](it/255,!0,at),nt[ot++]=at[0],nt[ot++]=at[1],nt[ot++]=at[2],nt[ot++]=at[3];return nt},$}(),HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange($,_e,et){var tt=$[1]-$[0];_e=map$1(_e,function(ot){return{interval:[(ot.interval[0]-$[0])/tt,(ot.interval[1]-$[0])/tt]}});var nt=_e.length,at=0;return function(ot){var it;for(it=at;it<nt;it++){var st=_e[it].interval;if(st[0]<=ot&&ot<=st[1]){at=it;break}}if(it===nt)for(it=at-1;it>=0;it--){var st=_e[it].interval;if(st[0]<=ot&&ot<=st[1]){at=it;break}}return it>=0&&it<nt&&et[it]}}function getIsInContinuousRange($,_e){var et=$[1]-$[0];return _e=[(_e[0]-$[0])/et,(_e[1]-$[0])/et],function(tt){return tt>=_e[0]&&tt<=_e[1]}}function isGeoCoordSys($){var _e=$.dimensions;return _e[0]==="lng"&&_e[1]==="lat"}var HeatmapView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at;tt.eachComponent("visualMap",function(it){it.eachTargetSeries(function(st){st===et&&(at=it)})}),this._progressiveEls=null,this.group.removeAll();var ot=et.coordinateSystem;ot.type==="cartesian2d"||ot.type==="calendar"?this._renderOnCartesianAndCalendar(et,nt,0,et.getData().count()):isGeoCoordSys(ot)&&this._renderOnGeo(ot,et,at,nt)},_e.prototype.incrementalPrepareRender=function(et,tt,nt){this.group.removeAll()},_e.prototype.incrementalRender=function(et,tt,nt,at){var ot=tt.coordinateSystem;ot&&(isGeoCoordSys(ot)?this.render(tt,nt,at):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(tt,at,et.start,et.end,!0)))},_e.prototype.eachRendered=function(et){traverseElements(this._progressiveEls||this.group,et)},_e.prototype._renderOnCartesianAndCalendar=function(et,tt,nt,at,ot){var it=et.coordinateSystem,st=isCoordinateSystemType(it,"cartesian2d"),ut,ft,dt,vt;if(st){var gt=it.getAxis("x"),yt=it.getAxis("y");ut=gt.getBandWidth()+.5,ft=yt.getBandWidth()+.5,dt=gt.scale.getExtent(),vt=yt.scale.getExtent()}for(var xt=this.group,Ct=et.getData(),wt=et.getModel(["emphasis","itemStyle"]).getItemStyle(),Et=et.getModel(["blur","itemStyle"]).getItemStyle(),$t=et.getModel(["select","itemStyle"]).getItemStyle(),It=et.get(["itemStyle","borderRadius"]),Ot=getLabelStatesModels(et),Lt=et.getModel("emphasis"),Ft=Lt.get("focus"),zt=Lt.get("blurScope"),Gt=Lt.get("disabled"),jt=st?[Ct.mapDimension("x"),Ct.mapDimension("y"),Ct.mapDimension("value")]:[Ct.mapDimension("time"),Ct.mapDimension("value")],Ut=nt;Ut<at;Ut++){var Kt=void 0,Zt=Ct.getItemVisual(Ut,"style");if(st){var Qt=Ct.get(jt[0],Ut),rr=Ct.get(jt[1],Ut);if(isNaN(Ct.get(jt[2],Ut))||Qt<dt[0]||Qt>dt[1]||rr<vt[0]||rr>vt[1])continue;var nr=it.dataToPoint([Qt,rr]);Kt=new Rect$3({shape:{x:nr[0]-ut/2,y:nr[1]-ft/2,width:ut,height:ft},style:Zt})}else{if(isNaN(Ct.get(jt[1],Ut)))continue;Kt=new Rect$3({z2:1,shape:it.dataToRect([Ct.get(jt[0],Ut)]).contentShape,style:Zt})}if(Ct.hasItemOption){var dr=Ct.getItemModel(Ut),sr=dr.getModel("emphasis");wt=sr.getModel("itemStyle").getItemStyle(),Et=dr.getModel(["blur","itemStyle"]).getItemStyle(),$t=dr.getModel(["select","itemStyle"]).getItemStyle(),It=dr.get(["itemStyle","borderRadius"]),Ft=sr.get("focus"),zt=sr.get("blurScope"),Gt=sr.get("disabled"),Ot=getLabelStatesModels(dr)}Kt.shape.r=It;var fr=et.getRawValue(Ut),yr="-";fr&&fr[2]!=null&&(yr=fr[2]+""),setLabelStyle(Kt,Ot,{labelFetcher:et,labelDataIndex:Ut,defaultOpacity:Zt.opacity,defaultText:yr}),Kt.ensureState("emphasis").style=wt,Kt.ensureState("blur").style=Et,Kt.ensureState("select").style=$t,toggleHoverEmphasis(Kt,Ft,zt,Gt),Kt.incremental=ot,ot&&(Kt.states.emphasis.hoverLayer=!0),xt.add(Kt),Ct.setItemGraphicEl(Ut,Kt),this._progressiveEls&&this._progressiveEls.push(Kt)}},_e.prototype._renderOnGeo=function(et,tt,nt,at){var ot=nt.targetVisuals.inRange,it=nt.targetVisuals.outOfRange,st=tt.getData(),ut=this._hmLayer||this._hmLayer||new HeatmapLayer$1;ut.blurSize=tt.get("blurSize"),ut.pointSize=tt.get("pointSize"),ut.minOpacity=tt.get("minOpacity"),ut.maxOpacity=tt.get("maxOpacity");var ft=et.getViewRect().clone(),dt=et.getRoamTransform();ft.applyTransform(dt);var vt=Math.max(ft.x,0),gt=Math.max(ft.y,0),yt=Math.min(ft.width+ft.x,at.getWidth()),xt=Math.min(ft.height+ft.y,at.getHeight()),Ct=yt-vt,wt=xt-gt,Et=[st.mapDimension("lng"),st.mapDimension("lat"),st.mapDimension("value")],$t=st.mapArray(Et,function(Ft,zt,Gt){var jt=et.dataToPoint([Ft,zt]);return jt[0]-=vt,jt[1]-=gt,jt.push(Gt),jt}),It=nt.getExtent(),Ot=nt.type==="visualMap.continuous"?getIsInContinuousRange(It,nt.option.range):getIsInPiecewiseRange(It,nt.getPieceList(),nt.option.selected);ut.update($t,Ct,wt,ot.color.getNormalizer(),{inRange:ot.color.getColorMapper(),outOfRange:it.color.getColorMapper()},Ot);var Lt=new ZRImage$1({style:{width:Ct,height:wt,x:vt,y:gt,image:ut.canvas},silent:!0});this.group.add(Lt)},_e.type="heatmap",_e}(ChartView$1),HeatmapView$1=HeatmapView,HeatmapSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.getInitialData=function(et,tt){return createSeriesData(null,this,{generateCoord:"value"})},_e.prototype.preventIncremental=function(){var et=CoordinateSystem.get(this.get("coordinateSystem"));if(et&&et.dimensions)return et.dimensions[0]==="lng"&&et.dimensions[1]==="lat"},_e.type="series.heatmap",_e.dependencies=["grid","geo","calendar"],_e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},_e}(SeriesModel$1),HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v($){$.registerChartView(HeatmapView$1),$.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=this.group,ot=et.getData(),it=this._data,st=et.coordinateSystem,ut=st.getBaseAxis(),ft=ut.isHorizontal(),dt=st.master.getRect(),vt={ecSize:{width:nt.getWidth(),height:nt.getHeight()},seriesModel:et,coordSys:st,coordSysExtent:[[dt.x,dt.x+dt.width],[dt.y,dt.y+dt.height]],isHorizontal:ft,valueDim:LAYOUT_ATTRS[+ft],categoryDim:LAYOUT_ATTRS[1-+ft]};return ot.diff(it).add(function(gt){if(!!ot.hasValue(gt)){var yt=getItemModel(ot,gt),xt=getSymbolMeta(ot,gt,yt,vt),Ct=createBar(ot,vt,xt);ot.setItemGraphicEl(gt,Ct),at.add(Ct),updateCommon(Ct,vt,xt)}}).update(function(gt,yt){var xt=it.getItemGraphicEl(yt);if(!ot.hasValue(gt)){at.remove(xt);return}var Ct=getItemModel(ot,gt),wt=getSymbolMeta(ot,gt,Ct,vt),Et=getShapeStr(ot,wt);xt&&Et!==xt.__pictorialShapeStr&&(at.remove(xt),ot.setItemGraphicEl(gt,null),xt=null),xt?updateBar(xt,vt,wt):xt=createBar(ot,vt,wt,!0),ot.setItemGraphicEl(gt,xt),xt.__pictorialSymbolMeta=wt,at.add(xt),updateCommon(xt,vt,wt)}).remove(function(gt){var yt=it.getItemGraphicEl(gt);yt&&removeBar(it,gt,yt.__pictorialSymbolMeta.animationModel,yt)}).execute(),this._data=ot,this.group},_e.prototype.remove=function(et,tt){var nt=this.group,at=this._data;et.get("animation")?at&&at.eachItemGraphicEl(function(ot){removeBar(at,getECData(ot).dataIndex,et,ot)}):nt.removeAll()},_e.type="pictorialBar",_e}(ChartView$1);function getSymbolMeta($,_e,et,tt){var nt=$.getItemLayout(_e),at=et.get("symbolRepeat"),ot=et.get("symbolClip"),it=et.get("symbolPosition")||"start",st=et.get("symbolRotate"),ut=(st||0)*Math.PI/180||0,ft=et.get("symbolPatternSize")||2,dt=et.isAnimationEnabled(),vt={dataIndex:_e,layout:nt,itemModel:et,symbolType:$.getItemVisual(_e,"symbol")||"circle",style:$.getItemVisual(_e,"style"),symbolClip:ot,symbolRepeat:at,symbolRepeatDirection:et.get("symbolRepeatDirection"),symbolPatternSize:ft,rotation:ut,animationModel:dt?et:null,hoverScale:dt&&et.get(["emphasis","scale"]),z2:et.getShallow("z",!0)||0};prepareBarLength(et,at,nt,tt,vt),prepareSymbolSize($,_e,nt,at,ot,vt.boundingLength,vt.pxSign,ft,tt,vt),prepareLineWidth(et,vt.symbolScale,ut,tt,vt);var gt=vt.symbolSize,yt=normalizeSymbolOffset(et.get("symbolOffset"),gt);return prepareLayoutInfo(et,gt,nt,at,ot,yt,it,vt.valueLineWidth,vt.boundingLength,vt.repeatCutLength,tt,vt),vt}function prepareBarLength($,_e,et,tt,nt){var at=tt.valueDim,ot=$.get("symbolBoundingData"),it=tt.coordSys.getOtherAxis(tt.coordSys.getBaseAxis()),st=it.toGlobalCoord(it.dataToCoord(0)),ut=1-+(et[at.wh]<=0),ft;if(isArray$1(ot)){var dt=[convertToCoordOnAxis(it,ot[0])-st,convertToCoordOnAxis(it,ot[1])-st];dt[1]<dt[0]&&dt.reverse(),ft=dt[ut]}else ot!=null?ft=convertToCoordOnAxis(it,ot)-st:_e?ft=tt.coordSysExtent[at.index][ut]-st:ft=et[at.wh];nt.boundingLength=ft,_e&&(nt.repeatCutLength=et[at.wh]),nt.pxSign=ft>0?1:-1}function convertToCoordOnAxis($,_e){return $.toGlobalCoord($.dataToCoord($.scale.parse(_e)))}function prepareSymbolSize($,_e,et,tt,nt,at,ot,it,st,ut){var ft=st.valueDim,dt=st.categoryDim,vt=Math.abs(et[dt.wh]),gt=$.getItemVisual(_e,"symbolSize"),yt;isArray$1(gt)?yt=gt.slice():gt==null?yt=["100%","100%"]:yt=[gt,gt],yt[dt.index]=parsePercent(yt[dt.index],vt),yt[ft.index]=parsePercent(yt[ft.index],tt?vt:Math.abs(at)),ut.symbolSize=yt;var xt=ut.symbolScale=[yt[0]/it,yt[1]/it];xt[ft.index]*=(st.isHorizontal?-1:1)*ot}function prepareLineWidth($,_e,et,tt,nt){var at=$.get(BAR_BORDER_WIDTH_QUERY)||0;at&&(pathForLineWidth.attr({scaleX:_e[0],scaleY:_e[1],rotation:et}),pathForLineWidth.updateTransform(),at/=pathForLineWidth.getLineScale(),at*=_e[tt.valueDim.index]),nt.valueLineWidth=at||0}function prepareLayoutInfo($,_e,et,tt,nt,at,ot,it,st,ut,ft,dt){var vt=ft.categoryDim,gt=ft.valueDim,yt=dt.pxSign,xt=Math.max(_e[gt.index]+it,0),Ct=xt;if(tt){var wt=Math.abs(st),Et=retrieve($.get("symbolMargin"),"15%")+"",$t=!1;Et.lastIndexOf("!")===Et.length-1&&($t=!0,Et=Et.slice(0,Et.length-1));var It=parsePercent(Et,_e[gt.index]),Ot=Math.max(xt+It*2,0),Lt=$t?0:It*2,Ft=isNumeric(tt),zt=Ft?tt:toIntTimes((wt+Lt)/Ot),Gt=wt-zt*xt;It=Gt/2/($t?zt:Math.max(zt-1,1)),Ot=xt+It*2,Lt=$t?0:It*2,!Ft&&tt!=="fixed"&&(zt=ut?toIntTimes((Math.abs(ut)+Lt)/Ot):0),Ct=zt*Ot-Lt,dt.repeatTimes=zt,dt.symbolMargin=It}var jt=yt*(Ct/2),Ut=dt.pathPosition=[];Ut[vt.index]=et[vt.wh]/2,Ut[gt.index]=ot==="start"?jt:ot==="end"?st-jt:st/2,at&&(Ut[0]+=at[0],Ut[1]+=at[1]);var Kt=dt.bundlePosition=[];Kt[vt.index]=et[vt.xy],Kt[gt.index]=et[gt.xy];var Zt=dt.barRectShape=extend({},et);Zt[gt.wh]=yt*Math.max(Math.abs(et[gt.wh]),Math.abs(Ut[gt.index]+jt)),Zt[vt.wh]=et[vt.wh];var Qt=dt.clipShape={};Qt[vt.xy]=-et[vt.xy],Qt[vt.wh]=ft.ecSize[vt.wh],Qt[gt.xy]=0,Qt[gt.wh]=et[gt.wh]}function createPath($){var _e=$.symbolPatternSize,et=createSymbol$1($.symbolType,-_e/2,-_e/2,_e,_e);return et.attr({culling:!0}),et.type!=="image"&&et.setStyle({strokeNoScale:!0}),et}function createOrUpdateRepeatSymbols($,_e,et,tt){var nt=$.__pictorialBundle,at=et.symbolSize,ot=et.valueLineWidth,it=et.pathPosition,st=_e.valueDim,ut=et.repeatTimes||0,ft=0,dt=at[_e.valueDim.index]+ot+et.symbolMargin*2;for(eachPath($,function(xt){xt.__pictorialAnimationIndex=ft,xt.__pictorialRepeatTimes=ut,ft<ut?updateAttr(xt,null,yt(ft),et,tt):updateAttr(xt,null,{scaleX:0,scaleY:0},et,tt,function(){nt.remove(xt)}),ft++});ft<ut;ft++){var vt=createPath(et);vt.__pictorialAnimationIndex=ft,vt.__pictorialRepeatTimes=ut,nt.add(vt);var gt=yt(ft);updateAttr(vt,{x:gt.x,y:gt.y,scaleX:0,scaleY:0},{scaleX:gt.scaleX,scaleY:gt.scaleY,rotation:gt.rotation},et,tt)}function yt(xt){var Ct=it.slice(),wt=et.pxSign,Et=xt;return(et.symbolRepeatDirection==="start"?wt>0:wt<0)&&(Et=ut-1-xt),Ct[st.index]=dt*(Et-ut/2+.5)+it[st.index],{x:Ct[0],y:Ct[1],scaleX:et.symbolScale[0],scaleY:et.symbolScale[1],rotation:et.rotation}}}function createOrUpdateSingleSymbol($,_e,et,tt){var nt=$.__pictorialBundle,at=$.__pictorialMainPath;at?updateAttr(at,null,{x:et.pathPosition[0],y:et.pathPosition[1],scaleX:et.symbolScale[0],scaleY:et.symbolScale[1],rotation:et.rotation},et,tt):(at=$.__pictorialMainPath=createPath(et),nt.add(at),updateAttr(at,{x:et.pathPosition[0],y:et.pathPosition[1],scaleX:0,scaleY:0,rotation:et.rotation},{scaleX:et.symbolScale[0],scaleY:et.symbolScale[1]},et,tt))}function createOrUpdateBarRect($,_e,et){var tt=extend({},_e.barRectShape),nt=$.__pictorialBarRect;nt?updateAttr(nt,null,{shape:tt},_e,et):(nt=$.__pictorialBarRect=new Rect$3({z2:2,shape:tt,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),nt.disableMorphing=!0,$.add(nt))}function createOrUpdateClip($,_e,et,tt){if(et.symbolClip){var nt=$.__pictorialClipPath,at=extend({},et.clipShape),ot=_e.valueDim,it=et.animationModel,st=et.dataIndex;if(nt)updateProps$1(nt,{shape:at},it,st);else{at[ot.wh]=0,nt=new Rect$3({shape:at}),$.__pictorialBundle.setClipPath(nt),$.__pictorialClipPath=nt;var ut={};ut[ot.wh]=et.clipShape[ot.wh],graphic[tt?"updateProps":"initProps"](nt,{shape:ut},it,st)}}}function getItemModel($,_e){var et=$.getItemModel(_e);return et.getAnimationDelayParams=getAnimationDelayParams,et.isAnimationEnabled=isAnimationEnabled,et}function getAnimationDelayParams($){return{index:$.__pictorialAnimationIndex,count:$.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar($,_e,et,tt){var nt=new Group$4,at=new Group$4;return nt.add(at),nt.__pictorialBundle=at,at.x=et.bundlePosition[0],at.y=et.bundlePosition[1],et.symbolRepeat?createOrUpdateRepeatSymbols(nt,_e,et):createOrUpdateSingleSymbol(nt,_e,et),createOrUpdateBarRect(nt,et,tt),createOrUpdateClip(nt,_e,et,tt),nt.__pictorialShapeStr=getShapeStr($,et),nt.__pictorialSymbolMeta=et,nt}function updateBar($,_e,et){var tt=et.animationModel,nt=et.dataIndex,at=$.__pictorialBundle;updateProps$1(at,{x:et.bundlePosition[0],y:et.bundlePosition[1]},tt,nt),et.symbolRepeat?createOrUpdateRepeatSymbols($,_e,et,!0):createOrUpdateSingleSymbol($,_e,et,!0),createOrUpdateBarRect($,et,!0),createOrUpdateClip($,_e,et,!0)}function removeBar($,_e,et,tt){var nt=tt.__pictorialBarRect;nt&&nt.removeTextContent();var at=[];eachPath(tt,function(ot){at.push(ot)}),tt.__pictorialMainPath&&at.push(tt.__pictorialMainPath),tt.__pictorialClipPath&&(et=null),each$f(at,function(ot){removeElement(ot,{scaleX:0,scaleY:0},et,_e,function(){tt.parent&&tt.parent.remove(tt)})}),$.setItemGraphicEl(_e,null)}function getShapeStr($,_e){return[$.getItemVisual(_e.dataIndex,"symbol")||"none",!!_e.symbolRepeat,!!_e.symbolClip].join(":")}function eachPath($,_e,et){each$f($.__pictorialBundle.children(),function(tt){tt!==$.__pictorialBarRect&&_e.call(et,tt)})}function updateAttr($,_e,et,tt,nt,at){_e&&$.attr(_e),tt.symbolClip&&!nt?et&&$.attr(et):et&&graphic[nt?"updateProps":"initProps"]($,et,tt.animationModel,tt.dataIndex,at)}function updateCommon($,_e,et){var tt=et.dataIndex,nt=et.itemModel,at=nt.getModel("emphasis"),ot=at.getModel("itemStyle").getItemStyle(),it=nt.getModel(["blur","itemStyle"]).getItemStyle(),st=nt.getModel(["select","itemStyle"]).getItemStyle(),ut=nt.getShallow("cursor"),ft=at.get("focus"),dt=at.get("blurScope"),vt=at.get("scale");eachPath($,function(xt){if(xt instanceof ZRImage$1){var Ct=xt.style;xt.useStyle(extend({image:Ct.image,x:Ct.x,y:Ct.y,width:Ct.width,height:Ct.height},et.style))}else xt.useStyle(et.style);var wt=xt.ensureState("emphasis");wt.style=ot,vt&&(wt.scaleX=xt.scaleX*1.1,wt.scaleY=xt.scaleY*1.1),xt.ensureState("blur").style=it,xt.ensureState("select").style=st,ut&&(xt.cursor=ut),xt.z2=et.z2});var gt=_e.valueDim.posDesc[+(et.boundingLength>0)],yt=$.__pictorialBarRect;setLabelStyle(yt,getLabelStatesModels(nt),{labelFetcher:_e.seriesModel,labelDataIndex:tt,defaultText:getDefaultLabel(_e.seriesModel.getData(),tt),inheritColor:et.style.fill,defaultOpacity:et.style.opacity,defaultOutsidePosition:gt}),toggleHoverEmphasis($,ft,dt,at.get("disabled"))}function toIntTimes($){var _e=Math.round($);return Math.abs($-_e)<1e-4?_e:Math.ceil($)}var PictorialBarView$1=PictorialBarView,PictorialBarSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.hasSymbolVisual=!0,et.defaultSymbol="roundRect",et}return _e.prototype.getInitialData=function(et){return et.stack=null,$.prototype.getInitialData.apply(this,arguments)},_e.type="series.pictorialBar",_e.dependencies=["grid"],_e.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),_e}(BaseBarSeriesModel$1),PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u($){$.registerChartView(PictorialBarView$1),$.registerSeriesModel(PictorialBarSeriesModel$1),$.registerLayout($.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),$.registerLayout($.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._layers=[],et}return _e.prototype.render=function(et,tt,nt){var at=et.getData(),ot=this,it=this.group,st=et.getLayerSeries(),ut=at.getLayout("layoutInfo"),ft=ut.rect,dt=ut.boundaryGap;it.x=0,it.y=ft.y+dt[0];function vt(Ct){return Ct.name}var gt=new DataDiffer$1(this._layersSeries||[],st,vt,vt),yt=[];gt.add(bind$1(xt,this,"add")).update(bind$1(xt,this,"update")).remove(bind$1(xt,this,"remove")).execute();function xt(Ct,wt,Et){var $t=ot._layers;if(Ct==="remove"){it.remove($t[wt]);return}for(var It=[],Ot=[],Lt,Ft=st[wt].indices,zt=0;zt<Ft.length;zt++){var Gt=at.getItemLayout(Ft[zt]),jt=Gt.x,Ut=Gt.y0,Kt=Gt.y;It.push(jt,Ut),Ot.push(jt,Ut+Kt),Lt=at.getItemVisual(Ft[zt],"style")}var Zt,Qt=at.getItemLayout(Ft[0]),rr=et.getModel("label"),nr=rr.get("margin"),dr=et.getModel("emphasis");if(Ct==="add"){var sr=yt[wt]=new Group$4;Zt=new ECPolygon({shape:{points:It,stackedOnPoints:Ot,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),sr.add(Zt),it.add(sr),et.isAnimationEnabled()&&Zt.setClipPath(createGridClipShape(Zt.getBoundingRect(),et,function(){Zt.removeClipPath()}))}else{var sr=$t[Et];Zt=sr.childAt(0),it.add(sr),yt[wt]=sr,updateProps$1(Zt,{shape:{points:It,stackedOnPoints:Ot}},et),saveOldStyle(Zt)}setLabelStyle(Zt,getLabelStatesModels(et),{labelDataIndex:Ft[zt-1],defaultText:at.getName(Ft[zt-1]),inheritColor:Lt.fill},{normal:{verticalAlign:"middle"}}),Zt.setTextConfig({position:null,local:!0});var fr=Zt.getTextContent();fr&&(fr.x=Qt.x-nr,fr.y=Qt.y0+Qt.y/2),Zt.useStyle(Lt),at.setItemGraphicEl(wt,Zt),setStatesStylesFromModel(Zt,et),toggleHoverEmphasis(Zt,dr.get("focus"),dr.get("blurScope"),dr.get("disabled"))}this._layersSeries=st,this._layers=yt},_e.type="themeRiver",_e}(ChartView$1);function createGridClipShape($,_e,et){var tt=new Rect$3({shape:{x:$.x-10,y:$.y-10,width:0,height:$.height+20}});return initProps(tt,{shape:{x:$.x-50,width:$.width+100,height:$.height+20}},_e,et),tt}var ThemeRiverView$1=ThemeRiverView,DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},_e.prototype.fixData=function(et){var tt=et.length,nt={},at=groupData(et,function(vt){return nt.hasOwnProperty(vt[0]+"")||(nt[vt[0]+""]=-1),vt[2]}),ot=[];at.buckets.each(function(vt,gt){ot.push({name:gt,dataList:vt})});for(var it=ot.length,st=0;st<it;++st){for(var ut=ot[st].name,ft=0;ft<ot[st].dataList.length;++ft){var dt=ot[st].dataList[ft][0]+"";nt[dt]=st}for(var dt in nt)nt.hasOwnProperty(dt)&&nt[dt]!==st&&(nt[dt]=st,et[tt]=[dt,0,ut],tt++)}return et},_e.prototype.getInitialData=function(et,tt){for(var nt=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],at=nt.get("type"),ot=filter(et.data,function(yt){return yt[2]!==void 0}),it=this.fixData(ot||[]),st=[],ut=this.nameMap=createHashMap(),ft=0,dt=0;dt<it.length;++dt)st.push(it[dt][DATA_NAME_INDEX]),ut.get(it[dt][DATA_NAME_INDEX])||(ut.set(it[dt][DATA_NAME_INDEX],ft),ft++);var vt=prepareSeriesDataSchema(it,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(at)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,gt=new SeriesData$1(vt,this);return gt.initData(it),gt},_e.prototype.getLayerSeries=function(){for(var et=this.getData(),tt=et.count(),nt=[],at=0;at<tt;++at)nt[at]=at;var ot=et.mapDimension("single"),it=groupData(nt,function(ut){return et.get("name",ut)}),st=[];return it.buckets.each(function(ut,ft){ut.sort(function(dt,vt){return et.get(ot,dt)-et.get(ot,vt)}),st.push({name:ft,indices:ut})}),st},_e.prototype.getAxisTooltipData=function(et,tt,nt){isArray$1(et)||(et=et?[et]:[]);for(var at=this.getData(),ot=this.getLayerSeries(),it=[],st=ot.length,ut,ft=0;ft<st;++ft){for(var dt=Number.MAX_VALUE,vt=-1,gt=ot[ft].indices.length,yt=0;yt<gt;++yt){var xt=at.get(et[0],ot[ft].indices[yt]),Ct=Math.abs(xt-tt);Ct<=dt&&(ut=xt,dt=Ct,vt=ot[ft].indices[yt])}it.push(vt)}return{dataIndices:it,nestestValue:ut}},_e.prototype.formatTooltip=function(et,tt,nt){var at=this.getData(),ot=at.getName(et),it=at.get(at.mapDimension("value"),et);return createTooltipMarkup("nameValue",{name:ot,value:it})},_e.type="series.themeRiver",_e.dependencies=["singleAxis"],_e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},_e}(SeriesModel$1),ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout($,_e){$.eachSeriesByType("themeRiver",function(et){var tt=et.getData(),nt=et.coordinateSystem,at={},ot=nt.getRect();at.rect=ot;var it=et.get("boundaryGap"),st=nt.getAxis();if(at.boundaryGap=it,st.orient==="horizontal"){it[0]=parsePercent(it[0],ot.height),it[1]=parsePercent(it[1],ot.height);var ut=ot.height-it[0]-it[1];doThemeRiverLayout(tt,et,ut)}else{it[0]=parsePercent(it[0],ot.width),it[1]=parsePercent(it[1],ot.width);var ft=ot.width-it[0]-it[1];doThemeRiverLayout(tt,et,ft)}tt.setLayout("layoutInfo",at)})}function doThemeRiverLayout($,_e,et){if(!!$.count())for(var tt=_e.coordinateSystem,nt=_e.getLayerSeries(),at=$.mapDimension("single"),ot=$.mapDimension("value"),it=map$1(nt,function(Ct){return map$1(Ct.indices,function(wt){var Et=tt.dataToPoint($.get(at,wt));return Et[1]=$.get(ot,wt),Et})}),st=computeBaseline(it),ut=st.y0,ft=et/st.max,dt=nt.length,vt=nt[0].indices.length,gt,yt=0;yt<vt;++yt){gt=ut[yt]*ft,$.setItemLayout(nt[0].indices[yt],{layerIndex:0,x:it[0][yt][0],y0:gt,y:it[0][yt][1]*ft});for(var xt=1;xt<dt;++xt)gt+=it[xt-1][yt][1]*ft,$.setItemLayout(nt[xt].indices[yt],{layerIndex:xt,x:it[xt][yt][0],y0:gt,y:it[xt][yt][1]*ft})}}function computeBaseline($){for(var _e=$.length,et=$[0].length,tt=[],nt=[],at=0,ot=0;ot<et;++ot){for(var it=0,st=0;st<_e;++st)it+=$[st][ot][1];it>at&&(at=it),tt.push(it)}for(var ut=0;ut<et;++ut)nt[ut]=(at-tt[ut])/2;at=0;for(var ft=0;ft<et;++ft){var dt=tt[ft]+nt[ft];dt>at&&(at=dt)}return{y0:nt,max:at}}function install$t($){$.registerChartView(ThemeRiverView$1),$.registerSeriesModel(ThemeRiverSeriesModel$1),$.registerLayout(themeRiverLayout),$.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function($){__extends(_e,$);function _e(et,tt,nt,at){var ot=$.call(this)||this;ot.z2=DEFAULT_SECTOR_Z,ot.textConfig={inside:!0},getECData(ot).seriesIndex=tt.seriesIndex;var it=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:et.getModel().get(["label","silent"])});return ot.setTextContent(it),ot.updateData(!0,et,tt,nt,at),ot}return _e.prototype.updateData=function(et,tt,nt,at,ot){this.node=tt,tt.piece=this,nt=nt||this._seriesModel,at=at||this._ecModel;var it=this;getECData(it).dataIndex=tt.dataIndex;var st=tt.getModel(),ut=st.getModel("emphasis"),ft=tt.getLayout(),dt=extend({},ft);dt.label=null;var vt=tt.getVisual("style");vt.lineJoin="bevel";var gt=tt.getVisual("decal");gt&&(vt.decal=createOrUpdatePatternFromDecal(gt,ot));var yt=getSectorCornerRadius(st.getModel("itemStyle"),dt,!0);extend(dt,yt),each$f(SPECIAL_STATES,function(Et){var $t=it.ensureState(Et),It=st.getModel([Et,"itemStyle"]);$t.style=It.getItemStyle();var Ot=getSectorCornerRadius(It,dt);Ot&&($t.shape=Ot)}),et?(it.setShape(dt),it.shape.r=ft.r0,updateProps$1(it,{shape:{r:ft.r}},nt,tt.dataIndex)):(updateProps$1(it,{shape:dt},nt),saveOldStyle(it)),it.useStyle(vt),this._updateLabel(nt);var xt=st.getShallow("cursor");xt&&it.attr("cursor",xt),this._seriesModel=nt||this._seriesModel,this._ecModel=at||this._ecModel;var Ct=ut.get("focus"),wt=Ct==="ancestor"?tt.getAncestorsIndices():Ct==="descendant"?tt.getDescendantIndices():Ct;toggleHoverEmphasis(this,wt,ut.get("blurScope"),ut.get("disabled"))},_e.prototype._updateLabel=function(et){var tt=this,nt=this.node.getModel(),at=nt.getModel("label"),ot=this.node.getLayout(),it=ot.endAngle-ot.startAngle,st=(ot.startAngle+ot.endAngle)/2,ut=Math.cos(st),ft=Math.sin(st),dt=this,vt=dt.getTextContent(),gt=this.node.dataIndex,yt=at.get("minAngle")/180*Math.PI,xt=at.get("show")&&!(yt!=null&&Math.abs(it)<yt);vt.ignore=!xt,each$f(DISPLAY_STATES,function(wt){var Et=wt==="normal"?nt.getModel("label"):nt.getModel([wt,"label"]),$t=wt==="normal",It=$t?vt:vt.ensureState(wt),Ot=et.getFormattedLabel(gt,wt);$t&&(Ot=Ot||tt.node.name),It.style=createTextStyle(Et,{},null,wt!=="normal",!0),Ot&&(It.style.text=Ot);var Lt=Et.get("show");Lt!=null&&!$t&&(It.ignore=!Lt);var Ft=Ct(Et,"position"),zt=$t?dt:dt.states[wt],Gt=zt.style.fill;zt.textConfig={outsideFill:Et.get("color")==="inherit"?Gt:null,inside:Ft!=="outside"};var jt,Ut=Ct(Et,"distance")||0,Kt=Ct(Et,"align");Ft==="outside"?(jt=ot.r+Ut,Kt=st>Math.PI/2?"right":"left"):!Kt||Kt==="center"?(it===2*Math.PI&&ot.r0===0?jt=0:jt=(ot.r+ot.r0)/2,Kt="center"):Kt==="left"?(jt=ot.r0+Ut,st>Math.PI/2&&(Kt="right")):Kt==="right"&&(jt=ot.r-Ut,st>Math.PI/2&&(Kt="left")),It.style.align=Kt,It.style.verticalAlign=Ct(Et,"verticalAlign")||"middle",It.x=jt*ut+ot.cx,It.y=jt*ft+ot.cy;var Zt=Ct(Et,"rotate"),Qt=0;Zt==="radial"?(Qt=-st,Qt<-Math.PI/2&&(Qt+=Math.PI)):Zt==="tangential"?(Qt=Math.PI/2-st,Qt>Math.PI/2?Qt-=Math.PI:Qt<-Math.PI/2&&(Qt+=Math.PI)):isNumber(Zt)&&(Qt=Zt*Math.PI/180),It.rotation=Qt});function Ct(wt,Et){var $t=wt.get(Et);return $t==null?at.get(Et):$t}vt.dirtyStyle()},_e}(Sector$1),SunburstPiece$1=SunburstPiece,ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction($){$.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(_e,et){et.eachComponent({mainType:"series",subType:"sunburst",query:_e},tt);function tt(nt,at){var ot=retrieveTargetInfo(_e,[ROOT_TO_NODE_ACTION],nt);if(ot){var it=nt.getViewRoot();it&&(_e.direction=aboveViewRoot(it,ot.node)?"rollUp":"drillDown"),nt.resetViewRoot(ot.node)}}}),$.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(_e,et,tt){_e=extend({},_e),et.eachComponent({mainType:"series",subType:"sunburst",query:_e},nt);function nt(at){var ot=retrieveTargetInfo(_e,[HIGHLIGHT_ACTION],at);ot&&(_e.dataIndex=ot.node.dataIndex)}tt.dispatchAction(extend(_e,{type:"highlight"}))}),$.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(_e,et,tt){_e=extend({},_e),tt.dispatchAction(extend(_e,{type:"downplay"}))})}var SunburstView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt,at){var ot=this;this.seriesModel=et,this.api=nt,this.ecModel=tt;var it=et.getData(),st=it.tree.root,ut=et.getViewRoot(),ft=this.group,dt=et.get("renderLabelForZeroData"),vt=[];ut.eachNode(function(Et){vt.push(Et)});var gt=this._oldChildren||[];yt(vt,gt),wt(st,ut),this._initEvents(),this._oldChildren=vt;function yt(Et,$t){if(Et.length===0&&$t.length===0)return;new DataDiffer$1($t,Et,It,It).add(Ot).update(Ot).remove(curry$1(Ot,null)).execute();function It(Lt){return Lt.getId()}function Ot(Lt,Ft){var zt=Lt==null?null:Et[Lt],Gt=Ft==null?null:$t[Ft];xt(zt,Gt)}}function xt(Et,$t){if(!dt&&Et&&!Et.getValue()&&(Et=null),Et!==st&&$t!==st){if($t&&$t.piece)Et?($t.piece.updateData(!1,Et,et,tt,nt),it.setItemGraphicEl(Et.dataIndex,$t.piece)):Ct($t);else if(Et){var It=new SunburstPiece$1(Et,et,tt,nt);ft.add(It),it.setItemGraphicEl(Et.dataIndex,It)}}}function Ct(Et){!Et||Et.piece&&(ft.remove(Et.piece),Et.piece=null)}function wt(Et,$t){$t.depth>0?(ot.virtualPiece?ot.virtualPiece.updateData(!1,Et,et,tt,nt):(ot.virtualPiece=new SunburstPiece$1(Et,et,tt,nt),ft.add(ot.virtualPiece)),$t.piece.off("click"),ot.virtualPiece.on("click",function(It){ot._rootToNode($t.parentNode)})):ot.virtualPiece&&(ft.remove(ot.virtualPiece),ot.virtualPiece=null)}},_e.prototype._initEvents=function(){var et=this;this.group.off("click"),this.group.on("click",function(tt){var nt=!1,at=et.seriesModel.getViewRoot();at.eachNode(function(ot){if(!nt&&ot.piece&&ot.piece===tt.target){var it=ot.getModel().get("nodeClick");if(it==="rootToNode")et._rootToNode(ot);else if(it==="link"){var st=ot.getModel(),ut=st.get("link");if(ut){var ft=st.get("target",!0)||"_blank";windowOpen(ut,ft)}}nt=!0}})})},_e.prototype._rootToNode=function(et){et!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:et})},_e.prototype.containPoint=function(et,tt){var nt=tt.getData(),at=nt.getItemLayout(0);if(at){var ot=et[0]-at.cx,it=et[1]-at.cy,st=Math.sqrt(ot*ot+it*it);return st<=at.r&&st>=at.r0}},_e.type="sunburst",_e}(ChartView$1),SunburstView$1=SunburstView,SunburstSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.ignoreStyleOnData=!0,et}return _e.prototype.getInitialData=function(et,tt){var nt={name:et.name,children:et.data};completeTreeValue(nt);var at=this._levelModels=map$1(et.levels||[],function(st){return new Model$1(st,this,tt)},this),ot=Tree$1.createTree(nt,this,it);function it(st){st.wrapMethod("getItemModel",function(ut,ft){var dt=ot.getNodeByDataIndex(ft),vt=at[dt.depth];return vt&&(ut.parentModel=vt),ut})}return ot.data},_e.prototype.optionUpdated=function(){this.resetViewRoot()},_e.prototype.getDataParams=function(et){var tt=$.prototype.getDataParams.apply(this,arguments),nt=this.getData().tree.getNodeByDataIndex(et);return tt.treePathInfo=wrapTreePathInfo(nt,this),tt},_e.prototype.getLevelModel=function(et){return this._levelModels&&this._levelModels[et.depth]},_e.prototype.getViewRoot=function(){return this._viewRoot},_e.prototype.resetViewRoot=function(et){et?this._viewRoot=et:et=this._viewRoot;var tt=this.getRawData().tree.root;(!et||et!==tt&&!tt.contains(et))&&(this._viewRoot=tt)},_e.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},_e.type="series.sunburst",_e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},_e}(SeriesModel$1);function completeTreeValue($){var _e=0;each$f($.children,function(tt){completeTreeValue(tt);var nt=tt.value;isArray$1(nt)&&(nt=nt[0]),_e+=nt});var et=$.value;isArray$1(et)&&(et=et[0]),(et==null||isNaN(et))&&(et=_e),et<0&&(et=0),isArray$1($.value)?$.value[0]=et:$.value=et}var SunburstSeriesModel$1=SunburstSeriesModel,RADIAN=Math.PI/180;function sunburstLayout($,_e,et){_e.eachSeriesByType($,function(tt){var nt=tt.get("center"),at=tt.get("radius");isArray$1(at)||(at=[0,at]),isArray$1(nt)||(nt=[nt,nt]);var ot=et.getWidth(),it=et.getHeight(),st=Math.min(ot,it),ut=parsePercent(nt[0],ot),ft=parsePercent(nt[1],it),dt=parsePercent(at[0],st/2),vt=parsePercent(at[1],st/2),gt=-tt.get("startAngle")*RADIAN,yt=tt.get("minAngle")*RADIAN,xt=tt.getData().tree.root,Ct=tt.getViewRoot(),wt=Ct.depth,Et=tt.get("sort");Et!=null&&initChildren(Ct,Et);var $t=0;each$f(Ct.children,function(nr){!isNaN(nr.getValue())&&$t++});var It=Ct.getValue(),Ot=Math.PI/(It||$t)*2,Lt=Ct.depth>0,Ft=Ct.height-(Lt?-1:1),zt=(vt-dt)/(Ft||1),Gt=tt.get("clockwise"),jt=tt.get("stillShowZeroSum"),Ut=Gt?1:-1,Kt=function(nr,dr){if(!!nr){var sr=dr;if(nr!==xt){var fr=nr.getValue(),yr=It===0&&jt?Ot:fr*Ot;yr<yt&&(yr=yt),sr=dr+Ut*yr;var Pr=nr.depth-wt-(Lt?-1:1),wr=dt+zt*Pr,Mr=dt+zt*(Pr+1),Lr=tt.getLevelModel(nr);if(Lr){var Br=Lr.get("r0",!0),qr=Lr.get("r",!0),Qr=Lr.get("radius",!0);Qr!=null&&(Br=Qr[0],qr=Qr[1]),Br!=null&&(wr=parsePercent(Br,st/2)),qr!=null&&(Mr=parsePercent(qr,st/2))}nr.setLayout({angle:yr,startAngle:dr,endAngle:sr,clockwise:Gt,cx:ut,cy:ft,r0:wr,r:Mr})}if(nr.children&&nr.children.length){var Jr=0;each$f(nr.children,function(sn){Jr+=Kt(sn,dr+Jr)})}return sr-dr}};if(Lt){var Zt=dt,Qt=dt+zt,rr=Math.PI*2;xt.setLayout({angle:rr,startAngle:gt,endAngle:gt+rr,clockwise:Gt,cx:ut,cy:ft,r0:Zt,r:Qt})}Kt(Ct,gt)})}function initChildren($,_e){var et=$.children||[];$.children=sort(et,_e),et.length&&each$f($.children,function(tt){initChildren(tt,_e)})}function sort($,_e){if(isFunction(_e)){var et=map$1($,function(nt,at){var ot=nt.getValue();return{params:{depth:nt.depth,height:nt.height,dataIndex:nt.dataIndex,getValue:function(){return ot}},index:at}});return et.sort(function(nt,at){return _e(nt.params,at.params)}),map$1(et,function(nt){return $[nt.index]})}else{var tt=_e==="asc";return $.sort(function(nt,at){var ot=(nt.getValue()-at.getValue())*(tt?1:-1);return ot===0?(nt.dataIndex-at.dataIndex)*(tt?-1:1):ot})}}function sunburstVisual($){var _e={};function et(tt,nt,at){for(var ot=tt;ot&&ot.depth>1;)ot=ot.parentNode;var it=nt.getColorFromPalette(ot.name||ot.dataIndex+"",_e);return tt.depth>1&&isString(it)&&(it=lift(it,(tt.depth-1)/(at-1)*.5)),it}$.eachSeriesByType("sunburst",function(tt){var nt=tt.getData(),at=nt.tree;at.eachNode(function(ot){var it=ot.getModel(),st=it.getModel("itemStyle").getItemStyle();st.fill||(st.fill=et(ot,tt,at.root.height));var ut=nt.ensureUniqueItemVisual(ot.dataIndex,"style");extend(ut,st)})})}function install$s($){$.registerChartView(SunburstView$1),$.registerSeriesModel(SunburstSeriesModel$1),$.registerLayout(curry$1(sunburstLayout,"sunburst")),$.registerProcessor(curry$1(dataFilter$1,"sunburst")),$.registerVisual(sunburstVisual),installSunburstAction($)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},_e.prototype.getInitialData=function(et,tt){return createSeriesData(null,this)},_e.prototype.getDataParams=function(et,tt,nt){var at=$.prototype.getDataParams.call(this,et,tt);return nt&&(at.info=customInnerStore(nt).info),at},_e.type="series.custom",_e.dependencies=["grid","polar","geo","singleAxis","calendar"],_e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},_e}(SeriesModel$1),CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3($,_e){return _e=_e||[0,0],map$1(["x","y"],function(et,tt){var nt=this.getAxis(et),at=_e[tt],ot=$[tt]/2;return nt.type==="category"?nt.getBandWidth():Math.abs(nt.dataToCoord(at-ot)-nt.dataToCoord(at+ot))},this)}function cartesianPrepareCustom($){var _e=$.master.getRect();return{coordSys:{type:"cartesian2d",x:_e.x,y:_e.y,width:_e.width,height:_e.height},api:{coord:function(et){return $.dataToPoint(et)},size:bind$1(dataToCoordSize$3,$)}}}function dataToCoordSize$2($,_e){return _e=_e||[0,0],map$1([0,1],function(et){var tt=_e[et],nt=$[et]/2,at=[],ot=[];return at[et]=tt-nt,ot[et]=tt+nt,at[1-et]=ot[1-et]=_e[1-et],Math.abs(this.dataToPoint(at)[et]-this.dataToPoint(ot)[et])},this)}function geoPrepareCustom($){var _e=$.getBoundingRect();return{coordSys:{type:"geo",x:_e.x,y:_e.y,width:_e.width,height:_e.height,zoom:$.getZoom()},api:{coord:function(et){return $.dataToPoint(et)},size:bind$1(dataToCoordSize$2,$)}}}function dataToCoordSize$1($,_e){var et=this.getAxis(),tt=_e instanceof Array?_e[0]:_e,nt=($ instanceof Array?$[0]:$)/2;return et.type==="category"?et.getBandWidth():Math.abs(et.dataToCoord(tt-nt)-et.dataToCoord(tt+nt))}function singlePrepareCustom($){var _e=$.getRect();return{coordSys:{type:"singleAxis",x:_e.x,y:_e.y,width:_e.width,height:_e.height},api:{coord:function(et){return $.dataToPoint(et)},size:bind$1(dataToCoordSize$1,$)}}}function dataToCoordSize($,_e){return _e=_e||[0,0],map$1(["Radius","Angle"],function(et,tt){var nt="get"+et+"Axis",at=this[nt](),ot=_e[tt],it=$[tt]/2,st=at.type==="category"?at.getBandWidth():Math.abs(at.dataToCoord(ot-it)-at.dataToCoord(ot+it));return et==="Angle"&&(st=st*Math.PI/180),st},this)}function polarPrepareCustom($){var _e=$.getRadiusAxis(),et=$.getAngleAxis(),tt=_e.getExtent();return tt[0]>tt[1]&&tt.reverse(),{coordSys:{type:"polar",cx:$.cx,cy:$.cy,r:tt[1],r0:tt[0]},api:{coord:function(nt){var at=_e.dataToRadius(nt[0]),ot=et.dataToAngle(nt[1]),it=$.coordToPoint([at,ot]);return it.push(at,ot*Math.PI/180),it},size:bind$1(dataToCoordSize,$)}}}function calendarPrepareCustom($){var _e=$.getRect(),et=$.getRangeInfo();return{coordSys:{type:"calendar",x:_e.x,y:_e.y,width:_e.width,height:_e.height,cellWidth:$.getCellWidth(),cellHeight:$.getCellHeight(),rangeInfo:{start:et.start,end:et.end,weeks:et.weeks,dayCount:et.allDay}},api:{coord:function(tt,nt){return $.dataToPoint(tt,nt)}}}}function isEC4CompatibleStyle($,_e,et,tt){return $&&($.legacy||$.legacy!==!1&&!et&&!tt&&_e!=="tspan"&&(_e==="text"||hasOwn($,"text")))}function convertFromEC4CompatibleStyle($,_e,et){var tt=$,nt,at,ot;if(_e==="text")ot=tt;else{ot={},hasOwn(tt,"text")&&(ot.text=tt.text),hasOwn(tt,"rich")&&(ot.rich=tt.rich),hasOwn(tt,"textFill")&&(ot.fill=tt.textFill),hasOwn(tt,"textStroke")&&(ot.stroke=tt.textStroke),hasOwn(tt,"fontFamily")&&(ot.fontFamily=tt.fontFamily),hasOwn(tt,"fontSize")&&(ot.fontSize=tt.fontSize),hasOwn(tt,"fontStyle")&&(ot.fontStyle=tt.fontStyle),hasOwn(tt,"fontWeight")&&(ot.fontWeight=tt.fontWeight),at={type:"text",style:ot,silent:!0},nt={};var it=hasOwn(tt,"textPosition");et?nt.position=it?tt.textPosition:"inside":it&&(nt.position=tt.textPosition),hasOwn(tt,"textPosition")&&(nt.position=tt.textPosition),hasOwn(tt,"textOffset")&&(nt.offset=tt.textOffset),hasOwn(tt,"textRotation")&&(nt.rotation=tt.textRotation),hasOwn(tt,"textDistance")&&(nt.distance=tt.textDistance)}return convertEC4CompatibleRichItem(ot,$),each$f(ot.rich,function(st){convertEC4CompatibleRichItem(st,st)}),{textConfig:nt,textContent:at}}function convertEC4CompatibleRichItem($,_e){!_e||(_e.font=_e.textFont||_e.font,hasOwn(_e,"textStrokeWidth")&&($.lineWidth=_e.textStrokeWidth),hasOwn(_e,"textAlign")&&($.align=_e.textAlign),hasOwn(_e,"textVerticalAlign")&&($.verticalAlign=_e.textVerticalAlign),hasOwn(_e,"textLineHeight")&&($.lineHeight=_e.textLineHeight),hasOwn(_e,"textWidth")&&($.width=_e.textWidth),hasOwn(_e,"textHeight")&&($.height=_e.textHeight),hasOwn(_e,"textBackgroundColor")&&($.backgroundColor=_e.textBackgroundColor),hasOwn(_e,"textPadding")&&($.padding=_e.textPadding),hasOwn(_e,"textBorderColor")&&($.borderColor=_e.textBorderColor),hasOwn(_e,"textBorderWidth")&&($.borderWidth=_e.textBorderWidth),hasOwn(_e,"textBorderRadius")&&($.borderRadius=_e.textBorderRadius),hasOwn(_e,"textBoxShadowColor")&&($.shadowColor=_e.textBoxShadowColor),hasOwn(_e,"textBoxShadowBlur")&&($.shadowBlur=_e.textBoxShadowBlur),hasOwn(_e,"textBoxShadowOffsetX")&&($.shadowOffsetX=_e.textBoxShadowOffsetX),hasOwn(_e,"textBoxShadowOffsetY")&&($.shadowOffsetY=_e.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise($,_e,et){var tt=$;tt.textPosition=tt.textPosition||et.position||"inside",et.offset!=null&&(tt.textOffset=et.offset),et.rotation!=null&&(tt.textRotation=et.rotation),et.distance!=null&&(tt.textDistance=et.distance);var nt=tt.textPosition.indexOf("inside")>=0,at=$.fill||"#000";convertToEC4RichItem(tt,_e);var ot=tt.textFill==null;return nt?ot&&(tt.textFill=et.insideFill||"#fff",!tt.textStroke&&et.insideStroke&&(tt.textStroke=et.insideStroke),!tt.textStroke&&(tt.textStroke=at),tt.textStrokeWidth==null&&(tt.textStrokeWidth=2)):(ot&&(tt.textFill=$.fill||et.outsideFill||"#000"),!tt.textStroke&&et.outsideStroke&&(tt.textStroke=et.outsideStroke)),tt.text=_e.text,tt.rich=_e.rich,each$f(_e.rich,function(it){convertToEC4RichItem(it,it)}),tt}function convertToEC4RichItem($,_e){!_e||(hasOwn(_e,"fill")&&($.textFill=_e.fill),hasOwn(_e,"stroke")&&($.textStroke=_e.fill),hasOwn(_e,"lineWidth")&&($.textStrokeWidth=_e.lineWidth),hasOwn(_e,"font")&&($.font=_e.font),hasOwn(_e,"fontStyle")&&($.fontStyle=_e.fontStyle),hasOwn(_e,"fontWeight")&&($.fontWeight=_e.fontWeight),hasOwn(_e,"fontSize")&&($.fontSize=_e.fontSize),hasOwn(_e,"fontFamily")&&($.fontFamily=_e.fontFamily),hasOwn(_e,"align")&&($.textAlign=_e.align),hasOwn(_e,"verticalAlign")&&($.textVerticalAlign=_e.verticalAlign),hasOwn(_e,"lineHeight")&&($.textLineHeight=_e.lineHeight),hasOwn(_e,"width")&&($.textWidth=_e.width),hasOwn(_e,"height")&&($.textHeight=_e.height),hasOwn(_e,"backgroundColor")&&($.textBackgroundColor=_e.backgroundColor),hasOwn(_e,"padding")&&($.textPadding=_e.padding),hasOwn(_e,"borderColor")&&($.textBorderColor=_e.borderColor),hasOwn(_e,"borderWidth")&&($.textBorderWidth=_e.borderWidth),hasOwn(_e,"borderRadius")&&($.textBorderRadius=_e.borderRadius),hasOwn(_e,"shadowColor")&&($.textBoxShadowColor=_e.shadowColor),hasOwn(_e,"shadowBlur")&&($.textBoxShadowBlur=_e.shadowBlur),hasOwn(_e,"shadowOffsetX")&&($.textBoxShadowOffsetX=_e.shadowOffsetX),hasOwn(_e,"shadowOffsetY")&&($.textBoxShadowOffsetY=_e.shadowOffsetY),hasOwn(_e,"textShadowColor")&&($.textShadowColor=_e.textShadowColor),hasOwn(_e,"textShadowBlur")&&($.textShadowBlur=_e.textShadowBlur),hasOwn(_e,"textShadowOffsetX")&&($.textShadowOffsetX=_e.textShadowOffsetX),hasOwn(_e,"textShadowOffsetY")&&($.textShadowOffsetY=_e.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function($,_e){return $[_e]=1,$},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig($,_e,et,tt,nt){var at=$+"Animation",ot=getAnimationConfig($,tt,nt)||{},it=transitionInnerStore(_e).userDuring;return ot.duration>0&&(ot.during=it?bind$1(duringCall,{el:_e,userDuring:it}):null,ot.setToFinal=!0,ot.scope=$),extend(ot,et[at]),ot}function applyUpdateTransition($,_e,et,tt){tt=tt||{};var nt=tt.dataIndex,at=tt.isInit,ot=tt.clearStyle,it=et.isAnimationEnabled(),st=transitionInnerStore($),ut=_e.style;st.userDuring=_e.during;var ft={},dt={};if(prepareTransformAllPropsFinal($,_e,dt),prepareShapeOrExtraAllPropsFinal("shape",_e,dt),prepareShapeOrExtraAllPropsFinal("extra",_e,dt),!at&&it&&(prepareTransformTransitionFrom($,_e,ft),prepareShapeOrExtraTransitionFrom("shape",$,_e,ft),prepareShapeOrExtraTransitionFrom("extra",$,_e,ft),prepareStyleTransitionFrom($,_e,ut,ft)),dt.style=ut,applyPropsDirectly($,dt,ot),applyMiscProps($,_e),it)if(at){var vt={};each$f(ELEMENT_ANIMATABLE_PROPS,function(yt){var xt=yt?_e[yt]:_e;xt&&xt.enterFrom&&(yt&&(vt[yt]=vt[yt]||{}),extend(yt?vt[yt]:vt,xt.enterFrom))});var gt=getElementAnimationConfig("enter",$,_e,et,nt);gt.duration>0&&$.animateFrom(vt,gt)}else applyPropsTransition($,_e,nt||0,et,ft);updateLeaveTo($,_e),ut?$.dirty():$.markRedraw()}function updateLeaveTo($,_e){for(var et=transitionInnerStore($).leaveToProps,tt=0;tt<ELEMENT_ANIMATABLE_PROPS.length;tt++){var nt=ELEMENT_ANIMATABLE_PROPS[tt],at=nt?_e[nt]:_e;at&&at.leaveTo&&(et||(et=transitionInnerStore($).leaveToProps={}),nt&&(et[nt]=et[nt]||{}),extend(nt?et[nt]:et,at.leaveTo))}}function applyLeaveTransition($,_e,et,tt){if($){var nt=$.parent,at=transitionInnerStore($).leaveToProps;if(at){var ot=getElementAnimationConfig("update",$,_e,et,0);ot.done=function(){nt.remove($),tt&&tt()},$.animateTo(at,ot)}else nt.remove($),tt&&tt()}}function isTransitionAll($){return $==="all"}function applyPropsDirectly($,_e,et){var tt=_e.style;if(!$.isGroup&&tt){if(et){$.useStyle({});for(var nt=$.animators,at=0;at<nt.length;at++){var ot=nt[at];ot.targetName==="style"&&ot.changeTarget($.style)}}$.setStyle(tt)}_e&&(_e.style=null,_e&&$.attr(_e),_e.style=tt)}function applyPropsTransition($,_e,et,tt,nt){if(nt){var at=getElementAnimationConfig("update",$,_e,tt,et);at.duration>0&&$.animateFrom(nt,at)}}function applyMiscProps($,_e){hasOwn(_e,"silent")&&($.silent=_e.silent),hasOwn(_e,"ignore")&&($.ignore=_e.ignore),$ instanceof Displayable$1&&hasOwn(_e,"invisible")&&($.invisible=_e.invisible),$ instanceof Path$1&&hasOwn(_e,"autoBatch")&&($.autoBatch=_e.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function($,_e){return tmpDuringScope.el[$]=_e,this},getTransform:function($){return tmpDuringScope.el[$]},setShape:function($,_e){var et=tmpDuringScope.el,tt=et.shape||(et.shape={});return tt[$]=_e,et.dirtyShape&&et.dirtyShape(),this},getShape:function($){var _e=tmpDuringScope.el.shape;if(_e)return _e[$]},setStyle:function($,_e){var et=tmpDuringScope.el,tt=et.style;return tt&&(tt[$]=_e,et.dirtyStyle&&et.dirtyStyle()),this},getStyle:function($){var _e=tmpDuringScope.el.style;if(_e)return _e[$]},setExtra:function($,_e){var et=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return et[$]=_e,this},getExtra:function($){var _e=tmpDuringScope.el.extra;if(_e)return _e[$]}};function duringCall(){var $=this,_e=$.el;if(!!_e){var et=transitionInnerStore(_e).userDuring,tt=$.userDuring;if(et!==tt){$.el=$.userDuring=null;return}tmpDuringScope.el=_e,tt(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom($,_e,et,tt){var nt=et[$];if(!!nt){var at=_e[$],ot;if(at){var it=et.transition,st=nt.transition;if(st)if(!ot&&(ot=tt[$]={}),isTransitionAll(st))extend(ot,at);else for(var ut=normalizeToArray(st),ft=0;ft<ut.length;ft++){var dt=ut[ft],vt=at[dt];ot[dt]=vt}else if(isTransitionAll(it)||indexOf(it,$)>=0){!ot&&(ot=tt[$]={});for(var gt=keys(at),ft=0;ft<gt.length;ft++){var dt=gt[ft],vt=at[dt];isNonStyleTransitionEnabled(nt[dt],vt)&&(ot[dt]=vt)}}}}}function prepareShapeOrExtraAllPropsFinal($,_e,et){var tt=_e[$];if(!!tt)for(var nt=et[$]={},at=keys(tt),ot=0;ot<at.length;ot++){var it=at[ot];nt[it]=cloneValue(tt[it])}}function prepareTransformTransitionFrom($,_e,et){for(var tt=_e.transition,nt=isTransitionAll(tt)?TRANSFORMABLE_PROPS:normalizeToArray(tt||[]),at=0;at<nt.length;at++){var ot=nt[at];if(!(ot==="style"||ot==="shape"||ot==="extra")){var it=$[ot];et[ot]=it}}}function prepareTransformAllPropsFinal($,_e,et){for(var tt=0;tt<LEGACY_TRANSFORM_PROPS.length;tt++){var nt=LEGACY_TRANSFORM_PROPS[tt],at=LEGACY_TRANSFORM_PROPS_MAP[nt],ot=_e[nt];ot&&(et[at[0]]=ot[0],et[at[1]]=ot[1])}for(var tt=0;tt<TRANSFORMABLE_PROPS.length;tt++){var it=TRANSFORMABLE_PROPS[tt];_e[it]!=null&&(et[it]=_e[it])}}function prepareStyleTransitionFrom($,_e,et,tt){if(!!et){var nt=$.style,at;if(nt){var ot=et.transition,it=_e.transition;if(ot&&!isTransitionAll(ot)){var st=normalizeToArray(ot);!at&&(at=tt.style={});for(var ut=0;ut<st.length;ut++){var ft=st[ut],dt=nt[ft];at[ft]=dt}}else if($.getAnimationStyleProps&&(isTransitionAll(it)||isTransitionAll(ot)||indexOf(it,"style")>=0)){var vt=$.getAnimationStyleProps(),gt=vt?vt.style:null;if(gt){!at&&(at=tt.style={});for(var yt=keys(et),ut=0;ut<yt.length;ut++){var ft=yt[ut];if(gt[ft]){var dt=nt[ft];at[ft]=dt}}}}}}}function isNonStyleTransitionEnabled($,_e){return isArrayLike($)?$!==_e:$!=null&&isFinite($)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore($){$.stopAnimation("keyframe"),$.attr(getStateToRestore($))}function applyKeyframeAnimation($,_e,et){if(!(!et.isAnimationEnabled()||!_e)){if(isArray$1(_e)){each$f(_e,function(it){applyKeyframeAnimation($,it,et)});return}var tt=_e.keyframes,nt=_e.duration;if(et&&nt==null){var at=getAnimationConfig("enter",et,0);nt=at&&at.duration}if(!(!tt||!nt)){var ot=getStateToRestore($);each$f(ELEMENT_ANIMATABLE_PROPS,function(it){if(!(it&&!$[it])){var st;tt.sort(function(ut,ft){return ut.percent-ft.percent}),each$f(tt,function(ut){var ft=$.animators,dt=it?ut[it]:ut;if(!!dt){var vt=keys(dt);if(it||(vt=filter(vt,function(xt){return indexOf(KEYFRAME_EXCLUDE_KEYS,xt)<0})),!!vt.length){st||(st=$.animate(it,_e.loop,!0),st.scope="keyframe");for(var gt=0;gt<ft.length;gt++)ft[gt]!==st&&ft[gt].targetName===st.targetName&&ft[gt].stopTracks(vt);it&&(ot[it]=ot[it]||{});var yt=it?ot[it]:ot;each$f(vt,function(xt){yt[xt]=((it?$[it]:$)||{})[xt]}),st.whenWithKeys(nt*ut.percent,dt,vt,ut.easing)}}}),st&&st.delay(_e.delay||0).duration(nt).start(_e.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath($){return $ instanceof Path$1}function isDisplayable($){return $ instanceof Displayable$1}function copyElement($,_e){_e.copyTransform($),isDisplayable(_e)&&isDisplayable($)&&(_e.setStyle($.style),_e.z=$.z,_e.z2=$.z2,_e.zlevel=$.zlevel,_e.invisible=$.invisible,_e.ignore=$.ignore,isPath(_e)&&isPath($)&&_e.setShape($.shape))}var CustomChartView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt,at){this._progressiveEls=null;var ot=this._data,it=et.getData(),st=this.group,ut=makeRenderItem(et,it,tt,nt);ot||st.removeAll(),it.diff(ot).add(function(dt){createOrUpdateItem(nt,null,dt,ut(dt,at),et,st,it)}).remove(function(dt){var vt=ot.getItemGraphicEl(dt);applyLeaveTransition(vt,customInnerStore(vt).option,et)}).update(function(dt,vt){var gt=ot.getItemGraphicEl(vt);createOrUpdateItem(nt,gt,dt,ut(dt,at),et,st,it)}).execute();var ft=et.get("clip",!0)?createClipPath(et.coordinateSystem,!1,et):null;ft?st.setClipPath(ft):st.removeClipPath(),this._data=it},_e.prototype.incrementalPrepareRender=function(et,tt,nt){this.group.removeAll(),this._data=null},_e.prototype.incrementalRender=function(et,tt,nt,at,ot){var it=tt.getData(),st=makeRenderItem(tt,it,nt,at),ut=this._progressiveEls=[];function ft(gt){gt.isGroup||(gt.incremental=!0,gt.ensureState("emphasis").hoverLayer=!0)}for(var dt=et.start;dt<et.end;dt++){var vt=createOrUpdateItem(null,null,dt,st(dt,ot),tt,this.group,it);vt&&(vt.traverse(ft),ut.push(vt))}},_e.prototype.eachRendered=function(et){traverseElements(this._progressiveEls||this.group,et)},_e.prototype.filterForExposedEvent=function(et,tt,nt,at){var ot=tt.element;if(ot==null||nt.name===ot)return!0;for(;(nt=nt.__hostTarget||nt.parent)&&nt!==this.group;)if(nt.name===ot)return!0;return!1},_e.type="custom",_e}(ChartView$1),CustomChartView$1=CustomChartView;function createEl$1($){var _e=$.type,et;if(_e==="path"){var tt=$.shape,nt=tt.width!=null&&tt.height!=null?{x:tt.x||0,y:tt.y||0,width:tt.width,height:tt.height}:null,at=getPathData(tt);et=makePath(at,null,nt,tt.layout||"center"),customInnerStore(et).customPathData=at}else if(_e==="image")et=new ZRImage$1({}),customInnerStore(et).customImagePath=$.style.image;else if(_e==="text")et=new ZRText$1({});else if(_e==="group")et=new Group$4;else{if(_e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var ot=getShapeClass(_e);if(!ot){var it="";throwError(it)}et=new ot}return customInnerStore(et).customGraphicType=_e,et.name=$.name,et.z2EmphasisLift=1,et.z2SelectLift=1,et}function updateElNormal($,_e,et,tt,nt,at,ot){stopPreviousKeyframeAnimationAndRestore(_e);var it=nt&&nt.normal.cfg;it&&_e.setTextConfig(it),tt&&tt.transition==null&&(tt.transition=DEFAULT_TRANSITION);var st=tt&&tt.style;if(st){if(_e.type==="text"){var ut=st;hasOwn(ut,"textFill")&&(ut.fill=ut.textFill),hasOwn(ut,"textStroke")&&(ut.stroke=ut.textStroke)}var ft=void 0,dt=isPath(_e)?st.decal:null;$&&dt&&(dt.dirty=!0,ft=createOrUpdatePatternFromDecal(dt,$)),st.__decalPattern=ft}if(isDisplayable(_e)&&st){var ft=st.__decalPattern;ft&&(st.decal=ft)}applyUpdateTransition(_e,tt,at,{dataIndex:et,isInit:ot,clearStyle:!0}),applyKeyframeAnimation(_e,tt.keyframeAnimation,at)}function updateElOnState($,_e,et,tt,nt){var at=_e.isGroup?null:_e,ot=nt&&nt[$].cfg;if(at){var it=at.ensureState($);if(tt===!1){var st=at.getState($);st&&(st.style=null)}else it.style=tt||null;ot&&(it.textConfig=ot),setDefaultStateProxy(at)}}function updateZ($,_e,et){if(!$.isGroup){var tt=$,nt=et.currentZ,at=et.currentZLevel;tt.z=nt,tt.zlevel=at;var ot=_e.z2;ot!=null&&(tt.z2=ot||0);for(var it=0;it<STATES.length;it++)updateZForEachState(tt,_e,STATES[it])}}function updateZForEachState($,_e,et){var tt=et===NORMAL,nt=tt?_e:retrieveStateOption(_e,et),at=nt?nt.z2:null,ot;at!=null&&(ot=tt?$:$.ensureState(et),ot.z2=at||0)}function makeRenderItem($,_e,et,tt){var nt=$.get("renderItem"),at=$.coordinateSystem,ot={};at&&(ot=at.prepareCustoms?at.prepareCustoms(at):prepareCustoms[at.type](at));for(var it=defaults({getWidth:tt.getWidth,getHeight:tt.getHeight,getZr:tt.getZr,getDevicePixelRatio:tt.getDevicePixelRatio,value:It,style:Lt,ordinalRawValue:Ot,styleEmphasis:Ft,visual:jt,barLayout:Ut,currentSeriesIndices:Kt,font:Zt},ot.api||{}),st={context:{},seriesId:$.id,seriesName:$.name,seriesIndex:$.seriesIndex,coordSys:ot.coordSys,dataInsideLength:_e.count(),encode:wrapEncodeDef($.getData())},ut,ft,dt={},vt={},gt={},yt={},xt=0;xt<STATES.length;xt++){var Ct=STATES[xt];gt[Ct]=$.getModel(PATH_ITEM_STYLE[Ct]),yt[Ct]=$.getModel(PATH_LABEL[Ct])}function wt(Qt){return Qt===ut?ft||(ft=_e.getItemModel(Qt)):_e.getItemModel(Qt)}function Et(Qt,rr){return _e.hasItemOption?Qt===ut?dt[rr]||(dt[rr]=wt(Qt).getModel(PATH_ITEM_STYLE[rr])):wt(Qt).getModel(PATH_ITEM_STYLE[rr]):gt[rr]}function $t(Qt,rr){return _e.hasItemOption?Qt===ut?vt[rr]||(vt[rr]=wt(Qt).getModel(PATH_LABEL[rr])):wt(Qt).getModel(PATH_LABEL[rr]):yt[rr]}return function(Qt,rr){return ut=Qt,ft=null,dt={},vt={},nt&&nt(defaults({dataIndexInside:Qt,dataIndex:_e.getRawIndex(Qt),actionType:rr?rr.type:null},st),it)};function It(Qt,rr){return rr==null&&(rr=ut),_e.getStore().get(_e.getDimensionIndex(Qt||0),rr)}function Ot(Qt,rr){rr==null&&(rr=ut),Qt=Qt||0;var nr=_e.getDimensionInfo(Qt);if(!nr){var dr=_e.getDimensionIndex(Qt);return dr>=0?_e.getStore().get(dr,rr):void 0}var sr=_e.get(nr.name,rr),fr=nr&&nr.ordinalMeta;return fr?fr.categories[sr]:sr}function Lt(Qt,rr){rr==null&&(rr=ut);var nr=_e.getItemVisual(rr,"style"),dr=nr&&nr.fill,sr=nr&&nr.opacity,fr=Et(rr,NORMAL).getItemStyle();dr!=null&&(fr.fill=dr),sr!=null&&(fr.opacity=sr);var yr={inheritColor:isString(dr)?dr:"#000"},Pr=$t(rr,NORMAL),wr=createTextStyle(Pr,null,yr,!1,!0);wr.text=Pr.getShallow("show")?retrieve2($.getFormattedLabel(rr,NORMAL),getDefaultLabel(_e,rr)):null;var Mr=createTextConfig(Pr,yr,!1);return Gt(Qt,fr),fr=convertToEC4StyleForCustomSerise(fr,wr,Mr),Qt&&zt(fr,Qt),fr.legacy=!0,fr}function Ft(Qt,rr){rr==null&&(rr=ut);var nr=Et(rr,EMPHASIS).getItemStyle(),dr=$t(rr,EMPHASIS),sr=createTextStyle(dr,null,null,!0,!0);sr.text=dr.getShallow("show")?retrieve3($.getFormattedLabel(rr,EMPHASIS),$.getFormattedLabel(rr,NORMAL),getDefaultLabel(_e,rr)):null;var fr=createTextConfig(dr,null,!0);return Gt(Qt,nr),nr=convertToEC4StyleForCustomSerise(nr,sr,fr),Qt&&zt(nr,Qt),nr.legacy=!0,nr}function zt(Qt,rr){for(var nr in rr)hasOwn(rr,nr)&&(Qt[nr]=rr[nr])}function Gt(Qt,rr){Qt&&(Qt.textFill&&(rr.textFill=Qt.textFill),Qt.textPosition&&(rr.textPosition=Qt.textPosition))}function jt(Qt,rr){if(rr==null&&(rr=ut),hasOwn(STYLE_VISUAL_TYPE,Qt)){var nr=_e.getItemVisual(rr,"style");return nr?nr[STYLE_VISUAL_TYPE[Qt]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,Qt))return _e.getItemVisual(rr,Qt)}function Ut(Qt){if(at.type==="cartesian2d"){var rr=at.getBaseAxis();return getLayoutOnAxis(defaults({axis:rr},Qt))}}function Kt(){return et.getCurrentSeriesIndices()}function Zt(Qt){return getFont(Qt,et)}}function wrapEncodeDef($){var _e={};return each$f($.dimensions,function(et){var tt=$.getDimensionInfo(et);if(!tt.isExtraCoord){var nt=tt.coordDim,at=_e[nt]=_e[nt]||[];at[tt.coordDimIndex]=$.getDimensionIndex(et)}}),_e}function createOrUpdateItem($,_e,et,tt,nt,at,ot){if(!tt){at.remove(_e);return}var it=doCreateOrUpdateEl($,_e,et,tt,nt,at);return it&&ot.setItemGraphicEl(et,it),it&&toggleHoverEmphasis(it,tt.focus,tt.blurScope,tt.emphasisDisabled),it}function doCreateOrUpdateEl($,_e,et,tt,nt,at){var ot=-1,it=_e;_e&&doesElNeedRecreate(_e,tt,nt)&&(ot=indexOf(at.childrenRef(),_e),_e=null);var st=!_e,ut=_e;ut?ut.clearStates():(ut=createEl$1(tt),it&&copyElement(it,ut)),tt.morph===!1?ut.disableMorphing=!0:ut.disableMorphing&&(ut.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(ut,et,tt,nt,st,attachedTxInfoTmp),doCreateOrUpdateClipPath(ut,et,tt,nt,st),updateElNormal($,ut,et,tt,attachedTxInfoTmp,nt,st),hasOwn(tt,"info")&&(customInnerStore(ut).info=tt.info);for(var ft=0;ft<STATES.length;ft++){var dt=STATES[ft];if(dt!==NORMAL){var vt=retrieveStateOption(tt,dt),gt=retrieveStyleOptionOnState(tt,vt,dt);updateElOnState(dt,ut,vt,gt,attachedTxInfoTmp)}}return updateZ(ut,tt,nt),tt.type==="group"&&mergeChildren($,ut,et,tt,nt),ot>=0?at.replaceAt(ut,ot):at.add(ut),ut}function doesElNeedRecreate($,_e,et){var tt=customInnerStore($),nt=_e.type,at=_e.shape,ot=_e.style;return et.isUniversalTransitionEnabled()||nt!=null&&nt!==tt.customGraphicType||nt==="path"&&hasOwnPathData(at)&&getPathData(at)!==tt.customPathData||nt==="image"&&hasOwn(ot,"image")&&ot.image!==tt.customImagePath}function doCreateOrUpdateClipPath($,_e,et,tt,nt){var at=et.clipPath;if(at===!1)$&&$.getClipPath()&&$.removeClipPath();else if(at){var ot=$.getClipPath();ot&&doesElNeedRecreate(ot,at,tt)&&(ot=null),ot||(ot=createEl$1(at),$.setClipPath(ot)),updateElNormal(null,ot,_e,at,null,tt,nt)}}function doCreateOrUpdateAttachedTx($,_e,et,tt,nt,at){if(!$.isGroup){processTxInfo(et,null,at),processTxInfo(et,EMPHASIS,at);var ot=at.normal.conOpt,it=at.emphasis.conOpt,st=at.blur.conOpt,ut=at.select.conOpt;if(ot!=null||it!=null||ut!=null||st!=null){var ft=$.getTextContent();if(ot===!1)ft&&$.removeTextContent();else{ot=at.normal.conOpt=ot||{type:"text"},ft?ft.clearStates():(ft=createEl$1(ot),$.setTextContent(ft)),updateElNormal(null,ft,_e,ot,null,tt,nt);for(var dt=ot&&ot.style,vt=0;vt<STATES.length;vt++){var gt=STATES[vt];if(gt!==NORMAL){var yt=at[gt].conOpt;updateElOnState(gt,ft,yt,retrieveStyleOptionOnState(ot,yt,gt),null)}}dt?ft.dirty():ft.markRedraw()}}}}function processTxInfo($,_e,et){var tt=_e?retrieveStateOption($,_e):$,nt=_e?retrieveStyleOptionOnState($,tt,EMPHASIS):$.style,at=$.type,ot=tt?tt.textConfig:null,it=$.textContent,st=it?_e?retrieveStateOption(it,_e):it:null;if(nt&&(et.isLegacy||isEC4CompatibleStyle(nt,at,!!ot,!!st))){et.isLegacy=!0;var ut=convertFromEC4CompatibleStyle(nt,at,!_e);!ot&&ut.textConfig&&(ot=ut.textConfig),!st&&ut.textContent&&(st=ut.textContent)}if(!_e&&st){var ft=st;!ft.type&&(ft.type="text")}var dt=_e?et[_e]:et.normal;dt.cfg=ot,dt.conOpt=st}function retrieveStateOption($,_e){return _e?$?$[_e]:null:$}function retrieveStyleOptionOnState($,_e,et){var tt=_e&&_e.style;return tt==null&&et===EMPHASIS&&$&&(tt=$.styleEmphasis),tt}function mergeChildren($,_e,et,tt,nt){var at=tt.children,ot=at?at.length:0,it=tt.$mergeChildren,st=it==="byName"||tt.diffChildrenByName,ut=it===!1;if(!(!ot&&!st&&!ut)){if(st){diffGroupChildren({api:$,oldChildren:_e.children()||[],newChildren:at||[],dataIndex:et,seriesModel:nt,group:_e});return}ut&&_e.removeAll();for(var ft=0;ft<ot;ft++)at[ft]&&doCreateOrUpdateEl($,_e.childAt(ft),et,at[ft],nt,_e);for(var dt=_e.childCount()-1;dt>=ft;dt--){var vt=_e.childAt(dt);applyLeaveTransition(vt,customInnerStore(_e).option,nt)}}}function diffGroupChildren($){new DataDiffer$1($.oldChildren,$.newChildren,getKey,getKey,$).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey($,_e){var et=$&&$.name;return et!=null?et:GROUP_DIFF_PREFIX+_e}function processAddUpdate($,_e){var et=this.context,tt=$!=null?et.newChildren[$]:null,nt=_e!=null?et.oldChildren[_e]:null;doCreateOrUpdateEl(et.api,nt,et.dataIndex,tt,et.seriesModel,et.group)}function processRemove($){var _e=this.context,et=_e.oldChildren[$];applyLeaveTransition(et,customInnerStore(et).option,_e.seriesModel)}function getPathData($){return $&&($.pathData||$.d)}function hasOwnPathData($){return $&&(hasOwn($,"pathData")||hasOwn($,"d"))}function install$r($){$.registerChartView(CustomChartView$1),$.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function $(){this._dragging=!1,this.animationThreshold=15}return $.prototype.render=function(_e,et,tt,nt){var at=et.get("value"),ot=et.get("status");if(this._axisModel=_e,this._axisPointerModel=et,this._api=tt,!(!nt&&this._lastValue===at&&this._lastStatus===ot)){this._lastValue=at,this._lastStatus=ot;var it=this._group,st=this._handle;if(!ot||ot==="hide"){it&&it.hide(),st&&st.hide();return}it&&it.show(),st&&st.show();var ut={};this.makeElOption(ut,at,_e,et,tt);var ft=ut.graphicKey;ft!==this._lastGraphicKey&&this.clear(tt),this._lastGraphicKey=ft;var dt=this._moveAnimation=this.determineAnimation(_e,et);if(!it)it=this._group=new Group$4,this.createPointerEl(it,ut,_e,et),this.createLabelEl(it,ut,_e,et),tt.getZr().add(it);else{var vt=curry$1(updateProps,et,dt);this.updatePointerEl(it,ut,vt),this.updateLabelEl(it,ut,vt,et)}updateMandatoryProps(it,et,!0),this._renderHandle(at)}},$.prototype.remove=function(_e){this.clear(_e)},$.prototype.dispose=function(_e){this.clear(_e)},$.prototype.determineAnimation=function(_e,et){var tt=et.get("animation"),nt=_e.axis,at=nt.type==="category",ot=et.get("snap");if(!ot&&!at)return!1;if(tt==="auto"||tt==null){var it=this.animationThreshold;if(at&&nt.getBandWidth()>it)return!0;if(ot){var st=getAxisInfo$1(_e).seriesDataCount,ut=nt.getExtent();return Math.abs(ut[0]-ut[1])/st>it}return!1}return tt===!0},$.prototype.makeElOption=function(_e,et,tt,nt,at){},$.prototype.createPointerEl=function(_e,et,tt,nt){var at=et.pointer;if(at){var ot=inner$b(_e).pointerEl=new graphic[at.type](clone$1(et.pointer));_e.add(ot)}},$.prototype.createLabelEl=function(_e,et,tt,nt){if(et.label){var at=inner$b(_e).labelEl=new ZRText$1(clone$1(et.label));_e.add(at),updateLabelShowHide(at,nt)}},$.prototype.updatePointerEl=function(_e,et,tt){var nt=inner$b(_e).pointerEl;nt&&et.pointer&&(nt.setStyle(et.pointer.style),tt(nt,{shape:et.pointer.shape}))},$.prototype.updateLabelEl=function(_e,et,tt,nt){var at=inner$b(_e).labelEl;at&&(at.setStyle(et.label.style),tt(at,{x:et.label.x,y:et.label.y}),updateLabelShowHide(at,nt))},$.prototype._renderHandle=function(_e){if(!(this._dragging||!this.updateHandleTransform)){var et=this._axisPointerModel,tt=this._api.getZr(),nt=this._handle,at=et.getModel("handle"),ot=et.get("status");if(!at.get("show")||!ot||ot==="hide"){nt&&tt.remove(nt),this._handle=null;return}var it;this._handle||(it=!0,nt=this._handle=createIcon(at.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(ut){stop(ut.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),tt.add(nt)),updateMandatoryProps(nt,et,!1),nt.setStyle(at.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var st=at.get("size");isArray$1(st)||(st=[st,st]),nt.scaleX=st[0]/2,nt.scaleY=st[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",at.get("throttle")||0,"fixRate"),this._moveHandleToValue(_e,it)}},$.prototype._moveHandleToValue=function(_e,et){updateProps(this._axisPointerModel,!et&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(_e,this._axisModel,this._axisPointerModel)))},$.prototype._onHandleDragMove=function(_e,et){var tt=this._handle;if(!!tt){this._dragging=!0;var nt=this.updateHandleTransform(getHandleTransProps(tt),[_e,et],this._axisModel,this._axisPointerModel);this._payloadInfo=nt,tt.stopAnimation(),tt.attr(getHandleTransProps(nt)),inner$b(tt).lastProp=null,this._doDispatchAxisPointer()}},$.prototype._doDispatchAxisPointer=function(){var _e=this._handle;if(!!_e){var et=this._payloadInfo,tt=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:et.cursorPoint[0],y:et.cursorPoint[1],tooltipOption:et.tooltipOption,axesInfo:[{axisDim:tt.axis.dim,axisIndex:tt.componentIndex}]})}},$.prototype._onHandleDragEnd=function(){this._dragging=!1;var _e=this._handle;if(!!_e){var et=this._axisPointerModel.get("value");this._moveHandleToValue(et),this._api.dispatchAction({type:"hideTip"})}},$.prototype.clear=function(_e){this._lastValue=null,this._lastStatus=null;var et=_e.getZr(),tt=this._group,nt=this._handle;et&&tt&&(this._lastGraphicKey=null,tt&&et.remove(tt),nt&&et.remove(nt),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},$.prototype.doClear=function(){},$.prototype.buildLabel=function(_e,et,tt){return tt=tt||0,{x:_e[tt],y:_e[1-tt],width:et[tt],height:et[1-tt]}},$}();function updateProps($,_e,et,tt){propsEqual(inner$b(et).lastProp,tt)||(inner$b(et).lastProp=tt,_e?updateProps$1(et,tt,$):(et.stopAnimation(),et.attr(tt)))}function propsEqual($,_e){if(isObject$3($)&&isObject$3(_e)){var et=!0;return each$f(_e,function(tt,nt){et=et&&propsEqual($[nt],tt)}),!!et}else return $===_e}function updateLabelShowHide($,_e){$[_e.get(["label","show"])?"show":"hide"]()}function getHandleTransProps($){return{x:$.x||0,y:$.y||0,rotation:$.rotation||0}}function updateMandatoryProps($,_e,et){var tt=_e.get("z"),nt=_e.get("zlevel");$&&$.traverse(function(at){at.type!=="group"&&(tt!=null&&(at.z=tt),nt!=null&&(at.zlevel=nt),at.silent=et)})}var BaseAxisPointer$1=BaseAxisPointer;function buildElStyle($){var _e=$.get("type"),et=$.getModel(_e+"Style"),tt;return _e==="line"?(tt=et.getLineStyle(),tt.fill=null):_e==="shadow"&&(tt=et.getAreaStyle(),tt.stroke=null),tt}function buildLabelElOption($,_e,et,tt,nt){var at=et.get("value"),ot=getValueLabel(at,_e.axis,_e.ecModel,et.get("seriesDataIndices"),{precision:et.get(["label","precision"]),formatter:et.get(["label","formatter"])}),it=et.getModel("label"),st=normalizeCssArray(it.get("padding")||0),ut=it.getFont(),ft=getBoundingRect(ot,ut),dt=nt.position,vt=ft.width+st[1]+st[3],gt=ft.height+st[0]+st[2],yt=nt.align;yt==="right"&&(dt[0]-=vt),yt==="center"&&(dt[0]-=vt/2);var xt=nt.verticalAlign;xt==="bottom"&&(dt[1]-=gt),xt==="middle"&&(dt[1]-=gt/2),confineInContainer(dt,vt,gt,tt);var Ct=it.get("backgroundColor");(!Ct||Ct==="auto")&&(Ct=_e.get(["axisLine","lineStyle","color"])),$.label={x:dt[0],y:dt[1],style:createTextStyle(it,{text:ot,font:ut,fill:it.getTextColor(),padding:st,backgroundColor:Ct}),z2:10}}function confineInContainer($,_e,et,tt){var nt=tt.getWidth(),at=tt.getHeight();$[0]=Math.min($[0]+_e,nt)-_e,$[1]=Math.min($[1]+et,at)-et,$[0]=Math.max($[0],0),$[1]=Math.max($[1],0)}function getValueLabel($,_e,et,tt,nt){$=_e.scale.parse($);var at=_e.scale.getLabel({value:$},{precision:nt.precision}),ot=nt.formatter;if(ot){var it={value:getAxisRawValue(_e,{value:$}),axisDimension:_e.dim,axisIndex:_e.index,seriesData:[]};each$f(tt,function(st){var ut=et.getSeriesByIndex(st.seriesIndex),ft=st.dataIndexInside,dt=ut&&ut.getDataParams(ft);dt&&it.seriesData.push(dt)}),isString(ot)?at=ot.replace("{value}",at):isFunction(ot)&&(at=ot(it))}return at}function getTransformedPosition($,_e,et){var tt=create$1();return rotate(tt,tt,et.rotation),translate(tt,tt,et.position),applyTransform([$.dataToCoord(_e),(et.labelOffset||0)+(et.labelDirection||1)*(et.labelMargin||0)],tt)}function buildCartesianSingleLabelElOption($,_e,et,tt,nt,at){var ot=AxisBuilder$1.innerTextLayout(et.rotation,0,et.labelDirection);et.labelMargin=nt.get(["label","margin"]),buildLabelElOption(_e,tt,nt,at,{position:getTransformedPosition(tt.axis,$,et),align:ot.textAlign,verticalAlign:ot.textVerticalAlign})}function makeLineShape($,_e,et){return et=et||0,{x1:$[et],y1:$[1-et],x2:_e[et],y2:_e[1-et]}}function makeRectShape($,_e,et){return et=et||0,{x:$[et],y:$[1-et],width:_e[et],height:_e[1-et]}}function makeSectorShape($,_e,et,tt,nt,at){return{cx:$,cy:_e,r0:et,r:tt,startAngle:nt,endAngle:at,clockwise:!0}}var CartesianAxisPointer=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.makeElOption=function(et,tt,nt,at,ot){var it=nt.axis,st=it.grid,ut=at.get("type"),ft=getCartesian(st,it).getOtherAxis(it).getGlobalExtent(),dt=it.toGlobalCoord(it.dataToCoord(tt,!0));if(ut&&ut!=="none"){var vt=buildElStyle(at),gt=pointerShapeBuilder$2[ut](it,dt,ft);gt.style=vt,et.graphicKey=gt.type,et.pointer=gt}var yt=layout$2(st.model,nt);buildCartesianSingleLabelElOption(tt,et,yt,nt,at,ot)},_e.prototype.getHandleTransform=function(et,tt,nt){var at=layout$2(tt.axis.grid.model,tt,{labelInside:!1});at.labelMargin=nt.get(["handle","margin"]);var ot=getTransformedPosition(tt.axis,et,at);return{x:ot[0],y:ot[1],rotation:at.rotation+(at.labelDirection<0?Math.PI:0)}},_e.prototype.updateHandleTransform=function(et,tt,nt,at){var ot=nt.axis,it=ot.grid,st=ot.getGlobalExtent(!0),ut=getCartesian(it,ot).getOtherAxis(ot).getGlobalExtent(),ft=ot.dim==="x"?0:1,dt=[et.x,et.y];dt[ft]+=tt[ft],dt[ft]=Math.min(st[1],dt[ft]),dt[ft]=Math.max(st[0],dt[ft]);var vt=(ut[1]+ut[0])/2,gt=[vt,vt];gt[ft]=dt[ft];var yt=[{verticalAlign:"middle"},{align:"center"}];return{x:dt[0],y:dt[1],rotation:et.rotation,cursorPoint:gt,tooltipOption:yt[ft]}},_e}(BaseAxisPointer$1);function getCartesian($,_e){var et={};return et[_e.dim+"AxisIndex"]=_e.index,$.getCartesian(et)}var pointerShapeBuilder$2={line:function($,_e,et){var tt=makeLineShape([_e,et[0]],[_e,et[1]],getAxisDimIndex($));return{type:"Line",subPixelOptimize:!0,shape:tt}},shadow:function($,_e,et){var tt=Math.max(1,$.getBandWidth()),nt=et[1]-et[0];return{type:"Rect",shape:makeRectShape([_e-tt/2,et[0]],[tt,nt],getAxisDimIndex($))}}};function getAxisDimIndex($){return $.dim==="x"?0:1}var CartesianAxisPointer$1=CartesianAxisPointer,AxisPointerModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="axisPointer",_e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},_e}(ComponentModel$1),AxisPointerModel$1=AxisPointerModel,inner$a=makeInner(),each$8=each$f;function register($,_e,et){if(!env$1.node){var tt=_e.getZr();inner$a(tt).records||(inner$a(tt).records={}),initGlobalListeners(tt,_e);var nt=inner$a(tt).records[$]||(inner$a(tt).records[$]={});nt.handler=et}}function initGlobalListeners($,_e){if(inner$a($).initialized)return;inner$a($).initialized=!0,et("click",curry$1(doEnter,"click")),et("mousemove",curry$1(doEnter,"mousemove")),et("globalout",onLeave);function et(tt,nt){$.on(tt,function(at){var ot=makeDispatchAction$1(_e);each$8(inner$a($).records,function(it){it&&nt(it,at,ot.dispatchAction)}),dispatchTooltipFinally(ot.pendings,_e)})}}function dispatchTooltipFinally($,_e){var et=$.showTip.length,tt=$.hideTip.length,nt;et?nt=$.showTip[et-1]:tt&&(nt=$.hideTip[tt-1]),nt&&(nt.dispatchAction=null,_e.dispatchAction(nt))}function onLeave($,_e,et){$.handler("leave",null,et)}function doEnter($,_e,et,tt){_e.handler($,et,tt)}function makeDispatchAction$1($){var _e={showTip:[],hideTip:[]},et=function(tt){var nt=_e[tt.type];nt?nt.push(tt):(tt.dispatchAction=et,$.dispatchAction(tt))};return{dispatchAction:et,pendings:_e}}function unregister($,_e){if(!env$1.node){var et=_e.getZr(),tt=(inner$a(et).records||{})[$];tt&&(inner$a(et).records[$]=null)}}var AxisPointerView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=tt.getComponent("tooltip"),ot=et.get("triggerOn")||at&&at.get("triggerOn")||"mousemove|click";register("axisPointer",nt,function(it,st,ut){ot!=="none"&&(it==="leave"||ot.indexOf(it)>=0)&&ut({type:"updateAxisPointer",currTrigger:it,x:st&&st.offsetX,y:st&&st.offsetY})})},_e.prototype.remove=function(et,tt){unregister("axisPointer",tt)},_e.prototype.dispose=function(et,tt){unregister("axisPointer",tt)},_e.type="axisPointer",_e}(ComponentView$1),AxisPointerView$1=AxisPointerView;function findPointFromSeries($,_e){var et=[],tt=$.seriesIndex,nt;if(tt==null||!(nt=_e.getSeriesByIndex(tt)))return{point:[]};var at=nt.getData(),ot=queryDataIndex(at,$);if(ot==null||ot<0||isArray$1(ot))return{point:[]};var it=at.getItemGraphicEl(ot),st=nt.coordinateSystem;if(nt.getTooltipPosition)et=nt.getTooltipPosition(ot)||[];else if(st&&st.dataToPoint)if($.isStacked){var ut=st.getBaseAxis(),ft=st.getOtherAxis(ut),dt=ft.dim,vt=ut.dim,gt=dt==="x"||dt==="radius"?1:0,yt=at.mapDimension(vt),xt=[];xt[gt]=at.get(yt,ot),xt[1-gt]=at.get(at.getCalculationInfo("stackResultDimension"),ot),et=st.dataToPoint(xt)||[]}else et=st.dataToPoint(at.getValues(map$1(st.dimensions,function(wt){return at.mapDimension(wt)}),ot))||[];else if(it){var Ct=it.getBoundingRect().clone();Ct.applyTransform(it.transform),et=[Ct.x+Ct.width/2,Ct.y+Ct.height/2]}return{point:et,el:it}}var inner$9=makeInner();function axisTrigger($,_e,et){var tt=$.currTrigger,nt=[$.x,$.y],at=$,ot=$.dispatchAction||bind$1(et.dispatchAction,et),it=_e.getComponent("axisPointer").coordSysAxesInfo;if(!!it){illegalPoint(nt)&&(nt=findPointFromSeries({seriesIndex:at.seriesIndex,dataIndex:at.dataIndex},_e).point);var st=illegalPoint(nt),ut=at.axesInfo,ft=it.axesInfo,dt=tt==="leave"||illegalPoint(nt),vt={},gt={},yt={list:[],map:{}},xt={showPointer:curry$1(showPointer,gt),showTooltip:curry$1(showTooltip,yt)};each$f(it.coordSysMap,function(wt,Et){var $t=st||wt.containPoint(nt);each$f(it.coordSysAxesInfo[Et],function(It,Ot){var Lt=It.axis,Ft=findInputAxisInfo(ut,It);if(!dt&&$t&&(!ut||Ft)){var zt=Ft&&Ft.value;zt==null&&!st&&(zt=Lt.pointToData(nt)),zt!=null&&processOnAxis(It,zt,xt,!1,vt)}})});var Ct={};return each$f(ft,function(wt,Et){var $t=wt.linkGroup;$t&&!gt[Et]&&each$f($t.axesInfo,function(It,Ot){var Lt=gt[Ot];if(It!==wt&&Lt){var Ft=Lt.value;$t.mapper&&(Ft=wt.axis.scale.parse($t.mapper(Ft,makeMapperParam(It),makeMapperParam(wt)))),Ct[wt.key]=Ft}})}),each$f(Ct,function(wt,Et){processOnAxis(ft[Et],wt,xt,!0,vt)}),updateModelActually(gt,ft,vt),dispatchTooltipActually(yt,nt,$,ot),dispatchHighDownActually(ft,ot,et),vt}}function processOnAxis($,_e,et,tt,nt){var at=$.axis;if(!(at.scale.isBlank()||!at.containData(_e))){if(!$.involveSeries){et.showPointer($,_e);return}var ot=buildPayloadsBySeries(_e,$),it=ot.payloadBatch,st=ot.snapToValue;it[0]&&nt.seriesIndex==null&&extend(nt,it[0]),!tt&&$.snap&&at.containData(st)&&st!=null&&(_e=st),et.showPointer($,_e,it),et.showTooltip($,ot,st)}}function buildPayloadsBySeries($,_e){var et=_e.axis,tt=et.dim,nt=$,at=[],ot=Number.MAX_VALUE,it=-1;return each$f(_e.seriesModels,function(st,ut){var ft=st.getData().mapDimensionsAll(tt),dt,vt;if(st.getAxisTooltipData){var gt=st.getAxisTooltipData(ft,$,et);vt=gt.dataIndices,dt=gt.nestestValue}else{if(vt=st.getData().indicesOfNearest(ft[0],$,et.type==="category"?.5:null),!vt.length)return;dt=st.getData().get(ft[0],vt[0])}if(!(dt==null||!isFinite(dt))){var yt=$-dt,xt=Math.abs(yt);xt<=ot&&((xt<ot||yt>=0&&it<0)&&(ot=xt,it=yt,nt=dt,at.length=0),each$f(vt,function(Ct){at.push({seriesIndex:st.seriesIndex,dataIndexInside:Ct,dataIndex:st.getData().getRawIndex(Ct)})}))}}),{payloadBatch:at,snapToValue:nt}}function showPointer($,_e,et,tt){$[_e.key]={value:et,payloadBatch:tt}}function showTooltip($,_e,et,tt){var nt=et.payloadBatch,at=_e.axis,ot=at.model,it=_e.axisPointerModel;if(!(!_e.triggerTooltip||!nt.length)){var st=_e.coordSys.model,ut=makeKey(st),ft=$.map[ut];ft||(ft=$.map[ut]={coordSysId:st.id,coordSysIndex:st.componentIndex,coordSysType:st.type,coordSysMainType:st.mainType,dataByAxis:[]},$.list.push(ft)),ft.dataByAxis.push({axisDim:at.dim,axisIndex:ot.componentIndex,axisType:ot.type,axisId:ot.id,value:tt,valueLabelOpt:{precision:it.get(["label","precision"]),formatter:it.get(["label","formatter"])},seriesDataIndices:nt.slice()})}}function updateModelActually($,_e,et){var tt=et.axesInfo=[];each$f(_e,function(nt,at){var ot=nt.axisPointerModel.option,it=$[at];it?(!nt.useHandle&&(ot.status="show"),ot.value=it.value,ot.seriesDataIndices=(it.payloadBatch||[]).slice()):!nt.useHandle&&(ot.status="hide"),ot.status==="show"&&tt.push({axisDim:nt.axis.dim,axisIndex:nt.axis.model.componentIndex,value:ot.value})})}function dispatchTooltipActually($,_e,et,tt){if(illegalPoint(_e)||!$.list.length){tt({type:"hideTip"});return}var nt=(($.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};tt({type:"showTip",escapeConnect:!0,x:_e[0],y:_e[1],tooltipOption:et.tooltipOption,position:et.position,dataIndexInside:nt.dataIndexInside,dataIndex:nt.dataIndex,seriesIndex:nt.seriesIndex,dataByCoordSys:$.list})}function dispatchHighDownActually($,_e,et){var tt=et.getZr(),nt="axisPointerLastHighlights",at=inner$9(tt)[nt]||{},ot=inner$9(tt)[nt]={};each$f($,function(ut,ft){var dt=ut.axisPointerModel.option;dt.status==="show"&&each$f(dt.seriesDataIndices,function(vt){var gt=vt.seriesIndex+" | "+vt.dataIndex;ot[gt]=vt})});var it=[],st=[];each$f(at,function(ut,ft){!ot[ft]&&st.push(ut)}),each$f(ot,function(ut,ft){!at[ft]&&it.push(ut)}),st.length&&et.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:st}),it.length&&et.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:it})}function findInputAxisInfo($,_e){for(var et=0;et<($||[]).length;et++){var tt=$[et];if(_e.axis.dim===tt.axisDim&&_e.axis.model.componentIndex===tt.axisIndex)return tt}}function makeMapperParam($){var _e=$.axis.model,et={},tt=et.axisDim=$.axis.dim;return et.axisIndex=et[tt+"AxisIndex"]=_e.componentIndex,et.axisName=et[tt+"AxisName"]=_e.name,et.axisId=et[tt+"AxisId"]=_e.id,et}function illegalPoint($){return!$||$[0]==null||isNaN($[0])||$[1]==null||isNaN($[1])}function install$q($){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),$.registerComponentModel(AxisPointerModel$1),$.registerComponentView(AxisPointerView$1),$.registerPreprocessor(function(_e){if(_e){(!_e.axisPointer||_e.axisPointer.length===0)&&(_e.axisPointer={});var et=_e.axisPointer.link;et&&!isArray$1(et)&&(_e.axisPointer.link=[et])}}),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,function(_e,et){_e.getComponent("axisPointer").coordSysAxesInfo=collect(_e,et)}),$.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p($){use(install$N),use(install$q)}var PolarAxisPointer=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.makeElOption=function(et,tt,nt,at,ot){var it=nt.axis;it.dim==="angle"&&(this.animationThreshold=Math.PI/18);var st=it.polar,ut=st.getOtherAxis(it),ft=ut.getExtent(),dt=it.dataToCoord(tt),vt=at.get("type");if(vt&&vt!=="none"){var gt=buildElStyle(at),yt=pointerShapeBuilder$1[vt](it,st,dt,ft);yt.style=gt,et.graphicKey=yt.type,et.pointer=yt}var xt=at.get(["label","margin"]),Ct=getLabelPosition(tt,nt,at,st,xt);buildLabelElOption(et,nt,at,ot,Ct)},_e}(BaseAxisPointer$1);function getLabelPosition($,_e,et,tt,nt){var at=_e.axis,ot=at.dataToCoord($),it=tt.getAngleAxis().getExtent()[0];it=it/180*Math.PI;var st=tt.getRadiusAxis().getExtent(),ut,ft,dt;if(at.dim==="radius"){var vt=create$1();rotate(vt,vt,it),translate(vt,vt,[tt.cx,tt.cy]),ut=applyTransform([ot,-nt],vt);var gt=_e.getModel("axisLabel").get("rotate")||0,yt=AxisBuilder$1.innerTextLayout(it,gt*Math.PI/180,-1);ft=yt.textAlign,dt=yt.textVerticalAlign}else{var xt=st[1];ut=tt.coordToPoint([xt+nt,ot]);var Ct=tt.cx,wt=tt.cy;ft=Math.abs(ut[0]-Ct)/xt<.3?"center":ut[0]>Ct?"left":"right",dt=Math.abs(ut[1]-wt)/xt<.3?"middle":ut[1]>wt?"top":"bottom"}return{position:ut,align:ft,verticalAlign:dt}}var pointerShapeBuilder$1={line:function($,_e,et,tt){return $.dim==="angle"?{type:"Line",shape:makeLineShape(_e.coordToPoint([tt[0],et]),_e.coordToPoint([tt[1],et]))}:{type:"Circle",shape:{cx:_e.cx,cy:_e.cy,r:et}}},shadow:function($,_e,et,tt){var nt=Math.max(1,$.getBandWidth()),at=Math.PI/180;return $.dim==="angle"?{type:"Sector",shape:makeSectorShape(_e.cx,_e.cy,tt[0],tt[1],(-et-nt/2)*at,(-et+nt/2)*at)}:{type:"Sector",shape:makeSectorShape(_e.cx,_e.cy,et-nt/2,et+nt/2,0,Math.PI*2)}}},PolarAxisPointer$1=PolarAxisPointer,PolarModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.findAxisModel=function(et){var tt,nt=this.ecModel;return nt.eachComponent(et,function(at){at.getCoordSysModel()===this&&(tt=at)},this),tt},_e.type="polar",_e.dependencies=["radiusAxis","angleAxis"],_e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},_e}(ComponentModel$1),PolarModel$1=PolarModel,PolarAxisModel=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},_e.type="polarAxis",_e}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="angleAxis",_e}(PolarAxisModel),RadiusAxisModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="radiusAxis",_e}(PolarAxisModel),RadiusAxis=function($){__extends(_e,$);function _e(et,tt){return $.call(this,"radius",et,tt)||this}return _e.prototype.pointToData=function(et,tt){return this.polar.pointToData(et,tt)[this.dim==="radius"?0:1]},_e}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;var RadiusAxis$1=RadiusAxis,inner$8=makeInner(),AngleAxis=function($){__extends(_e,$);function _e(et,tt){return $.call(this,"angle",et,tt||[0,360])||this}return _e.prototype.pointToData=function(et,tt){return this.polar.pointToData(et,tt)[this.dim==="radius"?0:1]},_e.prototype.calculateCategoryInterval=function(){var et=this,tt=et.getLabelModel(),nt=et.scale,at=nt.getExtent(),ot=nt.count();if(at[1]-at[0]<1)return 0;var it=at[0],st=et.dataToCoord(it+1)-et.dataToCoord(it),ut=Math.abs(st),ft=getBoundingRect(it==null?"":it+"",tt.getFont(),"center","top"),dt=Math.max(ft.height,7),vt=dt/ut;isNaN(vt)&&(vt=1/0);var gt=Math.max(0,Math.floor(vt)),yt=inner$8(et.model),xt=yt.lastAutoInterval,Ct=yt.lastTickCount;return xt!=null&&Ct!=null&&Math.abs(xt-gt)<=1&&Math.abs(Ct-ot)<=1&&xt>gt?gt=xt:(yt.lastTickCount=ot,yt.lastAutoInterval=gt),gt},_e}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;var AngleAxis$1=AngleAxis,polarDimensions=["radius","angle"],Polar=function(){function $(_e){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=_e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return $.prototype.containPoint=function(_e){var et=this.pointToCoord(_e);return this._radiusAxis.contain(et[0])&&this._angleAxis.contain(et[1])},$.prototype.containData=function(_e){return this._radiusAxis.containData(_e[0])&&this._angleAxis.containData(_e[1])},$.prototype.getAxis=function(_e){var et="_"+_e+"Axis";return this[et]},$.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},$.prototype.getAxesByScale=function(_e){var et=[],tt=this._angleAxis,nt=this._radiusAxis;return tt.scale.type===_e&&et.push(tt),nt.scale.type===_e&&et.push(nt),et},$.prototype.getAngleAxis=function(){return this._angleAxis},$.prototype.getRadiusAxis=function(){return this._radiusAxis},$.prototype.getOtherAxis=function(_e){var et=this._angleAxis;return _e===et?this._radiusAxis:et},$.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},$.prototype.getTooltipAxes=function(_e){var et=_e!=null&&_e!=="auto"?this.getAxis(_e):this.getBaseAxis();return{baseAxes:[et],otherAxes:[this.getOtherAxis(et)]}},$.prototype.dataToPoint=function(_e,et){return this.coordToPoint([this._radiusAxis.dataToRadius(_e[0],et),this._angleAxis.dataToAngle(_e[1],et)])},$.prototype.pointToData=function(_e,et){var tt=this.pointToCoord(_e);return[this._radiusAxis.radiusToData(tt[0],et),this._angleAxis.angleToData(tt[1],et)]},$.prototype.pointToCoord=function(_e){var et=_e[0]-this.cx,tt=_e[1]-this.cy,nt=this.getAngleAxis(),at=nt.getExtent(),ot=Math.min(at[0],at[1]),it=Math.max(at[0],at[1]);nt.inverse?ot=it-360:it=ot+360;var st=Math.sqrt(et*et+tt*tt);et/=st,tt/=st;for(var ut=Math.atan2(-tt,et)/Math.PI*180,ft=ut<ot?1:-1;ut<ot||ut>it;)ut+=ft*360;return[st,ut]},$.prototype.coordToPoint=function(_e){var et=_e[0],tt=_e[1]/180*Math.PI,nt=Math.cos(tt)*et+this.cx,at=-Math.sin(tt)*et+this.cy;return[nt,at]},$.prototype.getArea=function(){var _e=this.getAngleAxis(),et=this.getRadiusAxis(),tt=et.getExtent().slice();tt[0]>tt[1]&&tt.reverse();var nt=_e.getExtent(),at=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:tt[0],r:tt[1],startAngle:-nt[0]*at,endAngle:-nt[1]*at,clockwise:_e.inverse,contain:function(ot,it){var st=ot-this.cx,ut=it-this.cy,ft=st*st+ut*ut-1e-4,dt=this.r,vt=this.r0;return ft<=dt*dt&&ft>=vt*vt}}},$.prototype.convertToPixel=function(_e,et,tt){var nt=getCoordSys$2(et);return nt===this?this.dataToPoint(tt):null},$.prototype.convertFromPixel=function(_e,et,tt){var nt=getCoordSys$2(et);return nt===this?this.pointToData(tt):null},$}();function getCoordSys$2($){var _e=$.seriesModel,et=$.polarModel;return et&&et.coordinateSystem||_e&&_e.coordinateSystem}var Polar$1=Polar;function resizePolar($,_e,et){var tt=_e.get("center"),nt=et.getWidth(),at=et.getHeight();$.cx=parsePercent(tt[0],nt),$.cy=parsePercent(tt[1],at);var ot=$.getRadiusAxis(),it=Math.min(nt,at)/2,st=_e.get("radius");st==null?st=[0,"100%"]:isArray$1(st)||(st=[0,st]);var ut=[parsePercent(st[0],it),parsePercent(st[1],it)];ot.inverse?ot.setExtent(ut[1],ut[0]):ot.setExtent(ut[0],ut[1])}function updatePolarScale($,_e){var et=this,tt=et.getAngleAxis(),nt=et.getRadiusAxis();if(tt.scale.setExtent(1/0,-1/0),nt.scale.setExtent(1/0,-1/0),$.eachSeries(function(it){if(it.coordinateSystem===et){var st=it.getData();each$f(getDataDimensionsOnAxis(st,"radius"),function(ut){nt.scale.unionExtentFromData(st,ut)}),each$f(getDataDimensionsOnAxis(st,"angle"),function(ut){tt.scale.unionExtentFromData(st,ut)})}}),niceScaleExtent(tt.scale,tt.model),niceScaleExtent(nt.scale,nt.model),tt.type==="category"&&!tt.onBand){var at=tt.getExtent(),ot=360/tt.scale.count();tt.inverse?at[1]+=ot:at[1]-=ot,tt.setExtent(at[0],at[1])}}function isAngleAxisModel($){return $.mainType==="angleAxis"}function setAxis($,_e){if($.type=_e.get("type"),$.scale=createScaleByModel$1(_e),$.onBand=_e.get("boundaryGap")&&$.type==="category",$.inverse=_e.get("inverse"),isAngleAxisModel(_e)){$.inverse=$.inverse!==_e.get("clockwise");var et=_e.get("startAngle");$.setExtent(et,et+($.inverse?-360:360))}_e.axis=$,$.model=_e}var polarCreator={dimensions:polarDimensions,create:function($,_e){var et=[];return $.eachComponent("polar",function(tt,nt){var at=new Polar$1(nt+"");at.update=updatePolarScale;var ot=at.getRadiusAxis(),it=at.getAngleAxis(),st=tt.findAxisModel("radiusAxis"),ut=tt.findAxisModel("angleAxis");setAxis(ot,st),setAxis(it,ut),resizePolar(at,tt,_e),et.push(at),tt.coordinateSystem=at,at.model=tt}),$.eachSeries(function(tt){if(tt.get("coordinateSystem")==="polar"){var nt=tt.getReferringComponents("polar",SINGLE_REFERRING).models[0];tt.coordinateSystem=nt.coordinateSystem}}),et}},polarCreator$1=polarCreator,elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape($,_e,et){_e[1]>_e[0]&&(_e=_e.slice().reverse());var tt=$.coordToPoint([_e[0],et]),nt=$.coordToPoint([_e[1],et]);return{x1:tt[0],y1:tt[1],x2:nt[0],y2:nt[1]}}function getRadiusIdx($){var _e=$.getRadiusAxis();return _e.inverse?0:1}function fixAngleOverlap($){var _e=$[0],et=$[$.length-1];_e&&et&&Math.abs(Math.abs(_e.coord-et.coord)-360)<1e-4&&$.pop()}var AngleAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.axisPointerClass="PolarAxisPointer",et}return _e.prototype.render=function(et,tt){if(this.group.removeAll(),!!et.get("show")){var nt=et.axis,at=nt.polar,ot=at.getRadiusAxis().getExtent(),it=nt.getTicksCoords(),st=nt.getMinorTicksCoords(),ut=map$1(nt.getViewLabels(),function(ft){ft=clone$4(ft);var dt=nt.scale,vt=dt.type==="ordinal"?dt.getRawOrdinalNumber(ft.tickValue):ft.tickValue;return ft.coord=nt.dataToCoord(vt),ft});fixAngleOverlap(ut),fixAngleOverlap(it),each$f(elementList,function(ft){et.get([ft,"show"])&&(!nt.scale.isBlank()||ft==="axisLine")&&angelAxisElementsBuilders[ft](this.group,et,at,it,st,ot,ut)},this)}},_e.type="angleAxis",_e}(AxisView$1),angelAxisElementsBuilders={axisLine:function($,_e,et,tt,nt,at){var ot=_e.getModel(["axisLine","lineStyle"]),it=getRadiusIdx(et),st=it?0:1,ut;at[st]===0?ut=new Circle$1({shape:{cx:et.cx,cy:et.cy,r:at[it]},style:ot.getLineStyle(),z2:1,silent:!0}):ut=new Ring$1({shape:{cx:et.cx,cy:et.cy,r:at[it],r0:at[st]},style:ot.getLineStyle(),z2:1,silent:!0}),ut.style.fill=null,$.add(ut)},axisTick:function($,_e,et,tt,nt,at){var ot=_e.getModel("axisTick"),it=(ot.get("inside")?-1:1)*ot.get("length"),st=at[getRadiusIdx(et)],ut=map$1(tt,function(ft){return new Line$3({shape:getAxisLineShape(et,[st,st+it],ft.coord)})});$.add(mergePath(ut,{style:defaults(ot.getModel("lineStyle").getLineStyle(),{stroke:_e.get(["axisLine","lineStyle","color"])})}))},minorTick:function($,_e,et,tt,nt,at){if(!!nt.length){for(var ot=_e.getModel("axisTick"),it=_e.getModel("minorTick"),st=(ot.get("inside")?-1:1)*it.get("length"),ut=at[getRadiusIdx(et)],ft=[],dt=0;dt<nt.length;dt++)for(var vt=0;vt<nt[dt].length;vt++)ft.push(new Line$3({shape:getAxisLineShape(et,[ut,ut+st],nt[dt][vt].coord)}));$.add(mergePath(ft,{style:defaults(it.getModel("lineStyle").getLineStyle(),defaults(ot.getLineStyle(),{stroke:_e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function($,_e,et,tt,nt,at,ot){var it=_e.getCategories(!0),st=_e.getModel("axisLabel"),ut=st.get("margin"),ft=_e.get("triggerEvent");each$f(ot,function(dt,vt){var gt=st,yt=dt.tickValue,xt=at[getRadiusIdx(et)],Ct=et.coordToPoint([xt+ut,dt.coord]),wt=et.cx,Et=et.cy,$t=Math.abs(Ct[0]-wt)/xt<.3?"center":Ct[0]>wt?"left":"right",It=Math.abs(Ct[1]-Et)/xt<.3?"middle":Ct[1]>Et?"top":"bottom";if(it&&it[yt]){var Ot=it[yt];isObject$3(Ot)&&Ot.textStyle&&(gt=new Model$1(Ot.textStyle,st,st.ecModel))}var Lt=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(_e),style:createTextStyle(gt,{x:Ct[0],y:Ct[1],fill:gt.getTextColor()||_e.get(["axisLine","lineStyle","color"]),text:dt.formattedLabel,align:$t,verticalAlign:It})});if($.add(Lt),ft){var Ft=AxisBuilder$1.makeAxisEventDataBase(_e);Ft.targetType="axisLabel",Ft.value=dt.rawLabel,getECData(Lt).eventData=Ft}},this)},splitLine:function($,_e,et,tt,nt,at){var ot=_e.getModel("splitLine"),it=ot.getModel("lineStyle"),st=it.get("color"),ut=0;st=st instanceof Array?st:[st];for(var ft=[],dt=0;dt<tt.length;dt++){var vt=ut++%st.length;ft[vt]=ft[vt]||[],ft[vt].push(new Line$3({shape:getAxisLineShape(et,at,tt[dt].coord)}))}for(var dt=0;dt<ft.length;dt++)$.add(mergePath(ft[dt],{style:defaults({stroke:st[dt%st.length]},it.getLineStyle()),silent:!0,z:_e.get("z")}))},minorSplitLine:function($,_e,et,tt,nt,at){if(!!nt.length){for(var ot=_e.getModel("minorSplitLine"),it=ot.getModel("lineStyle"),st=[],ut=0;ut<nt.length;ut++)for(var ft=0;ft<nt[ut].length;ft++)st.push(new Line$3({shape:getAxisLineShape(et,at,nt[ut][ft].coord)}));$.add(mergePath(st,{style:it.getLineStyle(),silent:!0,z:_e.get("z")}))}},splitArea:function($,_e,et,tt,nt,at){if(!!tt.length){var ot=_e.getModel("splitArea"),it=ot.getModel("areaStyle"),st=it.get("color"),ut=0;st=st instanceof Array?st:[st];for(var ft=[],dt=Math.PI/180,vt=-tt[0].coord*dt,gt=Math.min(at[0],at[1]),yt=Math.max(at[0],at[1]),xt=_e.get("clockwise"),Ct=1,wt=tt.length;Ct<=wt;Ct++){var Et=Ct===wt?tt[0].coord:tt[Ct].coord,$t=ut++%st.length;ft[$t]=ft[$t]||[],ft[$t].push(new Sector$1({shape:{cx:et.cx,cy:et.cy,r0:gt,r:yt,startAngle:vt,endAngle:-Et*dt,clockwise:xt},silent:!0})),vt=-Et*dt}for(var Ct=0;Ct<ft.length;Ct++)$.add(mergePath(ft[Ct],{style:defaults({fill:st[Ct%st.length]},it.getAreaStyle()),silent:!0}))}}},AngleAxisView$1=AngleAxisView,axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.axisPointerClass="PolarAxisPointer",et}return _e.prototype.render=function(et,tt){if(this.group.removeAll(),!!et.get("show")){var nt=this._axisGroup,at=this._axisGroup=new Group$4;this.group.add(at);var ot=et.axis,it=ot.polar,st=it.getAngleAxis(),ut=ot.getTicksCoords(),ft=ot.getMinorTicksCoords(),dt=st.getExtent()[0],vt=ot.getExtent(),gt=layoutAxis(it,et,dt),yt=new AxisBuilder$1(et,gt);each$f(axisBuilderAttrs$1,yt.add,yt),at.add(yt.getGroup()),groupTransition(nt,at,et),each$f(selfBuilderAttrs$1,function(xt){et.get([xt,"show"])&&!ot.scale.isBlank()&&axisElementBuilders$1[xt](this.group,et,it,dt,vt,ut,ft)},this)}},_e.type="radiusAxis",_e}(AxisView$1),axisElementBuilders$1={splitLine:function($,_e,et,tt,nt,at){var ot=_e.getModel("splitLine"),it=ot.getModel("lineStyle"),st=it.get("color"),ut=0;st=st instanceof Array?st:[st];for(var ft=[],dt=0;dt<at.length;dt++){var vt=ut++%st.length;ft[vt]=ft[vt]||[],ft[vt].push(new Circle$1({shape:{cx:et.cx,cy:et.cy,r:Math.max(at[dt].coord,0)}}))}for(var dt=0;dt<ft.length;dt++)$.add(mergePath(ft[dt],{style:defaults({stroke:st[dt%st.length],fill:null},it.getLineStyle()),silent:!0}))},minorSplitLine:function($,_e,et,tt,nt,at,ot){if(!!ot.length){for(var it=_e.getModel("minorSplitLine"),st=it.getModel("lineStyle"),ut=[],ft=0;ft<ot.length;ft++)for(var dt=0;dt<ot[ft].length;dt++)ut.push(new Circle$1({shape:{cx:et.cx,cy:et.cy,r:ot[ft][dt].coord}}));$.add(mergePath(ut,{style:defaults({fill:null},st.getLineStyle()),silent:!0}))}},splitArea:function($,_e,et,tt,nt,at){if(!!at.length){var ot=_e.getModel("splitArea"),it=ot.getModel("areaStyle"),st=it.get("color"),ut=0;st=st instanceof Array?st:[st];for(var ft=[],dt=at[0].coord,vt=1;vt<at.length;vt++){var gt=ut++%st.length;ft[gt]=ft[gt]||[],ft[gt].push(new Sector$1({shape:{cx:et.cx,cy:et.cy,r0:dt,r:at[vt].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),dt=at[vt].coord}for(var vt=0;vt<ft.length;vt++)$.add(mergePath(ft[vt],{style:defaults({fill:st[vt%st.length]},it.getAreaStyle()),silent:!0}))}}};function layoutAxis($,_e,et){return{position:[$.cx,$.cy],rotation:et/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:_e.getModel("axisLabel").get("rotate"),z2:1}}var RadiusAxisView$1=RadiusAxisView;function getSeriesStackId($){return $.get("stack")||"__ec_stack_"+$.seriesIndex}function getAxisKey($,_e){return _e.dim+$.model.componentIndex}function barLayoutPolar($,_e,et){var tt={},nt=calRadialBar(filter(_e.getSeriesByType($),function(at){return!_e.isSeriesFiltered(at)&&at.coordinateSystem&&at.coordinateSystem.type==="polar"}));_e.eachSeriesByType($,function(at){if(at.coordinateSystem.type==="polar"){var ot=at.getData(),it=at.coordinateSystem,st=it.getBaseAxis(),ut=getAxisKey(it,st),ft=getSeriesStackId(at),dt=nt[ut][ft],vt=dt.offset,gt=dt.width,yt=it.getOtherAxis(st),xt=at.coordinateSystem.cx,Ct=at.coordinateSystem.cy,wt=at.get("barMinHeight")||0,Et=at.get("barMinAngle")||0;tt[ft]=tt[ft]||[];for(var $t=ot.mapDimension(yt.dim),It=ot.mapDimension(st.dim),Ot=isDimensionStacked(ot,$t),Lt=st.dim!=="radius"||!at.get("roundCap",!0),Ft=yt.dataToCoord(0),zt=0,Gt=ot.count();zt<Gt;zt++){var jt=ot.get($t,zt),Ut=ot.get(It,zt),Kt=jt>=0?"p":"n",Zt=Ft;Ot&&(tt[ft][Ut]||(tt[ft][Ut]={p:Ft,n:Ft}),Zt=tt[ft][Ut][Kt]);var Qt=void 0,rr=void 0,nr=void 0,dr=void 0;if(yt.dim==="radius"){var sr=yt.dataToCoord(jt)-Ft,fr=st.dataToCoord(Ut);Math.abs(sr)<wt&&(sr=(sr<0?-1:1)*wt),Qt=Zt,rr=Zt+sr,nr=fr-vt,dr=nr-gt,Ot&&(tt[ft][Ut][Kt]=rr)}else{var yr=yt.dataToCoord(jt,Lt)-Ft,Pr=st.dataToCoord(Ut);Math.abs(yr)<Et&&(yr=(yr<0?-1:1)*Et),Qt=Pr+vt,rr=Qt+gt,nr=Zt,dr=Zt+yr,Ot&&(tt[ft][Ut][Kt]=dr)}ot.setItemLayout(zt,{cx:xt,cy:Ct,r0:Qt,r:rr,startAngle:-nr*Math.PI/180,endAngle:-dr*Math.PI/180,clockwise:nr>=dr})}}})}function calRadialBar($){var _e={};each$f($,function(tt,nt){var at=tt.getData(),ot=tt.coordinateSystem,it=ot.getBaseAxis(),st=getAxisKey(ot,it),ut=it.getExtent(),ft=it.type==="category"?it.getBandWidth():Math.abs(ut[1]-ut[0])/at.count(),dt=_e[st]||{bandWidth:ft,remainedWidth:ft,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},vt=dt.stacks;_e[st]=dt;var gt=getSeriesStackId(tt);vt[gt]||dt.autoWidthCount++,vt[gt]=vt[gt]||{width:0,maxWidth:0};var yt=parsePercent(tt.get("barWidth"),ft),xt=parsePercent(tt.get("barMaxWidth"),ft),Ct=tt.get("barGap"),wt=tt.get("barCategoryGap");yt&&!vt[gt].width&&(yt=Math.min(dt.remainedWidth,yt),vt[gt].width=yt,dt.remainedWidth-=yt),xt&&(vt[gt].maxWidth=xt),Ct!=null&&(dt.gap=Ct),wt!=null&&(dt.categoryGap=wt)});var et={};return each$f(_e,function(tt,nt){et[nt]={};var at=tt.stacks,ot=tt.bandWidth,it=parsePercent(tt.categoryGap,ot),st=parsePercent(tt.gap,1),ut=tt.remainedWidth,ft=tt.autoWidthCount,dt=(ut-it)/(ft+(ft-1)*st);dt=Math.max(dt,0),each$f(at,function(xt,Ct){var wt=xt.maxWidth;wt&&wt<dt&&(wt=Math.min(wt,ut),xt.width&&(wt=Math.min(wt,xt.width)),ut-=wt,xt.width=wt,ft--)}),dt=(ut-it)/(ft+(ft-1)*st),dt=Math.max(dt,0);var vt=0,gt;each$f(at,function(xt,Ct){xt.width||(xt.width=dt),gt=xt,vt+=xt.width*(1+st)}),gt&&(vt-=gt.width*st);var yt=-vt/2;each$f(at,function(xt,Ct){et[nt][Ct]=et[nt][Ct]||{offset:yt,width:xt.width},yt+=xt.width*(1+st)})}),et}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="polar",_e}(ComponentView$1);function install$o($){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),$.registerCoordinateSystem("polar",polarCreator$1),$.registerComponentModel(PolarModel$1),$.registerComponentView(PolarView),axisModelCreator($,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator($,"radius",RadiusAxisModel,radiusAxisExtraOption),$.registerComponentView(AngleAxisView$1),$.registerComponentView(RadiusAxisView$1),$.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1($,_e){_e=_e||{};var et=$.coordinateSystem,tt=$.axis,nt={},at=tt.position,ot=tt.orient,it=et.getRect(),st=[it.x,it.x+it.width,it.y,it.y+it.height],ut={horizontal:{top:st[2],bottom:st[3]},vertical:{left:st[0],right:st[1]}};nt.position=[ot==="vertical"?ut.vertical[at]:st[0],ot==="horizontal"?ut.horizontal[at]:st[3]];var ft={horizontal:0,vertical:1};nt.rotation=Math.PI/2*ft[ot];var dt={top:-1,bottom:1,right:1,left:-1};nt.labelDirection=nt.tickDirection=nt.nameDirection=dt[at],$.get(["axisTick","inside"])&&(nt.tickDirection=-nt.tickDirection),retrieve(_e.labelInside,$.get(["axisLabel","inside"]))&&(nt.labelDirection=-nt.labelDirection);var vt=_e.rotate;return vt==null&&(vt=$.get(["axisLabel","rotate"])),nt.labelRotation=at==="top"?-vt:vt,nt.z2=1,nt}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.axisPointerClass="SingleAxisPointer",et}return _e.prototype.render=function(et,tt,nt,at){var ot=this.group;ot.removeAll();var it=this._axisGroup;this._axisGroup=new Group$4;var st=layout$1(et),ut=new AxisBuilder$1(et,st);each$f(axisBuilderAttrs,ut.add,ut),ot.add(this._axisGroup),ot.add(ut.getGroup()),each$f(selfBuilderAttrs,function(ft){et.get([ft,"show"])&&axisElementBuilders[ft](this,this.group,this._axisGroup,et)},this),groupTransition(it,this._axisGroup,et),$.prototype.render.call(this,et,tt,nt,at)},_e.prototype.remove=function(){rectCoordAxisHandleRemove(this)},_e.type="singleAxis",_e}(AxisView$1),axisElementBuilders={splitLine:function($,_e,et,tt){var nt=tt.axis;if(!nt.scale.isBlank()){var at=tt.getModel("splitLine"),ot=at.getModel("lineStyle"),it=ot.get("color");it=it instanceof Array?it:[it];for(var st=tt.coordinateSystem.getRect(),ut=nt.isHorizontal(),ft=[],dt=0,vt=nt.getTicksCoords({tickModel:at}),gt=[],yt=[],xt=0;xt<vt.length;++xt){var Ct=nt.toGlobalCoord(vt[xt].coord);ut?(gt[0]=Ct,gt[1]=st.y,yt[0]=Ct,yt[1]=st.y+st.height):(gt[0]=st.x,gt[1]=Ct,yt[0]=st.x+st.width,yt[1]=Ct);var wt=dt++%it.length;ft[wt]=ft[wt]||[],ft[wt].push(new Line$3({subPixelOptimize:!0,shape:{x1:gt[0],y1:gt[1],x2:yt[0],y2:yt[1]},silent:!0}))}for(var Et=ot.getLineStyle(["color"]),xt=0;xt<ft.length;++xt)_e.add(mergePath(ft[xt],{style:defaults({stroke:it[xt%it.length]},Et),silent:!0}))}},splitArea:function($,_e,et,tt){rectCoordAxisBuildSplitArea($,et,tt,tt)}},SingleAxisView$1=SingleAxisView,SingleAxisModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.getCoordSysModel=function(){return this},_e.type="singleAxis",_e.layoutMode="box",_e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},_e}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxisModel$1=SingleAxisModel,SingleAxis=function($){__extends(_e,$);function _e(et,tt,nt,at,ot){var it=$.call(this,et,tt,nt)||this;return it.type=at||"value",it.position=ot||"bottom",it}return _e.prototype.isHorizontal=function(){var et=this.position;return et==="top"||et==="bottom"},_e.prototype.pointToData=function(et,tt){return this.coordinateSystem.pointToData(et)[0]},_e}(Axis$1),SingleAxis$1=SingleAxis,singleDimensions=["single"],Single=function(){function $(_e,et,tt){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=_e,this._init(_e,et,tt)}return $.prototype._init=function(_e,et,tt){var nt=this.dimension,at=new SingleAxis$1(nt,createScaleByModel$1(_e),[0,0],_e.get("type"),_e.get("position")),ot=at.type==="category";at.onBand=ot&&_e.get("boundaryGap"),at.inverse=_e.get("inverse"),at.orient=_e.get("orient"),_e.axis=at,at.model=_e,at.coordinateSystem=this,this._axis=at},$.prototype.update=function(_e,et){_e.eachSeries(function(tt){if(tt.coordinateSystem===this){var nt=tt.getData();each$f(nt.mapDimensionsAll(this.dimension),function(at){this._axis.scale.unionExtentFromData(nt,at)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},$.prototype.resize=function(_e,et){this._rect=getLayoutRect({left:_e.get("left"),top:_e.get("top"),right:_e.get("right"),bottom:_e.get("bottom"),width:_e.get("width"),height:_e.get("height")},{width:et.getWidth(),height:et.getHeight()}),this._adjustAxis()},$.prototype.getRect=function(){return this._rect},$.prototype._adjustAxis=function(){var _e=this._rect,et=this._axis,tt=et.isHorizontal(),nt=tt?[0,_e.width]:[0,_e.height],at=et.reverse?1:0;et.setExtent(nt[at],nt[1-at]),this._updateAxisTransform(et,tt?_e.x:_e.y)},$.prototype._updateAxisTransform=function(_e,et){var tt=_e.getExtent(),nt=tt[0]+tt[1],at=_e.isHorizontal();_e.toGlobalCoord=at?function(ot){return ot+et}:function(ot){return nt-ot+et},_e.toLocalCoord=at?function(ot){return ot-et}:function(ot){return nt-ot+et}},$.prototype.getAxis=function(){return this._axis},$.prototype.getBaseAxis=function(){return this._axis},$.prototype.getAxes=function(){return[this._axis]},$.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},$.prototype.containPoint=function(_e){var et=this.getRect(),tt=this.getAxis(),nt=tt.orient;return nt==="horizontal"?tt.contain(tt.toLocalCoord(_e[0]))&&_e[1]>=et.y&&_e[1]<=et.y+et.height:tt.contain(tt.toLocalCoord(_e[1]))&&_e[0]>=et.y&&_e[0]<=et.y+et.height},$.prototype.pointToData=function(_e){var et=this.getAxis();return[et.coordToData(et.toLocalCoord(_e[et.orient==="horizontal"?0:1]))]},$.prototype.dataToPoint=function(_e){var et=this.getAxis(),tt=this.getRect(),nt=[],at=et.orient==="horizontal"?0:1;return _e instanceof Array&&(_e=_e[0]),nt[at]=et.toGlobalCoord(et.dataToCoord(+_e)),nt[1-at]=at===0?tt.y+tt.height/2:tt.x+tt.width/2,nt},$.prototype.convertToPixel=function(_e,et,tt){var nt=getCoordSys$1(et);return nt===this?this.dataToPoint(tt):null},$.prototype.convertFromPixel=function(_e,et,tt){var nt=getCoordSys$1(et);return nt===this?this.pointToData(tt):null},$}();function getCoordSys$1($){var _e=$.seriesModel,et=$.singleAxisModel;return et&&et.coordinateSystem||_e&&_e.coordinateSystem}function create($,_e){var et=[];return $.eachComponent("singleAxis",function(tt,nt){var at=new Single(tt,$,_e);at.name="single_"+nt,at.resize(tt,_e),tt.coordinateSystem=at,et.push(at)}),$.eachSeries(function(tt){if(tt.get("coordinateSystem")==="singleAxis"){var nt=tt.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];tt.coordinateSystem=nt&&nt.coordinateSystem}}),et}var singleCreator={create,dimensions:singleDimensions},singleCreator$1=singleCreator,XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.makeElOption=function(et,tt,nt,at,ot){var it=nt.axis,st=it.coordinateSystem,ut=getGlobalExtent(st,1-getPointDimIndex(it)),ft=st.dataToPoint(tt)[0],dt=at.get("type");if(dt&&dt!=="none"){var vt=buildElStyle(at),gt=pointerShapeBuilder[dt](it,ft,ut);gt.style=vt,et.graphicKey=gt.type,et.pointer=gt}var yt=layout$1(nt);buildCartesianSingleLabelElOption(tt,et,yt,nt,at,ot)},_e.prototype.getHandleTransform=function(et,tt,nt){var at=layout$1(tt,{labelInside:!1});at.labelMargin=nt.get(["handle","margin"]);var ot=getTransformedPosition(tt.axis,et,at);return{x:ot[0],y:ot[1],rotation:at.rotation+(at.labelDirection<0?Math.PI:0)}},_e.prototype.updateHandleTransform=function(et,tt,nt,at){var ot=nt.axis,it=ot.coordinateSystem,st=getPointDimIndex(ot),ut=getGlobalExtent(it,st),ft=[et.x,et.y];ft[st]+=tt[st],ft[st]=Math.min(ut[1],ft[st]),ft[st]=Math.max(ut[0],ft[st]);var dt=getGlobalExtent(it,1-st),vt=(dt[1]+dt[0])/2,gt=[vt,vt];return gt[st]=ft[st],{x:ft[0],y:ft[1],rotation:et.rotation,cursorPoint:gt,tooltipOption:{verticalAlign:"middle"}}},_e}(BaseAxisPointer$1),pointerShapeBuilder={line:function($,_e,et){var tt=makeLineShape([_e,et[0]],[_e,et[1]],getPointDimIndex($));return{type:"Line",subPixelOptimize:!0,shape:tt}},shadow:function($,_e,et){var tt=$.getBandWidth(),nt=et[1]-et[0];return{type:"Rect",shape:makeRectShape([_e-tt/2,et[0]],[tt,nt],getPointDimIndex($))}}};function getPointDimIndex($){return $.isHorizontal()?0:1}function getGlobalExtent($,_e){var et=$.getRect();return[et[XY$1[_e]],et[XY$1[_e]]+et[WH$1[_e]]]}var SingleAxisPointer$1=SingleAxisPointer,SingleView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="single",_e}(ComponentView$1);function install$n($){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),$.registerComponentView(SingleView),$.registerComponentView(SingleAxisView$1),$.registerComponentModel(SingleAxisModel$1),axisModelCreator($,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),$.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt,nt){var at=getLayoutParams(et);$.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(et,at)},_e.prototype.mergeOption=function(et){$.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,et)},_e.prototype.getCellSize=function(){return this.option.cellSize},_e.type="calendar",_e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},_e}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1($,_e){var et=$.cellSize,tt;isArray$1(et)?tt=et:tt=$.cellSize=[et,et],tt.length===1&&(tt[1]=tt[0]);var nt=map$1([0,1],function(at){return sizeCalculable(_e,at)&&(tt[at]="auto"),tt[at]!=null&&tt[at]!=="auto"});mergeLayoutParam($,_e,{type:"box",ignoreSize:nt})}var CalendarModel$1=CalendarModel,CalendarView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){var at=this.group;at.removeAll();var ot=et.coordinateSystem,it=ot.getRangeInfo(),st=ot.getOrient(),ut=tt.getLocaleModel();this._renderDayRect(et,it,at),this._renderLines(et,it,st,at),this._renderYearText(et,it,st,at),this._renderMonthText(et,ut,st,at),this._renderWeekText(et,ut,it,st,at)},_e.prototype._renderDayRect=function(et,tt,nt){for(var at=et.coordinateSystem,ot=et.getModel("itemStyle").getItemStyle(),it=at.getCellWidth(),st=at.getCellHeight(),ut=tt.start.time;ut<=tt.end.time;ut=at.getNextNDay(ut,1).time){var ft=at.dataToRect([ut],!1).tl,dt=new Rect$3({shape:{x:ft[0],y:ft[1],width:it,height:st},cursor:"default",style:ot});nt.add(dt)}},_e.prototype._renderLines=function(et,tt,nt,at){var ot=this,it=et.coordinateSystem,st=et.getModel(["splitLine","lineStyle"]).getLineStyle(),ut=et.get(["splitLine","show"]),ft=st.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var dt=tt.start,vt=0;dt.time<=tt.end.time;vt++){yt(dt.formatedDate),vt===0&&(dt=it.getDateInfo(tt.start.y+"-"+tt.start.m));var gt=dt.date;gt.setMonth(gt.getMonth()+1),dt=it.getDateInfo(gt)}yt(it.getNextNDay(tt.end.time,1).formatedDate);function yt(xt){ot._firstDayOfMonth.push(it.getDateInfo(xt)),ot._firstDayPoints.push(it.dataToRect([xt],!1).tl);var Ct=ot._getLinePointsOfOneWeek(et,xt,nt);ot._tlpoints.push(Ct[0]),ot._blpoints.push(Ct[Ct.length-1]),ut&&ot._drawSplitline(Ct,st,at)}ut&&this._drawSplitline(ot._getEdgesPoints(ot._tlpoints,ft,nt),st,at),ut&&this._drawSplitline(ot._getEdgesPoints(ot._blpoints,ft,nt),st,at)},_e.prototype._getEdgesPoints=function(et,tt,nt){var at=[et[0].slice(),et[et.length-1].slice()],ot=nt==="horizontal"?0:1;return at[0][ot]=at[0][ot]-tt/2,at[1][ot]=at[1][ot]+tt/2,at},_e.prototype._drawSplitline=function(et,tt,nt){var at=new Polyline$3({z2:20,shape:{points:et},style:tt});nt.add(at)},_e.prototype._getLinePointsOfOneWeek=function(et,tt,nt){for(var at=et.coordinateSystem,ot=at.getDateInfo(tt),it=[],st=0;st<7;st++){var ut=at.getNextNDay(ot.time,st),ft=at.dataToRect([ut.time],!1);it[2*ut.day]=ft.tl,it[2*ut.day+1]=ft[nt==="horizontal"?"bl":"tr"]}return it},_e.prototype._formatterLabel=function(et,tt){return isString(et)&&et?formatTplSimple(et,tt):isFunction(et)?et(tt):tt.nameMap},_e.prototype._yearTextPositionControl=function(et,tt,nt,at,ot){var it=tt[0],st=tt[1],ut=["center","bottom"];at==="bottom"?(st+=ot,ut=["center","top"]):at==="left"?it-=ot:at==="right"?(it+=ot,ut=["center","top"]):st-=ot;var ft=0;return(at==="left"||at==="right")&&(ft=Math.PI/2),{rotation:ft,x:it,y:st,style:{align:ut[0],verticalAlign:ut[1]}}},_e.prototype._renderYearText=function(et,tt,nt,at){var ot=et.getModel("yearLabel");if(!!ot.get("show")){var it=ot.get("margin"),st=ot.get("position");st||(st=nt!=="horizontal"?"top":"left");var ut=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],ft=(ut[0][0]+ut[1][0])/2,dt=(ut[0][1]+ut[1][1])/2,vt=nt==="horizontal"?0:1,gt={top:[ft,ut[vt][1]],bottom:[ft,ut[1-vt][1]],left:[ut[1-vt][0],dt],right:[ut[vt][0],dt]},yt=tt.start.y;+tt.end.y>+tt.start.y&&(yt=yt+"-"+tt.end.y);var xt=ot.get("formatter"),Ct={start:tt.start.y,end:tt.end.y,nameMap:yt},wt=this._formatterLabel(xt,Ct),Et=new ZRText$1({z2:30,style:createTextStyle(ot,{text:wt})});Et.attr(this._yearTextPositionControl(Et,gt[st],nt,st,it)),at.add(Et)}},_e.prototype._monthTextPositionControl=function(et,tt,nt,at,ot){var it="left",st="top",ut=et[0],ft=et[1];return nt==="horizontal"?(ft=ft+ot,tt&&(it="center"),at==="start"&&(st="bottom")):(ut=ut+ot,tt&&(st="middle"),at==="start"&&(it="right")),{x:ut,y:ft,align:it,verticalAlign:st}},_e.prototype._renderMonthText=function(et,tt,nt,at){var ot=et.getModel("monthLabel");if(!!ot.get("show")){var it=ot.get("nameMap"),st=ot.get("margin"),ut=ot.get("position"),ft=ot.get("align"),dt=[this._tlpoints,this._blpoints];(!it||isString(it))&&(it&&(tt=getLocaleModel(it)||tt),it=tt.get(["time","monthAbbr"])||[]);var vt=ut==="start"?0:1,gt=nt==="horizontal"?0:1;st=ut==="start"?-st:st;for(var yt=ft==="center",xt=0;xt<dt[vt].length-1;xt++){var Ct=dt[vt][xt].slice(),wt=this._firstDayOfMonth[xt];if(yt){var Et=this._firstDayPoints[xt];Ct[gt]=(Et[gt]+dt[0][xt+1][gt])/2}var $t=ot.get("formatter"),It=it[+wt.m-1],Ot={yyyy:wt.y,yy:(wt.y+"").slice(2),MM:wt.m,M:+wt.m,nameMap:It},Lt=this._formatterLabel($t,Ot),Ft=new ZRText$1({z2:30,style:extend(createTextStyle(ot,{text:Lt}),this._monthTextPositionControl(Ct,yt,nt,ut,st))});at.add(Ft)}}},_e.prototype._weekTextPositionControl=function(et,tt,nt,at,ot){var it="center",st="middle",ut=et[0],ft=et[1],dt=nt==="start";return tt==="horizontal"?(ut=ut+at+(dt?1:-1)*ot[0]/2,it=dt?"right":"left"):(ft=ft+at+(dt?1:-1)*ot[1]/2,st=dt?"bottom":"top"),{x:ut,y:ft,align:it,verticalAlign:st}},_e.prototype._renderWeekText=function(et,tt,nt,at,ot){var it=et.getModel("dayLabel");if(!!it.get("show")){var st=et.coordinateSystem,ut=it.get("position"),ft=it.get("nameMap"),dt=it.get("margin"),vt=st.getFirstDayOfWeek();if(!ft||isString(ft)){ft&&(tt=getLocaleModel(ft)||tt);var gt=tt.get(["time","dayOfWeekShort"]);ft=gt||map$1(tt.get(["time","dayOfWeekAbbr"]),function(Ot){return Ot[0]})}var yt=st.getNextNDay(nt.end.time,7-nt.lweek).time,xt=[st.getCellWidth(),st.getCellHeight()];dt=parsePercent(dt,Math.min(xt[1],xt[0])),ut==="start"&&(yt=st.getNextNDay(nt.start.time,-(7+nt.fweek)).time,dt=-dt);for(var Ct=0;Ct<7;Ct++){var wt=st.getNextNDay(yt,Ct),Et=st.dataToRect([wt.time],!1).center,$t=Ct;$t=Math.abs((Ct+vt)%7);var It=new ZRText$1({z2:30,style:extend(createTextStyle(it,{text:ft[$t]}),this._weekTextPositionControl(Et,at,ut,dt,xt))});ot.add(It)}}},_e.type="calendar",_e}(ComponentView$1),CalendarView$1=CalendarView,PROXIMATE_ONE_DAY=864e5,Calendar=function(){function $(_e,et,tt){this.type="calendar",this.dimensions=$.dimensions,this.getDimensionsInfo=$.getDimensionsInfo,this._model=_e}return $.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},$.prototype.getRangeInfo=function(){return this._rangeInfo},$.prototype.getModel=function(){return this._model},$.prototype.getRect=function(){return this._rect},$.prototype.getCellWidth=function(){return this._sw},$.prototype.getCellHeight=function(){return this._sh},$.prototype.getOrient=function(){return this._orient},$.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},$.prototype.getDateInfo=function(_e){_e=parseDate(_e);var et=_e.getFullYear(),tt=_e.getMonth()+1,nt=tt<10?"0"+tt:""+tt,at=_e.getDate(),ot=at<10?"0"+at:""+at,it=_e.getDay();return it=Math.abs((it+7-this.getFirstDayOfWeek())%7),{y:et+"",m:nt,d:ot,day:it,time:_e.getTime(),formatedDate:et+"-"+nt+"-"+ot,date:_e}},$.prototype.getNextNDay=function(_e,et){return et=et||0,et===0?this.getDateInfo(_e):(_e=new Date(this.getDateInfo(_e).time),_e.setDate(_e.getDate()+et),this.getDateInfo(_e))},$.prototype.update=function(_e,et){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var tt=this._rangeInfo.weeks||1,nt=["width","height"],at=this._model.getCellSize().slice(),ot=this._model.getBoxLayoutParams(),it=this._orient==="horizontal"?[tt,7]:[7,tt];each$f([0,1],function(dt){ft(at,dt)&&(ot[nt[dt]]=at[dt]*it[dt])});var st={width:et.getWidth(),height:et.getHeight()},ut=this._rect=getLayoutRect(ot,st);each$f([0,1],function(dt){ft(at,dt)||(at[dt]=ut[nt[dt]]/it[dt])});function ft(dt,vt){return dt[vt]!=null&&dt[vt]!=="auto"}this._sw=at[0],this._sh=at[1]},$.prototype.dataToPoint=function(_e,et){isArray$1(_e)&&(_e=_e[0]),et==null&&(et=!0);var tt=this.getDateInfo(_e),nt=this._rangeInfo,at=tt.formatedDate;if(et&&!(tt.time>=nt.start.time&&tt.time<nt.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var ot=tt.day,it=this._getRangeInfo([nt.start.time,at]).nthWeek;return this._orient==="vertical"?[this._rect.x+ot*this._sw+this._sw/2,this._rect.y+it*this._sh+this._sh/2]:[this._rect.x+it*this._sw+this._sw/2,this._rect.y+ot*this._sh+this._sh/2]},$.prototype.pointToData=function(_e){var et=this.pointToDate(_e);return et&&et.time},$.prototype.dataToRect=function(_e,et){var tt=this.dataToPoint(_e,et);return{contentShape:{x:tt[0]-(this._sw-this._lineWidth)/2,y:tt[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:tt,tl:[tt[0]-this._sw/2,tt[1]-this._sh/2],tr:[tt[0]+this._sw/2,tt[1]-this._sh/2],br:[tt[0]+this._sw/2,tt[1]+this._sh/2],bl:[tt[0]-this._sw/2,tt[1]+this._sh/2]}},$.prototype.pointToDate=function(_e){var et=Math.floor((_e[0]-this._rect.x)/this._sw)+1,tt=Math.floor((_e[1]-this._rect.y)/this._sh)+1,nt=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(tt,et-1,nt):this._getDateByWeeksAndDay(et,tt-1,nt)},$.prototype.convertToPixel=function(_e,et,tt){var nt=getCoordSys(et);return nt===this?nt.dataToPoint(tt):null},$.prototype.convertFromPixel=function(_e,et,tt){var nt=getCoordSys(et);return nt===this?nt.pointToData(tt):null},$.prototype.containPoint=function(_e){return console.warn("Not implemented."),!1},$.prototype._initRangeOption=function(){var _e=this._model.get("range"),et;if(isArray$1(_e)&&_e.length===1&&(_e=_e[0]),isArray$1(_e))et=_e;else{var tt=_e.toString();if(/^\d{4}$/.test(tt)&&(et=[tt+"-01-01",tt+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(tt)){var nt=this.getDateInfo(tt),at=nt.date;at.setMonth(at.getMonth()+1);var ot=this.getNextNDay(at,-1);et=[nt.formatedDate,ot.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(tt)&&(et=[tt,tt])}if(!et)return _e;var it=this._getRangeInfo(et);return it.start.time>it.end.time&&et.reverse(),et},$.prototype._getRangeInfo=function(_e){var et=[this.getDateInfo(_e[0]),this.getDateInfo(_e[1])],tt;et[0].time>et[1].time&&(tt=!0,et.reverse());var nt=Math.floor(et[1].time/PROXIMATE_ONE_DAY)-Math.floor(et[0].time/PROXIMATE_ONE_DAY)+1,at=new Date(et[0].time),ot=at.getDate(),it=et[1].date.getDate();at.setDate(ot+nt-1);var st=at.getDate();if(st!==it)for(var ut=at.getTime()-et[1].time>0?1:-1;(st=at.getDate())!==it&&(at.getTime()-et[1].time)*ut>0;)nt-=ut,at.setDate(st-ut);var ft=Math.floor((nt+et[0].day+6)/7),dt=tt?-ft+1:ft-1;return tt&&et.reverse(),{range:[et[0].formatedDate,et[1].formatedDate],start:et[0],end:et[1],allDay:nt,weeks:ft,nthWeek:dt,fweek:et[0].day,lweek:et[1].day}},$.prototype._getDateByWeeksAndDay=function(_e,et,tt){var nt=this._getRangeInfo(tt);if(_e>nt.weeks||_e===0&&et<nt.fweek||_e===nt.weeks&&et>nt.lweek)return null;var at=(_e-1)*7-nt.fweek+et,ot=new Date(nt.start.time);return ot.setDate(+nt.start.d+at),this.getDateInfo(ot)},$.create=function(_e,et){var tt=[];return _e.eachComponent("calendar",function(nt){var at=new $(nt);tt.push(at),nt.coordinateSystem=at}),_e.eachSeries(function(nt){nt.get("coordinateSystem")==="calendar"&&(nt.coordinateSystem=tt[nt.get("calendarIndex")||0])}),tt},$.dimensions=["time","value"],$}();function getCoordSys($){var _e=$.calendarModel,et=$.seriesModel,tt=_e?_e.coordinateSystem:et?et.coordinateSystem:null;return tt}var Calendar$1=Calendar;function install$m($){$.registerComponentModel(CalendarModel$1),$.registerComponentView(CalendarView$1),$.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption($,_e){var et=$.existing;if(_e.id=$.keyInfo.id,!_e.type&&et&&(_e.type=et.type),_e.parentId==null){var tt=_e.parentOption;tt?_e.parentId=tt.id:et&&(_e.parentId=et.parentId)}_e.parentOption=null}function isSetLoc($,_e){var et;return each$f(_e,function(tt){$[tt]!=null&&$[tt]!=="auto"&&(et=!0)}),et}function mergeNewElOptionToExist($,_e,et){var tt=extend({},et),nt=$[_e],at=et.$action||"merge";at==="merge"?nt?(merge(nt,tt,!0),mergeLayoutParam(nt,tt,{ignoreSize:!0}),copyLayoutParams(et,nt),copyTransitionInfo(et,nt),copyTransitionInfo(et,nt,"shape"),copyTransitionInfo(et,nt,"style"),copyTransitionInfo(et,nt,"extra"),et.clipPath=nt.clipPath):$[_e]=tt:at==="replace"?$[_e]=tt:at==="remove"&&nt&&($[_e]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo($,_e,et){if(et&&(!$[et]&&_e[et]&&($[et]={}),$=$[et],_e=_e[et]),!(!$||!_e))for(var tt=et?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,nt=0;nt<tt.length;nt++){var at=tt[nt];$[at]==null&&_e[at]!=null&&($[at]=_e[at])}}function setLayoutInfoToExist($,_e){if(!!$&&($.hv=_e.hv=[isSetLoc(_e,["left","right"]),isSetLoc(_e,["top","bottom"])],$.type==="group")){var et=$,tt=_e;et.width==null&&(et.width=tt.width=0),et.height==null&&(et.height=tt.height=0)}}var GraphicComponentModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.preventAutoZ=!0,et}return _e.prototype.mergeOption=function(et,tt){var nt=this.option.elements;this.option.elements=null,$.prototype.mergeOption.call(this,et,tt),this.option.elements=nt},_e.prototype.optionUpdated=function(et,tt){var nt=this.option,at=(tt?nt:et).elements,ot=nt.elements=tt?[]:nt.elements,it=[];this._flatten(at,it,null);var st=mappingToExists(ot,it,"normalMerge"),ut=this._elOptionsToUpdate=[];each$f(st,function(ft,dt){var vt=ft.newOption;!vt||(ut.push(vt),setKeyInfoToNewElOption(ft,vt),mergeNewElOptionToExist(ot,dt,vt),setLayoutInfoToExist(ot[dt],vt))},this),nt.elements=filter(ot,function(ft){return ft&&delete ft.$action,ft!=null})},_e.prototype._flatten=function(et,tt,nt){each$f(et,function(at){if(!!at){nt&&(at.parentOption=nt),tt.push(at);var ot=at.children;ot&&ot.length&&this._flatten(ot,tt,at),delete at.children}},this)},_e.prototype.useElOptionsToUpdate=function(){var et=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,et},_e.type="graphic",_e.defaultOption={elements:[]},_e}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(){this._elMap=createHashMap()},_e.prototype.render=function(et,tt,nt){et!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=et,this._updateElements(et),this._relocate(et,nt)},_e.prototype._updateElements=function(et){var tt=et.useElOptionsToUpdate();if(!!tt){var nt=this._elMap,at=this.group,ot=et.get("z"),it=et.get("zlevel");each$f(tt,function(st){var ut=convertOptionIdName(st.id,null),ft=ut!=null?nt.get(ut):null,dt=convertOptionIdName(st.parentId,null),vt=dt!=null?nt.get(dt):at,gt=st.type,yt=st.style;gt==="text"&&yt&&st.hv&&st.hv[1]&&(yt.textVerticalAlign=yt.textBaseline=yt.verticalAlign=yt.align=null);var xt=st.textContent,Ct=st.textConfig;if(yt&&isEC4CompatibleStyle(yt,gt,!!Ct,!!xt)){var wt=convertFromEC4CompatibleStyle(yt,gt,!0);!Ct&&wt.textConfig&&(Ct=st.textConfig=wt.textConfig),!xt&&wt.textContent&&(xt=wt.textContent)}var Et=getCleanedElOption(st),$t=st.$action||"merge",It=$t==="merge",Ot=$t==="replace";if(It){var Lt=!ft,Ft=ft;Lt?Ft=createEl(ut,vt,st.type,nt):(Ft&&(inner$7(Ft).isNew=!1),stopPreviousKeyframeAnimationAndRestore(Ft)),Ft&&(applyUpdateTransition(Ft,Et,et,{isInit:Lt}),updateCommonAttrs(Ft,st,ot,it))}else if(Ot){removeEl$1(ft,st,nt,et);var zt=createEl(ut,vt,st.type,nt);zt&&(applyUpdateTransition(zt,Et,et,{isInit:!0}),updateCommonAttrs(zt,st,ot,it))}else $t==="remove"&&(updateLeaveTo(ft,st),removeEl$1(ft,st,nt,et));var Gt=nt.get(ut);if(Gt&&xt)if(It){var jt=Gt.getTextContent();jt?jt.attr(xt):Gt.setTextContent(new ZRText$1(xt))}else Ot&&Gt.setTextContent(new ZRText$1(xt));if(Gt){var Ut=st.clipPath;if(Ut){var Kt=Ut.type,Zt=void 0,Lt=!1;if(It){var Qt=Gt.getClipPath();Lt=!Qt||inner$7(Qt).type!==Kt,Zt=Lt?newEl(Kt):Qt}else Ot&&(Lt=!0,Zt=newEl(Kt));Gt.setClipPath(Zt),applyUpdateTransition(Zt,Ut,et,{isInit:Lt}),applyKeyframeAnimation(Zt,Ut.keyframeAnimation,et)}var rr=inner$7(Gt);Gt.setTextConfig(Ct),rr.option=st,setEventData(Gt,et,st),setTooltipConfig({el:Gt,componentModel:et,itemName:Gt.name,itemTooltipOption:st.tooltip}),applyKeyframeAnimation(Gt,st.keyframeAnimation,et)}})}},_e.prototype._relocate=function(et,tt){for(var nt=et.option.elements,at=this.group,ot=this._elMap,it=tt.getWidth(),st=tt.getHeight(),ut=["x","y"],ft=0;ft<nt.length;ft++){var dt=nt[ft],vt=convertOptionIdName(dt.id,null),gt=vt!=null?ot.get(vt):null;if(!(!gt||!gt.isGroup)){var yt=gt.parent,xt=yt===at,Ct=inner$7(gt),wt=inner$7(yt);Ct.width=parsePercent(Ct.option.width,xt?it:wt.width)||0,Ct.height=parsePercent(Ct.option.height,xt?st:wt.height)||0}}for(var ft=nt.length-1;ft>=0;ft--){var dt=nt[ft],vt=convertOptionIdName(dt.id,null),gt=vt!=null?ot.get(vt):null;if(!!gt){var yt=gt.parent,wt=inner$7(yt),Et=yt===at?{width:it,height:st}:{width:wt.width,height:wt.height},$t={},It=positionElement(gt,dt,Et,null,{hv:dt.hv,boundingMode:dt.bounding},$t);if(!inner$7(gt).isNew&&It){for(var Ot=dt.transition,Lt={},Ft=0;Ft<ut.length;Ft++){var zt=ut[Ft],Gt=$t[zt];Ot&&(isTransitionAll(Ot)||indexOf(Ot,zt)>=0)?Lt[zt]=Gt:gt[zt]=Gt}updateProps$1(gt,Lt,et,0)}else gt.attr($t)}}},_e.prototype._clear=function(){var et=this,tt=this._elMap;tt.each(function(nt){removeEl$1(nt,inner$7(nt).option,tt,et._lastGraphicModel)}),this._elMap=createHashMap()},_e.prototype.dispose=function(){this._clear()},_e.type="graphic",_e}(ComponentView$1);function newEl($){var _e=hasOwn(nonShapeGraphicElements,$)?nonShapeGraphicElements[$]:getShapeClass($),et=new _e({});return inner$7(et).type=$,et}function createEl($,_e,et,tt){var nt=newEl(et);return _e.add(nt),tt.set($,nt),inner$7(nt).id=$,inner$7(nt).isNew=!0,nt}function removeEl$1($,_e,et,tt){var nt=$&&$.parent;nt&&($.type==="group"&&$.traverse(function(at){removeEl$1(at,_e,et,tt)}),applyLeaveTransition($,_e,tt),et.removeKey(inner$7($).id))}function updateCommonAttrs($,_e,et,tt){$.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",tt||0],["z",et||0],["z2",0]],function(nt){var at=nt[0];hasOwn(_e,at)?$[at]=retrieve2(_e[at],nt[1]):$[at]==null&&($[at]=nt[1])}),each$f(keys(_e),function(nt){if(nt.indexOf("on")===0){var at=_e[nt];$[nt]=isFunction(at)?at:null}}),hasOwn(_e,"draggable")&&($.draggable=_e.draggable),_e.name!=null&&($.name=_e.name),_e.id!=null&&($.id=_e.id)}function getCleanedElOption($){return $=extend({},$),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(_e){delete $[_e]}),$}function setEventData($,_e,et){var tt=getECData($).eventData;!$.silent&&!$.ignore&&!tt&&(tt=getECData($).eventData={componentType:"graphic",componentIndex:_e.componentIndex,name:$.name}),tt&&(tt.info=et.info)}function install$l($){$.registerComponentModel(GraphicComponentModel),$.registerComponentView(GraphicComponentView),$.registerPreprocessor(function(_e){var et=_e.graphic;isArray$1(et)?!et[0]||!et[0].elements?_e.graphic=[{elements:et}]:_e.graphic=[_e.graphic[0]]:et&&!et.elements&&(_e.graphic=[{elements:[et]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported($){var _e=$.get("coordinateSystem");return indexOf(SERIES_COORDS,_e)>=0}function getAxisMainType($){return $+"Axis"}function findEffectedDataZooms($,_e){var et=createHashMap(),tt=[],nt=createHashMap();$.eachComponent({mainType:"dataZoom",query:_e},function(ft){nt.get(ft.uid)||it(ft)});var at;do at=!1,$.eachComponent("dataZoom",ot);while(at);function ot(ft){!nt.get(ft.uid)&&st(ft)&&(it(ft),at=!0)}function it(ft){nt.set(ft.uid,!0),tt.push(ft),ut(ft)}function st(ft){var dt=!1;return ft.eachTargetAxis(function(vt,gt){var yt=et.get(vt);yt&&yt[gt]&&(dt=!0)}),dt}function ut(ft){ft.eachTargetAxis(function(dt,vt){(et.get(dt)||et.set(dt,[]))[vt]=!0})}return tt}function collectReferCoordSysModelInfo($){var _e=$.ecModel,et={infoList:[],infoMap:createHashMap()};return $.eachTargetAxis(function(tt,nt){var at=_e.getComponent(getAxisMainType(tt),nt);if(!!at){var ot=at.getCoordSysModel();if(!!ot){var it=ot.uid,st=et.infoMap.get(it);st||(st={model:ot,axisModels:[]},et.infoList.push(st),et.infoMap.set(it,st)),st.axisModels.push(at)}}}),et}var DataZoomAxisInfo=function(){function $(){this.indexList=[],this.indexMap=[]}return $.prototype.add=function(_e){this.indexMap[_e]||(this.indexList.push(_e),this.indexMap[_e]=!0)},$}(),DataZoomModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._autoThrottle=!0,et._noTarget=!0,et._rangePropMode=["percent","percent"],et}return _e.prototype.init=function(et,tt,nt){var at=retrieveRawOption(et);this.settledOption=at,this.mergeDefaultAndTheme(et,nt),this._doInit(at)},_e.prototype.mergeOption=function(et){var tt=retrieveRawOption(et);merge(this.option,et,!0),merge(this.settledOption,tt,!0),this._doInit(tt)},_e.prototype._doInit=function(et){var tt=this.option;this._setDefaultThrottle(et),this._updateRangeUse(et);var nt=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(at,ot){this._rangePropMode[ot]==="value"&&(tt[at[0]]=nt[at[0]]=null)},this),this._resetTarget()},_e.prototype._resetTarget=function(){var et=this.get("orient",!0),tt=this._targetAxisInfoMap=createHashMap(),nt=this._fillSpecifiedTargetAxis(tt);nt?this._orient=et||this._makeAutoOrientByTargetAxis():(this._orient=et||"horizontal",this._fillAutoTargetAxisByOrient(tt,this._orient)),this._noTarget=!0,tt.each(function(at){at.indexList.length&&(this._noTarget=!1)},this)},_e.prototype._fillSpecifiedTargetAxis=function(et){var tt=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(nt){var at=this.getReferringComponents(getAxisMainType(nt),MULTIPLE_REFERRING);if(!!at.specified){tt=!0;var ot=new DataZoomAxisInfo;each$f(at.models,function(it){ot.add(it.componentIndex)}),et.set(nt,ot)}},this),tt},_e.prototype._fillAutoTargetAxisByOrient=function(et,tt){var nt=this.ecModel,at=!0;if(at){var ot=tt==="vertical"?"y":"x",it=nt.findComponents({mainType:ot+"Axis"});st(it,ot)}if(at){var it=nt.findComponents({mainType:"singleAxis",filter:function(ft){return ft.get("orient",!0)===tt}});st(it,"single")}function st(ut,ft){var dt=ut[0];if(!!dt){var vt=new DataZoomAxisInfo;if(vt.add(dt.componentIndex),et.set(ft,vt),at=!1,ft==="x"||ft==="y"){var gt=dt.getReferringComponents("grid",SINGLE_REFERRING).models[0];gt&&each$f(ut,function(yt){dt.componentIndex!==yt.componentIndex&&gt===yt.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&vt.add(yt.componentIndex)})}}}at&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(ut){if(!!at){var ft=nt.findComponents({mainType:getAxisMainType(ut),filter:function(vt){return vt.get("type",!0)==="category"}});if(ft[0]){var dt=new DataZoomAxisInfo;dt.add(ft[0].componentIndex),et.set(ut,dt),at=!1}}},this)},_e.prototype._makeAutoOrientByTargetAxis=function(){var et;return this.eachTargetAxis(function(tt){!et&&(et=tt)},this),et==="y"?"vertical":"horizontal"},_e.prototype._setDefaultThrottle=function(et){if(et.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var tt=this.ecModel.option;this.option.throttle=tt.animation&&tt.animationDurationUpdate>0?100:20}},_e.prototype._updateRangeUse=function(et){var tt=this._rangePropMode,nt=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(at,ot){var it=et[at[0]]!=null,st=et[at[1]]!=null;it&&!st?tt[ot]="percent":!it&&st?tt[ot]="value":nt?tt[ot]=nt[ot]:it&&(tt[ot]="percent")})},_e.prototype.noTarget=function(){return this._noTarget},_e.prototype.getFirstTargetAxisModel=function(){var et;return this.eachTargetAxis(function(tt,nt){et==null&&(et=this.ecModel.getComponent(getAxisMainType(tt),nt))},this),et},_e.prototype.eachTargetAxis=function(et,tt){this._targetAxisInfoMap.each(function(nt,at){each$f(nt.indexList,function(ot){et.call(tt,at,ot)})})},_e.prototype.getAxisProxy=function(et,tt){var nt=this.getAxisModel(et,tt);if(nt)return nt.__dzAxisProxy},_e.prototype.getAxisModel=function(et,tt){var nt=this._targetAxisInfoMap.get(et);if(nt&&nt.indexMap[tt])return this.ecModel.getComponent(getAxisMainType(et),tt)},_e.prototype.setRawRange=function(et){var tt=this.option,nt=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(at){(et[at[0]]!=null||et[at[1]]!=null)&&(tt[at[0]]=nt[at[0]]=et[at[0]],tt[at[1]]=nt[at[1]]=et[at[1]])},this),this._updateRangeUse(et)},_e.prototype.setCalculatedRange=function(et){var tt=this.option;each$f(["start","startValue","end","endValue"],function(nt){tt[nt]=et[nt]})},_e.prototype.getPercentRange=function(){var et=this.findRepresentativeAxisProxy();if(et)return et.getDataPercentWindow()},_e.prototype.getValueRange=function(et,tt){if(et==null&&tt==null){var nt=this.findRepresentativeAxisProxy();if(nt)return nt.getDataValueWindow()}else return this.getAxisProxy(et,tt).getDataValueWindow()},_e.prototype.findRepresentativeAxisProxy=function(et){if(et)return et.__dzAxisProxy;for(var tt,nt=this._targetAxisInfoMap.keys(),at=0;at<nt.length;at++)for(var ot=nt[at],it=this._targetAxisInfoMap.get(ot),st=0;st<it.indexList.length;st++){var ut=this.getAxisProxy(ot,it.indexList[st]);if(ut.hostedBy(this))return ut;tt||(tt=ut)}return tt},_e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},_e.prototype.getOrient=function(){return this._orient},_e.type="dataZoom",_e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],_e.defaultOption={z:4,filterMode:"filter",start:0,end:100},_e}(ComponentModel$1);function retrieveRawOption($){var _e={};return each$f(["start","end","startValue","endValue","throttle"],function(et){$.hasOwnProperty(et)&&(_e[et]=$[et])}),_e}var DataZoomModel$1=DataZoomModel,SelectDataZoomModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="dataZoom.select",_e}(DataZoomModel$1),SelectZoomModel=SelectDataZoomModel,DataZoomView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt,at){this.dataZoomModel=et,this.ecModel=tt,this.api=nt},_e.type="dataZoom",_e}(ComponentView$1),DataZoomView$1=DataZoomView,SelectDataZoomView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="dataZoom.select",_e}(DataZoomView$1),SelectZoomView=SelectDataZoomView,each$7=each$f,asc$1=asc$2,AxisProxy=function(){function $(_e,et,tt,nt){this._dimName=_e,this._axisIndex=et,this.ecModel=nt,this._dataZoomModel=tt}return $.prototype.hostedBy=function(_e){return this._dataZoomModel===_e},$.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},$.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},$.prototype.getTargetSeriesModels=function(){var _e=[];return this.ecModel.eachSeries(function(et){if(isCoordSupported(et)){var tt=getAxisMainType(this._dimName),nt=et.getReferringComponents(tt,SINGLE_REFERRING).models[0];nt&&this._axisIndex===nt.componentIndex&&_e.push(et)}},this),_e},$.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},$.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},$.prototype.calculateDataWindow=function(_e){var et=this._dataExtent,tt=this.getAxisModel(),nt=tt.axis.scale,at=this._dataZoomModel.getRangePropMode(),ot=[0,100],it=[],st=[],ut;each$7(["start","end"],function(vt,gt){var yt=_e[vt],xt=_e[vt+"Value"];at[gt]==="percent"?(yt==null&&(yt=ot[gt]),xt=nt.parse(linearMap$2(yt,ot,et))):(ut=!0,xt=xt==null?et[gt]:nt.parse(xt),yt=linearMap$2(xt,et,ot)),st[gt]=xt,it[gt]=yt}),asc$1(st),asc$1(it);var ft=this._minMaxSpan;ut?dt(st,it,et,ot,!1):dt(it,st,ot,et,!0);function dt(vt,gt,yt,xt,Ct){var wt=Ct?"Span":"ValueSpan";sliderMove(0,vt,yt,"all",ft["min"+wt],ft["max"+wt]);for(var Et=0;Et<2;Et++)gt[Et]=linearMap$2(vt[Et],yt,xt,!0),Ct&&(gt[Et]=nt.parse(gt[Et]))}return{valueWindow:st,percentWindow:it}},$.prototype.reset=function(_e){if(_e===this._dataZoomModel){var et=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,et),this._updateMinMaxSpan();var tt=this.calculateDataWindow(_e.settledOption);this._valueWindow=tt.valueWindow,this._percentWindow=tt.percentWindow,this._setAxisModel()}},$.prototype.filterData=function(_e,et){if(_e!==this._dataZoomModel)return;var tt=this._dimName,nt=this.getTargetSeriesModels(),at=_e.get("filterMode"),ot=this._valueWindow;if(at==="none")return;each$7(nt,function(st){var ut=st.getData(),ft=ut.mapDimensionsAll(tt);if(!!ft.length){if(at==="weakFilter"){var dt=ut.getStore(),vt=map$1(ft,function(gt){return ut.getDimensionIndex(gt)},ut);ut.filterSelf(function(gt){for(var yt,xt,Ct,wt=0;wt<ft.length;wt++){var Et=dt.get(vt[wt],gt),$t=!isNaN(Et),It=Et<ot[0],Ot=Et>ot[1];if($t&&!It&&!Ot)return!0;$t&&(Ct=!0),It&&(yt=!0),Ot&&(xt=!0)}return Ct&&yt&&xt})}else each$7(ft,function(gt){if(at==="empty")st.setData(ut=ut.map(gt,function(xt){return it(xt)?xt:NaN}));else{var yt={};yt[gt]=ot,ut.selectRange(yt)}});each$7(ft,function(gt){ut.setApproximateExtent(ot,gt)})}});function it(st){return st>=ot[0]&&st<=ot[1]}},$.prototype._updateMinMaxSpan=function(){var _e=this._minMaxSpan={},et=this._dataZoomModel,tt=this._dataExtent;each$7(["min","max"],function(nt){var at=et.get(nt+"Span"),ot=et.get(nt+"ValueSpan");ot!=null&&(ot=this.getAxisModel().axis.scale.parse(ot)),ot!=null?at=linearMap$2(tt[0]+ot,tt,[0,100],!0):at!=null&&(ot=linearMap$2(at,[0,100],tt,!0)-tt[0]),_e[nt+"Span"]=at,_e[nt+"ValueSpan"]=ot},this)},$.prototype._setAxisModel=function(){var _e=this.getAxisModel(),et=this._percentWindow,tt=this._valueWindow;if(!!et){var nt=getPixelPrecision(tt,[0,500]);nt=Math.min(nt,20);var at=_e.axis.scale.rawExtentInfo;et[0]!==0&&at.setDeterminedMinMax("min",+tt[0].toFixed(nt)),et[1]!==100&&at.setDeterminedMinMax("max",+tt[1].toFixed(nt)),at.freeze()}},$}();function calculateDataExtent($,_e,et){var tt=[1/0,-1/0];each$7(et,function(ot){unionAxisExtentFromData(tt,ot.getData(),_e)});var nt=$.getAxisModel(),at=ensureScaleRawExtentInfo(nt.axis.scale,nt,tt).calculate();return[at.min,at.max]}var AxisProxy$1=AxisProxy,dataZoomProcessor={getTargetSeries:function($){function _e(nt){$.eachComponent("dataZoom",function(at){at.eachTargetAxis(function(ot,it){var st=$.getComponent(getAxisMainType(ot),it);nt(ot,it,st,at)})})}_e(function(nt,at,ot,it){ot.__dzAxisProxy=null});var et=[];_e(function(nt,at,ot,it){ot.__dzAxisProxy||(ot.__dzAxisProxy=new AxisProxy$1(nt,at,it,$),et.push(ot.__dzAxisProxy))});var tt=createHashMap();return each$f(et,function(nt){each$f(nt.getTargetSeriesModels(),function(at){tt.set(at.uid,at)})}),tt},overallReset:function($,_e){$.eachComponent("dataZoom",function(et){et.eachTargetAxis(function(tt,nt){et.getAxisProxy(tt,nt).reset(et)}),et.eachTargetAxis(function(tt,nt){et.getAxisProxy(tt,nt).filterData(et,_e)})}),$.eachComponent("dataZoom",function(et){var tt=et.findRepresentativeAxisProxy();if(tt){var nt=tt.getDataPercentWindow(),at=tt.getDataValueWindow();et.setCalculatedRange({start:nt[0],end:nt[1],startValue:at[0],endValue:at[1]})}})}},dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction($){$.registerAction("dataZoom",function(_e,et){var tt=findEffectedDataZooms(et,_e);each$f(tt,function(nt){nt.setRawRange({start:_e.start,end:_e.end,startValue:_e.startValue,endValue:_e.endValue})})})}var installed$1=!1;function installCommon$1($){installed$1||(installed$1=!0,$.registerProcessor($.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction($),$.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k($){$.registerComponentModel(SelectZoomModel),$.registerComponentView(SelectZoomView),installCommon$1($)}var ToolboxFeature=function(){function $(){}return $}(),features={};function registerFeature($,_e){features[$]=_e}function getFeature($){return features[$]}var ToolboxModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.optionUpdated=function(){$.prototype.optionUpdated.apply(this,arguments);var et=this.ecModel;each$f(this.option.feature,function(tt,nt){var at=getFeature(nt);at&&(at.getDefaultOption&&(at.defaultOption=at.getDefaultOption(et)),merge(tt,at.defaultOption))})},_e.type="toolbox",_e.layoutMode={type:"box",ignoreSize:!0},_e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},_e}(ComponentModel$1),ToolboxModel$1=ToolboxModel;function layout($,_e,et){var tt=_e.getBoxLayoutParams(),nt=_e.get("padding"),at={width:et.getWidth(),height:et.getHeight()},ot=getLayoutRect(tt,at,nt);box(_e.get("orient"),$,_e.get("itemGap"),ot.width,ot.height),positionElement($,tt,at,nt)}function makeBackground($,_e){var et=normalizeCssArray(_e.get("padding")),tt=_e.getItemStyle(["color","opacity"]);return tt.fill=_e.get("backgroundColor"),$=new Rect$3({shape:{x:$.x-et[3],y:$.y-et[0],width:$.width+et[1]+et[3],height:$.height+et[0]+et[2],r:_e.get("borderRadius")},style:tt,silent:!0,z2:-1}),$}var ToolboxView=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.render=function(et,tt,nt,at){var ot=this.group;if(ot.removeAll(),!et.get("show"))return;var it=+et.get("itemSize"),st=et.get("orient")==="vertical",ut=et.get("feature")||{},ft=this._features||(this._features={}),dt=[];each$f(ut,function(yt,xt){dt.push(xt)}),new DataDiffer$1(this._featureNames||[],dt).add(vt).update(vt).remove(curry$1(vt,null)).execute(),this._featureNames=dt;function vt(yt,xt){var Ct=dt[yt],wt=dt[xt],Et=ut[Ct],$t=new Model$1(Et,et,et.ecModel),It;if(at&&at.newTitle!=null&&at.featureName===Ct&&(Et.title=at.newTitle),Ct&&!wt){if(isUserFeatureName(Ct))It={onclick:$t.option.onclick,featureName:Ct};else{var Ot=getFeature(Ct);if(!Ot)return;It=new Ot}ft[Ct]=It}else if(It=ft[wt],!It)return;It.uid=getUID("toolbox-feature"),It.model=$t,It.ecModel=tt,It.api=nt;var Lt=It instanceof ToolboxFeature;if(!Ct&&wt){Lt&&It.dispose&&It.dispose(tt,nt);return}if(!$t.get("show")||Lt&&It.unusable){Lt&&It.remove&&It.remove(tt,nt);return}gt($t,It,Ct),$t.setIconStatus=function(Ft,zt){var Gt=this.option,jt=this.iconPaths;Gt.iconStatus=Gt.iconStatus||{},Gt.iconStatus[Ft]=zt,jt[Ft]&&(zt==="emphasis"?enterEmphasis:leaveEmphasis)(jt[Ft])},It instanceof ToolboxFeature&&It.render&&It.render($t,tt,nt,at)}function gt(yt,xt,Ct){var wt=yt.getModel("iconStyle"),Et=yt.getModel(["emphasis","iconStyle"]),$t=xt instanceof ToolboxFeature&&xt.getIcons?xt.getIcons():yt.get("icon"),It=yt.get("title")||{},Ot,Lt;isString($t)?(Ot={},Ot[Ct]=$t):Ot=$t,isString(It)?(Lt={},Lt[Ct]=It):Lt=It;var Ft=yt.iconPaths={};each$f(Ot,function(zt,Gt){var jt=createIcon(zt,{},{x:-it/2,y:-it/2,width:it,height:it});jt.setStyle(wt.getItemStyle());var Ut=jt.ensureState("emphasis");Ut.style=Et.getItemStyle();var Kt=new ZRText$1({style:{text:Lt[Gt],align:Et.get("textAlign"),borderRadius:Et.get("textBorderRadius"),padding:Et.get("textPadding"),fill:null},ignore:!0});jt.setTextContent(Kt),setTooltipConfig({el:jt,componentModel:et,itemName:Gt,formatterParamsExtra:{title:Lt[Gt]}}),jt.__title=Lt[Gt],jt.on("mouseover",function(){var Zt=Et.getItemStyle(),Qt=st?et.get("right")==null&&et.get("left")!=="right"?"right":"left":et.get("bottom")==null&&et.get("top")!=="bottom"?"bottom":"top";Kt.setStyle({fill:Et.get("textFill")||Zt.fill||Zt.stroke||"#000",backgroundColor:Et.get("textBackgroundColor")}),jt.setTextConfig({position:Et.get("textPosition")||Qt}),Kt.ignore=!et.get("showTitle"),nt.enterEmphasis(this)}).on("mouseout",function(){yt.get(["iconStatus",Gt])!=="emphasis"&&nt.leaveEmphasis(this),Kt.hide()}),(yt.get(["iconStatus",Gt])==="emphasis"?enterEmphasis:leaveEmphasis)(jt),ot.add(jt),jt.on("click",bind$1(xt.onclick,xt,tt,nt,Gt)),Ft[Gt]=jt})}layout(ot,et,nt),ot.add(makeBackground(ot.getBoundingRect(),et)),st||ot.eachChild(function(yt){var xt=yt.__title,Ct=yt.ensureState("emphasis"),wt=Ct.textConfig||(Ct.textConfig={}),Et=yt.getTextContent(),$t=Et&&Et.ensureState("emphasis");if($t&&!isFunction($t)&&xt){var It=$t.style||($t.style={}),Ot=getBoundingRect(xt,ZRText$1.makeFont(It)),Lt=yt.x+ot.x,Ft=yt.y+ot.y+it,zt=!1;Ft+Ot.height>nt.getHeight()&&(wt.position="top",zt=!0);var Gt=zt?-5-Ot.height:it+10;Lt+Ot.width/2>nt.getWidth()?(wt.position=["100%",Gt],It.align="right"):Lt-Ot.width/2<0&&(wt.position=[0,Gt],It.align="left")}})},_e.prototype.updateView=function(et,tt,nt,at){each$f(this._features,function(ot){ot instanceof ToolboxFeature&&ot.updateView&&ot.updateView(ot.model,tt,nt,at)})},_e.prototype.remove=function(et,tt){each$f(this._features,function(nt){nt instanceof ToolboxFeature&&nt.remove&&nt.remove(et,tt)}),this.group.removeAll()},_e.prototype.dispose=function(et,tt){each$f(this._features,function(nt){nt instanceof ToolboxFeature&&nt.dispose&&nt.dispose(et,tt)})},_e.type="toolbox",_e}(ComponentView$1);function isUserFeatureName($){return $.indexOf("my")===0}var ToolboxView$1=ToolboxView,SaveAsImage=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.onclick=function(et,tt){var nt=this.model,at=nt.get("name")||et.get("title.0.text")||"echarts",ot=tt.getZr().painter.getType()==="svg",it=ot?"svg":nt.get("type",!0)||"png",st=tt.getConnectedDataURL({type:it,backgroundColor:nt.get("backgroundColor",!0)||et.get("backgroundColor")||"#fff",connectedBackgroundColor:nt.get("connectedBackgroundColor"),excludeComponents:nt.get("excludeComponents"),pixelRatio:nt.get("pixelRatio")}),ut=env$1.browser;if(isFunction(MouseEvent)&&(ut.newEdge||!ut.ie&&!ut.edge)){var ft=document.createElement("a");ft.download=at+"."+it,ft.target="_blank",ft.href=st;var dt=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});ft.dispatchEvent(dt)}else if(window.navigator.msSaveOrOpenBlob||ot){var vt=st.split(","),gt=vt[0].indexOf("base64")>-1,yt=ot?decodeURIComponent(vt[1]):vt[1];gt&&(yt=window.atob(yt));var xt=at+"."+it;if(window.navigator.msSaveOrOpenBlob){for(var Ct=yt.length,wt=new Uint8Array(Ct);Ct--;)wt[Ct]=yt.charCodeAt(Ct);var Et=new Blob([wt]);window.navigator.msSaveOrOpenBlob(Et,xt)}else{var $t=document.createElement("iframe");document.body.appendChild($t);var It=$t.contentWindow,Ot=It.document;Ot.open("image/svg+xml","replace"),Ot.write(yt),Ot.close(),It.focus(),Ot.execCommand("SaveAs",!0,xt),document.body.removeChild($t)}}else{var Lt=nt.get("lang"),Ft='<body style="margin:0;"><img src="'+st+'" style="max-width:100%;" title="'+(Lt&&Lt[0]||"")+'" /></body>',zt=window.open();zt.document.write(Ft),zt.document.title=at}},_e.getDefaultOption=function(et){var tt={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:et.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:et.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return tt},_e}(ToolboxFeature),SaveAsImage$1=SaveAsImage,INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.getIcons=function(){var et=this.model,tt=et.get("icon"),nt={};return each$f(et.get("type"),function(at){tt[at]&&(nt[at]=tt[at])}),nt},_e.getDefaultOption=function(et){var tt={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:et.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return tt},_e.prototype.onclick=function(et,tt,nt){var at=this.model,ot=at.get(["seriesIndex",nt]);if(!!seriesOptGenreator[nt]){var it={series:[]},st=function(dt){var vt=dt.subType,gt=dt.id,yt=seriesOptGenreator[nt](vt,gt,dt,at);yt&&(defaults(yt,dt.option),it.series.push(yt));var xt=dt.coordinateSystem;if(xt&&xt.type==="cartesian2d"&&(nt==="line"||nt==="bar")){var Ct=xt.getAxesByScale("ordinal")[0];if(Ct){var wt=Ct.dim,Et=wt+"Axis",$t=dt.getReferringComponents(Et,SINGLE_REFERRING).models[0],It=$t.componentIndex;it[Et]=it[Et]||[];for(var Ot=0;Ot<=It;Ot++)it[Et][It]=it[Et][It]||{};it[Et][It].boundaryGap=nt==="bar"}}};each$f(radioTypes,function(dt){indexOf(dt,nt)>=0&&each$f(dt,function(vt){at.setIconStatus(vt,"normal")})}),at.setIconStatus(nt,"emphasis"),et.eachComponent({mainType:"series",query:ot==null?null:{seriesIndex:ot}},st);var ut,ft=nt;nt==="stack"&&(ut=merge({stack:at.option.title.tiled,tiled:at.option.title.stack},at.option.title),at.get(["iconStatus",nt])!=="emphasis"&&(ft="tiled")),tt.dispatchAction({type:"changeMagicType",currentType:ft,newOption:it,newTitle:ut,featureName:"magicType"})}},_e}(ToolboxFeature),seriesOptGenreator={line:function($,_e,et,tt){if($==="bar")return merge({id:_e,type:"line",data:et.get("data"),stack:et.get("stack"),markPoint:et.get("markPoint"),markLine:et.get("markLine")},tt.get(["option","line"])||{},!0)},bar:function($,_e,et,tt){if($==="line")return merge({id:_e,type:"bar",data:et.get("data"),stack:et.get("stack"),markPoint:et.get("markPoint"),markLine:et.get("markLine")},tt.get(["option","bar"])||{},!0)},stack:function($,_e,et,tt){var nt=et.get("stack")===INNER_STACK_KEYWORD;if($==="line"||$==="bar")return tt.setIconStatus("stack",nt?"normal":"emphasis"),merge({id:_e,stack:nt?"":INNER_STACK_KEYWORD},tt.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function($,_e){_e.mergeOption($.newOption)});var MagicType$1=MagicType,BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries($){var _e={},et=[],tt=[];return $.eachRawSeries(function(nt){var at=nt.coordinateSystem;if(at&&(at.type==="cartesian2d"||at.type==="polar")){var ot=at.getBaseAxis();if(ot.type==="category"){var it=ot.dim+"_"+ot.index;_e[it]||(_e[it]={categoryAxis:ot,valueAxis:at.getOtherAxis(ot),series:[]},tt.push({axisDim:ot.dim,axisIndex:ot.index})),_e[it].series.push(nt)}else et.push(nt)}else et.push(nt)}),{seriesGroupByCategoryAxis:_e,other:et,meta:tt}}function assembleSeriesWithCategoryAxis($){var _e=[];return each$f($,function(et,tt){var nt=et.categoryAxis,at=et.valueAxis,ot=at.dim,it=[" "].concat(map$1(et.series,function(gt){return gt.name})),st=[nt.model.getCategories()];each$f(et.series,function(gt){var yt=gt.getRawData();st.push(gt.getRawData().mapArray(yt.mapDimension(ot),function(xt){return xt}))});for(var ut=[it.join(ITEM_SPLITER)],ft=0;ft<st[0].length;ft++){for(var dt=[],vt=0;vt<st.length;vt++)dt.push(st[vt][ft]);ut.push(dt.join(ITEM_SPLITER))}_e.push(ut.join(`
`))}),_e.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries($){return map$1($,function(_e){var et=_e.getRawData(),tt=[_e.name],nt=[];return et.each(et.dimensions,function(){for(var at=arguments.length,ot=arguments[at-1],it=et.getName(ot),st=0;st<at-1;st++)nt[st]=arguments[st];tt.push((it?it+ITEM_SPLITER:"")+nt.join(ITEM_SPLITER))}),tt.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel($){var _e=groupSeries($);return{value:filter([assembleSeriesWithCategoryAxis(_e.seriesGroupByCategoryAxis),assembleOtherSeries(_e.other)],function(et){return!!et.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:_e.meta}}function trim($){return $.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat($){var _e=$.slice(0,$.indexOf(`
`));if(_e.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents($){for(var _e=$.split(/\n+/g),et=trim(_e.shift()).split(itemSplitRegex),tt=[],nt=map$1(et,function(st){return{name:st,data:[]}}),at=0;at<_e.length;at++){var ot=trim(_e[at]).split(itemSplitRegex);tt.push(ot.shift());for(var it=0;it<ot.length;it++)nt[it]&&(nt[it].data[at]=ot[it])}return{series:nt,categories:tt}}function parseListContents($){for(var _e=$.split(/\n+/g),et=trim(_e.shift()),tt=[],nt=0;nt<_e.length;nt++){var at=trim(_e[nt]);if(!!at){var ot=at.split(itemSplitRegex),it="",st=void 0,ut=!1;isNaN(ot[0])?(ut=!0,it=ot[0],ot=ot.slice(1),tt[nt]={name:it,value:[]},st=tt[nt].value):st=tt[nt]=[];for(var ft=0;ft<ot.length;ft++)st.push(+ot[ft]);st.length===1&&(ut?tt[nt].value=st[0]:tt[nt]=st[0])}}return{name:et,data:tt}}function parseContents($,_e){var et=$.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),tt={series:[]};return each$f(et,function(nt,at){if(isTSVFormat(nt)){var ot=parseTSVContents(nt),it=_e[at],st=it.axisDim+"Axis";it&&(tt[st]=tt[st]||[],tt[st][it.axisIndex]={data:ot.categories},tt.series=tt.series.concat(ot.series))}else{var ot=parseListContents(nt);tt.series.push(ot)}}),tt}var DataView=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.onclick=function(et,tt){setTimeout(function(){tt.dispatchAction({type:"hideTip"})});var nt=tt.getDom(),at=this.model;this._dom&&nt.removeChild(this._dom);var ot=document.createElement("div");ot.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",ot.style.backgroundColor=at.get("backgroundColor")||"#fff";var it=document.createElement("h4"),st=at.get("lang")||[];it.innerHTML=st[0]||at.get("title"),it.style.cssText="margin:10px 20px",it.style.color=at.get("textColor");var ut=document.createElement("div"),ft=document.createElement("textarea");ut.style.cssText="overflow:auto";var dt=at.get("optionToContent"),vt=at.get("contentToOption"),gt=getContentFromModel(et);if(isFunction(dt)){var yt=dt(tt.getOption());isString(yt)?ut.innerHTML=yt:isDom(yt)&&ut.appendChild(yt)}else{ft.readOnly=at.get("readOnly");var xt=ft.style;xt.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",xt.color=at.get("textColor"),xt.borderColor=at.get("textareaBorderColor"),xt.backgroundColor=at.get("textareaColor"),ft.value=gt.value,ut.appendChild(ft)}var Ct=gt.meta,wt=document.createElement("div");wt.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Et="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",$t=document.createElement("div"),It=document.createElement("div");Et+=";background-color:"+at.get("buttonColor"),Et+=";color:"+at.get("buttonTextColor");var Ot=this;function Lt(){nt.removeChild(ot),Ot._dom=null}addEventListener$1($t,"click",Lt),addEventListener$1(It,"click",function(){if(vt==null&&dt!=null||vt!=null&&dt==null){Lt();return}var Ft;try{isFunction(vt)?Ft=vt(ut,tt.getOption()):Ft=parseContents(ft.value,Ct)}catch(zt){throw Lt(),new Error("Data view format error "+zt)}Ft&&tt.dispatchAction({type:"changeDataView",newOption:Ft}),Lt()}),$t.innerHTML=st[1],It.innerHTML=st[2],It.style.cssText=$t.style.cssText=Et,!at.get("readOnly")&&wt.appendChild(It),wt.appendChild($t),ot.appendChild(it),ot.appendChild(ut),ot.appendChild(wt),ut.style.height=nt.clientHeight-80+"px",nt.appendChild(ot),this._dom=ot},_e.prototype.remove=function(et,tt){this._dom&&tt.getDom().removeChild(this._dom)},_e.prototype.dispose=function(et,tt){this.remove(et,tt)},_e.getDefaultOption=function(et){var tt={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:et.getLocaleModel().get(["toolbox","dataView","title"]),lang:et.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return tt},_e}(ToolboxFeature);function tryMergeDataOption($,_e){return map$1($,function(et,tt){var nt=_e&&_e[tt];if(isObject$3(nt)&&!isArray$1(nt)){var at=isObject$3(et)&&!isArray$1(et);at||(et={value:et});var ot=nt.name!=null&&et.name==null;return et=defaults(et,nt),ot&&delete et.name,et}else return et})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function($,_e){var et=[];each$f($.newOption.series,function(tt){var nt=_e.getSeriesByName(tt.name)[0];if(!nt)et.push(extend({type:"scatter"},tt));else{var at=nt.get("data");et.push({name:tt.name,data:tryMergeDataOption(tt.data,at)})}}),_e.mergeOption(defaults({series:et},$.newOption))});var DataView$1=DataView,each$6=each$f,inner$6=makeInner();function push($,_e){var et=getStoreSnapshots($);each$6(_e,function(tt,nt){for(var at=et.length-1;at>=0;at--){var ot=et[at];if(ot[nt])break}if(at<0){var it=$.queryComponents({mainType:"dataZoom",subType:"select",id:nt})[0];if(it){var st=it.getPercentRange();et[0][nt]={dataZoomId:nt,start:st[0],end:st[1]}}}}),et.push(_e)}function pop($){var _e=getStoreSnapshots($),et=_e[_e.length-1];_e.length>1&&_e.pop();var tt={};return each$6(et,function(nt,at){for(var ot=_e.length-1;ot>=0;ot--)if(nt=_e[ot][at],nt){tt[at]=nt;break}}),tt}function clear($){inner$6($).snapshots=null}function count($){return getStoreSnapshots($).length}function getStoreSnapshots($){var _e=inner$6($);return _e.snapshots||(_e.snapshots=[{}]),_e.snapshots}var RestoreOption=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.onclick=function(et,tt){clear(et),tt.dispatchAction({type:"restore",from:this.uid})},_e.getDefaultOption=function(et){var tt={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:et.getLocaleModel().get(["toolbox","restore","title"])};return tt},_e}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function($,_e){_e.resetOption("recreate")});var Restore=RestoreOption,INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function $(_e,et,tt){var nt=this;this._targetInfoList=[];var at=parseFinder(et,_e);each$f(targetInfoBuilders,function(ot,it){(!tt||!tt.include||indexOf(tt.include,it)>=0)&&ot(at,nt._targetInfoList)})}return $.prototype.setOutputRanges=function(_e,et){return this.matchOutputRanges(_e,et,function(tt,nt,at){if((tt.coordRanges||(tt.coordRanges=[])).push(nt),!tt.coordRange){tt.coordRange=nt;var ot=coordConvert[tt.brushType](0,at,nt);tt.__rangeOffset={offset:diffProcessor[tt.brushType](ot.values,tt.range,[1,1]),xyMinMax:ot.xyMinMax}}}),_e},$.prototype.matchOutputRanges=function(_e,et,tt){each$f(_e,function(nt){var at=this.findTargetInfo(nt,et);at&&at!==!0&&each$f(at.coordSyses,function(ot){var it=coordConvert[nt.brushType](1,ot,nt.range,!0);tt(nt,it.values,ot,et)})},this)},$.prototype.setInputRanges=function(_e,et){each$f(_e,function(tt){var nt=this.findTargetInfo(tt,et);if(tt.range=tt.range||[],nt&&nt!==!0){tt.panelId=nt.panelId;var at=coordConvert[tt.brushType](0,nt.coordSys,tt.coordRange),ot=tt.__rangeOffset;tt.range=ot?diffProcessor[tt.brushType](at.values,ot.offset,getScales(at.xyMinMax,ot.xyMinMax)):at.values}},this)},$.prototype.makePanelOpts=function(_e,et){return map$1(this._targetInfoList,function(tt){var nt=tt.getPanelRect();return{panelId:tt.panelId,defaultBrushType:et?et(tt):null,clipPath:makeRectPanelClipPath(nt),isTargetByCursor:makeRectIsTargetByCursor(nt,_e,tt.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(nt)}})},$.prototype.controlSeries=function(_e,et,tt){var nt=this.findTargetInfo(_e,tt);return nt===!0||nt&&indexOf(nt.coordSyses,et.coordinateSystem)>=0},$.prototype.findTargetInfo=function(_e,et){for(var tt=this._targetInfoList,nt=parseFinder(et,_e),at=0;at<tt.length;at++){var ot=tt[at],it=_e.panelId;if(it){if(ot.panelId===it)return ot}else for(var st=0;st<targetInfoMatchers.length;st++)if(targetInfoMatchers[st](nt,ot))return ot}return!0},$}();function formatMinMax($){return $[0]>$[1]&&$.reverse(),$}function parseFinder($,_e){return parseFinder$1($,_e,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function($,_e){var et=$.xAxisModels,tt=$.yAxisModels,nt=$.gridModels,at=createHashMap(),ot={},it={};!et&&!tt&&!nt||(each$f(et,function(st){var ut=st.axis.grid.model;at.set(ut.id,ut),ot[ut.id]=!0}),each$f(tt,function(st){var ut=st.axis.grid.model;at.set(ut.id,ut),it[ut.id]=!0}),each$f(nt,function(st){at.set(st.id,st),ot[st.id]=!0,it[st.id]=!0}),at.each(function(st){var ut=st.coordinateSystem,ft=[];each$f(ut.getCartesians(),function(dt,vt){(indexOf(et,dt.getAxis("x").model)>=0||indexOf(tt,dt.getAxis("y").model)>=0)&&ft.push(dt)}),_e.push({panelId:"grid--"+st.id,gridModel:st,coordSysModel:st,coordSys:ft[0],coordSyses:ft,getPanelRect:panelRectBuilders.grid,xAxisDeclared:ot[st.id],yAxisDeclared:it[st.id]})}))},geo:function($,_e){each$f($.geoModels,function(et){var tt=et.coordinateSystem;_e.push({panelId:"geo--"+et.id,geoModel:et,coordSysModel:et,coordSys:tt,coordSyses:[tt],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function($,_e){var et=$.xAxisModel,tt=$.yAxisModel,nt=$.gridModel;return!nt&&et&&(nt=et.axis.grid.model),!nt&&tt&&(nt=tt.axis.grid.model),nt&&nt===_e.gridModel},function($,_e){var et=$.geoModel;return et&&et===_e.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var $=this.coordSys,_e=$.getBoundingRect().clone();return _e.applyTransform(getTransform$1($)),_e}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function($,_e,et,tt){var nt=$?_e.pointToData([et[0][0],et[1][0]],tt):_e.dataToPoint([et[0][0],et[1][0]],tt),at=$?_e.pointToData([et[0][1],et[1][1]],tt):_e.dataToPoint([et[0][1],et[1][1]],tt),ot=[formatMinMax([nt[0],at[0]]),formatMinMax([nt[1],at[1]])];return{values:ot,xyMinMax:ot}},polygon:function($,_e,et,tt){var nt=[[1/0,-1/0],[1/0,-1/0]],at=map$1(et,function(ot){var it=$?_e.pointToData(ot,tt):_e.dataToPoint(ot,tt);return nt[0][0]=Math.min(nt[0][0],it[0]),nt[1][0]=Math.min(nt[1][0],it[1]),nt[0][1]=Math.max(nt[0][1],it[0]),nt[1][1]=Math.max(nt[1][1],it[1]),it});return{values:at,xyMinMax:nt}}};function axisConvert($,_e,et,tt){var nt=et.getAxis(["x","y"][$]),at=formatMinMax(map$1([0,1],function(it){return _e?nt.coordToData(nt.toLocalCoord(tt[it]),!0):nt.toGlobalCoord(nt.dataToCoord(tt[it]))})),ot=[];return ot[$]=at,ot[1-$]=[NaN,NaN],{values:at,xyMinMax:ot}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function($,_e,et){return[[$[0][0]-et[0]*_e[0][0],$[0][1]-et[0]*_e[0][1]],[$[1][0]-et[1]*_e[1][0],$[1][1]-et[1]*_e[1][1]]]},polygon:function($,_e,et){return map$1($,function(tt,nt){return[tt[0]-et[0]*_e[nt][0],tt[1]-et[1]*_e[nt][1]]})}};function axisDiffProcessor($,_e,et,tt){return[_e[0]-tt[$]*et[0],_e[1]-tt[$]*et[1]]}function getScales($,_e){var et=getSize($),tt=getSize(_e),nt=[et[0]/tt[0],et[1]/tt[1]];return isNaN(nt[0])&&(nt[0]=1),isNaN(nt[1])&&(nt[1]=1),nt}function getSize($){return $?[$[0][1]-$[0][0],$[1][1]-$[1][0]]:[NaN,NaN]}var BrushTargetManager$1=BrushTargetManager,each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.render=function(et,tt,nt,at){this._brushController||(this._brushController=new BrushController$1(nt.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(et,tt,this,at,nt),updateBackBtnStatus(et,tt)},_e.prototype.onclick=function(et,tt,nt){handlers[nt].call(this)},_e.prototype.remove=function(et,tt){this._brushController&&this._brushController.unmount()},_e.prototype.dispose=function(et,tt){this._brushController&&this._brushController.dispose()},_e.prototype._onBrush=function(et){var tt=et.areas;if(!et.isEnd||!tt.length)return;var nt={},at=this.ecModel;this._brushController.updateCovers([]);var ot=new BrushTargetManager$1(makeAxisFinder(this.model),at,{include:["grid"]});ot.matchOutputRanges(tt,at,function(ut,ft,dt){if(dt.type==="cartesian2d"){var vt=ut.brushType;vt==="rect"?(it("x",dt,ft[0]),it("y",dt,ft[1])):it({lineX:"x",lineY:"y"}[vt],dt,ft)}}),push(at,nt),this._dispatchZoomAction(nt);function it(ut,ft,dt){var vt=ft.getAxis(ut),gt=vt.model,yt=st(ut,gt,at),xt=yt.findRepresentativeAxisProxy(gt).getMinMaxSpan();(xt.minValueSpan!=null||xt.maxValueSpan!=null)&&(dt=sliderMove(0,dt.slice(),vt.scale.getExtent(),0,xt.minValueSpan,xt.maxValueSpan)),yt&&(nt[yt.id]={dataZoomId:yt.id,startValue:dt[0],endValue:dt[1]})}function st(ut,ft,dt){var vt;return dt.eachComponent({mainType:"dataZoom",subType:"select"},function(gt){var yt=gt.getAxisModel(ut,ft.componentIndex);yt&&(vt=gt)}),vt}},_e.prototype._dispatchZoomAction=function(et){var tt=[];each$5(et,function(nt,at){tt.push(clone$4(nt))}),tt.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:tt})},_e.getDefaultOption=function(et){var tt={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:et.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return tt},_e}(ToolboxFeature),handlers={zoom:function(){var $=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:$})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder($){var _e={xAxisIndex:$.get("xAxisIndex",!0),yAxisIndex:$.get("yAxisIndex",!0),xAxisId:$.get("xAxisId",!0),yAxisId:$.get("yAxisId",!0)};return _e.xAxisIndex==null&&_e.xAxisId==null&&(_e.xAxisIndex="all"),_e.yAxisIndex==null&&_e.yAxisId==null&&(_e.yAxisIndex="all"),_e}function updateBackBtnStatus($,_e){$.setIconStatus("back",count(_e)>1?"emphasis":"normal")}function updateZoomBtnStatus($,_e,et,tt,nt){var at=et._isZoomActive;tt&&tt.type==="takeGlobalCursor"&&(at=tt.key==="dataZoomSelect"?tt.dataZoomSelectActive:!1),et._isZoomActive=at,$.setIconStatus("zoom",at?"emphasis":"normal");var ot=new BrushTargetManager$1(makeAxisFinder($),_e,{include:["grid"]}),it=ot.makePanelOpts(nt,function(st){return st.xAxisDeclared&&!st.yAxisDeclared?"lineX":!st.xAxisDeclared&&st.yAxisDeclared?"lineY":"rect"});et._brushController.setPanels(it).enableBrush(at&&it.length?{brushType:"auto",brushStyle:$.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function($){var _e=$.getComponent("toolbox",0),et=["feature","dataZoom"];if(!_e||_e.get(et)==null)return;var tt=_e.getModel(et),nt=[],at=makeAxisFinder(tt),ot=parseFinder$1($,at);each$5(ot.xAxisModels,function(st){return it(st,"xAxis","xAxisIndex")}),each$5(ot.yAxisModels,function(st){return it(st,"yAxis","yAxisIndex")});function it(st,ut,ft){var dt=st.componentIndex,vt={type:"select",$fromToolbox:!0,filterMode:tt.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+ut+dt};vt[ft]=dt,nt.push(vt)}return nt});var DataZoom=DataZoomFeature;function install$j($){$.registerComponentModel(ToolboxModel$1),$.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="tooltip",_e.dependencies=["axisPointer"],_e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},_e}(ComponentModel$1),TooltipModel$1=TooltipModel;function shouldTooltipConfine($){var _e=$.get("confine");return _e!=null?!!_e:$.get("renderMode")==="richText"}function testStyle($){if(!!env$1.domSupported){for(var _e=document.documentElement.style,et=0,tt=$.length;et<tt;et++)if($[et]in _e)return $[et]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix($,_e){if(!$)return _e;_e=toCamelCase(_e,!0);var et=$.indexOf(_e);return $=et===-1?_e:"-"+$.slice(0,et)+"-"+_e,$.toLowerCase()}function getComputedStyle$1($,_e){var et=$.currentStyle||document.defaultView&&document.defaultView.getComputedStyle($);return et?_e?et[_e]:et:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos($){return $=$==="left"?"right":$==="right"?"left":$==="top"?"bottom":"top",$}function assembleArrow($,_e,et){if(!isString(et)||et==="inside")return"";var tt=$.get("backgroundColor"),nt=$.get("borderWidth");_e=convertToColorString(_e);var at=mirrorPos(et),ot=Math.max(Math.round(nt)*1.5,6),it="",st=CSS_TRANSFORM_VENDOR+":",ut;indexOf(["left","right"],at)>-1?(it+="top:50%",st+="translateY(-50%) rotate("+(ut=at==="left"?-225:-45)+"deg)"):(it+="left:50%",st+="translateX(-50%) rotate("+(ut=at==="top"?225:45)+"deg)");var ft=ut*Math.PI/180,dt=ot+nt,vt=dt*Math.abs(Math.cos(ft))+dt*Math.abs(Math.sin(ft)),gt=Math.round(((vt-Math.SQRT2*nt)/2+Math.SQRT2*nt-(vt-dt)/2)*100)/100;it+=";"+at+":-"+gt+"px";var yt=_e+" solid "+nt+"px;",xt=["position:absolute;width:"+ot+"px;height:"+ot+"px;",it+";"+st+";","border-bottom:"+yt,"border-right:"+yt,"background-color:"+tt+";"];return'<div style="'+xt.join("")+'"></div>'}function assembleTransition($,_e){var et="cubic-bezier(0.23,1,0.32,1)",tt=" "+$/2+"s "+et,nt="opacity"+tt+",visibility"+tt;return _e||(tt=" "+$+"s "+et,nt+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+tt:",left"+tt+",top"+tt),CSS_TRANSITION_VENDOR+":"+nt}function assembleTransform($,_e,et){var tt=$.toFixed(0)+"px",nt=_e.toFixed(0)+"px";if(!env$1.transformSupported)return et?"top:"+nt+";left:"+tt+";":[["top",nt],["left",tt]];var at=env$1.transform3dSupported,ot="translate"+(at?"3d":"")+"("+tt+","+nt+(at?",0":"")+")";return et?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+ot+";":[["top",0],["left",0],[TRANSFORM_VENDOR,ot]]}function assembleFont($){var _e=[],et=$.get("fontSize"),tt=$.getTextColor();tt&&_e.push("color:"+tt),_e.push("font:"+$.getFont()),et&&_e.push("line-height:"+Math.round(et*3/2)+"px");var nt=$.get("textShadowColor"),at=$.get("textShadowBlur")||0,ot=$.get("textShadowOffsetX")||0,it=$.get("textShadowOffsetY")||0;return nt&&at&&_e.push("text-shadow:"+ot+"px "+it+"px "+at+"px "+nt),each$f(["decoration","align"],function(st){var ut=$.get(st);ut&&_e.push("text-"+st+":"+ut)}),_e.join(";")}function assembleCssText($,_e,et){var tt=[],nt=$.get("transitionDuration"),at=$.get("backgroundColor"),ot=$.get("shadowBlur"),it=$.get("shadowColor"),st=$.get("shadowOffsetX"),ut=$.get("shadowOffsetY"),ft=$.getModel("textStyle"),dt=getPaddingFromTooltipModel($,"html"),vt=st+"px "+ut+"px "+ot+"px "+it;return tt.push("box-shadow:"+vt),_e&&nt&&tt.push(assembleTransition(nt,et)),at&&tt.push("background-color:"+at),each$f(["width","color","radius"],function(gt){var yt="border-"+gt,xt=toCamelCase(yt),Ct=$.get(xt);Ct!=null&&tt.push(yt+":"+Ct+(gt==="color"?"":"px"))}),tt.push(assembleFont(ft)),dt!=null&&tt.push("padding:"+normalizeCssArray(dt).join("px ")+"px"),tt.join(";")+";"}function makeStyleCoord$1($,_e,et,tt,nt){var at=_e&&_e.painter;if(et){var ot=at&&at.getViewportRoot();ot&&transformLocalCoord($,ot,document.body,tt,nt)}else{$[0]=tt,$[1]=nt;var it=at&&at.getViewportRootOffset();it&&($[0]+=it.offsetLeft,$[1]+=it.offsetTop)}$[2]=$[0]/_e.getWidth(),$[3]=$[1]/_e.getHeight()}var TooltipHTMLContent=function(){function $(_e,et,tt){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var nt=document.createElement("div");nt.domBelongToZr=!0,this.el=nt;var at=this._zr=et.getZr(),ot=this._appendToBody=tt&&tt.appendToBody;makeStyleCoord$1(this._styleCoord,at,ot,et.getWidth()/2,et.getHeight()/2),ot?document.body.appendChild(nt):_e.appendChild(nt),this._container=_e;var it=this;nt.onmouseenter=function(){it._enterable&&(clearTimeout(it._hideTimeout),it._show=!0),it._inContent=!0},nt.onmousemove=function(st){if(st=st||window.event,!it._enterable){var ut=at.handler,ft=at.painter.getViewportRoot();normalizeEvent(ft,st,!0),ut.dispatch("mousemove",st)}},nt.onmouseleave=function(){it._inContent=!1,it._enterable&&it._show&&it.hideLater(it._hideDelay)}}return $.prototype.update=function(_e){var et=this._container,tt=getComputedStyle$1(et,"position"),nt=et.style;nt.position!=="absolute"&&tt!=="absolute"&&(nt.position="relative");var at=_e.get("alwaysShowContent");at&&this._moveIfResized(),this.el.className=_e.get("className")||""},$.prototype.show=function(_e,et){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var tt=this.el,nt=tt.style,at=this._styleCoord;tt.innerHTML?nt.cssText=gCssText+assembleCssText(_e,!this._firstShow,this._longHide)+assembleTransform(at[0],at[1],!0)+("border-color:"+convertToColorString(et)+";")+(_e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):nt.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},$.prototype.setContent=function(_e,et,tt,nt,at){var ot=this.el;if(_e==null){ot.innerHTML="";return}var it="";if(isString(at)&&tt.get("trigger")==="item"&&!shouldTooltipConfine(tt)&&(it=assembleArrow(tt,nt,at)),isString(_e))ot.innerHTML=_e+it;else if(_e){ot.innerHTML="",isArray$1(_e)||(_e=[_e]);for(var st=0;st<_e.length;st++)isDom(_e[st])&&_e[st].parentNode!==ot&&ot.appendChild(_e[st]);if(it&&ot.childNodes.length){var ut=document.createElement("div");ut.innerHTML=it,ot.appendChild(ut)}}},$.prototype.setEnterable=function(_e){this._enterable=_e},$.prototype.getSize=function(){var _e=this.el;return[_e.offsetWidth,_e.offsetHeight]},$.prototype.moveTo=function(_e,et){var tt=this._styleCoord;if(makeStyleCoord$1(tt,this._zr,this._appendToBody,_e,et),tt[0]!=null&&tt[1]!=null){var nt=this.el.style,at=assembleTransform(tt[0],tt[1]);each$f(at,function(ot){nt[ot[0]]=ot[1]})}},$.prototype._moveIfResized=function(){var _e=this._styleCoord[2],et=this._styleCoord[3];this.moveTo(_e*this._zr.getWidth(),et*this._zr.getHeight())},$.prototype.hide=function(){var _e=this,et=this.el.style;et.visibility="hidden",et.opacity="0",env$1.transform3dSupported&&(et.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return _e._longHide=!0},500)},$.prototype.hideLater=function(_e){this._show&&!(this._inContent&&this._enterable)&&(_e?(this._hideDelay=_e,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),_e)):this.hide())},$.prototype.isShow=function(){return this._show},$.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},$}(),TooltipHTMLContent$1=TooltipHTMLContent,TooltipRichContent=function(){function $(_e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=_e.getZr(),makeStyleCoord(this._styleCoord,this._zr,_e.getWidth()/2,_e.getHeight()/2)}return $.prototype.update=function(_e){var et=_e.get("alwaysShowContent");et&&this._moveIfResized()},$.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},$.prototype.setContent=function(_e,et,tt,nt,at){var ot=this;isObject$3(_e)&&throwError(""),this.el&&this._zr.remove(this.el);var it=tt.getModel("textStyle");this.el=new ZRText$1({style:{rich:et.richTextStyles,text:_e,lineHeight:22,borderWidth:1,borderColor:nt,textShadowColor:it.get("textShadowColor"),fill:tt.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(tt,"richText"),verticalAlign:"top",align:"left"},z:tt.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(ut){ot.el.style[ut]=tt.get(ut)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(ut){ot.el.style[ut]=it.get(ut)||0}),this._zr.add(this.el);var st=this;this.el.on("mouseover",function(){st._enterable&&(clearTimeout(st._hideTimeout),st._show=!0),st._inContent=!0}),this.el.on("mouseout",function(){st._enterable&&st._show&&st.hideLater(st._hideDelay),st._inContent=!1})},$.prototype.setEnterable=function(_e){this._enterable=_e},$.prototype.getSize=function(){var _e=this.el,et=this.el.getBoundingRect(),tt=calcShadowOuterSize(_e.style);return[et.width+tt.left+tt.right,et.height+tt.top+tt.bottom]},$.prototype.moveTo=function(_e,et){var tt=this.el;if(tt){var nt=this._styleCoord;makeStyleCoord(nt,this._zr,_e,et),_e=nt[0],et=nt[1];var at=tt.style,ot=mathMaxWith0(at.borderWidth||0),it=calcShadowOuterSize(at);tt.x=_e+ot+it.left,tt.y=et+ot+it.top,tt.markRedraw()}},$.prototype._moveIfResized=function(){var _e=this._styleCoord[2],et=this._styleCoord[3];this.moveTo(_e*this._zr.getWidth(),et*this._zr.getHeight())},$.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},$.prototype.hideLater=function(_e){this._show&&!(this._inContent&&this._enterable)&&(_e?(this._hideDelay=_e,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),_e)):this.hide())},$.prototype.isShow=function(){return this._show},$.prototype.dispose=function(){this._zr.remove(this.el)},$}();function mathMaxWith0($){return Math.max(0,$)}function calcShadowOuterSize($){var _e=mathMaxWith0($.shadowBlur||0),et=mathMaxWith0($.shadowOffsetX||0),tt=mathMaxWith0($.shadowOffsetY||0);return{left:mathMaxWith0(_e-et),right:mathMaxWith0(_e+et),top:mathMaxWith0(_e-tt),bottom:mathMaxWith0(_e+tt)}}function makeStyleCoord($,_e,et,tt){$[0]=et,$[1]=tt,$[2]=$[0]/_e.getWidth(),$[3]=$[1]/_e.getHeight()}var TooltipRichContent$1=TooltipRichContent,proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt){if(!(env$1.node||!tt.getDom())){var nt=et.getComponent("tooltip"),at=this._renderMode=getTooltipRenderMode(nt.get("renderMode"));this._tooltipContent=at==="richText"?new TooltipRichContent$1(tt):new TooltipHTMLContent$1(tt.getDom(),tt,{appendToBody:nt.get("appendToBody",!0)})}},_e.prototype.render=function(et,tt,nt){if(!(env$1.node||!nt.getDom())){this.group.removeAll(),this._tooltipModel=et,this._ecModel=tt,this._api=nt,this._alwaysShowContent=et.get("alwaysShowContent");var at=this._tooltipContent;at.update(et),at.setEnterable(et.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&et.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},_e.prototype._initGlobalListener=function(){var et=this._tooltipModel,tt=et.get("triggerOn");register("itemTooltip",this._api,bind$1(function(nt,at,ot){tt!=="none"&&(tt.indexOf(nt)>=0?this._tryShow(at,ot):nt==="leave"&&this._hide(ot))},this))},_e.prototype._keepShow=function(){var et=this._tooltipModel,tt=this._ecModel,nt=this._api,at=et.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&at!=="none"&&at!=="click"){var ot=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!nt.isDisposed()&&ot.manuallyShowTip(et,tt,nt,{x:ot._lastX,y:ot._lastY,dataByCoordSys:ot._lastDataByCoordSys})})}},_e.prototype.manuallyShowTip=function(et,tt,nt,at){if(!(at.from===this.uid||env$1.node||!nt.getDom())){var ot=makeDispatchAction(at,nt);this._ticket="";var it=at.dataByCoordSys,st=findComponentReference(at,tt,nt);if(st){var ut=st.el.getBoundingRect().clone();ut.applyTransform(st.el.transform),this._tryShow({offsetX:ut.x+ut.width/2,offsetY:ut.y+ut.height/2,target:st.el,position:at.position,positionDefault:"bottom"},ot)}else if(at.tooltip&&at.x!=null&&at.y!=null){var ft=proxyRect;ft.x=at.x,ft.y=at.y,ft.update(),getECData(ft).tooltipConfig={name:null,option:at.tooltip},this._tryShow({offsetX:at.x,offsetY:at.y,target:ft},ot)}else if(it)this._tryShow({offsetX:at.x,offsetY:at.y,position:at.position,dataByCoordSys:it,tooltipOption:at.tooltipOption},ot);else if(at.seriesIndex!=null){if(this._manuallyAxisShowTip(et,tt,nt,at))return;var dt=findPointFromSeries(at,tt),vt=dt.point[0],gt=dt.point[1];vt!=null&&gt!=null&&this._tryShow({offsetX:vt,offsetY:gt,target:dt.el,position:at.position,positionDefault:"bottom"},ot)}else at.x!=null&&at.y!=null&&(nt.dispatchAction({type:"updateAxisPointer",x:at.x,y:at.y}),this._tryShow({offsetX:at.x,offsetY:at.y,position:at.position,target:nt.getZr().findHover(at.x,at.y).target},ot))}},_e.prototype.manuallyHideTip=function(et,tt,nt,at){var ot=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&ot.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,at.from!==this.uid&&this._hide(makeDispatchAction(at,nt))},_e.prototype._manuallyAxisShowTip=function(et,tt,nt,at){var ot=at.seriesIndex,it=at.dataIndex,st=tt.getComponent("axisPointer").coordSysAxesInfo;if(!(ot==null||it==null||st==null)){var ut=tt.getSeriesByIndex(ot);if(!!ut){var ft=ut.getData(),dt=buildTooltipModel([ft.getItemModel(it),ut,(ut.coordinateSystem||{}).model],this._tooltipModel);if(dt.get("trigger")==="axis")return nt.dispatchAction({type:"updateAxisPointer",seriesIndex:ot,dataIndex:it,position:at.position}),!0}}},_e.prototype._tryShow=function(et,tt){var nt=et.target,at=this._tooltipModel;if(!!at){this._lastX=et.offsetX,this._lastY=et.offsetY;var ot=et.dataByCoordSys;if(ot&&ot.length)this._showAxisTooltip(ot,et);else if(nt){this._lastDataByCoordSys=null;var it,st;findEventDispatcher(nt,function(ut){if(getECData(ut).dataIndex!=null)return it=ut,!0;if(getECData(ut).tooltipConfig!=null)return st=ut,!0},!0),it?this._showSeriesItemTooltip(et,it,tt):st?this._showComponentItemTooltip(et,st,tt):this._hide(tt)}else this._lastDataByCoordSys=null,this._hide(tt)}},_e.prototype._showOrMove=function(et,tt){var nt=et.get("showDelay");tt=bind$1(tt,this),clearTimeout(this._showTimout),nt>0?this._showTimout=setTimeout(tt,nt):tt()},_e.prototype._showAxisTooltip=function(et,tt){var nt=this._ecModel,at=this._tooltipModel,ot=[tt.offsetX,tt.offsetY],it=buildTooltipModel([tt.tooltipOption],at),st=this._renderMode,ut=[],ft=createTooltipMarkup("section",{blocks:[],noHeader:!0}),dt=[],vt=new TooltipMarkupStyleCreator;each$f(et,function(Et){each$f(Et.dataByAxis,function($t){var It=nt.getComponent($t.axisDim+"Axis",$t.axisIndex),Ot=$t.value;if(!(!It||Ot==null)){var Lt=getValueLabel(Ot,It.axis,nt,$t.seriesDataIndices,$t.valueLabelOpt),Ft=createTooltipMarkup("section",{header:Lt,noHeader:!trim$1(Lt),sortBlocks:!0,blocks:[]});ft.blocks.push(Ft),each$f($t.seriesDataIndices,function(zt){var Gt=nt.getSeriesByIndex(zt.seriesIndex),jt=zt.dataIndexInside,Ut=Gt.getDataParams(jt);if(!(Ut.dataIndex<0)){Ut.axisDim=$t.axisDim,Ut.axisIndex=$t.axisIndex,Ut.axisType=$t.axisType,Ut.axisId=$t.axisId,Ut.axisValue=getAxisRawValue(It.axis,{value:Ot}),Ut.axisValueLabel=Lt,Ut.marker=vt.makeTooltipMarker("item",convertToColorString(Ut.color),st);var Kt=normalizeTooltipFormatResult(Gt.formatTooltip(jt,!0,null)),Zt=Kt.frag;if(Zt){var Qt=buildTooltipModel([Gt],at).get("valueFormatter");Ft.blocks.push(Qt?extend({valueFormatter:Qt},Zt):Zt)}Kt.text&&dt.push(Kt.text),ut.push(Ut)}})}})}),ft.blocks.reverse(),dt.reverse();var gt=tt.position,yt=it.get("order"),xt=buildTooltipMarkup(ft,vt,st,yt,nt.get("useUTC"),it.get("textStyle"));xt&&dt.unshift(xt);var Ct=st==="richText"?`

`:"<br/>",wt=dt.join(Ct);this._showOrMove(it,function(){this._updateContentNotChangedOnAxis(et,ut)?this._updatePosition(it,gt,ot[0],ot[1],this._tooltipContent,ut):this._showTooltipContent(it,wt,ut,Math.random()+"",ot[0],ot[1],gt,null,vt)})},_e.prototype._showSeriesItemTooltip=function(et,tt,nt){var at=this._ecModel,ot=getECData(tt),it=ot.seriesIndex,st=at.getSeriesByIndex(it),ut=ot.dataModel||st,ft=ot.dataIndex,dt=ot.dataType,vt=ut.getData(dt),gt=this._renderMode,yt=et.positionDefault,xt=buildTooltipModel([vt.getItemModel(ft),ut,st&&(st.coordinateSystem||{}).model],this._tooltipModel,yt?{position:yt}:null),Ct=xt.get("trigger");if(!(Ct!=null&&Ct!=="item")){var wt=ut.getDataParams(ft,dt),Et=new TooltipMarkupStyleCreator;wt.marker=Et.makeTooltipMarker("item",convertToColorString(wt.color),gt);var $t=normalizeTooltipFormatResult(ut.formatTooltip(ft,!1,dt)),It=xt.get("order"),Ot=xt.get("valueFormatter"),Lt=$t.frag,Ft=Lt?buildTooltipMarkup(Ot?extend({valueFormatter:Ot},Lt):Lt,Et,gt,It,at.get("useUTC"),xt.get("textStyle")):$t.text,zt="item_"+ut.name+"_"+ft;this._showOrMove(xt,function(){this._showTooltipContent(xt,Ft,wt,zt,et.offsetX,et.offsetY,et.position,et.target,Et)}),nt({type:"showTip",dataIndexInside:ft,dataIndex:vt.getRawIndex(ft),seriesIndex:it,from:this.uid})}},_e.prototype._showComponentItemTooltip=function(et,tt,nt){var at=getECData(tt),ot=at.tooltipConfig,it=ot.option||{};if(isString(it)){var st=it;it={content:st,formatter:st}}var ut=[it],ft=this._ecModel.getComponent(at.componentMainType,at.componentIndex);ft&&ut.push(ft),ut.push({formatter:it.content});var dt=et.positionDefault,vt=buildTooltipModel(ut,this._tooltipModel,dt?{position:dt}:null),gt=vt.get("content"),yt=Math.random()+"",xt=new TooltipMarkupStyleCreator;this._showOrMove(vt,function(){var Ct=clone$4(vt.get("formatterParams")||{});this._showTooltipContent(vt,gt,Ct,yt,et.offsetX,et.offsetY,et.position,tt,xt)}),nt({type:"showTip",from:this.uid})},_e.prototype._showTooltipContent=function(et,tt,nt,at,ot,it,st,ut,ft){if(this._ticket="",!(!et.get("showContent")||!et.get("show"))){var dt=this._tooltipContent;dt.setEnterable(et.get("enterable"));var vt=et.get("formatter");st=st||et.get("position");var gt=tt,yt=this._getNearestPoint([ot,it],nt,et.get("trigger"),et.get("borderColor")),xt=yt.color;if(vt)if(isString(vt)){var Ct=et.ecModel.get("useUTC"),wt=isArray$1(nt)?nt[0]:nt,Et=wt&&wt.axisType&&wt.axisType.indexOf("time")>=0;gt=vt,Et&&(gt=format(wt.axisValue,gt,Ct)),gt=formatTpl(gt,nt,!0)}else if(isFunction(vt)){var $t=bind$1(function(It,Ot){It===this._ticket&&(dt.setContent(Ot,ft,et,xt,st),this._updatePosition(et,st,ot,it,dt,nt,ut))},this);this._ticket=at,gt=vt(nt,at,$t)}else gt=vt;dt.setContent(gt,ft,et,xt,st),dt.show(et,xt),this._updatePosition(et,st,ot,it,dt,nt,ut)}},_e.prototype._getNearestPoint=function(et,tt,nt,at){if(nt==="axis"||isArray$1(tt))return{color:at||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(tt))return{color:at||tt.color||tt.borderColor}},_e.prototype._updatePosition=function(et,tt,nt,at,ot,it,st){var ut=this._api.getWidth(),ft=this._api.getHeight();tt=tt||et.get("position");var dt=ot.getSize(),vt=et.get("align"),gt=et.get("verticalAlign"),yt=st&&st.getBoundingRect().clone();if(st&&yt.applyTransform(st.transform),isFunction(tt)&&(tt=tt([nt,at],it,ot.el,yt,{viewSize:[ut,ft],contentSize:dt.slice()})),isArray$1(tt))nt=parsePercent(tt[0],ut),at=parsePercent(tt[1],ft);else if(isObject$3(tt)){var xt=tt;xt.width=dt[0],xt.height=dt[1];var Ct=getLayoutRect(xt,{width:ut,height:ft});nt=Ct.x,at=Ct.y,vt=null,gt=null}else if(isString(tt)&&st){var wt=calcTooltipPosition(tt,yt,dt,et.get("borderWidth"));nt=wt[0],at=wt[1]}else{var wt=refixTooltipPosition(nt,at,ot,ut,ft,vt?null:20,gt?null:20);nt=wt[0],at=wt[1]}if(vt&&(nt-=isCenterAlign(vt)?dt[0]/2:vt==="right"?dt[0]:0),gt&&(at-=isCenterAlign(gt)?dt[1]/2:gt==="bottom"?dt[1]:0),shouldTooltipConfine(et)){var wt=confineTooltipPosition(nt,at,ot,ut,ft);nt=wt[0],at=wt[1]}ot.moveTo(nt,at)},_e.prototype._updateContentNotChangedOnAxis=function(et,tt){var nt=this._lastDataByCoordSys,at=this._cbParamsList,ot=!!nt&&nt.length===et.length;return ot&&each$f(nt,function(it,st){var ut=it.dataByAxis||[],ft=et[st]||{},dt=ft.dataByAxis||[];ot=ot&&ut.length===dt.length,ot&&each$f(ut,function(vt,gt){var yt=dt[gt]||{},xt=vt.seriesDataIndices||[],Ct=yt.seriesDataIndices||[];ot=ot&&vt.value===yt.value&&vt.axisType===yt.axisType&&vt.axisId===yt.axisId&&xt.length===Ct.length,ot&&each$f(xt,function(wt,Et){var $t=Ct[Et];ot=ot&&wt.seriesIndex===$t.seriesIndex&&wt.dataIndex===$t.dataIndex}),at&&each$f(vt.seriesDataIndices,function(wt){var Et=wt.seriesIndex,$t=tt[Et],It=at[Et];$t&&It&&It.data!==$t.data&&(ot=!1)})})}),this._lastDataByCoordSys=et,this._cbParamsList=tt,!!ot},_e.prototype._hide=function(et){this._lastDataByCoordSys=null,et({type:"hideTip",from:this.uid})},_e.prototype.dispose=function(et,tt){env$1.node||!tt.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",tt))},_e.type="tooltip",_e}(ComponentView$1);function buildTooltipModel($,_e,et){var tt=_e.ecModel,nt;et?(nt=new Model$1(et,tt,tt),nt=new Model$1(_e.option,nt,tt)):nt=_e;for(var at=$.length-1;at>=0;at--){var ot=$[at];ot&&(ot instanceof Model$1&&(ot=ot.get("tooltip",!0)),isString(ot)&&(ot={formatter:ot}),ot&&(nt=new Model$1(ot,nt,tt)))}return nt}function makeDispatchAction($,_e){return $.dispatchAction||bind$1(_e.dispatchAction,_e)}function refixTooltipPosition($,_e,et,tt,nt,at,ot){var it=et.getSize(),st=it[0],ut=it[1];return at!=null&&($+st+at+2>tt?$-=st+at:$+=at),ot!=null&&(_e+ut+ot>nt?_e-=ut+ot:_e+=ot),[$,_e]}function confineTooltipPosition($,_e,et,tt,nt){var at=et.getSize(),ot=at[0],it=at[1];return $=Math.min($+ot,tt)-ot,_e=Math.min(_e+it,nt)-it,$=Math.max($,0),_e=Math.max(_e,0),[$,_e]}function calcTooltipPosition($,_e,et,tt){var nt=et[0],at=et[1],ot=Math.ceil(Math.SQRT2*tt)+8,it=0,st=0,ut=_e.width,ft=_e.height;switch($){case"inside":it=_e.x+ut/2-nt/2,st=_e.y+ft/2-at/2;break;case"top":it=_e.x+ut/2-nt/2,st=_e.y-at-ot;break;case"bottom":it=_e.x+ut/2-nt/2,st=_e.y+ft+ot;break;case"left":it=_e.x-nt-ot,st=_e.y+ft/2-at/2;break;case"right":it=_e.x+ut+ot,st=_e.y+ft/2-at/2}return[it,st]}function isCenterAlign($){return $==="center"||$==="middle"}function findComponentReference($,_e,et){var tt=preParseFinder($).queryOptionMap,nt=tt.keys()[0];if(!(!nt||nt==="series")){var at=queryReferringComponents(_e,nt,tt.get(nt),{useDefault:!1,enableAll:!1,enableNone:!1}),ot=at.models[0];if(!!ot){var it=et.getViewOfComponentModel(ot),st;if(it.group.traverse(function(ut){var ft=getECData(ut).tooltipConfig;if(ft&&ft.name===$.name)return st=ut,!0}),st)return{componentMainType:nt,componentIndex:ot.componentIndex,el:st}}}}var TooltipView$1=TooltipView;function install$i($){use(install$q),$.registerComponentModel(TooltipModel$1),$.registerComponentView(TooltipView$1),$.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),$.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor($,_e){var et=normalizeToArray($?$.brush:[]);if(!!et.length){var tt=[];each$f(et,function(st){var ut=st.hasOwnProperty("toolbox")?st.toolbox:[];ut instanceof Array&&(tt=tt.concat(ut))});var nt=$&&$.toolbox;isArray$1(nt)&&(nt=nt[0]),nt||(nt={feature:{}},$.toolbox=[nt]);var at=nt.feature||(nt.feature={}),ot=at.brush||(at.brush={}),it=ot.type||(ot.type=[]);it.push.apply(it,tt),removeDuplicate(it),_e&&!it.length&&it.push.apply(it,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate($){var _e={};each$f($,function(et){_e[et]=1}),$.length=0,each$f(_e,function(et,tt){$.push(tt)})}var each$4=each$f;function hasKeys($){if($){for(var _e in $)if($.hasOwnProperty(_e))return!0}}function createVisualMappings($,_e,et){var tt={};return each$4(_e,function(at){var ot=tt[at]=nt();each$4($[at],function(it,st){if(!!VisualMapping$1.isValidType(st)){var ut={type:st,visual:it};et&&et(ut,at),ot[st]=new VisualMapping$1(ut),st==="opacity"&&(ut=clone$4(ut),ut.type="colorAlpha",ot.__hidden.__alphaForOpacity=new VisualMapping$1(ut))}})}),tt;function nt(){var at=function(){};at.prototype.__hidden=at.prototype;var ot=new at;return ot}}function replaceVisualOption($,_e,et){var tt;each$f(et,function(nt){_e.hasOwnProperty(nt)&&hasKeys(_e[nt])&&(tt=!0)}),tt&&each$f(et,function(nt){_e.hasOwnProperty(nt)&&hasKeys(_e[nt])?$[nt]=clone$4(_e[nt]):delete $[nt]})}function applyVisual($,_e,et,tt,nt,at){var ot={};each$f($,function(dt){var vt=VisualMapping$1.prepareVisualTypes(_e[dt]);ot[dt]=vt});var it;function st(dt){return getItemVisualFromData(et,it,dt)}function ut(dt,vt){setItemVisualFromData(et,it,dt,vt)}at==null?et.each(ft):et.each([at],ft);function ft(dt,vt){it=at==null?dt:vt;var gt=et.getRawDataItem(it);if(!(gt&&gt.visualMap===!1))for(var yt=tt.call(nt,dt),xt=_e[yt],Ct=ot[yt],wt=0,Et=Ct.length;wt<Et;wt++){var $t=Ct[wt];xt[$t]&&xt[$t].applyVisual(dt,st,ut)}}}function incrementalApplyVisual($,_e,et,tt){var nt={};return each$f($,function(at){var ot=VisualMapping$1.prepareVisualTypes(_e[at]);nt[at]=ot}),{progress:function(ot,it){var st;tt!=null&&(st=it.getDimensionIndex(tt));function ut(Ot){return getItemVisualFromData(it,dt,Ot)}function ft(Ot,Lt){setItemVisualFromData(it,dt,Ot,Lt)}for(var dt,vt=it.getStore();(dt=ot.next())!=null;){var gt=it.getRawDataItem(dt);if(!(gt&&gt.visualMap===!1))for(var yt=tt!=null?vt.get(st,dt):dt,xt=et(yt),Ct=_e[xt],wt=nt[xt],Et=0,$t=wt.length;Et<$t;Et++){var It=wt[Et];Ct[It]&&Ct[It].applyVisual(yt,ut,ft)}}}}}function makeBrushCommonSelectorForSeries($){var _e=$.brushType,et={point:function(tt){return selector[_e].point(tt,et,$)},rect:function(tt){return selector[_e].rect(tt,et,$)}};return et}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function($,_e,et){return $&&et.boundingRect.contain($[0],$[1])},rect:function($,_e,et){return $&&et.boundingRect.intersect($)}},polygon:{point:function($,_e,et){return $&&et.boundingRect.contain($[0],$[1])&&contain(et.range,$[0],$[1])},rect:function($,_e,et){var tt=et.range;if(!$||tt.length<=1)return!1;var nt=$.x,at=$.y,ot=$.width,it=$.height,st=tt[0];if(contain(tt,nt,at)||contain(tt,nt+ot,at)||contain(tt,nt,at+it)||contain(tt,nt+ot,at+it)||BoundingRect$1.create($).contain(st[0],st[1])||linePolygonIntersect(nt,at,nt+ot,at,tt)||linePolygonIntersect(nt,at,nt,at+it,tt)||linePolygonIntersect(nt+ot,at,nt+ot,at+it,tt)||linePolygonIntersect(nt,at+it,nt+ot,at+it,tt))return!0}}};function getLineSelectors($){var _e=["x","y"],et=["width","height"];return{point:function(tt,nt,at){if(tt){var ot=at.range,it=tt[$];return inLineRange(it,ot)}},rect:function(tt,nt,at){if(tt){var ot=at.range,it=[tt[_e[$]],tt[_e[$]]+tt[et[$]]];return it[1]<it[0]&&it.reverse(),inLineRange(it[0],ot)||inLineRange(it[1],ot)||inLineRange(ot[0],it)||inLineRange(ot[1],it)}}}}function inLineRange($,_e){return _e[0]<=$&&$<=_e[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers($){$.eachComponent({mainType:"brush"},function(_e){var et=_e.brushTargetManager=new BrushTargetManager$1(_e.option,$);et.setInputRanges(_e.areas,$)})}function brushVisual($,_e,et){var tt=[],nt,at;$.eachComponent({mainType:"brush"},function(ot){et&&et.type==="takeGlobalCursor"&&ot.setBrushOption(et.key==="brush"?et.brushOption:{brushType:!1})}),layoutCovers($),$.eachComponent({mainType:"brush"},function(ot,it){var st={brushId:ot.id,brushIndex:it,brushName:ot.name,areas:clone$4(ot.areas),selected:[]};tt.push(st);var ut=ot.option,ft=ut.brushLink,dt=[],vt=[],gt=[],yt=!1;it||(nt=ut.throttleType,at=ut.throttleDelay);var xt=map$1(ot.areas,function(Ot){var Lt=boundingRectBuilders[Ot.brushType],Ft=defaults({boundingRect:Lt?Lt(Ot):void 0},Ot);return Ft.selectors=makeBrushCommonSelectorForSeries(Ft),Ft}),Ct=createVisualMappings(ot.option,STATE_LIST,function(Ot){Ot.mappingMethod="fixed"});isArray$1(ft)&&each$f(ft,function(Ot){dt[Ot]=1});function wt(Ot){return ft==="all"||!!dt[Ot]}function Et(Ot){return!!Ot.length}$.eachSeries(function(Ot,Lt){var Ft=gt[Lt]=[];Ot.subType==="parallel"?$t(Ot,Lt):It(Ot,Lt,Ft)});function $t(Ot,Lt){var Ft=Ot.coordinateSystem;yt=yt||Ft.hasAxisBrushed(),wt(Lt)&&Ft.eachActiveState(Ot.getData(),function(zt,Gt){zt==="active"&&(vt[Gt]=1)})}function It(Ot,Lt,Ft){if(!(!Ot.brushSelector||brushModelNotControll(ot,Lt))&&(each$f(xt,function(Gt){ot.brushTargetManager.controlSeries(Gt,Ot,$)&&Ft.push(Gt),yt=yt||Et(Ft)}),wt(Lt)&&Et(Ft))){var zt=Ot.getData();zt.each(function(Gt){checkInRange(Ot,Ft,zt,Gt)&&(vt[Gt]=1)})}}$.eachSeries(function(Ot,Lt){var Ft={seriesId:Ot.id,seriesIndex:Lt,seriesName:Ot.name,dataIndex:[]};st.selected.push(Ft);var zt=gt[Lt],Gt=Ot.getData(),jt=wt(Lt)?function(Ut){return vt[Ut]?(Ft.dataIndex.push(Gt.getRawIndex(Ut)),"inBrush"):"outOfBrush"}:function(Ut){return checkInRange(Ot,zt,Gt,Ut)?(Ft.dataIndex.push(Gt.getRawIndex(Ut)),"inBrush"):"outOfBrush"};(wt(Lt)?yt:Et(zt))&&applyVisual(STATE_LIST,Ct,Gt,jt)})}),dispatchAction$1(_e,nt,at,tt,et)}function dispatchAction$1($,_e,et,tt,nt){if(!!nt){var at=$.getZr();if(!at[DISPATCH_FLAG]){at[DISPATCH_METHOD]||(at[DISPATCH_METHOD]=doDispatch);var ot=createOrUpdate(at,DISPATCH_METHOD,et,_e);ot($,tt)}}}function doDispatch($,_e){if(!$.isDisposed()){var et=$.getZr();et[DISPATCH_FLAG]=!0,$.dispatchAction({type:"brushSelect",batch:_e}),et[DISPATCH_FLAG]=!1}}function checkInRange($,_e,et,tt){for(var nt=0,at=_e.length;nt<at;nt++){var ot=_e[nt];if($.brushSelector(tt,et,ot.selectors,ot))return!0}}function brushModelNotControll($,_e){var et=$.option.seriesIndex;return et!=null&&et!=="all"&&(isArray$1(et)?indexOf(et,_e)<0:_e!==et)}var boundingRectBuilders={rect:function($){return getBoundingRectFromMinMax($.range)},polygon:function($){for(var _e,et=$.range,tt=0,nt=et.length;tt<nt;tt++){_e=_e||[[1/0,-1/0],[1/0,-1/0]];var at=et[tt];at[0]<_e[0][0]&&(_e[0][0]=at[0]),at[0]>_e[0][1]&&(_e[0][1]=at[0]),at[1]<_e[1][0]&&(_e[1][0]=at[1]),at[1]>_e[1][1]&&(_e[1][1]=at[1])}return _e&&getBoundingRectFromMinMax(_e)}};function getBoundingRectFromMinMax($){return new BoundingRect$1($[0][0],$[1][0],$[0][1]-$[0][0],$[1][1]-$[1][0])}var BrushView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt){this.ecModel=et,this.api=tt,this.model,(this._brushController=new BrushController$1(tt.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},_e.prototype.render=function(et,tt,nt,at){this.model=et,this._updateController(et,tt,nt,at)},_e.prototype.updateTransform=function(et,tt,nt,at){layoutCovers(tt),this._updateController(et,tt,nt,at)},_e.prototype.updateVisual=function(et,tt,nt,at){this.updateTransform(et,tt,nt,at)},_e.prototype.updateView=function(et,tt,nt,at){this._updateController(et,tt,nt,at)},_e.prototype._updateController=function(et,tt,nt,at){(!at||at.$from!==et.id)&&this._brushController.setPanels(et.brushTargetManager.makePanelOpts(nt)).enableBrush(et.brushOption).updateCovers(et.areas.slice())},_e.prototype.dispose=function(){this._brushController.dispose()},_e.prototype._onBrush=function(et){var tt=this.model.id,nt=this.model.brushTargetManager.setOutputRanges(et.areas,this.ecModel);(!et.isEnd||et.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:tt,areas:clone$4(nt),$from:tt}),et.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:tt,areas:clone$4(nt),$from:tt})},_e.type="brush",_e}(ComponentView$1),BrushView$1=BrushView,DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.areas=[],et.brushOption={},et}return _e.prototype.optionUpdated=function(et,tt){var nt=this.option;!tt&&replaceVisualOption(nt,et,["inBrush","outOfBrush"]);var at=nt.inBrush=nt.inBrush||{};nt.outOfBrush=nt.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},at.hasOwnProperty("liftZ")||(at.liftZ=5)},_e.prototype.setAreas=function(et){!et||(this.areas=map$1(et,function(tt){return generateBrushOption(this.option,tt)},this))},_e.prototype.setBrushOption=function(et){this.brushOption=generateBrushOption(this.option,et),this.brushType=this.brushOption.brushType},_e.type="brush",_e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],_e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},_e}(ComponentModel$1);function generateBrushOption($,_e){return merge({brushType:$.brushType,brushMode:$.brushMode,transformable:$.transformable,brushStyle:new Model$1($.brushStyle).getItemStyle(),removeOnClick:$.removeOnClick,z:$.z},_e,!0)}var BrushModel$1=BrushModel,ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function($){__extends(_e,$);function _e(){return $!==null&&$.apply(this,arguments)||this}return _e.prototype.render=function(et,tt,nt){var at,ot,it;tt.eachComponent({mainType:"brush"},function(st){at=st.brushType,ot=st.brushOption.brushMode||"single",it=it||!!st.areas.length}),this._brushType=at,this._brushMode=ot,each$f(et.get("type",!0),function(st){et.setIconStatus(st,(st==="keep"?ot==="multiple":st==="clear"?it:st===at)?"emphasis":"normal")})},_e.prototype.updateView=function(et,tt,nt){this.render(et,tt,nt)},_e.prototype.getIcons=function(){var et=this.model,tt=et.get("icon",!0),nt={};return each$f(et.get("type",!0),function(at){tt[at]&&(nt[at]=tt[at])}),nt},_e.prototype.onclick=function(et,tt,nt){var at=this._brushType,ot=this._brushMode;nt==="clear"?(tt.dispatchAction({type:"axisAreaSelect",intervals:[]}),tt.dispatchAction({type:"brush",command:"clear",areas:[]})):tt.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:nt==="keep"?at:at===nt?!1:nt,brushMode:nt==="keep"?ot==="multiple"?"single":"multiple":ot}})},_e.getDefaultOption=function(et){var tt={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:et.getLocaleModel().get(["toolbox","brush","title"])};return tt},_e}(ToolboxFeature),BrushFeature$1=BrushFeature;function install$h($){$.registerComponentView(BrushView$1),$.registerComponentModel(BrushModel$1),$.registerPreprocessor(brushPreprocessor),$.registerVisual($.PRIORITY.VISUAL.BRUSH,brushVisual),$.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(_e,et){et.eachComponent({mainType:"brush",query:_e},function(tt){tt.setAreas(_e.areas)})}),$.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),$.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature$1)}var TitleModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.layoutMode={type:"box",ignoreSize:!0},et}return _e.type="title",_e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},_e}(ComponentModel$1),TitleView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.render=function(et,tt,nt){if(this.group.removeAll(),!!et.get("show")){var at=this.group,ot=et.getModel("textStyle"),it=et.getModel("subtextStyle"),st=et.get("textAlign"),ut=retrieve2(et.get("textBaseline"),et.get("textVerticalAlign")),ft=new ZRText$1({style:createTextStyle(ot,{text:et.get("text"),fill:ot.getTextColor()},{disableBox:!0}),z2:10}),dt=ft.getBoundingRect(),vt=et.get("subtext"),gt=new ZRText$1({style:createTextStyle(it,{text:vt,fill:it.getTextColor(),y:dt.height+et.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),yt=et.get("link"),xt=et.get("sublink"),Ct=et.get("triggerEvent",!0);ft.silent=!yt&&!Ct,gt.silent=!xt&&!Ct,yt&&ft.on("click",function(){windowOpen(yt,"_"+et.get("target"))}),xt&&gt.on("click",function(){windowOpen(xt,"_"+et.get("subtarget"))}),getECData(ft).eventData=getECData(gt).eventData=Ct?{componentType:"title",componentIndex:et.componentIndex}:null,at.add(ft),vt&&at.add(gt);var wt=at.getBoundingRect(),Et=et.getBoxLayoutParams();Et.width=wt.width,Et.height=wt.height;var $t=getLayoutRect(Et,{width:nt.getWidth(),height:nt.getHeight()},et.get("padding"));st||(st=et.get("left")||et.get("right"),st==="middle"&&(st="center"),st==="right"?$t.x+=$t.width:st==="center"&&($t.x+=$t.width/2)),ut||(ut=et.get("top")||et.get("bottom"),ut==="center"&&(ut="middle"),ut==="bottom"?$t.y+=$t.height:ut==="middle"&&($t.y+=$t.height/2),ut=ut||"top"),at.x=$t.x,at.y=$t.y,at.markRedraw();var It={align:st,verticalAlign:ut};ft.setStyle(It),gt.setStyle(It),wt=at.getBoundingRect();var Ot=$t.margin,Lt=et.getItemStyle(["color","opacity"]);Lt.fill=et.get("backgroundColor");var Ft=new Rect$3({shape:{x:wt.x-Ot[3],y:wt.y-Ot[0],width:wt.width+Ot[1]+Ot[3],height:wt.height+Ot[0]+Ot[2],r:et.get("borderRadius")},style:Lt,subPixelOptimize:!0,silent:!0});at.add(Ft)}},_e.type="title",_e}(ComponentView$1);function install$g($){$.registerComponentModel(TitleModel),$.registerComponentView(TitleView)}var TimelineModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.layoutMode="box",et}return _e.prototype.init=function(et,tt,nt){this.mergeDefaultAndTheme(et,nt),this._initData()},_e.prototype.mergeOption=function(et){$.prototype.mergeOption.apply(this,arguments),this._initData()},_e.prototype.setCurrentIndex=function(et){et==null&&(et=this.option.currentIndex);var tt=this._data.count();this.option.loop?et=(et%tt+tt)%tt:(et>=tt&&(et=tt-1),et<0&&(et=0)),this.option.currentIndex=et},_e.prototype.getCurrentIndex=function(){return this.option.currentIndex},_e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},_e.prototype.setPlayState=function(et){this.option.autoPlay=!!et},_e.prototype.getPlayState=function(){return!!this.option.autoPlay},_e.prototype._initData=function(){var et=this.option,tt=et.data||[],nt=et.axisType,at=this._names=[],ot;nt==="category"?(ot=[],each$f(tt,function(ut,ft){var dt=convertOptionIdName(getDataItemValue(ut),""),vt;isObject$3(ut)?(vt=clone$4(ut),vt.value=ft):vt=ft,ot.push(vt),at.push(dt)})):ot=tt;var it={category:"ordinal",time:"time",value:"number"}[nt]||"number",st=this._data=new SeriesData$1([{name:"value",type:it}],this);st.initData(ot,at)},_e.prototype.getData=function(){return this._data},_e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},_e.type="timeline",_e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},_e}(ComponentModel$1),TimelineModel$1=TimelineModel,SliderTimelineModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="timeline.slider",_e.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),_e}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);var SliderTimelineModel$1=SliderTimelineModel,TimelineView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="timeline",_e}(ComponentView$1),TimelineView$1=TimelineView,TimelineAxis=function($){__extends(_e,$);function _e(et,tt,nt,at){var ot=$.call(this,et,tt,nt)||this;return ot.type=at||"value",ot}return _e.prototype.getLabelModel=function(){return this.model.getModel("label")},_e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},_e}(Axis$1),TimelineAxis$1=TimelineAxis,PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(et,tt){this.api=tt},_e.prototype.render=function(et,tt,nt){if(this.model=et,this.api=nt,this.ecModel=tt,this.group.removeAll(),et.get("show",!0)){var at=this._layout(et,nt),ot=this._createGroup("_mainGroup"),it=this._createGroup("_labelGroup"),st=this._axis=this._createAxis(at,et);et.formatTooltip=function(ut){var ft=st.scale.getLabel({value:ut});return createTooltipMarkup("nameValue",{noName:!0,value:ft})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(ut){this["_render"+ut](at,ot,st,et)},this),this._renderAxisLabel(at,it,st,et),this._position(at,et)}this._doPlayStop(),this._updateTicksStatus()},_e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},_e.prototype.dispose=function(){this._clearTimer()},_e.prototype._layout=function(et,tt){var nt=et.get(["label","position"]),at=et.get("orient"),ot=getViewRect(et,tt),it;nt==null||nt==="auto"?it=at==="horizontal"?ot.y+ot.height/2<tt.getHeight()/2?"-":"+":ot.x+ot.width/2<tt.getWidth()/2?"+":"-":isString(nt)?it={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[at][nt]:it=nt;var st={horizontal:"center",vertical:it>=0||it==="+"?"left":"right"},ut={horizontal:it>=0||it==="+"?"top":"bottom",vertical:"middle"},ft={horizontal:0,vertical:PI/2},dt=at==="vertical"?ot.height:ot.width,vt=et.getModel("controlStyle"),gt=vt.get("show",!0),yt=gt?vt.get("itemSize"):0,xt=gt?vt.get("itemGap"):0,Ct=yt+xt,wt=et.get(["label","rotate"])||0;wt=wt*PI/180;var Et,$t,It,Ot=vt.get("position",!0),Lt=gt&&vt.get("showPlayBtn",!0),Ft=gt&&vt.get("showPrevBtn",!0),zt=gt&&vt.get("showNextBtn",!0),Gt=0,jt=dt;Ot==="left"||Ot==="bottom"?(Lt&&(Et=[0,0],Gt+=Ct),Ft&&($t=[Gt,0],Gt+=Ct),zt&&(It=[jt-yt,0],jt-=Ct)):(Lt&&(Et=[jt-yt,0],jt-=Ct),Ft&&($t=[0,0],Gt+=Ct),zt&&(It=[jt-yt,0],jt-=Ct));var Ut=[Gt,jt];return et.get("inverse")&&Ut.reverse(),{viewRect:ot,mainLength:dt,orient:at,rotation:ft[at],labelRotation:wt,labelPosOpt:it,labelAlign:et.get(["label","align"])||st[at],labelBaseline:et.get(["label","verticalAlign"])||et.get(["label","baseline"])||ut[at],playPosition:Et,prevBtnPosition:$t,nextBtnPosition:It,axisExtent:Ut,controlSize:yt,controlGap:xt}},_e.prototype._position=function(et,tt){var nt=this._mainGroup,at=this._labelGroup,ot=et.viewRect;if(et.orient==="vertical"){var it=create$1(),st=ot.x,ut=ot.y+ot.height;translate(it,it,[-st,-ut]),rotate(it,it,-PI/2),translate(it,it,[st,ut]),ot=ot.clone(),ot.applyTransform(it)}var ft=Et(ot),dt=Et(nt.getBoundingRect()),vt=Et(at.getBoundingRect()),gt=[nt.x,nt.y],yt=[at.x,at.y];yt[0]=gt[0]=ft[0][0];var xt=et.labelPosOpt;if(xt==null||isString(xt)){var Ct=xt==="+"?0:1;$t(gt,dt,ft,1,Ct),$t(yt,vt,ft,1,1-Ct)}else{var Ct=xt>=0?0:1;$t(gt,dt,ft,1,Ct),yt[1]=gt[1]+xt}nt.setPosition(gt),at.setPosition(yt),nt.rotation=at.rotation=et.rotation,wt(nt),wt(at);function wt(It){It.originX=ft[0][0]-It.x,It.originY=ft[1][0]-It.y}function Et(It){return[[It.x,It.x+It.width],[It.y,It.y+It.height]]}function $t(It,Ot,Lt,Ft,zt){It[Ft]+=Lt[Ft][zt]-Ot[Ft][zt]}},_e.prototype._createAxis=function(et,tt){var nt=tt.getData(),at=tt.get("axisType"),ot=createScaleByModel(tt,at);ot.getTicks=function(){return nt.mapArray(["value"],function(ut){return{value:ut}})};var it=nt.getDataExtent("value");ot.setExtent(it[0],it[1]),ot.calcNiceTicks();var st=new TimelineAxis$1("value",ot,et.axisExtent,at);return st.model=tt,st},_e.prototype._createGroup=function(et){var tt=this[et]=new Group$4;return this.group.add(tt),tt},_e.prototype._renderAxisLine=function(et,tt,nt,at){var ot=nt.getExtent();if(!!at.get(["lineStyle","show"])){var it=new Line$3({shape:{x1:ot[0],y1:0,x2:ot[1],y2:0},style:extend({lineCap:"round"},at.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});tt.add(it);var st=this._progressLine=new Line$3({shape:{x1:ot[0],x2:this._currentPointer?this._currentPointer.x:ot[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:it.style.lineWidth},at.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});tt.add(st)}},_e.prototype._renderAxisTick=function(et,tt,nt,at){var ot=this,it=at.getData(),st=nt.scale.getTicks();this._tickSymbols=[],each$f(st,function(ut){var ft=nt.dataToCoord(ut.value),dt=it.getItemModel(ut.value),vt=dt.getModel("itemStyle"),gt=dt.getModel(["emphasis","itemStyle"]),yt=dt.getModel(["progress","itemStyle"]),xt={x:ft,y:0,onclick:bind$1(ot._changeTimeline,ot,ut.value)},Ct=giveSymbol(dt,vt,tt,xt);Ct.ensureState("emphasis").style=gt.getItemStyle(),Ct.ensureState("progress").style=yt.getItemStyle(),enableHoverEmphasis(Ct);var wt=getECData(Ct);dt.get("tooltip")?(wt.dataIndex=ut.value,wt.dataModel=at):wt.dataIndex=wt.dataModel=null,ot._tickSymbols.push(Ct)})},_e.prototype._renderAxisLabel=function(et,tt,nt,at){var ot=this,it=nt.getLabelModel();if(!!it.get("show")){var st=at.getData(),ut=nt.getViewLabels();this._tickLabels=[],each$f(ut,function(ft){var dt=ft.tickValue,vt=st.getItemModel(dt),gt=vt.getModel("label"),yt=vt.getModel(["emphasis","label"]),xt=vt.getModel(["progress","label"]),Ct=nt.dataToCoord(ft.tickValue),wt=new ZRText$1({x:Ct,y:0,rotation:et.labelRotation-et.rotation,onclick:bind$1(ot._changeTimeline,ot,dt),silent:!1,style:createTextStyle(gt,{text:ft.formattedLabel,align:et.labelAlign,verticalAlign:et.labelBaseline})});wt.ensureState("emphasis").style=createTextStyle(yt),wt.ensureState("progress").style=createTextStyle(xt),tt.add(wt),enableHoverEmphasis(wt),labelDataIndexStore(wt).dataIndex=dt,ot._tickLabels.push(wt)})}},_e.prototype._renderControl=function(et,tt,nt,at){var ot=et.controlSize,it=et.rotation,st=at.getModel("controlStyle").getItemStyle(),ut=at.getModel(["emphasis","controlStyle"]).getItemStyle(),ft=at.getPlayState(),dt=at.get("inverse",!0);vt(et.nextBtnPosition,"next",bind$1(this._changeTimeline,this,dt?"-":"+")),vt(et.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,dt?"+":"-")),vt(et.playPosition,ft?"stop":"play",bind$1(this._handlePlayClick,this,!ft),!0);function vt(gt,yt,xt,Ct){if(!!gt){var wt=parsePercent$1(retrieve2(at.get(["controlStyle",yt+"BtnSize"]),ot),ot),Et=[0,-wt/2,wt,wt],$t=makeControlIcon(at,yt+"Icon",Et,{x:gt[0],y:gt[1],originX:ot/2,originY:0,rotation:Ct?-it:0,rectHover:!0,style:st,onclick:xt});$t.ensureState("emphasis").style=ut,tt.add($t),enableHoverEmphasis($t)}}},_e.prototype._renderCurrentPointer=function(et,tt,nt,at){var ot=at.getData(),it=at.getCurrentIndex(),st=ot.getItemModel(it).getModel("checkpointStyle"),ut=this,ft={onCreate:function(dt){dt.draggable=!0,dt.drift=bind$1(ut._handlePointerDrag,ut),dt.ondragend=bind$1(ut._handlePointerDragend,ut),pointerMoveTo(dt,ut._progressLine,it,nt,at,!0)},onUpdate:function(dt){pointerMoveTo(dt,ut._progressLine,it,nt,at)}};this._currentPointer=giveSymbol(st,st,this._mainGroup,{},this._currentPointer,ft)},_e.prototype._handlePlayClick=function(et){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:et,from:this.uid})},_e.prototype._handlePointerDrag=function(et,tt,nt){this._clearTimer(),this._pointerChangeTimeline([nt.offsetX,nt.offsetY])},_e.prototype._handlePointerDragend=function(et){this._pointerChangeTimeline([et.offsetX,et.offsetY],!0)},_e.prototype._pointerChangeTimeline=function(et,tt){var nt=this._toAxisCoord(et)[0],at=this._axis,ot=asc$2(at.getExtent().slice());nt>ot[1]&&(nt=ot[1]),nt<ot[0]&&(nt=ot[0]),this._currentPointer.x=nt,this._currentPointer.markRedraw(),this._progressLine.shape.x2=nt,this._progressLine.dirty();var it=this._findNearestTick(nt),st=this.model;(tt||it!==st.getCurrentIndex()&&st.get("realtime"))&&this._changeTimeline(it)},_e.prototype._doPlayStop=function(){var et=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var tt=et.model;et._changeTimeline(tt.getCurrentIndex()+(tt.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},_e.prototype._toAxisCoord=function(et){var tt=this._mainGroup.getLocalTransform();return applyTransform(et,tt,!0)},_e.prototype._findNearestTick=function(et){var tt=this.model.getData(),nt=1/0,at,ot=this._axis;return tt.each(["value"],function(it,st){var ut=ot.dataToCoord(it),ft=Math.abs(ut-et);ft<nt&&(nt=ft,at=st)}),at},_e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_e.prototype._changeTimeline=function(et){var tt=this.model.getCurrentIndex();et==="+"?et=tt+1:et==="-"&&(et=tt-1),this.api.dispatchAction({type:"timelineChange",currentIndex:et,from:this.uid})},_e.prototype._updateTicksStatus=function(){var et=this.model.getCurrentIndex(),tt=this._tickSymbols,nt=this._tickLabels;if(tt)for(var at=0;at<tt.length;at++)tt&&tt[at]&&tt[at].toggleState("progress",at<et);if(nt)for(var at=0;at<nt.length;at++)nt&&nt[at]&&nt[at].toggleState("progress",labelDataIndexStore(nt[at]).dataIndex<=et)},_e.type="timeline.slider",_e}(TimelineView$1);function createScaleByModel($,_e){if(_e=_e||$.get("type"),_e)switch(_e){case"category":return new OrdinalScale$1({ordinalMeta:$.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:$.ecModel.getLocaleModel(),useUTC:$.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect($,_e){return getLayoutRect($.getBoxLayoutParams(),{width:_e.getWidth(),height:_e.getHeight()},$.get("padding"))}function makeControlIcon($,_e,et,tt){var nt=tt.style,at=createIcon($.get(["controlStyle",_e]),tt||{},new BoundingRect$1(et[0],et[1],et[2],et[3]));return nt&&at.setStyle(nt),at}function giveSymbol($,_e,et,tt,nt,at){var ot=_e.get("color");if(nt)nt.setColor(ot),et.add(nt),at&&at.onUpdate(nt);else{var it=$.get("symbol");nt=createSymbol$1(it,-1,-1,2,2,ot),nt.setStyle("strokeNoScale",!0),et.add(nt),at&&at.onCreate(nt)}var st=_e.getItemStyle(["color"]);nt.setStyle(st),tt=merge({rectHover:!0,z2:100},tt,!0);var ut=normalizeSymbolSize($.get("symbolSize"));tt.scaleX=ut[0]/2,tt.scaleY=ut[1]/2;var ft=normalizeSymbolOffset($.get("symbolOffset"),ut);ft&&(tt.x=(tt.x||0)+ft[0],tt.y=(tt.y||0)+ft[1]);var dt=$.get("symbolRotate");return tt.rotation=(dt||0)*Math.PI/180||0,nt.attr(tt),nt.updateTransform(),nt}function pointerMoveTo($,_e,et,tt,nt,at){if(!$.dragging){var ot=nt.getModel("checkpointStyle"),it=tt.dataToCoord(nt.getData().get("value",et));if(at||!ot.get("animation",!0))$.attr({x:it,y:0}),_e&&_e.attr({shape:{x2:it}});else{var st={duration:ot.get("animationDuration",!0),easing:ot.get("animationEasing",!0)};$.stopAnimation(null,!0),$.animateTo({x:it,y:0},st),_e&&_e.animateTo({shape:{x2:it}},st)}}}var SliderTimelineView$1=SliderTimelineView;function installTimelineAction($){$.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(_e,et,tt){var nt=et.getComponent("timeline");return nt&&_e.currentIndex!=null&&(nt.setCurrentIndex(_e.currentIndex),!nt.get("loop",!0)&&nt.isIndexMax()&&nt.getPlayState()&&(nt.setPlayState(!1),tt.dispatchAction({type:"timelinePlayChange",playState:!1,from:_e.from}))),et.resetOption("timeline",{replaceMerge:nt.get("replaceMerge",!0)}),defaults({currentIndex:nt.option.currentIndex},_e)}),$.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(_e,et){var tt=et.getComponent("timeline");tt&&_e.playState!=null&&tt.setPlayState(_e.playState)})}function timelinePreprocessor($){var _e=$&&$.timeline;isArray$1(_e)||(_e=_e?[_e]:[]),each$f(_e,function(et){!et||compatibleEC2(et)})}function compatibleEC2($){var _e=$.type,et={number:"value",time:"time"};if(et[_e]&&($.axisType=et[_e],delete $.type),transferItem($),has$1($,"controlPosition")){var tt=$.controlStyle||($.controlStyle={});has$1(tt,"position")||(tt.position=$.controlPosition),tt.position==="none"&&!has$1(tt,"show")&&(tt.show=!1,delete tt.position),delete $.controlPosition}each$f($.data||[],function(nt){isObject$3(nt)&&!isArray$1(nt)&&(!has$1(nt,"value")&&has$1(nt,"name")&&(nt.value=nt.name),transferItem(nt))})}function transferItem($){var _e=$.itemStyle||($.itemStyle={}),et=_e.emphasis||(_e.emphasis={}),tt=$.label||$.label||{},nt=tt.normal||(tt.normal={}),at={normal:1,emphasis:1};each$f(tt,function(ot,it){!at[it]&&!has$1(nt,it)&&(nt[it]=ot)}),et.label&&!has$1(tt,"emphasis")&&(tt.emphasis=et.label,delete et.label)}function has$1($,_e){return $.hasOwnProperty(_e)}function install$f($){$.registerComponentModel(SliderTimelineModel$1),$.registerComponentView(SliderTimelineView$1),$.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction($),$.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries($,_e){if(!$)return!1;for(var et=isArray$1($)?$:[$],tt=0;tt<et.length;tt++)if(et[tt]&&et[tt][_e])return!0;return!1}function fillLabel($){defaultEmphasis($,"label",["show"])}var inner$5=makeInner(),MarkerModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.createdBySelf=!1,et}return _e.prototype.init=function(et,tt,nt){this.mergeDefaultAndTheme(et,nt),this._mergeOption(et,nt,!1,!0)},_e.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var et=this.__hostSeries;return this.getShallow("animation")&&et&&et.isAnimationEnabled()},_e.prototype.mergeOption=function(et,tt){this._mergeOption(et,tt,!1,!1)},_e.prototype._mergeOption=function(et,tt,nt,at){var ot=this.mainType;nt||tt.eachSeries(function(it){var st=it.get(this.mainType,!0),ut=inner$5(it)[ot];if(!st||!st.data){inner$5(it)[ot]=null;return}ut?ut._mergeOption(st,tt,!0):(at&&fillLabel(st),each$f(st.data,function(ft){ft instanceof Array?(fillLabel(ft[0]),fillLabel(ft[1])):fillLabel(ft)}),ut=this.createMarkerModelFromSeries(st,this,tt),extend(ut,{mainType:this.mainType,seriesIndex:it.seriesIndex,name:it.name,createdBySelf:!0}),ut.__hostSeries=it),inner$5(it)[ot]=ut},this)},_e.prototype.formatTooltip=function(et,tt,nt){var at=this.getData(),ot=this.getRawValue(et),it=at.getName(et);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:it,value:ot,noName:!it,noValue:ot==null})]})},_e.prototype.getData=function(){return this._data},_e.prototype.setData=function(et){this._data=et},_e.getMarkerModelFromSeries=function(et,tt){return inner$5(et)[tt]},_e.type="marker",_e.dependencies=["series","grid","polar","geo"],_e}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);var MarkerModel$1=MarkerModel,MarkPointModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.createMarkerModelFromSeries=function(et,tt,nt){return new _e(et,tt,nt)},_e.type="markPoint",_e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},_e}(MarkerModel$1),MarkPointModel$1=MarkPointModel;function hasXOrY($){return!(isNaN(parseFloat($.x))&&isNaN(parseFloat($.y)))}function hasXAndY($){return!isNaN(parseFloat($.x))&&!isNaN(parseFloat($.y))}function markerTypeCalculatorWithExtent($,_e,et,tt,nt,at){var ot=[],it=isDimensionStacked(_e,tt),st=it?_e.getCalculationInfo("stackResultDimension"):tt,ut=numCalculate(_e,st,$),ft=_e.indicesOfNearest(st,ut)[0];ot[nt]=_e.get(et,ft),ot[at]=_e.get(st,ft);var dt=_e.get(tt,ft),vt=getPrecision(_e.get(tt,ft));return vt=Math.min(vt,20),vt>=0&&(ot[at]=+ot[at].toFixed(vt)),[ot,dt]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform($,_e){var et=$.getData(),tt=$.coordinateSystem;if(_e&&!hasXAndY(_e)&&!isArray$1(_e.coord)&&tt){var nt=tt.dimensions,at=getAxisInfo(_e,et,tt,$);if(_e=clone$4(_e),_e.type&&markerTypeCalculator[_e.type]&&at.baseAxis&&at.valueAxis){var ot=indexOf(nt,at.baseAxis.dim),it=indexOf(nt,at.valueAxis.dim),st=markerTypeCalculator[_e.type](et,at.baseDataDim,at.valueDataDim,ot,it);_e.coord=st[0],_e.value=st[1]}else{for(var ut=[_e.xAxis!=null?_e.xAxis:_e.radiusAxis,_e.yAxis!=null?_e.yAxis:_e.angleAxis],ft=0;ft<2;ft++)markerTypeCalculator[ut[ft]]&&(ut[ft]=numCalculate(et,et.mapDimension(nt[ft]),ut[ft]));_e.coord=ut}}return _e}function getAxisInfo($,_e,et,tt){var nt={};return $.valueIndex!=null||$.valueDim!=null?(nt.valueDataDim=$.valueIndex!=null?_e.getDimension($.valueIndex):$.valueDim,nt.valueAxis=et.getAxis(dataDimToCoordDim(tt,nt.valueDataDim)),nt.baseAxis=et.getOtherAxis(nt.valueAxis),nt.baseDataDim=_e.mapDimension(nt.baseAxis.dim)):(nt.baseAxis=tt.getBaseAxis(),nt.valueAxis=et.getOtherAxis(nt.baseAxis),nt.baseDataDim=_e.mapDimension(nt.baseAxis.dim),nt.valueDataDim=_e.mapDimension(nt.valueAxis.dim)),nt}function dataDimToCoordDim($,_e){var et=$.getData().getDimensionInfo(_e);return et&&et.coordDim}function dataFilter($,_e){return $&&$.containData&&_e.coord&&!hasXOrY(_e)?$.containData(_e.coord):!0}function zoneFilter($,_e,et){return $&&$.containZone&&_e.coord&&et.coord&&!hasXOrY(_e)&&!hasXOrY(et)?$.containZone(_e.coord,et.coord):!0}function createMarkerDimValueGetter($,_e){return $?function(et,tt,nt,at){var ot=at<2?et.coord&&et.coord[at]:et.value;return parseDataValue(ot,_e[at])}:function(et,tt,nt,at){return parseDataValue(et.value,_e[at])}}function numCalculate($,_e,et){if(et==="average"){var tt=0,nt=0;return $.each(_e,function(at,ot){isNaN(at)||(tt+=at,nt++)}),tt/nt}else return et==="median"?$.getMedian(_e):$.getDataExtent(_e)[et==="max"?1:0]}var inner$4=makeInner(),MarkerView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.init=function(){this.markerGroupMap=createHashMap()},_e.prototype.render=function(et,tt,nt){var at=this,ot=this.markerGroupMap;ot.each(function(it){inner$4(it).keep=!1}),tt.eachSeries(function(it){var st=MarkerModel$1.getMarkerModelFromSeries(it,at.type);st&&at.renderSeries(it,st,tt,nt)}),ot.each(function(it){!inner$4(it).keep&&at.group.remove(it.group)})},_e.prototype.markKeep=function(et){inner$4(et).keep=!0},_e.prototype.toggleBlurSeries=function(et,tt){var nt=this;each$f(et,function(at){var ot=MarkerModel$1.getMarkerModelFromSeries(at,nt.type);if(ot){var it=ot.getData();it.eachItemGraphicEl(function(st){st&&(tt?enterBlur(st):leaveBlur(st))})}})},_e.type="marker",_e}(ComponentView$1),MarkerView$1=MarkerView;function updateMarkerLayout($,_e,et){var tt=_e.coordinateSystem;$.each(function(nt){var at=$.getItemModel(nt),ot,it=parsePercent(at.get("x"),et.getWidth()),st=parsePercent(at.get("y"),et.getHeight());if(!isNaN(it)&&!isNaN(st))ot=[it,st];else if(_e.getMarkerPosition)ot=_e.getMarkerPosition($.getValues($.dimensions,nt));else if(tt){var ut=$.get(tt.dimensions[0],nt),ft=$.get(tt.dimensions[1],nt);ot=tt.dataToPoint([ut,ft])}isNaN(it)||(ot[0]=it),isNaN(st)||(ot[1]=st),$.setItemLayout(nt,ot)})}var MarkPointView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.updateTransform=function(et,tt,nt){tt.eachSeries(function(at){var ot=MarkerModel$1.getMarkerModelFromSeries(at,"markPoint");ot&&(updateMarkerLayout(ot.getData(),at,nt),this.markerGroupMap.get(at.id).updateLayout())},this)},_e.prototype.renderSeries=function(et,tt,nt,at){var ot=et.coordinateSystem,it=et.id,st=et.getData(),ut=this.markerGroupMap,ft=ut.get(it)||ut.set(it,new SymbolDraw$1),dt=createData(ot,et,tt);tt.setData(dt),updateMarkerLayout(tt.getData(),et,at),dt.each(function(vt){var gt=dt.getItemModel(vt),yt=gt.getShallow("symbol"),xt=gt.getShallow("symbolSize"),Ct=gt.getShallow("symbolRotate"),wt=gt.getShallow("symbolOffset"),Et=gt.getShallow("symbolKeepAspect");if(isFunction(yt)||isFunction(xt)||isFunction(Ct)||isFunction(wt)){var $t=tt.getRawValue(vt),It=tt.getDataParams(vt);isFunction(yt)&&(yt=yt($t,It)),isFunction(xt)&&(xt=xt($t,It)),isFunction(Ct)&&(Ct=Ct($t,It)),isFunction(wt)&&(wt=wt($t,It))}var Ot=gt.getModel("itemStyle").getItemStyle(),Lt=getVisualFromData(st,"color");Ot.fill||(Ot.fill=Lt),dt.setItemVisual(vt,{symbol:yt,symbolSize:xt,symbolRotate:Ct,symbolOffset:wt,symbolKeepAspect:Et,style:Ot})}),ft.updateData(dt),this.group.add(ft.group),dt.eachItemGraphicEl(function(vt){vt.traverse(function(gt){getECData(gt).dataModel=tt})}),this.markKeep(ft),ft.group.silent=tt.get("silent")||et.get("silent")},_e.type="markPoint",_e}(MarkerView$1);function createData($,_e,et){var tt;$?tt=map$1($&&$.dimensions,function(it){var st=_e.getData().getDimensionInfo(_e.getData().mapDimension(it))||{};return extend(extend({},st),{name:it,ordinalMeta:null})}):tt=[{name:"value",type:"float"}];var nt=new SeriesData$1(tt,et),at=map$1(et.get("data"),curry$1(dataTransform,_e));$&&(at=filter(at,curry$1(dataFilter,$)));var ot=createMarkerDimValueGetter(!!$,tt);return nt.initData(at,null,ot),nt}var MarkPointView$1=MarkPointView;function install$e($){$.registerComponentModel(MarkPointModel$1),$.registerComponentView(MarkPointView$1),$.registerPreprocessor(function(_e){checkMarkerInSeries(_e.series,"markPoint")&&(_e.markPoint=_e.markPoint||{})})}var MarkLineModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.createMarkerModelFromSeries=function(et,tt,nt){return new _e(et,tt,nt)},_e.type="markLine",_e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},_e}(MarkerModel$1),MarkLineModel$1=MarkLineModel,inner$3=makeInner(),markLineTransform=function($,_e,et,tt){var nt=$.getData(),at;if(isArray$1(tt))at=tt;else{var ot=tt.type;if(ot==="min"||ot==="max"||ot==="average"||ot==="median"||tt.xAxis!=null||tt.yAxis!=null){var it=void 0,st=void 0;if(tt.yAxis!=null||tt.xAxis!=null)it=_e.getAxis(tt.yAxis!=null?"y":"x"),st=retrieve(tt.yAxis,tt.xAxis);else{var ut=getAxisInfo(tt,nt,_e,$);it=ut.valueAxis;var ft=getStackedDimension(nt,ut.valueDataDim);st=numCalculate(nt,ft,ot)}var dt=it.dim==="x"?0:1,vt=1-dt,gt=clone$4(tt),yt={coord:[]};gt.type=null,gt.coord=[],gt.coord[vt]=-1/0,yt.coord[vt]=1/0;var xt=et.get("precision");xt>=0&&isNumber(st)&&(st=+st.toFixed(Math.min(xt,20))),gt.coord[dt]=yt.coord[dt]=st,at=[gt,yt,{type:ot,valueIndex:tt.valueIndex,value:st}]}else at=[]}var Ct=[dataTransform($,at[0]),dataTransform($,at[1]),extend({},at[2])];return Ct[2].type=Ct[2].type||null,merge(Ct[2],Ct[0]),merge(Ct[2],Ct[1]),Ct};function isInifinity$1($){return!isNaN($)&&!isFinite($)}function ifMarkLineHasOnlyDim($,_e,et,tt){var nt=1-$,at=tt.dimensions[$];return isInifinity$1(_e[nt])&&isInifinity$1(et[nt])&&_e[$]===et[$]&&tt.getAxis(at).containData(_e[$])}function markLineFilter($,_e){if($.type==="cartesian2d"){var et=_e[0].coord,tt=_e[1].coord;if(et&&tt&&(ifMarkLineHasOnlyDim(1,et,tt,$)||ifMarkLineHasOnlyDim(0,et,tt,$)))return!0}return dataFilter($,_e[0])&&dataFilter($,_e[1])}function updateSingleMarkerEndLayout($,_e,et,tt,nt){var at=tt.coordinateSystem,ot=$.getItemModel(_e),it,st=parsePercent(ot.get("x"),nt.getWidth()),ut=parsePercent(ot.get("y"),nt.getHeight());if(!isNaN(st)&&!isNaN(ut))it=[st,ut];else{if(tt.getMarkerPosition)it=tt.getMarkerPosition($.getValues($.dimensions,_e));else{var ft=at.dimensions,dt=$.get(ft[0],_e),vt=$.get(ft[1],_e);it=at.dataToPoint([dt,vt])}if(isCoordinateSystemType(at,"cartesian2d")){var gt=at.getAxis("x"),yt=at.getAxis("y"),ft=at.dimensions;isInifinity$1($.get(ft[0],_e))?it[0]=gt.toGlobalCoord(gt.getExtent()[et?0:1]):isInifinity$1($.get(ft[1],_e))&&(it[1]=yt.toGlobalCoord(yt.getExtent()[et?0:1]))}isNaN(st)||(it[0]=st),isNaN(ut)||(it[1]=ut)}$.setItemLayout(_e,it)}var MarkLineView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.updateTransform=function(et,tt,nt){tt.eachSeries(function(at){var ot=MarkerModel$1.getMarkerModelFromSeries(at,"markLine");if(ot){var it=ot.getData(),st=inner$3(ot).from,ut=inner$3(ot).to;st.each(function(ft){updateSingleMarkerEndLayout(st,ft,!0,at,nt),updateSingleMarkerEndLayout(ut,ft,!1,at,nt)}),it.each(function(ft){it.setItemLayout(ft,[st.getItemLayout(ft),ut.getItemLayout(ft)])}),this.markerGroupMap.get(at.id).updateLayout()}},this)},_e.prototype.renderSeries=function(et,tt,nt,at){var ot=et.coordinateSystem,it=et.id,st=et.getData(),ut=this.markerGroupMap,ft=ut.get(it)||ut.set(it,new LineDraw$1);this.group.add(ft.group);var dt=createList$1(ot,et,tt),vt=dt.from,gt=dt.to,yt=dt.line;inner$3(tt).from=vt,inner$3(tt).to=gt,tt.setData(yt);var xt=tt.get("symbol"),Ct=tt.get("symbolSize"),wt=tt.get("symbolRotate"),Et=tt.get("symbolOffset");isArray$1(xt)||(xt=[xt,xt]),isArray$1(Ct)||(Ct=[Ct,Ct]),isArray$1(wt)||(wt=[wt,wt]),isArray$1(Et)||(Et=[Et,Et]),dt.from.each(function(It){$t(vt,It,!0),$t(gt,It,!1)}),yt.each(function(It){var Ot=yt.getItemModel(It).getModel("lineStyle").getLineStyle();yt.setItemLayout(It,[vt.getItemLayout(It),gt.getItemLayout(It)]),Ot.stroke==null&&(Ot.stroke=vt.getItemVisual(It,"style").fill),yt.setItemVisual(It,{fromSymbolKeepAspect:vt.getItemVisual(It,"symbolKeepAspect"),fromSymbolOffset:vt.getItemVisual(It,"symbolOffset"),fromSymbolRotate:vt.getItemVisual(It,"symbolRotate"),fromSymbolSize:vt.getItemVisual(It,"symbolSize"),fromSymbol:vt.getItemVisual(It,"symbol"),toSymbolKeepAspect:gt.getItemVisual(It,"symbolKeepAspect"),toSymbolOffset:gt.getItemVisual(It,"symbolOffset"),toSymbolRotate:gt.getItemVisual(It,"symbolRotate"),toSymbolSize:gt.getItemVisual(It,"symbolSize"),toSymbol:gt.getItemVisual(It,"symbol"),style:Ot})}),ft.updateData(yt),dt.line.eachItemGraphicEl(function(It){getECData(It).dataModel=tt,It.traverse(function(Ot){getECData(Ot).dataModel=tt})});function $t(It,Ot,Lt){var Ft=It.getItemModel(Ot);updateSingleMarkerEndLayout(It,Ot,Lt,et,at);var zt=Ft.getModel("itemStyle").getItemStyle();zt.fill==null&&(zt.fill=getVisualFromData(st,"color")),It.setItemVisual(Ot,{symbolKeepAspect:Ft.get("symbolKeepAspect"),symbolOffset:retrieve2(Ft.get("symbolOffset",!0),Et[Lt?0:1]),symbolRotate:retrieve2(Ft.get("symbolRotate",!0),wt[Lt?0:1]),symbolSize:retrieve2(Ft.get("symbolSize"),Ct[Lt?0:1]),symbol:retrieve2(Ft.get("symbol",!0),xt[Lt?0:1]),style:zt})}this.markKeep(ft),ft.group.silent=tt.get("silent")||et.get("silent")},_e.type="markLine",_e}(MarkerView$1);function createList$1($,_e,et){var tt;$?tt=map$1($&&$.dimensions,function(ut){var ft=_e.getData().getDimensionInfo(_e.getData().mapDimension(ut))||{};return extend(extend({},ft),{name:ut,ordinalMeta:null})}):tt=[{name:"value",type:"float"}];var nt=new SeriesData$1(tt,et),at=new SeriesData$1(tt,et),ot=new SeriesData$1([],et),it=map$1(et.get("data"),curry$1(markLineTransform,_e,$,et));$&&(it=filter(it,curry$1(markLineFilter,$)));var st=createMarkerDimValueGetter(!!$,tt);return nt.initData(map$1(it,function(ut){return ut[0]}),null,st),at.initData(map$1(it,function(ut){return ut[1]}),null,st),ot.initData(map$1(it,function(ut){return ut[2]})),ot.hasItemOption=!0,{from:nt,to:at,line:ot}}var MarkLineView$1=MarkLineView;function install$d($){$.registerComponentModel(MarkLineModel$1),$.registerComponentView(MarkLineView$1),$.registerPreprocessor(function(_e){checkMarkerInSeries(_e.series,"markLine")&&(_e.markLine=_e.markLine||{})})}var MarkAreaModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.createMarkerModelFromSeries=function(et,tt,nt){return new _e(et,tt,nt)},_e.type="markArea",_e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},_e}(MarkerModel$1),MarkAreaModel$1=MarkAreaModel,inner$2=makeInner(),markAreaTransform=function($,_e,et,tt){var nt=dataTransform($,tt[0]),at=dataTransform($,tt[1]),ot=nt.coord,it=at.coord;ot[0]=retrieve(ot[0],-1/0),ot[1]=retrieve(ot[1],-1/0),it[0]=retrieve(it[0],1/0),it[1]=retrieve(it[1],1/0);var st=mergeAll([{},nt,at]);return st.coord=[nt.coord,at.coord],st.x0=nt.x,st.y0=nt.y,st.x1=at.x,st.y1=at.y,st};function isInifinity($){return!isNaN($)&&!isFinite($)}function ifMarkAreaHasOnlyDim($,_e,et,tt){var nt=1-$;return isInifinity(_e[nt])&&isInifinity(et[nt])}function markAreaFilter($,_e){var et=_e.coord[0],tt=_e.coord[1],nt={coord:et,x:_e.x0,y:_e.y0},at={coord:tt,x:_e.x1,y:_e.y1};return isCoordinateSystemType($,"cartesian2d")?et&&tt&&(ifMarkAreaHasOnlyDim(1,et,tt)||ifMarkAreaHasOnlyDim(0,et,tt))?!0:zoneFilter($,nt,at):dataFilter($,nt)||dataFilter($,at)}function getSingleMarkerEndPoint($,_e,et,tt,nt){var at=tt.coordinateSystem,ot=$.getItemModel(_e),it,st=parsePercent(ot.get(et[0]),nt.getWidth()),ut=parsePercent(ot.get(et[1]),nt.getHeight());if(!isNaN(st)&&!isNaN(ut))it=[st,ut];else{if(tt.getMarkerPosition)it=tt.getMarkerPosition($.getValues(et,_e));else{var ft=$.get(et[0],_e),dt=$.get(et[1],_e),vt=[ft,dt];at.clampData&&at.clampData(vt,vt),it=at.dataToPoint(vt,!0)}if(isCoordinateSystemType(at,"cartesian2d")){var gt=at.getAxis("x"),yt=at.getAxis("y"),ft=$.get(et[0],_e),dt=$.get(et[1],_e);isInifinity(ft)?it[0]=gt.toGlobalCoord(gt.getExtent()[et[0]==="x0"?0:1]):isInifinity(dt)&&(it[1]=yt.toGlobalCoord(yt.getExtent()[et[1]==="y0"?0:1]))}isNaN(st)||(it[0]=st),isNaN(ut)||(it[1]=ut)}return it}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.updateTransform=function(et,tt,nt){tt.eachSeries(function(at){var ot=MarkerModel$1.getMarkerModelFromSeries(at,"markArea");if(ot){var it=ot.getData();it.each(function(st){var ut=map$1(dimPermutations,function(dt){return getSingleMarkerEndPoint(it,st,dt,at,nt)});it.setItemLayout(st,ut);var ft=it.getItemGraphicEl(st);ft.setShape("points",ut)})}},this)},_e.prototype.renderSeries=function(et,tt,nt,at){var ot=et.coordinateSystem,it=et.id,st=et.getData(),ut=this.markerGroupMap,ft=ut.get(it)||ut.set(it,{group:new Group$4});this.group.add(ft.group),this.markKeep(ft);var dt=createList(ot,et,tt);tt.setData(dt),dt.each(function(vt){var gt=map$1(dimPermutations,function(zt){return getSingleMarkerEndPoint(dt,vt,zt,et,at)}),yt=ot.getAxis("x").scale,xt=ot.getAxis("y").scale,Ct=yt.getExtent(),wt=xt.getExtent(),Et=[yt.parse(dt.get("x0",vt)),yt.parse(dt.get("x1",vt))],$t=[xt.parse(dt.get("y0",vt)),xt.parse(dt.get("y1",vt))];asc$2(Et),asc$2($t);var It=!(Ct[0]>Et[1]||Ct[1]<Et[0]||wt[0]>$t[1]||wt[1]<$t[0]),Ot=!It;dt.setItemLayout(vt,{points:gt,allClipped:Ot});var Lt=dt.getItemModel(vt).getModel("itemStyle").getItemStyle(),Ft=getVisualFromData(st,"color");Lt.fill||(Lt.fill=Ft,isString(Lt.fill)&&(Lt.fill=modifyAlpha(Lt.fill,.4))),Lt.stroke||(Lt.stroke=Ft),dt.setItemVisual(vt,"style",Lt)}),dt.diff(inner$2(ft).data).add(function(vt){var gt=dt.getItemLayout(vt);if(!gt.allClipped){var yt=new Polygon$1({shape:{points:gt.points}});dt.setItemGraphicEl(vt,yt),ft.group.add(yt)}}).update(function(vt,gt){var yt=inner$2(ft).data.getItemGraphicEl(gt),xt=dt.getItemLayout(vt);xt.allClipped?yt&&ft.group.remove(yt):(yt?updateProps$1(yt,{shape:{points:xt.points}},tt,vt):yt=new Polygon$1({shape:{points:xt.points}}),dt.setItemGraphicEl(vt,yt),ft.group.add(yt))}).remove(function(vt){var gt=inner$2(ft).data.getItemGraphicEl(vt);ft.group.remove(gt)}).execute(),dt.eachItemGraphicEl(function(vt,gt){var yt=dt.getItemModel(gt),xt=dt.getItemVisual(gt,"style");vt.useStyle(dt.getItemVisual(gt,"style")),setLabelStyle(vt,getLabelStatesModels(yt),{labelFetcher:tt,labelDataIndex:gt,defaultText:dt.getName(gt)||"",inheritColor:isString(xt.fill)?modifyAlpha(xt.fill,1):"#000"}),setStatesStylesFromModel(vt,yt),toggleHoverEmphasis(vt,null,null,yt.get(["emphasis","disabled"])),getECData(vt).dataModel=tt}),inner$2(ft).data=dt,ft.group.silent=tt.get("silent")||et.get("silent")},_e.type="markArea",_e}(MarkerView$1);function createList($,_e,et){var tt,nt,at=["x0","y0","x1","y1"];if($){var ot=map$1($&&$.dimensions,function(ut){var ft=_e.getData(),dt=ft.getDimensionInfo(ft.mapDimension(ut))||{};return extend(extend({},dt),{name:ut,ordinalMeta:null})});nt=map$1(at,function(ut,ft){return{name:ut,type:ot[ft%2].type}}),tt=new SeriesData$1(nt,et)}else nt=[{name:"value",type:"float"}],tt=new SeriesData$1(nt,et);var it=map$1(et.get("data"),curry$1(markAreaTransform,_e,$,et));$&&(it=filter(it,curry$1(markAreaFilter,$)));var st=$?function(ut,ft,dt,vt){var gt=ut.coord[Math.floor(vt/2)][vt%2];return parseDataValue(gt,nt[vt])}:function(ut,ft,dt,vt){return parseDataValue(ut.value,nt[vt])};return tt.initData(it,null,st),tt.hasItemOption=!0,tt}var MarkAreaView$1=MarkAreaView;function install$c($){$.registerComponentModel(MarkAreaModel$1),$.registerComponentView(MarkAreaView$1),$.registerPreprocessor(function(_e){checkMarkerInSeries(_e.series,"markArea")&&(_e.markArea=_e.markArea||{})})}var getDefaultSelectorOptions=function($,_e){if(_e==="all")return{type:"all",title:$.getLocaleModel().get(["legend","selector","all"])};if(_e==="inverse")return{type:"inverse",title:$.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.layoutMode={type:"box",ignoreSize:!0},et}return _e.prototype.init=function(et,tt,nt){this.mergeDefaultAndTheme(et,nt),et.selected=et.selected||{},this._updateSelector(et)},_e.prototype.mergeOption=function(et,tt){$.prototype.mergeOption.call(this,et,tt),this._updateSelector(et)},_e.prototype._updateSelector=function(et){var tt=et.selector,nt=this.ecModel;tt===!0&&(tt=et.selector=["all","inverse"]),isArray$1(tt)&&each$f(tt,function(at,ot){isString(at)&&(at={type:at}),tt[ot]=merge(at,getDefaultSelectorOptions(nt,at.type))})},_e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var et=this._data;if(et[0]&&this.get("selectedMode")==="single"){for(var tt=!1,nt=0;nt<et.length;nt++){var at=et[nt].get("name");if(this.isSelected(at)){this.select(at),tt=!0;break}}!tt&&this.select(et[0].get("name"))}},_e.prototype._updateData=function(et){var tt=[],nt=[];et.eachRawSeries(function(it){var st=it.name;nt.push(st);var ut;if(it.legendVisualProvider){var ft=it.legendVisualProvider,dt=ft.getAllNames();et.isSeriesFiltered(it)||(nt=nt.concat(dt)),dt.length?tt=tt.concat(dt):ut=!0}else ut=!0;ut&&isNameSpecified(it)&&tt.push(it.name)}),this._availableNames=nt;var at=this.get("data")||tt,ot=map$1(at,function(it){return(isString(it)||isNumber(it))&&(it={name:it}),new Model$1(it,this,this.ecModel)},this);this._data=ot},_e.prototype.getData=function(){return this._data},_e.prototype.select=function(et){var tt=this.option.selected,nt=this.get("selectedMode");if(nt==="single"){var at=this._data;each$f(at,function(ot){tt[ot.get("name")]=!1})}tt[et]=!0},_e.prototype.unSelect=function(et){this.get("selectedMode")!=="single"&&(this.option.selected[et]=!1)},_e.prototype.toggleSelected=function(et){var tt=this.option.selected;tt.hasOwnProperty(et)||(tt[et]=!0),this[tt[et]?"unSelect":"select"](et)},_e.prototype.allSelect=function(){var et=this._data,tt=this.option.selected;each$f(et,function(nt){tt[nt.get("name",!0)]=!0})},_e.prototype.inverseSelect=function(){var et=this._data,tt=this.option.selected;each$f(et,function(nt){var at=nt.get("name",!0);tt.hasOwnProperty(at)||(tt[at]=!0),tt[at]=!tt[at]})},_e.prototype.isSelected=function(et){var tt=this.option.selected;return!(tt.hasOwnProperty(et)&&!tt[et])&&indexOf(this._availableNames,et)>=0},_e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},_e.type="legend.plain",_e.dependencies=["series"],_e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},_e}(ComponentModel$1),LegendModel$1=LegendModel,curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.newlineDisabled=!1,et}return _e.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},_e.prototype.getContentGroup=function(){return this._contentGroup},_e.prototype.getSelectorGroup=function(){return this._selectorGroup},_e.prototype.render=function(et,tt,nt){var at=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!et.get("show",!0)){var ot=et.get("align"),it=et.get("orient");(!ot||ot==="auto")&&(ot=et.get("left")==="right"&&it==="vertical"?"right":"left");var st=et.get("selector",!0),ut=et.get("selectorPosition",!0);st&&(!ut||ut==="auto")&&(ut=it==="horizontal"?"end":"start"),this.renderInner(ot,et,tt,nt,st,it,ut);var ft=et.getBoxLayoutParams(),dt={width:nt.getWidth(),height:nt.getHeight()},vt=et.get("padding"),gt=getLayoutRect(ft,dt,vt),yt=this.layoutInner(et,ot,gt,at,st,ut),xt=getLayoutRect(defaults({width:yt.width,height:yt.height},ft),dt,vt);this.group.x=xt.x-yt.x,this.group.y=xt.y-yt.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(yt,et))}},_e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},_e.prototype.renderInner=function(et,tt,nt,at,ot,it,st){var ut=this.getContentGroup(),ft=createHashMap(),dt=tt.get("selectedMode"),vt=[];nt.eachRawSeries(function(gt){!gt.get("legendHoverLink")&&vt.push(gt.id)}),each$3(tt.getData(),function(gt,yt){var xt=gt.get("name");if(!this.newlineDisabled&&(xt===""||xt===`
`)){var Ct=new Group$1;Ct.newline=!0,ut.add(Ct);return}var wt=nt.getSeriesByName(xt)[0];if(!ft.get(xt))if(wt){var Et=wt.getData(),$t=Et.getVisual("legendLineStyle")||{},It=Et.getVisual("legendIcon"),Ot=Et.getVisual("style"),Lt=this._createItem(wt,xt,yt,gt,tt,et,$t,Ot,It,dt,at);Lt.on("click",curry(dispatchSelectAction,xt,null,at,vt)).on("mouseover",curry(dispatchHighlightAction,wt.name,null,at,vt)).on("mouseout",curry(dispatchDownplayAction,wt.name,null,at,vt)),ft.set(xt,!0)}else nt.eachRawSeries(function(Ft){if(!ft.get(xt)&&Ft.legendVisualProvider){var zt=Ft.legendVisualProvider;if(!zt.containName(xt))return;var Gt=zt.indexOfName(xt),jt=zt.getItemVisual(Gt,"style"),Ut=zt.getItemVisual(Gt,"legendIcon"),Kt=parse(jt.fill);Kt&&Kt[3]===0&&(Kt[3]=.2,jt=extend(extend({},jt),{fill:stringify(Kt,"rgba")}));var Zt=this._createItem(Ft,xt,yt,gt,tt,et,{},jt,Ut,dt,at);Zt.on("click",curry(dispatchSelectAction,null,xt,at,vt)).on("mouseover",curry(dispatchHighlightAction,null,xt,at,vt)).on("mouseout",curry(dispatchDownplayAction,null,xt,at,vt)),ft.set(xt,!0)}},this)},this),ot&&this._createSelector(ot,tt,at,it,st)},_e.prototype._createSelector=function(et,tt,nt,at,ot){var it=this.getSelectorGroup();each$3(et,function(ut){var ft=ut.type,dt=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){nt.dispatchAction({type:ft==="all"?"legendAllSelect":"legendInverseSelect"})}});it.add(dt);var vt=tt.getModel("selectorLabel"),gt=tt.getModel(["emphasis","selectorLabel"]);setLabelStyle(dt,{normal:vt,emphasis:gt},{defaultText:ut.title}),enableHoverEmphasis(dt)})},_e.prototype._createItem=function(et,tt,nt,at,ot,it,st,ut,ft,dt,vt){var gt=et.visualDrawType,yt=ot.get("itemWidth"),xt=ot.get("itemHeight"),Ct=ot.isSelected(tt),wt=at.get("symbolRotate"),Et=at.get("symbolKeepAspect"),$t=at.get("icon");ft=$t||ft||"roundRect";var It=getLegendStyle(ft,at,st,ut,gt,Ct,vt),Ot=new Group$1,Lt=at.getModel("textStyle");if(isFunction(et.getLegendIcon)&&(!$t||$t==="inherit"))Ot.add(et.getLegendIcon({itemWidth:yt,itemHeight:xt,icon:ft,iconRotate:wt,itemStyle:It.itemStyle,lineStyle:It.lineStyle,symbolKeepAspect:Et}));else{var Ft=$t==="inherit"&&et.getData().getVisual("symbol")?wt==="inherit"?et.getData().getVisual("symbolRotate"):wt:0;Ot.add(getDefaultLegendIcon({itemWidth:yt,itemHeight:xt,icon:ft,iconRotate:Ft,itemStyle:It.itemStyle,lineStyle:It.lineStyle,symbolKeepAspect:Et}))}var zt=it==="left"?yt+5:-5,Gt=it,jt=ot.get("formatter"),Ut=tt;isString(jt)&&jt?Ut=jt.replace("{name}",tt!=null?tt:""):isFunction(jt)&&(Ut=jt(tt));var Kt=at.get("inactiveColor");Ot.add(new ZRText$1({style:createTextStyle(Lt,{text:Ut,x:zt,y:xt/2,fill:Ct?Lt.getTextColor():Kt,align:Gt,verticalAlign:"middle"})}));var Zt=new Rect$3({shape:Ot.getBoundingRect(),invisible:!0}),Qt=at.getModel("tooltip");return Qt.get("show")&&setTooltipConfig({el:Zt,componentModel:ot,itemName:tt,itemTooltipOption:Qt.option}),Ot.add(Zt),Ot.eachChild(function(rr){rr.silent=!0}),Zt.silent=!dt,this.getContentGroup().add(Ot),enableHoverEmphasis(Ot),Ot.__legendDataIndex=nt,Ot},_e.prototype.layoutInner=function(et,tt,nt,at,ot,it){var st=this.getContentGroup(),ut=this.getSelectorGroup();box(et.get("orient"),st,et.get("itemGap"),nt.width,nt.height);var ft=st.getBoundingRect(),dt=[-ft.x,-ft.y];if(ut.markRedraw(),st.markRedraw(),ot){box("horizontal",ut,et.get("selectorItemGap",!0));var vt=ut.getBoundingRect(),gt=[-vt.x,-vt.y],yt=et.get("selectorButtonGap",!0),xt=et.getOrient().index,Ct=xt===0?"width":"height",wt=xt===0?"height":"width",Et=xt===0?"y":"x";it==="end"?gt[xt]+=ft[Ct]+yt:dt[xt]+=vt[Ct]+yt,gt[1-xt]+=ft[wt]/2-vt[wt]/2,ut.x=gt[0],ut.y=gt[1],st.x=dt[0],st.y=dt[1];var $t={x:0,y:0};return $t[Ct]=ft[Ct]+yt+vt[Ct],$t[wt]=Math.max(ft[wt],vt[wt]),$t[Et]=Math.min(0,vt[Et]+gt[1-xt]),$t}else return st.x=dt[0],st.y=dt[1],this.group.getBoundingRect()},_e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},_e.type="legend.plain",_e}(ComponentView$1);function getLegendStyle($,_e,et,tt,nt,at,ot){function it(Ct,wt){Ct.lineWidth==="auto"&&(Ct.lineWidth=wt.lineWidth>0?2:0),each$3(Ct,function(Et,$t){Ct[$t]==="inherit"&&(Ct[$t]=wt[$t])})}var st=_e.getModel("itemStyle"),ut=st.getItemStyle(),ft=$.lastIndexOf("empty",0)===0?"fill":"stroke",dt=st.getShallow("decal");ut.decal=!dt||dt==="inherit"?tt.decal:createOrUpdatePatternFromDecal(dt,ot),ut.fill==="inherit"&&(ut.fill=tt[nt]),ut.stroke==="inherit"&&(ut.stroke=tt[ft]),ut.opacity==="inherit"&&(ut.opacity=(nt==="fill"?tt:et).opacity),it(ut,tt);var vt=_e.getModel("lineStyle"),gt=vt.getLineStyle();if(it(gt,et),ut.fill==="auto"&&(ut.fill=tt.fill),ut.stroke==="auto"&&(ut.stroke=tt.fill),gt.stroke==="auto"&&(gt.stroke=tt.fill),!at){var yt=_e.get("inactiveBorderWidth"),xt=ut[ft];ut.lineWidth=yt==="auto"?tt.lineWidth>0&&xt?2:0:ut.lineWidth,ut.fill=_e.get("inactiveColor"),ut.stroke=_e.get("inactiveBorderColor"),gt.stroke=vt.get("inactiveColor"),gt.lineWidth=vt.get("inactiveWidth")}return{itemStyle:ut,lineStyle:gt}}function getDefaultLegendIcon($){var _e=$.icon||"roundRect",et=createSymbol$1(_e,0,0,$.itemWidth,$.itemHeight,$.itemStyle.fill,$.symbolKeepAspect);return et.setStyle($.itemStyle),et.rotation=($.iconRotate||0)*Math.PI/180,et.setOrigin([$.itemWidth/2,$.itemHeight/2]),_e.indexOf("empty")>-1&&(et.style.stroke=et.style.fill,et.style.fill="#fff",et.style.lineWidth=2),et}function dispatchSelectAction($,_e,et,tt){dispatchDownplayAction($,_e,et,tt),et.dispatchAction({type:"legendToggleSelect",name:$!=null?$:_e}),dispatchHighlightAction($,_e,et,tt)}function isUseHoverLayer($){for(var _e=$.getZr().storage.getDisplayList(),et,tt=0,nt=_e.length;tt<nt&&!(et=_e[tt].states.emphasis);)tt++;return et&&et.hoverLayer}function dispatchHighlightAction($,_e,et,tt){isUseHoverLayer(et)||et.dispatchAction({type:"highlight",seriesName:$,name:_e,excludeSeriesId:tt})}function dispatchDownplayAction($,_e,et,tt){isUseHoverLayer(et)||et.dispatchAction({type:"downplay",seriesName:$,name:_e,excludeSeriesId:tt})}var LegendView$1=LegendView;function legendFilter($){var _e=$.findComponents({mainType:"legend"});_e&&_e.length&&$.filterSeries(function(et){for(var tt=0;tt<_e.length;tt++)if(!_e[tt].isSelected(et.name))return!1;return!0})}function legendSelectActionHandler($,_e,et){var tt={},nt=$==="toggleSelected",at;return et.eachComponent("legend",function(ot){nt&&at!=null?ot[at?"select":"unSelect"](_e.name):$==="allSelect"||$==="inverseSelect"?ot[$]():(ot[$](_e.name),at=ot.isSelected(_e.name));var it=ot.getData();each$f(it,function(st){var ut=st.get("name");if(!(ut===`
`||ut==="")){var ft=ot.isSelected(ut);tt.hasOwnProperty(ut)?tt[ut]=tt[ut]&&ft:tt[ut]=ft}})}),$==="allSelect"||$==="inverseSelect"?{selected:tt}:{name:_e.name,selected:tt}}function installLegendAction($){$.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),$.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),$.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),$.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),$.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b($){$.registerComponentModel(LegendModel$1),$.registerComponentView(LegendView$1),$.registerProcessor($.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),$.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction($)}var ScrollableLegendModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.setScrollDataIndex=function(et){this.option.scrollDataIndex=et},_e.prototype.init=function(et,tt,nt){var at=getLayoutParams(et);$.prototype.init.call(this,et,tt,nt),mergeAndNormalizeLayoutParams(this,et,at)},_e.prototype.mergeOption=function(et,tt){$.prototype.mergeOption.call(this,et,tt),mergeAndNormalizeLayoutParams(this,this.option,et)},_e.type="legend.scroll",_e.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),_e}(LegendModel$1);function mergeAndNormalizeLayoutParams($,_e,et){var tt=$.getOrient(),nt=[1,1];nt[tt.index]=0,mergeLayoutParam(_e,et,{type:"box",ignoreSize:!!nt})}var ScrollableLegendModel$1=ScrollableLegendModel,Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.newlineDisabled=!0,et._currentIndex=0,et}return _e.prototype.init=function(){$.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},_e.prototype.resetInner=function(){$.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},_e.prototype.renderInner=function(et,tt,nt,at,ot,it,st){var ut=this;$.prototype.renderInner.call(this,et,tt,nt,at,ot,it,st);var ft=this._controllerGroup,dt=tt.get("pageIconSize",!0),vt=isArray$1(dt)?dt:[dt,dt];yt("pagePrev",0);var gt=tt.getModel("pageTextStyle");ft.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:gt.getTextColor(),font:gt.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),yt("pageNext",1);function yt(xt,Ct){var wt=xt+"DataIndex",Et=createIcon(tt.get("pageIcons",!0)[tt.getOrient().name][Ct],{onclick:bind$1(ut._pageGo,ut,wt,tt,at)},{x:-vt[0]/2,y:-vt[1]/2,width:vt[0],height:vt[1]});Et.name=xt,ft.add(Et)}},_e.prototype.layoutInner=function(et,tt,nt,at,ot,it){var st=this.getSelectorGroup(),ut=et.getOrient().index,ft=WH[ut],dt=XY[ut],vt=WH[1-ut],gt=XY[1-ut];ot&&box("horizontal",st,et.get("selectorItemGap",!0));var yt=et.get("selectorButtonGap",!0),xt=st.getBoundingRect(),Ct=[-xt.x,-xt.y],wt=clone$4(nt);ot&&(wt[ft]=nt[ft]-xt[ft]-yt);var Et=this._layoutContentAndController(et,at,wt,ut,ft,vt,gt,dt);if(ot){if(it==="end")Ct[ut]+=Et[ft]+yt;else{var $t=xt[ft]+yt;Ct[ut]-=$t,Et[dt]-=$t}Et[ft]+=xt[ft]+yt,Ct[1-ut]+=Et[gt]+Et[vt]/2-xt[vt]/2,Et[vt]=Math.max(Et[vt],xt[vt]),Et[gt]=Math.min(Et[gt],xt[gt]+Ct[1-ut]),st.x=Ct[0],st.y=Ct[1],st.markRedraw()}return Et},_e.prototype._layoutContentAndController=function(et,tt,nt,at,ot,it,st,ut){var ft=this.getContentGroup(),dt=this._containerGroup,vt=this._controllerGroup;box(et.get("orient"),ft,et.get("itemGap"),at?nt.width:null,at?null:nt.height),box("horizontal",vt,et.get("pageButtonItemGap",!0));var gt=ft.getBoundingRect(),yt=vt.getBoundingRect(),xt=this._showController=gt[ot]>nt[ot],Ct=[-gt.x,-gt.y];tt||(Ct[at]=ft[ut]);var wt=[0,0],Et=[-yt.x,-yt.y],$t=retrieve2(et.get("pageButtonGap",!0),et.get("itemGap",!0));if(xt){var It=et.get("pageButtonPosition",!0);It==="end"?Et[at]+=nt[ot]-yt[ot]:wt[at]+=yt[ot]+$t}Et[1-at]+=gt[it]/2-yt[it]/2,ft.setPosition(Ct),dt.setPosition(wt),vt.setPosition(Et);var Ot={x:0,y:0};if(Ot[ot]=xt?nt[ot]:gt[ot],Ot[it]=Math.max(gt[it],yt[it]),Ot[st]=Math.min(0,yt[st]+Et[1-at]),dt.__rectSize=nt[ot],xt){var Lt={x:0,y:0};Lt[ot]=Math.max(nt[ot]-yt[ot]-$t,0),Lt[it]=Ot[it],dt.setClipPath(new Rect$3({shape:Lt})),dt.__rectSize=Lt[ot]}else vt.eachChild(function(zt){zt.attr({invisible:!0,silent:!0})});var Ft=this._getPageInfo(et);return Ft.pageIndex!=null&&updateProps$1(ft,{x:Ft.contentPosition[0],y:Ft.contentPosition[1]},xt?et:null),this._updatePageInfoView(et,Ft),Ot},_e.prototype._pageGo=function(et,tt,nt){var at=this._getPageInfo(tt)[et];at!=null&&nt.dispatchAction({type:"legendScroll",scrollDataIndex:at,legendId:tt.id})},_e.prototype._updatePageInfoView=function(et,tt){var nt=this._controllerGroup;each$f(["pagePrev","pageNext"],function(ft){var dt=ft+"DataIndex",vt=tt[dt]!=null,gt=nt.childOfName(ft);gt&&(gt.setStyle("fill",vt?et.get("pageIconColor",!0):et.get("pageIconInactiveColor",!0)),gt.cursor=vt?"pointer":"default")});var at=nt.childOfName("pageText"),ot=et.get("pageFormatter"),it=tt.pageIndex,st=it!=null?it+1:0,ut=tt.pageCount;at&&ot&&at.setStyle("text",isString(ot)?ot.replace("{current}",st==null?"":st+"").replace("{total}",ut==null?"":ut+""):ot({current:st,total:ut}))},_e.prototype._getPageInfo=function(et){var tt=et.get("scrollDataIndex",!0),nt=this.getContentGroup(),at=this._containerGroup.__rectSize,ot=et.getOrient().index,it=WH[ot],st=XY[ot],ut=this._findTargetItemIndex(tt),ft=nt.children(),dt=ft[ut],vt=ft.length,gt=vt?1:0,yt={contentPosition:[nt.x,nt.y],pageCount:gt,pageIndex:gt-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!dt)return yt;var xt=It(dt);yt.contentPosition[ot]=-xt.s;for(var Ct=ut+1,wt=xt,Et=xt,$t=null;Ct<=vt;++Ct)$t=It(ft[Ct]),(!$t&&Et.e>wt.s+at||$t&&!Ot($t,wt.s))&&(Et.i>wt.i?wt=Et:wt=$t,wt&&(yt.pageNextDataIndex==null&&(yt.pageNextDataIndex=wt.i),++yt.pageCount)),Et=$t;for(var Ct=ut-1,wt=xt,Et=xt,$t=null;Ct>=-1;--Ct)$t=It(ft[Ct]),(!$t||!Ot(Et,$t.s))&&wt.i<Et.i&&(Et=wt,yt.pagePrevDataIndex==null&&(yt.pagePrevDataIndex=wt.i),++yt.pageCount,++yt.pageIndex),wt=$t;return yt;function It(Lt){if(Lt){var Ft=Lt.getBoundingRect(),zt=Ft[st]+Lt[st];return{s:zt,e:zt+Ft[it],i:Lt.__legendDataIndex}}}function Ot(Lt,Ft){return Lt.e>=Ft&&Lt.s<=Ft+at}},_e.prototype._findTargetItemIndex=function(et){if(!this._showController)return 0;var tt,nt=this.getContentGroup(),at;return nt.eachChild(function(ot,it){var st=ot.__legendDataIndex;at==null&&st!=null&&(at=it),st===et&&(tt=it)}),tt!=null?tt:at},_e.type="legend.scroll",_e}(LegendView$1),ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction($){$.registerAction("legendScroll","legendscroll",function(_e,et){var tt=_e.scrollDataIndex;tt!=null&&et.eachComponent({mainType:"legend",subType:"scroll",query:_e},function(nt){nt.setScrollDataIndex(tt)})})}function install$a($){use(install$b),$.registerComponentModel(ScrollableLegendModel$1),$.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction($)}function install$9($){use(install$b),use(install$a)}var InsideZoomModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="dataZoom.inside",_e.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),_e}(DataZoomModel$1),InsideZoomModel$1=InsideZoomModel,inner$1=makeInner();function setViewInfoToCoordSysRecord($,_e,et){inner$1($).coordSysRecordMap.each(function(tt){var nt=tt.dataZoomInfoMap.get(_e.uid);nt&&(nt.getRange=et)})}function disposeCoordSysRecordIfNeeded($,_e){for(var et=inner$1($).coordSysRecordMap,tt=et.keys(),nt=0;nt<tt.length;nt++){var at=tt[nt],ot=et.get(at),it=ot.dataZoomInfoMap;if(it){var st=_e.uid,ut=it.get(st);ut&&(it.removeKey(st),it.keys().length||disposeCoordSysRecord(et,ot))}}}function disposeCoordSysRecord($,_e){if(_e){$.removeKey(_e.model.uid);var et=_e.controller;et&&et.dispose()}}function createCoordSysRecord($,_e){var et={model:_e,containsPoint:curry$1(containsPoint,_e),dispatchAction:curry$1(dispatchAction,$),dataZoomInfoMap:null,controller:null},tt=et.controller=new RoamController$1($.getZr());return each$f(["pan","zoom","scrollMove"],function(nt){tt.on(nt,function(at){var ot=[];et.dataZoomInfoMap.each(function(it){if(!!at.isAvailableBehavior(it.model.option)){var st=(it.getRange||{})[nt],ut=st&&st(it.dzReferCoordSysInfo,et.model.mainType,et.controller,at);!it.model.get("disabled",!0)&&ut&&ot.push({dataZoomId:it.model.id,start:ut[0],end:ut[1]})}}),ot.length&&et.dispatchAction(ot)})}),et}function dispatchAction($,_e){$.isDisposed()||$.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:_e})}function containsPoint($,_e,et,tt){return $.coordinateSystem.containPoint([et,tt])}function mergeControllerParams($){var _e,et="type_",tt={type_true:2,type_move:1,type_false:0,type_undefined:-1},nt=!0;return $.each(function(at){var ot=at.model,it=ot.get("disabled",!0)?!1:ot.get("zoomLock",!0)?"move":!0;tt[et+it]>tt[et+_e]&&(_e=it),nt=nt&&ot.get("preventDefaultMouseMove",!0)}),{controlType:_e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!nt}}}function installDataZoomRoamProcessor($){$.registerProcessor($.PRIORITY.PROCESSOR.FILTER,function(_e,et){var tt=inner$1(et),nt=tt.coordSysRecordMap||(tt.coordSysRecordMap=createHashMap());nt.each(function(at){at.dataZoomInfoMap=null}),_e.eachComponent({mainType:"dataZoom",subType:"inside"},function(at){var ot=collectReferCoordSysModelInfo(at);each$f(ot.infoList,function(it){var st=it.model.uid,ut=nt.get(st)||nt.set(st,createCoordSysRecord(et,it.model)),ft=ut.dataZoomInfoMap||(ut.dataZoomInfoMap=createHashMap());ft.set(at.uid,{dzReferCoordSysInfo:it,model:at,getRange:null})})}),nt.each(function(at){var ot=at.controller,it,st=at.dataZoomInfoMap;if(st){var ut=st.keys()[0];ut!=null&&(it=st.get(ut))}if(!it){disposeCoordSysRecord(nt,at);return}var ft=mergeControllerParams(st);ot.enable(ft.controlType,ft.opt),ot.setPointerChecker(at.containsPoint),createOrUpdate(at,"dispatchAction",it.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="dataZoom.inside",et}return _e.prototype.render=function(et,tt,nt){if($.prototype.render.apply(this,arguments),et.noTarget()){this._clear();return}this.range=et.getPercentRange(),setViewInfoToCoordSysRecord(nt,et,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},_e.prototype.dispose=function(){this._clear(),$.prototype.dispose.apply(this,arguments)},_e.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},_e.type="dataZoom.inside",_e}(DataZoomView$1),getRangeHandlers={zoom:function($,_e,et,tt){var nt=this.range,at=nt.slice(),ot=$.axisModels[0];if(!!ot){var it=getDirectionInfo[_e](null,[tt.originX,tt.originY],ot,et,$),st=(it.signal>0?it.pixelStart+it.pixelLength-it.pixel:it.pixel-it.pixelStart)/it.pixelLength*(at[1]-at[0])+at[0],ut=Math.max(1/tt.scale,0);at[0]=(at[0]-st)*ut+st,at[1]=(at[1]-st)*ut+st;var ft=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,at,[0,100],0,ft.minSpan,ft.maxSpan),this.range=at,nt[0]!==at[0]||nt[1]!==at[1])return at}},pan:makeMover(function($,_e,et,tt,nt,at){var ot=getDirectionInfo[tt]([at.oldX,at.oldY],[at.newX,at.newY],_e,nt,et);return ot.signal*($[1]-$[0])*ot.pixel/ot.pixelLength}),scrollMove:makeMover(function($,_e,et,tt,nt,at){var ot=getDirectionInfo[tt]([0,0],[at.scrollDelta,at.scrollDelta],_e,nt,et);return ot.signal*($[1]-$[0])*at.scrollDelta})};function makeMover($){return function(_e,et,tt,nt){var at=this.range,ot=at.slice(),it=_e.axisModels[0];if(!!it){var st=$(ot,it,_e,et,tt,nt);if(sliderMove(st,ot,[0,100],"all"),this.range=ot,at[0]!==ot[0]||at[1]!==ot[1])return ot}}}var getDirectionInfo={grid:function($,_e,et,tt,nt){var at=et.axis,ot={},it=nt.model.coordinateSystem.getRect();return $=$||[0,0],at.dim==="x"?(ot.pixel=_e[0]-$[0],ot.pixelLength=it.width,ot.pixelStart=it.x,ot.signal=at.inverse?1:-1):(ot.pixel=_e[1]-$[1],ot.pixelLength=it.height,ot.pixelStart=it.y,ot.signal=at.inverse?-1:1),ot},polar:function($,_e,et,tt,nt){var at=et.axis,ot={},it=nt.model.coordinateSystem,st=it.getRadiusAxis().getExtent(),ut=it.getAngleAxis().getExtent();return $=$?it.pointToCoord($):[0,0],_e=it.pointToCoord(_e),et.mainType==="radiusAxis"?(ot.pixel=_e[0]-$[0],ot.pixelLength=st[1]-st[0],ot.pixelStart=st[0],ot.signal=at.inverse?1:-1):(ot.pixel=_e[1]-$[1],ot.pixelLength=ut[1]-ut[0],ot.pixelStart=ut[0],ot.signal=at.inverse?-1:1),ot},singleAxis:function($,_e,et,tt,nt){var at=et.axis,ot=nt.model.coordinateSystem.getRect(),it={};return $=$||[0,0],at.orient==="horizontal"?(it.pixel=_e[0]-$[0],it.pixelLength=ot.width,it.pixelStart=ot.x,it.signal=at.inverse?1:-1):(it.pixel=_e[1]-$[1],it.pixelLength=ot.height,it.pixelStart=ot.y,it.signal=at.inverse?-1:1),it}},InsideZoomView$1=InsideZoomView;function install$8($){installCommon$1($),$.registerComponentModel(InsideZoomModel$1),$.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor($)}var SliderZoomModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.type="dataZoom.slider",_e.layoutMode="box",_e.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),_e}(DataZoomModel$1),SliderZoomModel$1=SliderZoomModel,Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._displayables={},et}return _e.prototype.init=function(et,tt){this.api=tt,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},_e.prototype.render=function(et,tt,nt,at){if($.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",et.get("throttle"),"fixRate"),this._orient=et.getOrient(),et.get("show")===!1){this.group.removeAll();return}if(et.noTarget()){this._clear(),this.group.removeAll();return}(!at||at.type!=="dataZoom"||at.from!==this.uid)&&this._buildView(),this._updateView()},_e.prototype.dispose=function(){this._clear(),$.prototype.dispose.apply(this,arguments)},_e.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var et=this.api.getZr();et.off("mousemove",this._onBrush),et.off("mouseup",this._onBrushEnd)},_e.prototype._buildView=function(){var et=this.group;et.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var tt=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),et.add(tt),this._positionGroup()},_e.prototype._resetLocation=function(){var et=this.dataZoomModel,tt=this.api,nt=et.get("brushSelect"),at=nt?DEFAULT_MOVE_HANDLE_SIZE:0,ot=this._findCoordRect(),it={width:tt.getWidth(),height:tt.getHeight()},st=this._orient===HORIZONTAL?{right:it.width-ot.x-ot.width,top:it.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-at,width:ot.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:ot.y,width:DEFAULT_FILLER_SIZE,height:ot.height},ut=getLayoutParams(et.option);each$f(["right","top","width","height"],function(dt){ut[dt]==="ph"&&(ut[dt]=st[dt])});var ft=getLayoutRect(ut,it);this._location={x:ft.x,y:ft.y},this._size=[ft.width,ft.height],this._orient===VERTICAL&&this._size.reverse()},_e.prototype._positionGroup=function(){var et=this.group,tt=this._location,nt=this._orient,at=this.dataZoomModel.getFirstTargetAxisModel(),ot=at&&at.get("inverse"),it=this._displayables.sliderGroup,st=(this._dataShadowInfo||{}).otherAxisInverse;it.attr(nt===HORIZONTAL&&!ot?{scaleY:st?1:-1,scaleX:1}:nt===HORIZONTAL&&ot?{scaleY:st?1:-1,scaleX:-1}:nt===VERTICAL&&!ot?{scaleY:st?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:st?-1:1,scaleX:-1,rotation:Math.PI/2});var ut=et.getBoundingRect([it]);et.x=tt.x-ut.x,et.y=tt.y-ut.y,et.markRedraw()},_e.prototype._getViewExtent=function(){return[0,this._size[0]]},_e.prototype._renderBackground=function(){var et=this.dataZoomModel,tt=this._size,nt=this._displayables.sliderGroup,at=et.get("brushSelect");nt.add(new Rect({silent:!0,shape:{x:0,y:0,width:tt[0],height:tt[1]},style:{fill:et.get("backgroundColor")},z2:-40}));var ot=new Rect({shape:{x:0,y:0,width:tt[0],height:tt[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),it=this.api.getZr();at?(ot.on("mousedown",this._onBrushStart,this),ot.cursor="crosshair",it.on("mousemove",this._onBrush),it.on("mouseup",this._onBrushEnd)):(it.off("mousemove",this._onBrush),it.off("mouseup",this._onBrushEnd)),nt.add(ot)},_e.prototype._renderDataShadow=function(){var et=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!et)return;var tt=this._size,nt=this._shadowSize||[],at=et.series,ot=at.getRawData(),it=at.getShadowDim?at.getShadowDim():et.otherDim;if(it==null)return;var st=this._shadowPolygonPts,ut=this._shadowPolylinePts;if(ot!==this._shadowData||it!==this._shadowDim||tt[0]!==nt[0]||tt[1]!==nt[1]){var ft=ot.getDataExtent(it),dt=(ft[1]-ft[0])*.3;ft=[ft[0]-dt,ft[1]+dt];var vt=[0,tt[1]],gt=[0,tt[0]],yt=[[tt[0],0],[0,0]],xt=[],Ct=gt[1]/(ot.count()-1),wt=0,Et=Math.round(ot.count()/tt[0]),$t;ot.each([it],function(zt,Gt){if(Et>0&&Gt%Et){wt+=Ct;return}var jt=zt==null||isNaN(zt)||zt==="",Ut=jt?0:linearMap$2(zt,ft,vt,!0);jt&&!$t&&Gt?(yt.push([yt[yt.length-1][0],0]),xt.push([xt[xt.length-1][0],0])):!jt&&$t&&(yt.push([wt,0]),xt.push([wt,0])),yt.push([wt,Ut]),xt.push([wt,Ut]),wt+=Ct,$t=jt}),st=this._shadowPolygonPts=yt,ut=this._shadowPolylinePts=xt}this._shadowData=ot,this._shadowDim=it,this._shadowSize=[tt[0],tt[1]];var It=this.dataZoomModel;function Ot(zt){var Gt=It.getModel(zt?"selectedDataBackground":"dataBackground"),jt=new Group$4,Ut=new Polygon$1({shape:{points:st},segmentIgnoreThreshold:1,style:Gt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Kt=new Polyline$3({shape:{points:ut},segmentIgnoreThreshold:1,style:Gt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return jt.add(Ut),jt.add(Kt),jt}for(var Lt=0;Lt<3;Lt++){var Ft=Ot(Lt===1);this._displayables.sliderGroup.add(Ft),this._displayables.dataShadowSegs.push(Ft)}},_e.prototype._prepareDataShadowInfo=function(){var et=this.dataZoomModel,tt=et.get("showDataShadow");if(tt!==!1){var nt,at=this.ecModel;return et.eachTargetAxis(function(ot,it){var st=et.getAxisProxy(ot,it).getTargetSeriesModels();each$f(st,function(ut){if(!nt&&!(tt!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,ut.get("type"))<0)){var ft=at.getComponent(getAxisMainType(ot),it).axis,dt=getOtherDim(ot),vt,gt=ut.coordinateSystem;dt!=null&&gt.getOtherAxis&&(vt=gt.getOtherAxis(ft).inverse),dt=ut.getData().mapDimension(dt),nt={thisAxis:ft,series:ut,thisDim:ot,otherDim:dt,otherAxisInverse:vt}}},this)},this),nt}},_e.prototype._renderHandle=function(){var et=this.group,tt=this._displayables,nt=tt.handles=[null,null],at=tt.handleLabels=[null,null],ot=this._displayables.sliderGroup,it=this._size,st=this.dataZoomModel,ut=this.api,ft=st.get("borderRadius")||0,dt=st.get("brushSelect"),vt=tt.filler=new Rect({silent:dt,style:{fill:st.get("fillerColor")},textConfig:{position:"inside"}});ot.add(vt),ot.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:it[0],height:it[1],r:ft},style:{stroke:st.get("dataBackgroundColor")||st.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function($t){var It=st.get("handleIcon");!symbolBuildProxies[It]&&It.indexOf("path://")<0&&It.indexOf("image://")<0&&(It="path://"+It);var Ot=createSymbol$1(It,-1,0,2,2,null,!0);Ot.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,$t),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var Lt=Ot.getBoundingRect(),Ft=st.get("handleSize");this._handleHeight=parsePercent(Ft,this._size[1]),this._handleWidth=Lt.width/Lt.height*this._handleHeight,Ot.setStyle(st.getModel("handleStyle").getItemStyle()),Ot.style.strokeNoScale=!0,Ot.rectHover=!0,Ot.ensureState("emphasis").style=st.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(Ot);var zt=st.get("handleColor");zt!=null&&(Ot.style.fill=zt),ot.add(nt[$t]=Ot);var Gt=st.getModel("textStyle");et.add(at[$t]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(Gt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Gt.getTextColor(),font:Gt.getFont()}),z2:10}))},this);var gt=vt;if(dt){var yt=parsePercent(st.get("moveHandleSize"),it[1]),xt=tt.moveHandle=new Rect$3({style:st.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:it[1]-.5,height:yt}}),Ct=yt*.8,wt=tt.moveHandleIcon=createSymbol$1(st.get("moveHandleIcon"),-Ct/2,-Ct/2,Ct,Ct,"#fff",!0);wt.silent=!0,wt.y=it[1]+yt/2-.5,xt.ensureState("emphasis").style=st.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Et=Math.min(it[1]/2,Math.max(yt,10));gt=tt.moveZone=new Rect$3({invisible:!0,shape:{y:it[1]-Et,height:yt+Et}}),gt.on("mouseover",function(){ut.enterEmphasis(xt)}).on("mouseout",function(){ut.leaveEmphasis(xt)}),ot.add(xt),ot.add(wt),ot.add(gt)}gt.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},_e.prototype._resetInterval=function(){var et=this._range=this.dataZoomModel.getPercentRange(),tt=this._getViewExtent();this._handleEnds=[linearMap$2(et[0],[0,100],tt,!0),linearMap$2(et[1],[0,100],tt,!0)]},_e.prototype._updateInterval=function(et,tt){var nt=this.dataZoomModel,at=this._handleEnds,ot=this._getViewExtent(),it=nt.findRepresentativeAxisProxy().getMinMaxSpan(),st=[0,100];sliderMove(tt,at,ot,nt.get("zoomLock")?"all":et,it.minSpan!=null?linearMap$2(it.minSpan,st,ot,!0):null,it.maxSpan!=null?linearMap$2(it.maxSpan,st,ot,!0):null);var ut=this._range,ft=this._range=asc$2([linearMap$2(at[0],ot,st,!0),linearMap$2(at[1],ot,st,!0)]);return!ut||ut[0]!==ft[0]||ut[1]!==ft[1]},_e.prototype._updateView=function(et){var tt=this._displayables,nt=this._handleEnds,at=asc$2(nt.slice()),ot=this._size;each$f([0,1],function(gt){var yt=tt.handles[gt],xt=this._handleHeight;yt.attr({scaleX:xt/2,scaleY:xt/2,x:nt[gt]+(gt?-1:1),y:ot[1]/2-xt/2})},this),tt.filler.setShape({x:at[0],y:0,width:at[1]-at[0],height:ot[1]});var it={x:at[0],width:at[1]-at[0]};tt.moveHandle&&(tt.moveHandle.setShape(it),tt.moveZone.setShape(it),tt.moveZone.getBoundingRect(),tt.moveHandleIcon&&tt.moveHandleIcon.attr("x",it.x+it.width/2));for(var st=tt.dataShadowSegs,ut=[0,at[0],at[1],ot[0]],ft=0;ft<st.length;ft++){var dt=st[ft],vt=dt.getClipPath();vt||(vt=new Rect$3,dt.setClipPath(vt)),vt.setShape({x:ut[ft],y:0,width:ut[ft+1]-ut[ft],height:ot[1]})}this._updateDataInfo(et)},_e.prototype._updateDataInfo=function(et){var tt=this.dataZoomModel,nt=this._displayables,at=nt.handleLabels,ot=this._orient,it=["",""];if(tt.get("showDetail")){var st=tt.findRepresentativeAxisProxy();if(st){var ut=st.getAxisModel().axis,ft=this._range,dt=et?st.calculateDataWindow({start:ft[0],end:ft[1]}).valueWindow:st.getDataValueWindow();it=[this._formatLabel(dt[0],ut),this._formatLabel(dt[1],ut)]}}var vt=asc$2(this._handleEnds.slice());gt.call(this,0),gt.call(this,1);function gt(yt){var xt=getTransform$1(nt.handles[yt].parent,this.group),Ct=transformDirection(yt===0?"right":"left",xt),wt=this._handleWidth/2+LABEL_GAP,Et=applyTransform([vt[yt]+(yt===0?-wt:wt),this._size[1]/2],xt);at[yt].setStyle({x:Et[0],y:Et[1],verticalAlign:ot===HORIZONTAL?"middle":Ct,align:ot===HORIZONTAL?Ct:"center",text:it[yt]})}},_e.prototype._formatLabel=function(et,tt){var nt=this.dataZoomModel,at=nt.get("labelFormatter"),ot=nt.get("labelPrecision");(ot==null||ot==="auto")&&(ot=tt.getPixelPrecision());var it=et==null||isNaN(et)?"":tt.type==="category"||tt.type==="time"?tt.scale.getLabel({value:Math.round(et)}):et.toFixed(Math.min(ot,20));return isFunction(at)?at(et,it):isString(at)?at.replace("{value}",it):it},_e.prototype._showDataInfo=function(et){et=this._dragging||et;var tt=this._displayables,nt=tt.handleLabels;nt[0].attr("invisible",!et),nt[1].attr("invisible",!et),tt.moveHandle&&this.api[et?"enterEmphasis":"leaveEmphasis"](tt.moveHandle,1)},_e.prototype._onDragMove=function(et,tt,nt,at){this._dragging=!0,stop(at.event);var ot=this._displayables.sliderGroup.getLocalTransform(),it=applyTransform([tt,nt],ot,!0),st=this._updateInterval(et,it[0]),ut=this.dataZoomModel.get("realtime");this._updateView(!ut),st&&ut&&this._dispatchZoomAction(!0)},_e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var et=this.dataZoomModel.get("realtime");!et&&this._dispatchZoomAction(!1)},_e.prototype._onClickPanel=function(et){var tt=this._size,nt=this._displayables.sliderGroup.transformCoordToLocal(et.offsetX,et.offsetY);if(!(nt[0]<0||nt[0]>tt[0]||nt[1]<0||nt[1]>tt[1])){var at=this._handleEnds,ot=(at[0]+at[1])/2,it=this._updateInterval("all",nt[0]-ot);this._updateView(),it&&this._dispatchZoomAction(!1)}},_e.prototype._onBrushStart=function(et){var tt=et.offsetX,nt=et.offsetY;this._brushStart=new Point$1(tt,nt),this._brushing=!0,this._brushStartTime=+new Date},_e.prototype._onBrushEnd=function(et){if(!!this._brushing){var tt=this._displayables.brushRect;if(this._brushing=!1,!!tt){tt.attr("ignore",!0);var nt=tt.shape,at=+new Date;if(!(at-this._brushStartTime<200&&Math.abs(nt.width)<5)){var ot=this._getViewExtent(),it=[0,100];this._range=asc$2([linearMap$2(nt.x,ot,it,!0),linearMap$2(nt.x+nt.width,ot,it,!0)]),this._handleEnds=[nt.x,nt.x+nt.width],this._updateView(),this._dispatchZoomAction(!1)}}}},_e.prototype._onBrush=function(et){this._brushing&&(stop(et.event),this._updateBrushRect(et.offsetX,et.offsetY))},_e.prototype._updateBrushRect=function(et,tt){var nt=this._displayables,at=this.dataZoomModel,ot=nt.brushRect;ot||(ot=nt.brushRect=new Rect({silent:!0,style:at.getModel("brushStyle").getItemStyle()}),nt.sliderGroup.add(ot)),ot.attr("ignore",!1);var it=this._brushStart,st=this._displayables.sliderGroup,ut=st.transformCoordToLocal(et,tt),ft=st.transformCoordToLocal(it.x,it.y),dt=this._size;ut[0]=Math.max(Math.min(dt[0],ut[0]),0),ot.setShape({x:ft[0],y:0,width:ut[0]-ft[0],height:dt[1]})},_e.prototype._dispatchZoomAction=function(et){var tt=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:et?REALTIME_ANIMATION_CONFIG:null,start:tt[0],end:tt[1]})},_e.prototype._findCoordRect=function(){var et,tt=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!et&&tt.length){var nt=tt[0].model.coordinateSystem;et=nt.getRect&&nt.getRect()}if(!et){var at=this.api.getWidth(),ot=this.api.getHeight();et={x:at*.2,y:ot*.2,width:at*.6,height:ot*.6}}return et},_e.type="dataZoom.slider",_e}(DataZoomView$1);function getOtherDim($){var _e={x:"y",y:"x",radius:"angle",angle:"radius"};return _e[$]}function getCursor$1($){return $==="vertical"?"ns-resize":"ew-resize"}var SliderZoomView$1=SliderZoomView;function install$7($){$.registerComponentModel(SliderZoomModel$1),$.registerComponentView(SliderZoomView$1),installCommon$1($)}function install$6($){use(install$8),use(install$7)}var visualDefault={get:function($,_e,et){var tt=clone$4((defaultOption$1[$]||{})[_e]);return et&&isArray$1(tt)?tt[tt.length-1]:tt}},defaultOption$1={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},visualDefault$1=visualDefault,mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.stateList=["inRange","outOfRange"],et.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],et.layoutMode={type:"box",ignoreSize:!0},et.dataBound=[-1/0,1/0],et.targetVisuals={},et.controllerVisuals={},et}return _e.prototype.init=function(et,tt,nt){this.mergeDefaultAndTheme(et,nt)},_e.prototype.optionUpdated=function(et,tt){var nt=this.option;!tt&&replaceVisualOption(nt,et,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},_e.prototype.resetVisual=function(et){var tt=this.stateList;et=bind$1(et,this),this.controllerVisuals=createVisualMappings(this.option.controller,tt,et),this.targetVisuals=createVisualMappings(this.option.target,tt,et)},_e.prototype.getItemSymbol=function(){return null},_e.prototype.getTargetSeriesIndices=function(){var et=this.option.seriesIndex,tt=[];return et==null||et==="all"?this.ecModel.eachSeries(function(nt,at){tt.push(at)}):tt=normalizeToArray(et),tt},_e.prototype.eachTargetSeries=function(et,tt){each$f(this.getTargetSeriesIndices(),function(nt){var at=this.ecModel.getSeriesByIndex(nt);at&&et.call(tt,at)},this)},_e.prototype.isTargetSeries=function(et){var tt=!1;return this.eachTargetSeries(function(nt){nt===et&&(tt=!0)}),tt},_e.prototype.formatValueText=function(et,tt,nt){var at=this.option,ot=at.precision,it=this.dataBound,st=at.formatter,ut;nt=nt||["<",">"],isArray$1(et)&&(et=et.slice(),ut=!0);var ft=tt?et:ut?[dt(et[0]),dt(et[1])]:dt(et);if(isString(st))return st.replace("{value}",ut?ft[0]:ft).replace("{value2}",ut?ft[1]:ft);if(isFunction(st))return ut?st(et[0],et[1]):st(et);if(ut)return et[0]===it[0]?nt[0]+" "+ft[1]:et[1]===it[1]?nt[1]+" "+ft[0]:ft[0]+" - "+ft[1];return ft;function dt(vt){return vt===it[0]?"min":vt===it[1]?"max":(+vt).toFixed(Math.min(ot,20))}},_e.prototype.resetExtent=function(){var et=this.option,tt=asc([et.min,et.max]);this._dataExtent=tt},_e.prototype.getDataDimensionIndex=function(et){var tt=this.option.dimension;if(tt!=null)return et.getDimensionIndex(tt);for(var nt=et.dimensions,at=nt.length-1;at>=0;at--){var ot=nt[at],it=et.getDimensionInfo(ot);if(!it.isCalculationCoord)return it.storeDimIndex}},_e.prototype.getExtent=function(){return this._dataExtent.slice()},_e.prototype.completeVisualOption=function(){var et=this.ecModel,tt=this.option,nt={inRange:tt.inRange,outOfRange:tt.outOfRange},at=tt.target||(tt.target={}),ot=tt.controller||(tt.controller={});merge(at,nt),merge(ot,nt);var it=this.isCategory();st.call(this,at),st.call(this,ot),ut.call(this,at,"inRange","outOfRange"),ft.call(this,ot);function st(dt){isArray(tt.color)&&!dt.inRange&&(dt.inRange={color:tt.color.slice().reverse()}),dt.inRange=dt.inRange||{color:et.get("gradientColor")}}function ut(dt,vt,gt){var yt=dt[vt],xt=dt[gt];yt&&!xt&&(xt=dt[gt]={},each$2(yt,function(Ct,wt){if(!!VisualMapping$1.isValidType(wt)){var Et=visualDefault$1.get(wt,"inactive",it);Et!=null&&(xt[wt]=Et,wt==="color"&&!xt.hasOwnProperty("opacity")&&!xt.hasOwnProperty("colorAlpha")&&(xt.opacity=[0,0]))}}))}function ft(dt){var vt=(dt.inRange||{}).symbol||(dt.outOfRange||{}).symbol,gt=(dt.inRange||{}).symbolSize||(dt.outOfRange||{}).symbolSize,yt=this.get("inactiveColor"),xt=this.getItemSymbol(),Ct=xt||"roundRect";each$2(this.stateList,function(wt){var Et=this.itemSize,$t=dt[wt];$t||($t=dt[wt]={color:it?yt:[yt]}),$t.symbol==null&&($t.symbol=vt&&clone$4(vt)||(it?Ct:[Ct])),$t.symbolSize==null&&($t.symbolSize=gt&&clone$4(gt)||(it?Et[0]:[Et[0],Et[0]])),$t.symbol=mapVisual($t.symbol,function(Lt){return Lt==="none"?Ct:Lt});var It=$t.symbolSize;if(It!=null){var Ot=-1/0;eachVisual(It,function(Lt){Lt>Ot&&(Ot=Lt)}),$t.symbolSize=mapVisual(It,function(Lt){return linearMap$1(Lt,[0,Ot],[0,Et[0]],!0)})}},this)}},_e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},_e.prototype.isCategory=function(){return!!this.option.categories},_e.prototype.setSelected=function(et){},_e.prototype.getSelected=function(){return null},_e.prototype.getValueState=function(et){return null},_e.prototype.getVisualMeta=function(et){return null},_e.type="visualMap",_e.dependencies=["series"],_e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},_e}(ComponentModel$1),VisualMapModel$1=VisualMapModel,DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.optionUpdated=function(et,tt){$.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(nt){nt.mappingMethod="linear",nt.dataExtent=this.getExtent()}),this._resetRange()},_e.prototype.resetItemSize=function(){$.prototype.resetItemSize.apply(this,arguments);var et=this.itemSize;(et[0]==null||isNaN(et[0]))&&(et[0]=DEFAULT_BAR_BOUND[0]),(et[1]==null||isNaN(et[1]))&&(et[1]=DEFAULT_BAR_BOUND[1])},_e.prototype._resetRange=function(){var et=this.getExtent(),tt=this.option.range;!tt||tt.auto?(et.auto=1,this.option.range=et):isArray$1(tt)&&(tt[0]>tt[1]&&tt.reverse(),tt[0]=Math.max(tt[0],et[0]),tt[1]=Math.min(tt[1],et[1]))},_e.prototype.completeVisualOption=function(){$.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(et){var tt=this.option.controller[et].symbolSize;tt&&tt[0]!==tt[1]&&(tt[0]=tt[1]/3)},this)},_e.prototype.setSelected=function(et){this.option.range=et.slice(),this._resetRange()},_e.prototype.getSelected=function(){var et=this.getExtent(),tt=asc$2((this.get("range")||[]).slice());return tt[0]>et[1]&&(tt[0]=et[1]),tt[1]>et[1]&&(tt[1]=et[1]),tt[0]<et[0]&&(tt[0]=et[0]),tt[1]<et[0]&&(tt[1]=et[0]),tt},_e.prototype.getValueState=function(et){var tt=this.option.range,nt=this.getExtent();return(tt[0]<=nt[0]||tt[0]<=et)&&(tt[1]>=nt[1]||et<=tt[1])?"inRange":"outOfRange"},_e.prototype.findTargetDataIndices=function(et){var tt=[];return this.eachTargetSeries(function(nt){var at=[],ot=nt.getData();ot.each(this.getDataDimensionIndex(ot),function(it,st){et[0]<=it&&it<=et[1]&&at.push(st)},this),tt.push({seriesId:nt.id,dataIndex:at})},this),tt},_e.prototype.getVisualMeta=function(et){var tt=getColorStopValues(this,"outOfRange",this.getExtent()),nt=getColorStopValues(this,"inRange",this.option.range.slice()),at=[];function ot(gt,yt){at.push({value:gt,color:et(gt,yt)})}for(var it=0,st=0,ut=nt.length,ft=tt.length;st<ft&&(!nt.length||tt[st]<=nt[0]);st++)tt[st]<nt[it]&&ot(tt[st],"outOfRange");for(var dt=1;it<ut;it++,dt=0)dt&&at.length&&ot(nt[it],"outOfRange"),ot(nt[it],"inRange");for(var dt=1;st<ft;st++)(!nt.length||nt[nt.length-1]<tt[st])&&(dt&&(at.length&&ot(at[at.length-1].value,"outOfRange"),dt=0),ot(tt[st],"outOfRange"));var vt=at.length;return{stops:at,outerColors:[vt?at[0].color:"transparent",vt?at[vt-1].color:"transparent"]}},_e.type="visualMap.continuous",_e.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),_e}(VisualMapModel$1);function getColorStopValues($,_e,et){if(et[0]===et[1])return et.slice();for(var tt=200,nt=(et[1]-et[0])/tt,at=et[0],ot=[],it=0;it<=tt&&at<et[1];it++)ot.push(at),at+=nt;return ot.push(et[1]),ot}var ContinuousModel$1=ContinuousModel,VisualMapView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et.autoPositionValues={left:1,right:1,top:1,bottom:1},et}return _e.prototype.init=function(et,tt){this.ecModel=et,this.api=tt},_e.prototype.render=function(et,tt,nt,at){if(this.visualMapModel=et,et.get("show")===!1){this.group.removeAll();return}this.doRender(et,tt,nt,at)},_e.prototype.renderBackground=function(et){var tt=this.visualMapModel,nt=normalizeCssArray(tt.get("padding")||0),at=et.getBoundingRect();et.add(new Rect$3({z2:-1,silent:!0,shape:{x:at.x-nt[3],y:at.y-nt[0],width:at.width+nt[3]+nt[1],height:at.height+nt[0]+nt[2]},style:{fill:tt.get("backgroundColor"),stroke:tt.get("borderColor"),lineWidth:tt.get("borderWidth")}}))},_e.prototype.getControllerVisual=function(et,tt,nt){nt=nt||{};var at=nt.forceState,ot=this.visualMapModel,it={};if(tt==="color"){var st=ot.get("contentColor");it.color=st}function ut(gt){return it[gt]}function ft(gt,yt){it[gt]=yt}var dt=ot.controllerVisuals[at||ot.getValueState(et)],vt=VisualMapping$1.prepareVisualTypes(dt);return each$f(vt,function(gt){var yt=dt[gt];nt.convertOpacityToAlpha&&gt==="opacity"&&(gt="colorAlpha",yt=dt.__alphaForOpacity),VisualMapping$1.dependsOn(gt,tt)&&yt&&yt.applyVisual(et,ut,ft)}),it[tt]},_e.prototype.positionGroup=function(et){var tt=this.visualMapModel,nt=this.api;positionElement(et,tt.getBoxLayoutParams(),{width:nt.getWidth(),height:nt.getHeight()})},_e.prototype.doRender=function(et,tt,nt,at){},_e.type="visualMap",_e}(ComponentView$1),VisualMapView$1=VisualMapView,paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign($,_e,et){var tt=$.option,nt=tt.align;if(nt!=null&&nt!=="auto")return nt;for(var at={width:_e.getWidth(),height:_e.getHeight()},ot=tt.orient==="horizontal"?1:0,it=paramsSet[ot],st=[0,null,10],ut={},ft=0;ft<3;ft++)ut[paramsSet[1-ot][ft]]=st[ft],ut[it[ft]]=ft===2?et[0]:tt[it[ft]];var dt=[["x","width",3],["y","height",0]][ot],vt=getLayoutRect(ut,at,tt.padding);return it[(vt.margin[dt[2]]||0)+vt[dt[0]]+vt[dt[1]]*.5<at[dt[1]]*.5?0:1]}function makeHighDownBatch($,_e){return each$f($||[],function(et){et.dataIndex!=null&&(et.dataIndexInside=et.dataIndex,et.dataIndex=null),et.highlightKey="visualMap"+(_e?_e.componentIndex:"")}),$}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._shapes={},et._dataInterval=[],et._handleEnds=[],et._hoverLinkDataIndices=[],et}return _e.prototype.doRender=function(et,tt,nt,at){this._api=nt,(!at||at.type!=="selectDataRange"||at.from!==this.uid)&&this._buildView()},_e.prototype._buildView=function(){this.group.removeAll();var et=this.visualMapModel,tt=this.group;this._orient=et.get("orient"),this._useHandle=et.get("calculable"),this._resetInterval(),this._renderBar(tt);var nt=et.get("text");this._renderEndsText(tt,nt,0),this._renderEndsText(tt,nt,1),this._updateView(!0),this.renderBackground(tt),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(tt)},_e.prototype._renderEndsText=function(et,tt,nt){if(!!tt){var at=tt[1-nt];at=at!=null?at+"":"";var ot=this.visualMapModel,it=ot.get("textGap"),st=ot.itemSize,ut=this._shapes.mainGroup,ft=this._applyTransform([st[0]/2,nt===0?-it:st[1]+it],ut),dt=this._applyTransform(nt===0?"bottom":"top",ut),vt=this._orient,gt=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle(gt,{x:ft[0],y:ft[1],verticalAlign:vt==="horizontal"?"middle":dt,align:vt==="horizontal"?dt:"center",text:at})}))}},_e.prototype._renderBar=function(et){var tt=this.visualMapModel,nt=this._shapes,at=tt.itemSize,ot=this._orient,it=this._useHandle,st=getItemAlign(tt,this.api,at),ut=nt.mainGroup=this._createBarGroup(st),ft=new Group$4;ut.add(ft),ft.add(nt.outOfRange=createPolygon()),ft.add(nt.inRange=createPolygon(null,it?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),ft.setClipPath(new Rect$3({shape:{x:0,y:0,width:at[0],height:at[1],r:3}}));var dt=tt.textStyleModel.getTextRect("\u56FD"),vt=mathMax(dt.width,dt.height);it&&(nt.handleThumbs=[],nt.handleLabels=[],nt.handleLabelPoints=[],this._createHandle(tt,ut,0,at,vt,ot),this._createHandle(tt,ut,1,at,vt,ot)),this._createIndicator(tt,ut,at,vt,ot),et.add(ut)},_e.prototype._createHandle=function(et,tt,nt,at,ot,it){var st=bind$1(this._dragHandle,this,nt,!1),ut=bind$1(this._dragHandle,this,nt,!0),ft=parsePercent$1(et.get("handleSize"),at[0]),dt=createSymbol$1(et.get("handleIcon"),-ft/2,-ft/2,ft,ft,null,!0),vt=getCursor(this._orient);dt.attr({cursor:vt,draggable:!0,drift:st,ondragend:ut,onmousemove:function(wt){stop(wt.event)}}),dt.x=at[0]/2,dt.useStyle(et.getModel("handleStyle").getItemStyle()),dt.setStyle({strokeNoScale:!0,strokeFirst:!0}),dt.style.lineWidth*=2,dt.ensureState("emphasis").style=et.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(dt,!0),tt.add(dt);var gt=this.visualMapModel.textStyleModel,yt=new ZRText$1({cursor:vt,draggable:!0,drift:st,onmousemove:function(wt){stop(wt.event)},ondragend:ut,style:createTextStyle(gt,{x:0,y:0,text:""})});yt.ensureState("blur").style={opacity:.1},yt.stateTransition={duration:200},this.group.add(yt);var xt=[ft,0],Ct=this._shapes;Ct.handleThumbs[nt]=dt,Ct.handleLabelPoints[nt]=xt,Ct.handleLabels[nt]=yt},_e.prototype._createIndicator=function(et,tt,nt,at,ot){var it=parsePercent$1(et.get("indicatorSize"),nt[0]),st=createSymbol$1(et.get("indicatorIcon"),-it/2,-it/2,it,it,null,!0);st.attr({cursor:"move",invisible:!0,silent:!0,x:nt[0]/2});var ut=et.getModel("indicatorStyle").getItemStyle();if(st instanceof ZRImage$1){var ft=st.style;st.useStyle(extend({image:ft.image,x:ft.x,y:ft.y,width:ft.width,height:ft.height},ut))}else st.useStyle(ut);tt.add(st);var dt=this.visualMapModel.textStyleModel,vt=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(dt,{x:0,y:0,text:""})});this.group.add(vt);var gt=[(ot==="horizontal"?at/2:HOVER_LINK_OUT)+nt[0]/2,0],yt=this._shapes;yt.indicator=st,yt.indicatorLabel=vt,yt.indicatorLabelPoint=gt,this._firstShowIndicator=!0},_e.prototype._dragHandle=function(et,tt,nt,at){if(!!this._useHandle){if(this._dragging=!tt,!tt){var ot=this._applyTransform([nt,at],this._shapes.mainGroup,!0);this._updateInterval(et,ot[1]),this._hideIndicator(),this._updateView()}tt===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),tt?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[et],!1)}},_e.prototype._resetInterval=function(){var et=this.visualMapModel,tt=this._dataInterval=et.getSelected(),nt=et.getExtent(),at=[0,et.itemSize[1]];this._handleEnds=[linearMap(tt[0],nt,at,!0),linearMap(tt[1],nt,at,!0)]},_e.prototype._updateInterval=function(et,tt){tt=tt||0;var nt=this.visualMapModel,at=this._handleEnds,ot=[0,nt.itemSize[1]];sliderMove(tt,at,ot,et,0);var it=nt.getExtent();this._dataInterval=[linearMap(at[0],ot,it,!0),linearMap(at[1],ot,it,!0)]},_e.prototype._updateView=function(et){var tt=this.visualMapModel,nt=tt.getExtent(),at=this._shapes,ot=[0,tt.itemSize[1]],it=et?ot:this._handleEnds,st=this._createBarVisual(this._dataInterval,nt,it,"inRange"),ut=this._createBarVisual(nt,nt,ot,"outOfRange");at.inRange.setStyle({fill:st.barColor}).setShape("points",st.barPoints),at.outOfRange.setStyle({fill:ut.barColor}).setShape("points",ut.barPoints),this._updateHandle(it,st)},_e.prototype._createBarVisual=function(et,tt,nt,at){var ot={forceState:at,convertOpacityToAlpha:!0},it=this._makeColorGradient(et,ot),st=[this.getControllerVisual(et[0],"symbolSize",ot),this.getControllerVisual(et[1],"symbolSize",ot)],ut=this._createBarPoints(nt,st);return{barColor:new LinearGradient$1(0,0,0,1,it),barPoints:ut,handlesColor:[it[0].color,it[it.length-1].color]}},_e.prototype._makeColorGradient=function(et,tt){var nt=100,at=[],ot=(et[1]-et[0])/nt;at.push({color:this.getControllerVisual(et[0],"color",tt),offset:0});for(var it=1;it<nt;it++){var st=et[0]+ot*it;if(st>et[1])break;at.push({color:this.getControllerVisual(st,"color",tt),offset:it/nt})}return at.push({color:this.getControllerVisual(et[1],"color",tt),offset:1}),at},_e.prototype._createBarPoints=function(et,tt){var nt=this.visualMapModel.itemSize;return[[nt[0]-tt[0],et[0]],[nt[0],et[0]],[nt[0],et[1]],[nt[0]-tt[1],et[1]]]},_e.prototype._createBarGroup=function(et){var tt=this._orient,nt=this.visualMapModel.get("inverse");return new Group$4(tt==="horizontal"&&!nt?{scaleX:et==="bottom"?1:-1,rotation:Math.PI/2}:tt==="horizontal"&&nt?{scaleX:et==="bottom"?-1:1,rotation:-Math.PI/2}:tt==="vertical"&&!nt?{scaleX:et==="left"?1:-1,scaleY:-1}:{scaleX:et==="left"?1:-1})},_e.prototype._updateHandle=function(et,tt){if(!!this._useHandle){var nt=this._shapes,at=this.visualMapModel,ot=nt.handleThumbs,it=nt.handleLabels,st=at.itemSize,ut=at.getExtent();each$1([0,1],function(ft){var dt=ot[ft];dt.setStyle("fill",tt.handlesColor[ft]),dt.y=et[ft];var vt=linearMap(et[ft],[0,st[1]],ut,!0),gt=this.getControllerVisual(vt,"symbolSize");dt.scaleX=dt.scaleY=gt/st[0],dt.x=st[0]-gt/2;var yt=applyTransform(nt.handleLabelPoints[ft],getTransform$1(dt,this.group));it[ft].setStyle({x:yt[0],y:yt[1],text:at.formatValueText(this._dataInterval[ft]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",nt.mainGroup):"center"})},this)}},_e.prototype._showIndicator=function(et,tt,nt,at){var ot=this.visualMapModel,it=ot.getExtent(),st=ot.itemSize,ut=[0,st[1]],ft=this._shapes,dt=ft.indicator;if(!!dt){dt.attr("invisible",!1);var vt={convertOpacityToAlpha:!0},gt=this.getControllerVisual(et,"color",vt),yt=this.getControllerVisual(et,"symbolSize"),xt=linearMap(et,it,ut,!0),Ct=st[0]-yt/2,wt={x:dt.x,y:dt.y};dt.y=xt,dt.x=Ct;var Et=applyTransform(ft.indicatorLabelPoint,getTransform$1(dt,this.group)),$t=ft.indicatorLabel;$t.attr("invisible",!1);var It=this._applyTransform("left",ft.mainGroup),Ot=this._orient,Lt=Ot==="horizontal";$t.setStyle({text:(nt||"")+ot.formatValueText(tt),verticalAlign:Lt?It:"middle",align:Lt?"center":It});var Ft={x:Ct,y:xt,style:{fill:gt}},zt={style:{x:Et[0],y:Et[1]}};if(ot.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Gt={duration:100,easing:"cubicInOut",additive:!0};dt.x=wt.x,dt.y=wt.y,dt.animateTo(Ft,Gt),$t.animateTo(zt,Gt)}else dt.attr(Ft),$t.attr(zt);this._firstShowIndicator=!1;var jt=this._shapes.handleLabels;if(jt)for(var Ut=0;Ut<jt.length;Ut++)this._api.enterBlur(jt[Ut])}},_e.prototype._enableHoverLinkToSeries=function(){var et=this;this._shapes.mainGroup.on("mousemove",function(tt){if(et._hovering=!0,!et._dragging){var nt=et.visualMapModel.itemSize,at=et._applyTransform([tt.offsetX,tt.offsetY],et._shapes.mainGroup,!0,!0);at[1]=mathMin(mathMax(0,at[1]),nt[1]),et._doHoverLinkToSeries(at[1],0<=at[0]&&at[0]<=nt[0])}}).on("mouseout",function(){et._hovering=!1,!et._dragging&&et._clearHoverLinkToSeries()})},_e.prototype._enableHoverLinkFromSeries=function(){var et=this.api.getZr();this.visualMapModel.option.hoverLink?(et.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),et.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_e.prototype._doHoverLinkToSeries=function(et,tt){var nt=this.visualMapModel,at=nt.itemSize;if(!!nt.option.hoverLink){var ot=[0,at[1]],it=nt.getExtent();et=mathMin(mathMax(ot[0],et),ot[1]);var st=getHalfHoverLinkSize(nt,it,ot),ut=[et-st,et+st],ft=linearMap(et,ot,it,!0),dt=[linearMap(ut[0],ot,it,!0),linearMap(ut[1],ot,it,!0)];ut[0]<ot[0]&&(dt[0]=-1/0),ut[1]>ot[1]&&(dt[1]=1/0),tt&&(dt[0]===-1/0?this._showIndicator(ft,dt[1],"< ",st):dt[1]===1/0?this._showIndicator(ft,dt[0],"> ",st):this._showIndicator(ft,ft,"\u2248 ",st));var vt=this._hoverLinkDataIndices,gt=[];(tt||useHoverLinkOnHandle(nt))&&(gt=this._hoverLinkDataIndices=nt.findTargetDataIndices(dt));var yt=compressBatches(vt,gt);this._dispatchHighDown("downplay",makeHighDownBatch(yt[0],nt)),this._dispatchHighDown("highlight",makeHighDownBatch(yt[1],nt))}},_e.prototype._hoverLinkFromSeriesMouseOver=function(et){var tt=et.target,nt=this.visualMapModel;if(!(!tt||getECData(tt).dataIndex==null)){var at=getECData(tt),ot=this.ecModel.getSeriesByIndex(at.seriesIndex);if(!!nt.isTargetSeries(ot)){var it=ot.getData(at.dataType),st=it.getStore().get(nt.getDataDimensionIndex(it),at.dataIndex);isNaN(st)||this._showIndicator(st,st)}}},_e.prototype._hideIndicator=function(){var et=this._shapes;et.indicator&&et.indicator.attr("invisible",!0),et.indicatorLabel&&et.indicatorLabel.attr("invisible",!0);var tt=this._shapes.handleLabels;if(tt)for(var nt=0;nt<tt.length;nt++)this._api.leaveBlur(tt[nt])},_e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var et=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(et,this.visualMapModel)),et.length=0},_e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var et=this.api.getZr();et.off("mouseover",this._hoverLinkFromSeriesMouseOver),et.off("mouseout",this._hideIndicator)},_e.prototype._applyTransform=function(et,tt,nt,at){var ot=getTransform$1(tt,at?null:this.group);return isArray$1(et)?applyTransform(et,ot,nt):transformDirection(et,ot,nt)},_e.prototype._dispatchHighDown=function(et,tt){tt&&tt.length&&this.api.dispatchAction({type:et,batch:tt})},_e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},_e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},_e.type="visualMap.continuous",_e}(VisualMapView$1);function createPolygon($,_e,et,tt){return new Polygon$1({shape:{points:$},draggable:!!et,cursor:_e,drift:et,onmousemove:function(nt){stop(nt.event)},ondragend:tt})}function getHalfHoverLinkSize($,_e,et){var tt=HOVER_LINK_SIZE/2,nt=$.get("hoverLinkDataSize");return nt&&(tt=linearMap(nt,_e,et,!0)/2),tt}function useHoverLinkOnHandle($){var _e=$.get("hoverLinkOnHandle");return!!(_e==null?$.get("realtime"):_e)}function getCursor($){return $==="vertical"?"ns-resize":"ew-resize"}var ContinuousView$1=ContinuousView,visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function($,_e){_e.eachComponent({mainType:"visualMap",query:$},function(et){et.setSelected($.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function($,_e){var et=[];return _e.eachComponent("visualMap",function(tt){var nt=$.pipelineContext;!tt.isTargetSeries($)||nt&&nt.large||et.push(incrementalApplyVisual(tt.stateList,tt.targetVisuals,bind$1(tt.getValueState,tt),tt.getDataDimensionIndex($.getData())))}),et}},{createOnAllSeries:!0,reset:function($,_e){var et=$.getData(),tt=[];_e.eachComponent("visualMap",function(nt){if(nt.isTargetSeries($)){var at=nt.getVisualMeta(bind$1(getColorVisual,null,$,nt))||{stops:[],outerColors:[]},ot=nt.getDataDimensionIndex(et);ot>=0&&(at.dimension=ot,tt.push(at))}}),$.getData().setVisual("visualMeta",tt)}}];function getColorVisual($,_e,et,tt){for(var nt=_e.targetVisuals[tt],at=VisualMapping$1.prepareVisualTypes(nt),ot={color:getVisualFromData($.getData(),"color")},it=0,st=at.length;it<st;it++){var ut=at[it],ft=nt[ut==="opacity"?"__alphaForOpacity":ut];ft&&ft.applyVisual(et,dt,vt)}return ot.color;function dt(gt){return ot[gt]}function vt(gt,yt){ot[gt]=yt}}var each=each$f;function visualMapPreprocessor($){var _e=$&&$.visualMap;isArray$1(_e)||(_e=_e?[_e]:[]),each(_e,function(et){if(!!et){has(et,"splitList")&&!has(et,"pieces")&&(et.pieces=et.splitList,delete et.splitList);var tt=et.pieces;tt&&isArray$1(tt)&&each(tt,function(nt){isObject$3(nt)&&(has(nt,"start")&&!has(nt,"min")&&(nt.min=nt.start),has(nt,"end")&&!has(nt,"max")&&(nt.max=nt.end))})}})}function has($,_e){return $&&$.hasOwnProperty&&$.hasOwnProperty(_e)}var installed=!1;function installCommon($){installed||(installed=!0,$.registerSubTypeDefaulter("visualMap",function(_e){return!_e.categories&&(!(_e.pieces?_e.pieces.length>0:_e.splitNumber>0)||_e.calculable)?"continuous":"piecewise"}),$.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(_e){$.registerVisual($.PRIORITY.VISUAL.COMPONENT,_e)}),$.registerPreprocessor(visualMapPreprocessor))}function install$5($){$.registerComponentModel(ContinuousModel$1),$.registerComponentView(ContinuousView$1),installCommon($)}var PiecewiseModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et._pieceList=[],et}return _e.prototype.optionUpdated=function(et,tt){$.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var nt=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(et,tt);var at=this.option.categories;this.resetVisual(function(ot,it){nt==="categories"?(ot.mappingMethod="category",ot.categories=clone$4(at)):(ot.dataExtent=this.getExtent(),ot.mappingMethod="piecewise",ot.pieceList=map$1(this._pieceList,function(st){return st=clone$4(st),it!=="inRange"&&(st.visual=null),st}))})},_e.prototype.completeVisualOption=function(){var et=this.option,tt={},nt=VisualMapping$1.listVisualTypes(),at=this.isCategory();each$f(et.pieces,function(it){each$f(nt,function(st){it.hasOwnProperty(st)&&(tt[st]=1)})}),each$f(tt,function(it,st){var ut=!1;each$f(this.stateList,function(ft){ut=ut||ot(et,ft,st)||ot(et.target,ft,st)},this),!ut&&each$f(this.stateList,function(ft){(et[ft]||(et[ft]={}))[st]=visualDefault$1.get(st,ft==="inRange"?"active":"inactive",at)})},this);function ot(it,st,ut){return it&&it[st]&&it[st].hasOwnProperty(ut)}$.prototype.completeVisualOption.apply(this,arguments)},_e.prototype._resetSelected=function(et,tt){var nt=this.option,at=this._pieceList,ot=(tt?nt:et).selected||{};if(nt.selected=ot,each$f(at,function(st,ut){var ft=this.getSelectedMapKey(st);ot.hasOwnProperty(ft)||(ot[ft]=!0)},this),nt.selectedMode==="single"){var it=!1;each$f(at,function(st,ut){var ft=this.getSelectedMapKey(st);ot[ft]&&(it?ot[ft]=!1:it=!0)},this)}},_e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},_e.prototype.getSelectedMapKey=function(et){return this._mode==="categories"?et.value+"":et.index+""},_e.prototype.getPieceList=function(){return this._pieceList},_e.prototype._determineMode=function(){var et=this.option;return et.pieces&&et.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},_e.prototype.setSelected=function(et){this.option.selected=clone$4(et)},_e.prototype.getValueState=function(et){var tt=VisualMapping$1.findPieceIndex(et,this._pieceList);return tt!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[tt])]?"inRange":"outOfRange"},_e.prototype.findTargetDataIndices=function(et){var tt=[],nt=this._pieceList;return this.eachTargetSeries(function(at){var ot=[],it=at.getData();it.each(this.getDataDimensionIndex(it),function(st,ut){var ft=VisualMapping$1.findPieceIndex(st,nt);ft===et&&ot.push(ut)},this),tt.push({seriesId:at.id,dataIndex:ot})},this),tt},_e.prototype.getRepresentValue=function(et){var tt;if(this.isCategory())tt=et.value;else if(et.value!=null)tt=et.value;else{var nt=et.interval||[];tt=nt[0]===-1/0&&nt[1]===1/0?0:(nt[0]+nt[1])/2}return tt},_e.prototype.getVisualMeta=function(et){if(this.isCategory())return;var tt=[],nt=["",""],at=this;function ot(ft,dt){var vt=at.getRepresentValue({interval:ft});dt||(dt=at.getValueState(vt));var gt=et(vt,dt);ft[0]===-1/0?nt[0]=gt:ft[1]===1/0?nt[1]=gt:tt.push({value:ft[0],color:gt},{value:ft[1],color:gt})}var it=this._pieceList.slice();if(!it.length)it.push({interval:[-1/0,1/0]});else{var st=it[0].interval[0];st!==-1/0&&it.unshift({interval:[-1/0,st]}),st=it[it.length-1].interval[1],st!==1/0&&it.push({interval:[st,1/0]})}var ut=-1/0;return each$f(it,function(ft){var dt=ft.interval;dt&&(dt[0]>ut&&ot([ut,dt[0]],"outOfRange"),ot(dt.slice()),ut=dt[1])},this),{stops:tt,outerColors:nt}},_e.type="visualMap.piecewise",_e.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),_e}(VisualMapModel$1),resetMethods={splitNumber:function($){var _e=this.option,et=Math.min(_e.precision,20),tt=this.getExtent(),nt=_e.splitNumber;nt=Math.max(parseInt(nt,10),1),_e.splitNumber=nt;for(var at=(tt[1]-tt[0])/nt;+at.toFixed(et)!==at&&et<5;)et++;_e.precision=et,at=+at.toFixed(et),_e.minOpen&&$.push({interval:[-1/0,tt[0]],close:[0,0]});for(var ot=0,it=tt[0];ot<nt;it+=at,ot++){var st=ot===nt-1?tt[1]:it+at;$.push({interval:[it,st],close:[1,1]})}_e.maxOpen&&$.push({interval:[tt[1],1/0],close:[0,0]}),reformIntervals($),each$f($,function(ut,ft){ut.index=ft,ut.text=this.formatValueText(ut.interval)},this)},categories:function($){var _e=this.option;each$f(_e.categories,function(et){$.push({text:this.formatValueText(et,!0),value:et})},this),normalizeReverse(_e,$)},pieces:function($){var _e=this.option;each$f(_e.pieces,function(et,tt){isObject$3(et)||(et={value:et});var nt={text:"",index:tt};if(et.label!=null&&(nt.text=et.label),et.hasOwnProperty("value")){var at=nt.value=et.value;nt.interval=[at,at],nt.close=[1,1]}else{for(var ot=nt.interval=[],it=nt.close=[0,0],st=[1,0,1],ut=[-1/0,1/0],ft=[],dt=0;dt<2;dt++){for(var vt=[["gte","gt","min"],["lte","lt","max"]][dt],gt=0;gt<3&&ot[dt]==null;gt++)ot[dt]=et[vt[gt]],it[dt]=st[gt],ft[dt]=gt===2;ot[dt]==null&&(ot[dt]=ut[dt])}ft[0]&&ot[1]===1/0&&(it[0]=0),ft[1]&&ot[0]===-1/0&&(it[1]=0),ot[0]===ot[1]&&it[0]&&it[1]&&(nt.value=ot[0])}nt.visual=VisualMapping$1.retrieveVisuals(et),$.push(nt)},this),normalizeReverse(_e,$),reformIntervals($),each$f($,function(et){var tt=et.close,nt=[["<","\u2264"][tt[1]],[">","\u2265"][tt[0]]];et.text=et.text||this.formatValueText(et.value!=null?et.value:et.interval,!1,nt)},this)}};function normalizeReverse($,_e){var et=$.inverse;($.orient==="vertical"?!et:et)&&_e.reverse()}var PiecewiseModel$1=PiecewiseModel,PiecewiseVisualMapView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type=_e.type,et}return _e.prototype.doRender=function(){var et=this.group;et.removeAll();var tt=this.visualMapModel,nt=tt.get("textGap"),at=tt.textStyleModel,ot=at.getFont(),it=at.getTextColor(),st=this._getItemAlign(),ut=tt.itemSize,ft=this._getViewData(),dt=ft.endsText,vt=retrieve(tt.get("showLabel",!0),!dt);dt&&this._renderEndsText(et,dt[0],ut,vt,st),each$f(ft.viewPieceList,function(gt){var yt=gt.piece,xt=new Group$4;xt.onclick=bind$1(this._onItemClick,this,yt),this._enableHoverLink(xt,gt.indexInModelPieceList);var Ct=tt.getRepresentValue(yt);if(this._createItemSymbol(xt,Ct,[0,0,ut[0],ut[1]]),vt){var wt=this.visualMapModel.getValueState(Ct);xt.add(new ZRText$1({style:{x:st==="right"?-nt:ut[0]+nt,y:ut[1]/2,text:yt.text,verticalAlign:"middle",align:st,font:ot,fill:it,opacity:wt==="outOfRange"?.5:1}}))}et.add(xt)},this),dt&&this._renderEndsText(et,dt[1],ut,vt,st),box(tt.get("orient"),et,tt.get("itemGap")),this.renderBackground(et),this.positionGroup(et)},_e.prototype._enableHoverLink=function(et,tt){var nt=this;et.on("mouseover",function(){return at("highlight")}).on("mouseout",function(){return at("downplay")});var at=function(ot){var it=nt.visualMapModel;it.option.hoverLink&&nt.api.dispatchAction({type:ot,batch:makeHighDownBatch(it.findTargetDataIndices(tt),it)})}},_e.prototype._getItemAlign=function(){var et=this.visualMapModel,tt=et.option;if(tt.orient==="vertical")return getItemAlign(et,this.api,et.itemSize);var nt=tt.align;return(!nt||nt==="auto")&&(nt="left"),nt},_e.prototype._renderEndsText=function(et,tt,nt,at,ot){if(!!tt){var it=new Group$4,st=this.visualMapModel.textStyleModel;it.add(new ZRText$1({style:createTextStyle(st,{x:at?ot==="right"?nt[0]:0:nt[0]/2,y:nt[1]/2,verticalAlign:"middle",align:at?ot:"center",text:tt})})),et.add(it)}},_e.prototype._getViewData=function(){var et=this.visualMapModel,tt=map$1(et.getPieceList(),function(it,st){return{piece:it,indexInModelPieceList:st}}),nt=et.get("text"),at=et.get("orient"),ot=et.get("inverse");return(at==="horizontal"?ot:!ot)?tt.reverse():nt&&(nt=nt.slice().reverse()),{viewPieceList:tt,endsText:nt}},_e.prototype._createItemSymbol=function(et,tt,nt){et.add(createSymbol$1(this.getControllerVisual(tt,"symbol"),nt[0],nt[1],nt[2],nt[3],this.getControllerVisual(tt,"color")))},_e.prototype._onItemClick=function(et){var tt=this.visualMapModel,nt=tt.option,at=nt.selectedMode;if(!!at){var ot=clone$4(nt.selected),it=tt.getSelectedMapKey(et);at==="single"||at===!0?(ot[it]=!0,each$f(ot,function(st,ut){ot[ut]=ut===it})):ot[it]=!ot[it],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:ot})}},_e.type="visualMap.piecewise",_e}(VisualMapView$1),PiecewiseView=PiecewiseVisualMapView;function install$4($){$.registerComponentModel(PiecewiseModel$1),$.registerComponentView(PiecewiseView),installCommon($)}function install$3($){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual($,_e){var et=$.getModel("aria");if(!et.get("enabled"))return;var tt=clone$4(DEFAULT_OPTION);merge(tt.label,$.getLocaleModel().get("aria"),!1),merge(et.option,tt,!1),nt(),at();function nt(){var ut=et.getModel("decal"),ft=ut.get("show");if(ft){var dt=createHashMap();$.eachSeries(function(vt){if(!vt.isColorBySeries()){var gt=dt.get(vt.type);gt||(gt={},dt.set(vt.type,gt)),inner(vt).scope=gt}}),$.eachRawSeries(function(vt){if($.isSeriesFiltered(vt))return;if(isFunction(vt.enableAriaDecal)){vt.enableAriaDecal();return}var gt=vt.getData();if(vt.isColorBySeries()){var Et=getDecalFromPalette(vt.ecModel,vt.name,decalPaletteScope,$.getSeriesCount()),$t=gt.getVisual("decal");gt.setVisual("decal",It($t,Et))}else{var yt=vt.getRawData(),xt={},Ct=inner(vt).scope;gt.each(function(Ot){var Lt=gt.getRawIndex(Ot);xt[Lt]=Ot});var wt=yt.count();yt.each(function(Ot){var Lt=xt[Ot],Ft=yt.getName(Ot)||Ot+"",zt=getDecalFromPalette(vt.ecModel,Ft,Ct,wt),Gt=gt.getItemVisual(Lt,"decal");gt.setItemVisual(Lt,"decal",It(Gt,zt))})}function It(Ot,Lt){var Ft=Ot?extend(extend({},Lt),Ot):Lt;return Ft.dirty=!0,Ft}})}}function at(){var ut=$.getLocaleModel().get("aria"),ft=et.getModel("label");if(ft.option=defaults(ft.option,ut),!!ft.get("enabled")){var dt=_e.getZr().dom;if(ft.get("description")){dt.setAttribute("aria-label",ft.get("description"));return}var vt=$.getSeriesCount(),gt=ft.get(["data","maxCount"])||10,yt=ft.get(["series","maxCount"])||10,xt=Math.min(vt,yt),Ct;if(!(vt<1)){var wt=it();if(wt){var Et=ft.get(["general","withTitle"]);Ct=ot(Et,{title:wt})}else Ct=ft.get(["general","withoutTitle"]);var $t=[],It=vt>1?ft.get(["series","multiple","prefix"]):ft.get(["series","single","prefix"]);Ct+=ot(It,{seriesCount:vt}),$.eachSeries(function(zt,Gt){if(Gt<xt){var jt=void 0,Ut=zt.get("name"),Kt=Ut?"withName":"withoutName";jt=vt>1?ft.get(["series","multiple",Kt]):ft.get(["series","single",Kt]),jt=ot(jt,{seriesId:zt.seriesIndex,seriesName:zt.get("name"),seriesType:st(zt.subType)});var Zt=zt.getData();if(Zt.count()>gt){var Qt=ft.get(["data","partialData"]);jt+=ot(Qt,{displayCnt:gt})}else jt+=ft.get(["data","allData"]);for(var rr=ft.get(["data","separator","middle"]),nr=ft.get(["data","separator","end"]),dr=[],sr=0;sr<Zt.count();sr++)if(sr<gt){var fr=Zt.getName(sr),yr=Zt.getValues(sr),Pr=ft.get(["data",fr?"withName":"withoutName"]);dr.push(ot(Pr,{name:fr,value:yr.join(rr)}))}jt+=dr.join(rr)+nr,$t.push(jt)}});var Ot=ft.getModel(["series","multiple","separator"]),Lt=Ot.get("middle"),Ft=Ot.get("end");Ct+=$t.join(Lt)+Ft,dt.setAttribute("aria-label",Ct)}}}function ot(ut,ft){if(!isString(ut))return ut;var dt=ut;return each$f(ft,function(vt,gt){dt=dt.replace(new RegExp("\\{\\s*"+gt+"\\s*\\}","g"),vt)}),dt}function it(){var ut=$.get("title");return ut&&ut.length&&(ut=ut[0]),ut&&ut.text}function st(ut){return $.getLocaleModel().get(["series","typeNames"])[ut]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor($){if(!(!$||!$.aria)){var _e=$.aria;_e.show!=null&&(_e.enabled=_e.show),_e.label=_e.label||{},each$f(["description","general","series","data"],function(et){_e[et]!=null&&(_e.label[et]=_e[et])})}}function install$2($){$.registerPreprocessor(ariaPreprocessor),$.registerVisual($.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function $(_e){var et=this._condVal=isString(_e)?new RegExp(_e):isRegExp(_e)?_e:null;if(et==null){var tt="";throwError(tt)}}return $.prototype.evaluate=function(_e){var et=typeof _e;return isString(et)?this._condVal.test(_e):isNumber(et)?this._condVal.test(_e+""):!1},$}(),ConstConditionInternal=function(){function $(){}return $.prototype.evaluate=function(){return this.value},$}(),AndConditionInternal=function(){function $(){}return $.prototype.evaluate=function(){for(var _e=this.children,et=0;et<_e.length;et++)if(!_e[et].evaluate())return!1;return!0},$}(),OrConditionInternal=function(){function $(){}return $.prototype.evaluate=function(){for(var _e=this.children,et=0;et<_e.length;et++)if(_e[et].evaluate())return!0;return!1},$}(),NotConditionInternal=function(){function $(){}return $.prototype.evaluate=function(){return!this.child.evaluate()},$}(),RelationalConditionInternal=function(){function $(){}return $.prototype.evaluate=function(){for(var _e=!!this.valueParser,et=this.getValue,tt=et(this.valueGetterParam),nt=_e?this.valueParser(tt):null,at=0;at<this.subCondList.length;at++)if(!this.subCondList[at].evaluate(_e?nt:tt))return!1;return!0},$}();function parseOption($,_e){if($===!0||$===!1){var et=new ConstConditionInternal;return et.value=$,et}var tt="";return isObjectNotArray($)||throwError(tt),$.and?parseAndOrOption("and",$,_e):$.or?parseAndOrOption("or",$,_e):$.not?parseNotOption($,_e):parseRelationalOption($,_e)}function parseAndOrOption($,_e,et){var tt=_e[$],nt="";isArray$1(tt)||throwError(nt),tt.length||throwError(nt);var at=$==="and"?new AndConditionInternal:new OrConditionInternal;return at.children=map$1(tt,function(ot){return parseOption(ot,et)}),at.children.length||throwError(nt),at}function parseNotOption($,_e){var et=$.not,tt="";isObjectNotArray(et)||throwError(tt);var nt=new NotConditionInternal;return nt.child=parseOption(et,_e),nt.child||throwError(tt),nt}function parseRelationalOption($,_e){for(var et="",tt=_e.prepareGetValue($),nt=[],at=keys($),ot=$.parser,it=ot?getRawValueParser(ot):null,st=0;st<at.length;st++){var ut=at[st];if(!(ut==="parser"||_e.valueGetterAttrMap.get(ut))){var ft=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,ut)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[ut]:ut,dt=$[ut],vt=it?it(dt):dt,gt=createFilterComparator(ft,vt)||ft==="reg"&&new RegExpEvaluator(vt);gt||throwError(et),nt.push(gt)}}nt.length||throwError(et);var yt=new RelationalConditionInternal;return yt.valueGetterParam=tt,yt.valueParser=it,yt.getValue=_e.getValue,yt.subCondList=nt,yt}function isObjectNotArray($){return isObject$3($)&&!isArrayLike($)}var ConditionalExpressionParsed=function(){function $(_e,et){this._cond=parseOption(_e,et)}return $.prototype.evaluate=function(){return this._cond.evaluate()},$}();function parseConditionalExpression($,_e){return new ConditionalExpressionParsed($,_e)}var filterTransform={type:"echarts:filter",transform:function($){for(var _e=$.upstream,et,tt=parseConditionalExpression($.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(it){var st="",ut=it.dimension;hasOwn(it,"dimension")||throwError(st);var ft=_e.getDimensionInfo(ut);return ft||throwError(st),{dimIdx:ft.index}},getValue:function(it){return _e.retrieveValueFromItem(et,it.dimIdx)}}),nt=[],at=0,ot=_e.count();at<ot;at++)et=_e.getRawDataItem(at),tt.evaluate()&&nt.push(et);return{data:nt}}},sortTransform={type:"echarts:sort",transform:function($){var _e=$.upstream,et=$.config,tt="",nt=normalizeToArray(et);nt.length||throwError(tt);var at=[];each$f(nt,function(ft){var dt=ft.dimension,vt=ft.order,gt=ft.parser,yt=ft.incomparable;if(dt==null&&throwError(tt),vt!=="asc"&&vt!=="desc"&&throwError(tt),yt&&yt!=="min"&&yt!=="max"){var xt="";throwError(xt)}if(vt!=="asc"&&vt!=="desc"){var Ct="";throwError(Ct)}var wt=_e.getDimensionInfo(dt);wt||throwError(tt);var Et=gt?getRawValueParser(gt):null;gt&&!Et&&throwError(tt),at.push({dimIdx:wt.index,parser:Et,comparator:new SortOrderComparator(vt,yt)})});var ot=_e.sourceFormat;ot!==SOURCE_FORMAT_ARRAY_ROWS&&ot!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(tt);for(var it=[],st=0,ut=_e.count();st<ut;st++)it.push(_e.getRawDataItem(st));return it.sort(function(ft,dt){for(var vt=0;vt<at.length;vt++){var gt=at[vt],yt=_e.retrieveValueFromItem(ft,gt.dimIdx),xt=_e.retrieveValueFromItem(dt,gt.dimIdx);gt.parser&&(yt=gt.parser(yt),xt=gt.parser(xt));var Ct=gt.comparator.evaluate(yt,xt);if(Ct!==0)return Ct}return 0}),{data:it}}};function install$1($){$.registerTransform(filterTransform),$.registerTransform(sortTransform)}var DatasetModel=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="dataset",et}return _e.prototype.init=function(et,tt,nt){$.prototype.init.call(this,et,tt,nt),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},_e.prototype.mergeOption=function(et,tt){$.prototype.mergeOption.call(this,et,tt),disableTransformOptionMerge(this)},_e.prototype.optionUpdated=function(){this._sourceManager.dirty()},_e.prototype.getSourceManager=function(){return this._sourceManager},_e.type="dataset",_e.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},_e}(ComponentModel$1),DatasetView=function($){__extends(_e,$);function _e(){var et=$!==null&&$.apply(this,arguments)||this;return et.type="dataset",et}return _e.type="dataset",_e}(ComponentView$1);function install($){$.registerComponentModel(DatasetModel),$.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual($,_e){return Math.abs($-_e)<1e-5}function pathToBezierCurves($){var _e=$.data,et=$.len(),tt=[],nt,at=0,ot=0,it=0,st=0;function ut(Zt,Qt){nt&&nt.length>2&&tt.push(nt),nt=[Zt,Qt]}function ft(Zt,Qt,rr,nr){aroundEqual(Zt,rr)&&aroundEqual(Qt,nr)||nt.push(Zt,Qt,rr,nr,rr,nr)}function dt(Zt,Qt,rr,nr,dr,sr){var fr=Math.abs(Qt-Zt),yr=Math.tan(fr/4)*4/3,Pr=Qt<Zt?-1:1,wr=Math.cos(Zt),Mr=Math.sin(Zt),Lr=Math.cos(Qt),Br=Math.sin(Qt),qr=wr*dr+rr,Qr=Mr*sr+nr,Jr=Lr*dr+rr,sn=Br*sr+nr,yn=dr*yr*Pr,pn=sr*yr*Pr;nt.push(qr-yn*Mr,Qr+pn*wr,Jr+yn*Br,sn-pn*Lr,Jr,sn)}for(var vt,gt,yt,xt,Ct=0;Ct<et;){var wt=_e[Ct++],Et=Ct===1;switch(Et&&(at=_e[Ct],ot=_e[Ct+1],it=at,st=ot,(wt===CMD.L||wt===CMD.C||wt===CMD.Q)&&(nt=[it,st])),wt){case CMD.M:at=it=_e[Ct++],ot=st=_e[Ct++],ut(it,st);break;case CMD.L:vt=_e[Ct++],gt=_e[Ct++],ft(at,ot,vt,gt),at=vt,ot=gt;break;case CMD.C:nt.push(_e[Ct++],_e[Ct++],_e[Ct++],_e[Ct++],at=_e[Ct++],ot=_e[Ct++]);break;case CMD.Q:vt=_e[Ct++],gt=_e[Ct++],yt=_e[Ct++],xt=_e[Ct++],nt.push(at+2/3*(vt-at),ot+2/3*(gt-ot),yt+2/3*(vt-yt),xt+2/3*(gt-xt),yt,xt),at=yt,ot=xt;break;case CMD.A:var $t=_e[Ct++],It=_e[Ct++],Ot=_e[Ct++],Lt=_e[Ct++],Ft=_e[Ct++],zt=_e[Ct++]+Ft;Ct+=1;var Gt=!_e[Ct++];vt=Math.cos(Ft)*Ot+$t,gt=Math.sin(Ft)*Lt+It,Et?(it=vt,st=gt,ut(it,st)):ft(at,ot,vt,gt),at=Math.cos(zt)*Ot+$t,ot=Math.sin(zt)*Lt+It;for(var jt=(Gt?-1:1)*Math.PI/2,Ut=Ft;Gt?Ut>zt:Ut<zt;Ut+=jt){var Kt=Gt?Math.max(Ut+jt,zt):Math.min(Ut+jt,zt);dt(Ut,Kt,$t,It,Ot,Lt)}break;case CMD.R:it=at=_e[Ct++],st=ot=_e[Ct++],vt=it+_e[Ct++],gt=st+_e[Ct++],ut(vt,st),ft(vt,st,vt,gt),ft(vt,gt,it,gt),ft(it,gt,it,st),ft(it,st,vt,st);break;case CMD.Z:nt&&ft(at,ot,it,st),at=it,ot=st;break}}return nt&&nt.length>2&&tt.push(nt),tt}function adpativeBezier($,_e,et,tt,nt,at,ot,it,st,ut){if(aroundEqual($,et)&&aroundEqual(_e,tt)&&aroundEqual(nt,ot)&&aroundEqual(at,it)){st.push(ot,it);return}var ft=2/ut,dt=ft*ft,vt=ot-$,gt=it-_e,yt=Math.sqrt(vt*vt+gt*gt);vt/=yt,gt/=yt;var xt=et-$,Ct=tt-_e,wt=nt-ot,Et=at-it,$t=xt*xt+Ct*Ct,It=wt*wt+Et*Et;if($t<dt&&It<dt){st.push(ot,it);return}var Ot=vt*xt+gt*Ct,Lt=-vt*wt-gt*Et,Ft=$t-Ot*Ot,zt=It-Lt*Lt;if(Ft<dt&&Ot>=0&&zt<dt&&Lt>=0){st.push(ot,it);return}var Gt=[],jt=[];cubicSubdivide($,et,nt,ot,.5,Gt),cubicSubdivide(_e,tt,at,it,.5,jt),adpativeBezier(Gt[0],jt[0],Gt[1],jt[1],Gt[2],jt[2],Gt[3],jt[3],st,ut),adpativeBezier(Gt[4],jt[4],Gt[5],jt[5],Gt[6],jt[6],Gt[7],jt[7],st,ut)}function pathToPolygons($,_e){var et=pathToBezierCurves($),tt=[];_e=_e||1;for(var nt=0;nt<et.length;nt++){var at=et[nt],ot=[],it=at[0],st=at[1];ot.push(it,st);for(var ut=2;ut<at.length;){var ft=at[ut++],dt=at[ut++],vt=at[ut++],gt=at[ut++],yt=at[ut++],xt=at[ut++];adpativeBezier(it,st,ft,dt,vt,gt,yt,xt,ot,_e),it=yt,st=xt}tt.push(ot)}return tt}function getDividingGrids($,_e,et){var tt=$[_e],nt=$[1-_e],at=Math.abs(tt/nt),ot=Math.ceil(Math.sqrt(at*et)),it=Math.floor(et/ot);it===0&&(it=1,ot=et);for(var st=[],ut=0;ut<ot;ut++)st.push(it);var ft=ot*it,dt=et-ft;if(dt>0)for(var ut=0;ut<dt;ut++)st[ut%ot]+=1;return st}function divideSector($,_e,et){for(var tt=$.r0,nt=$.r,at=$.startAngle,ot=$.endAngle,it=Math.abs(ot-at),st=it*nt,ut=nt-tt,ft=st>Math.abs(ut),dt=getDividingGrids([st,ut],ft?0:1,_e),vt=(ft?it:ut)/dt.length,gt=0;gt<dt.length;gt++)for(var yt=(ft?ut:it)/dt[gt],xt=0;xt<dt[gt];xt++){var Ct={};ft?(Ct.startAngle=at+vt*gt,Ct.endAngle=at+vt*(gt+1),Ct.r0=tt+yt*xt,Ct.r=tt+yt*(xt+1)):(Ct.startAngle=at+yt*xt,Ct.endAngle=at+yt*(xt+1),Ct.r0=tt+vt*gt,Ct.r=tt+vt*(gt+1)),Ct.clockwise=$.clockwise,Ct.cx=$.cx,Ct.cy=$.cy,et.push(Ct)}}function divideRect($,_e,et){for(var tt=$.width,nt=$.height,at=tt>nt,ot=getDividingGrids([tt,nt],at?0:1,_e),it=at?"width":"height",st=at?"height":"width",ut=at?"x":"y",ft=at?"y":"x",dt=$[it]/ot.length,vt=0;vt<ot.length;vt++)for(var gt=$[st]/ot[vt],yt=0;yt<ot[vt];yt++){var xt={};xt[ut]=vt*dt,xt[ft]=yt*gt,xt[it]=dt,xt[st]=gt,xt.x+=$.x,xt.y+=$.y,et.push(xt)}}function crossProduct2d($,_e,et,tt){return $*tt-et*_e}function lineLineIntersect($,_e,et,tt,nt,at,ot,it){var st=et-$,ut=tt-_e,ft=ot-nt,dt=it-at,vt=crossProduct2d(ft,dt,st,ut);if(Math.abs(vt)<1e-6)return null;var gt=$-nt,yt=_e-at,xt=crossProduct2d(gt,yt,ft,dt)/vt;return xt<0||xt>1?null:new Point$1(xt*st+$,xt*ut+_e)}function projPtOnLine($,_e,et){var tt=new Point$1;Point$1.sub(tt,et,_e),tt.normalize();var nt=new Point$1;Point$1.sub(nt,$,_e);var at=nt.dot(tt);return at}function addToPoly($,_e){var et=$[$.length-1];et&&et[0]===_e[0]&&et[1]===_e[1]||$.push(_e)}function splitPolygonByLine($,_e,et){for(var tt=$.length,nt=[],at=0;at<tt;at++){var ot=$[at],it=$[(at+1)%tt],st=lineLineIntersect(ot[0],ot[1],it[0],it[1],_e.x,_e.y,et.x,et.y);st&&nt.push({projPt:projPtOnLine(st,_e,et),pt:st,idx:at})}if(nt.length<2)return[{points:$},{points:$}];nt.sort(function(Ct,wt){return Ct.projPt-wt.projPt});var ut=nt[0],ft=nt[nt.length-1];if(ft.idx<ut.idx){var dt=ut;ut=ft,ft=dt}for(var vt=[ut.pt.x,ut.pt.y],gt=[ft.pt.x,ft.pt.y],yt=[vt],xt=[gt],at=ut.idx+1;at<=ft.idx;at++)addToPoly(yt,$[at].slice());addToPoly(yt,gt),addToPoly(yt,vt);for(var at=ft.idx+1;at<=ut.idx+tt;at++)addToPoly(xt,$[at%tt].slice());return addToPoly(xt,vt),addToPoly(xt,gt),[{points:yt},{points:xt}]}function binaryDividePolygon($){var _e=$.points,et=[],tt=[];fromPoints(_e,et,tt);var nt=new BoundingRect$1(et[0],et[1],tt[0]-et[0],tt[1]-et[1]),at=nt.width,ot=nt.height,it=nt.x,st=nt.y,ut=new Point$1,ft=new Point$1;return at>ot?(ut.x=ft.x=it+at/2,ut.y=st,ft.y=st+ot):(ut.y=ft.y=st+ot/2,ut.x=it,ft.x=it+at),splitPolygonByLine(_e,ut,ft)}function binaryDivideRecursive($,_e,et,tt){if(et===1)tt.push(_e);else{var nt=Math.floor(et/2),at=$(_e);binaryDivideRecursive($,at[0],nt,tt),binaryDivideRecursive($,at[1],et-nt,tt)}return tt}function clone($,_e){for(var et=[],tt=0;tt<_e;tt++)et.push(clonePath($));return et}function copyPathProps($,_e){_e.setStyle($.style),_e.z=$.z,_e.z2=$.z2,_e.zlevel=$.zlevel}function polygonConvert($){for(var _e=[],et=0;et<$.length;)_e.push([$[et++],$[et++]]);return _e}function split($,_e){var et=[],tt=$.shape,nt;switch($.type){case"rect":divideRect(tt,_e,et),nt=Rect$3;break;case"sector":divideSector(tt,_e,et),nt=Sector$1;break;case"circle":divideSector({r0:0,r:tt.r,startAngle:0,endAngle:Math.PI*2,cx:tt.cx,cy:tt.cy},_e,et),nt=Sector$1;break;default:var at=$.getComputedTransform(),ot=at?Math.sqrt(Math.max(at[0]*at[0]+at[1]*at[1],at[2]*at[2]+at[3]*at[3])):1,it=map$1(pathToPolygons($.getUpdatedPathProxy(),ot),function(wt){return polygonConvert(wt)}),st=it.length;if(st===0)binaryDivideRecursive(binaryDividePolygon,{points:it[0]},_e,et);else if(st===_e)for(var ut=0;ut<st;ut++)et.push({points:it[ut]});else{var ft=0,dt=map$1(it,function(wt){var Et=[],$t=[];fromPoints(wt,Et,$t);var It=($t[1]-Et[1])*($t[0]-Et[0]);return ft+=It,{poly:wt,area:It}});dt.sort(function(wt,Et){return Et.area-wt.area});for(var vt=_e,ut=0;ut<st;ut++){var gt=dt[ut];if(vt<=0)break;var yt=ut===st-1?vt:Math.ceil(gt.area/ft*_e);yt<0||(binaryDivideRecursive(binaryDividePolygon,{points:gt.poly},yt,et),vt-=yt)}}nt=Polygon$1;break}if(!nt)return clone($,_e);for(var xt=[],ut=0;ut<et.length;ut++){var Ct=new nt;Ct.setShape(et[ut]),copyPathProps($,Ct),xt.push(Ct)}return xt}function alignSubpath($,_e){var et=$.length,tt=_e.length;if(et===tt)return[$,_e];for(var nt=[],at=[],ot=et<tt?$:_e,it=Math.min(et,tt),st=Math.abs(tt-et)/6,ut=(it-2)/6,ft=Math.ceil(st/ut)+1,dt=[ot[0],ot[1]],vt=st,gt=2;gt<it;){var yt=ot[gt-2],xt=ot[gt-1],Ct=ot[gt++],wt=ot[gt++],Et=ot[gt++],$t=ot[gt++],It=ot[gt++],Ot=ot[gt++];if(vt<=0){dt.push(Ct,wt,Et,$t,It,Ot);continue}for(var Lt=Math.min(vt,ft-1)+1,Ft=1;Ft<=Lt;Ft++){var zt=Ft/Lt;cubicSubdivide(yt,Ct,Et,It,zt,nt),cubicSubdivide(xt,wt,$t,Ot,zt,at),yt=nt[3],xt=at[3],dt.push(nt[1],at[1],nt[2],at[2],yt,xt),Ct=nt[5],wt=at[5],Et=nt[6],$t=at[6]}vt-=Lt-1}return ot===$?[dt,_e]:[$,dt]}function createSubpath($,_e){for(var et=$.length,tt=$[et-2],nt=$[et-1],at=[],ot=0;ot<_e.length;)at[ot++]=tt,at[ot++]=nt;return at}function alignBezierCurves($,_e){for(var et,tt,nt,at=[],ot=[],it=0;it<Math.max($.length,_e.length);it++){var st=$[it],ut=_e[it],ft=void 0,dt=void 0;st?ut?(et=alignSubpath(st,ut),ft=et[0],dt=et[1],tt=ft,nt=dt):(dt=createSubpath(nt||st,st),ft=st):(ft=createSubpath(tt||ut,ut),dt=ut),at.push(ft),ot.push(dt)}return[at,ot]}function centroid($){for(var _e=0,et=0,tt=0,nt=$.length,at=0,ot=nt-2;at<nt;ot=at,at+=2){var it=$[ot],st=$[ot+1],ut=$[at],ft=$[at+1],dt=it*ft-ut*st;_e+=dt,et+=(it+ut)*dt,tt+=(st+ft)*dt}return _e===0?[$[0]||0,$[1]||0]:[et/_e/3,tt/_e/3,_e]}function findBestRingOffset($,_e,et,tt){for(var nt=($.length-2)/6,at=1/0,ot=0,it=$.length,st=it-2,ut=0;ut<nt;ut++){for(var ft=ut*6,dt=0,vt=0;vt<it;vt+=2){var gt=vt===0?ft:(ft+vt-2)%st+2,yt=$[gt]-et[0],xt=$[gt+1]-et[1],Ct=_e[vt]-tt[0],wt=_e[vt+1]-tt[1],Et=Ct-yt,$t=wt-xt;dt+=Et*Et+$t*$t}dt<at&&(at=dt,ot=ut)}return ot}function reverse($){for(var _e=[],et=$.length,tt=0;tt<et;tt+=2)_e[tt]=$[et-tt-2],_e[tt+1]=$[et-tt-1];return _e}function findBestMorphingRotation($,_e,et,tt){for(var nt=[],at,ot=0;ot<$.length;ot++){var it=$[ot],st=_e[ot],ut=centroid(it),ft=centroid(st);at==null&&(at=ut[2]<0!=ft[2]<0);var dt=[],vt=[],gt=0,yt=1/0,xt=[],Ct=it.length;at&&(it=reverse(it));for(var wt=findBestRingOffset(it,st,ut,ft)*6,Et=Ct-2,$t=0;$t<Et;$t+=2){var It=(wt+$t)%Et+2;dt[$t+2]=it[It]-ut[0],dt[$t+3]=it[It+1]-ut[1]}if(dt[0]=it[wt]-ut[0],dt[1]=it[wt+1]-ut[1],et>0)for(var Ot=tt/et,Lt=-tt/2;Lt<=tt/2;Lt+=Ot){for(var Ft=Math.sin(Lt),zt=Math.cos(Lt),Gt=0,$t=0;$t<it.length;$t+=2){var jt=dt[$t],Ut=dt[$t+1],Kt=st[$t]-ft[0],Zt=st[$t+1]-ft[1],Qt=Kt*zt-Zt*Ft,rr=Kt*Ft+Zt*zt;xt[$t]=Qt,xt[$t+1]=rr;var nr=Qt-jt,dr=rr-Ut;Gt+=nr*nr+dr*dr}if(Gt<yt){yt=Gt,gt=Lt;for(var sr=0;sr<xt.length;sr++)vt[sr]=xt[sr]}}else for(var fr=0;fr<Ct;fr+=2)vt[fr]=st[fr]-ft[0],vt[fr+1]=st[fr+1]-ft[1];nt.push({from:dt,to:vt,fromCp:ut,toCp:ft,rotation:-gt})}return nt}function isCombineMorphing($){return $.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod($,_e,et){var tt=SAVED_METHOD_PREFIX+_e,nt=$[tt]||$[_e];$[tt]||($[tt]=$[_e]);var at=et.replace,ot=et.after,it=et.before;$[_e]=function(){var st=arguments,ut;return it&&it.apply(this,st),at?ut=at.apply(this,st):ut=nt.apply(this,st),ot&&ot.apply(this,st),ut}}function restoreMethod($,_e){var et=SAVED_METHOD_PREFIX+_e;$[et]&&($[_e]=$[et],$[et]=null)}function applyTransformOnBeziers($,_e){for(var et=0;et<$.length;et++)for(var tt=$[et],nt=0;nt<tt.length;){var at=tt[nt],ot=tt[nt+1];tt[nt++]=_e[0]*at+_e[2]*ot+_e[4],tt[nt++]=_e[1]*at+_e[3]*ot+_e[5]}}function prepareMorphPath($,_e){var et=$.getUpdatedPathProxy(),tt=_e.getUpdatedPathProxy(),nt=alignBezierCurves(pathToBezierCurves(et),pathToBezierCurves(tt)),at=nt[0],ot=nt[1],it=$.getComputedTransform(),st=_e.getComputedTransform();function ut(){this.transform=null}it&&applyTransformOnBeziers(at,it),st&&applyTransformOnBeziers(ot,st),saveAndModifyMethod(_e,"updateTransform",{replace:ut}),_e.transform=null;var ft=findBestMorphingRotation(at,ot,10,Math.PI),dt=[];saveAndModifyMethod(_e,"buildPath",{replace:function(vt){for(var gt=_e.__morphT,yt=1-gt,xt=[],Ct=0;Ct<ft.length;Ct++){var wt=ft[Ct],Et=wt.from,$t=wt.to,It=wt.rotation*gt,Ot=wt.fromCp,Lt=wt.toCp,Ft=Math.sin(It),zt=Math.cos(It);lerp$1(xt,Ot,Lt,gt);for(var Gt=0;Gt<Et.length;Gt+=2){var jt=Et[Gt],Ut=Et[Gt+1],Kt=$t[Gt],Zt=$t[Gt+1],Qt=jt*yt+Kt*gt,rr=Ut*yt+Zt*gt;dt[Gt]=Qt*zt-rr*Ft+xt[0],dt[Gt+1]=Qt*Ft+rr*zt+xt[1]}var nr=dt[0],dr=dt[1];vt.moveTo(nr,dr);for(var Gt=2;Gt<Et.length;){var Kt=dt[Gt++],Zt=dt[Gt++],sr=dt[Gt++],fr=dt[Gt++],yr=dt[Gt++],Pr=dt[Gt++];nr===Kt&&dr===Zt&&sr===yr&&fr===Pr?vt.lineTo(yr,Pr):vt.bezierCurveTo(Kt,Zt,sr,fr,yr,Pr),nr=yr,dr=Pr}}}})}function morphPath($,_e,et){if(!$||!_e)return _e;var tt=et.done,nt=et.during;prepareMorphPath($,_e),_e.__morphT=0;function at(){restoreMethod(_e,"buildPath"),restoreMethod(_e,"updateTransform"),_e.__morphT=-1,_e.createPathProxy(),_e.dirtyShape()}return _e.animateTo({__morphT:1},defaults({during:function(ot){_e.dirtyShape(),nt&&nt(ot)},done:function(){at(),tt&&tt()}},et)),_e}function hilbert($,_e,et,tt,nt,at){var ot=16;$=nt===et?0:Math.round(32767*($-et)/(nt-et)),_e=at===tt?0:Math.round(32767*(_e-tt)/(at-tt));for(var it=0,st,ut=(1<<ot)/2;ut>0;ut/=2){var ft=0,dt=0;($&ut)>0&&(ft=1),(_e&ut)>0&&(dt=1),it+=ut*ut*(3*ft^dt),dt===0&&(ft===1&&($=ut-1-$,_e=ut-1-_e),st=$,$=_e,_e=st)}return it}function sortPaths($){var _e=1/0,et=1/0,tt=-1/0,nt=-1/0,at=map$1($,function(it){var st=it.getBoundingRect(),ut=it.getComputedTransform(),ft=st.x+st.width/2+(ut?ut[4]:0),dt=st.y+st.height/2+(ut?ut[5]:0);return _e=Math.min(ft,_e),et=Math.min(dt,et),tt=Math.max(ft,tt),nt=Math.max(dt,nt),[ft,dt]}),ot=map$1(at,function(it,st){return{cp:it,z:hilbert(it[0],it[1],_e,et,tt,nt),path:$[st]}});return ot.sort(function(it,st){return it.z-st.z}).map(function(it){return it.path})}function defaultDividePath($){return split($.path,$.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph($,_e,et){var tt=[];function nt(Ot){for(var Lt=0;Lt<Ot.length;Lt++){var Ft=Ot[Lt];isCombineMorphing(Ft)?nt(Ft.childrenRef()):Ft instanceof Path$1&&tt.push(Ft)}}nt($);var at=tt.length;if(!at)return createEmptyReturn();var ot=et.dividePath||defaultDividePath,it=ot({path:_e,count:at});if(it.length!==at)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();tt=sortPaths(tt),it=sortPaths(it);for(var st=et.done,ut=et.during,ft=et.individualDelay,dt=new Transformable$1,vt=0;vt<at;vt++){var gt=tt[vt],yt=it[vt];yt.parent=_e,yt.copyTransform(dt),ft||prepareMorphPath(gt,yt)}_e.__isCombineMorphing=!0,_e.childrenRef=function(){return it};function xt(Ot){for(var Lt=0;Lt<it.length;Lt++)it[Lt].addSelfToZr(Ot)}saveAndModifyMethod(_e,"addSelfToZr",{after:function(Ot){xt(Ot)}}),saveAndModifyMethod(_e,"removeSelfFromZr",{after:function(Ot){for(var Lt=0;Lt<it.length;Lt++)it[Lt].removeSelfFromZr(Ot)}});function Ct(){_e.__isCombineMorphing=!1,_e.__morphT=-1,_e.childrenRef=null,restoreMethod(_e,"addSelfToZr"),restoreMethod(_e,"removeSelfFromZr")}var wt=it.length;if(ft)for(var Et=wt,$t=function(){Et--,Et===0&&(Ct(),st&&st())},vt=0;vt<wt;vt++){var It=ft?defaults({delay:(et.delay||0)+ft(vt,wt,tt[vt],it[vt]),done:$t},et):et;morphPath(tt[vt],it[vt],It)}else _e.__morphT=0,_e.animateTo({__morphT:1},defaults({during:function(Ot){for(var Lt=0;Lt<wt;Lt++){var Ft=it[Lt];Ft.__morphT=_e.__morphT,Ft.dirtyShape()}ut&&ut(Ot)},done:function(){Ct();for(var Ot=0;Ot<$.length;Ot++)restoreMethod($[Ot],"updateTransform");st&&st()}},et));return _e.__zr&&xt(_e.__zr),{fromIndividuals:tt,toIndividuals:it,count:wt}}function separateMorph($,_e,et){var tt=_e.length,nt=[],at=et.dividePath||defaultDividePath;function ot(gt){for(var yt=0;yt<gt.length;yt++){var xt=gt[yt];isCombineMorphing(xt)?ot(xt.childrenRef()):xt instanceof Path$1&&nt.push(xt)}}if(isCombineMorphing($)){ot($.childrenRef());var it=nt.length;if(it<tt)for(var st=0,ut=it;ut<tt;ut++)nt.push(clonePath(nt[st++%it]));nt.length=tt}else{nt=at({path:$,count:tt});for(var ft=$.getComputedTransform(),ut=0;ut<nt.length;ut++)nt[ut].setLocalTransform(ft);if(nt.length!==tt)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}nt=sortPaths(nt),_e=sortPaths(_e);for(var dt=et.individualDelay,ut=0;ut<tt;ut++){var vt=dt?defaults({delay:(et.delay||0)+dt(ut,tt,nt[ut],_e[ut])},et):et;morphPath(nt[ut],_e[ut],vt)}return{fromIndividuals:nt,toIndividuals:_e,count:_e.length}}function isMultiple($){return isArray$1($[0])}function prepareMorphBatches($,_e){for(var et=[],tt=$.length,nt=0;nt<tt;nt++)et.push({one:$[nt],many:[]});for(var nt=0;nt<_e.length;nt++){var at=_e[nt].length,ot=void 0;for(ot=0;ot<at;ot++)et[ot%tt].many.push(_e[nt][ot])}for(var it=0,nt=tt-1;nt>=0;nt--)if(!et[nt].many.length){var st=et[it].many;if(st.length<=1)if(it)it=0;else return et;var at=st.length,ut=Math.ceil(at/2);et[nt].many=st.slice(ut,at),et[it].many=st.slice(0,ut),it++}return et}var pathDividers={clone:function($){for(var _e=[],et=1-Math.pow(1-$.path.style.opacity,1/$.count),tt=0;tt<$.count;tt++){var nt=clonePath($.path);nt.setStyle("opacity",et),_e.push(nt)}return _e},split:null};function applyMorphAnimation($,_e,et,tt,nt,at){if(!$.length||!_e.length)return;var ot=getAnimationConfig("update",tt,nt);if(!(ot&&ot.duration>0))return;var it=tt.getModel("universalTransition").get("delay"),st=Object.assign({setToFinal:!0},ot),ut,ft;isMultiple($)&&(ut=$,ft=_e),isMultiple(_e)&&(ut=_e,ft=$);function dt(wt,Et,$t,It,Ot){var Lt=wt.many,Ft=wt.one;if(Lt.length===1&&!Ot){var zt=Et?Lt[0]:Ft,Gt=Et?Ft:Lt[0];if(isCombineMorphing(zt))dt({many:[zt],one:Gt},!0,$t,It,!0);else{var jt=it?defaults({delay:it($t,It)},st):st;morphPath(zt,Gt,jt),at(zt,Gt,zt,Gt,jt)}}else for(var Ut=defaults({dividePath:pathDividers[et],individualDelay:it&&function(dr,sr,fr,yr){return it(dr+$t,It)}},st),Kt=Et?combineMorph(Lt,Ft,Ut):separateMorph(Ft,Lt,Ut),Zt=Kt.fromIndividuals,Qt=Kt.toIndividuals,rr=Zt.length,nr=0;nr<rr;nr++){var jt=it?defaults({delay:it(nr,rr)},st):st;at(Zt[nr],Qt[nr],Et?Lt[nr]:wt.one,Et?wt.one:Lt[nr],jt)}}for(var vt=ut?ut===$:$.length>_e.length,gt=ut?prepareMorphBatches(ft,ut):prepareMorphBatches(vt?_e:$,[vt?$:_e]),yt=0,xt=0;xt<gt.length;xt++)yt+=gt[xt].many.length;for(var Ct=0,xt=0;xt<gt.length;xt++)dt(gt[xt],vt,Ct,yt),Ct+=gt[xt].many.length}function getPathList($){if(!$)return[];if(isArray$1($)){for(var _e=[],et=0;et<$.length;et++)_e.push(getPathList($[et]));return _e}var tt=[];return $.traverse(function(nt){nt instanceof Path$1&&!nt.disableMorphing&&!nt.invisible&&!nt.ignore&&tt.push(nt)}),tt}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension($){for(var _e=$.dimensions,et=0;et<_e.length;et++){var tt=$.getDimensionInfo(_e[et]);if(tt&&tt.otherDims.itemGroupId===0)return _e[et]}}function flattenDataDiffItems($){var _e=[];return each$f($,function(et){var tt=et.data;if(!(tt.count()>DATA_COUNT_THRESHOLD))for(var nt=tt.getIndices(),at=getGroupIdDimension(tt),ot=0;ot<nt.length;ot++)_e.push({data:tt,dim:et.dim||at,divide:et.divide,dataIndex:ot})}),_e}function fadeInElement($,_e,et){$.traverse(function(tt){tt instanceof Path$1&&initProps(tt,{style:{opacity:0}},_e,{dataIndex:et,isFrom:!0})})}function removeEl($){if($.parent){var _e=$.getComputedTransform();$.setLocalTransform(_e),$.parent.remove($)}}function stopAnimation($){$.stopAnimation(),$.isGroup&&$.traverse(function(_e){_e.stopAnimation()})}function animateElementStyles($,_e,et){var tt=getAnimationConfig("update",et,_e);tt&&$.traverse(function(nt){if(nt instanceof Displayable$1){var at=getOldStyle(nt);at&&nt.animateFrom({style:at},tt)}})}function isAllIdSame($,_e){var et=$.length;if(et!==_e.length)return!1;for(var tt=0;tt<et;tt++){var nt=$[tt],at=_e[tt];if(nt.data.getId(nt.dataIndex)!==at.data.getId(at.dataIndex))return!1}return!0}function transitionBetween($,_e,et){var tt=flattenDataDiffItems($),nt=flattenDataDiffItems(_e);function at(wt,Et,$t,It,Ot){($t||wt)&&Et.animateFrom({style:$t&&$t!==wt?extend(extend({},$t.style),wt.style):wt.style},Ot)}function ot(wt){for(var Et=0;Et<wt.length;Et++)if(wt[Et].dim)return wt[Et].dim}var it=ot(tt),st=ot(nt),ut=!1;function ft(wt,Et){return function($t){var It=$t.data,Ot=$t.dataIndex;if(Et)return It.getId(Ot);var Lt=It.hostModel&&It.hostModel.get("dataGroupId"),Ft=wt?it||st:st||it,zt=Ft&&It.getDimensionInfo(Ft),Gt=zt&&zt.ordinalMeta;if(zt){var jt=It.get(zt.name,Ot);return Gt&&Gt.categories[jt]||jt+""}var Ut=It.getRawDataItem(Ot);return Ut&&Ut.groupId?Ut.groupId+"":Lt||It.getId(Ot)}}var dt=isAllIdSame(tt,nt),vt={};if(!dt)for(var gt=0;gt<nt.length;gt++){var yt=nt[gt],xt=yt.data.getItemGraphicEl(yt.dataIndex);xt&&(vt[xt.id]=!0)}function Ct(wt,Et){var $t=tt[Et],It=nt[wt],Ot=It.data.hostModel,Lt=$t.data.getItemGraphicEl($t.dataIndex),Ft=It.data.getItemGraphicEl(It.dataIndex);if(Lt===Ft){Ft&&animateElementStyles(Ft,It.dataIndex,Ot);return}Lt&&vt[Lt.id]||Ft&&(stopAnimation(Ft),Lt?(stopAnimation(Lt),removeEl(Lt),ut=!0,applyMorphAnimation(getPathList(Lt),getPathList(Ft),It.divide,Ot,wt,at)):fadeInElement(Ft,Ot,wt))}new DataDiffer$1(tt,nt,ft(!0,dt),ft(!1,dt),null,"multiple").update(Ct).updateManyToOne(function(wt,Et){var $t=nt[wt],It=$t.data,Ot=It.hostModel,Lt=It.getItemGraphicEl($t.dataIndex),Ft=filter(map$1(Et,function(zt){return tt[zt].data.getItemGraphicEl(tt[zt].dataIndex)}),function(zt){return zt&&zt!==Lt&&!vt[zt.id]});Lt&&(stopAnimation(Lt),Ft.length?(each$f(Ft,function(zt){stopAnimation(zt),removeEl(zt)}),ut=!0,applyMorphAnimation(getPathList(Ft),getPathList(Lt),$t.divide,Ot,wt,at)):fadeInElement(Lt,Ot,$t.dataIndex))}).updateOneToMany(function(wt,Et){var $t=tt[Et],It=$t.data.getItemGraphicEl($t.dataIndex);if(!(It&&vt[It.id])){var Ot=filter(map$1(wt,function(Ft){return nt[Ft].data.getItemGraphicEl(nt[Ft].dataIndex)}),function(Ft){return Ft&&Ft!==It}),Lt=nt[wt[0]].data.hostModel;Ot.length&&(each$f(Ot,function(Ft){return stopAnimation(Ft)}),It?(stopAnimation(It),removeEl(It),ut=!0,applyMorphAnimation(getPathList(It),getPathList(Ot),$t.divide,Lt,wt[0],at)):each$f(Ot,function(Ft){return fadeInElement(Ft,Lt,wt[0])}))}}).updateManyToMany(function(wt,Et){new DataDiffer$1(Et,wt,function($t){return tt[$t].data.getId(tt[$t].dataIndex)},function($t){return nt[$t].data.getId(nt[$t].dataIndex)}).update(function($t,It){Ct(wt[$t],Et[It])}).execute()}).execute(),ut&&each$f(_e,function(wt){var Et=wt.data,$t=Et.hostModel,It=$t&&et.getViewOfSeriesModel($t),Ot=getAnimationConfig("update",$t,0);It&&$t.isAnimationEnabled()&&Ot&&Ot.duration>0&&It.group.traverse(function(Lt){Lt instanceof Path$1&&!Lt.animators.length&&Lt.animateFrom({style:{opacity:0}},Ot)})})}function getSeriesTransitionKey($){var _e=$.getModel("universalTransition").get("seriesKey");return _e||$.id}function convertArraySeriesKeyToString($){return isArray$1($)?$.sort().join(","):$}function getDivideShapeFromData($){if($.hostModel)return $.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches($,_e){var et=createHashMap(),tt=createHashMap(),nt=createHashMap();return each$f($.oldSeries,function(at,ot){var it=$.oldData[ot],st=getSeriesTransitionKey(at),ut=convertArraySeriesKeyToString(st);tt.set(ut,it),isArray$1(st)&&each$f(st,function(ft){nt.set(ft,{data:it,key:ut})})}),each$f(_e.updatedSeries,function(at){if(at.isUniversalTransitionEnabled()&&at.isAnimationEnabled()){var ot=at.getData(),it=getSeriesTransitionKey(at),st=convertArraySeriesKeyToString(it),ut=tt.get(st);if(ut)et.set(st,{oldSeries:[{divide:getDivideShapeFromData(ut),data:ut}],newSeries:[{divide:getDivideShapeFromData(ot),data:ot}]});else if(isArray$1(it)){var ft=[];each$f(it,function(gt){var yt=tt.get(gt);yt&&ft.push({divide:getDivideShapeFromData(yt),data:yt})}),ft.length&&et.set(st,{oldSeries:ft,newSeries:[{data:ot,divide:getDivideShapeFromData(ot)}]})}else{var dt=nt.get(it);if(dt){var vt=et.get(dt.key);vt||(vt={oldSeries:[{data:dt.data,divide:getDivideShapeFromData(dt.data)}],newSeries:[]},et.set(dt.key,vt)),vt.newSeries.push({data:ot,divide:getDivideShapeFromData(ot)})}}}}),et}function querySeries($,_e){for(var et=0;et<$.length;et++){var tt=_e.seriesIndex!=null&&_e.seriesIndex===$[et].seriesIndex||_e.seriesId!=null&&_e.seriesId===$[et].id;if(tt)return et}}function transitionSeriesFromOpt($,_e,et,tt){var nt=[],at=[];each$f(normalizeToArray($.from),function(ot){var it=querySeries(_e.oldSeries,ot);it>=0&&nt.push({data:_e.oldData[it],divide:getDivideShapeFromData(_e.oldData[it]),dim:ot.dimension})}),each$f(normalizeToArray($.to),function(ot){var it=querySeries(et.updatedSeries,ot);if(it>=0){var st=et.updatedSeries[it].getData();at.push({data:st,divide:getDivideShapeFromData(st),dim:ot.dimension})}}),nt.length>0&&at.length>0&&transitionBetween(nt,at,tt)}function installUniversalTransition($){$.registerUpdateLifecycle("series:beforeupdate",function(_e,et,tt){each$f(normalizeToArray(tt.seriesTransition),function(nt){each$f(normalizeToArray(nt.to),function(at){for(var ot=tt.updatedSeries,it=0;it<ot.length;it++)(at.seriesIndex!=null&&at.seriesIndex===ot[it].seriesIndex||at.seriesId!=null&&at.seriesId===ot[it].id)&&(ot[it][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),$.registerUpdateLifecycle("series:transition",function(_e,et,tt){var nt=getUniversalTransitionGlobalStore(et);if(nt.oldSeries&&tt.updatedSeries&&tt.optionChanged){var at=tt.seriesTransition;if(at)each$f(normalizeToArray(at),function(vt){transitionSeriesFromOpt(vt,nt,tt,et)});else{var ot=findTransitionSeriesBatches(nt,tt);each$f(ot.keys(),function(vt){var gt=ot.get(vt);transitionBetween(gt.oldSeries,gt.newSeries,et)})}each$f(tt.updatedSeries,function(vt){vt[SERIES_UNIVERSAL_TRANSITION_PROP]&&(vt[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var it=_e.getSeries(),st=nt.oldSeries=[],ut=nt.oldData=[],ft=0;ft<it.length;ft++){var dt=it[ft].getData();dt.count()<DATA_COUNT_THRESHOLD&&(st.push(it[ft]),ut.push(dt))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);var echart="";const defaultOption={backgroundColor:"#00000000",color:colors,grid:{left:10,right:10,top:20,bottom:0,containLabel:!0}},initOption=$=>{const _e={...$};return _e.backgroundColor||(_e.backgroundColor=defaultOption.backgroundColor),_e.grid||(_e.grid=defaultOption.grid),_e.color||(_e.color=defaultOption.color),_e},Chart=$=>{const _e=react.exports.useRef(),et=react.exports.useRef(null),tt=$.className?` ${$.className}`:"echarts";return react.exports.useEffect(()=>{const nt=et.current,at=$.dark===!1?void 0:"dark";return nt!==null&&nt.dispose(),et.current=init$1(_e.current,at),()=>{et.current.dispose()}},[$.dark]),react.exports.useEffect(()=>{const nt=et.current,at=$.autoResize?()=>nt.resize():void 0;return at&&addEventListener("resize",at),()=>at&&removeEventListener("resize",at)},[$.autoResize]),react.exports.useEffect(()=>{const nt=initOption($.option);et.current.setOption(nt)},[$.option]),jsx("div",{className:tt,ref:_e})};var index$3="";const LineChart$1=()=>jsx("div",{children:jsx(Chart,{option:{tooltip:{show:!0},xAxis:{type:"category",data:["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"]},yAxis:{type:"value"},series:[{data:[0,2,0,1,3,4,1],type:"line",smooth:!0}]},className:"line-chart"})});var index$2="";const BarChart=()=>jsx(Chart,{option:{tooltip:{show:!0},xAxis:{type:"category",data:["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"]},yAxis:{type:"value"},series:[{data:[0,2,0,1,3,4,1],type:"bar"}]},className:"bar-chart"});var index$1="";const LineChart=()=>jsx("div",{children:jsx(Chart,{option:{tooltip:{trigger:"item"},legend:{orient:"vertical",top:"center",left:"0"},series:[{type:"pie",radius:["30%","80%"],itemStyle:{borderRadius:2,borderColor:"#333",borderWidth:.3},label:{show:!0,position:"inside"},labelLine:{show:!1},data:[{value:123,name:"TTU"},{value:100,name:"\u7535\u7EBF\u6746"}]}]},className:"pie-chart"})});var table="";const MyTable=$=>jsx(Table$1,{...$,className:"custom-table"});var list="";const DeviceList=()=>{const $=useAppDispatch(),{show:_e,title:et,type:tt,data:nt}=useAppSelector(dt=>dt.device.details),[at,ot]=react.exports.useState(!1),it={hideOnSinglePage:!0,pageSize:5,position:["bottomCenter"]},st=[{title:"*",key:"id",render:(dt,vt,gt)=>gt+1},{title:"\u63CF\u8FF0",key:"id",dataIndex:"descr"}],ut=dt=>{useFlyTo(dt.pos)};react.exports.useEffect(()=>{_e&&tt&&nt[tt]===void 0&&(ot(!0),$(getDeviceListByType(tt)).then(()=>{ot(!1)}))},[tt]);const ft=tt&&nt[tt]||[];return jsx(MyCard,{className:"home-card",style:{display:_e?"block":"none"},size:"small",title:et+" - \u5217\u8868",extra:jsx(CloseCircleOutlined$1,{onClick:()=>$(setDetailState({show:!1}))}),children:jsx(MyTable,{dataSource:ft,columns:st,rowKey:dt=>dt.id,size:"small",loading:at,pagination:it,onRow:dt=>({onClick:()=>ut(dt)})})})},Home=()=>jsxs("div",{className:"home-page-wrapper",children:[jsx(Title,{className:"header-wrapper"}),jsx(MapboxWrapper,{className:"map-wrapper"}),jsxs("div",{className:"home-left-card-wrapper",children:[jsx(MyCard,{className:"home-card",size:"small",title:jsxs("h3",{children:[jsx(AppstoreOutlined$1,{style:{marginRight:"7px"}}),"\u8BBE\u5907\u6982\u89C8"]}),children:jsx(Overview,{})}),jsx(DeviceList,{})]}),jsxs("div",{className:"home-right-card-wrapper",children:[jsx(MyCard,{className:"home-card",size:"small",title:"\u6298\u7EBF\u56FE",children:jsx(LineChart$1,{})}),jsx(MyCard,{className:"home-card",size:"small",title:"\u67F1\u72B6\u56FE",children:jsx(BarChart,{})}),jsx(MyCard,{className:"home-card",size:"small",title:"\u997C\u56FE",children:jsx(LineChart,{})})]}),jsx(Outlet,{})]});function Login$1($){const _e=react.exports.useRef(null),[et,tt]=react.exports.useState({width:window.innerWidth,height:window.innerHeight});function nt(){tt({width:window.innerWidth,height:window.innerHeight})}return react.exports.useEffect(()=>(window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt)),[]),react.exports.useEffect(()=>{const at=_e.current,ot=at.getContext("2d"),it=at.width=et.width,st=at.height=et.height,ut=217,ft=[];let dt=0;const vt=2500,gt=document.createElement("canvas"),yt=gt.getContext("2d");gt.width=100,gt.height=100;const xt=gt.width/2,Ct=yt.createRadialGradient(xt,xt,0,xt,xt,xt);Ct.addColorStop(.025,"#CCC"),Ct.addColorStop(.1,"hsl("+ut+", 61%, 33%)"),Ct.addColorStop(.25,"hsl("+ut+", 64%, 6%)"),Ct.addColorStop(1,"transparent"),yt.fillStyle=Ct,yt.beginPath(),yt.arc(xt,xt,xt,0,Math.PI*2),yt.fill();function wt(Ot,Lt){if(arguments.length<2&&(Lt=Ot,Ot=0),Ot>Lt){const Ft=Lt;Lt=Ot,Ot=Ft}return Math.floor(Math.random()*(Lt-Ot+1))+Ot}function Et(Ot,Lt){const Ft=Math.max(Ot,Lt);return Math.round(Math.sqrt(Ft*Ft+Ft*Ft))/2}const $t=function(){this.orbitRadius=wt(Et(it,st)),this.radius=wt(60,this.orbitRadius)/18,this.orbitX=it/2,this.orbitY=st/2,this.timePassed=wt(0,vt),this.speed=wt(this.orbitRadius)/5e5,this.alpha=wt(2,10)/10,dt++,ft[dt]=this};$t.prototype.draw=function(){const Ot=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,Lt=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,Ft=wt(10);Ft===1&&this.alpha>0?this.alpha-=.05:Ft===2&&this.alpha<1&&(this.alpha+=.05),ot.globalAlpha=this.alpha,ot.drawImage(gt,Ot-this.radius/2,Lt-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed};for(let Ot=0;Ot<vt;Ot++)new $t;function It(){ot.globalCompositeOperation="source-over",ot.globalAlpha=.5,ot.fillStyle="hsla("+ut+", 64%, 6%, 2)",ot.fillRect(0,0,it,st),ot.globalCompositeOperation="lighter";for(let Ot=1,Lt=ft.length;Ot<Lt;Ot++)ft[Ot].draw();window.requestAnimationFrame(It)}It()},[et]),jsx("canvas",{className:$==null?void 0:$.className,ref:_e})}var index="";function Login(){const[$,_e]=react.exports.useState(!1),et=useAppDispatch(),tt=nt=>{_e(!0),et(userLogin(nt)).then(()=>{_e(!1)})};return jsxs("div",{className:"login-wrapper",children:[jsx(Login$1,{className:"background"}),jsxs("div",{className:"form-wrapper",title:"\u8D26\u53F7\u5BC6\u7801\u90FD\u662Fadmin",children:[jsx("h1",{className:"title-zh",children:title.zh}),jsx("h2",{className:"title-en",children:title.en}),jsxs(Form$1,{name:"basic",initialValues:{remember:!1},onFinish:tt,children:[jsx(Form$1.Item,{label:"\u8D26\u53F7",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:jsx(Input$1,{})}),jsx(Form$1.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],children:jsx(Input$1.Password,{})}),jsx(Form$1.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:jsx(Checkbox$1,{children:"\u81EA\u52A8\u767B\u5F55"})}),jsx(Form$1.Item,{wrapperCol:{},children:jsx(Button$2,{style:{width:"100%"},type:"primary",htmlType:"submit",disabled:$,children:$?jsx(LoadingOutlined$1,{}):"\u767B\u5F55"})})]})]})]})}function Detail(){return jsx("div",{children:"Detail"})}var _404page="";function NotFound(){const $=useNavigate();return jsx("div",{className:"error-page",children:jsxs("div",{className:"content",children:[jsx("h2",{className:"title",children:"\u60A8\u597D\u50CF\u8D70\u4E22\u4E86\u3002\u3002\u3002"}),jsx("p",{className:"",children:"\u8DEF\u5F84\u8D44\u6E90\u4E0D\u5B58\u5728"}),jsxs("div",{className:"btn-wrapper",children:[jsx(Button$2,{type:"primary",onClick:()=>$("/"),children:"\u56DE\u5230\u9996\u9875"}),jsx(Button$2,{onClick:()=>$(-1),children:"\u8FD4\u56DE\u4E0A\u4E00\u9875"})]})]})})}const BASE_URL="/fault-location/",routeTable=[{path:BASE_URL,element:jsx(Home,{}),children:[{path:"detail/:id",element:jsx(Detail,{})}]},{path:BASE_URL+"login",element:jsx(Login,{})},{path:"*",element:jsx(NotFound,{})}],loginPath=routeTable[1].path,Router=()=>{const $=useRoutes(routeTable),_e=useAppSelector(at=>at.user.token),et=useNavigate(),tt=useLocation(),nt=useAppDispatch();return react.exports.useEffect(()=>{var at;if(_e){nt(userGetInfo());let ot=tt.pathname;if(ot===loginPath){const it=(at=tt.state)==null?void 0:at.to;it===loginPath?ot=BASE_URL:ot=it||BASE_URL}et(ot,{replace:!0})}else et(loginPath,{state:{replace:!0,to:tt.pathname}})},[_e]),jsx(Fragment,{children:$})};var locale$2={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},locale$1={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},TimePicker=locale$1,locale={lang:_extends$2({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},locale$2),timePickerLocale:_extends$2({},TimePicker)};locale.lang.ok="\u786E\u5B9A";var DatePicker=locale,typeTemplate="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",localeValues={locale:"zh-cn",Pagination:Pagination$3,DatePicker,TimePicker,Calendar:DatePicker,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"}},zhCN=localeValues;const App=()=>jsx(ConfigProvider$1,{locale:zhCN,children:jsx(Router,{})});var mock$1={exports:{}};(function(module,exports){(function(_e,et){module.exports=et()})(commonjsGlobal,function(){return function($){var _e={};function et(tt){if(_e[tt])return _e[tt].exports;var nt=_e[tt]={exports:{},id:tt,loaded:!1};return $[tt].call(nt.exports,nt,nt.exports,et),nt.loaded=!0,nt.exports}return et.m=$,et.c=_e,et.p="",et(0)}([function($,_e,et){var tt=et(1),nt=et(3),at=et(5),ot=et(20),it=et(23),st=et(25),ut;typeof window!="undefined"&&(ut=et(27));/*!
    Mock -  & 
    https://github.com/nuysoft/Mock
     mozhi.gyy@taobao.com nuysoft@gmail.com
*/var ft={Handler:tt,Random:at,Util:nt,XHR:ut,RE:ot,toJSONSchema:it,valid:st,heredoc:nt.heredoc,setup:function(dt){return ut.setup(dt)},_mocked:{}};ft.version="1.0.1-beta3",ut&&(ut.Mock=ft),ft.mock=function(dt,vt,gt){return arguments.length===1?tt.gen(dt):(arguments.length===2&&(gt=vt,vt=void 0),ut&&(window.XMLHttpRequest=ut),ft._mocked[dt+(vt||"")]={rurl:dt,rtype:vt,template:gt},ft)},$.exports=ft},function(module,exports,__webpack_require__){var Constant=__webpack_require__(2),Util=__webpack_require__(3),Parser=__webpack_require__(4),Random=__webpack_require__(5),RE=__webpack_require__(20),Handler={extend:Util.extend};Handler.gen=function($,_e,et){_e=_e==null?"":_e+"",et=et||{},et={path:et.path||[Constant.GUID],templatePath:et.templatePath||[Constant.GUID++],currentContext:et.currentContext,templateCurrentContext:et.templateCurrentContext||$,root:et.root||et.currentContext,templateRoot:et.templateRoot||et.templateCurrentContext||$};var tt=Parser.parse(_e),nt=Util.type($),at;return Handler[nt]?(at=Handler[nt]({type:nt,template:$,name:_e,parsedName:_e&&_e.replace(Constant.RE_KEY,"$1"),rule:tt,context:et}),et.root||(et.root=at),at):$},Handler.extend({array:function($){var _e=[],et,tt;if($.template.length===0)return _e;if($.rule.parameters)if($.rule.min===1&&$.rule.max===void 0)$.context.path.push($.name),$.context.templatePath.push($.name),_e=Random.pick(Handler.gen($.template,void 0,{path:$.context.path,templatePath:$.context.templatePath,currentContext:_e,templateCurrentContext:$.template,root:$.context.root||_e,templateRoot:$.context.templateRoot||$.template})),$.context.path.pop(),$.context.templatePath.pop();else if($.rule.parameters[2])$.template.__order_index=$.template.__order_index||0,$.context.path.push($.name),$.context.templatePath.push($.name),_e=Handler.gen($.template,void 0,{path:$.context.path,templatePath:$.context.templatePath,currentContext:_e,templateCurrentContext:$.template,root:$.context.root||_e,templateRoot:$.context.templateRoot||$.template})[$.template.__order_index%$.template.length],$.template.__order_index+=+$.rule.parameters[2],$.context.path.pop(),$.context.templatePath.pop();else for(et=0;et<$.rule.count;et++)for(tt=0;tt<$.template.length;tt++)$.context.path.push(_e.length),$.context.templatePath.push(tt),_e.push(Handler.gen($.template[tt],_e.length,{path:$.context.path,templatePath:$.context.templatePath,currentContext:_e,templateCurrentContext:$.template,root:$.context.root||_e,templateRoot:$.context.templateRoot||$.template})),$.context.path.pop(),$.context.templatePath.pop();else for(et=0;et<$.template.length;et++)$.context.path.push(et),$.context.templatePath.push(et),_e.push(Handler.gen($.template[et],et,{path:$.context.path,templatePath:$.context.templatePath,currentContext:_e,templateCurrentContext:$.template,root:$.context.root||_e,templateRoot:$.context.templateRoot||$.template})),$.context.path.pop(),$.context.templatePath.pop();return _e},object:function($){var _e={},et,tt,nt,at,ot,it;if($.rule.min!=null)for(et=Util.keys($.template),et=Random.shuffle(et),et=et.slice(0,$.rule.count),it=0;it<et.length;it++)nt=et[it],at=nt.replace(Constant.RE_KEY,"$1"),$.context.path.push(at),$.context.templatePath.push(nt),_e[at]=Handler.gen($.template[nt],nt,{path:$.context.path,templatePath:$.context.templatePath,currentContext:_e,templateCurrentContext:$.template,root:$.context.root||_e,templateRoot:$.context.templateRoot||$.template}),$.context.path.pop(),$.context.templatePath.pop();else{et=[],tt=[];for(nt in $.template)(typeof $.template[nt]=="function"?tt:et).push(nt);for(et=et.concat(tt),it=0;it<et.length;it++)nt=et[it],at=nt.replace(Constant.RE_KEY,"$1"),$.context.path.push(at),$.context.templatePath.push(nt),_e[at]=Handler.gen($.template[nt],nt,{path:$.context.path,templatePath:$.context.templatePath,currentContext:_e,templateCurrentContext:$.template,root:$.context.root||_e,templateRoot:$.context.templateRoot||$.template}),$.context.path.pop(),$.context.templatePath.pop(),ot=nt.match(Constant.RE_KEY),ot&&ot[2]&&Util.type($.template[nt])==="number"&&($.template[nt]+=parseInt(ot[2],10))}return _e},number:function($){var _e,et;if($.rule.decimal){for($.template+="",et=$.template.split("."),et[0]=$.rule.range?$.rule.count:et[0],et[1]=(et[1]||"").slice(0,$.rule.dcount);et[1].length<$.rule.dcount;)et[1]+=et[1].length<$.rule.dcount-1?Random.character("number"):Random.character("123456789");_e=parseFloat(et.join("."),10)}else _e=$.rule.range&&!$.rule.parameters[2]?$.rule.count:$.template;return _e},boolean:function($){var _e;return _e=$.rule.parameters?Random.bool($.rule.min,$.rule.max,$.template):$.template,_e},string:function($){var _e="",et,tt,nt,at;if($.template.length){for($.rule.count==null&&(_e+=$.template),et=0;et<$.rule.count;et++)_e+=$.template;for(tt=_e.match(Constant.RE_PLACEHOLDER)||[],et=0;et<tt.length;et++){if(nt=tt[et],/^\\/.test(nt)){tt.splice(et--,1);continue}if(at=Handler.placeholder(nt,$.context.currentContext,$.context.templateCurrentContext,$),tt.length===1&&nt===_e&&typeof at!=typeof _e){_e=at;break}_e=_e.replace(nt,at)}}else _e=$.rule.range?Random.string($.rule.count):$.template;return _e},function:function($){return $.template.call($.context.currentContext,$)},regexp:function($){var _e="";$.rule.count==null&&(_e+=$.template.source);for(var et=0;et<$.rule.count;et++)_e+=$.template.source;return RE.Handler.gen(RE.Parser.parse(_e))}}),Handler.extend({_all:function(){var $={};for(var _e in Random)$[_e.toLowerCase()]=_e;return $},placeholder:function(placeholder,obj,templateContext,options){Constant.RE_PLACEHOLDER.exec("");var parts=Constant.RE_PLACEHOLDER.exec(placeholder),key=parts&&parts[1],lkey=key&&key.toLowerCase(),okey=this._all()[lkey],params=parts&&parts[2]||"",pathParts=this.splitPathToArray(key);try{params=eval("(function(){ return [].splice.call(arguments, 0 ) })("+params+")")}catch($){params=parts[2].split(/,\s*/)}if(obj&&key in obj)return obj[key];if(key.charAt(0)==="/"||pathParts.length>1)return this.getValueByKeyPath(key,options);if(templateContext&&typeof templateContext=="object"&&key in templateContext&&placeholder!==templateContext[key])return templateContext[key]=Handler.gen(templateContext[key],key,{currentContext:obj,templateCurrentContext:templateContext}),templateContext[key];if(!(key in Random)&&!(lkey in Random)&&!(okey in Random))return placeholder;for(var i=0;i<params.length;i++)Constant.RE_PLACEHOLDER.exec(""),Constant.RE_PLACEHOLDER.test(params[i])&&(params[i]=Handler.placeholder(params[i],obj,templateContext,options));var handle=Random[key]||Random[lkey]||Random[okey];switch(Util.type(handle)){case"array":return Random.pick(handle);case"function":handle.options=options;var re=handle.apply(Random,params);return re===void 0&&(re=""),delete handle.options,re}},getValueByKeyPath:function($,_e){var et=$,tt=this.splitPathToArray($),nt=[];$.charAt(0)==="/"?nt=[_e.context.path[0]].concat(this.normalizePath(tt)):tt.length>1&&(nt=_e.context.path.slice(0),nt.pop(),nt=this.normalizePath(nt.concat(tt)));try{$=tt[tt.length-1];for(var at=_e.context.root,ot=_e.context.templateRoot,it=1;it<nt.length-1;it++)at=at[nt[it]],ot=ot[nt[it]];if(at&&$ in at)return at[$];if(ot&&typeof ot=="object"&&$ in ot&&et!==ot[$])return ot[$]=Handler.gen(ot[$],$,{currentContext:at,templateCurrentContext:ot}),ot[$]}catch{}return"@"+tt.join("/")},normalizePath:function($){for(var _e=[],et=0;et<$.length;et++)switch($[et]){case"..":_e.pop();break;case".":break;default:_e.push($[et])}return _e},splitPathToArray:function($){var _e=$.split(/\/+/);return _e[_e.length-1]||(_e=_e.slice(0,-1)),_e[0]||(_e=_e.slice(1)),_e}}),module.exports=Handler},function($,_e){$.exports={GUID:1,RE_KEY:/(.+)\|(?:\+(\d+)|([\+\-]?\d+-?[\+\-]?\d*)?(?:\.(\d+-?\d*))?)/,RE_RANGE:/([\+\-]?\d+)-?([\+\-]?\d+)?/,RE_PLACEHOLDER:/\\*@([^@#%&()\?\s]+)(?:\((.*?)\))?/g}},function($,_e){var et={};et.extend=function(){var nt=arguments[0]||{},at=1,ot=arguments.length,it,st,ut,ft,dt;for(ot===1&&(nt=this,at=0);at<ot;at++)if(it=arguments[at],!!it)for(st in it)ut=nt[st],ft=it[st],nt!==ft&&ft!==void 0&&(et.isArray(ft)||et.isObject(ft)?(et.isArray(ft)&&(dt=ut&&et.isArray(ut)?ut:[]),et.isObject(ft)&&(dt=ut&&et.isObject(ut)?ut:{}),nt[st]=et.extend(dt,ft)):nt[st]=ft);return nt},et.each=function(nt,at,ot){var it,st;if(this.type(nt)==="number")for(it=0;it<nt;it++)at(it,it);else if(nt.length===+nt.length)for(it=0;it<nt.length&&at.call(ot,nt[it],it,nt)!==!1;it++);else for(st in nt)if(at.call(ot,nt[st],st,nt)===!1)break},et.type=function(nt){return nt==null?String(nt):Object.prototype.toString.call(nt).match(/\[object (\w+)\]/)[1].toLowerCase()},et.each("String Object Array RegExp Function".split(" "),function(tt){et["is"+tt]=function(nt){return et.type(nt)===tt.toLowerCase()}}),et.isObjectOrArray=function(tt){return et.isObject(tt)||et.isArray(tt)},et.isNumeric=function(tt){return!isNaN(parseFloat(tt))&&isFinite(tt)},et.keys=function(tt){var nt=[];for(var at in tt)tt.hasOwnProperty(at)&&nt.push(at);return nt},et.values=function(tt){var nt=[];for(var at in tt)tt.hasOwnProperty(at)&&nt.push(tt[at]);return nt},et.heredoc=function(nt){return nt.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},et.noop=function(){},$.exports=et},function($,_e,et){var tt=et(2),nt=et(5);$.exports={parse:function(at){at=at==null?"":at+"";var ot=(at||"").match(tt.RE_KEY),it=ot&&ot[3]&&ot[3].match(tt.RE_RANGE),st=it&&it[1]&&parseInt(it[1],10),ut=it&&it[2]&&parseInt(it[2],10),ft=it?it[2]?nt.integer(st,ut):parseInt(it[1],10):void 0,dt=ot&&ot[4]&&ot[4].match(tt.RE_RANGE),vt=dt&&dt[1]&&parseInt(dt[1],10),gt=dt&&dt[2]&&parseInt(dt[2],10),yt=dt?!dt[2]&&parseInt(dt[1],10)||nt.integer(vt,gt):void 0,xt={parameters:ot,range:it,min:st,max:ut,count:ft,decimal:dt,dmin:vt,dmax:gt,dcount:yt};for(var Ct in xt)if(xt[Ct]!=null)return xt;return{}}}},function($,_e,et){var tt=et(3),nt={extend:tt.extend};nt.extend(et(6)),nt.extend(et(7)),nt.extend(et(8)),nt.extend(et(10)),nt.extend(et(13)),nt.extend(et(15)),nt.extend(et(16)),nt.extend(et(17)),nt.extend(et(14)),nt.extend(et(19)),$.exports=nt},function($,_e){$.exports={boolean:function(et,tt,nt){return nt!==void 0?(et=typeof et!="undefined"&&!isNaN(et)?parseInt(et,10):1,tt=typeof tt!="undefined"&&!isNaN(tt)?parseInt(tt,10):1,Math.random()>1/(et+tt)*et?!nt:nt):Math.random()>=.5},bool:function(et,tt,nt){return this.boolean(et,tt,nt)},natural:function(et,tt){return et=typeof et!="undefined"?parseInt(et,10):0,tt=typeof tt!="undefined"?parseInt(tt,10):9007199254740992,Math.round(Math.random()*(tt-et))+et},integer:function(et,tt){return et=typeof et!="undefined"?parseInt(et,10):-9007199254740992,tt=typeof tt!="undefined"?parseInt(tt,10):9007199254740992,Math.round(Math.random()*(tt-et))+et},int:function(et,tt){return this.integer(et,tt)},float:function(et,tt,nt,at){nt=nt===void 0?0:nt,nt=Math.max(Math.min(nt,17),0),at=at===void 0?17:at,at=Math.max(Math.min(at,17),0);for(var ot=this.integer(et,tt)+".",it=0,st=this.natural(nt,at);it<st;it++)ot+=it<st-1?this.character("number"):this.character("123456789");return parseFloat(ot,10)},character:function(et){var tt={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"!@#$%^&*()[]"};return tt.alpha=tt.lower+tt.upper,tt.undefined=tt.lower+tt.upper+tt.number+tt.symbol,et=tt[(""+et).toLowerCase()]||et,et.charAt(this.natural(0,et.length-1))},char:function(et){return this.character(et)},string:function(et,tt,nt){var at;switch(arguments.length){case 0:at=this.natural(3,7);break;case 1:at=et,et=void 0;break;case 2:typeof arguments[0]=="string"?at=tt:(at=this.natural(et,tt),et=void 0);break;case 3:at=this.natural(tt,nt);break}for(var ot="",it=0;it<at;it++)ot+=this.character(et);return ot},str:function(){return this.string.apply(this,arguments)},range:function(et,tt,nt){arguments.length<=1&&(tt=et||0,et=0),nt=arguments[2]||1,et=+et,tt=+tt,nt=+nt;for(var at=Math.max(Math.ceil((tt-et)/nt),0),ot=0,it=new Array(at);ot<at;)it[ot++]=et,et+=nt;return it}}},function($,_e){var et={yyyy:"getFullYear",yy:function(tt){return(""+tt.getFullYear()).slice(2)},y:"yy",MM:function(tt){var nt=tt.getMonth()+1;return nt<10?"0"+nt:nt},M:function(tt){return tt.getMonth()+1},dd:function(tt){var nt=tt.getDate();return nt<10?"0"+nt:nt},d:"getDate",HH:function(tt){var nt=tt.getHours();return nt<10?"0"+nt:nt},H:"getHours",hh:function(tt){var nt=tt.getHours()%12;return nt<10?"0"+nt:nt},h:function(tt){return tt.getHours()%12},mm:function(tt){var nt=tt.getMinutes();return nt<10?"0"+nt:nt},m:"getMinutes",ss:function(tt){var nt=tt.getSeconds();return nt<10?"0"+nt:nt},s:"getSeconds",SS:function(tt){var nt=tt.getMilliseconds();return nt<10&&"00"+nt||nt<100&&"0"+nt||nt},S:"getMilliseconds",A:function(tt){return tt.getHours()<12?"AM":"PM"},a:function(tt){return tt.getHours()<12?"am":"pm"},T:"getTime"};$.exports={_patternLetters:et,_rformat:new RegExp(function(){var tt=[];for(var nt in et)tt.push(nt);return"("+tt.join("|")+")"}(),"g"),_formatDate:function(tt,nt){return nt.replace(this._rformat,function at(ot,it){return typeof et[it]=="function"?et[it](tt):et[it]in et?at(ot,et[it]):tt[et[it]]()})},_randomDate:function(tt,nt){return tt=tt===void 0?new Date(0):tt,nt=nt===void 0?new Date:nt,new Date(Math.random()*(nt.getTime()-tt.getTime()))},date:function(tt){return tt=tt||"yyyy-MM-dd",this._formatDate(this._randomDate(),tt)},time:function(tt){return tt=tt||"HH:mm:ss",this._formatDate(this._randomDate(),tt)},datetime:function(tt){return tt=tt||"yyyy-MM-dd HH:mm:ss",this._formatDate(this._randomDate(),tt)},now:function(tt,nt){arguments.length===1&&(/year|month|day|hour|minute|second|week/.test(tt)||(nt=tt,tt="")),tt=(tt||"").toLowerCase(),nt=nt||"yyyy-MM-dd HH:mm:ss";var at=new Date;switch(tt){case"year":at.setMonth(0);case"month":at.setDate(1);case"week":case"day":at.setHours(0);case"hour":at.setMinutes(0);case"minute":at.setSeconds(0);case"second":at.setMilliseconds(0)}switch(tt){case"week":at.setDate(at.getDate()-at.getDay())}return this._formatDate(at,nt)}}},function($,_e,et){(function(tt){tt.exports={_adSize:["300x250","250x250","240x400","336x280","180x150","720x300","468x60","234x60","88x31","120x90","120x60","120x240","125x125","728x90","160x600","120x600","300x600"],_screenSize:["320x200","320x240","640x480","800x480","800x480","1024x600","1024x768","1280x800","1440x900","1920x1200","2560x1600"],_videoSize:["720x480","768x576","1280x720","1920x1080"],image:function(nt,at,ot,it,st){return arguments.length===4&&(st=it,it=void 0),arguments.length===3&&(st=ot,ot=void 0),nt||(nt=this.pick(this._adSize)),at&&~at.indexOf("#")&&(at=at.slice(1)),ot&&~ot.indexOf("#")&&(ot=ot.slice(1)),"http://dummyimage.com/"+nt+(at?"/"+at:"")+(ot?"/"+ot:"")+(it?"."+it:"")+(st?"&text="+st:"")},img:function(){return this.image.apply(this,arguments)},_brandColors:{"4ormat":"#fb0a2a","500px":"#02adea","About.me (blue)":"#00405d","About.me (yellow)":"#ffcc33",Addvocate:"#ff6138",Adobe:"#ff0000",Aim:"#fcd20b",Amazon:"#e47911",Android:"#a4c639","Angie's List":"#7fbb00",AOL:"#0060a3",Atlassian:"#003366",Behance:"#053eff","Big Cartel":"#97b538",bitly:"#ee6123",Blogger:"#fc4f08",Boeing:"#0039a6","Booking.com":"#003580",Carbonmade:"#613854",Cheddar:"#ff7243","Code School":"#3d4944",Delicious:"#205cc0",Dell:"#3287c1",Designmoo:"#e54a4f",Deviantart:"#4e6252","Designer News":"#2d72da",Devour:"#fd0001",DEWALT:"#febd17","Disqus (blue)":"#59a3fc","Disqus (orange)":"#db7132",Dribbble:"#ea4c89",Dropbox:"#3d9ae8",Drupal:"#0c76ab",Dunked:"#2a323a",eBay:"#89c507",Ember:"#f05e1b",Engadget:"#00bdf6",Envato:"#528036",Etsy:"#eb6d20",Evernote:"#5ba525","Fab.com":"#dd0017",Facebook:"#3b5998",Firefox:"#e66000","Flickr (blue)":"#0063dc","Flickr (pink)":"#ff0084",Forrst:"#5b9a68",Foursquare:"#25a0ca",Garmin:"#007cc3",GetGlue:"#2d75a2",Gimmebar:"#f70078",GitHub:"#171515","Google Blue":"#0140ca","Google Green":"#16a61e","Google Red":"#dd1812","Google Yellow":"#fcca03","Google+":"#dd4b39",Grooveshark:"#f77f00",Groupon:"#82b548","Hacker News":"#ff6600",HelloWallet:"#0085ca","Heroku (light)":"#c7c5e6","Heroku (dark)":"#6567a5",HootSuite:"#003366",Houzz:"#73ba37",HTML5:"#ec6231",IKEA:"#ffcc33",IMDb:"#f3ce13",Instagram:"#3f729b",Intel:"#0071c5",Intuit:"#365ebf",Kickstarter:"#76cc1e",kippt:"#e03500",Kodery:"#00af81",LastFM:"#c3000d",LinkedIn:"#0e76a8",Livestream:"#cf0005",Lumo:"#576396",Mixpanel:"#a086d3",Meetup:"#e51937",Nokia:"#183693",NVIDIA:"#76b900",Opera:"#cc0f16",Path:"#e41f11","PayPal (dark)":"#1e477a","PayPal (light)":"#3b7bbf",Pinboard:"#0000e6",Pinterest:"#c8232c",PlayStation:"#665cbe",Pocket:"#ee4056",Prezi:"#318bff",Pusha:"#0f71b4",Quora:"#a82400","QUOTE.fm":"#66ceff",Rdio:"#008fd5",Readability:"#9c0000","Red Hat":"#cc0000",Resource:"#7eb400",Rockpack:"#0ba6ab",Roon:"#62b0d9",RSS:"#ee802f",Salesforce:"#1798c1",Samsung:"#0c4da2",Shopify:"#96bf48",Skype:"#00aff0",Snagajob:"#f47a20",Softonic:"#008ace",SoundCloud:"#ff7700","Space Box":"#f86960",Spotify:"#81b71a",Sprint:"#fee100",Squarespace:"#121212",StackOverflow:"#ef8236",Staples:"#cc0000","Status Chart":"#d7584f",Stripe:"#008cdd",StudyBlue:"#00afe1",StumbleUpon:"#f74425","T-Mobile":"#ea0a8e",Technorati:"#40a800","The Next Web":"#ef4423",Treehouse:"#5cb868",Trulia:"#5eab1f",Tumblr:"#34526f","Twitch.tv":"#6441a5",Twitter:"#00acee",TYPO3:"#ff8700",Ubuntu:"#dd4814",Ustream:"#3388ff",Verizon:"#ef1d1d",Vimeo:"#86c9ef",Vine:"#00a478",Virb:"#06afd8","Virgin Media":"#cc0000",Wooga:"#5b009c","WordPress (blue)":"#21759b","WordPress (orange)":"#d54e21","WordPress (grey)":"#464646",Wunderlist:"#2b88d9",XBOX:"#9bc848",XING:"#126567","Yahoo!":"#720e9e",Yandex:"#ffcc00",Yelp:"#c41200",YouTube:"#c4302b",Zalongo:"#5498dc",Zendesk:"#78a300",Zerply:"#9dcc7a",Zootool:"#5e8b1d"},_brandNames:function(){var nt=[];for(var at in this._brandColors)nt.push(at);return nt},dataImage:function(nt,at){var ot;if(typeof document!="undefined")ot=document.createElement("canvas");else{var it=tt.require("canvas");ot=new it}var st=ot&&ot.getContext&&ot.getContext("2d");if(!ot||!st)return"";nt||(nt=this.pick(this._adSize)),at=at!==void 0?at:nt,nt=nt.split("x");var ut=parseInt(nt[0],10),ft=parseInt(nt[1],10),dt=this._brandColors[this.pick(this._brandNames())],vt="#FFF",gt=14,yt="sans-serif";return ot.width=ut,ot.height=ft,st.textAlign="center",st.textBaseline="middle",st.fillStyle=dt,st.fillRect(0,0,ut,ft),st.fillStyle=vt,st.font="bold "+gt+"px "+yt,st.fillText(at,ut/2,ft/2,ut),ot.toDataURL("image/png")}}}).call(_e,et(9)($))},function($,_e){$.exports=function(et){return et.webpackPolyfill||(et.deprecate=function(){},et.paths=[],et.children=[],et.webpackPolyfill=1),et}},function($,_e,et){var tt=et(11),nt=et(12);$.exports={color:function(at){return at||nt[at]?nt[at].nicer:this.hex()},hex:function(){var at=this._goldenRatioColor(),ot=tt.hsv2rgb(at),it=tt.rgb2hex(ot[0],ot[1],ot[2]);return it},rgb:function(){var at=this._goldenRatioColor(),ot=tt.hsv2rgb(at);return"rgb("+parseInt(ot[0],10)+", "+parseInt(ot[1],10)+", "+parseInt(ot[2],10)+")"},rgba:function(){var at=this._goldenRatioColor(),ot=tt.hsv2rgb(at);return"rgba("+parseInt(ot[0],10)+", "+parseInt(ot[1],10)+", "+parseInt(ot[2],10)+", "+Math.random().toFixed(2)+")"},hsl:function(){var at=this._goldenRatioColor(),ot=tt.hsv2hsl(at);return"hsl("+parseInt(ot[0],10)+", "+parseInt(ot[1],10)+", "+parseInt(ot[2],10)+")"},_goldenRatioColor:function(at,ot){return this._goldenRatio=.618033988749895,this._hue=this._hue||Math.random(),this._hue+=this._goldenRatio,this._hue%=1,typeof at!="number"&&(at=.5),typeof ot!="number"&&(ot=.95),[this._hue*360,at*100,ot*100]}}},function($,_e){$.exports={rgb2hsl:function(tt){var nt=tt[0]/255,at=tt[1]/255,ot=tt[2]/255,it=Math.min(nt,at,ot),st=Math.max(nt,at,ot),ut=st-it,ft,dt,vt;return st==it?ft=0:nt==st?ft=(at-ot)/ut:at==st?ft=2+(ot-nt)/ut:ot==st&&(ft=4+(nt-at)/ut),ft=Math.min(ft*60,360),ft<0&&(ft+=360),vt=(it+st)/2,st==it?dt=0:vt<=.5?dt=ut/(st+it):dt=ut/(2-st-it),[ft,dt*100,vt*100]},rgb2hsv:function(tt){var nt=tt[0],at=tt[1],ot=tt[2],it=Math.min(nt,at,ot),st=Math.max(nt,at,ot),ut=st-it,ft,dt,vt;return st===0?dt=0:dt=ut/st*1e3/10,st==it?ft=0:nt==st?ft=(at-ot)/ut:at==st?ft=2+(ot-nt)/ut:ot==st&&(ft=4+(nt-at)/ut),ft=Math.min(ft*60,360),ft<0&&(ft+=360),vt=st/255*1e3/10,[ft,dt,vt]},hsl2rgb:function(tt){var nt=tt[0]/360,at=tt[1]/100,ot=tt[2]/100,it,st,ut,ft,dt;if(at===0)return dt=ot*255,[dt,dt,dt];ot<.5?st=ot*(1+at):st=ot+at-ot*at,it=2*ot-st,ft=[0,0,0];for(var vt=0;vt<3;vt++)ut=nt+1/3*-(vt-1),ut<0&&ut++,ut>1&&ut--,6*ut<1?dt=it+(st-it)*6*ut:2*ut<1?dt=st:3*ut<2?dt=it+(st-it)*(2/3-ut)*6:dt=it,ft[vt]=dt*255;return ft},hsl2hsv:function(tt){var nt=tt[0],at=tt[1]/100,ot=tt[2]/100,it,st;return ot*=2,at*=ot<=1?ot:2-ot,st=(ot+at)/2,it=2*at/(ot+at),[nt,it*100,st*100]},hsv2rgb:function(tt){var nt=tt[0]/60,at=tt[1]/100,ot=tt[2]/100,it=Math.floor(nt)%6,st=nt-Math.floor(nt),ut=255*ot*(1-at),ft=255*ot*(1-at*st),dt=255*ot*(1-at*(1-st));switch(ot=255*ot,it){case 0:return[ot,dt,ut];case 1:return[ft,ot,ut];case 2:return[ut,ot,dt];case 3:return[ut,ft,ot];case 4:return[dt,ut,ot];case 5:return[ot,ut,ft]}},hsv2hsl:function(tt){var nt=tt[0],at=tt[1]/100,ot=tt[2]/100,it,st;return st=(2-at)*ot,it=at*ot,it/=st<=1?st:2-st,st/=2,[nt,it*100,st*100]},rgb2hex:function(et,tt,nt){return"#"+((256+et<<8|tt)<<8|nt).toString(16).slice(1)},hex2rgb:function(et){return et="0x"+et.slice(1).replace(et.length>4?et:/./g,"$&$&")|0,[et>>16,et>>8&255,et&255]}}},function($,_e){$.exports={navy:{value:"#000080",nicer:"#001F3F"},blue:{value:"#0000ff",nicer:"#0074D9"},aqua:{value:"#00ffff",nicer:"#7FDBFF"},teal:{value:"#008080",nicer:"#39CCCC"},olive:{value:"#008000",nicer:"#3D9970"},green:{value:"#008000",nicer:"#2ECC40"},lime:{value:"#00ff00",nicer:"#01FF70"},yellow:{value:"#ffff00",nicer:"#FFDC00"},orange:{value:"#ffa500",nicer:"#FF851B"},red:{value:"#ff0000",nicer:"#FF4136"},maroon:{value:"#800000",nicer:"#85144B"},fuchsia:{value:"#ff00ff",nicer:"#F012BE"},purple:{value:"#800080",nicer:"#B10DC9"},silver:{value:"#c0c0c0",nicer:"#DDDDDD"},gray:{value:"#808080",nicer:"#AAAAAA"},black:{value:"#000000",nicer:"#111111"},white:{value:"#FFFFFF",nicer:"#FFFFFF"}}},function($,_e,et){var tt=et(6),nt=et(14);function at(ot,it,st,ut){return st===void 0?tt.natural(ot,it):ut===void 0?st:tt.natural(parseInt(st,10),parseInt(ut,10))}$.exports={paragraph:function(ot,it){for(var st=at(3,7,ot,it),ut=[],ft=0;ft<st;ft++)ut.push(this.sentence());return ut.join(" ")},cparagraph:function(ot,it){for(var st=at(3,7,ot,it),ut=[],ft=0;ft<st;ft++)ut.push(this.csentence());return ut.join("")},sentence:function(ot,it){for(var st=at(12,18,ot,it),ut=[],ft=0;ft<st;ft++)ut.push(this.word());return nt.capitalize(ut.join(" "))+"."},csentence:function(ot,it){for(var st=at(12,18,ot,it),ut=[],ft=0;ft<st;ft++)ut.push(this.cword());return ut.join("")+"\u3002"},word:function(ot,it){for(var st=at(3,10,ot,it),ut="",ft=0;ft<st;ft++)ut+=tt.character("lower");return ut},cword:function(ot,it,st){var ut="\u7684\u4E00\u662F\u5728\u4E0D\u4E86\u6709\u548C\u4EBA\u8FD9\u4E2D\u5927\u4E3A\u4E0A\u4E2A\u56FD\u6211\u4EE5\u8981\u4ED6\u65F6\u6765\u7528\u4EEC\u751F\u5230\u4F5C\u5730\u4E8E\u51FA\u5C31\u5206\u5BF9\u6210\u4F1A\u53EF\u4E3B\u53D1\u5E74\u52A8\u540C\u5DE5\u4E5F\u80FD\u4E0B\u8FC7\u5B50\u8BF4\u4EA7\u79CD\u9762\u800C\u65B9\u540E\u591A\u5B9A\u884C\u5B66\u6CD5\u6240\u6C11\u5F97\u7ECF\u5341\u4E09\u4E4B\u8FDB\u7740\u7B49\u90E8\u5EA6\u5BB6\u7535\u529B\u91CC\u5982\u6C34\u5316\u9AD8\u81EA\u4E8C\u7406\u8D77\u5C0F\u7269\u73B0\u5B9E\u52A0\u91CF\u90FD\u4E24\u4F53\u5236\u673A\u5F53\u4F7F\u70B9\u4ECE\u4E1A\u672C\u53BB\u628A\u6027\u597D\u5E94\u5F00\u5B83\u5408\u8FD8\u56E0\u7531\u5176\u4E9B\u7136\u524D\u5916\u5929\u653F\u56DB\u65E5\u90A3\u793E\u4E49\u4E8B\u5E73\u5F62\u76F8\u5168\u8868\u95F4\u6837\u4E0E\u5173\u5404\u91CD\u65B0\u7EBF\u5185\u6570\u6B63\u5FC3\u53CD\u4F60\u660E\u770B\u539F\u53C8\u4E48\u5229\u6BD4\u6216\u4F46\u8D28\u6C14\u7B2C\u5411\u9053\u547D\u6B64\u53D8\u6761\u53EA\u6CA1\u7ED3\u89E3\u95EE\u610F\u5EFA\u6708\u516C\u65E0\u7CFB\u519B\u5F88\u60C5\u8005\u6700\u7ACB\u4EE3\u60F3\u5DF2\u901A\u5E76\u63D0\u76F4\u9898\u515A\u7A0B\u5C55\u4E94\u679C\u6599\u8C61\u5458\u9769\u4F4D\u5165\u5E38\u6587\u603B\u6B21\u54C1\u5F0F\u6D3B\u8BBE\u53CA\u7BA1\u7279\u4EF6\u957F\u6C42\u8001\u5934\u57FA\u8D44\u8FB9\u6D41\u8DEF\u7EA7\u5C11\u56FE\u5C71\u7EDF\u63A5\u77E5\u8F83\u5C06\u7EC4\u89C1\u8BA1\u522B\u5979\u624B\u89D2\u671F\u6839\u8BBA\u8FD0\u519C\u6307\u51E0\u4E5D\u533A\u5F3A\u653E\u51B3\u897F\u88AB\u5E72\u505A\u5FC5\u6218\u5148\u56DE\u5219\u4EFB\u53D6\u636E\u5904\u961F\u5357\u7ED9\u8272\u5149\u95E8\u5373\u4FDD\u6CBB\u5317\u9020\u767E\u89C4\u70ED\u9886\u4E03\u6D77\u53E3\u4E1C\u5BFC\u5668\u538B\u5FD7\u4E16\u91D1\u589E\u4E89\u6D4E\u9636\u6CB9\u601D\u672F\u6781\u4EA4\u53D7\u8054\u4EC0\u8BA4\u516D\u5171\u6743\u6536\u8BC1\u6539\u6E05\u5DF1\u7F8E\u518D\u91C7\u8F6C\u66F4\u5355\u98CE\u5207\u6253\u767D\u6559\u901F\u82B1\u5E26\u5B89\u573A\u8EAB\u8F66\u4F8B\u771F\u52A1\u5177\u4E07\u6BCF\u76EE\u81F3\u8FBE\u8D70\u79EF\u793A\u8BAE\u58F0\u62A5\u6597\u5B8C\u7C7B\u516B\u79BB\u534E\u540D\u786E\u624D\u79D1\u5F20\u4FE1\u9A6C\u8282\u8BDD\u7C73\u6574\u7A7A\u5143\u51B5\u4ECA\u96C6\u6E29\u4F20\u571F\u8BB8\u6B65\u7FA4\u5E7F\u77F3\u8BB0\u9700\u6BB5\u7814\u754C\u62C9\u6797\u5F8B\u53EB\u4E14\u7A76\u89C2\u8D8A\u7EC7\u88C5\u5F71\u7B97\u4F4E\u6301\u97F3\u4F17\u4E66\u5E03\u590D\u5BB9\u513F\u987B\u9645\u5546\u975E\u9A8C\u8FDE\u65AD\u6DF1\u96BE\u8FD1\u77FF\u5343\u5468\u59D4\u7D20\u6280\u5907\u534A\u529E\u9752\u7701\u5217\u4E60\u54CD\u7EA6\u652F\u822C\u53F2\u611F\u52B3\u4FBF\u56E2\u5F80\u9178\u5386\u5E02\u514B\u4F55\u9664\u6D88\u6784\u5E9C\u79F0\u592A\u51C6\u7CBE\u503C\u53F7\u7387\u65CF\u7EF4\u5212\u9009\u6807\u5199\u5B58\u5019\u6BDB\u4EB2\u5FEB\u6548\u65AF\u9662\u67E5\u6C5F\u578B\u773C\u738B\u6309\u683C\u517B\u6613\u7F6E\u6D3E\u5C42\u7247\u59CB\u5374\u4E13\u72B6\u80B2\u5382\u4EAC\u8BC6\u9002\u5C5E\u5706\u5305\u706B\u4F4F\u8C03\u6EE1\u53BF\u5C40\u7167\u53C2\u7EA2\u7EC6\u5F15\u542C\u8BE5\u94C1\u4EF7\u4E25\u9F99\u98DE",ft;switch(arguments.length){case 0:ot=ut,ft=1;break;case 1:typeof arguments[0]=="string"?ft=1:(ft=ot,ot=ut);break;case 2:typeof arguments[0]=="string"?ft=it:(ft=this.natural(ot,it),ot=ut);break;case 3:ft=this.natural(it,st);break}for(var dt="",vt=0;vt<ft;vt++)dt+=ot.charAt(this.natural(0,ot.length-1));return dt},title:function(ot,it){for(var st=at(3,7,ot,it),ut=[],ft=0;ft<st;ft++)ut.push(this.capitalize(this.word()));return ut.join(" ")},ctitle:function(ot,it){for(var st=at(3,7,ot,it),ut=[],ft=0;ft<st;ft++)ut.push(this.cword());return ut.join("")}}},function($,_e,et){var tt=et(3);$.exports={capitalize:function(nt){return(nt+"").charAt(0).toUpperCase()+(nt+"").substr(1)},upper:function(nt){return(nt+"").toUpperCase()},lower:function(nt){return(nt+"").toLowerCase()},pick:function(at,ot,it){return tt.isArray(at)?(ot===void 0&&(ot=1),it===void 0&&(it=ot)):(at=[].slice.call(arguments),ot=1,it=1),ot===1&&it===1?at[this.natural(0,at.length-1)]:this.shuffle(at,ot,it)},shuffle:function(at,ot,it){at=at||[];for(var st=at.slice(0),ut=[],ft=0,dt=st.length,vt=0;vt<dt;vt++)ft=this.natural(0,st.length-1),ut.push(st[ft]),st.splice(ft,1);switch(arguments.length){case 0:case 1:return ut;case 2:it=ot;case 3:return ot=parseInt(ot,10),it=parseInt(it,10),ut.slice(0,this.natural(ot,it))}},order:function nt(at){nt.cache=nt.cache||{},arguments.length>1&&(at=[].slice.call(arguments,0));var ot=nt.options,it=ot.context.templatePath.join("."),st=nt.cache[it]=nt.cache[it]||{index:0,array:at};return st.array[st.index++%st.array.length]}}},function($,_e){$.exports={first:function(){var et=["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric"].concat(["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna"]);return this.pick(et)},last:function(){var et=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen"];return this.pick(et)},name:function(et){return this.first()+" "+(et?this.first()+" ":"")+this.last()},cfirst:function(){var et="\u738B \u674E \u5F20 \u5218 \u9648 \u6768 \u8D75 \u9EC4 \u5468 \u5434 \u5F90 \u5B59 \u80E1 \u6731 \u9AD8 \u6797 \u4F55 \u90ED \u9A6C \u7F57 \u6881 \u5B8B \u90D1 \u8C22 \u97E9 \u5510 \u51AF \u4E8E \u8463 \u8427 \u7A0B \u66F9 \u8881 \u9093 \u8BB8 \u5085 \u6C88 \u66FE \u5F6D \u5415 \u82CF \u5362 \u848B \u8521 \u8D3E \u4E01 \u9B4F \u859B \u53F6 \u960E \u4F59 \u6F58 \u675C \u6234 \u590F \u953A \u6C6A \u7530 \u4EFB \u59DC \u8303 \u65B9 \u77F3 \u59DA \u8C2D \u5ED6 \u90B9 \u718A \u91D1 \u9646 \u90DD \u5B54 \u767D \u5D14 \u5EB7 \u6BDB \u90B1 \u79E6 \u6C5F \u53F2 \u987E \u4FAF \u90B5 \u5B5F \u9F99 \u4E07 \u6BB5 \u96F7 \u94B1 \u6C64 \u5C39 \u9ECE \u6613 \u5E38 \u6B66 \u4E54 \u8D3A \u8D56 \u9F9A \u6587".split(" ");return this.pick(et)},clast:function(){var et="\u4F1F \u82B3 \u5A1C \u79C0\u82F1 \u654F \u9759 \u4E3D \u5F3A \u78CA \u519B \u6D0B \u52C7 \u8273 \u6770 \u5A1F \u6D9B \u660E \u8D85 \u79C0\u5170 \u971E \u5E73 \u521A \u6842\u82F1".split(" ");return this.pick(et)},cname:function(){return this.cfirst()+this.clast()}}},function($,_e){$.exports={url:function(et,tt){return(et||this.protocol())+"://"+(tt||this.domain())+"/"+this.word()},protocol:function(){return this.pick("http ftp gopher mailto mid cid news nntp prospero telnet rlogin tn3270 wais".split(" "))},domain:function(et){return this.word()+"."+(et||this.tld())},tld:function(){return this.pick("com net org edu gov int mil cn com.cn net.cn gov.cn org.cn \u4E2D\u56FD \u4E2D\u56FD\u4E92\u8054.\u516C\u53F8 \u4E2D\u56FD\u4E92\u8054.\u7F51\u7EDC tel biz cc tv info name hk mobi asia cd travel pro museum coop aero ad ae af ag ai al am an ao aq ar as at au aw az ba bb bd be bf bg bh bi bj bm bn bo br bs bt bv bw by bz ca cc cf cg ch ci ck cl cm cn co cq cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh es et ev fi fj fk fm fo fr ga gb gd ge gf gh gi gl gm gn gp gr gt gu gw gy hk hm hn hr ht hu id ie il in io iq ir is it jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md mg mh ml mm mn mo mp mq mr ms mt mv mw mx my mz na nc ne nf ng ni nl no np nr nt nu nz om qa pa pe pf pg ph pk pl pm pn pr pt pw py re ro ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr st su sy sz tc td tf tg th tj tk tm tn to tp tr tt tv tw tz ua ug uk us uy va vc ve vg vn vu wf ws ye yu za zm zr zw".split(" "))},email:function(et){return this.character("lower")+"."+this.word()+"@"+(et||this.word()+"."+this.tld())},ip:function(){return this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)}}},function($,_e,et){var tt=et(18),nt=["\u4E1C\u5317","\u534E\u5317","\u534E\u4E1C","\u534E\u4E2D","\u534E\u5357","\u897F\u5357","\u897F\u5317"];$.exports={region:function(){return this.pick(nt)},province:function(){return this.pick(tt).name},city:function(at){var ot=this.pick(tt),it=this.pick(ot.children);return at?[ot.name,it.name].join(" "):it.name},county:function(at){var ot=this.pick(tt),it=this.pick(ot.children),st=this.pick(it.children)||{name:"-"};return at?[ot.name,it.name,st.name].join(" "):st.name},zip:function(at){for(var ot="",it=0;it<(at||6);it++)ot+=this.natural(0,9);return ot}}},function($,_e){var et={11e4:"\u5317\u4EAC",110100:"\u5317\u4EAC\u5E02",110101:"\u4E1C\u57CE\u533A",110102:"\u897F\u57CE\u533A",110105:"\u671D\u9633\u533A",110106:"\u4E30\u53F0\u533A",110107:"\u77F3\u666F\u5C71\u533A",110108:"\u6D77\u6DC0\u533A",110109:"\u95E8\u5934\u6C9F\u533A",110111:"\u623F\u5C71\u533A",110112:"\u901A\u5DDE\u533A",110113:"\u987A\u4E49\u533A",110114:"\u660C\u5E73\u533A",110115:"\u5927\u5174\u533A",110116:"\u6000\u67D4\u533A",110117:"\u5E73\u8C37\u533A",110228:"\u5BC6\u4E91\u53BF",110229:"\u5EF6\u5E86\u53BF",110230:"\u5176\u5B83\u533A",12e4:"\u5929\u6D25",120100:"\u5929\u6D25\u5E02",120101:"\u548C\u5E73\u533A",120102:"\u6CB3\u4E1C\u533A",120103:"\u6CB3\u897F\u533A",120104:"\u5357\u5F00\u533A",120105:"\u6CB3\u5317\u533A",120106:"\u7EA2\u6865\u533A",120110:"\u4E1C\u4E3D\u533A",120111:"\u897F\u9752\u533A",120112:"\u6D25\u5357\u533A",120113:"\u5317\u8FB0\u533A",120114:"\u6B66\u6E05\u533A",120115:"\u5B9D\u577B\u533A",120116:"\u6EE8\u6D77\u65B0\u533A",120221:"\u5B81\u6CB3\u53BF",120223:"\u9759\u6D77\u53BF",120225:"\u84DF\u53BF",120226:"\u5176\u5B83\u533A",13e4:"\u6CB3\u5317\u7701",130100:"\u77F3\u5BB6\u5E84\u5E02",130102:"\u957F\u5B89\u533A",130103:"\u6865\u4E1C\u533A",130104:"\u6865\u897F\u533A",130105:"\u65B0\u534E\u533A",130107:"\u4E95\u9649\u77FF\u533A",130108:"\u88D5\u534E\u533A",130121:"\u4E95\u9649\u53BF",130123:"\u6B63\u5B9A\u53BF",130124:"\u683E\u57CE\u53BF",130125:"\u884C\u5510\u53BF",130126:"\u7075\u5BFF\u53BF",130127:"\u9AD8\u9091\u53BF",130128:"\u6DF1\u6CFD\u53BF",130129:"\u8D5E\u7687\u53BF",130130:"\u65E0\u6781\u53BF",130131:"\u5E73\u5C71\u53BF",130132:"\u5143\u6C0F\u53BF",130133:"\u8D75\u53BF",130181:"\u8F9B\u96C6\u5E02",130182:"\u85C1\u57CE\u5E02",130183:"\u664B\u5DDE\u5E02",130184:"\u65B0\u4E50\u5E02",130185:"\u9E7F\u6CC9\u5E02",130186:"\u5176\u5B83\u533A",130200:"\u5510\u5C71\u5E02",130202:"\u8DEF\u5357\u533A",130203:"\u8DEF\u5317\u533A",130204:"\u53E4\u51B6\u533A",130205:"\u5F00\u5E73\u533A",130207:"\u4E30\u5357\u533A",130208:"\u4E30\u6DA6\u533A",130223:"\u6EE6\u53BF",130224:"\u6EE6\u5357\u53BF",130225:"\u4E50\u4EAD\u53BF",130227:"\u8FC1\u897F\u53BF",130229:"\u7389\u7530\u53BF",130230:"\u66F9\u5983\u7538\u533A",130281:"\u9075\u5316\u5E02",130283:"\u8FC1\u5B89\u5E02",130284:"\u5176\u5B83\u533A",130300:"\u79E6\u7687\u5C9B\u5E02",130302:"\u6D77\u6E2F\u533A",130303:"\u5C71\u6D77\u5173\u533A",130304:"\u5317\u6234\u6CB3\u533A",130321:"\u9752\u9F99\u6EE1\u65CF\u81EA\u6CBB\u53BF",130322:"\u660C\u9ECE\u53BF",130323:"\u629A\u5B81\u53BF",130324:"\u5362\u9F99\u53BF",130398:"\u5176\u5B83\u533A",130400:"\u90AF\u90F8\u5E02",130402:"\u90AF\u5C71\u533A",130403:"\u4E1B\u53F0\u533A",130404:"\u590D\u5174\u533A",130406:"\u5CF0\u5CF0\u77FF\u533A",130421:"\u90AF\u90F8\u53BF",130423:"\u4E34\u6F33\u53BF",130424:"\u6210\u5B89\u53BF",130425:"\u5927\u540D\u53BF",130426:"\u6D89\u53BF",130427:"\u78C1\u53BF",130428:"\u80A5\u4E61\u53BF",130429:"\u6C38\u5E74\u53BF",130430:"\u90B1\u53BF",130431:"\u9E21\u6CFD\u53BF",130432:"\u5E7F\u5E73\u53BF",130433:"\u9986\u9676\u53BF",130434:"\u9B4F\u53BF",130435:"\u66F2\u5468\u53BF",130481:"\u6B66\u5B89\u5E02",130482:"\u5176\u5B83\u533A",130500:"\u90A2\u53F0\u5E02",130502:"\u6865\u4E1C\u533A",130503:"\u6865\u897F\u533A",130521:"\u90A2\u53F0\u53BF",130522:"\u4E34\u57CE\u53BF",130523:"\u5185\u4E18\u53BF",130524:"\u67CF\u4E61\u53BF",130525:"\u9686\u5C27\u53BF",130526:"\u4EFB\u53BF",130527:"\u5357\u548C\u53BF",130528:"\u5B81\u664B\u53BF",130529:"\u5DE8\u9E7F\u53BF",130530:"\u65B0\u6CB3\u53BF",130531:"\u5E7F\u5B97\u53BF",130532:"\u5E73\u4E61\u53BF",130533:"\u5A01\u53BF",130534:"\u6E05\u6CB3\u53BF",130535:"\u4E34\u897F\u53BF",130581:"\u5357\u5BAB\u5E02",130582:"\u6C99\u6CB3\u5E02",130583:"\u5176\u5B83\u533A",130600:"\u4FDD\u5B9A\u5E02",130602:"\u65B0\u5E02\u533A",130603:"\u5317\u5E02\u533A",130604:"\u5357\u5E02\u533A",130621:"\u6EE1\u57CE\u53BF",130622:"\u6E05\u82D1\u53BF",130623:"\u6D9E\u6C34\u53BF",130624:"\u961C\u5E73\u53BF",130625:"\u5F90\u6C34\u53BF",130626:"\u5B9A\u5174\u53BF",130627:"\u5510\u53BF",130628:"\u9AD8\u9633\u53BF",130629:"\u5BB9\u57CE\u53BF",130630:"\u6D9E\u6E90\u53BF",130631:"\u671B\u90FD\u53BF",130632:"\u5B89\u65B0\u53BF",130633:"\u6613\u53BF",130634:"\u66F2\u9633\u53BF",130635:"\u8821\u53BF",130636:"\u987A\u5E73\u53BF",130637:"\u535A\u91CE\u53BF",130638:"\u96C4\u53BF",130681:"\u6DBF\u5DDE\u5E02",130682:"\u5B9A\u5DDE\u5E02",130683:"\u5B89\u56FD\u5E02",130684:"\u9AD8\u7891\u5E97\u5E02",130699:"\u5176\u5B83\u533A",130700:"\u5F20\u5BB6\u53E3\u5E02",130702:"\u6865\u4E1C\u533A",130703:"\u6865\u897F\u533A",130705:"\u5BA3\u5316\u533A",130706:"\u4E0B\u82B1\u56ED\u533A",130721:"\u5BA3\u5316\u53BF",130722:"\u5F20\u5317\u53BF",130723:"\u5EB7\u4FDD\u53BF",130724:"\u6CBD\u6E90\u53BF",130725:"\u5C1A\u4E49\u53BF",130726:"\u851A\u53BF",130727:"\u9633\u539F\u53BF",130728:"\u6000\u5B89\u53BF",130729:"\u4E07\u5168\u53BF",130730:"\u6000\u6765\u53BF",130731:"\u6DBF\u9E7F\u53BF",130732:"\u8D64\u57CE\u53BF",130733:"\u5D07\u793C\u53BF",130734:"\u5176\u5B83\u533A",130800:"\u627F\u5FB7\u5E02",130802:"\u53CC\u6865\u533A",130803:"\u53CC\u6EE6\u533A",130804:"\u9E70\u624B\u8425\u5B50\u77FF\u533A",130821:"\u627F\u5FB7\u53BF",130822:"\u5174\u9686\u53BF",130823:"\u5E73\u6CC9\u53BF",130824:"\u6EE6\u5E73\u53BF",130825:"\u9686\u5316\u53BF",130826:"\u4E30\u5B81\u6EE1\u65CF\u81EA\u6CBB\u53BF",130827:"\u5BBD\u57CE\u6EE1\u65CF\u81EA\u6CBB\u53BF",130828:"\u56F4\u573A\u6EE1\u65CF\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",130829:"\u5176\u5B83\u533A",130900:"\u6CA7\u5DDE\u5E02",130902:"\u65B0\u534E\u533A",130903:"\u8FD0\u6CB3\u533A",130921:"\u6CA7\u53BF",130922:"\u9752\u53BF",130923:"\u4E1C\u5149\u53BF",130924:"\u6D77\u5174\u53BF",130925:"\u76D0\u5C71\u53BF",130926:"\u8083\u5B81\u53BF",130927:"\u5357\u76AE\u53BF",130928:"\u5434\u6865\u53BF",130929:"\u732E\u53BF",130930:"\u5B5F\u6751\u56DE\u65CF\u81EA\u6CBB\u53BF",130981:"\u6CCA\u5934\u5E02",130982:"\u4EFB\u4E18\u5E02",130983:"\u9EC4\u9A85\u5E02",130984:"\u6CB3\u95F4\u5E02",130985:"\u5176\u5B83\u533A",131e3:"\u5ECA\u574A\u5E02",131002:"\u5B89\u6B21\u533A",131003:"\u5E7F\u9633\u533A",131022:"\u56FA\u5B89\u53BF",131023:"\u6C38\u6E05\u53BF",131024:"\u9999\u6CB3\u53BF",131025:"\u5927\u57CE\u53BF",131026:"\u6587\u5B89\u53BF",131028:"\u5927\u5382\u56DE\u65CF\u81EA\u6CBB\u53BF",131081:"\u9738\u5DDE\u5E02",131082:"\u4E09\u6CB3\u5E02",131083:"\u5176\u5B83\u533A",131100:"\u8861\u6C34\u5E02",131102:"\u6843\u57CE\u533A",131121:"\u67A3\u5F3A\u53BF",131122:"\u6B66\u9091\u53BF",131123:"\u6B66\u5F3A\u53BF",131124:"\u9976\u9633\u53BF",131125:"\u5B89\u5E73\u53BF",131126:"\u6545\u57CE\u53BF",131127:"\u666F\u53BF",131128:"\u961C\u57CE\u53BF",131181:"\u5180\u5DDE\u5E02",131182:"\u6DF1\u5DDE\u5E02",131183:"\u5176\u5B83\u533A",14e4:"\u5C71\u897F\u7701",140100:"\u592A\u539F\u5E02",140105:"\u5C0F\u5E97\u533A",140106:"\u8FCE\u6CFD\u533A",140107:"\u674F\u82B1\u5CAD\u533A",140108:"\u5C16\u8349\u576A\u533A",140109:"\u4E07\u67CF\u6797\u533A",140110:"\u664B\u6E90\u533A",140121:"\u6E05\u5F90\u53BF",140122:"\u9633\u66F2\u53BF",140123:"\u5A04\u70E6\u53BF",140181:"\u53E4\u4EA4\u5E02",140182:"\u5176\u5B83\u533A",140200:"\u5927\u540C\u5E02",140202:"\u57CE\u533A",140203:"\u77FF\u533A",140211:"\u5357\u90CA\u533A",140212:"\u65B0\u8363\u533A",140221:"\u9633\u9AD8\u53BF",140222:"\u5929\u9547\u53BF",140223:"\u5E7F\u7075\u53BF",140224:"\u7075\u4E18\u53BF",140225:"\u6D51\u6E90\u53BF",140226:"\u5DE6\u4E91\u53BF",140227:"\u5927\u540C\u53BF",140228:"\u5176\u5B83\u533A",140300:"\u9633\u6CC9\u5E02",140302:"\u57CE\u533A",140303:"\u77FF\u533A",140311:"\u90CA\u533A",140321:"\u5E73\u5B9A\u53BF",140322:"\u76C2\u53BF",140323:"\u5176\u5B83\u533A",140400:"\u957F\u6CBB\u5E02",140421:"\u957F\u6CBB\u53BF",140423:"\u8944\u57A3\u53BF",140424:"\u5C6F\u7559\u53BF",140425:"\u5E73\u987A\u53BF",140426:"\u9ECE\u57CE\u53BF",140427:"\u58F6\u5173\u53BF",140428:"\u957F\u5B50\u53BF",140429:"\u6B66\u4E61\u53BF",140430:"\u6C81\u53BF",140431:"\u6C81\u6E90\u53BF",140481:"\u6F5E\u57CE\u5E02",140482:"\u57CE\u533A",140483:"\u90CA\u533A",140485:"\u5176\u5B83\u533A",140500:"\u664B\u57CE\u5E02",140502:"\u57CE\u533A",140521:"\u6C81\u6C34\u53BF",140522:"\u9633\u57CE\u53BF",140524:"\u9675\u5DDD\u53BF",140525:"\u6CFD\u5DDE\u53BF",140581:"\u9AD8\u5E73\u5E02",140582:"\u5176\u5B83\u533A",140600:"\u6714\u5DDE\u5E02",140602:"\u6714\u57CE\u533A",140603:"\u5E73\u9C81\u533A",140621:"\u5C71\u9634\u53BF",140622:"\u5E94\u53BF",140623:"\u53F3\u7389\u53BF",140624:"\u6000\u4EC1\u53BF",140625:"\u5176\u5B83\u533A",140700:"\u664B\u4E2D\u5E02",140702:"\u6986\u6B21\u533A",140721:"\u6986\u793E\u53BF",140722:"\u5DE6\u6743\u53BF",140723:"\u548C\u987A\u53BF",140724:"\u6614\u9633\u53BF",140725:"\u5BFF\u9633\u53BF",140726:"\u592A\u8C37\u53BF",140727:"\u7941\u53BF",140728:"\u5E73\u9065\u53BF",140729:"\u7075\u77F3\u53BF",140781:"\u4ECB\u4F11\u5E02",140782:"\u5176\u5B83\u533A",140800:"\u8FD0\u57CE\u5E02",140802:"\u76D0\u6E56\u533A",140821:"\u4E34\u7317\u53BF",140822:"\u4E07\u8363\u53BF",140823:"\u95FB\u559C\u53BF",140824:"\u7A37\u5C71\u53BF",140825:"\u65B0\u7EDB\u53BF",140826:"\u7EDB\u53BF",140827:"\u57A3\u66F2\u53BF",140828:"\u590F\u53BF",140829:"\u5E73\u9646\u53BF",140830:"\u82AE\u57CE\u53BF",140881:"\u6C38\u6D4E\u5E02",140882:"\u6CB3\u6D25\u5E02",140883:"\u5176\u5B83\u533A",140900:"\u5FFB\u5DDE\u5E02",140902:"\u5FFB\u5E9C\u533A",140921:"\u5B9A\u8944\u53BF",140922:"\u4E94\u53F0\u53BF",140923:"\u4EE3\u53BF",140924:"\u7E41\u5CD9\u53BF",140925:"\u5B81\u6B66\u53BF",140926:"\u9759\u4E50\u53BF",140927:"\u795E\u6C60\u53BF",140928:"\u4E94\u5BE8\u53BF",140929:"\u5CA2\u5C9A\u53BF",140930:"\u6CB3\u66F2\u53BF",140931:"\u4FDD\u5FB7\u53BF",140932:"\u504F\u5173\u53BF",140981:"\u539F\u5E73\u5E02",140982:"\u5176\u5B83\u533A",141e3:"\u4E34\u6C7E\u5E02",141002:"\u5C27\u90FD\u533A",141021:"\u66F2\u6C83\u53BF",141022:"\u7FFC\u57CE\u53BF",141023:"\u8944\u6C7E\u53BF",141024:"\u6D2A\u6D1E\u53BF",141025:"\u53E4\u53BF",141026:"\u5B89\u6CFD\u53BF",141027:"\u6D6E\u5C71\u53BF",141028:"\u5409\u53BF",141029:"\u4E61\u5B81\u53BF",141030:"\u5927\u5B81\u53BF",141031:"\u96B0\u53BF",141032:"\u6C38\u548C\u53BF",141033:"\u84B2\u53BF",141034:"\u6C7E\u897F\u53BF",141081:"\u4FAF\u9A6C\u5E02",141082:"\u970D\u5DDE\u5E02",141083:"\u5176\u5B83\u533A",141100:"\u5415\u6881\u5E02",141102:"\u79BB\u77F3\u533A",141121:"\u6587\u6C34\u53BF",141122:"\u4EA4\u57CE\u53BF",141123:"\u5174\u53BF",141124:"\u4E34\u53BF",141125:"\u67F3\u6797\u53BF",141126:"\u77F3\u697C\u53BF",141127:"\u5C9A\u53BF",141128:"\u65B9\u5C71\u53BF",141129:"\u4E2D\u9633\u53BF",141130:"\u4EA4\u53E3\u53BF",141181:"\u5B5D\u4E49\u5E02",141182:"\u6C7E\u9633\u5E02",141183:"\u5176\u5B83\u533A",15e4:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A",150100:"\u547C\u548C\u6D69\u7279\u5E02",150102:"\u65B0\u57CE\u533A",150103:"\u56DE\u6C11\u533A",150104:"\u7389\u6CC9\u533A",150105:"\u8D5B\u7F55\u533A",150121:"\u571F\u9ED8\u7279\u5DE6\u65D7",150122:"\u6258\u514B\u6258\u53BF",150123:"\u548C\u6797\u683C\u5C14\u53BF",150124:"\u6E05\u6C34\u6CB3\u53BF",150125:"\u6B66\u5DDD\u53BF",150126:"\u5176\u5B83\u533A",150200:"\u5305\u5934\u5E02",150202:"\u4E1C\u6CB3\u533A",150203:"\u6606\u90FD\u4ED1\u533A",150204:"\u9752\u5C71\u533A",150205:"\u77F3\u62D0\u533A",150206:"\u767D\u4E91\u9102\u535A\u77FF\u533A",150207:"\u4E5D\u539F\u533A",150221:"\u571F\u9ED8\u7279\u53F3\u65D7",150222:"\u56FA\u9633\u53BF",150223:"\u8FBE\u5C14\u7F55\u8302\u660E\u5B89\u8054\u5408\u65D7",150224:"\u5176\u5B83\u533A",150300:"\u4E4C\u6D77\u5E02",150302:"\u6D77\u52C3\u6E7E\u533A",150303:"\u6D77\u5357\u533A",150304:"\u4E4C\u8FBE\u533A",150305:"\u5176\u5B83\u533A",150400:"\u8D64\u5CF0\u5E02",150402:"\u7EA2\u5C71\u533A",150403:"\u5143\u5B9D\u5C71\u533A",150404:"\u677E\u5C71\u533A",150421:"\u963F\u9C81\u79D1\u5C14\u6C81\u65D7",150422:"\u5DF4\u6797\u5DE6\u65D7",150423:"\u5DF4\u6797\u53F3\u65D7",150424:"\u6797\u897F\u53BF",150425:"\u514B\u4EC0\u514B\u817E\u65D7",150426:"\u7FC1\u725B\u7279\u65D7",150428:"\u5580\u5587\u6C81\u65D7",150429:"\u5B81\u57CE\u53BF",150430:"\u6556\u6C49\u65D7",150431:"\u5176\u5B83\u533A",150500:"\u901A\u8FBD\u5E02",150502:"\u79D1\u5C14\u6C81\u533A",150521:"\u79D1\u5C14\u6C81\u5DE6\u7FFC\u4E2D\u65D7",150522:"\u79D1\u5C14\u6C81\u5DE6\u7FFC\u540E\u65D7",150523:"\u5F00\u9C81\u53BF",150524:"\u5E93\u4F26\u65D7",150525:"\u5948\u66FC\u65D7",150526:"\u624E\u9C81\u7279\u65D7",150581:"\u970D\u6797\u90ED\u52D2\u5E02",150582:"\u5176\u5B83\u533A",150600:"\u9102\u5C14\u591A\u65AF\u5E02",150602:"\u4E1C\u80DC\u533A",150621:"\u8FBE\u62C9\u7279\u65D7",150622:"\u51C6\u683C\u5C14\u65D7",150623:"\u9102\u6258\u514B\u524D\u65D7",150624:"\u9102\u6258\u514B\u65D7",150625:"\u676D\u9526\u65D7",150626:"\u4E4C\u5BA1\u65D7",150627:"\u4F0A\u91D1\u970D\u6D1B\u65D7",150628:"\u5176\u5B83\u533A",150700:"\u547C\u4F26\u8D1D\u5C14\u5E02",150702:"\u6D77\u62C9\u5C14\u533A",150703:"\u624E\u8D49\u8BFA\u5C14\u533A",150721:"\u963F\u8363\u65D7",150722:"\u83AB\u529B\u8FBE\u74E6\u8FBE\u65A1\u5C14\u65CF\u81EA\u6CBB\u65D7",150723:"\u9102\u4F26\u6625\u81EA\u6CBB\u65D7",150724:"\u9102\u6E29\u514B\u65CF\u81EA\u6CBB\u65D7",150725:"\u9648\u5DF4\u5C14\u864E\u65D7",150726:"\u65B0\u5DF4\u5C14\u864E\u5DE6\u65D7",150727:"\u65B0\u5DF4\u5C14\u864E\u53F3\u65D7",150781:"\u6EE1\u6D32\u91CC\u5E02",150782:"\u7259\u514B\u77F3\u5E02",150783:"\u624E\u5170\u5C6F\u5E02",150784:"\u989D\u5C14\u53E4\u7EB3\u5E02",150785:"\u6839\u6CB3\u5E02",150786:"\u5176\u5B83\u533A",150800:"\u5DF4\u5F66\u6DD6\u5C14\u5E02",150802:"\u4E34\u6CB3\u533A",150821:"\u4E94\u539F\u53BF",150822:"\u78F4\u53E3\u53BF",150823:"\u4E4C\u62C9\u7279\u524D\u65D7",150824:"\u4E4C\u62C9\u7279\u4E2D\u65D7",150825:"\u4E4C\u62C9\u7279\u540E\u65D7",150826:"\u676D\u9526\u540E\u65D7",150827:"\u5176\u5B83\u533A",150900:"\u4E4C\u5170\u5BDF\u5E03\u5E02",150902:"\u96C6\u5B81\u533A",150921:"\u5353\u8D44\u53BF",150922:"\u5316\u5FB7\u53BF",150923:"\u5546\u90FD\u53BF",150924:"\u5174\u548C\u53BF",150925:"\u51C9\u57CE\u53BF",150926:"\u5BDF\u54C8\u5C14\u53F3\u7FFC\u524D\u65D7",150927:"\u5BDF\u54C8\u5C14\u53F3\u7FFC\u4E2D\u65D7",150928:"\u5BDF\u54C8\u5C14\u53F3\u7FFC\u540E\u65D7",150929:"\u56DB\u5B50\u738B\u65D7",150981:"\u4E30\u9547\u5E02",150982:"\u5176\u5B83\u533A",152200:"\u5174\u5B89\u76DF",152201:"\u4E4C\u5170\u6D69\u7279\u5E02",152202:"\u963F\u5C14\u5C71\u5E02",152221:"\u79D1\u5C14\u6C81\u53F3\u7FFC\u524D\u65D7",152222:"\u79D1\u5C14\u6C81\u53F3\u7FFC\u4E2D\u65D7",152223:"\u624E\u8D49\u7279\u65D7",152224:"\u7A81\u6CC9\u53BF",152225:"\u5176\u5B83\u533A",152500:"\u9521\u6797\u90ED\u52D2\u76DF",152501:"\u4E8C\u8FDE\u6D69\u7279\u5E02",152502:"\u9521\u6797\u6D69\u7279\u5E02",152522:"\u963F\u5DF4\u560E\u65D7",152523:"\u82CF\u5C3C\u7279\u5DE6\u65D7",152524:"\u82CF\u5C3C\u7279\u53F3\u65D7",152525:"\u4E1C\u4E4C\u73E0\u7A46\u6C81\u65D7",152526:"\u897F\u4E4C\u73E0\u7A46\u6C81\u65D7",152527:"\u592A\u4EC6\u5BFA\u65D7",152528:"\u9576\u9EC4\u65D7",152529:"\u6B63\u9576\u767D\u65D7",152530:"\u6B63\u84DD\u65D7",152531:"\u591A\u4F26\u53BF",152532:"\u5176\u5B83\u533A",152900:"\u963F\u62C9\u5584\u76DF",152921:"\u963F\u62C9\u5584\u5DE6\u65D7",152922:"\u963F\u62C9\u5584\u53F3\u65D7",152923:"\u989D\u6D4E\u7EB3\u65D7",152924:"\u5176\u5B83\u533A",21e4:"\u8FBD\u5B81\u7701",210100:"\u6C88\u9633\u5E02",210102:"\u548C\u5E73\u533A",210103:"\u6C88\u6CB3\u533A",210104:"\u5927\u4E1C\u533A",210105:"\u7687\u59D1\u533A",210106:"\u94C1\u897F\u533A",210111:"\u82CF\u5BB6\u5C6F\u533A",210112:"\u4E1C\u9675\u533A",210113:"\u65B0\u57CE\u5B50\u533A",210114:"\u4E8E\u6D2A\u533A",210122:"\u8FBD\u4E2D\u53BF",210123:"\u5EB7\u5E73\u53BF",210124:"\u6CD5\u5E93\u53BF",210181:"\u65B0\u6C11\u5E02",210184:"\u6C88\u5317\u65B0\u533A",210185:"\u5176\u5B83\u533A",210200:"\u5927\u8FDE\u5E02",210202:"\u4E2D\u5C71\u533A",210203:"\u897F\u5C97\u533A",210204:"\u6C99\u6CB3\u53E3\u533A",210211:"\u7518\u4E95\u5B50\u533A",210212:"\u65C5\u987A\u53E3\u533A",210213:"\u91D1\u5DDE\u533A",210224:"\u957F\u6D77\u53BF",210281:"\u74E6\u623F\u5E97\u5E02",210282:"\u666E\u5170\u5E97\u5E02",210283:"\u5E84\u6CB3\u5E02",210298:"\u5176\u5B83\u533A",210300:"\u978D\u5C71\u5E02",210302:"\u94C1\u4E1C\u533A",210303:"\u94C1\u897F\u533A",210304:"\u7ACB\u5C71\u533A",210311:"\u5343\u5C71\u533A",210321:"\u53F0\u5B89\u53BF",210323:"\u5CAB\u5CA9\u6EE1\u65CF\u81EA\u6CBB\u53BF",210381:"\u6D77\u57CE\u5E02",210382:"\u5176\u5B83\u533A",210400:"\u629A\u987A\u5E02",210402:"\u65B0\u629A\u533A",210403:"\u4E1C\u6D32\u533A",210404:"\u671B\u82B1\u533A",210411:"\u987A\u57CE\u533A",210421:"\u629A\u987A\u53BF",210422:"\u65B0\u5BBE\u6EE1\u65CF\u81EA\u6CBB\u53BF",210423:"\u6E05\u539F\u6EE1\u65CF\u81EA\u6CBB\u53BF",210424:"\u5176\u5B83\u533A",210500:"\u672C\u6EAA\u5E02",210502:"\u5E73\u5C71\u533A",210503:"\u6EAA\u6E56\u533A",210504:"\u660E\u5C71\u533A",210505:"\u5357\u82AC\u533A",210521:"\u672C\u6EAA\u6EE1\u65CF\u81EA\u6CBB\u53BF",210522:"\u6853\u4EC1\u6EE1\u65CF\u81EA\u6CBB\u53BF",210523:"\u5176\u5B83\u533A",210600:"\u4E39\u4E1C\u5E02",210602:"\u5143\u5B9D\u533A",210603:"\u632F\u5174\u533A",210604:"\u632F\u5B89\u533A",210624:"\u5BBD\u7538\u6EE1\u65CF\u81EA\u6CBB\u53BF",210681:"\u4E1C\u6E2F\u5E02",210682:"\u51E4\u57CE\u5E02",210683:"\u5176\u5B83\u533A",210700:"\u9526\u5DDE\u5E02",210702:"\u53E4\u5854\u533A",210703:"\u51CC\u6CB3\u533A",210711:"\u592A\u548C\u533A",210726:"\u9ED1\u5C71\u53BF",210727:"\u4E49\u53BF",210781:"\u51CC\u6D77\u5E02",210782:"\u5317\u9547\u5E02",210783:"\u5176\u5B83\u533A",210800:"\u8425\u53E3\u5E02",210802:"\u7AD9\u524D\u533A",210803:"\u897F\u5E02\u533A",210804:"\u9C85\u9C7C\u5708\u533A",210811:"\u8001\u8FB9\u533A",210881:"\u76D6\u5DDE\u5E02",210882:"\u5927\u77F3\u6865\u5E02",210883:"\u5176\u5B83\u533A",210900:"\u961C\u65B0\u5E02",210902:"\u6D77\u5DDE\u533A",210903:"\u65B0\u90B1\u533A",210904:"\u592A\u5E73\u533A",210905:"\u6E05\u6CB3\u95E8\u533A",210911:"\u7EC6\u6CB3\u533A",210921:"\u961C\u65B0\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",210922:"\u5F70\u6B66\u53BF",210923:"\u5176\u5B83\u533A",211e3:"\u8FBD\u9633\u5E02",211002:"\u767D\u5854\u533A",211003:"\u6587\u5723\u533A",211004:"\u5B8F\u4F1F\u533A",211005:"\u5F13\u957F\u5CAD\u533A",211011:"\u592A\u5B50\u6CB3\u533A",211021:"\u8FBD\u9633\u53BF",211081:"\u706F\u5854\u5E02",211082:"\u5176\u5B83\u533A",211100:"\u76D8\u9526\u5E02",211102:"\u53CC\u53F0\u5B50\u533A",211103:"\u5174\u9686\u53F0\u533A",211121:"\u5927\u6D3C\u53BF",211122:"\u76D8\u5C71\u53BF",211123:"\u5176\u5B83\u533A",211200:"\u94C1\u5CAD\u5E02",211202:"\u94F6\u5DDE\u533A",211204:"\u6E05\u6CB3\u533A",211221:"\u94C1\u5CAD\u53BF",211223:"\u897F\u4E30\u53BF",211224:"\u660C\u56FE\u53BF",211281:"\u8C03\u5175\u5C71\u5E02",211282:"\u5F00\u539F\u5E02",211283:"\u5176\u5B83\u533A",211300:"\u671D\u9633\u5E02",211302:"\u53CC\u5854\u533A",211303:"\u9F99\u57CE\u533A",211321:"\u671D\u9633\u53BF",211322:"\u5EFA\u5E73\u53BF",211324:"\u5580\u5587\u6C81\u5DE6\u7FFC\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",211381:"\u5317\u7968\u5E02",211382:"\u51CC\u6E90\u5E02",211383:"\u5176\u5B83\u533A",211400:"\u846B\u82A6\u5C9B\u5E02",211402:"\u8FDE\u5C71\u533A",211403:"\u9F99\u6E2F\u533A",211404:"\u5357\u7968\u533A",211421:"\u7EE5\u4E2D\u53BF",211422:"\u5EFA\u660C\u53BF",211481:"\u5174\u57CE\u5E02",211482:"\u5176\u5B83\u533A",22e4:"\u5409\u6797\u7701",220100:"\u957F\u6625\u5E02",220102:"\u5357\u5173\u533A",220103:"\u5BBD\u57CE\u533A",220104:"\u671D\u9633\u533A",220105:"\u4E8C\u9053\u533A",220106:"\u7EFF\u56ED\u533A",220112:"\u53CC\u9633\u533A",220122:"\u519C\u5B89\u53BF",220181:"\u4E5D\u53F0\u5E02",220182:"\u6986\u6811\u5E02",220183:"\u5FB7\u60E0\u5E02",220188:"\u5176\u5B83\u533A",220200:"\u5409\u6797\u5E02",220202:"\u660C\u9091\u533A",220203:"\u9F99\u6F6D\u533A",220204:"\u8239\u8425\u533A",220211:"\u4E30\u6EE1\u533A",220221:"\u6C38\u5409\u53BF",220281:"\u86DF\u6CB3\u5E02",220282:"\u6866\u7538\u5E02",220283:"\u8212\u5170\u5E02",220284:"\u78D0\u77F3\u5E02",220285:"\u5176\u5B83\u533A",220300:"\u56DB\u5E73\u5E02",220302:"\u94C1\u897F\u533A",220303:"\u94C1\u4E1C\u533A",220322:"\u68A8\u6811\u53BF",220323:"\u4F0A\u901A\u6EE1\u65CF\u81EA\u6CBB\u53BF",220381:"\u516C\u4E3B\u5CAD\u5E02",220382:"\u53CC\u8FBD\u5E02",220383:"\u5176\u5B83\u533A",220400:"\u8FBD\u6E90\u5E02",220402:"\u9F99\u5C71\u533A",220403:"\u897F\u5B89\u533A",220421:"\u4E1C\u4E30\u53BF",220422:"\u4E1C\u8FBD\u53BF",220423:"\u5176\u5B83\u533A",220500:"\u901A\u5316\u5E02",220502:"\u4E1C\u660C\u533A",220503:"\u4E8C\u9053\u6C5F\u533A",220521:"\u901A\u5316\u53BF",220523:"\u8F89\u5357\u53BF",220524:"\u67F3\u6CB3\u53BF",220581:"\u6885\u6CB3\u53E3\u5E02",220582:"\u96C6\u5B89\u5E02",220583:"\u5176\u5B83\u533A",220600:"\u767D\u5C71\u5E02",220602:"\u6D51\u6C5F\u533A",220621:"\u629A\u677E\u53BF",220622:"\u9756\u5B87\u53BF",220623:"\u957F\u767D\u671D\u9C9C\u65CF\u81EA\u6CBB\u53BF",220625:"\u6C5F\u6E90\u533A",220681:"\u4E34\u6C5F\u5E02",220682:"\u5176\u5B83\u533A",220700:"\u677E\u539F\u5E02",220702:"\u5B81\u6C5F\u533A",220721:"\u524D\u90ED\u5C14\u7F57\u65AF\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",220722:"\u957F\u5CAD\u53BF",220723:"\u4E7E\u5B89\u53BF",220724:"\u6276\u4F59\u5E02",220725:"\u5176\u5B83\u533A",220800:"\u767D\u57CE\u5E02",220802:"\u6D2E\u5317\u533A",220821:"\u9547\u8D49\u53BF",220822:"\u901A\u6986\u53BF",220881:"\u6D2E\u5357\u5E02",220882:"\u5927\u5B89\u5E02",220883:"\u5176\u5B83\u533A",222400:"\u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE",222401:"\u5EF6\u5409\u5E02",222402:"\u56FE\u4EEC\u5E02",222403:"\u6566\u5316\u5E02",222404:"\u73F2\u6625\u5E02",222405:"\u9F99\u4E95\u5E02",222406:"\u548C\u9F99\u5E02",222424:"\u6C6A\u6E05\u53BF",222426:"\u5B89\u56FE\u53BF",222427:"\u5176\u5B83\u533A",23e4:"\u9ED1\u9F99\u6C5F\u7701",230100:"\u54C8\u5C14\u6EE8\u5E02",230102:"\u9053\u91CC\u533A",230103:"\u5357\u5C97\u533A",230104:"\u9053\u5916\u533A",230106:"\u9999\u574A\u533A",230108:"\u5E73\u623F\u533A",230109:"\u677E\u5317\u533A",230111:"\u547C\u5170\u533A",230123:"\u4F9D\u5170\u53BF",230124:"\u65B9\u6B63\u53BF",230125:"\u5BBE\u53BF",230126:"\u5DF4\u5F66\u53BF",230127:"\u6728\u5170\u53BF",230128:"\u901A\u6CB3\u53BF",230129:"\u5EF6\u5BFF\u53BF",230181:"\u963F\u57CE\u533A",230182:"\u53CC\u57CE\u5E02",230183:"\u5C1A\u5FD7\u5E02",230184:"\u4E94\u5E38\u5E02",230186:"\u5176\u5B83\u533A",230200:"\u9F50\u9F50\u54C8\u5C14\u5E02",230202:"\u9F99\u6C99\u533A",230203:"\u5EFA\u534E\u533A",230204:"\u94C1\u950B\u533A",230205:"\u6602\u6602\u6EAA\u533A",230206:"\u5BCC\u62C9\u5C14\u57FA\u533A",230207:"\u78BE\u5B50\u5C71\u533A",230208:"\u6885\u91CC\u65AF\u8FBE\u65A1\u5C14\u65CF\u533A",230221:"\u9F99\u6C5F\u53BF",230223:"\u4F9D\u5B89\u53BF",230224:"\u6CF0\u6765\u53BF",230225:"\u7518\u5357\u53BF",230227:"\u5BCC\u88D5\u53BF",230229:"\u514B\u5C71\u53BF",230230:"\u514B\u4E1C\u53BF",230231:"\u62DC\u6CC9\u53BF",230281:"\u8BB7\u6CB3\u5E02",230282:"\u5176\u5B83\u533A",230300:"\u9E21\u897F\u5E02",230302:"\u9E21\u51A0\u533A",230303:"\u6052\u5C71\u533A",230304:"\u6EF4\u9053\u533A",230305:"\u68A8\u6811\u533A",230306:"\u57CE\u5B50\u6CB3\u533A",230307:"\u9EBB\u5C71\u533A",230321:"\u9E21\u4E1C\u53BF",230381:"\u864E\u6797\u5E02",230382:"\u5BC6\u5C71\u5E02",230383:"\u5176\u5B83\u533A",230400:"\u9E64\u5C97\u5E02",230402:"\u5411\u9633\u533A",230403:"\u5DE5\u519C\u533A",230404:"\u5357\u5C71\u533A",230405:"\u5174\u5B89\u533A",230406:"\u4E1C\u5C71\u533A",230407:"\u5174\u5C71\u533A",230421:"\u841D\u5317\u53BF",230422:"\u7EE5\u6EE8\u53BF",230423:"\u5176\u5B83\u533A",230500:"\u53CC\u9E2D\u5C71\u5E02",230502:"\u5C16\u5C71\u533A",230503:"\u5CAD\u4E1C\u533A",230505:"\u56DB\u65B9\u53F0\u533A",230506:"\u5B9D\u5C71\u533A",230521:"\u96C6\u8D24\u53BF",230522:"\u53CB\u8C0A\u53BF",230523:"\u5B9D\u6E05\u53BF",230524:"\u9976\u6CB3\u53BF",230525:"\u5176\u5B83\u533A",230600:"\u5927\u5E86\u5E02",230602:"\u8428\u5C14\u56FE\u533A",230603:"\u9F99\u51E4\u533A",230604:"\u8BA9\u80E1\u8DEF\u533A",230605:"\u7EA2\u5C97\u533A",230606:"\u5927\u540C\u533A",230621:"\u8087\u5DDE\u53BF",230622:"\u8087\u6E90\u53BF",230623:"\u6797\u7538\u53BF",230624:"\u675C\u5C14\u4F2F\u7279\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",230625:"\u5176\u5B83\u533A",230700:"\u4F0A\u6625\u5E02",230702:"\u4F0A\u6625\u533A",230703:"\u5357\u5C94\u533A",230704:"\u53CB\u597D\u533A",230705:"\u897F\u6797\u533A",230706:"\u7FE0\u5CE6\u533A",230707:"\u65B0\u9752\u533A",230708:"\u7F8E\u6EAA\u533A",230709:"\u91D1\u5C71\u5C6F\u533A",230710:"\u4E94\u8425\u533A",230711:"\u4E4C\u9A6C\u6CB3\u533A",230712:"\u6C64\u65FA\u6CB3\u533A",230713:"\u5E26\u5CAD\u533A",230714:"\u4E4C\u4F0A\u5CAD\u533A",230715:"\u7EA2\u661F\u533A",230716:"\u4E0A\u7518\u5CAD\u533A",230722:"\u5609\u836B\u53BF",230781:"\u94C1\u529B\u5E02",230782:"\u5176\u5B83\u533A",230800:"\u4F73\u6728\u65AF\u5E02",230803:"\u5411\u9633\u533A",230804:"\u524D\u8FDB\u533A",230805:"\u4E1C\u98CE\u533A",230811:"\u90CA\u533A",230822:"\u6866\u5357\u53BF",230826:"\u6866\u5DDD\u53BF",230828:"\u6C64\u539F\u53BF",230833:"\u629A\u8FDC\u53BF",230881:"\u540C\u6C5F\u5E02",230882:"\u5BCC\u9526\u5E02",230883:"\u5176\u5B83\u533A",230900:"\u4E03\u53F0\u6CB3\u5E02",230902:"\u65B0\u5174\u533A",230903:"\u6843\u5C71\u533A",230904:"\u8304\u5B50\u6CB3\u533A",230921:"\u52C3\u5229\u53BF",230922:"\u5176\u5B83\u533A",231e3:"\u7261\u4E39\u6C5F\u5E02",231002:"\u4E1C\u5B89\u533A",231003:"\u9633\u660E\u533A",231004:"\u7231\u6C11\u533A",231005:"\u897F\u5B89\u533A",231024:"\u4E1C\u5B81\u53BF",231025:"\u6797\u53E3\u53BF",231081:"\u7EE5\u82AC\u6CB3\u5E02",231083:"\u6D77\u6797\u5E02",231084:"\u5B81\u5B89\u5E02",231085:"\u7A46\u68F1\u5E02",231086:"\u5176\u5B83\u533A",231100:"\u9ED1\u6CB3\u5E02",231102:"\u7231\u8F89\u533A",231121:"\u5AE9\u6C5F\u53BF",231123:"\u900A\u514B\u53BF",231124:"\u5B59\u5434\u53BF",231181:"\u5317\u5B89\u5E02",231182:"\u4E94\u5927\u8FDE\u6C60\u5E02",231183:"\u5176\u5B83\u533A",231200:"\u7EE5\u5316\u5E02",231202:"\u5317\u6797\u533A",231221:"\u671B\u594E\u53BF",231222:"\u5170\u897F\u53BF",231223:"\u9752\u5188\u53BF",231224:"\u5E86\u5B89\u53BF",231225:"\u660E\u6C34\u53BF",231226:"\u7EE5\u68F1\u53BF",231281:"\u5B89\u8FBE\u5E02",231282:"\u8087\u4E1C\u5E02",231283:"\u6D77\u4F26\u5E02",231284:"\u5176\u5B83\u533A",232700:"\u5927\u5174\u5B89\u5CAD\u5730\u533A",232702:"\u677E\u5CAD\u533A",232703:"\u65B0\u6797\u533A",232704:"\u547C\u4E2D\u533A",232721:"\u547C\u739B\u53BF",232722:"\u5854\u6CB3\u53BF",232723:"\u6F20\u6CB3\u53BF",232724:"\u52A0\u683C\u8FBE\u5947\u533A",232725:"\u5176\u5B83\u533A",31e4:"\u4E0A\u6D77",310100:"\u4E0A\u6D77\u5E02",310101:"\u9EC4\u6D66\u533A",310104:"\u5F90\u6C47\u533A",310105:"\u957F\u5B81\u533A",310106:"\u9759\u5B89\u533A",310107:"\u666E\u9640\u533A",310108:"\u95F8\u5317\u533A",310109:"\u8679\u53E3\u533A",310110:"\u6768\u6D66\u533A",310112:"\u95F5\u884C\u533A",310113:"\u5B9D\u5C71\u533A",310114:"\u5609\u5B9A\u533A",310115:"\u6D66\u4E1C\u65B0\u533A",310116:"\u91D1\u5C71\u533A",310117:"\u677E\u6C5F\u533A",310118:"\u9752\u6D66\u533A",310120:"\u5949\u8D24\u533A",310230:"\u5D07\u660E\u53BF",310231:"\u5176\u5B83\u533A",32e4:"\u6C5F\u82CF\u7701",320100:"\u5357\u4EAC\u5E02",320102:"\u7384\u6B66\u533A",320104:"\u79E6\u6DEE\u533A",320105:"\u5EFA\u90BA\u533A",320106:"\u9F13\u697C\u533A",320111:"\u6D66\u53E3\u533A",320113:"\u6816\u971E\u533A",320114:"\u96E8\u82B1\u53F0\u533A",320115:"\u6C5F\u5B81\u533A",320116:"\u516D\u5408\u533A",320124:"\u6EA7\u6C34\u533A",320125:"\u9AD8\u6DF3\u533A",320126:"\u5176\u5B83\u533A",320200:"\u65E0\u9521\u5E02",320202:"\u5D07\u5B89\u533A",320203:"\u5357\u957F\u533A",320204:"\u5317\u5858\u533A",320205:"\u9521\u5C71\u533A",320206:"\u60E0\u5C71\u533A",320211:"\u6EE8\u6E56\u533A",320281:"\u6C5F\u9634\u5E02",320282:"\u5B9C\u5174\u5E02",320297:"\u5176\u5B83\u533A",320300:"\u5F90\u5DDE\u5E02",320302:"\u9F13\u697C\u533A",320303:"\u4E91\u9F99\u533A",320305:"\u8D3E\u6C6A\u533A",320311:"\u6CC9\u5C71\u533A",320321:"\u4E30\u53BF",320322:"\u6C9B\u53BF",320323:"\u94DC\u5C71\u533A",320324:"\u7762\u5B81\u53BF",320381:"\u65B0\u6C82\u5E02",320382:"\u90B3\u5DDE\u5E02",320383:"\u5176\u5B83\u533A",320400:"\u5E38\u5DDE\u5E02",320402:"\u5929\u5B81\u533A",320404:"\u949F\u697C\u533A",320405:"\u621A\u5885\u5830\u533A",320411:"\u65B0\u5317\u533A",320412:"\u6B66\u8FDB\u533A",320481:"\u6EA7\u9633\u5E02",320482:"\u91D1\u575B\u5E02",320483:"\u5176\u5B83\u533A",320500:"\u82CF\u5DDE\u5E02",320505:"\u864E\u4E18\u533A",320506:"\u5434\u4E2D\u533A",320507:"\u76F8\u57CE\u533A",320508:"\u59D1\u82CF\u533A",320581:"\u5E38\u719F\u5E02",320582:"\u5F20\u5BB6\u6E2F\u5E02",320583:"\u6606\u5C71\u5E02",320584:"\u5434\u6C5F\u533A",320585:"\u592A\u4ED3\u5E02",320596:"\u5176\u5B83\u533A",320600:"\u5357\u901A\u5E02",320602:"\u5D07\u5DDD\u533A",320611:"\u6E2F\u95F8\u533A",320612:"\u901A\u5DDE\u533A",320621:"\u6D77\u5B89\u53BF",320623:"\u5982\u4E1C\u53BF",320681:"\u542F\u4E1C\u5E02",320682:"\u5982\u768B\u5E02",320684:"\u6D77\u95E8\u5E02",320694:"\u5176\u5B83\u533A",320700:"\u8FDE\u4E91\u6E2F\u5E02",320703:"\u8FDE\u4E91\u533A",320705:"\u65B0\u6D66\u533A",320706:"\u6D77\u5DDE\u533A",320721:"\u8D63\u6986\u53BF",320722:"\u4E1C\u6D77\u53BF",320723:"\u704C\u4E91\u53BF",320724:"\u704C\u5357\u53BF",320725:"\u5176\u5B83\u533A",320800:"\u6DEE\u5B89\u5E02",320802:"\u6E05\u6CB3\u533A",320803:"\u6DEE\u5B89\u533A",320804:"\u6DEE\u9634\u533A",320811:"\u6E05\u6D66\u533A",320826:"\u6D9F\u6C34\u53BF",320829:"\u6D2A\u6CFD\u53BF",320830:"\u76F1\u7719\u53BF",320831:"\u91D1\u6E56\u53BF",320832:"\u5176\u5B83\u533A",320900:"\u76D0\u57CE\u5E02",320902:"\u4EAD\u6E56\u533A",320903:"\u76D0\u90FD\u533A",320921:"\u54CD\u6C34\u53BF",320922:"\u6EE8\u6D77\u53BF",320923:"\u961C\u5B81\u53BF",320924:"\u5C04\u9633\u53BF",320925:"\u5EFA\u6E56\u53BF",320981:"\u4E1C\u53F0\u5E02",320982:"\u5927\u4E30\u5E02",320983:"\u5176\u5B83\u533A",321e3:"\u626C\u5DDE\u5E02",321002:"\u5E7F\u9675\u533A",321003:"\u9097\u6C5F\u533A",321023:"\u5B9D\u5E94\u53BF",321081:"\u4EEA\u5F81\u5E02",321084:"\u9AD8\u90AE\u5E02",321088:"\u6C5F\u90FD\u533A",321093:"\u5176\u5B83\u533A",321100:"\u9547\u6C5F\u5E02",321102:"\u4EAC\u53E3\u533A",321111:"\u6DA6\u5DDE\u533A",321112:"\u4E39\u5F92\u533A",321181:"\u4E39\u9633\u5E02",321182:"\u626C\u4E2D\u5E02",321183:"\u53E5\u5BB9\u5E02",321184:"\u5176\u5B83\u533A",321200:"\u6CF0\u5DDE\u5E02",321202:"\u6D77\u9675\u533A",321203:"\u9AD8\u6E2F\u533A",321281:"\u5174\u5316\u5E02",321282:"\u9756\u6C5F\u5E02",321283:"\u6CF0\u5174\u5E02",321284:"\u59DC\u5830\u533A",321285:"\u5176\u5B83\u533A",321300:"\u5BBF\u8FC1\u5E02",321302:"\u5BBF\u57CE\u533A",321311:"\u5BBF\u8C6B\u533A",321322:"\u6CAD\u9633\u53BF",321323:"\u6CD7\u9633\u53BF",321324:"\u6CD7\u6D2A\u53BF",321325:"\u5176\u5B83\u533A",33e4:"\u6D59\u6C5F\u7701",330100:"\u676D\u5DDE\u5E02",330102:"\u4E0A\u57CE\u533A",330103:"\u4E0B\u57CE\u533A",330104:"\u6C5F\u5E72\u533A",330105:"\u62F1\u5885\u533A",330106:"\u897F\u6E56\u533A",330108:"\u6EE8\u6C5F\u533A",330109:"\u8427\u5C71\u533A",330110:"\u4F59\u676D\u533A",330122:"\u6850\u5E90\u53BF",330127:"\u6DF3\u5B89\u53BF",330182:"\u5EFA\u5FB7\u5E02",330183:"\u5BCC\u9633\u5E02",330185:"\u4E34\u5B89\u5E02",330186:"\u5176\u5B83\u533A",330200:"\u5B81\u6CE2\u5E02",330203:"\u6D77\u66D9\u533A",330204:"\u6C5F\u4E1C\u533A",330205:"\u6C5F\u5317\u533A",330206:"\u5317\u4ED1\u533A",330211:"\u9547\u6D77\u533A",330212:"\u911E\u5DDE\u533A",330225:"\u8C61\u5C71\u53BF",330226:"\u5B81\u6D77\u53BF",330281:"\u4F59\u59DA\u5E02",330282:"\u6148\u6EAA\u5E02",330283:"\u5949\u5316\u5E02",330284:"\u5176\u5B83\u533A",330300:"\u6E29\u5DDE\u5E02",330302:"\u9E7F\u57CE\u533A",330303:"\u9F99\u6E7E\u533A",330304:"\u74EF\u6D77\u533A",330322:"\u6D1E\u5934\u53BF",330324:"\u6C38\u5609\u53BF",330326:"\u5E73\u9633\u53BF",330327:"\u82CD\u5357\u53BF",330328:"\u6587\u6210\u53BF",330329:"\u6CF0\u987A\u53BF",330381:"\u745E\u5B89\u5E02",330382:"\u4E50\u6E05\u5E02",330383:"\u5176\u5B83\u533A",330400:"\u5609\u5174\u5E02",330402:"\u5357\u6E56\u533A",330411:"\u79C0\u6D32\u533A",330421:"\u5609\u5584\u53BF",330424:"\u6D77\u76D0\u53BF",330481:"\u6D77\u5B81\u5E02",330482:"\u5E73\u6E56\u5E02",330483:"\u6850\u4E61\u5E02",330484:"\u5176\u5B83\u533A",330500:"\u6E56\u5DDE\u5E02",330502:"\u5434\u5174\u533A",330503:"\u5357\u6D54\u533A",330521:"\u5FB7\u6E05\u53BF",330522:"\u957F\u5174\u53BF",330523:"\u5B89\u5409\u53BF",330524:"\u5176\u5B83\u533A",330600:"\u7ECD\u5174\u5E02",330602:"\u8D8A\u57CE\u533A",330621:"\u7ECD\u5174\u53BF",330624:"\u65B0\u660C\u53BF",330681:"\u8BF8\u66A8\u5E02",330682:"\u4E0A\u865E\u5E02",330683:"\u5D4A\u5DDE\u5E02",330684:"\u5176\u5B83\u533A",330700:"\u91D1\u534E\u5E02",330702:"\u5A7A\u57CE\u533A",330703:"\u91D1\u4E1C\u533A",330723:"\u6B66\u4E49\u53BF",330726:"\u6D66\u6C5F\u53BF",330727:"\u78D0\u5B89\u53BF",330781:"\u5170\u6EAA\u5E02",330782:"\u4E49\u4E4C\u5E02",330783:"\u4E1C\u9633\u5E02",330784:"\u6C38\u5EB7\u5E02",330785:"\u5176\u5B83\u533A",330800:"\u8862\u5DDE\u5E02",330802:"\u67EF\u57CE\u533A",330803:"\u8862\u6C5F\u533A",330822:"\u5E38\u5C71\u53BF",330824:"\u5F00\u5316\u53BF",330825:"\u9F99\u6E38\u53BF",330881:"\u6C5F\u5C71\u5E02",330882:"\u5176\u5B83\u533A",330900:"\u821F\u5C71\u5E02",330902:"\u5B9A\u6D77\u533A",330903:"\u666E\u9640\u533A",330921:"\u5CB1\u5C71\u53BF",330922:"\u5D4A\u6CD7\u53BF",330923:"\u5176\u5B83\u533A",331e3:"\u53F0\u5DDE\u5E02",331002:"\u6912\u6C5F\u533A",331003:"\u9EC4\u5CA9\u533A",331004:"\u8DEF\u6865\u533A",331021:"\u7389\u73AF\u53BF",331022:"\u4E09\u95E8\u53BF",331023:"\u5929\u53F0\u53BF",331024:"\u4ED9\u5C45\u53BF",331081:"\u6E29\u5CAD\u5E02",331082:"\u4E34\u6D77\u5E02",331083:"\u5176\u5B83\u533A",331100:"\u4E3D\u6C34\u5E02",331102:"\u83B2\u90FD\u533A",331121:"\u9752\u7530\u53BF",331122:"\u7F19\u4E91\u53BF",331123:"\u9042\u660C\u53BF",331124:"\u677E\u9633\u53BF",331125:"\u4E91\u548C\u53BF",331126:"\u5E86\u5143\u53BF",331127:"\u666F\u5B81\u7572\u65CF\u81EA\u6CBB\u53BF",331181:"\u9F99\u6CC9\u5E02",331182:"\u5176\u5B83\u533A",34e4:"\u5B89\u5FBD\u7701",340100:"\u5408\u80A5\u5E02",340102:"\u7476\u6D77\u533A",340103:"\u5E90\u9633\u533A",340104:"\u8700\u5C71\u533A",340111:"\u5305\u6CB3\u533A",340121:"\u957F\u4E30\u53BF",340122:"\u80A5\u4E1C\u53BF",340123:"\u80A5\u897F\u53BF",340192:"\u5176\u5B83\u533A",340200:"\u829C\u6E56\u5E02",340202:"\u955C\u6E56\u533A",340203:"\u5F0B\u6C5F\u533A",340207:"\u9E20\u6C5F\u533A",340208:"\u4E09\u5C71\u533A",340221:"\u829C\u6E56\u53BF",340222:"\u7E41\u660C\u53BF",340223:"\u5357\u9675\u53BF",340224:"\u5176\u5B83\u533A",340300:"\u868C\u57E0\u5E02",340302:"\u9F99\u5B50\u6E56\u533A",340303:"\u868C\u5C71\u533A",340304:"\u79B9\u4F1A\u533A",340311:"\u6DEE\u4E0A\u533A",340321:"\u6000\u8FDC\u53BF",340322:"\u4E94\u6CB3\u53BF",340323:"\u56FA\u9547\u53BF",340324:"\u5176\u5B83\u533A",340400:"\u6DEE\u5357\u5E02",340402:"\u5927\u901A\u533A",340403:"\u7530\u5BB6\u5EB5\u533A",340404:"\u8C22\u5BB6\u96C6\u533A",340405:"\u516B\u516C\u5C71\u533A",340406:"\u6F58\u96C6\u533A",340421:"\u51E4\u53F0\u53BF",340422:"\u5176\u5B83\u533A",340500:"\u9A6C\u978D\u5C71\u5E02",340503:"\u82B1\u5C71\u533A",340504:"\u96E8\u5C71\u533A",340506:"\u535A\u671B\u533A",340521:"\u5F53\u6D82\u53BF",340522:"\u5176\u5B83\u533A",340600:"\u6DEE\u5317\u5E02",340602:"\u675C\u96C6\u533A",340603:"\u76F8\u5C71\u533A",340604:"\u70C8\u5C71\u533A",340621:"\u6FC9\u6EAA\u53BF",340622:"\u5176\u5B83\u533A",340700:"\u94DC\u9675\u5E02",340702:"\u94DC\u5B98\u5C71\u533A",340703:"\u72EE\u5B50\u5C71\u533A",340711:"\u90CA\u533A",340721:"\u94DC\u9675\u53BF",340722:"\u5176\u5B83\u533A",340800:"\u5B89\u5E86\u5E02",340802:"\u8FCE\u6C5F\u533A",340803:"\u5927\u89C2\u533A",340811:"\u5B9C\u79C0\u533A",340822:"\u6000\u5B81\u53BF",340823:"\u679E\u9633\u53BF",340824:"\u6F5C\u5C71\u53BF",340825:"\u592A\u6E56\u53BF",340826:"\u5BBF\u677E\u53BF",340827:"\u671B\u6C5F\u53BF",340828:"\u5CB3\u897F\u53BF",340881:"\u6850\u57CE\u5E02",340882:"\u5176\u5B83\u533A",341e3:"\u9EC4\u5C71\u5E02",341002:"\u5C6F\u6EAA\u533A",341003:"\u9EC4\u5C71\u533A",341004:"\u5FBD\u5DDE\u533A",341021:"\u6B59\u53BF",341022:"\u4F11\u5B81\u53BF",341023:"\u9EDF\u53BF",341024:"\u7941\u95E8\u53BF",341025:"\u5176\u5B83\u533A",341100:"\u6EC1\u5DDE\u5E02",341102:"\u7405\u740A\u533A",341103:"\u5357\u8C2F\u533A",341122:"\u6765\u5B89\u53BF",341124:"\u5168\u6912\u53BF",341125:"\u5B9A\u8FDC\u53BF",341126:"\u51E4\u9633\u53BF",341181:"\u5929\u957F\u5E02",341182:"\u660E\u5149\u5E02",341183:"\u5176\u5B83\u533A",341200:"\u961C\u9633\u5E02",341202:"\u988D\u5DDE\u533A",341203:"\u988D\u4E1C\u533A",341204:"\u988D\u6CC9\u533A",341221:"\u4E34\u6CC9\u53BF",341222:"\u592A\u548C\u53BF",341225:"\u961C\u5357\u53BF",341226:"\u988D\u4E0A\u53BF",341282:"\u754C\u9996\u5E02",341283:"\u5176\u5B83\u533A",341300:"\u5BBF\u5DDE\u5E02",341302:"\u57C7\u6865\u533A",341321:"\u7800\u5C71\u53BF",341322:"\u8427\u53BF",341323:"\u7075\u74A7\u53BF",341324:"\u6CD7\u53BF",341325:"\u5176\u5B83\u533A",341400:"\u5DE2\u6E56\u5E02",341421:"\u5E90\u6C5F\u53BF",341422:"\u65E0\u4E3A\u53BF",341423:"\u542B\u5C71\u53BF",341424:"\u548C\u53BF",341500:"\u516D\u5B89\u5E02",341502:"\u91D1\u5B89\u533A",341503:"\u88D5\u5B89\u533A",341521:"\u5BFF\u53BF",341522:"\u970D\u90B1\u53BF",341523:"\u8212\u57CE\u53BF",341524:"\u91D1\u5BE8\u53BF",341525:"\u970D\u5C71\u53BF",341526:"\u5176\u5B83\u533A",341600:"\u4EB3\u5DDE\u5E02",341602:"\u8C2F\u57CE\u533A",341621:"\u6DA1\u9633\u53BF",341622:"\u8499\u57CE\u53BF",341623:"\u5229\u8F9B\u53BF",341624:"\u5176\u5B83\u533A",341700:"\u6C60\u5DDE\u5E02",341702:"\u8D35\u6C60\u533A",341721:"\u4E1C\u81F3\u53BF",341722:"\u77F3\u53F0\u53BF",341723:"\u9752\u9633\u53BF",341724:"\u5176\u5B83\u533A",341800:"\u5BA3\u57CE\u5E02",341802:"\u5BA3\u5DDE\u533A",341821:"\u90CE\u6EAA\u53BF",341822:"\u5E7F\u5FB7\u53BF",341823:"\u6CFE\u53BF",341824:"\u7EE9\u6EAA\u53BF",341825:"\u65CC\u5FB7\u53BF",341881:"\u5B81\u56FD\u5E02",341882:"\u5176\u5B83\u533A",35e4:"\u798F\u5EFA\u7701",350100:"\u798F\u5DDE\u5E02",350102:"\u9F13\u697C\u533A",350103:"\u53F0\u6C5F\u533A",350104:"\u4ED3\u5C71\u533A",350105:"\u9A6C\u5C3E\u533A",350111:"\u664B\u5B89\u533A",350121:"\u95FD\u4FAF\u53BF",350122:"\u8FDE\u6C5F\u53BF",350123:"\u7F57\u6E90\u53BF",350124:"\u95FD\u6E05\u53BF",350125:"\u6C38\u6CF0\u53BF",350128:"\u5E73\u6F6D\u53BF",350181:"\u798F\u6E05\u5E02",350182:"\u957F\u4E50\u5E02",350183:"\u5176\u5B83\u533A",350200:"\u53A6\u95E8\u5E02",350203:"\u601D\u660E\u533A",350205:"\u6D77\u6CA7\u533A",350206:"\u6E56\u91CC\u533A",350211:"\u96C6\u7F8E\u533A",350212:"\u540C\u5B89\u533A",350213:"\u7FD4\u5B89\u533A",350214:"\u5176\u5B83\u533A",350300:"\u8386\u7530\u5E02",350302:"\u57CE\u53A2\u533A",350303:"\u6DB5\u6C5F\u533A",350304:"\u8354\u57CE\u533A",350305:"\u79C0\u5C7F\u533A",350322:"\u4ED9\u6E38\u53BF",350323:"\u5176\u5B83\u533A",350400:"\u4E09\u660E\u5E02",350402:"\u6885\u5217\u533A",350403:"\u4E09\u5143\u533A",350421:"\u660E\u6EAA\u53BF",350423:"\u6E05\u6D41\u53BF",350424:"\u5B81\u5316\u53BF",350425:"\u5927\u7530\u53BF",350426:"\u5C24\u6EAA\u53BF",350427:"\u6C99\u53BF",350428:"\u5C06\u4E50\u53BF",350429:"\u6CF0\u5B81\u53BF",350430:"\u5EFA\u5B81\u53BF",350481:"\u6C38\u5B89\u5E02",350482:"\u5176\u5B83\u533A",350500:"\u6CC9\u5DDE\u5E02",350502:"\u9CA4\u57CE\u533A",350503:"\u4E30\u6CFD\u533A",350504:"\u6D1B\u6C5F\u533A",350505:"\u6CC9\u6E2F\u533A",350521:"\u60E0\u5B89\u53BF",350524:"\u5B89\u6EAA\u53BF",350525:"\u6C38\u6625\u53BF",350526:"\u5FB7\u5316\u53BF",350527:"\u91D1\u95E8\u53BF",350581:"\u77F3\u72EE\u5E02",350582:"\u664B\u6C5F\u5E02",350583:"\u5357\u5B89\u5E02",350584:"\u5176\u5B83\u533A",350600:"\u6F33\u5DDE\u5E02",350602:"\u8297\u57CE\u533A",350603:"\u9F99\u6587\u533A",350622:"\u4E91\u9704\u53BF",350623:"\u6F33\u6D66\u53BF",350624:"\u8BCF\u5B89\u53BF",350625:"\u957F\u6CF0\u53BF",350626:"\u4E1C\u5C71\u53BF",350627:"\u5357\u9756\u53BF",350628:"\u5E73\u548C\u53BF",350629:"\u534E\u5B89\u53BF",350681:"\u9F99\u6D77\u5E02",350682:"\u5176\u5B83\u533A",350700:"\u5357\u5E73\u5E02",350702:"\u5EF6\u5E73\u533A",350721:"\u987A\u660C\u53BF",350722:"\u6D66\u57CE\u53BF",350723:"\u5149\u6CFD\u53BF",350724:"\u677E\u6EAA\u53BF",350725:"\u653F\u548C\u53BF",350781:"\u90B5\u6B66\u5E02",350782:"\u6B66\u5937\u5C71\u5E02",350783:"\u5EFA\u74EF\u5E02",350784:"\u5EFA\u9633\u5E02",350785:"\u5176\u5B83\u533A",350800:"\u9F99\u5CA9\u5E02",350802:"\u65B0\u7F57\u533A",350821:"\u957F\u6C40\u53BF",350822:"\u6C38\u5B9A\u53BF",350823:"\u4E0A\u676D\u53BF",350824:"\u6B66\u5E73\u53BF",350825:"\u8FDE\u57CE\u53BF",350881:"\u6F33\u5E73\u5E02",350882:"\u5176\u5B83\u533A",350900:"\u5B81\u5FB7\u5E02",350902:"\u8549\u57CE\u533A",350921:"\u971E\u6D66\u53BF",350922:"\u53E4\u7530\u53BF",350923:"\u5C4F\u5357\u53BF",350924:"\u5BFF\u5B81\u53BF",350925:"\u5468\u5B81\u53BF",350926:"\u67D8\u8363\u53BF",350981:"\u798F\u5B89\u5E02",350982:"\u798F\u9F0E\u5E02",350983:"\u5176\u5B83\u533A",36e4:"\u6C5F\u897F\u7701",360100:"\u5357\u660C\u5E02",360102:"\u4E1C\u6E56\u533A",360103:"\u897F\u6E56\u533A",360104:"\u9752\u4E91\u8C31\u533A",360105:"\u6E7E\u91CC\u533A",360111:"\u9752\u5C71\u6E56\u533A",360121:"\u5357\u660C\u53BF",360122:"\u65B0\u5EFA\u53BF",360123:"\u5B89\u4E49\u53BF",360124:"\u8FDB\u8D24\u53BF",360128:"\u5176\u5B83\u533A",360200:"\u666F\u5FB7\u9547\u5E02",360202:"\u660C\u6C5F\u533A",360203:"\u73E0\u5C71\u533A",360222:"\u6D6E\u6881\u53BF",360281:"\u4E50\u5E73\u5E02",360282:"\u5176\u5B83\u533A",360300:"\u840D\u4E61\u5E02",360302:"\u5B89\u6E90\u533A",360313:"\u6E58\u4E1C\u533A",360321:"\u83B2\u82B1\u53BF",360322:"\u4E0A\u6817\u53BF",360323:"\u82A6\u6EAA\u53BF",360324:"\u5176\u5B83\u533A",360400:"\u4E5D\u6C5F\u5E02",360402:"\u5E90\u5C71\u533A",360403:"\u6D54\u9633\u533A",360421:"\u4E5D\u6C5F\u53BF",360423:"\u6B66\u5B81\u53BF",360424:"\u4FEE\u6C34\u53BF",360425:"\u6C38\u4FEE\u53BF",360426:"\u5FB7\u5B89\u53BF",360427:"\u661F\u5B50\u53BF",360428:"\u90FD\u660C\u53BF",360429:"\u6E56\u53E3\u53BF",360430:"\u5F6D\u6CFD\u53BF",360481:"\u745E\u660C\u5E02",360482:"\u5176\u5B83\u533A",360483:"\u5171\u9752\u57CE\u5E02",360500:"\u65B0\u4F59\u5E02",360502:"\u6E1D\u6C34\u533A",360521:"\u5206\u5B9C\u53BF",360522:"\u5176\u5B83\u533A",360600:"\u9E70\u6F6D\u5E02",360602:"\u6708\u6E56\u533A",360622:"\u4F59\u6C5F\u53BF",360681:"\u8D35\u6EAA\u5E02",360682:"\u5176\u5B83\u533A",360700:"\u8D63\u5DDE\u5E02",360702:"\u7AE0\u8D21\u533A",360721:"\u8D63\u53BF",360722:"\u4FE1\u4E30\u53BF",360723:"\u5927\u4F59\u53BF",360724:"\u4E0A\u72B9\u53BF",360725:"\u5D07\u4E49\u53BF",360726:"\u5B89\u8FDC\u53BF",360727:"\u9F99\u5357\u53BF",360728:"\u5B9A\u5357\u53BF",360729:"\u5168\u5357\u53BF",360730:"\u5B81\u90FD\u53BF",360731:"\u4E8E\u90FD\u53BF",360732:"\u5174\u56FD\u53BF",360733:"\u4F1A\u660C\u53BF",360734:"\u5BFB\u4E4C\u53BF",360735:"\u77F3\u57CE\u53BF",360781:"\u745E\u91D1\u5E02",360782:"\u5357\u5EB7\u5E02",360783:"\u5176\u5B83\u533A",360800:"\u5409\u5B89\u5E02",360802:"\u5409\u5DDE\u533A",360803:"\u9752\u539F\u533A",360821:"\u5409\u5B89\u53BF",360822:"\u5409\u6C34\u53BF",360823:"\u5CE1\u6C5F\u53BF",360824:"\u65B0\u5E72\u53BF",360825:"\u6C38\u4E30\u53BF",360826:"\u6CF0\u548C\u53BF",360827:"\u9042\u5DDD\u53BF",360828:"\u4E07\u5B89\u53BF",360829:"\u5B89\u798F\u53BF",360830:"\u6C38\u65B0\u53BF",360881:"\u4E95\u5188\u5C71\u5E02",360882:"\u5176\u5B83\u533A",360900:"\u5B9C\u6625\u5E02",360902:"\u8881\u5DDE\u533A",360921:"\u5949\u65B0\u53BF",360922:"\u4E07\u8F7D\u53BF",360923:"\u4E0A\u9AD8\u53BF",360924:"\u5B9C\u4E30\u53BF",360925:"\u9756\u5B89\u53BF",360926:"\u94DC\u9F13\u53BF",360981:"\u4E30\u57CE\u5E02",360982:"\u6A1F\u6811\u5E02",360983:"\u9AD8\u5B89\u5E02",360984:"\u5176\u5B83\u533A",361e3:"\u629A\u5DDE\u5E02",361002:"\u4E34\u5DDD\u533A",361021:"\u5357\u57CE\u53BF",361022:"\u9ECE\u5DDD\u53BF",361023:"\u5357\u4E30\u53BF",361024:"\u5D07\u4EC1\u53BF",361025:"\u4E50\u5B89\u53BF",361026:"\u5B9C\u9EC4\u53BF",361027:"\u91D1\u6EAA\u53BF",361028:"\u8D44\u6EAA\u53BF",361029:"\u4E1C\u4E61\u53BF",361030:"\u5E7F\u660C\u53BF",361031:"\u5176\u5B83\u533A",361100:"\u4E0A\u9976\u5E02",361102:"\u4FE1\u5DDE\u533A",361121:"\u4E0A\u9976\u53BF",361122:"\u5E7F\u4E30\u53BF",361123:"\u7389\u5C71\u53BF",361124:"\u94C5\u5C71\u53BF",361125:"\u6A2A\u5CF0\u53BF",361126:"\u5F0B\u9633\u53BF",361127:"\u4F59\u5E72\u53BF",361128:"\u9131\u9633\u53BF",361129:"\u4E07\u5E74\u53BF",361130:"\u5A7A\u6E90\u53BF",361181:"\u5FB7\u5174\u5E02",361182:"\u5176\u5B83\u533A",37e4:"\u5C71\u4E1C\u7701",370100:"\u6D4E\u5357\u5E02",370102:"\u5386\u4E0B\u533A",370103:"\u5E02\u4E2D\u533A",370104:"\u69D0\u836B\u533A",370105:"\u5929\u6865\u533A",370112:"\u5386\u57CE\u533A",370113:"\u957F\u6E05\u533A",370124:"\u5E73\u9634\u53BF",370125:"\u6D4E\u9633\u53BF",370126:"\u5546\u6CB3\u53BF",370181:"\u7AE0\u4E18\u5E02",370182:"\u5176\u5B83\u533A",370200:"\u9752\u5C9B\u5E02",370202:"\u5E02\u5357\u533A",370203:"\u5E02\u5317\u533A",370211:"\u9EC4\u5C9B\u533A",370212:"\u5D02\u5C71\u533A",370213:"\u674E\u6CA7\u533A",370214:"\u57CE\u9633\u533A",370281:"\u80F6\u5DDE\u5E02",370282:"\u5373\u58A8\u5E02",370283:"\u5E73\u5EA6\u5E02",370285:"\u83B1\u897F\u5E02",370286:"\u5176\u5B83\u533A",370300:"\u6DC4\u535A\u5E02",370302:"\u6DC4\u5DDD\u533A",370303:"\u5F20\u5E97\u533A",370304:"\u535A\u5C71\u533A",370305:"\u4E34\u6DC4\u533A",370306:"\u5468\u6751\u533A",370321:"\u6853\u53F0\u53BF",370322:"\u9AD8\u9752\u53BF",370323:"\u6C82\u6E90\u53BF",370324:"\u5176\u5B83\u533A",370400:"\u67A3\u5E84\u5E02",370402:"\u5E02\u4E2D\u533A",370403:"\u859B\u57CE\u533A",370404:"\u5CC4\u57CE\u533A",370405:"\u53F0\u513F\u5E84\u533A",370406:"\u5C71\u4EAD\u533A",370481:"\u6ED5\u5DDE\u5E02",370482:"\u5176\u5B83\u533A",370500:"\u4E1C\u8425\u5E02",370502:"\u4E1C\u8425\u533A",370503:"\u6CB3\u53E3\u533A",370521:"\u57A6\u5229\u53BF",370522:"\u5229\u6D25\u53BF",370523:"\u5E7F\u9976\u53BF",370591:"\u5176\u5B83\u533A",370600:"\u70DF\u53F0\u5E02",370602:"\u829D\u7F58\u533A",370611:"\u798F\u5C71\u533A",370612:"\u725F\u5E73\u533A",370613:"\u83B1\u5C71\u533A",370634:"\u957F\u5C9B\u53BF",370681:"\u9F99\u53E3\u5E02",370682:"\u83B1\u9633\u5E02",370683:"\u83B1\u5DDE\u5E02",370684:"\u84EC\u83B1\u5E02",370685:"\u62DB\u8FDC\u5E02",370686:"\u6816\u971E\u5E02",370687:"\u6D77\u9633\u5E02",370688:"\u5176\u5B83\u533A",370700:"\u6F4D\u574A\u5E02",370702:"\u6F4D\u57CE\u533A",370703:"\u5BD2\u4EAD\u533A",370704:"\u574A\u5B50\u533A",370705:"\u594E\u6587\u533A",370724:"\u4E34\u6710\u53BF",370725:"\u660C\u4E50\u53BF",370781:"\u9752\u5DDE\u5E02",370782:"\u8BF8\u57CE\u5E02",370783:"\u5BFF\u5149\u5E02",370784:"\u5B89\u4E18\u5E02",370785:"\u9AD8\u5BC6\u5E02",370786:"\u660C\u9091\u5E02",370787:"\u5176\u5B83\u533A",370800:"\u6D4E\u5B81\u5E02",370802:"\u5E02\u4E2D\u533A",370811:"\u4EFB\u57CE\u533A",370826:"\u5FAE\u5C71\u53BF",370827:"\u9C7C\u53F0\u53BF",370828:"\u91D1\u4E61\u53BF",370829:"\u5609\u7965\u53BF",370830:"\u6C76\u4E0A\u53BF",370831:"\u6CD7\u6C34\u53BF",370832:"\u6881\u5C71\u53BF",370881:"\u66F2\u961C\u5E02",370882:"\u5156\u5DDE\u5E02",370883:"\u90B9\u57CE\u5E02",370884:"\u5176\u5B83\u533A",370900:"\u6CF0\u5B89\u5E02",370902:"\u6CF0\u5C71\u533A",370903:"\u5CB1\u5CB3\u533A",370921:"\u5B81\u9633\u53BF",370923:"\u4E1C\u5E73\u53BF",370982:"\u65B0\u6CF0\u5E02",370983:"\u80A5\u57CE\u5E02",370984:"\u5176\u5B83\u533A",371e3:"\u5A01\u6D77\u5E02",371002:"\u73AF\u7FE0\u533A",371081:"\u6587\u767B\u5E02",371082:"\u8363\u6210\u5E02",371083:"\u4E73\u5C71\u5E02",371084:"\u5176\u5B83\u533A",371100:"\u65E5\u7167\u5E02",371102:"\u4E1C\u6E2F\u533A",371103:"\u5C9A\u5C71\u533A",371121:"\u4E94\u83B2\u53BF",371122:"\u8392\u53BF",371123:"\u5176\u5B83\u533A",371200:"\u83B1\u829C\u5E02",371202:"\u83B1\u57CE\u533A",371203:"\u94A2\u57CE\u533A",371204:"\u5176\u5B83\u533A",371300:"\u4E34\u6C82\u5E02",371302:"\u5170\u5C71\u533A",371311:"\u7F57\u5E84\u533A",371312:"\u6CB3\u4E1C\u533A",371321:"\u6C82\u5357\u53BF",371322:"\u90EF\u57CE\u53BF",371323:"\u6C82\u6C34\u53BF",371324:"\u82CD\u5C71\u53BF",371325:"\u8D39\u53BF",371326:"\u5E73\u9091\u53BF",371327:"\u8392\u5357\u53BF",371328:"\u8499\u9634\u53BF",371329:"\u4E34\u6CAD\u53BF",371330:"\u5176\u5B83\u533A",371400:"\u5FB7\u5DDE\u5E02",371402:"\u5FB7\u57CE\u533A",371421:"\u9675\u53BF",371422:"\u5B81\u6D25\u53BF",371423:"\u5E86\u4E91\u53BF",371424:"\u4E34\u9091\u53BF",371425:"\u9F50\u6CB3\u53BF",371426:"\u5E73\u539F\u53BF",371427:"\u590F\u6D25\u53BF",371428:"\u6B66\u57CE\u53BF",371481:"\u4E50\u9675\u5E02",371482:"\u79B9\u57CE\u5E02",371483:"\u5176\u5B83\u533A",371500:"\u804A\u57CE\u5E02",371502:"\u4E1C\u660C\u5E9C\u533A",371521:"\u9633\u8C37\u53BF",371522:"\u8398\u53BF",371523:"\u830C\u5E73\u53BF",371524:"\u4E1C\u963F\u53BF",371525:"\u51A0\u53BF",371526:"\u9AD8\u5510\u53BF",371581:"\u4E34\u6E05\u5E02",371582:"\u5176\u5B83\u533A",371600:"\u6EE8\u5DDE\u5E02",371602:"\u6EE8\u57CE\u533A",371621:"\u60E0\u6C11\u53BF",371622:"\u9633\u4FE1\u53BF",371623:"\u65E0\u68E3\u53BF",371624:"\u6CBE\u5316\u53BF",371625:"\u535A\u5174\u53BF",371626:"\u90B9\u5E73\u53BF",371627:"\u5176\u5B83\u533A",371700:"\u83CF\u6CFD\u5E02",371702:"\u7261\u4E39\u533A",371721:"\u66F9\u53BF",371722:"\u5355\u53BF",371723:"\u6210\u6B66\u53BF",371724:"\u5DE8\u91CE\u53BF",371725:"\u90D3\u57CE\u53BF",371726:"\u9104\u57CE\u53BF",371727:"\u5B9A\u9676\u53BF",371728:"\u4E1C\u660E\u53BF",371729:"\u5176\u5B83\u533A",41e4:"\u6CB3\u5357\u7701",410100:"\u90D1\u5DDE\u5E02",410102:"\u4E2D\u539F\u533A",410103:"\u4E8C\u4E03\u533A",410104:"\u7BA1\u57CE\u56DE\u65CF\u533A",410105:"\u91D1\u6C34\u533A",410106:"\u4E0A\u8857\u533A",410108:"\u60E0\u6D4E\u533A",410122:"\u4E2D\u725F\u53BF",410181:"\u5DE9\u4E49\u5E02",410182:"\u8365\u9633\u5E02",410183:"\u65B0\u5BC6\u5E02",410184:"\u65B0\u90D1\u5E02",410185:"\u767B\u5C01\u5E02",410188:"\u5176\u5B83\u533A",410200:"\u5F00\u5C01\u5E02",410202:"\u9F99\u4EAD\u533A",410203:"\u987A\u6CB3\u56DE\u65CF\u533A",410204:"\u9F13\u697C\u533A",410205:"\u79B9\u738B\u53F0\u533A",410211:"\u91D1\u660E\u533A",410221:"\u675E\u53BF",410222:"\u901A\u8BB8\u53BF",410223:"\u5C09\u6C0F\u53BF",410224:"\u5F00\u5C01\u53BF",410225:"\u5170\u8003\u53BF",410226:"\u5176\u5B83\u533A",410300:"\u6D1B\u9633\u5E02",410302:"\u8001\u57CE\u533A",410303:"\u897F\u5DE5\u533A",410304:"\u700D\u6CB3\u56DE\u65CF\u533A",410305:"\u6DA7\u897F\u533A",410306:"\u5409\u5229\u533A",410307:"\u6D1B\u9F99\u533A",410322:"\u5B5F\u6D25\u53BF",410323:"\u65B0\u5B89\u53BF",410324:"\u683E\u5DDD\u53BF",410325:"\u5D69\u53BF",410326:"\u6C5D\u9633\u53BF",410327:"\u5B9C\u9633\u53BF",410328:"\u6D1B\u5B81\u53BF",410329:"\u4F0A\u5DDD\u53BF",410381:"\u5043\u5E08\u5E02",410400:"\u5E73\u9876\u5C71\u5E02",410402:"\u65B0\u534E\u533A",410403:"\u536B\u4E1C\u533A",410404:"\u77F3\u9F99\u533A",410411:"\u6E5B\u6CB3\u533A",410421:"\u5B9D\u4E30\u53BF",410422:"\u53F6\u53BF",410423:"\u9C81\u5C71\u53BF",410425:"\u90CF\u53BF",410481:"\u821E\u94A2\u5E02",410482:"\u6C5D\u5DDE\u5E02",410483:"\u5176\u5B83\u533A",410500:"\u5B89\u9633\u5E02",410502:"\u6587\u5CF0\u533A",410503:"\u5317\u5173\u533A",410505:"\u6BB7\u90FD\u533A",410506:"\u9F99\u5B89\u533A",410522:"\u5B89\u9633\u53BF",410523:"\u6C64\u9634\u53BF",410526:"\u6ED1\u53BF",410527:"\u5185\u9EC4\u53BF",410581:"\u6797\u5DDE\u5E02",410582:"\u5176\u5B83\u533A",410600:"\u9E64\u58C1\u5E02",410602:"\u9E64\u5C71\u533A",410603:"\u5C71\u57CE\u533A",410611:"\u6DC7\u6EE8\u533A",410621:"\u6D5A\u53BF",410622:"\u6DC7\u53BF",410623:"\u5176\u5B83\u533A",410700:"\u65B0\u4E61\u5E02",410702:"\u7EA2\u65D7\u533A",410703:"\u536B\u6EE8\u533A",410704:"\u51E4\u6CC9\u533A",410711:"\u7267\u91CE\u533A",410721:"\u65B0\u4E61\u53BF",410724:"\u83B7\u5609\u53BF",410725:"\u539F\u9633\u53BF",410726:"\u5EF6\u6D25\u53BF",410727:"\u5C01\u4E18\u53BF",410728:"\u957F\u57A3\u53BF",410781:"\u536B\u8F89\u5E02",410782:"\u8F89\u53BF\u5E02",410783:"\u5176\u5B83\u533A",410800:"\u7126\u4F5C\u5E02",410802:"\u89E3\u653E\u533A",410803:"\u4E2D\u7AD9\u533A",410804:"\u9A6C\u6751\u533A",410811:"\u5C71\u9633\u533A",410821:"\u4FEE\u6B66\u53BF",410822:"\u535A\u7231\u53BF",410823:"\u6B66\u965F\u53BF",410825:"\u6E29\u53BF",410881:"\u6D4E\u6E90\u5E02",410882:"\u6C81\u9633\u5E02",410883:"\u5B5F\u5DDE\u5E02",410884:"\u5176\u5B83\u533A",410900:"\u6FEE\u9633\u5E02",410902:"\u534E\u9F99\u533A",410922:"\u6E05\u4E30\u53BF",410923:"\u5357\u4E50\u53BF",410926:"\u8303\u53BF",410927:"\u53F0\u524D\u53BF",410928:"\u6FEE\u9633\u53BF",410929:"\u5176\u5B83\u533A",411e3:"\u8BB8\u660C\u5E02",411002:"\u9B4F\u90FD\u533A",411023:"\u8BB8\u660C\u53BF",411024:"\u9122\u9675\u53BF",411025:"\u8944\u57CE\u53BF",411081:"\u79B9\u5DDE\u5E02",411082:"\u957F\u845B\u5E02",411083:"\u5176\u5B83\u533A",411100:"\u6F2F\u6CB3\u5E02",411102:"\u6E90\u6C47\u533A",411103:"\u90FE\u57CE\u533A",411104:"\u53EC\u9675\u533A",411121:"\u821E\u9633\u53BF",411122:"\u4E34\u988D\u53BF",411123:"\u5176\u5B83\u533A",411200:"\u4E09\u95E8\u5CE1\u5E02",411202:"\u6E56\u6EE8\u533A",411221:"\u6E11\u6C60\u53BF",411222:"\u9655\u53BF",411224:"\u5362\u6C0F\u53BF",411281:"\u4E49\u9A6C\u5E02",411282:"\u7075\u5B9D\u5E02",411283:"\u5176\u5B83\u533A",411300:"\u5357\u9633\u5E02",411302:"\u5B9B\u57CE\u533A",411303:"\u5367\u9F99\u533A",411321:"\u5357\u53EC\u53BF",411322:"\u65B9\u57CE\u53BF",411323:"\u897F\u5CE1\u53BF",411324:"\u9547\u5E73\u53BF",411325:"\u5185\u4E61\u53BF",411326:"\u6DC5\u5DDD\u53BF",411327:"\u793E\u65D7\u53BF",411328:"\u5510\u6CB3\u53BF",411329:"\u65B0\u91CE\u53BF",411330:"\u6850\u67CF\u53BF",411381:"\u9093\u5DDE\u5E02",411382:"\u5176\u5B83\u533A",411400:"\u5546\u4E18\u5E02",411402:"\u6881\u56ED\u533A",411403:"\u7762\u9633\u533A",411421:"\u6C11\u6743\u53BF",411422:"\u7762\u53BF",411423:"\u5B81\u9675\u53BF",411424:"\u67D8\u57CE\u53BF",411425:"\u865E\u57CE\u53BF",411426:"\u590F\u9091\u53BF",411481:"\u6C38\u57CE\u5E02",411482:"\u5176\u5B83\u533A",411500:"\u4FE1\u9633\u5E02",411502:"\u6D49\u6CB3\u533A",411503:"\u5E73\u6865\u533A",411521:"\u7F57\u5C71\u53BF",411522:"\u5149\u5C71\u53BF",411523:"\u65B0\u53BF",411524:"\u5546\u57CE\u53BF",411525:"\u56FA\u59CB\u53BF",411526:"\u6F62\u5DDD\u53BF",411527:"\u6DEE\u6EE8\u53BF",411528:"\u606F\u53BF",411529:"\u5176\u5B83\u533A",411600:"\u5468\u53E3\u5E02",411602:"\u5DDD\u6C47\u533A",411621:"\u6276\u6C9F\u53BF",411622:"\u897F\u534E\u53BF",411623:"\u5546\u6C34\u53BF",411624:"\u6C88\u4E18\u53BF",411625:"\u90F8\u57CE\u53BF",411626:"\u6DEE\u9633\u53BF",411627:"\u592A\u5EB7\u53BF",411628:"\u9E7F\u9091\u53BF",411681:"\u9879\u57CE\u5E02",411682:"\u5176\u5B83\u533A",411700:"\u9A7B\u9A6C\u5E97\u5E02",411702:"\u9A7F\u57CE\u533A",411721:"\u897F\u5E73\u53BF",411722:"\u4E0A\u8521\u53BF",411723:"\u5E73\u8206\u53BF",411724:"\u6B63\u9633\u53BF",411725:"\u786E\u5C71\u53BF",411726:"\u6CCC\u9633\u53BF",411727:"\u6C5D\u5357\u53BF",411728:"\u9042\u5E73\u53BF",411729:"\u65B0\u8521\u53BF",411730:"\u5176\u5B83\u533A",42e4:"\u6E56\u5317\u7701",420100:"\u6B66\u6C49\u5E02",420102:"\u6C5F\u5CB8\u533A",420103:"\u6C5F\u6C49\u533A",420104:"\u785A\u53E3\u533A",420105:"\u6C49\u9633\u533A",420106:"\u6B66\u660C\u533A",420107:"\u9752\u5C71\u533A",420111:"\u6D2A\u5C71\u533A",420112:"\u4E1C\u897F\u6E56\u533A",420113:"\u6C49\u5357\u533A",420114:"\u8521\u7538\u533A",420115:"\u6C5F\u590F\u533A",420116:"\u9EC4\u9642\u533A",420117:"\u65B0\u6D32\u533A",420118:"\u5176\u5B83\u533A",420200:"\u9EC4\u77F3\u5E02",420202:"\u9EC4\u77F3\u6E2F\u533A",420203:"\u897F\u585E\u5C71\u533A",420204:"\u4E0B\u9646\u533A",420205:"\u94C1\u5C71\u533A",420222:"\u9633\u65B0\u53BF",420281:"\u5927\u51B6\u5E02",420282:"\u5176\u5B83\u533A",420300:"\u5341\u5830\u5E02",420302:"\u8305\u7BAD\u533A",420303:"\u5F20\u6E7E\u533A",420321:"\u90E7\u53BF",420322:"\u90E7\u897F\u53BF",420323:"\u7AF9\u5C71\u53BF",420324:"\u7AF9\u6EAA\u53BF",420325:"\u623F\u53BF",420381:"\u4E39\u6C5F\u53E3\u5E02",420383:"\u5176\u5B83\u533A",420500:"\u5B9C\u660C\u5E02",420502:"\u897F\u9675\u533A",420503:"\u4F0D\u5BB6\u5C97\u533A",420504:"\u70B9\u519B\u533A",420505:"\u7307\u4EAD\u533A",420506:"\u5937\u9675\u533A",420525:"\u8FDC\u5B89\u53BF",420526:"\u5174\u5C71\u53BF",420527:"\u79ED\u5F52\u53BF",420528:"\u957F\u9633\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",420529:"\u4E94\u5CF0\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",420581:"\u5B9C\u90FD\u5E02",420582:"\u5F53\u9633\u5E02",420583:"\u679D\u6C5F\u5E02",420584:"\u5176\u5B83\u533A",420600:"\u8944\u9633\u5E02",420602:"\u8944\u57CE\u533A",420606:"\u6A0A\u57CE\u533A",420607:"\u8944\u5DDE\u533A",420624:"\u5357\u6F33\u53BF",420625:"\u8C37\u57CE\u53BF",420626:"\u4FDD\u5EB7\u53BF",420682:"\u8001\u6CB3\u53E3\u5E02",420683:"\u67A3\u9633\u5E02",420684:"\u5B9C\u57CE\u5E02",420685:"\u5176\u5B83\u533A",420700:"\u9102\u5DDE\u5E02",420702:"\u6881\u5B50\u6E56\u533A",420703:"\u534E\u5BB9\u533A",420704:"\u9102\u57CE\u533A",420705:"\u5176\u5B83\u533A",420800:"\u8346\u95E8\u5E02",420802:"\u4E1C\u5B9D\u533A",420804:"\u6387\u5200\u533A",420821:"\u4EAC\u5C71\u53BF",420822:"\u6C99\u6D0B\u53BF",420881:"\u949F\u7965\u5E02",420882:"\u5176\u5B83\u533A",420900:"\u5B5D\u611F\u5E02",420902:"\u5B5D\u5357\u533A",420921:"\u5B5D\u660C\u53BF",420922:"\u5927\u609F\u53BF",420923:"\u4E91\u68A6\u53BF",420981:"\u5E94\u57CE\u5E02",420982:"\u5B89\u9646\u5E02",420984:"\u6C49\u5DDD\u5E02",420985:"\u5176\u5B83\u533A",421e3:"\u8346\u5DDE\u5E02",421002:"\u6C99\u5E02\u533A",421003:"\u8346\u5DDE\u533A",421022:"\u516C\u5B89\u53BF",421023:"\u76D1\u5229\u53BF",421024:"\u6C5F\u9675\u53BF",421081:"\u77F3\u9996\u5E02",421083:"\u6D2A\u6E56\u5E02",421087:"\u677E\u6ECB\u5E02",421088:"\u5176\u5B83\u533A",421100:"\u9EC4\u5188\u5E02",421102:"\u9EC4\u5DDE\u533A",421121:"\u56E2\u98CE\u53BF",421122:"\u7EA2\u5B89\u53BF",421123:"\u7F57\u7530\u53BF",421124:"\u82F1\u5C71\u53BF",421125:"\u6D60\u6C34\u53BF",421126:"\u8572\u6625\u53BF",421127:"\u9EC4\u6885\u53BF",421181:"\u9EBB\u57CE\u5E02",421182:"\u6B66\u7A74\u5E02",421183:"\u5176\u5B83\u533A",421200:"\u54B8\u5B81\u5E02",421202:"\u54B8\u5B89\u533A",421221:"\u5609\u9C7C\u53BF",421222:"\u901A\u57CE\u53BF",421223:"\u5D07\u9633\u53BF",421224:"\u901A\u5C71\u53BF",421281:"\u8D64\u58C1\u5E02",421283:"\u5176\u5B83\u533A",421300:"\u968F\u5DDE\u5E02",421302:"\u66FE\u90FD\u533A",421321:"\u968F\u53BF",421381:"\u5E7F\u6C34\u5E02",421382:"\u5176\u5B83\u533A",422800:"\u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",422801:"\u6069\u65BD\u5E02",422802:"\u5229\u5DDD\u5E02",422822:"\u5EFA\u59CB\u53BF",422823:"\u5DF4\u4E1C\u53BF",422825:"\u5BA3\u6069\u53BF",422826:"\u54B8\u4E30\u53BF",422827:"\u6765\u51E4\u53BF",422828:"\u9E64\u5CF0\u53BF",422829:"\u5176\u5B83\u533A",429004:"\u4ED9\u6843\u5E02",429005:"\u6F5C\u6C5F\u5E02",429006:"\u5929\u95E8\u5E02",429021:"\u795E\u519C\u67B6\u6797\u533A",43e4:"\u6E56\u5357\u7701",430100:"\u957F\u6C99\u5E02",430102:"\u8299\u84C9\u533A",430103:"\u5929\u5FC3\u533A",430104:"\u5CB3\u9E93\u533A",430105:"\u5F00\u798F\u533A",430111:"\u96E8\u82B1\u533A",430121:"\u957F\u6C99\u53BF",430122:"\u671B\u57CE\u533A",430124:"\u5B81\u4E61\u53BF",430181:"\u6D4F\u9633\u5E02",430182:"\u5176\u5B83\u533A",430200:"\u682A\u6D32\u5E02",430202:"\u8377\u5858\u533A",430203:"\u82A6\u6DDE\u533A",430204:"\u77F3\u5CF0\u533A",430211:"\u5929\u5143\u533A",430221:"\u682A\u6D32\u53BF",430223:"\u6538\u53BF",430224:"\u8336\u9675\u53BF",430225:"\u708E\u9675\u53BF",430281:"\u91B4\u9675\u5E02",430282:"\u5176\u5B83\u533A",430300:"\u6E58\u6F6D\u5E02",430302:"\u96E8\u6E56\u533A",430304:"\u5CB3\u5858\u533A",430321:"\u6E58\u6F6D\u53BF",430381:"\u6E58\u4E61\u5E02",430382:"\u97F6\u5C71\u5E02",430383:"\u5176\u5B83\u533A",430400:"\u8861\u9633\u5E02",430405:"\u73E0\u6656\u533A",430406:"\u96C1\u5CF0\u533A",430407:"\u77F3\u9F13\u533A",430408:"\u84B8\u6E58\u533A",430412:"\u5357\u5CB3\u533A",430421:"\u8861\u9633\u53BF",430422:"\u8861\u5357\u53BF",430423:"\u8861\u5C71\u53BF",430424:"\u8861\u4E1C\u53BF",430426:"\u7941\u4E1C\u53BF",430481:"\u8012\u9633\u5E02",430482:"\u5E38\u5B81\u5E02",430483:"\u5176\u5B83\u533A",430500:"\u90B5\u9633\u5E02",430502:"\u53CC\u6E05\u533A",430503:"\u5927\u7965\u533A",430511:"\u5317\u5854\u533A",430521:"\u90B5\u4E1C\u53BF",430522:"\u65B0\u90B5\u53BF",430523:"\u90B5\u9633\u53BF",430524:"\u9686\u56DE\u53BF",430525:"\u6D1E\u53E3\u53BF",430527:"\u7EE5\u5B81\u53BF",430528:"\u65B0\u5B81\u53BF",430529:"\u57CE\u6B65\u82D7\u65CF\u81EA\u6CBB\u53BF",430581:"\u6B66\u5188\u5E02",430582:"\u5176\u5B83\u533A",430600:"\u5CB3\u9633\u5E02",430602:"\u5CB3\u9633\u697C\u533A",430603:"\u4E91\u6EAA\u533A",430611:"\u541B\u5C71\u533A",430621:"\u5CB3\u9633\u53BF",430623:"\u534E\u5BB9\u53BF",430624:"\u6E58\u9634\u53BF",430626:"\u5E73\u6C5F\u53BF",430681:"\u6C68\u7F57\u5E02",430682:"\u4E34\u6E58\u5E02",430683:"\u5176\u5B83\u533A",430700:"\u5E38\u5FB7\u5E02",430702:"\u6B66\u9675\u533A",430703:"\u9F0E\u57CE\u533A",430721:"\u5B89\u4E61\u53BF",430722:"\u6C49\u5BFF\u53BF",430723:"\u6FA7\u53BF",430724:"\u4E34\u6FA7\u53BF",430725:"\u6843\u6E90\u53BF",430726:"\u77F3\u95E8\u53BF",430781:"\u6D25\u5E02\u5E02",430782:"\u5176\u5B83\u533A",430800:"\u5F20\u5BB6\u754C\u5E02",430802:"\u6C38\u5B9A\u533A",430811:"\u6B66\u9675\u6E90\u533A",430821:"\u6148\u5229\u53BF",430822:"\u6851\u690D\u53BF",430823:"\u5176\u5B83\u533A",430900:"\u76CA\u9633\u5E02",430902:"\u8D44\u9633\u533A",430903:"\u8D6B\u5C71\u533A",430921:"\u5357\u53BF",430922:"\u6843\u6C5F\u53BF",430923:"\u5B89\u5316\u53BF",430981:"\u6C85\u6C5F\u5E02",430982:"\u5176\u5B83\u533A",431e3:"\u90F4\u5DDE\u5E02",431002:"\u5317\u6E56\u533A",431003:"\u82CF\u4ED9\u533A",431021:"\u6842\u9633\u53BF",431022:"\u5B9C\u7AE0\u53BF",431023:"\u6C38\u5174\u53BF",431024:"\u5609\u79BE\u53BF",431025:"\u4E34\u6B66\u53BF",431026:"\u6C5D\u57CE\u53BF",431027:"\u6842\u4E1C\u53BF",431028:"\u5B89\u4EC1\u53BF",431081:"\u8D44\u5174\u5E02",431082:"\u5176\u5B83\u533A",431100:"\u6C38\u5DDE\u5E02",431102:"\u96F6\u9675\u533A",431103:"\u51B7\u6C34\u6EE9\u533A",431121:"\u7941\u9633\u53BF",431122:"\u4E1C\u5B89\u53BF",431123:"\u53CC\u724C\u53BF",431124:"\u9053\u53BF",431125:"\u6C5F\u6C38\u53BF",431126:"\u5B81\u8FDC\u53BF",431127:"\u84DD\u5C71\u53BF",431128:"\u65B0\u7530\u53BF",431129:"\u6C5F\u534E\u7476\u65CF\u81EA\u6CBB\u53BF",431130:"\u5176\u5B83\u533A",431200:"\u6000\u5316\u5E02",431202:"\u9E64\u57CE\u533A",431221:"\u4E2D\u65B9\u53BF",431222:"\u6C85\u9675\u53BF",431223:"\u8FB0\u6EAA\u53BF",431224:"\u6E86\u6D66\u53BF",431225:"\u4F1A\u540C\u53BF",431226:"\u9EBB\u9633\u82D7\u65CF\u81EA\u6CBB\u53BF",431227:"\u65B0\u6643\u4F97\u65CF\u81EA\u6CBB\u53BF",431228:"\u82B7\u6C5F\u4F97\u65CF\u81EA\u6CBB\u53BF",431229:"\u9756\u5DDE\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u53BF",431230:"\u901A\u9053\u4F97\u65CF\u81EA\u6CBB\u53BF",431281:"\u6D2A\u6C5F\u5E02",431282:"\u5176\u5B83\u533A",431300:"\u5A04\u5E95\u5E02",431302:"\u5A04\u661F\u533A",431321:"\u53CC\u5CF0\u53BF",431322:"\u65B0\u5316\u53BF",431381:"\u51B7\u6C34\u6C5F\u5E02",431382:"\u6D9F\u6E90\u5E02",431383:"\u5176\u5B83\u533A",433100:"\u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",433101:"\u5409\u9996\u5E02",433122:"\u6CF8\u6EAA\u53BF",433123:"\u51E4\u51F0\u53BF",433124:"\u82B1\u57A3\u53BF",433125:"\u4FDD\u9756\u53BF",433126:"\u53E4\u4E08\u53BF",433127:"\u6C38\u987A\u53BF",433130:"\u9F99\u5C71\u53BF",433131:"\u5176\u5B83\u533A",44e4:"\u5E7F\u4E1C\u7701",440100:"\u5E7F\u5DDE\u5E02",440103:"\u8354\u6E7E\u533A",440104:"\u8D8A\u79C0\u533A",440105:"\u6D77\u73E0\u533A",440106:"\u5929\u6CB3\u533A",440111:"\u767D\u4E91\u533A",440112:"\u9EC4\u57D4\u533A",440113:"\u756A\u79BA\u533A",440114:"\u82B1\u90FD\u533A",440115:"\u5357\u6C99\u533A",440116:"\u841D\u5C97\u533A",440183:"\u589E\u57CE\u5E02",440184:"\u4ECE\u5316\u5E02",440189:"\u5176\u5B83\u533A",440200:"\u97F6\u5173\u5E02",440203:"\u6B66\u6C5F\u533A",440204:"\u6D48\u6C5F\u533A",440205:"\u66F2\u6C5F\u533A",440222:"\u59CB\u5174\u53BF",440224:"\u4EC1\u5316\u53BF",440229:"\u7FC1\u6E90\u53BF",440232:"\u4E73\u6E90\u7476\u65CF\u81EA\u6CBB\u53BF",440233:"\u65B0\u4E30\u53BF",440281:"\u4E50\u660C\u5E02",440282:"\u5357\u96C4\u5E02",440283:"\u5176\u5B83\u533A",440300:"\u6DF1\u5733\u5E02",440303:"\u7F57\u6E56\u533A",440304:"\u798F\u7530\u533A",440305:"\u5357\u5C71\u533A",440306:"\u5B9D\u5B89\u533A",440307:"\u9F99\u5C97\u533A",440308:"\u76D0\u7530\u533A",440309:"\u5176\u5B83\u533A",440320:"\u5149\u660E\u65B0\u533A",440321:"\u576A\u5C71\u65B0\u533A",440322:"\u5927\u9E4F\u65B0\u533A",440323:"\u9F99\u534E\u65B0\u533A",440400:"\u73E0\u6D77\u5E02",440402:"\u9999\u6D32\u533A",440403:"\u6597\u95E8\u533A",440404:"\u91D1\u6E7E\u533A",440488:"\u5176\u5B83\u533A",440500:"\u6C55\u5934\u5E02",440507:"\u9F99\u6E56\u533A",440511:"\u91D1\u5E73\u533A",440512:"\u6FE0\u6C5F\u533A",440513:"\u6F6E\u9633\u533A",440514:"\u6F6E\u5357\u533A",440515:"\u6F84\u6D77\u533A",440523:"\u5357\u6FB3\u53BF",440524:"\u5176\u5B83\u533A",440600:"\u4F5B\u5C71\u5E02",440604:"\u7985\u57CE\u533A",440605:"\u5357\u6D77\u533A",440606:"\u987A\u5FB7\u533A",440607:"\u4E09\u6C34\u533A",440608:"\u9AD8\u660E\u533A",440609:"\u5176\u5B83\u533A",440700:"\u6C5F\u95E8\u5E02",440703:"\u84EC\u6C5F\u533A",440704:"\u6C5F\u6D77\u533A",440705:"\u65B0\u4F1A\u533A",440781:"\u53F0\u5C71\u5E02",440783:"\u5F00\u5E73\u5E02",440784:"\u9E64\u5C71\u5E02",440785:"\u6069\u5E73\u5E02",440786:"\u5176\u5B83\u533A",440800:"\u6E5B\u6C5F\u5E02",440802:"\u8D64\u574E\u533A",440803:"\u971E\u5C71\u533A",440804:"\u5761\u5934\u533A",440811:"\u9EBB\u7AE0\u533A",440823:"\u9042\u6EAA\u53BF",440825:"\u5F90\u95FB\u53BF",440881:"\u5EC9\u6C5F\u5E02",440882:"\u96F7\u5DDE\u5E02",440883:"\u5434\u5DDD\u5E02",440884:"\u5176\u5B83\u533A",440900:"\u8302\u540D\u5E02",440902:"\u8302\u5357\u533A",440903:"\u8302\u6E2F\u533A",440923:"\u7535\u767D\u53BF",440981:"\u9AD8\u5DDE\u5E02",440982:"\u5316\u5DDE\u5E02",440983:"\u4FE1\u5B9C\u5E02",440984:"\u5176\u5B83\u533A",441200:"\u8087\u5E86\u5E02",441202:"\u7AEF\u5DDE\u533A",441203:"\u9F0E\u6E56\u533A",441223:"\u5E7F\u5B81\u53BF",441224:"\u6000\u96C6\u53BF",441225:"\u5C01\u5F00\u53BF",441226:"\u5FB7\u5E86\u53BF",441283:"\u9AD8\u8981\u5E02",441284:"\u56DB\u4F1A\u5E02",441285:"\u5176\u5B83\u533A",441300:"\u60E0\u5DDE\u5E02",441302:"\u60E0\u57CE\u533A",441303:"\u60E0\u9633\u533A",441322:"\u535A\u7F57\u53BF",441323:"\u60E0\u4E1C\u53BF",441324:"\u9F99\u95E8\u53BF",441325:"\u5176\u5B83\u533A",441400:"\u6885\u5DDE\u5E02",441402:"\u6885\u6C5F\u533A",441421:"\u6885\u53BF",441422:"\u5927\u57D4\u53BF",441423:"\u4E30\u987A\u53BF",441424:"\u4E94\u534E\u53BF",441426:"\u5E73\u8FDC\u53BF",441427:"\u8549\u5CAD\u53BF",441481:"\u5174\u5B81\u5E02",441482:"\u5176\u5B83\u533A",441500:"\u6C55\u5C3E\u5E02",441502:"\u57CE\u533A",441521:"\u6D77\u4E30\u53BF",441523:"\u9646\u6CB3\u53BF",441581:"\u9646\u4E30\u5E02",441582:"\u5176\u5B83\u533A",441600:"\u6CB3\u6E90\u5E02",441602:"\u6E90\u57CE\u533A",441621:"\u7D2B\u91D1\u53BF",441622:"\u9F99\u5DDD\u53BF",441623:"\u8FDE\u5E73\u53BF",441624:"\u548C\u5E73\u53BF",441625:"\u4E1C\u6E90\u53BF",441626:"\u5176\u5B83\u533A",441700:"\u9633\u6C5F\u5E02",441702:"\u6C5F\u57CE\u533A",441721:"\u9633\u897F\u53BF",441723:"\u9633\u4E1C\u53BF",441781:"\u9633\u6625\u5E02",441782:"\u5176\u5B83\u533A",441800:"\u6E05\u8FDC\u5E02",441802:"\u6E05\u57CE\u533A",441821:"\u4F5B\u5188\u53BF",441823:"\u9633\u5C71\u53BF",441825:"\u8FDE\u5C71\u58EE\u65CF\u7476\u65CF\u81EA\u6CBB\u53BF",441826:"\u8FDE\u5357\u7476\u65CF\u81EA\u6CBB\u53BF",441827:"\u6E05\u65B0\u533A",441881:"\u82F1\u5FB7\u5E02",441882:"\u8FDE\u5DDE\u5E02",441883:"\u5176\u5B83\u533A",441900:"\u4E1C\u839E\u5E02",442e3:"\u4E2D\u5C71\u5E02",442101:"\u4E1C\u6C99\u7FA4\u5C9B",445100:"\u6F6E\u5DDE\u5E02",445102:"\u6E58\u6865\u533A",445121:"\u6F6E\u5B89\u533A",445122:"\u9976\u5E73\u53BF",445186:"\u5176\u5B83\u533A",445200:"\u63ED\u9633\u5E02",445202:"\u6995\u57CE\u533A",445221:"\u63ED\u4E1C\u533A",445222:"\u63ED\u897F\u53BF",445224:"\u60E0\u6765\u53BF",445281:"\u666E\u5B81\u5E02",445285:"\u5176\u5B83\u533A",445300:"\u4E91\u6D6E\u5E02",445302:"\u4E91\u57CE\u533A",445321:"\u65B0\u5174\u53BF",445322:"\u90C1\u5357\u53BF",445323:"\u4E91\u5B89\u53BF",445381:"\u7F57\u5B9A\u5E02",445382:"\u5176\u5B83\u533A",45e4:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A",450100:"\u5357\u5B81\u5E02",450102:"\u5174\u5B81\u533A",450103:"\u9752\u79C0\u533A",450105:"\u6C5F\u5357\u533A",450107:"\u897F\u4E61\u5858\u533A",450108:"\u826F\u5E86\u533A",450109:"\u9095\u5B81\u533A",450122:"\u6B66\u9E23\u53BF",450123:"\u9686\u5B89\u53BF",450124:"\u9A6C\u5C71\u53BF",450125:"\u4E0A\u6797\u53BF",450126:"\u5BBE\u9633\u53BF",450127:"\u6A2A\u53BF",450128:"\u5176\u5B83\u533A",450200:"\u67F3\u5DDE\u5E02",450202:"\u57CE\u4E2D\u533A",450203:"\u9C7C\u5CF0\u533A",450204:"\u67F3\u5357\u533A",450205:"\u67F3\u5317\u533A",450221:"\u67F3\u6C5F\u53BF",450222:"\u67F3\u57CE\u53BF",450223:"\u9E7F\u5BE8\u53BF",450224:"\u878D\u5B89\u53BF",450225:"\u878D\u6C34\u82D7\u65CF\u81EA\u6CBB\u53BF",450226:"\u4E09\u6C5F\u4F97\u65CF\u81EA\u6CBB\u53BF",450227:"\u5176\u5B83\u533A",450300:"\u6842\u6797\u5E02",450302:"\u79C0\u5CF0\u533A",450303:"\u53E0\u5F69\u533A",450304:"\u8C61\u5C71\u533A",450305:"\u4E03\u661F\u533A",450311:"\u96C1\u5C71\u533A",450321:"\u9633\u6714\u53BF",450322:"\u4E34\u6842\u533A",450323:"\u7075\u5DDD\u53BF",450324:"\u5168\u5DDE\u53BF",450325:"\u5174\u5B89\u53BF",450326:"\u6C38\u798F\u53BF",450327:"\u704C\u9633\u53BF",450328:"\u9F99\u80DC\u5404\u65CF\u81EA\u6CBB\u53BF",450329:"\u8D44\u6E90\u53BF",450330:"\u5E73\u4E50\u53BF",450331:"\u8354\u6D66\u53BF",450332:"\u606D\u57CE\u7476\u65CF\u81EA\u6CBB\u53BF",450333:"\u5176\u5B83\u533A",450400:"\u68A7\u5DDE\u5E02",450403:"\u4E07\u79C0\u533A",450405:"\u957F\u6D32\u533A",450406:"\u9F99\u5729\u533A",450421:"\u82CD\u68A7\u53BF",450422:"\u85E4\u53BF",450423:"\u8499\u5C71\u53BF",450481:"\u5C91\u6EAA\u5E02",450482:"\u5176\u5B83\u533A",450500:"\u5317\u6D77\u5E02",450502:"\u6D77\u57CE\u533A",450503:"\u94F6\u6D77\u533A",450512:"\u94C1\u5C71\u6E2F\u533A",450521:"\u5408\u6D66\u53BF",450522:"\u5176\u5B83\u533A",450600:"\u9632\u57CE\u6E2F\u5E02",450602:"\u6E2F\u53E3\u533A",450603:"\u9632\u57CE\u533A",450621:"\u4E0A\u601D\u53BF",450681:"\u4E1C\u5174\u5E02",450682:"\u5176\u5B83\u533A",450700:"\u94A6\u5DDE\u5E02",450702:"\u94A6\u5357\u533A",450703:"\u94A6\u5317\u533A",450721:"\u7075\u5C71\u53BF",450722:"\u6D66\u5317\u53BF",450723:"\u5176\u5B83\u533A",450800:"\u8D35\u6E2F\u5E02",450802:"\u6E2F\u5317\u533A",450803:"\u6E2F\u5357\u533A",450804:"\u8983\u5858\u533A",450821:"\u5E73\u5357\u53BF",450881:"\u6842\u5E73\u5E02",450882:"\u5176\u5B83\u533A",450900:"\u7389\u6797\u5E02",450902:"\u7389\u5DDE\u533A",450903:"\u798F\u7EF5\u533A",450921:"\u5BB9\u53BF",450922:"\u9646\u5DDD\u53BF",450923:"\u535A\u767D\u53BF",450924:"\u5174\u4E1A\u53BF",450981:"\u5317\u6D41\u5E02",450982:"\u5176\u5B83\u533A",451e3:"\u767E\u8272\u5E02",451002:"\u53F3\u6C5F\u533A",451021:"\u7530\u9633\u53BF",451022:"\u7530\u4E1C\u53BF",451023:"\u5E73\u679C\u53BF",451024:"\u5FB7\u4FDD\u53BF",451025:"\u9756\u897F\u53BF",451026:"\u90A3\u5761\u53BF",451027:"\u51CC\u4E91\u53BF",451028:"\u4E50\u4E1A\u53BF",451029:"\u7530\u6797\u53BF",451030:"\u897F\u6797\u53BF",451031:"\u9686\u6797\u5404\u65CF\u81EA\u6CBB\u53BF",451032:"\u5176\u5B83\u533A",451100:"\u8D3A\u5DDE\u5E02",451102:"\u516B\u6B65\u533A",451119:"\u5E73\u6842\u7BA1\u7406\u533A",451121:"\u662D\u5E73\u53BF",451122:"\u949F\u5C71\u53BF",451123:"\u5BCC\u5DDD\u7476\u65CF\u81EA\u6CBB\u53BF",451124:"\u5176\u5B83\u533A",451200:"\u6CB3\u6C60\u5E02",451202:"\u91D1\u57CE\u6C5F\u533A",451221:"\u5357\u4E39\u53BF",451222:"\u5929\u5CE8\u53BF",451223:"\u51E4\u5C71\u53BF",451224:"\u4E1C\u5170\u53BF",451225:"\u7F57\u57CE\u4EEB\u4F6C\u65CF\u81EA\u6CBB\u53BF",451226:"\u73AF\u6C5F\u6BDB\u5357\u65CF\u81EA\u6CBB\u53BF",451227:"\u5DF4\u9A6C\u7476\u65CF\u81EA\u6CBB\u53BF",451228:"\u90FD\u5B89\u7476\u65CF\u81EA\u6CBB\u53BF",451229:"\u5927\u5316\u7476\u65CF\u81EA\u6CBB\u53BF",451281:"\u5B9C\u5DDE\u5E02",451282:"\u5176\u5B83\u533A",451300:"\u6765\u5BBE\u5E02",451302:"\u5174\u5BBE\u533A",451321:"\u5FFB\u57CE\u53BF",451322:"\u8C61\u5DDE\u53BF",451323:"\u6B66\u5BA3\u53BF",451324:"\u91D1\u79C0\u7476\u65CF\u81EA\u6CBB\u53BF",451381:"\u5408\u5C71\u5E02",451382:"\u5176\u5B83\u533A",451400:"\u5D07\u5DE6\u5E02",451402:"\u6C5F\u5DDE\u533A",451421:"\u6276\u7EE5\u53BF",451422:"\u5B81\u660E\u53BF",451423:"\u9F99\u5DDE\u53BF",451424:"\u5927\u65B0\u53BF",451425:"\u5929\u7B49\u53BF",451481:"\u51ED\u7965\u5E02",451482:"\u5176\u5B83\u533A",46e4:"\u6D77\u5357\u7701",460100:"\u6D77\u53E3\u5E02",460105:"\u79C0\u82F1\u533A",460106:"\u9F99\u534E\u533A",460107:"\u743C\u5C71\u533A",460108:"\u7F8E\u5170\u533A",460109:"\u5176\u5B83\u533A",460200:"\u4E09\u4E9A\u5E02",460300:"\u4E09\u6C99\u5E02",460321:"\u897F\u6C99\u7FA4\u5C9B",460322:"\u5357\u6C99\u7FA4\u5C9B",460323:"\u4E2D\u6C99\u7FA4\u5C9B\u7684\u5C9B\u7901\u53CA\u5176\u6D77\u57DF",469001:"\u4E94\u6307\u5C71\u5E02",469002:"\u743C\u6D77\u5E02",469003:"\u510B\u5DDE\u5E02",469005:"\u6587\u660C\u5E02",469006:"\u4E07\u5B81\u5E02",469007:"\u4E1C\u65B9\u5E02",469025:"\u5B9A\u5B89\u53BF",469026:"\u5C6F\u660C\u53BF",469027:"\u6F84\u8FC8\u53BF",469028:"\u4E34\u9AD8\u53BF",469030:"\u767D\u6C99\u9ECE\u65CF\u81EA\u6CBB\u53BF",469031:"\u660C\u6C5F\u9ECE\u65CF\u81EA\u6CBB\u53BF",469033:"\u4E50\u4E1C\u9ECE\u65CF\u81EA\u6CBB\u53BF",469034:"\u9675\u6C34\u9ECE\u65CF\u81EA\u6CBB\u53BF",469035:"\u4FDD\u4EAD\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",469036:"\u743C\u4E2D\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",471005:"\u5176\u5B83\u533A",5e5:"\u91CD\u5E86",500100:"\u91CD\u5E86\u5E02",500101:"\u4E07\u5DDE\u533A",500102:"\u6DAA\u9675\u533A",500103:"\u6E1D\u4E2D\u533A",500104:"\u5927\u6E21\u53E3\u533A",500105:"\u6C5F\u5317\u533A",500106:"\u6C99\u576A\u575D\u533A",500107:"\u4E5D\u9F99\u5761\u533A",500108:"\u5357\u5CB8\u533A",500109:"\u5317\u789A\u533A",500110:"\u4E07\u76DB\u533A",500111:"\u53CC\u6865\u533A",500112:"\u6E1D\u5317\u533A",500113:"\u5DF4\u5357\u533A",500114:"\u9ED4\u6C5F\u533A",500115:"\u957F\u5BFF\u533A",500222:"\u7DA6\u6C5F\u533A",500223:"\u6F7C\u5357\u53BF",500224:"\u94DC\u6881\u53BF",500225:"\u5927\u8DB3\u533A",500226:"\u8363\u660C\u53BF",500227:"\u74A7\u5C71\u53BF",500228:"\u6881\u5E73\u53BF",500229:"\u57CE\u53E3\u53BF",500230:"\u4E30\u90FD\u53BF",500231:"\u57AB\u6C5F\u53BF",500232:"\u6B66\u9686\u53BF",500233:"\u5FE0\u53BF",500234:"\u5F00\u53BF",500235:"\u4E91\u9633\u53BF",500236:"\u5949\u8282\u53BF",500237:"\u5DEB\u5C71\u53BF",500238:"\u5DEB\u6EAA\u53BF",500240:"\u77F3\u67F1\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",500241:"\u79C0\u5C71\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",500242:"\u9149\u9633\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",500243:"\u5F6D\u6C34\u82D7\u65CF\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",500381:"\u6C5F\u6D25\u533A",500382:"\u5408\u5DDD\u533A",500383:"\u6C38\u5DDD\u533A",500384:"\u5357\u5DDD\u533A",500385:"\u5176\u5B83\u533A",51e4:"\u56DB\u5DDD\u7701",510100:"\u6210\u90FD\u5E02",510104:"\u9526\u6C5F\u533A",510105:"\u9752\u7F8A\u533A",510106:"\u91D1\u725B\u533A",510107:"\u6B66\u4FAF\u533A",510108:"\u6210\u534E\u533A",510112:"\u9F99\u6CC9\u9A7F\u533A",510113:"\u9752\u767D\u6C5F\u533A",510114:"\u65B0\u90FD\u533A",510115:"\u6E29\u6C5F\u533A",510121:"\u91D1\u5802\u53BF",510122:"\u53CC\u6D41\u53BF",510124:"\u90EB\u53BF",510129:"\u5927\u9091\u53BF",510131:"\u84B2\u6C5F\u53BF",510132:"\u65B0\u6D25\u53BF",510181:"\u90FD\u6C5F\u5830\u5E02",510182:"\u5F6D\u5DDE\u5E02",510183:"\u909B\u5D03\u5E02",510184:"\u5D07\u5DDE\u5E02",510185:"\u5176\u5B83\u533A",510300:"\u81EA\u8D21\u5E02",510302:"\u81EA\u6D41\u4E95\u533A",510303:"\u8D21\u4E95\u533A",510304:"\u5927\u5B89\u533A",510311:"\u6CBF\u6EE9\u533A",510321:"\u8363\u53BF",510322:"\u5BCC\u987A\u53BF",510323:"\u5176\u5B83\u533A",510400:"\u6500\u679D\u82B1\u5E02",510402:"\u4E1C\u533A",510403:"\u897F\u533A",510411:"\u4EC1\u548C\u533A",510421:"\u7C73\u6613\u53BF",510422:"\u76D0\u8FB9\u53BF",510423:"\u5176\u5B83\u533A",510500:"\u6CF8\u5DDE\u5E02",510502:"\u6C5F\u9633\u533A",510503:"\u7EB3\u6EAA\u533A",510504:"\u9F99\u9A6C\u6F6D\u533A",510521:"\u6CF8\u53BF",510522:"\u5408\u6C5F\u53BF",510524:"\u53D9\u6C38\u53BF",510525:"\u53E4\u853A\u53BF",510526:"\u5176\u5B83\u533A",510600:"\u5FB7\u9633\u5E02",510603:"\u65CC\u9633\u533A",510623:"\u4E2D\u6C5F\u53BF",510626:"\u7F57\u6C5F\u53BF",510681:"\u5E7F\u6C49\u5E02",510682:"\u4EC0\u90A1\u5E02",510683:"\u7EF5\u7AF9\u5E02",510684:"\u5176\u5B83\u533A",510700:"\u7EF5\u9633\u5E02",510703:"\u6DAA\u57CE\u533A",510704:"\u6E38\u4ED9\u533A",510722:"\u4E09\u53F0\u53BF",510723:"\u76D0\u4EAD\u53BF",510724:"\u5B89\u53BF",510725:"\u6893\u6F7C\u53BF",510726:"\u5317\u5DDD\u7F8C\u65CF\u81EA\u6CBB\u53BF",510727:"\u5E73\u6B66\u53BF",510781:"\u6C5F\u6CB9\u5E02",510782:"\u5176\u5B83\u533A",510800:"\u5E7F\u5143\u5E02",510802:"\u5229\u5DDE\u533A",510811:"\u662D\u5316\u533A",510812:"\u671D\u5929\u533A",510821:"\u65FA\u82CD\u53BF",510822:"\u9752\u5DDD\u53BF",510823:"\u5251\u9601\u53BF",510824:"\u82CD\u6EAA\u53BF",510825:"\u5176\u5B83\u533A",510900:"\u9042\u5B81\u5E02",510903:"\u8239\u5C71\u533A",510904:"\u5B89\u5C45\u533A",510921:"\u84EC\u6EAA\u53BF",510922:"\u5C04\u6D2A\u53BF",510923:"\u5927\u82F1\u53BF",510924:"\u5176\u5B83\u533A",511e3:"\u5185\u6C5F\u5E02",511002:"\u5E02\u4E2D\u533A",511011:"\u4E1C\u5174\u533A",511024:"\u5A01\u8FDC\u53BF",511025:"\u8D44\u4E2D\u53BF",511028:"\u9686\u660C\u53BF",511029:"\u5176\u5B83\u533A",511100:"\u4E50\u5C71\u5E02",511102:"\u5E02\u4E2D\u533A",511111:"\u6C99\u6E7E\u533A",511112:"\u4E94\u901A\u6865\u533A",511113:"\u91D1\u53E3\u6CB3\u533A",511123:"\u728D\u4E3A\u53BF",511124:"\u4E95\u7814\u53BF",511126:"\u5939\u6C5F\u53BF",511129:"\u6C90\u5DDD\u53BF",511132:"\u5CE8\u8FB9\u5F5D\u65CF\u81EA\u6CBB\u53BF",511133:"\u9A6C\u8FB9\u5F5D\u65CF\u81EA\u6CBB\u53BF",511181:"\u5CE8\u7709\u5C71\u5E02",511182:"\u5176\u5B83\u533A",511300:"\u5357\u5145\u5E02",511302:"\u987A\u5E86\u533A",511303:"\u9AD8\u576A\u533A",511304:"\u5609\u9675\u533A",511321:"\u5357\u90E8\u53BF",511322:"\u8425\u5C71\u53BF",511323:"\u84EC\u5B89\u53BF",511324:"\u4EEA\u9647\u53BF",511325:"\u897F\u5145\u53BF",511381:"\u9606\u4E2D\u5E02",511382:"\u5176\u5B83\u533A",511400:"\u7709\u5C71\u5E02",511402:"\u4E1C\u5761\u533A",511421:"\u4EC1\u5BFF\u53BF",511422:"\u5F6D\u5C71\u53BF",511423:"\u6D2A\u96C5\u53BF",511424:"\u4E39\u68F1\u53BF",511425:"\u9752\u795E\u53BF",511426:"\u5176\u5B83\u533A",511500:"\u5B9C\u5BBE\u5E02",511502:"\u7FE0\u5C4F\u533A",511521:"\u5B9C\u5BBE\u53BF",511522:"\u5357\u6EAA\u533A",511523:"\u6C5F\u5B89\u53BF",511524:"\u957F\u5B81\u53BF",511525:"\u9AD8\u53BF",511526:"\u73D9\u53BF",511527:"\u7B60\u8FDE\u53BF",511528:"\u5174\u6587\u53BF",511529:"\u5C4F\u5C71\u53BF",511530:"\u5176\u5B83\u533A",511600:"\u5E7F\u5B89\u5E02",511602:"\u5E7F\u5B89\u533A",511603:"\u524D\u950B\u533A",511621:"\u5CB3\u6C60\u53BF",511622:"\u6B66\u80DC\u53BF",511623:"\u90BB\u6C34\u53BF",511681:"\u534E\u84E5\u5E02",511683:"\u5176\u5B83\u533A",511700:"\u8FBE\u5DDE\u5E02",511702:"\u901A\u5DDD\u533A",511721:"\u8FBE\u5DDD\u533A",511722:"\u5BA3\u6C49\u53BF",511723:"\u5F00\u6C5F\u53BF",511724:"\u5927\u7AF9\u53BF",511725:"\u6E20\u53BF",511781:"\u4E07\u6E90\u5E02",511782:"\u5176\u5B83\u533A",511800:"\u96C5\u5B89\u5E02",511802:"\u96E8\u57CE\u533A",511821:"\u540D\u5C71\u533A",511822:"\u8365\u7ECF\u53BF",511823:"\u6C49\u6E90\u53BF",511824:"\u77F3\u68C9\u53BF",511825:"\u5929\u5168\u53BF",511826:"\u82A6\u5C71\u53BF",511827:"\u5B9D\u5174\u53BF",511828:"\u5176\u5B83\u533A",511900:"\u5DF4\u4E2D\u5E02",511902:"\u5DF4\u5DDE\u533A",511903:"\u6069\u9633\u533A",511921:"\u901A\u6C5F\u53BF",511922:"\u5357\u6C5F\u53BF",511923:"\u5E73\u660C\u53BF",511924:"\u5176\u5B83\u533A",512e3:"\u8D44\u9633\u5E02",512002:"\u96C1\u6C5F\u533A",512021:"\u5B89\u5CB3\u53BF",512022:"\u4E50\u81F3\u53BF",512081:"\u7B80\u9633\u5E02",512082:"\u5176\u5B83\u533A",513200:"\u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE",513221:"\u6C76\u5DDD\u53BF",513222:"\u7406\u53BF",513223:"\u8302\u53BF",513224:"\u677E\u6F58\u53BF",513225:"\u4E5D\u5BE8\u6C9F\u53BF",513226:"\u91D1\u5DDD\u53BF",513227:"\u5C0F\u91D1\u53BF",513228:"\u9ED1\u6C34\u53BF",513229:"\u9A6C\u5C14\u5EB7\u53BF",513230:"\u58E4\u5858\u53BF",513231:"\u963F\u575D\u53BF",513232:"\u82E5\u5C14\u76D6\u53BF",513233:"\u7EA2\u539F\u53BF",513234:"\u5176\u5B83\u533A",513300:"\u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE",513321:"\u5EB7\u5B9A\u53BF",513322:"\u6CF8\u5B9A\u53BF",513323:"\u4E39\u5DF4\u53BF",513324:"\u4E5D\u9F99\u53BF",513325:"\u96C5\u6C5F\u53BF",513326:"\u9053\u5B5A\u53BF",513327:"\u7089\u970D\u53BF",513328:"\u7518\u5B5C\u53BF",513329:"\u65B0\u9F99\u53BF",513330:"\u5FB7\u683C\u53BF",513331:"\u767D\u7389\u53BF",513332:"\u77F3\u6E20\u53BF",513333:"\u8272\u8FBE\u53BF",513334:"\u7406\u5858\u53BF",513335:"\u5DF4\u5858\u53BF",513336:"\u4E61\u57CE\u53BF",513337:"\u7A3B\u57CE\u53BF",513338:"\u5F97\u8363\u53BF",513339:"\u5176\u5B83\u533A",513400:"\u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE",513401:"\u897F\u660C\u5E02",513422:"\u6728\u91CC\u85CF\u65CF\u81EA\u6CBB\u53BF",513423:"\u76D0\u6E90\u53BF",513424:"\u5FB7\u660C\u53BF",513425:"\u4F1A\u7406\u53BF",513426:"\u4F1A\u4E1C\u53BF",513427:"\u5B81\u5357\u53BF",513428:"\u666E\u683C\u53BF",513429:"\u5E03\u62D6\u53BF",513430:"\u91D1\u9633\u53BF",513431:"\u662D\u89C9\u53BF",513432:"\u559C\u5FB7\u53BF",513433:"\u5195\u5B81\u53BF",513434:"\u8D8A\u897F\u53BF",513435:"\u7518\u6D1B\u53BF",513436:"\u7F8E\u59D1\u53BF",513437:"\u96F7\u6CE2\u53BF",513438:"\u5176\u5B83\u533A",52e4:"\u8D35\u5DDE\u7701",520100:"\u8D35\u9633\u5E02",520102:"\u5357\u660E\u533A",520103:"\u4E91\u5CA9\u533A",520111:"\u82B1\u6EAA\u533A",520112:"\u4E4C\u5F53\u533A",520113:"\u767D\u4E91\u533A",520121:"\u5F00\u9633\u53BF",520122:"\u606F\u70FD\u53BF",520123:"\u4FEE\u6587\u53BF",520151:"\u89C2\u5C71\u6E56\u533A",520181:"\u6E05\u9547\u5E02",520182:"\u5176\u5B83\u533A",520200:"\u516D\u76D8\u6C34\u5E02",520201:"\u949F\u5C71\u533A",520203:"\u516D\u679D\u7279\u533A",520221:"\u6C34\u57CE\u53BF",520222:"\u76D8\u53BF",520223:"\u5176\u5B83\u533A",520300:"\u9075\u4E49\u5E02",520302:"\u7EA2\u82B1\u5C97\u533A",520303:"\u6C47\u5DDD\u533A",520321:"\u9075\u4E49\u53BF",520322:"\u6850\u6893\u53BF",520323:"\u7EE5\u9633\u53BF",520324:"\u6B63\u5B89\u53BF",520325:"\u9053\u771F\u4EE1\u4F6C\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",520326:"\u52A1\u5DDD\u4EE1\u4F6C\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",520327:"\u51E4\u5188\u53BF",520328:"\u6E44\u6F6D\u53BF",520329:"\u4F59\u5E86\u53BF",520330:"\u4E60\u6C34\u53BF",520381:"\u8D64\u6C34\u5E02",520382:"\u4EC1\u6000\u5E02",520383:"\u5176\u5B83\u533A",520400:"\u5B89\u987A\u5E02",520402:"\u897F\u79C0\u533A",520421:"\u5E73\u575D\u53BF",520422:"\u666E\u5B9A\u53BF",520423:"\u9547\u5B81\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",520424:"\u5173\u5CAD\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",520425:"\u7D2B\u4E91\u82D7\u65CF\u5E03\u4F9D\u65CF\u81EA\u6CBB\u53BF",520426:"\u5176\u5B83\u533A",522200:"\u94DC\u4EC1\u5E02",522201:"\u78A7\u6C5F\u533A",522222:"\u6C5F\u53E3\u53BF",522223:"\u7389\u5C4F\u4F97\u65CF\u81EA\u6CBB\u53BF",522224:"\u77F3\u9621\u53BF",522225:"\u601D\u5357\u53BF",522226:"\u5370\u6C5F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",522227:"\u5FB7\u6C5F\u53BF",522228:"\u6CBF\u6CB3\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",522229:"\u677E\u6843\u82D7\u65CF\u81EA\u6CBB\u53BF",522230:"\u4E07\u5C71\u533A",522231:"\u5176\u5B83\u533A",522300:"\u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",522301:"\u5174\u4E49\u5E02",522322:"\u5174\u4EC1\u53BF",522323:"\u666E\u5B89\u53BF",522324:"\u6674\u9686\u53BF",522325:"\u8D1E\u4E30\u53BF",522326:"\u671B\u8C1F\u53BF",522327:"\u518C\u4EA8\u53BF",522328:"\u5B89\u9F99\u53BF",522329:"\u5176\u5B83\u533A",522400:"\u6BD5\u8282\u5E02",522401:"\u4E03\u661F\u5173\u533A",522422:"\u5927\u65B9\u53BF",522423:"\u9ED4\u897F\u53BF",522424:"\u91D1\u6C99\u53BF",522425:"\u7EC7\u91D1\u53BF",522426:"\u7EB3\u96CD\u53BF",522427:"\u5A01\u5B81\u5F5D\u65CF\u56DE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",522428:"\u8D6B\u7AE0\u53BF",522429:"\u5176\u5B83\u533A",522600:"\u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE",522601:"\u51EF\u91CC\u5E02",522622:"\u9EC4\u5E73\u53BF",522623:"\u65BD\u79C9\u53BF",522624:"\u4E09\u7A57\u53BF",522625:"\u9547\u8FDC\u53BF",522626:"\u5C91\u5DE9\u53BF",522627:"\u5929\u67F1\u53BF",522628:"\u9526\u5C4F\u53BF",522629:"\u5251\u6CB3\u53BF",522630:"\u53F0\u6C5F\u53BF",522631:"\u9ECE\u5E73\u53BF",522632:"\u6995\u6C5F\u53BF",522633:"\u4ECE\u6C5F\u53BF",522634:"\u96F7\u5C71\u53BF",522635:"\u9EBB\u6C5F\u53BF",522636:"\u4E39\u5BE8\u53BF",522637:"\u5176\u5B83\u533A",522700:"\u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",522701:"\u90FD\u5300\u5E02",522702:"\u798F\u6CC9\u5E02",522722:"\u8354\u6CE2\u53BF",522723:"\u8D35\u5B9A\u53BF",522725:"\u74EE\u5B89\u53BF",522726:"\u72EC\u5C71\u53BF",522727:"\u5E73\u5858\u53BF",522728:"\u7F57\u7538\u53BF",522729:"\u957F\u987A\u53BF",522730:"\u9F99\u91CC\u53BF",522731:"\u60E0\u6C34\u53BF",522732:"\u4E09\u90FD\u6C34\u65CF\u81EA\u6CBB\u53BF",522733:"\u5176\u5B83\u533A",53e4:"\u4E91\u5357\u7701",530100:"\u6606\u660E\u5E02",530102:"\u4E94\u534E\u533A",530103:"\u76D8\u9F99\u533A",530111:"\u5B98\u6E21\u533A",530112:"\u897F\u5C71\u533A",530113:"\u4E1C\u5DDD\u533A",530121:"\u5448\u8D21\u533A",530122:"\u664B\u5B81\u53BF",530124:"\u5BCC\u6C11\u53BF",530125:"\u5B9C\u826F\u53BF",530126:"\u77F3\u6797\u5F5D\u65CF\u81EA\u6CBB\u53BF",530127:"\u5D69\u660E\u53BF",530128:"\u7984\u529D\u5F5D\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",530129:"\u5BFB\u7538\u56DE\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",530181:"\u5B89\u5B81\u5E02",530182:"\u5176\u5B83\u533A",530300:"\u66F2\u9756\u5E02",530302:"\u9E92\u9E9F\u533A",530321:"\u9A6C\u9F99\u53BF",530322:"\u9646\u826F\u53BF",530323:"\u5E08\u5B97\u53BF",530324:"\u7F57\u5E73\u53BF",530325:"\u5BCC\u6E90\u53BF",530326:"\u4F1A\u6CFD\u53BF",530328:"\u6CBE\u76CA\u53BF",530381:"\u5BA3\u5A01\u5E02",530382:"\u5176\u5B83\u533A",530400:"\u7389\u6EAA\u5E02",530402:"\u7EA2\u5854\u533A",530421:"\u6C5F\u5DDD\u53BF",530422:"\u6F84\u6C5F\u53BF",530423:"\u901A\u6D77\u53BF",530424:"\u534E\u5B81\u53BF",530425:"\u6613\u95E8\u53BF",530426:"\u5CE8\u5C71\u5F5D\u65CF\u81EA\u6CBB\u53BF",530427:"\u65B0\u5E73\u5F5D\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",530428:"\u5143\u6C5F\u54C8\u5C3C\u65CF\u5F5D\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",530429:"\u5176\u5B83\u533A",530500:"\u4FDD\u5C71\u5E02",530502:"\u9686\u9633\u533A",530521:"\u65BD\u7538\u53BF",530522:"\u817E\u51B2\u53BF",530523:"\u9F99\u9675\u53BF",530524:"\u660C\u5B81\u53BF",530525:"\u5176\u5B83\u533A",530600:"\u662D\u901A\u5E02",530602:"\u662D\u9633\u533A",530621:"\u9C81\u7538\u53BF",530622:"\u5DE7\u5BB6\u53BF",530623:"\u76D0\u6D25\u53BF",530624:"\u5927\u5173\u53BF",530625:"\u6C38\u5584\u53BF",530626:"\u7EE5\u6C5F\u53BF",530627:"\u9547\u96C4\u53BF",530628:"\u5F5D\u826F\u53BF",530629:"\u5A01\u4FE1\u53BF",530630:"\u6C34\u5BCC\u53BF",530631:"\u5176\u5B83\u533A",530700:"\u4E3D\u6C5F\u5E02",530702:"\u53E4\u57CE\u533A",530721:"\u7389\u9F99\u7EB3\u897F\u65CF\u81EA\u6CBB\u53BF",530722:"\u6C38\u80DC\u53BF",530723:"\u534E\u576A\u53BF",530724:"\u5B81\u8497\u5F5D\u65CF\u81EA\u6CBB\u53BF",530725:"\u5176\u5B83\u533A",530800:"\u666E\u6D31\u5E02",530802:"\u601D\u8305\u533A",530821:"\u5B81\u6D31\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",530822:"\u58A8\u6C5F\u54C8\u5C3C\u65CF\u81EA\u6CBB\u53BF",530823:"\u666F\u4E1C\u5F5D\u65CF\u81EA\u6CBB\u53BF",530824:"\u666F\u8C37\u50A3\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",530825:"\u9547\u6C85\u5F5D\u65CF\u54C8\u5C3C\u65CF\u62C9\u795C\u65CF\u81EA\u6CBB\u53BF",530826:"\u6C5F\u57CE\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",530827:"\u5B5F\u8FDE\u50A3\u65CF\u62C9\u795C\u65CF\u4F64\u65CF\u81EA\u6CBB\u53BF",530828:"\u6F9C\u6CA7\u62C9\u795C\u65CF\u81EA\u6CBB\u53BF",530829:"\u897F\u76DF\u4F64\u65CF\u81EA\u6CBB\u53BF",530830:"\u5176\u5B83\u533A",530900:"\u4E34\u6CA7\u5E02",530902:"\u4E34\u7FD4\u533A",530921:"\u51E4\u5E86\u53BF",530922:"\u4E91\u53BF",530923:"\u6C38\u5FB7\u53BF",530924:"\u9547\u5EB7\u53BF",530925:"\u53CC\u6C5F\u62C9\u795C\u65CF\u4F64\u65CF\u5E03\u6717\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",530926:"\u803F\u9A6C\u50A3\u65CF\u4F64\u65CF\u81EA\u6CBB\u53BF",530927:"\u6CA7\u6E90\u4F64\u65CF\u81EA\u6CBB\u53BF",530928:"\u5176\u5B83\u533A",532300:"\u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE",532301:"\u695A\u96C4\u5E02",532322:"\u53CC\u67CF\u53BF",532323:"\u725F\u5B9A\u53BF",532324:"\u5357\u534E\u53BF",532325:"\u59DA\u5B89\u53BF",532326:"\u5927\u59DA\u53BF",532327:"\u6C38\u4EC1\u53BF",532328:"\u5143\u8C0B\u53BF",532329:"\u6B66\u5B9A\u53BF",532331:"\u7984\u4E30\u53BF",532332:"\u5176\u5B83\u533A",532500:"\u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE",532501:"\u4E2A\u65E7\u5E02",532502:"\u5F00\u8FDC\u5E02",532522:"\u8499\u81EA\u5E02",532523:"\u5C4F\u8FB9\u82D7\u65CF\u81EA\u6CBB\u53BF",532524:"\u5EFA\u6C34\u53BF",532525:"\u77F3\u5C4F\u53BF",532526:"\u5F25\u52D2\u5E02",532527:"\u6CF8\u897F\u53BF",532528:"\u5143\u9633\u53BF",532529:"\u7EA2\u6CB3\u53BF",532530:"\u91D1\u5E73\u82D7\u65CF\u7476\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",532531:"\u7EFF\u6625\u53BF",532532:"\u6CB3\u53E3\u7476\u65CF\u81EA\u6CBB\u53BF",532533:"\u5176\u5B83\u533A",532600:"\u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",532621:"\u6587\u5C71\u5E02",532622:"\u781A\u5C71\u53BF",532623:"\u897F\u7574\u53BF",532624:"\u9EBB\u6817\u5761\u53BF",532625:"\u9A6C\u5173\u53BF",532626:"\u4E18\u5317\u53BF",532627:"\u5E7F\u5357\u53BF",532628:"\u5BCC\u5B81\u53BF",532629:"\u5176\u5B83\u533A",532800:"\u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE",532801:"\u666F\u6D2A\u5E02",532822:"\u52D0\u6D77\u53BF",532823:"\u52D0\u814A\u53BF",532824:"\u5176\u5B83\u533A",532900:"\u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE",532901:"\u5927\u7406\u5E02",532922:"\u6F3E\u6FDE\u5F5D\u65CF\u81EA\u6CBB\u53BF",532923:"\u7965\u4E91\u53BF",532924:"\u5BBE\u5DDD\u53BF",532925:"\u5F25\u6E21\u53BF",532926:"\u5357\u6DA7\u5F5D\u65CF\u81EA\u6CBB\u53BF",532927:"\u5DCD\u5C71\u5F5D\u65CF\u56DE\u65CF\u81EA\u6CBB\u53BF",532928:"\u6C38\u5E73\u53BF",532929:"\u4E91\u9F99\u53BF",532930:"\u6D31\u6E90\u53BF",532931:"\u5251\u5DDD\u53BF",532932:"\u9E64\u5E86\u53BF",532933:"\u5176\u5B83\u533A",533100:"\u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE",533102:"\u745E\u4E3D\u5E02",533103:"\u8292\u5E02",533122:"\u6881\u6CB3\u53BF",533123:"\u76C8\u6C5F\u53BF",533124:"\u9647\u5DDD\u53BF",533125:"\u5176\u5B83\u533A",533300:"\u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE",533321:"\u6CF8\u6C34\u53BF",533323:"\u798F\u8D21\u53BF",533324:"\u8D21\u5C71\u72EC\u9F99\u65CF\u6012\u65CF\u81EA\u6CBB\u53BF",533325:"\u5170\u576A\u767D\u65CF\u666E\u7C73\u65CF\u81EA\u6CBB\u53BF",533326:"\u5176\u5B83\u533A",533400:"\u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE",533421:"\u9999\u683C\u91CC\u62C9\u53BF",533422:"\u5FB7\u94A6\u53BF",533423:"\u7EF4\u897F\u5088\u50F3\u65CF\u81EA\u6CBB\u53BF",533424:"\u5176\u5B83\u533A",54e4:"\u897F\u85CF\u81EA\u6CBB\u533A",540100:"\u62C9\u8428\u5E02",540102:"\u57CE\u5173\u533A",540121:"\u6797\u5468\u53BF",540122:"\u5F53\u96C4\u53BF",540123:"\u5C3C\u6728\u53BF",540124:"\u66F2\u6C34\u53BF",540125:"\u5806\u9F99\u5FB7\u5E86\u53BF",540126:"\u8FBE\u5B5C\u53BF",540127:"\u58A8\u7AF9\u5DE5\u5361\u53BF",540128:"\u5176\u5B83\u533A",542100:"\u660C\u90FD\u5730\u533A",542121:"\u660C\u90FD\u53BF",542122:"\u6C5F\u8FBE\u53BF",542123:"\u8D21\u89C9\u53BF",542124:"\u7C7B\u4E4C\u9F50\u53BF",542125:"\u4E01\u9752\u53BF",542126:"\u5BDF\u96C5\u53BF",542127:"\u516B\u5BBF\u53BF",542128:"\u5DE6\u8D21\u53BF",542129:"\u8292\u5EB7\u53BF",542132:"\u6D1B\u9686\u53BF",542133:"\u8FB9\u575D\u53BF",542134:"\u5176\u5B83\u533A",542200:"\u5C71\u5357\u5730\u533A",542221:"\u4E43\u4E1C\u53BF",542222:"\u624E\u56CA\u53BF",542223:"\u8D21\u560E\u53BF",542224:"\u6851\u65E5\u53BF",542225:"\u743C\u7ED3\u53BF",542226:"\u66F2\u677E\u53BF",542227:"\u63AA\u7F8E\u53BF",542228:"\u6D1B\u624E\u53BF",542229:"\u52A0\u67E5\u53BF",542231:"\u9686\u5B50\u53BF",542232:"\u9519\u90A3\u53BF",542233:"\u6D6A\u5361\u5B50\u53BF",542234:"\u5176\u5B83\u533A",542300:"\u65E5\u5580\u5219\u5730\u533A",542301:"\u65E5\u5580\u5219\u5E02",542322:"\u5357\u6728\u6797\u53BF",542323:"\u6C5F\u5B5C\u53BF",542324:"\u5B9A\u65E5\u53BF",542325:"\u8428\u8FE6\u53BF",542326:"\u62C9\u5B5C\u53BF",542327:"\u6602\u4EC1\u53BF",542328:"\u8C22\u901A\u95E8\u53BF",542329:"\u767D\u6717\u53BF",542330:"\u4EC1\u5E03\u53BF",542331:"\u5EB7\u9A6C\u53BF",542332:"\u5B9A\u7ED3\u53BF",542333:"\u4EF2\u5DF4\u53BF",542334:"\u4E9A\u4E1C\u53BF",542335:"\u5409\u9686\u53BF",542336:"\u8042\u62C9\u6728\u53BF",542337:"\u8428\u560E\u53BF",542338:"\u5C97\u5DF4\u53BF",542339:"\u5176\u5B83\u533A",542400:"\u90A3\u66F2\u5730\u533A",542421:"\u90A3\u66F2\u53BF",542422:"\u5609\u9ECE\u53BF",542423:"\u6BD4\u5982\u53BF",542424:"\u8042\u8363\u53BF",542425:"\u5B89\u591A\u53BF",542426:"\u7533\u624E\u53BF",542427:"\u7D22\u53BF",542428:"\u73ED\u6208\u53BF",542429:"\u5DF4\u9752\u53BF",542430:"\u5C3C\u739B\u53BF",542431:"\u5176\u5B83\u533A",542432:"\u53CC\u6E56\u53BF",542500:"\u963F\u91CC\u5730\u533A",542521:"\u666E\u5170\u53BF",542522:"\u672D\u8FBE\u53BF",542523:"\u5676\u5C14\u53BF",542524:"\u65E5\u571F\u53BF",542525:"\u9769\u5409\u53BF",542526:"\u6539\u5219\u53BF",542527:"\u63AA\u52E4\u53BF",542528:"\u5176\u5B83\u533A",542600:"\u6797\u829D\u5730\u533A",542621:"\u6797\u829D\u53BF",542622:"\u5DE5\u5E03\u6C5F\u8FBE\u53BF",542623:"\u7C73\u6797\u53BF",542624:"\u58A8\u8131\u53BF",542625:"\u6CE2\u5BC6\u53BF",542626:"\u5BDF\u9685\u53BF",542627:"\u6717\u53BF",542628:"\u5176\u5B83\u533A",61e4:"\u9655\u897F\u7701",610100:"\u897F\u5B89\u5E02",610102:"\u65B0\u57CE\u533A",610103:"\u7891\u6797\u533A",610104:"\u83B2\u6E56\u533A",610111:"\u705E\u6865\u533A",610112:"\u672A\u592E\u533A",610113:"\u96C1\u5854\u533A",610114:"\u960E\u826F\u533A",610115:"\u4E34\u6F7C\u533A",610116:"\u957F\u5B89\u533A",610122:"\u84DD\u7530\u53BF",610124:"\u5468\u81F3\u53BF",610125:"\u6237\u53BF",610126:"\u9AD8\u9675\u53BF",610127:"\u5176\u5B83\u533A",610200:"\u94DC\u5DDD\u5E02",610202:"\u738B\u76CA\u533A",610203:"\u5370\u53F0\u533A",610204:"\u8000\u5DDE\u533A",610222:"\u5B9C\u541B\u53BF",610223:"\u5176\u5B83\u533A",610300:"\u5B9D\u9E21\u5E02",610302:"\u6E2D\u6EE8\u533A",610303:"\u91D1\u53F0\u533A",610304:"\u9648\u4ED3\u533A",610322:"\u51E4\u7FD4\u53BF",610323:"\u5C90\u5C71\u53BF",610324:"\u6276\u98CE\u53BF",610326:"\u7709\u53BF",610327:"\u9647\u53BF",610328:"\u5343\u9633\u53BF",610329:"\u9E9F\u6E38\u53BF",610330:"\u51E4\u53BF",610331:"\u592A\u767D\u53BF",610332:"\u5176\u5B83\u533A",610400:"\u54B8\u9633\u5E02",610402:"\u79E6\u90FD\u533A",610403:"\u6768\u9675\u533A",610404:"\u6E2D\u57CE\u533A",610422:"\u4E09\u539F\u53BF",610423:"\u6CFE\u9633\u53BF",610424:"\u4E7E\u53BF",610425:"\u793C\u6CC9\u53BF",610426:"\u6C38\u5BFF\u53BF",610427:"\u5F6C\u53BF",610428:"\u957F\u6B66\u53BF",610429:"\u65EC\u9091\u53BF",610430:"\u6DF3\u5316\u53BF",610431:"\u6B66\u529F\u53BF",610481:"\u5174\u5E73\u5E02",610482:"\u5176\u5B83\u533A",610500:"\u6E2D\u5357\u5E02",610502:"\u4E34\u6E2D\u533A",610521:"\u534E\u53BF",610522:"\u6F7C\u5173\u53BF",610523:"\u5927\u8354\u53BF",610524:"\u5408\u9633\u53BF",610525:"\u6F84\u57CE\u53BF",610526:"\u84B2\u57CE\u53BF",610527:"\u767D\u6C34\u53BF",610528:"\u5BCC\u5E73\u53BF",610581:"\u97E9\u57CE\u5E02",610582:"\u534E\u9634\u5E02",610583:"\u5176\u5B83\u533A",610600:"\u5EF6\u5B89\u5E02",610602:"\u5B9D\u5854\u533A",610621:"\u5EF6\u957F\u53BF",610622:"\u5EF6\u5DDD\u53BF",610623:"\u5B50\u957F\u53BF",610624:"\u5B89\u585E\u53BF",610625:"\u5FD7\u4E39\u53BF",610626:"\u5434\u8D77\u53BF",610627:"\u7518\u6CC9\u53BF",610628:"\u5BCC\u53BF",610629:"\u6D1B\u5DDD\u53BF",610630:"\u5B9C\u5DDD\u53BF",610631:"\u9EC4\u9F99\u53BF",610632:"\u9EC4\u9675\u53BF",610633:"\u5176\u5B83\u533A",610700:"\u6C49\u4E2D\u5E02",610702:"\u6C49\u53F0\u533A",610721:"\u5357\u90D1\u53BF",610722:"\u57CE\u56FA\u53BF",610723:"\u6D0B\u53BF",610724:"\u897F\u4E61\u53BF",610725:"\u52C9\u53BF",610726:"\u5B81\u5F3A\u53BF",610727:"\u7565\u9633\u53BF",610728:"\u9547\u5DF4\u53BF",610729:"\u7559\u575D\u53BF",610730:"\u4F5B\u576A\u53BF",610731:"\u5176\u5B83\u533A",610800:"\u6986\u6797\u5E02",610802:"\u6986\u9633\u533A",610821:"\u795E\u6728\u53BF",610822:"\u5E9C\u8C37\u53BF",610823:"\u6A2A\u5C71\u53BF",610824:"\u9756\u8FB9\u53BF",610825:"\u5B9A\u8FB9\u53BF",610826:"\u7EE5\u5FB7\u53BF",610827:"\u7C73\u8102\u53BF",610828:"\u4F73\u53BF",610829:"\u5434\u5821\u53BF",610830:"\u6E05\u6DA7\u53BF",610831:"\u5B50\u6D32\u53BF",610832:"\u5176\u5B83\u533A",610900:"\u5B89\u5EB7\u5E02",610902:"\u6C49\u6EE8\u533A",610921:"\u6C49\u9634\u53BF",610922:"\u77F3\u6CC9\u53BF",610923:"\u5B81\u9655\u53BF",610924:"\u7D2B\u9633\u53BF",610925:"\u5C9A\u768B\u53BF",610926:"\u5E73\u5229\u53BF",610927:"\u9547\u576A\u53BF",610928:"\u65EC\u9633\u53BF",610929:"\u767D\u6CB3\u53BF",610930:"\u5176\u5B83\u533A",611e3:"\u5546\u6D1B\u5E02",611002:"\u5546\u5DDE\u533A",611021:"\u6D1B\u5357\u53BF",611022:"\u4E39\u51E4\u53BF",611023:"\u5546\u5357\u53BF",611024:"\u5C71\u9633\u53BF",611025:"\u9547\u5B89\u53BF",611026:"\u67DE\u6C34\u53BF",611027:"\u5176\u5B83\u533A",62e4:"\u7518\u8083\u7701",620100:"\u5170\u5DDE\u5E02",620102:"\u57CE\u5173\u533A",620103:"\u4E03\u91CC\u6CB3\u533A",620104:"\u897F\u56FA\u533A",620105:"\u5B89\u5B81\u533A",620111:"\u7EA2\u53E4\u533A",620121:"\u6C38\u767B\u53BF",620122:"\u768B\u5170\u53BF",620123:"\u6986\u4E2D\u53BF",620124:"\u5176\u5B83\u533A",620200:"\u5609\u5CEA\u5173\u5E02",620300:"\u91D1\u660C\u5E02",620302:"\u91D1\u5DDD\u533A",620321:"\u6C38\u660C\u53BF",620322:"\u5176\u5B83\u533A",620400:"\u767D\u94F6\u5E02",620402:"\u767D\u94F6\u533A",620403:"\u5E73\u5DDD\u533A",620421:"\u9756\u8FDC\u53BF",620422:"\u4F1A\u5B81\u53BF",620423:"\u666F\u6CF0\u53BF",620424:"\u5176\u5B83\u533A",620500:"\u5929\u6C34\u5E02",620502:"\u79E6\u5DDE\u533A",620503:"\u9EA6\u79EF\u533A",620521:"\u6E05\u6C34\u53BF",620522:"\u79E6\u5B89\u53BF",620523:"\u7518\u8C37\u53BF",620524:"\u6B66\u5C71\u53BF",620525:"\u5F20\u5BB6\u5DDD\u56DE\u65CF\u81EA\u6CBB\u53BF",620526:"\u5176\u5B83\u533A",620600:"\u6B66\u5A01\u5E02",620602:"\u51C9\u5DDE\u533A",620621:"\u6C11\u52E4\u53BF",620622:"\u53E4\u6D6A\u53BF",620623:"\u5929\u795D\u85CF\u65CF\u81EA\u6CBB\u53BF",620624:"\u5176\u5B83\u533A",620700:"\u5F20\u6396\u5E02",620702:"\u7518\u5DDE\u533A",620721:"\u8083\u5357\u88D5\u56FA\u65CF\u81EA\u6CBB\u53BF",620722:"\u6C11\u4E50\u53BF",620723:"\u4E34\u6CFD\u53BF",620724:"\u9AD8\u53F0\u53BF",620725:"\u5C71\u4E39\u53BF",620726:"\u5176\u5B83\u533A",620800:"\u5E73\u51C9\u5E02",620802:"\u5D06\u5CD2\u533A",620821:"\u6CFE\u5DDD\u53BF",620822:"\u7075\u53F0\u53BF",620823:"\u5D07\u4FE1\u53BF",620824:"\u534E\u4EAD\u53BF",620825:"\u5E84\u6D6A\u53BF",620826:"\u9759\u5B81\u53BF",620827:"\u5176\u5B83\u533A",620900:"\u9152\u6CC9\u5E02",620902:"\u8083\u5DDE\u533A",620921:"\u91D1\u5854\u53BF",620922:"\u74DC\u5DDE\u53BF",620923:"\u8083\u5317\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",620924:"\u963F\u514B\u585E\u54C8\u8428\u514B\u65CF\u81EA\u6CBB\u53BF",620981:"\u7389\u95E8\u5E02",620982:"\u6566\u714C\u5E02",620983:"\u5176\u5B83\u533A",621e3:"\u5E86\u9633\u5E02",621002:"\u897F\u5CF0\u533A",621021:"\u5E86\u57CE\u53BF",621022:"\u73AF\u53BF",621023:"\u534E\u6C60\u53BF",621024:"\u5408\u6C34\u53BF",621025:"\u6B63\u5B81\u53BF",621026:"\u5B81\u53BF",621027:"\u9547\u539F\u53BF",621028:"\u5176\u5B83\u533A",621100:"\u5B9A\u897F\u5E02",621102:"\u5B89\u5B9A\u533A",621121:"\u901A\u6E2D\u53BF",621122:"\u9647\u897F\u53BF",621123:"\u6E2D\u6E90\u53BF",621124:"\u4E34\u6D2E\u53BF",621125:"\u6F33\u53BF",621126:"\u5CB7\u53BF",621127:"\u5176\u5B83\u533A",621200:"\u9647\u5357\u5E02",621202:"\u6B66\u90FD\u533A",621221:"\u6210\u53BF",621222:"\u6587\u53BF",621223:"\u5B95\u660C\u53BF",621224:"\u5EB7\u53BF",621225:"\u897F\u548C\u53BF",621226:"\u793C\u53BF",621227:"\u5FBD\u53BF",621228:"\u4E24\u5F53\u53BF",621229:"\u5176\u5B83\u533A",622900:"\u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE",622901:"\u4E34\u590F\u5E02",622921:"\u4E34\u590F\u53BF",622922:"\u5EB7\u4E50\u53BF",622923:"\u6C38\u9756\u53BF",622924:"\u5E7F\u6CB3\u53BF",622925:"\u548C\u653F\u53BF",622926:"\u4E1C\u4E61\u65CF\u81EA\u6CBB\u53BF",622927:"\u79EF\u77F3\u5C71\u4FDD\u5B89\u65CF\u4E1C\u4E61\u65CF\u6492\u62C9\u65CF\u81EA\u6CBB\u53BF",622928:"\u5176\u5B83\u533A",623e3:"\u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",623001:"\u5408\u4F5C\u5E02",623021:"\u4E34\u6F6D\u53BF",623022:"\u5353\u5C3C\u53BF",623023:"\u821F\u66F2\u53BF",623024:"\u8FED\u90E8\u53BF",623025:"\u739B\u66F2\u53BF",623026:"\u788C\u66F2\u53BF",623027:"\u590F\u6CB3\u53BF",623028:"\u5176\u5B83\u533A",63e4:"\u9752\u6D77\u7701",630100:"\u897F\u5B81\u5E02",630102:"\u57CE\u4E1C\u533A",630103:"\u57CE\u4E2D\u533A",630104:"\u57CE\u897F\u533A",630105:"\u57CE\u5317\u533A",630121:"\u5927\u901A\u56DE\u65CF\u571F\u65CF\u81EA\u6CBB\u53BF",630122:"\u6E5F\u4E2D\u53BF",630123:"\u6E5F\u6E90\u53BF",630124:"\u5176\u5B83\u533A",632100:"\u6D77\u4E1C\u5E02",632121:"\u5E73\u5B89\u53BF",632122:"\u6C11\u548C\u56DE\u65CF\u571F\u65CF\u81EA\u6CBB\u53BF",632123:"\u4E50\u90FD\u533A",632126:"\u4E92\u52A9\u571F\u65CF\u81EA\u6CBB\u53BF",632127:"\u5316\u9686\u56DE\u65CF\u81EA\u6CBB\u53BF",632128:"\u5FAA\u5316\u6492\u62C9\u65CF\u81EA\u6CBB\u53BF",632129:"\u5176\u5B83\u533A",632200:"\u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE",632221:"\u95E8\u6E90\u56DE\u65CF\u81EA\u6CBB\u53BF",632222:"\u7941\u8FDE\u53BF",632223:"\u6D77\u664F\u53BF",632224:"\u521A\u5BDF\u53BF",632225:"\u5176\u5B83\u533A",632300:"\u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",632321:"\u540C\u4EC1\u53BF",632322:"\u5C16\u624E\u53BF",632323:"\u6CFD\u5E93\u53BF",632324:"\u6CB3\u5357\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",632325:"\u5176\u5B83\u533A",632500:"\u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",632521:"\u5171\u548C\u53BF",632522:"\u540C\u5FB7\u53BF",632523:"\u8D35\u5FB7\u53BF",632524:"\u5174\u6D77\u53BF",632525:"\u8D35\u5357\u53BF",632526:"\u5176\u5B83\u533A",632600:"\u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE",632621:"\u739B\u6C81\u53BF",632622:"\u73ED\u739B\u53BF",632623:"\u7518\u5FB7\u53BF",632624:"\u8FBE\u65E5\u53BF",632625:"\u4E45\u6CBB\u53BF",632626:"\u739B\u591A\u53BF",632627:"\u5176\u5B83\u533A",632700:"\u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE",632721:"\u7389\u6811\u5E02",632722:"\u6742\u591A\u53BF",632723:"\u79F0\u591A\u53BF",632724:"\u6CBB\u591A\u53BF",632725:"\u56CA\u8C26\u53BF",632726:"\u66F2\u9EBB\u83B1\u53BF",632727:"\u5176\u5B83\u533A",632800:"\u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE",632801:"\u683C\u5C14\u6728\u5E02",632802:"\u5FB7\u4EE4\u54C8\u5E02",632821:"\u4E4C\u5170\u53BF",632822:"\u90FD\u5170\u53BF",632823:"\u5929\u5CFB\u53BF",632824:"\u5176\u5B83\u533A",64e4:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A",640100:"\u94F6\u5DDD\u5E02",640104:"\u5174\u5E86\u533A",640105:"\u897F\u590F\u533A",640106:"\u91D1\u51E4\u533A",640121:"\u6C38\u5B81\u53BF",640122:"\u8D3A\u5170\u53BF",640181:"\u7075\u6B66\u5E02",640182:"\u5176\u5B83\u533A",640200:"\u77F3\u5634\u5C71\u5E02",640202:"\u5927\u6B66\u53E3\u533A",640205:"\u60E0\u519C\u533A",640221:"\u5E73\u7F57\u53BF",640222:"\u5176\u5B83\u533A",640300:"\u5434\u5FE0\u5E02",640302:"\u5229\u901A\u533A",640303:"\u7EA2\u5BFA\u5821\u533A",640323:"\u76D0\u6C60\u53BF",640324:"\u540C\u5FC3\u53BF",640381:"\u9752\u94DC\u5CE1\u5E02",640382:"\u5176\u5B83\u533A",640400:"\u56FA\u539F\u5E02",640402:"\u539F\u5DDE\u533A",640422:"\u897F\u5409\u53BF",640423:"\u9686\u5FB7\u53BF",640424:"\u6CFE\u6E90\u53BF",640425:"\u5F6D\u9633\u53BF",640426:"\u5176\u5B83\u533A",640500:"\u4E2D\u536B\u5E02",640502:"\u6C99\u5761\u5934\u533A",640521:"\u4E2D\u5B81\u53BF",640522:"\u6D77\u539F\u53BF",640523:"\u5176\u5B83\u533A",65e4:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A",650100:"\u4E4C\u9C81\u6728\u9F50\u5E02",650102:"\u5929\u5C71\u533A",650103:"\u6C99\u4F9D\u5DF4\u514B\u533A",650104:"\u65B0\u5E02\u533A",650105:"\u6C34\u78E8\u6C9F\u533A",650106:"\u5934\u5C6F\u6CB3\u533A",650107:"\u8FBE\u5742\u57CE\u533A",650109:"\u7C73\u4E1C\u533A",650121:"\u4E4C\u9C81\u6728\u9F50\u53BF",650122:"\u5176\u5B83\u533A",650200:"\u514B\u62C9\u739B\u4F9D\u5E02",650202:"\u72EC\u5C71\u5B50\u533A",650203:"\u514B\u62C9\u739B\u4F9D\u533A",650204:"\u767D\u78B1\u6EE9\u533A",650205:"\u4E4C\u5C14\u79BE\u533A",650206:"\u5176\u5B83\u533A",652100:"\u5410\u9C81\u756A\u5730\u533A",652101:"\u5410\u9C81\u756A\u5E02",652122:"\u912F\u5584\u53BF",652123:"\u6258\u514B\u900A\u53BF",652124:"\u5176\u5B83\u533A",652200:"\u54C8\u5BC6\u5730\u533A",652201:"\u54C8\u5BC6\u5E02",652222:"\u5DF4\u91CC\u5764\u54C8\u8428\u514B\u81EA\u6CBB\u53BF",652223:"\u4F0A\u543E\u53BF",652224:"\u5176\u5B83\u533A",652300:"\u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE",652301:"\u660C\u5409\u5E02",652302:"\u961C\u5EB7\u5E02",652323:"\u547C\u56FE\u58C1\u53BF",652324:"\u739B\u7EB3\u65AF\u53BF",652325:"\u5947\u53F0\u53BF",652327:"\u5409\u6728\u8428\u5C14\u53BF",652328:"\u6728\u5792\u54C8\u8428\u514B\u81EA\u6CBB\u53BF",652329:"\u5176\u5B83\u533A",652700:"\u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE",652701:"\u535A\u4E50\u5E02",652702:"\u963F\u62C9\u5C71\u53E3\u5E02",652722:"\u7CBE\u6CB3\u53BF",652723:"\u6E29\u6CC9\u53BF",652724:"\u5176\u5B83\u533A",652800:"\u5DF4\u97F3\u90ED\u695E\u8499\u53E4\u81EA\u6CBB\u5DDE",652801:"\u5E93\u5C14\u52D2\u5E02",652822:"\u8F6E\u53F0\u53BF",652823:"\u5C09\u7281\u53BF",652824:"\u82E5\u7F8C\u53BF",652825:"\u4E14\u672B\u53BF",652826:"\u7109\u8006\u56DE\u65CF\u81EA\u6CBB\u53BF",652827:"\u548C\u9759\u53BF",652828:"\u548C\u7855\u53BF",652829:"\u535A\u6E56\u53BF",652830:"\u5176\u5B83\u533A",652900:"\u963F\u514B\u82CF\u5730\u533A",652901:"\u963F\u514B\u82CF\u5E02",652922:"\u6E29\u5BBF\u53BF",652923:"\u5E93\u8F66\u53BF",652924:"\u6C99\u96C5\u53BF",652925:"\u65B0\u548C\u53BF",652926:"\u62DC\u57CE\u53BF",652927:"\u4E4C\u4EC0\u53BF",652928:"\u963F\u74E6\u63D0\u53BF",652929:"\u67EF\u576A\u53BF",652930:"\u5176\u5B83\u533A",653e3:"\u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE",653001:"\u963F\u56FE\u4EC0\u5E02",653022:"\u963F\u514B\u9676\u53BF",653023:"\u963F\u5408\u5947\u53BF",653024:"\u4E4C\u6070\u53BF",653025:"\u5176\u5B83\u533A",653100:"\u5580\u4EC0\u5730\u533A",653101:"\u5580\u4EC0\u5E02",653121:"\u758F\u9644\u53BF",653122:"\u758F\u52D2\u53BF",653123:"\u82F1\u5409\u6C99\u53BF",653124:"\u6CFD\u666E\u53BF",653125:"\u838E\u8F66\u53BF",653126:"\u53F6\u57CE\u53BF",653127:"\u9EA6\u76D6\u63D0\u53BF",653128:"\u5CB3\u666E\u6E56\u53BF",653129:"\u4F3D\u5E08\u53BF",653130:"\u5DF4\u695A\u53BF",653131:"\u5854\u4EC0\u5E93\u5C14\u5E72\u5854\u5409\u514B\u81EA\u6CBB\u53BF",653132:"\u5176\u5B83\u533A",653200:"\u548C\u7530\u5730\u533A",653201:"\u548C\u7530\u5E02",653221:"\u548C\u7530\u53BF",653222:"\u58A8\u7389\u53BF",653223:"\u76AE\u5C71\u53BF",653224:"\u6D1B\u6D66\u53BF",653225:"\u7B56\u52D2\u53BF",653226:"\u4E8E\u7530\u53BF",653227:"\u6C11\u4E30\u53BF",653228:"\u5176\u5B83\u533A",654e3:"\u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE",654002:"\u4F0A\u5B81\u5E02",654003:"\u594E\u5C6F\u5E02",654021:"\u4F0A\u5B81\u53BF",654022:"\u5BDF\u5E03\u67E5\u5C14\u9521\u4F2F\u81EA\u6CBB\u53BF",654023:"\u970D\u57CE\u53BF",654024:"\u5DE9\u7559\u53BF",654025:"\u65B0\u6E90\u53BF",654026:"\u662D\u82CF\u53BF",654027:"\u7279\u514B\u65AF\u53BF",654028:"\u5C3C\u52D2\u514B\u53BF",654029:"\u5176\u5B83\u533A",654200:"\u5854\u57CE\u5730\u533A",654201:"\u5854\u57CE\u5E02",654202:"\u4E4C\u82CF\u5E02",654221:"\u989D\u654F\u53BF",654223:"\u6C99\u6E7E\u53BF",654224:"\u6258\u91CC\u53BF",654225:"\u88D5\u6C11\u53BF",654226:"\u548C\u5E03\u514B\u8D5B\u5C14\u8499\u53E4\u81EA\u6CBB\u53BF",654227:"\u5176\u5B83\u533A",654300:"\u963F\u52D2\u6CF0\u5730\u533A",654301:"\u963F\u52D2\u6CF0\u5E02",654321:"\u5E03\u5C14\u6D25\u53BF",654322:"\u5BCC\u8574\u53BF",654323:"\u798F\u6D77\u53BF",654324:"\u54C8\u5DF4\u6CB3\u53BF",654325:"\u9752\u6CB3\u53BF",654326:"\u5409\u6728\u4E43\u53BF",654327:"\u5176\u5B83\u533A",659001:"\u77F3\u6CB3\u5B50\u5E02",659002:"\u963F\u62C9\u5C14\u5E02",659003:"\u56FE\u6728\u8212\u514B\u5E02",659004:"\u4E94\u5BB6\u6E20\u5E02",71e4:"\u53F0\u6E7E",710100:"\u53F0\u5317\u5E02",710101:"\u4E2D\u6B63\u533A",710102:"\u5927\u540C\u533A",710103:"\u4E2D\u5C71\u533A",710104:"\u677E\u5C71\u533A",710105:"\u5927\u5B89\u533A",710106:"\u4E07\u534E\u533A",710107:"\u4FE1\u4E49\u533A",710108:"\u58EB\u6797\u533A",710109:"\u5317\u6295\u533A",710110:"\u5185\u6E56\u533A",710111:"\u5357\u6E2F\u533A",710112:"\u6587\u5C71\u533A",710113:"\u5176\u5B83\u533A",710200:"\u9AD8\u96C4\u5E02",710201:"\u65B0\u5174\u533A",710202:"\u524D\u91D1\u533A",710203:"\u82A9\u96C5\u533A",710204:"\u76D0\u57D5\u533A",710205:"\u9F13\u5C71\u533A",710206:"\u65D7\u6D25\u533A",710207:"\u524D\u9547\u533A",710208:"\u4E09\u6C11\u533A",710209:"\u5DE6\u8425\u533A",710210:"\u6960\u6893\u533A",710211:"\u5C0F\u6E2F\u533A",710212:"\u5176\u5B83\u533A",710241:"\u82D3\u96C5\u533A",710242:"\u4EC1\u6B66\u533A",710243:"\u5927\u793E\u533A",710244:"\u5188\u5C71\u533A",710245:"\u8DEF\u7AF9\u533A",710246:"\u963F\u83B2\u533A",710247:"\u7530\u5BEE\u533A",710248:"\u71D5\u5DE2\u533A",710249:"\u6865\u5934\u533A",710250:"\u6893\u5B98\u533A",710251:"\u5F25\u9640\u533A",710252:"\u6C38\u5B89\u533A",710253:"\u6E56\u5185\u533A",710254:"\u51E4\u5C71\u533A",710255:"\u5927\u5BEE\u533A",710256:"\u6797\u56ED\u533A",710257:"\u9E1F\u677E\u533A",710258:"\u5927\u6811\u533A",710259:"\u65D7\u5C71\u533A",710260:"\u7F8E\u6D53\u533A",710261:"\u516D\u9F9F\u533A",710262:"\u5185\u95E8\u533A",710263:"\u6749\u6797\u533A",710264:"\u7532\u4ED9\u533A",710265:"\u6843\u6E90\u533A",710266:"\u90A3\u739B\u590F\u533A",710267:"\u8302\u6797\u533A",710268:"\u8304\u8423\u533A",710300:"\u53F0\u5357\u5E02",710301:"\u4E2D\u897F\u533A",710302:"\u4E1C\u533A",710303:"\u5357\u533A",710304:"\u5317\u533A",710305:"\u5B89\u5E73\u533A",710306:"\u5B89\u5357\u533A",710307:"\u5176\u5B83\u533A",710339:"\u6C38\u5EB7\u533A",710340:"\u5F52\u4EC1\u533A",710341:"\u65B0\u5316\u533A",710342:"\u5DE6\u9547\u533A",710343:"\u7389\u4E95\u533A",710344:"\u6960\u897F\u533A",710345:"\u5357\u5316\u533A",710346:"\u4EC1\u5FB7\u533A",710347:"\u5173\u5E99\u533A",710348:"\u9F99\u5D0E\u533A",710349:"\u5B98\u7530\u533A",710350:"\u9EBB\u8C46\u533A",710351:"\u4F73\u91CC\u533A",710352:"\u897F\u6E2F\u533A",710353:"\u4E03\u80A1\u533A",710354:"\u5C06\u519B\u533A",710355:"\u5B66\u7532\u533A",710356:"\u5317\u95E8\u533A",710357:"\u65B0\u8425\u533A",710358:"\u540E\u58C1\u533A",710359:"\u767D\u6CB3\u533A",710360:"\u4E1C\u5C71\u533A",710361:"\u516D\u7532\u533A",710362:"\u4E0B\u8425\u533A",710363:"\u67F3\u8425\u533A",710364:"\u76D0\u6C34\u533A",710365:"\u5584\u5316\u533A",710366:"\u5927\u5185\u533A",710367:"\u5C71\u4E0A\u533A",710368:"\u65B0\u5E02\u533A",710369:"\u5B89\u5B9A\u533A",710400:"\u53F0\u4E2D\u5E02",710401:"\u4E2D\u533A",710402:"\u4E1C\u533A",710403:"\u5357\u533A",710404:"\u897F\u533A",710405:"\u5317\u533A",710406:"\u5317\u5C6F\u533A",710407:"\u897F\u5C6F\u533A",710408:"\u5357\u5C6F\u533A",710409:"\u5176\u5B83\u533A",710431:"\u592A\u5E73\u533A",710432:"\u5927\u91CC\u533A",710433:"\u96FE\u5CF0\u533A",710434:"\u4E4C\u65E5\u533A",710435:"\u4E30\u539F\u533A",710436:"\u540E\u91CC\u533A",710437:"\u77F3\u5188\u533A",710438:"\u4E1C\u52BF\u533A",710439:"\u548C\u5E73\u533A",710440:"\u65B0\u793E\u533A",710441:"\u6F6D\u5B50\u533A",710442:"\u5927\u96C5\u533A",710443:"\u795E\u5188\u533A",710444:"\u5927\u809A\u533A",710445:"\u6C99\u9E7F\u533A",710446:"\u9F99\u4E95\u533A",710447:"\u68A7\u6816\u533A",710448:"\u6E05\u6C34\u533A",710449:"\u5927\u7532\u533A",710450:"\u5916\u57D4\u533A",710451:"\u5927\u5B89\u533A",710500:"\u91D1\u95E8\u53BF",710507:"\u91D1\u6C99\u9547",710508:"\u91D1\u6E56\u9547",710509:"\u91D1\u5B81\u4E61",710510:"\u91D1\u57CE\u9547",710511:"\u70C8\u5C7F\u4E61",710512:"\u4E4C\u5775\u4E61",710600:"\u5357\u6295\u53BF",710614:"\u5357\u6295\u5E02",710615:"\u4E2D\u5BEE\u4E61",710616:"\u8349\u5C6F\u9547",710617:"\u56FD\u59D3\u4E61",710618:"\u57D4\u91CC\u9547",710619:"\u4EC1\u7231\u4E61",710620:"\u540D\u95F4\u4E61",710621:"\u96C6\u96C6\u9547",710622:"\u6C34\u91CC\u4E61",710623:"\u9C7C\u6C60\u4E61",710624:"\u4FE1\u4E49\u4E61",710625:"\u7AF9\u5C71\u9547",710626:"\u9E7F\u8C37\u4E61",710700:"\u57FA\u9686\u5E02",710701:"\u4EC1\u7231\u533A",710702:"\u4FE1\u4E49\u533A",710703:"\u4E2D\u6B63\u533A",710704:"\u4E2D\u5C71\u533A",710705:"\u5B89\u4E50\u533A",710706:"\u6696\u6696\u533A",710707:"\u4E03\u5835\u533A",710708:"\u5176\u5B83\u533A",710800:"\u65B0\u7AF9\u5E02",710801:"\u4E1C\u533A",710802:"\u5317\u533A",710803:"\u9999\u5C71\u533A",710804:"\u5176\u5B83\u533A",710900:"\u5609\u4E49\u5E02",710901:"\u4E1C\u533A",710902:"\u897F\u533A",710903:"\u5176\u5B83\u533A",711100:"\u65B0\u5317\u5E02",711130:"\u4E07\u91CC\u533A",711131:"\u91D1\u5C71\u533A",711132:"\u677F\u6865\u533A",711133:"\u6C50\u6B62\u533A",711134:"\u6DF1\u5751\u533A",711135:"\u77F3\u7887\u533A",711136:"\u745E\u82B3\u533A",711137:"\u5E73\u6EAA\u533A",711138:"\u53CC\u6EAA\u533A",711139:"\u8D21\u5BEE\u533A",711140:"\u65B0\u5E97\u533A",711141:"\u576A\u6797\u533A",711142:"\u4E4C\u6765\u533A",711143:"\u6C38\u548C\u533A",711144:"\u4E2D\u548C\u533A",711145:"\u571F\u57CE\u533A",711146:"\u4E09\u5CE1\u533A",711147:"\u6811\u6797\u533A",711148:"\u83BA\u6B4C\u533A",711149:"\u4E09\u91CD\u533A",711150:"\u65B0\u5E84\u533A",711151:"\u6CF0\u5C71\u533A",711152:"\u6797\u53E3\u533A",711153:"\u82A6\u6D32\u533A",711154:"\u4E94\u80A1\u533A",711155:"\u516B\u91CC\u533A",711156:"\u6DE1\u6C34\u533A",711157:"\u4E09\u829D\u533A",711158:"\u77F3\u95E8\u533A",711200:"\u5B9C\u5170\u53BF",711214:"\u5B9C\u5170\u5E02",711215:"\u5934\u57CE\u9547",711216:"\u7901\u6EAA\u4E61",711217:"\u58EE\u56F4\u4E61",711218:"\u5458\u5C71\u4E61",711219:"\u7F57\u4E1C\u9547",711220:"\u4E09\u661F\u4E61",711221:"\u5927\u540C\u4E61",711222:"\u4E94\u7ED3\u4E61",711223:"\u51AC\u5C71\u4E61",711224:"\u82CF\u6FB3\u9547",711225:"\u5357\u6FB3\u4E61",711226:"\u9493\u9C7C\u53F0",711300:"\u65B0\u7AF9\u53BF",711314:"\u7AF9\u5317\u5E02",711315:"\u6E56\u53E3\u4E61",711316:"\u65B0\u4E30\u4E61",711317:"\u65B0\u57D4\u9547",711318:"\u5173\u897F\u9547",711319:"\u828E\u6797\u4E61",711320:"\u5B9D\u5C71\u4E61",711321:"\u7AF9\u4E1C\u9547",711322:"\u4E94\u5CF0\u4E61",711323:"\u6A2A\u5C71\u4E61",711324:"\u5C16\u77F3\u4E61",711325:"\u5317\u57D4\u4E61",711326:"\u5CE8\u7709\u4E61",711400:"\u6843\u56ED\u53BF",711414:"\u4E2D\u575C\u5E02",711415:"\u5E73\u9547\u5E02",711416:"\u9F99\u6F6D\u4E61",711417:"\u6768\u6885\u5E02",711418:"\u65B0\u5C4B\u4E61",711419:"\u89C2\u97F3\u4E61",711420:"\u6843\u56ED\u5E02",711421:"\u9F9F\u5C71\u4E61",711422:"\u516B\u5FB7\u5E02",711423:"\u5927\u6EAA\u9547",711424:"\u590D\u5174\u4E61",711425:"\u5927\u56ED\u4E61",711426:"\u82A6\u7AF9\u4E61",711500:"\u82D7\u6817\u53BF",711519:"\u7AF9\u5357\u9547",711520:"\u5934\u4EFD\u9547",711521:"\u4E09\u6E7E\u4E61",711522:"\u5357\u5E84\u4E61",711523:"\u72EE\u6F6D\u4E61",711524:"\u540E\u9F99\u9547",711525:"\u901A\u9704\u9547",711526:"\u82D1\u91CC\u9547",711527:"\u82D7\u6817\u5E02",711528:"\u9020\u6865\u4E61",711529:"\u5934\u5C4B\u4E61",711530:"\u516C\u9986\u4E61",711531:"\u5927\u6E56\u4E61",711532:"\u6CF0\u5B89\u4E61",711533:"\u94DC\u9523\u4E61",711534:"\u4E09\u4E49\u4E61",711535:"\u897F\u6E56\u4E61",711536:"\u5353\u5170\u9547",711700:"\u5F70\u5316\u53BF",711727:"\u5F70\u5316\u5E02",711728:"\u82AC\u56ED\u4E61",711729:"\u82B1\u575B\u4E61",711730:"\u79C0\u6C34\u4E61",711731:"\u9E7F\u6E2F\u9547",711732:"\u798F\u5174\u4E61",711733:"\u7EBF\u897F\u4E61",711734:"\u548C\u7F8E\u9547",711735:"\u4F38\u6E2F\u4E61",711736:"\u5458\u6797\u9547",711737:"\u793E\u5934\u4E61",711738:"\u6C38\u9756\u4E61",711739:"\u57D4\u5FC3\u4E61",711740:"\u6EAA\u6E56\u9547",711741:"\u5927\u6751\u4E61",711742:"\u57D4\u76D0\u4E61",711743:"\u7530\u4E2D\u9547",711744:"\u5317\u6597\u9547",711745:"\u7530\u5C3E\u4E61",711746:"\u57E4\u5934\u4E61",711747:"\u6EAA\u5DDE\u4E61",711748:"\u7AF9\u5858\u4E61",711749:"\u4E8C\u6797\u9547",711750:"\u5927\u57CE\u4E61",711751:"\u82B3\u82D1\u4E61",711752:"\u4E8C\u6C34\u4E61",711900:"\u5609\u4E49\u53BF",711919:"\u756A\u8DEF\u4E61",711920:"\u6885\u5C71\u4E61",711921:"\u7AF9\u5D0E\u4E61",711922:"\u963F\u91CC\u5C71\u4E61",711923:"\u4E2D\u57D4\u4E61",711924:"\u5927\u57D4\u4E61",711925:"\u6C34\u4E0A\u4E61",711926:"\u9E7F\u8349\u4E61",711927:"\u592A\u4FDD\u5E02",711928:"\u6734\u5B50\u5E02",711929:"\u4E1C\u77F3\u4E61",711930:"\u516D\u811A\u4E61",711931:"\u65B0\u6E2F\u4E61",711932:"\u6C11\u96C4\u4E61",711933:"\u5927\u6797\u9547",711934:"\u6EAA\u53E3\u4E61",711935:"\u4E49\u7AF9\u4E61",711936:"\u5E03\u888B\u9547",712100:"\u4E91\u6797\u53BF",712121:"\u6597\u5357\u9547",712122:"\u5927\u57E4\u4E61",712123:"\u864E\u5C3E\u9547",712124:"\u571F\u5E93\u9547",712125:"\u8912\u5FE0\u4E61",712126:"\u4E1C\u52BF\u4E61",712127:"\u53F0\u897F\u4E61",712128:"\u4ED1\u80CC\u4E61",712129:"\u9EA6\u5BEE\u4E61",712130:"\u6597\u516D\u5E02",712131:"\u6797\u5185\u4E61",712132:"\u53E4\u5751\u4E61",712133:"\u83BF\u6850\u4E61",712134:"\u897F\u87BA\u9547",712135:"\u4E8C\u4ED1\u4E61",712136:"\u5317\u6E2F\u9547",712137:"\u6C34\u6797\u4E61",712138:"\u53E3\u6E56\u4E61",712139:"\u56DB\u6E56\u4E61",712140:"\u5143\u957F\u4E61",712400:"\u5C4F\u4E1C\u53BF",712434:"\u5C4F\u4E1C\u5E02",712435:"\u4E09\u5730\u95E8\u4E61",712436:"\u96FE\u53F0\u4E61",712437:"\u739B\u5BB6\u4E61",712438:"\u4E5D\u5982\u4E61",712439:"\u91CC\u6E2F\u4E61",712440:"\u9AD8\u6811\u4E61",712441:"\u76D0\u57D4\u4E61",712442:"\u957F\u6CBB\u4E61",712443:"\u9E9F\u6D1B\u4E61",712444:"\u7AF9\u7530\u4E61",712445:"\u5185\u57D4\u4E61",712446:"\u4E07\u4E39\u4E61",712447:"\u6F6E\u5DDE\u9547",712448:"\u6CF0\u6B66\u4E61",712449:"\u6765\u4E49\u4E61",712450:"\u4E07\u5CE6\u4E61",712451:"\u5D01\u9876\u4E61",712452:"\u65B0\u57E4\u4E61",712453:"\u5357\u5DDE\u4E61",712454:"\u6797\u8FB9\u4E61",712455:"\u4E1C\u6E2F\u9547",712456:"\u7409\u7403\u4E61",712457:"\u4F73\u51AC\u4E61",712458:"\u65B0\u56ED\u4E61",712459:"\u678B\u5BEE\u4E61",712460:"\u678B\u5C71\u4E61",712461:"\u6625\u65E5\u4E61",712462:"\u72EE\u5B50\u4E61",712463:"\u8F66\u57CE\u4E61",712464:"\u7261\u4E39\u4E61",712465:"\u6052\u6625\u9547",712466:"\u6EE1\u5DDE\u4E61",712500:"\u53F0\u4E1C\u53BF",712517:"\u53F0\u4E1C\u5E02",712518:"\u7EFF\u5C9B\u4E61",712519:"\u5170\u5C7F\u4E61",712520:"\u5EF6\u5E73\u4E61",712521:"\u5351\u5357\u4E61",712522:"\u9E7F\u91CE\u4E61",712523:"\u5173\u5C71\u9547",712524:"\u6D77\u7AEF\u4E61",712525:"\u6C60\u4E0A\u4E61",712526:"\u4E1C\u6CB3\u4E61",712527:"\u6210\u529F\u9547",712528:"\u957F\u6EE8\u4E61",712529:"\u91D1\u5CF0\u4E61",712530:"\u5927\u6B66\u4E61",712531:"\u8FBE\u4EC1\u4E61",712532:"\u592A\u9EBB\u91CC\u4E61",712600:"\u82B1\u83B2\u53BF",712615:"\u82B1\u83B2\u5E02",712616:"\u65B0\u57CE\u4E61",712617:"\u592A\u9C81\u9601",712618:"\u79C0\u6797\u4E61",712619:"\u5409\u5B89\u4E61",712620:"\u5BFF\u4E30\u4E61",712621:"\u51E4\u6797\u9547",712622:"\u5149\u590D\u4E61",712623:"\u4E30\u6EE8\u4E61",712624:"\u745E\u7A57\u4E61",712625:"\u4E07\u8363\u4E61",712626:"\u7389\u91CC\u9547",712627:"\u5353\u6EAA\u4E61",712628:"\u5BCC\u91CC\u4E61",712700:"\u6F8E\u6E56\u53BF",712707:"\u9A6C\u516C\u5E02",712708:"\u897F\u5C7F\u4E61",712709:"\u671B\u5B89\u4E61",712710:"\u4E03\u7F8E\u4E61",712711:"\u767D\u6C99\u4E61",712712:"\u6E56\u897F\u4E61",712800:"\u8FDE\u6C5F\u53BF",712805:"\u5357\u7AFF\u4E61",712806:"\u5317\u7AFF\u4E61",712807:"\u8392\u5149\u4E61",712808:"\u4E1C\u5F15\u4E61",81e4:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A",810100:"\u9999\u6E2F\u5C9B",810101:"\u4E2D\u897F\u533A",810102:"\u6E7E\u4ED4",810103:"\u4E1C\u533A",810104:"\u5357\u533A",810200:"\u4E5D\u9F99",810201:"\u4E5D\u9F99\u57CE\u533A",810202:"\u6CB9\u5C16\u65FA\u533A",810203:"\u6DF1\u6C34\u57D7\u533A",810204:"\u9EC4\u5927\u4ED9\u533A",810205:"\u89C2\u5858\u533A",810300:"\u65B0\u754C",810301:"\u5317\u533A",810302:"\u5927\u57D4\u533A",810303:"\u6C99\u7530\u533A",810304:"\u897F\u8D21\u533A",810305:"\u5143\u6717\u533A",810306:"\u5C6F\u95E8\u533A",810307:"\u8343\u6E7E\u533A",810308:"\u8475\u9752\u533A",810309:"\u79BB\u5C9B\u533A",82e4:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A",820100:"\u6FB3\u95E8\u534A\u5C9B",820200:"\u79BB\u5C9B",99e4:"\u6D77\u5916",990100:"\u6D77\u5916"};function tt(at){for(var ot={},it=0,st;it<at.length;it++)st=at[it],!(!st||!st.id)&&(ot[st.id]=st);for(var ut=[],ft=0;ft<at.length;ft++)if(st=at[ft],!!st){if(st.pid==null&&st.parentId==null){ut.push(st);continue}var dt=ot[st.pid]||ot[st.parentId];!dt||(dt.children||(dt.children=[]),dt.children.push(st))}return ut}var nt=function(){var at=[];for(var ot in et){var it=ot.slice(2,6)==="0000"?void 0:ot.slice(4,6)=="00"?ot.slice(0,2)+"0000":ot.slice(0,4)+"00";at.push({id:ot,pid:it,name:et[ot]})}return tt(at)}();$.exports=nt},function($,_e,et){var tt=et(18);$.exports={d4:function(){return this.natural(1,4)},d6:function(){return this.natural(1,6)},d8:function(){return this.natural(1,8)},d12:function(){return this.natural(1,12)},d20:function(){return this.natural(1,20)},d100:function(){return this.natural(1,100)},guid:function(){var nt="abcdefABCDEF1234567890",at=this.string(nt,8)+"-"+this.string(nt,4)+"-"+this.string(nt,4)+"-"+this.string(nt,4)+"-"+this.string(nt,12);return at},uuid:function(){return this.guid()},id:function(){var nt,at=0,ot=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],it=["1","0","X","9","8","7","6","5","4","3","2"];nt=this.pick(tt).id+this.date("yyyyMMdd")+this.string("number",3);for(var st=0;st<nt.length;st++)at+=nt[st]*ot[st];return nt+=it[at%11],nt},increment:function(){var nt=0;return function(at){return nt+=+at||1}}(),inc:function(nt){return this.increment(nt)}}},function($,_e,et){var tt=et(21),nt=et(22);$.exports={Parser:tt,Handler:nt}},function($,_e){function et(It){this.type=It,this.offset=et.offset(),this.text=et.text()}function tt(It,Ot){et.call(this,"alternate"),this.left=It,this.right=Ot}function nt(It){et.call(this,"match"),this.body=It.filter(Boolean)}function at(It,Ot){et.call(this,It),this.body=Ot}function ot(It){at.call(this,"capture-group"),this.index=$t[this.offset]||($t[this.offset]=Et++),this.body=It}function it(It,Ot){et.call(this,"quantified"),this.body=It,this.quantifier=Ot}function st(It,Ot){et.call(this,"quantifier"),this.min=It,this.max=Ot,this.greedy=!0}function ut(It,Ot){et.call(this,"charset"),this.invert=It,this.body=Ot}function ft(It,Ot){et.call(this,"range"),this.start=It,this.end=Ot}function dt(It){et.call(this,"literal"),this.body=It,this.escaped=this.body!=this.text}function vt(It){et.call(this,"unicode"),this.code=It.toUpperCase()}function gt(It){et.call(this,"hex"),this.code=It.toUpperCase()}function yt(It){et.call(this,"octal"),this.code=It.toUpperCase()}function xt(It){et.call(this,"back-reference"),this.code=It.toUpperCase()}function Ct(It){et.call(this,"control-character"),this.code=It.toUpperCase()}var wt=function(){function It(Ft,zt){function Gt(){this.constructor=Ft}Gt.prototype=zt.prototype,Ft.prototype=new Gt}function Ot(Ft,zt,Gt,jt,Ut){function Kt(Zt,Qt){function rr(sr){function fr(yr){return yr.charCodeAt(0).toString(16).toUpperCase()}return sr.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(yr){return"\\x0"+fr(yr)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(yr){return"\\x"+fr(yr)}).replace(/[\u0180-\u0FFF]/g,function(yr){return"\\u0"+fr(yr)}).replace(/[\u1080-\uFFFF]/g,function(yr){return"\\u"+fr(yr)})}var nr,dr;switch(Zt.length){case 0:nr="end of input";break;case 1:nr=Zt[0];break;default:nr=Zt.slice(0,-1).join(", ")+" or "+Zt[Zt.length-1]}return dr=Qt?'"'+rr(Qt)+'"':"end of input","Expected "+nr+" but "+dr+" found."}this.expected=Ft,this.found=zt,this.offset=Gt,this.line=jt,this.column=Ut,this.name="SyntaxError",this.message=Kt(Ft,zt)}function Lt(Ft){function zt(){return Ft.substring(Do,Rr)}function Gt(){return Do}function jt(er){function vr(kn,_o,ns){var vu,Eu;for(vu=_o;ns>vu;vu++)Eu=Ft.charAt(vu),Eu===`
`?(kn.seenCR||kn.line++,kn.column=1,kn.seenCR=!1):Eu==="\r"||Eu==="\u2028"||Eu==="\u2029"?(kn.line++,kn.column=1,kn.seenCR=!0):(kn.column++,kn.seenCR=!1)}return su!==er&&(su>er&&(su=0,Fp={line:1,column:1,seenCR:!1}),vr(Fp,su,er),su=er),Fp}function Ut(er){ap>Rr||(Rr>ap&&(ap=Rr,ip=[]),ip.push(er))}function Kt(er){var vr=0;for(er.sort();vr<er.length;)er[vr-1]===er[vr]?er.splice(vr,1):vr++}function Zt(){var er,vr,kn,_o,ns;return er=Rr,vr=Qt(),vr!==null?(kn=Rr,Ft.charCodeAt(Rr)===124?(_o=or,Rr++):(_o=null,io===0&&Ut(gr)),_o!==null?(ns=Zt(),ns!==null?(_o=[_o,ns],kn=_o):(Rr=kn,kn=ur)):(Rr=kn,kn=ur),kn===null&&(kn=tr),kn!==null?(Do=er,vr=Er(vr,kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function Qt(){var er,vr,kn,_o,ns;if(er=Rr,vr=nr(),vr===null&&(vr=tr),vr!==null)if(kn=Rr,io++,_o=fr(),io--,_o===null?kn=tr:(Rr=kn,kn=ur),kn!==null){for(_o=[],ns=sr(),ns===null&&(ns=rr());ns!==null;)_o.push(ns),ns=sr(),ns===null&&(ns=rr());_o!==null?(ns=dr(),ns===null&&(ns=tr),ns!==null?(Do=er,vr=zr(vr,_o,ns),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)}else Rr=er,er=ur;else Rr=er,er=ur;return er}function rr(){var er;return er=sn(),er===null&&(er=cn(),er===null&&(er=Fn())),er}function nr(){var er,vr;return er=Rr,Ft.charCodeAt(Rr)===94?(vr=Kr,Rr++):(vr=null,io===0&&Ut(Hr)),vr!==null&&(Do=er,vr=Or()),vr===null&&(Rr=er),er=vr,er}function dr(){var er,vr;return er=Rr,Ft.charCodeAt(Rr)===36?(vr=Zr,Rr++):(vr=null,io===0&&Ut(En)),vr!==null&&(Do=er,vr=Gn()),vr===null&&(Rr=er),er=vr,er}function sr(){var er,vr,kn;return er=Rr,vr=rr(),vr!==null?(kn=fr(),kn!==null?(Do=er,vr=Cn(vr,kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function fr(){var er,vr,kn;return io++,er=Rr,vr=yr(),vr!==null?(kn=Qr(),kn===null&&(kn=tr),kn!==null?(Do=er,vr=uo(vr,kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),io--,er===null&&(vr=null,io===0&&Ut(ga)),er}function yr(){var er;return er=Pr(),er===null&&(er=wr(),er===null&&(er=Mr(),er===null&&(er=Lr(),er===null&&(er=Br(),er===null&&(er=qr()))))),er}function Pr(){var er,vr,kn,_o,ns,vu;return er=Rr,Ft.charCodeAt(Rr)===123?(vr=_i,Rr++):(vr=null,io===0&&Ut(co)),vr!==null?(kn=Jr(),kn!==null?(Ft.charCodeAt(Rr)===44?(_o=Vn,Rr++):(_o=null,io===0&&Ut(qn)),_o!==null?(ns=Jr(),ns!==null?(Ft.charCodeAt(Rr)===125?(vu=oo,Rr++):(vu=null,io===0&&Ut(bo)),vu!==null?(Do=er,vr=Ur(kn,ns),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur),er}function wr(){var er,vr,kn,_o;return er=Rr,Ft.charCodeAt(Rr)===123?(vr=_i,Rr++):(vr=null,io===0&&Ut(co)),vr!==null?(kn=Jr(),kn!==null?(Ft.substr(Rr,2)===ss?(_o=ss,Rr+=2):(_o=null,io===0&&Ut(Ho)),_o!==null?(Do=er,vr=Xo(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur),er}function Mr(){var er,vr,kn,_o;return er=Rr,Ft.charCodeAt(Rr)===123?(vr=_i,Rr++):(vr=null,io===0&&Ut(co)),vr!==null?(kn=Jr(),kn!==null?(Ft.charCodeAt(Rr)===125?(_o=oo,Rr++):(_o=null,io===0&&Ut(bo)),_o!==null?(Do=er,vr=Ws(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur),er}function Lr(){var er,vr;return er=Rr,Ft.charCodeAt(Rr)===43?(vr=Cs,Rr++):(vr=null,io===0&&Ut(Al)),vr!==null&&(Do=er,vr=Ol()),vr===null&&(Rr=er),er=vr,er}function Br(){var er,vr;return er=Rr,Ft.charCodeAt(Rr)===42?(vr=ts,Rr++):(vr=null,io===0&&Ut(Nn)),vr!==null&&(Do=er,vr=fo()),vr===null&&(Rr=er),er=vr,er}function qr(){var er,vr;return er=Rr,Ft.charCodeAt(Rr)===63?(vr=Hn,Rr++):(vr=null,io===0&&Ut(ho)),vr!==null&&(Do=er,vr=Qo()),vr===null&&(Rr=er),er=vr,er}function Qr(){var er;return Ft.charCodeAt(Rr)===63?(er=Hn,Rr++):(er=null,io===0&&Ut(ho)),er}function Jr(){var er,vr,kn;if(er=Rr,vr=[],po.test(Ft.charAt(Rr))?(kn=Ft.charAt(Rr),Rr++):(kn=null,io===0&&Ut(Jo)),kn!==null)for(;kn!==null;)vr.push(kn),po.test(Ft.charAt(Rr))?(kn=Ft.charAt(Rr),Rr++):(kn=null,io===0&&Ut(Jo));else vr=ur;return vr!==null&&(Do=er,vr=As(vr)),vr===null&&(Rr=er),er=vr,er}function sn(){var er,vr,kn,_o;return er=Rr,Ft.charCodeAt(Rr)===40?(vr=Ls,Rr++):(vr=null,io===0&&Ut(Ms)),vr!==null?(kn=ln(),kn===null&&(kn=Sn(),kn===null&&(kn=pn(),kn===null&&(kn=yn()))),kn!==null?(Ft.charCodeAt(Rr)===41?(_o=Ko,Rr++):(_o=null,io===0&&Ut(Nl)),_o!==null?(Do=er,vr=zs(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur),er}function yn(){var er,vr;return er=Rr,vr=Zt(),vr!==null&&(Do=er,vr=ru(vr)),vr===null&&(Rr=er),er=vr,er}function pn(){var er,vr,kn;return er=Rr,Ft.substr(Rr,2)===nu?(vr=nu,Rr+=2):(vr=null,io===0&&Ut(du)),vr!==null?(kn=Zt(),kn!==null?(Do=er,vr=xp(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function ln(){var er,vr,kn;return er=Rr,Ft.substr(Rr,2)===wo?(vr=wo,Rr+=2):(vr=null,io===0&&Ut($o)),vr!==null?(kn=Zt(),kn!==null?(Do=er,vr=ls(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function Sn(){var er,vr,kn;return er=Rr,Ft.substr(Rr,2)===Ks?(vr=Ks,Rr+=2):(vr=null,io===0&&Ut(js)),vr!==null?(kn=Zt(),kn!==null?(Do=er,vr=Is(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function cn(){var er,vr,kn,_o,ns;if(io++,er=Rr,Ft.charCodeAt(Rr)===91?(vr=au,Rr++):(vr=null,io===0&&Ut(gs)),vr!==null)if(Ft.charCodeAt(Rr)===94?(kn=Kr,Rr++):(kn=null,io===0&&Ut(Hr)),kn===null&&(kn=tr),kn!==null){for(_o=[],ns=Pn(),ns===null&&(ns=In());ns!==null;)_o.push(ns),ns=Pn(),ns===null&&(ns=In());_o!==null?(Ft.charCodeAt(Rr)===93?(ns=Fl,Rr++):(ns=null,io===0&&Ut(sv)),ns!==null?(Do=er,vr=Qu(kn,_o),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)}else Rr=er,er=ur;else Rr=er,er=ur;return io--,er===null&&(vr=null,io===0&&Ut(wu)),er}function Pn(){var er,vr,kn,_o;return io++,er=Rr,vr=In(),vr!==null?(Ft.charCodeAt(Rr)===45?(kn=bp,Rr++):(kn=null,io===0&&Ut(Ju)),kn!==null?(_o=In(),_o!==null?(Do=er,vr=iu(vr,_o),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur)):(Rr=er,er=ur),io--,er===null&&(vr=null,io===0&&Ut(Ys)),er}function In(){var er;return io++,er=Mn(),er===null&&(er=Rn()),io--,er===null&&io===0&&Ut(hu),er}function Rn(){var er,vr;return er=Rr,Sp.test(Ft.charAt(Rr))?(vr=Ft.charAt(Rr),Rr++):(vr=null,io===0&&Ut(Bm)),vr!==null&&(Do=er,vr=_f(vr)),vr===null&&(Rr=er),er=vr,er}function Mn(){var er;return er=$n(),er===null&&(er=Oo(),er===null&&(er=zn(),er===null&&(er=so(),er===null&&(er=vo(),er===null&&(er=Eo(),er===null&&(er=To(),er===null&&(er=Io(),er===null&&(er=$a(),er===null&&(er=mo(),er===null&&(er=Po(),er===null&&(er=Ro(),er===null&&(er=Vo(),er===null&&(er=os(),er===null&&(er=hs(),er===null&&(er=Uo(),er===null&&(er=Zo(),er===null&&(er=Lo()))))))))))))))))),er}function Fn(){var er;return er=Xr(),er===null&&(er=vn(),er===null&&(er=wn())),er}function Xr(){var er,vr;return er=Rr,Ft.charCodeAt(Rr)===46?(vr=Ru,Rr++):(vr=null,io===0&&Ut(Vm)),vr!==null&&(Do=er,vr=Hv()),vr===null&&(Rr=er),er=vr,er}function wn(){var er,vr;return io++,er=Rr,ou.test(Ft.charAt(Rr))?(vr=Ft.charAt(Rr),Rr++):(vr=null,io===0&&Ut(Cu)),vr!==null&&(Do=er,vr=_f(vr)),vr===null&&(Rr=er),er=vr,io--,er===null&&(vr=null,io===0&&Ut(Du)),er}function vn(){var er;return er=Xn(),er===null&&(er=no(),er===null&&(er=Oo(),er===null&&(er=zn(),er===null&&(er=so(),er===null&&(er=vo(),er===null&&(er=Eo(),er===null&&(er=To(),er===null&&(er=Io(),er===null&&(er=$a(),er===null&&(er=mo(),er===null&&(er=Po(),er===null&&(er=Ro(),er===null&&(er=Vo(),er===null&&(er=Wo(),er===null&&(er=os(),er===null&&(er=hs(),er===null&&(er=Uo(),er===null&&(er=Zo(),er===null&&(er=Lo()))))))))))))))))))),er}function $n(){var er,vr;return er=Rr,Ft.substr(Rr,2)===zl?(vr=zl,Rr+=2):(vr=null,io===0&&Ut(wp)),vr!==null&&(Do=er,vr=Cp()),vr===null&&(Rr=er),er=vr,er}function Xn(){var er,vr;return er=Rr,Ft.substr(Rr,2)===zl?(vr=zl,Rr+=2):(vr=null,io===0&&Ut(wp)),vr!==null&&(Do=er,vr=Um()),vr===null&&(Rr=er),er=vr,er}function no(){var er,vr;return er=Rr,Ft.substr(Rr,2)===Wv?(vr=Wv,Rr+=2):(vr=null,io===0&&Ut(lv)),vr!==null&&(Do=er,vr=Kv()),vr===null&&(Rr=er),er=vr,er}function zn(){var er,vr;return er=Rr,Ft.substr(Rr,2)===Lu?(vr=Lu,Rr+=2):(vr=null,io===0&&Ut(jm)),vr!==null&&(Do=er,vr=Yv()),vr===null&&(Rr=er),er=vr,er}function so(){var er,vr;return er=Rr,Ft.substr(Rr,2)===qv?(vr=qv,Rr+=2):(vr=null,io===0&&Ut(uv)),vr!==null&&(Do=er,vr=Bl()),vr===null&&(Rr=er),er=vr,er}function vo(){var er,vr;return er=Rr,Ft.substr(Rr,2)===Tp?(vr=Tp,Rr+=2):(vr=null,io===0&&Ut(cv)),vr!==null&&(Do=er,vr=_d()),vr===null&&(Rr=er),er=vr,er}function Eo(){var er,vr;return er=Rr,Ft.substr(Rr,2)===Hl?(vr=Hl,Rr+=2):(vr=null,io===0&&Ut(Ep)),vr!==null&&(Do=er,vr=Ou()),vr===null&&(Rr=er),er=vr,er}function To(){var er,vr;return er=Rr,Ft.substr(Rr,2)===Tu?(vr=Tu,Rr+=2):(vr=null,io===0&&Ut(Ap)),vr!==null&&(Do=er,vr=rs()),vr===null&&(Rr=er),er=vr,er}function Io(){var er,vr;return er=Rr,Ft.substr(Rr,2)===fv?(vr=fv,Rr+=2):(vr=null,io===0&&Ut(dv)),vr!==null&&(Do=er,vr=Zv()),vr===null&&(Rr=er),er=vr,er}function $a(){var er,vr;return er=Rr,Ft.substr(Rr,2)===_h?(vr=_h,Rr+=2):(vr=null,io===0&&Ut(Pp)),vr!==null&&(Do=er,vr=$p()),vr===null&&(Rr=er),er=vr,er}function mo(){var er,vr;return er=Rr,Ft.substr(Rr,2)===ep?(vr=ep,Rr+=2):(vr=null,io===0&&Ut(Yo)),vr!==null&&(Do=er,vr=tp()),vr===null&&(Rr=er),er=vr,er}function Po(){var er,vr;return er=Rr,Ft.substr(Rr,2)===pu?(vr=pu,Rr+=2):(vr=null,io===0&&Ut(rp)),vr!==null&&(Do=er,vr=Xv()),vr===null&&(Rr=er),er=vr,er}function Ro(){var er,vr;return er=Rr,Ft.substr(Rr,2)===ku?(vr=ku,Rr+=2):(vr=null,io===0&&Ut(hv)),vr!==null&&(Do=er,vr=Gm()),vr===null&&(Rr=er),er=vr,er}function Vo(){var er,vr;return er=Rr,Ft.substr(Rr,2)===Qv?(vr=Qv,Rr+=2):(vr=null,io===0&&Ut(Mp)),vr!==null&&(Do=er,vr=pv()),vr===null&&(Rr=er),er=vr,er}function Oo(){var er,vr,kn;return er=Rr,Ft.substr(Rr,2)===np?(vr=np,Rr+=2):(vr=null,io===0&&Ut(Ip)),vr!==null?(Ft.length>Rr?(kn=Ft.charAt(Rr),Rr++):(kn=null,io===0&&Ut(Rp)),kn!==null?(Do=er,vr=Jv(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function Wo(){var er,vr,kn;return er=Rr,Ft.charCodeAt(Rr)===92?(vr=vv,Rr++):(vr=null,io===0&&Ut(Nu)),vr!==null?(Fu.test(Ft.charAt(Rr))?(kn=Ft.charAt(Rr),Rr++):(kn=null,io===0&&Ut(mv)),kn!==null?(Do=er,vr=Dp(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}function os(){var er,vr,kn,_o;if(er=Rr,Ft.substr(Rr,2)===zu?(vr=zu,Rr+=2):(vr=null,io===0&&Ut(Vl)),vr!==null){if(kn=[],Lp.test(Ft.charAt(Rr))?(_o=Ft.charAt(Rr),Rr++):(_o=null,io===0&&Ut(gv)),_o!==null)for(;_o!==null;)kn.push(_o),Lp.test(Ft.charAt(Rr))?(_o=Ft.charAt(Rr),Rr++):(_o=null,io===0&&Ut(gv));else kn=ur;kn!==null?(Do=er,vr=yv(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)}else Rr=er,er=ur;return er}function hs(){var er,vr,kn,_o;if(er=Rr,Ft.substr(Rr,2)===Op?(vr=Op,Rr+=2):(vr=null,io===0&&Ut(_v)),vr!==null){if(kn=[],kp.test(Ft.charAt(Rr))?(_o=Ft.charAt(Rr),Rr++):(_o=null,io===0&&Ut(Bu)),_o!==null)for(;_o!==null;)kn.push(_o),kp.test(Ft.charAt(Rr))?(_o=Ft.charAt(Rr),Rr++):(_o=null,io===0&&Ut(Bu));else kn=ur;kn!==null?(Do=er,vr=Hm(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)}else Rr=er,er=ur;return er}function Uo(){var er,vr,kn,_o;if(er=Rr,Ft.substr(Rr,2)===Vu?(vr=Vu,Rr+=2):(vr=null,io===0&&Ut(em)),vr!==null){if(kn=[],kp.test(Ft.charAt(Rr))?(_o=Ft.charAt(Rr),Rr++):(_o=null,io===0&&Ut(Bu)),_o!==null)for(;_o!==null;)kn.push(_o),kp.test(Ft.charAt(Rr))?(_o=Ft.charAt(Rr),Rr++):(_o=null,io===0&&Ut(Bu));else kn=ur;kn!==null?(Do=er,vr=Np(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)}else Rr=er,er=ur;return er}function Zo(){var er,vr;return er=Rr,Ft.substr(Rr,2)===zu?(vr=zu,Rr+=2):(vr=null,io===0&&Ut(Vl)),vr!==null&&(Do=er,vr=Wm()),vr===null&&(Rr=er),er=vr,er}function Lo(){var er,vr,kn;return er=Rr,Ft.charCodeAt(Rr)===92?(vr=vv,Rr++):(vr=null,io===0&&Ut(Nu)),vr!==null?(Ft.length>Rr?(kn=Ft.charAt(Rr),Rr++):(kn=null,io===0&&Ut(Rp)),kn!==null?(Do=er,vr=_f(kn),vr===null&&(Rr=er),er=vr):(Rr=er,er=ur)):(Rr=er,er=ur),er}var cs,ba=arguments.length>1?arguments[1]:{},lo={regexp:Zt},Bn=Zt,ur=null,tr="",or="|",gr='"|"',Er=function(er,vr){return vr?new tt(er,vr[1]):er},zr=function(er,vr,kn){return new nt([er].concat(vr).concat([kn]))},Kr="^",Hr='"^"',Or=function(){return new et("start")},Zr="$",En='"$"',Gn=function(){return new et("end")},Cn=function(er,vr){return new it(er,vr)},ga="Quantifier",uo=function(er,vr){return vr&&(er.greedy=!1),er},_i="{",co='"{"',Vn=",",qn='","',oo="}",bo='"}"',Ur=function(er,vr){return new st(er,vr)},ss=",}",Ho='",}"',Xo=function(er){return new st(er,1/0)},Ws=function(er){return new st(er,er)},Cs="+",Al='"+"',Ol=function(){return new st(1,1/0)},ts="*",Nn='"*"',fo=function(){return new st(0,1/0)},Hn="?",ho='"?"',Qo=function(){return new st(0,1)},po=/^[0-9]/,Jo="[0-9]",As=function(er){return+er.join("")},Ls="(",Ms='"("',Ko=")",Nl='")"',zs=function(er){return er},ru=function(er){return new ot(er)},nu="?:",du='"?:"',xp=function(er){return new at("non-capture-group",er)},wo="?=",$o='"?="',ls=function(er){return new at("positive-lookahead",er)},Ks="?!",js='"?!"',Is=function(er){return new at("negative-lookahead",er)},wu="CharacterSet",au="[",gs='"["',Fl="]",sv='"]"',Qu=function(er,vr){return new ut(!!er,vr)},Ys="CharacterRange",bp="-",Ju='"-"',iu=function(er,vr){return new ft(er,vr)},hu="Character",Sp=/^[^\\\]]/,Bm="[^\\\\\\]]",_f=function(er){return new dt(er)},Ru=".",Vm='"."',Hv=function(){return new et("any-character")},Du="Literal",ou=/^[^|\\\/.[()?+*$\^]/,Cu="[^|\\\\\\/.[()?+*$\\^]",zl="\\b",wp='"\\\\b"',Cp=function(){return new et("backspace")},Um=function(){return new et("word-boundary")},Wv="\\B",lv='"\\\\B"',Kv=function(){return new et("non-word-boundary")},Lu="\\d",jm='"\\\\d"',Yv=function(){return new et("digit")},qv="\\D",uv='"\\\\D"',Bl=function(){return new et("non-digit")},Tp="\\f",cv='"\\\\f"',_d=function(){return new et("form-feed")},Hl="\\n",Ep='"\\\\n"',Ou=function(){return new et("line-feed")},Tu="\\r",Ap='"\\\\r"',rs=function(){return new et("carriage-return")},fv="\\s",dv='"\\\\s"',Zv=function(){return new et("white-space")},_h="\\S",Pp='"\\\\S"',$p=function(){return new et("non-white-space")},ep="\\t",Yo='"\\\\t"',tp=function(){return new et("tab")},pu="\\v",rp='"\\\\v"',Xv=function(){return new et("vertical-tab")},ku="\\w",hv='"\\\\w"',Gm=function(){return new et("word")},Qv="\\W",Mp='"\\\\W"',pv=function(){return new et("non-word")},np="\\c",Ip='"\\\\c"',Rp="any character",Jv=function(er){return new Ct(er)},vv="\\",Nu='"\\\\"',Fu=/^[1-9]/,mv="[1-9]",Dp=function(er){return new xt(er)},zu="\\0",Vl='"\\\\0"',Lp=/^[0-7]/,gv="[0-7]",yv=function(er){return new yt(er.join(""))},Op="\\x",_v='"\\\\x"',kp=/^[0-9a-fA-F]/,Bu="[0-9a-fA-F]",Hm=function(er){return new gt(er.join(""))},Vu="\\u",em='"\\\\u"',Np=function(er){return new vt(er.join(""))},Wm=function(){return new et("null-character")},Rr=0,Do=0,su=0,Fp={line:1,column:1,seenCR:!1},ap=0,ip=[],io=0;if("startRule"in ba){if(!(ba.startRule in lo))throw new Error(`Can't start parsing from rule "`+ba.startRule+'".');Bn=lo[ba.startRule]}if(et.offset=Gt,et.text=zt,cs=Bn(),cs!==null&&Rr===Ft.length)return cs;throw Kt(ip),Do=Math.max(Rr,ap),new Ot(ip,Do<Ft.length?Ft.charAt(Do):null,Do,jt(Do).line,jt(Do).column)}return It(Ot,Error),{SyntaxError:Ot,parse:Lt}}(),Et=1,$t={};$.exports=wt},function($,_e,et){var tt=et(3),nt=et(5),at={extend:tt.extend},ot=gt(97,122),it=gt(65,90),st=gt(48,57),ut=gt(32,47)+gt(58,64)+gt(91,96)+gt(123,126),ft=gt(32,126),dt=` \f
\r	\v\xA0\u2028\u2029`,vt={"\\w":ot+it+st+"_","\\W":ut.replace("_",""),"\\s":dt,"\\S":function(){for(var yt=ft,xt=0;xt<dt.length;xt++)yt=yt.replace(dt[xt],"");return yt}(),"\\d":st,"\\D":ot+it+ut};function gt(yt,xt){for(var Ct="",wt=yt;wt<=xt;wt++)Ct+=String.fromCharCode(wt);return Ct}at.gen=function(yt,xt,Ct){return Ct=Ct||{guid:1},at[yt.type]?at[yt.type](yt,xt,Ct):at.token(yt,xt,Ct)},at.extend({token:function(yt,xt,Ct){switch(yt.type){case"start":case"end":return"";case"any-character":return nt.character();case"backspace":return"";case"word-boundary":return"";case"non-word-boundary":break;case"digit":return nt.pick(st.split(""));case"non-digit":return nt.pick((ot+it+ut).split(""));case"form-feed":break;case"line-feed":return yt.body||yt.text;case"carriage-return":break;case"white-space":return nt.pick(dt.split(""));case"non-white-space":return nt.pick((ot+it+st).split(""));case"tab":break;case"vertical-tab":break;case"word":return nt.pick((ot+it+st).split(""));case"non-word":return nt.pick(ut.replace("_","").split(""))}return yt.body||yt.text},alternate:function(yt,xt,Ct){return this.gen(nt.boolean()?yt.left:yt.right,xt,Ct)},match:function(yt,xt,Ct){xt="";for(var wt=0;wt<yt.body.length;wt++)xt+=this.gen(yt.body[wt],xt,Ct);return xt},"capture-group":function(yt,xt,Ct){return xt=this.gen(yt.body,xt,Ct),Ct[Ct.guid++]=xt,xt},"non-capture-group":function(yt,xt,Ct){return this.gen(yt.body,xt,Ct)},"positive-lookahead":function(yt,xt,Ct){return this.gen(yt.body,xt,Ct)},"negative-lookahead":function(yt,xt,Ct){return""},quantified:function(yt,xt,Ct){xt="";for(var wt=this.quantifier(yt.quantifier),Et=0;Et<wt;Et++)xt+=this.gen(yt.body,xt,Ct);return xt},quantifier:function(yt,xt,Ct){var wt=Math.max(yt.min,0),Et=isFinite(yt.max)?yt.max:wt+nt.integer(3,7);return nt.integer(wt,Et)},charset:function(yt,xt,Ct){if(yt.invert)return this["invert-charset"](yt,xt,Ct);var wt=nt.pick(yt.body);return this.gen(wt,xt,Ct)},"invert-charset":function(yt,xt,Ct){for(var wt=ft,Et=0,$t;Et<yt.body.length;Et++)switch($t=yt.body[Et],$t.type){case"literal":wt=wt.replace($t.body,"");break;case"range":for(var It=this.gen($t.start,xt,Ct).charCodeAt(),Ot=this.gen($t.end,xt,Ct).charCodeAt(),Lt=It;Lt<=Ot;Lt++)wt=wt.replace(String.fromCharCode(Lt),"");default:var Ft=vt[$t.text];if(Ft)for(var zt=0;zt<=Ft.length;zt++)wt=wt.replace(Ft[zt],"")}return nt.pick(wt.split(""))},range:function(yt,xt,Ct){var wt=this.gen(yt.start,xt,Ct).charCodeAt(),Et=this.gen(yt.end,xt,Ct).charCodeAt();return String.fromCharCode(nt.integer(wt,Et))},literal:function(yt,xt,Ct){return yt.escaped?yt.body:yt.text},unicode:function(yt,xt,Ct){return String.fromCharCode(parseInt(yt.code,16))},hex:function(yt,xt,Ct){return String.fromCharCode(parseInt(yt.code,16))},octal:function(yt,xt,Ct){return String.fromCharCode(parseInt(yt.code,8))},"back-reference":function(yt,xt,Ct){return Ct[yt.code]||""},CONTROL_CHARACTER_MAP:function(){for(var yt="@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \\ ] ^ _".split(" "),xt=`\0       \x07 \b 	 
 \v \f \r              \x1B    `.split(" "),Ct={},wt=0;wt<yt.length;wt++)Ct[yt[wt]]=xt[wt];return Ct}(),"control-character":function(yt,xt,Ct){return this.CONTROL_CHARACTER_MAP[yt.code]}}),$.exports=at},function($,_e,et){$.exports=et(24)},function($,_e,et){var tt=et(2),nt=et(3),at=et(4);function ot(it,st,ut){ut=ut||[];var ft={name:typeof st=="string"?st.replace(tt.RE_KEY,"$1"):st,template:it,type:nt.type(it),rule:at.parse(st)};switch(ft.path=ut.slice(0),ft.path.push(st===void 0?"ROOT":ft.name),ft.type){case"array":ft.items=[],nt.each(it,function(dt,vt){ft.items.push(ot(dt,vt,ft.path))});break;case"object":ft.properties=[],nt.each(it,function(dt,vt){ft.properties.push(ot(dt,vt,ft.path))});break}return ft}$.exports=ot},function($,_e,et){$.exports=et(26)},function($,_e,et){var tt=et(2),nt=et(3),at=et(23);function ot(ut,ft){for(var dt=at(ut),vt=it.diff(dt,ft),gt=0;gt<vt.length;gt++);return vt}var it={diff:function(ft,dt,vt){var gt=[];return this.name(ft,dt,vt,gt)&&this.type(ft,dt,vt,gt)&&(this.value(ft,dt,vt,gt),this.properties(ft,dt,vt,gt),this.items(ft,dt,vt,gt)),gt},name:function(ut,ft,dt,vt){var gt=vt.length;return st.equal("name",ut.path,dt+"",ut.name+"",vt),vt.length===gt},type:function(ut,ft,dt,vt){var gt=vt.length;switch(ut.type){case"string":if(ut.template.match(tt.RE_PLACEHOLDER))return!0;break;case"array":if(ut.rule.parameters&&(ut.rule.min!==void 0&&ut.rule.max===void 0&&ut.rule.count===1||ut.rule.parameters[2]))return!0;break;case"function":return!0}return st.equal("type",ut.path,nt.type(ft),ut.type,vt),vt.length===gt},value:function(ut,ft,dt,vt){var gt=vt.length,yt=ut.rule,xt=ut.type;if(xt==="object"||xt==="array"||xt==="function")return!0;if(!yt.parameters){switch(xt){case"regexp":return st.match("value",ut.path,ft,ut.template,vt),vt.length===gt;case"string":if(ut.template.match(tt.RE_PLACEHOLDER))return vt.length===gt;break}return st.equal("value",ut.path,ft,ut.template,vt),vt.length===gt}var Ct;switch(xt){case"number":var wt=(ft+"").split(".");wt[0]=+wt[0],yt.min!==void 0&&yt.max!==void 0&&(st.greaterThanOrEqualTo("value",ut.path,wt[0],Math.min(yt.min,yt.max),vt),st.lessThanOrEqualTo("value",ut.path,wt[0],Math.max(yt.min,yt.max),vt)),yt.min!==void 0&&yt.max===void 0&&st.equal("value",ut.path,wt[0],yt.min,vt,"[value] "+dt),yt.decimal&&(yt.dmin!==void 0&&yt.dmax!==void 0&&(st.greaterThanOrEqualTo("value",ut.path,wt[1].length,yt.dmin,vt),st.lessThanOrEqualTo("value",ut.path,wt[1].length,yt.dmax,vt)),yt.dmin!==void 0&&yt.dmax===void 0&&st.equal("value",ut.path,wt[1].length,yt.dmin,vt));break;case"boolean":break;case"string":Ct=ft.match(new RegExp(ut.template,"g")),Ct=Ct?Ct.length:0,yt.min!==void 0&&yt.max!==void 0&&(st.greaterThanOrEqualTo("repeat count",ut.path,Ct,yt.min,vt),st.lessThanOrEqualTo("repeat count",ut.path,Ct,yt.max,vt)),yt.min!==void 0&&yt.max===void 0&&st.equal("repeat count",ut.path,Ct,yt.min,vt);break;case"regexp":Ct=ft.match(new RegExp(ut.template.source.replace(/^\^|\$$/g,""),"g")),Ct=Ct?Ct.length:0,yt.min!==void 0&&yt.max!==void 0&&(st.greaterThanOrEqualTo("repeat count",ut.path,Ct,yt.min,vt),st.lessThanOrEqualTo("repeat count",ut.path,Ct,yt.max,vt)),yt.min!==void 0&&yt.max===void 0&&st.equal("repeat count",ut.path,Ct,yt.min,vt);break}return vt.length===gt},properties:function(ut,ft,dt,vt){var gt=vt.length,yt=ut.rule,xt=nt.keys(ft);if(!!ut.properties){if(ut.rule.parameters?(yt.min!==void 0&&yt.max!==void 0&&(st.greaterThanOrEqualTo("properties length",ut.path,xt.length,Math.min(yt.min,yt.max),vt),st.lessThanOrEqualTo("properties length",ut.path,xt.length,Math.max(yt.min,yt.max),vt)),yt.min!==void 0&&yt.max===void 0&&yt.count!==1&&st.equal("properties length",ut.path,xt.length,yt.min,vt)):st.equal("properties length",ut.path,xt.length,ut.properties.length,vt),vt.length!==gt)return!1;for(var Ct=0;Ct<xt.length;Ct++)vt.push.apply(vt,this.diff(function(){var wt;return nt.each(ut.properties,function(Et){Et.name===xt[Ct]&&(wt=Et)}),wt||ut.properties[Ct]}(),ft[xt[Ct]],xt[Ct]));return vt.length===gt}},items:function(ut,ft,dt,vt){var gt=vt.length;if(!!ut.items){var yt=ut.rule;if(!ut.rule.parameters)st.equal("items length",ut.path,ft.length,ut.items.length,vt);else{if(yt.min!==void 0&&yt.max!==void 0&&(st.greaterThanOrEqualTo("items",ut.path,ft.length,Math.min(yt.min,yt.max)*ut.items.length,vt,"[{utype}] array is too short: {path} must have at least {expected} elements but instance has {actual} elements"),st.lessThanOrEqualTo("items",ut.path,ft.length,Math.max(yt.min,yt.max)*ut.items.length,vt,"[{utype}] array is too long: {path} must have at most {expected} elements but instance has {actual} elements")),yt.min!==void 0&&yt.max===void 0){if(yt.count===1)return vt.length===gt;st.equal("items length",ut.path,ft.length,yt.min*ut.items.length,vt)}if(yt.parameters[2])return vt.length===gt}if(vt.length!==gt)return!1;for(var xt=0;xt<ft.length;xt++)vt.push.apply(vt,this.diff(ut.items[xt%ut.items.length],ft[xt],xt%ut.items.length));return vt.length===gt}}},st={message:function(ut){return(ut.message||"[{utype}] Expect {path}'{ltype} {action} {expected}, but is {actual}").replace("{utype}",ut.type.toUpperCase()).replace("{ltype}",ut.type.toLowerCase()).replace("{path}",nt.isArray(ut.path)&&ut.path.join(".")||ut.path).replace("{action}",ut.action).replace("{expected}",ut.expected).replace("{actual}",ut.actual)},equal:function(ut,ft,dt,vt,gt,yt){if(dt===vt)return!0;switch(ut){case"type":if(vt==="regexp"&&dt==="string")return!0;break}var xt={path:ft,type:ut,actual:dt,expected:vt,action:"is equal to",message:yt};return xt.message=st.message(xt),gt.push(xt),!1},match:function(ut,ft,dt,vt,gt,yt){if(vt.test(dt))return!0;var xt={path:ft,type:ut,actual:dt,expected:vt,action:"matches",message:yt};return xt.message=st.message(xt),gt.push(xt),!1},notEqual:function(ut,ft,dt,vt,gt,yt){if(dt!==vt)return!0;var xt={path:ft,type:ut,actual:dt,expected:vt,action:"is not equal to",message:yt};return xt.message=st.message(xt),gt.push(xt),!1},greaterThan:function(ut,ft,dt,vt,gt,yt){if(dt>vt)return!0;var xt={path:ft,type:ut,actual:dt,expected:vt,action:"is greater than",message:yt};return xt.message=st.message(xt),gt.push(xt),!1},lessThan:function(ut,ft,dt,vt,gt,yt){if(dt<vt)return!0;var xt={path:ft,type:ut,actual:dt,expected:vt,action:"is less to",message:yt};return xt.message=st.message(xt),gt.push(xt),!1},greaterThanOrEqualTo:function(ut,ft,dt,vt,gt,yt){if(dt>=vt)return!0;var xt={path:ft,type:ut,actual:dt,expected:vt,action:"is greater than or equal to",message:yt};return xt.message=st.message(xt),gt.push(xt),!1},lessThanOrEqualTo:function(ut,ft,dt,vt,gt,yt){if(dt<=vt)return!0;var xt={path:ft,type:ut,actual:dt,expected:vt,action:"is less than or equal to",message:yt};return xt.message=st.message(xt),gt.push(xt),!1}};ot.Diff=it,ot.Assert=st,$.exports=ot},function($,_e,et){$.exports=et(28)},function($,_e,et){var tt=et(3);window._XMLHttpRequest=window.XMLHttpRequest,window._ActiveXObject=window.ActiveXObject;try{new window.Event("custom")}catch{window.Event=function(yt,xt,Ct,wt){var Et=document.createEvent("CustomEvent");return Et.initCustomEvent(yt,xt,Ct,wt),Et}}var nt={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},at="readystatechange loadstart progress abort error load timeout loadend".split(" "),ot="timeout withCredentials".split(" "),it="readyState responseURL status statusText responseType response responseText responseXML".split(" "),st={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function ut(){this.custom={events:{},requestHeaders:{},responseHeaders:{}}}ut._settings={timeout:"10-100"},ut.setup=function(gt){return tt.extend(ut._settings,gt),ut._settings},tt.extend(ut,nt),tt.extend(ut.prototype,nt),ut.prototype.mock=!0,ut.prototype.match=!1,tt.extend(ut.prototype,{open:function(gt,yt,xt,Ct,wt){var Et=this;tt.extend(this.custom,{method:gt,url:yt,async:typeof xt=="boolean"?xt:!0,username:Ct,password:wt,options:{url:yt,type:gt}}),this.custom.timeout=function(zt){if(typeof zt=="number")return zt;if(typeof zt=="string"&&!~zt.indexOf("-"))return parseInt(zt,10);if(typeof zt=="string"&&~zt.indexOf("-")){var Gt=zt.split("-"),jt=parseInt(Gt[0],10),Ut=parseInt(Gt[1],10);return Math.round(Math.random()*(Ut-jt))+jt}}(ut._settings.timeout);var $t=dt(this.custom.options);function It(zt){for(var Gt=0;Gt<it.length;Gt++)try{Et[it[Gt]]=Ot[it[Gt]]}catch{}Et.dispatchEvent(new Event(zt.type))}if(!$t){var Ot=ft();this.custom.xhr=Ot;for(var Lt=0;Lt<at.length;Lt++)Ot.addEventListener(at[Lt],It);Ct?Ot.open(gt,yt,xt,Ct,wt):Ot.open(gt,yt,xt);for(var Ft=0;Ft<ot.length;Ft++)try{Ot[ot[Ft]]=Et[ot[Ft]]}catch{}return}this.match=!0,this.custom.template=$t,this.readyState=ut.OPENED,this.dispatchEvent(new Event("readystatechange"))},setRequestHeader:function(gt,yt){if(!this.match){this.custom.xhr.setRequestHeader(gt,yt);return}var xt=this.custom.requestHeaders;xt[gt]?xt[gt]+=","+yt:xt[gt]=yt},timeout:0,withCredentials:!1,upload:{},send:function(yt){var xt=this;if(this.custom.options.body=yt,!this.match){this.custom.xhr.send(yt);return}this.setRequestHeader("X-Requested-With","MockXMLHttpRequest"),this.dispatchEvent(new Event("loadstart")),this.custom.async?setTimeout(Ct,this.custom.timeout):Ct();function Ct(){xt.readyState=ut.HEADERS_RECEIVED,xt.dispatchEvent(new Event("readystatechange")),xt.readyState=ut.LOADING,xt.dispatchEvent(new Event("readystatechange")),xt.status=200,xt.statusText=st[200],xt.response=xt.responseText=JSON.stringify(vt(xt.custom.template,xt.custom.options),null,4),xt.readyState=ut.DONE,xt.dispatchEvent(new Event("readystatechange")),xt.dispatchEvent(new Event("load")),xt.dispatchEvent(new Event("loadend"))}},abort:function(){if(!this.match){this.custom.xhr.abort();return}this.readyState=ut.UNSENT,this.dispatchEvent(new Event("abort",!1,!1,this)),this.dispatchEvent(new Event("error",!1,!1,this))}}),tt.extend(ut.prototype,{responseURL:"",status:ut.UNSENT,statusText:"",getResponseHeader:function(gt){return this.match?this.custom.responseHeaders[gt.toLowerCase()]:this.custom.xhr.getResponseHeader(gt)},getAllResponseHeaders:function(){if(!this.match)return this.custom.xhr.getAllResponseHeaders();var gt=this.custom.responseHeaders,yt="";for(var xt in gt)!gt.hasOwnProperty(xt)||(yt+=xt+": "+gt[xt]+`\r
`);return yt},overrideMimeType:function(){},responseType:"",response:null,responseText:"",responseXML:null}),tt.extend(ut.prototype,{addEventListener:function(yt,xt){var Ct=this.custom.events;Ct[yt]||(Ct[yt]=[]),Ct[yt].push(xt)},removeEventListener:function(yt,xt){for(var Ct=this.custom.events[yt]||[],wt=0;wt<Ct.length;wt++)Ct[wt]===xt&&Ct.splice(wt--,1)},dispatchEvent:function(yt){for(var xt=this.custom.events[yt.type]||[],Ct=0;Ct<xt.length;Ct++)xt[Ct].call(this,yt);var wt="on"+yt.type;this[wt]&&this[wt](yt)}});function ft(){var gt=function(){var Ct=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Et=location.href,$t=wt.exec(Et.toLowerCase())||[];return Ct.test($t[1])}();return window.ActiveXObject?!gt&&yt()||xt():yt();function yt(){try{return new window._XMLHttpRequest}catch{}}function xt(){try{return new window._ActiveXObject("Microsoft.XMLHTTP")}catch{}}}function dt(gt){for(var yt in ut.Mock._mocked){var xt=ut.Mock._mocked[yt];if((!xt.rurl||Ct(xt.rurl,gt.url))&&(!xt.rtype||Ct(xt.rtype,gt.type.toLowerCase())))return xt}function Ct(wt,Et){if(tt.type(wt)==="string")return wt===Et;if(tt.type(wt)==="regexp")return wt.test(Et)}}function vt(gt,yt){return tt.isFunction(gt.template)?gt.template(yt):ut.Mock.mock(gt.template)}$.exports=ut}])})})(mock$1);var Mock=mock$1.exports;Mock.setup({timeout:"200-3000"});var mock=Mock.mock;function createMockData($,_e=!1){return _e?{code:400,msg:$}:{code:200,data:$}}mock(/\/login/,$=>{const{username:_e,password:et}=JSON.parse($.body);return _e==="admin"&&et==="admin"?createMockData({token:"test-token"}):createMockData("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF",!0)});mock(/\/logout/,$=>createMockData({token:"test-token"}));mock(/\/userInfo/,$=>createMockData({name:"\u76F8\u89C1\u6068\u665A",gender:1,phone:"15133915511"}));var qs={parse:$=>{const _e=$.split("?")[1].split("&"),et={};return _e.forEach(tt=>{const nt=tt.split("=");et[nt[0]]=nt[1]}),et}};const devOverview={code:200,data:[{type:"powerhouse",descr:"\u914D\u7535\u623F",number:8},{type:"ttu",descr:"TTU",number:132},{type:"trench",descr:"\u7535\u7F06\u6C9F",number:3}]},powerHouse=[{id:1,descr:"\u6D77\u6DC0\u914D\u7535\u623F",pos:[116.282072,39.971879]},{id:2,descr:"\u4E1C\u57CE\u533A\u914D\u7535\u623F",pos:[116.453218,39.886665]},{id:3,descr:"\u660C\u5E73\u914D\u7535\u623F",pos:[116.269976,40.289061]},{id:4,descr:"\u623F\u5C71\u914D\u7535\u623F",pos:[116.090074,39.718914]},{id:5,descr:"\u987A\u4E49\u914D\u7535\u623F",pos:[116.701189,40.072924]},{id:6,descr:"\u5BC6\u4E91\u914D\u7535\u623F",pos:[116.701189,40.072924]},{id:7,descr:"\u95E8\u5934\u6C9F\u914D\u7535\u623F",pos:[115.901934,39.881396]},{id:8,descr:"\u671D\u9633\u914D\u7535\u623F",pos:[116.478716,39.988802]}],devInfo=$=>{switch(qs.parse($.url).type){case"powerhouse":return createMockData(powerHouse);default:return createMockData(powerHouse)}};mock(/\/device\/overview/,devOverview);mock(/\/device\/info.*/,devInfo);client.createRoot(document.getElementById("root")).render(jsx(Provider,{store,children:jsx(BrowserRouter,{children:jsx(App,{})})}));
